{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ImportService when importing old-style list of muted users when no accounts are muted mutes the listed accounts, including notifications","source_location":"spec/services/import_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib","type":"package","children":[{"name":"paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"assign_attributes","type":"function","location":"lib/paperclip/attachment_extensions.rb:54","static":false},{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false},{"name":"storage_schema_version","type":"function","location":"lib/paperclip/attachment_extensions.rb:50","static":false}]},{"name":"MediaTypeSpoofDetectorExtensions","type":"class","children":[{"name":"calculated_content_type","type":"function","location":"lib/paperclip/media_type_spoof_detector_extensions.rb:7","static":false}]}]}]},{"name":"terrapin","type":"package","children":[{"name":"Terrapin","type":"class","children":[{"name":"MultiPipeExtensions","type":"class","children":[{"name":"pipe_options","type":"function","location":"lib/terrapin/multi_pipe_extensions.rb:14","static":false},{"name":"read","type":"function","location":"lib/terrapin/multi_pipe_extensions.rb:19","static":false}]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"workers","type":"package","children":[{"name":"import","type":"package","children":[{"name":"Import","type":"class","children":[{"name":"RelationshipWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/import/relationship_worker.rb:11","static":false},{"name":"domain","type":"function","location":"app/workers/import/relationship_worker.rb:41","static":false},{"name":"stoplight_wrap_request","type":"function","location":"app/workers/import/relationship_worker.rb:46","static":false}]}]}]},{"name":"BlockWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/block_worker.rb:6","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"local_domain?","type":"function","location":"app/lib/tag_manager.rb:13","static":false},{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"PotentialFriendshipTracker","type":"class","children":[{"name":"remove","type":"function","location":"app/lib/potential_friendship_tracker.rb:27","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"clear_from_home","type":"function","location":"app/lib/feed_manager.rb:208","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false},{"name":"clear_from_lists","type":"function","location":"app/lib/feed_manager.rb:248","static":false}]},{"name":"DeliveryFailureTracker","type":"class","children":[{"name":"available?","type":"function","location":"app/lib/delivery_failure_tracker.rb:52","static":true},{"name":"available?","type":"function","location":"app/lib/delivery_failure_tracker.rb:30","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DomainControlHelper","type":"class","children":[{"name":"domain_not_allowed?","type":"function","location":"app/helpers/domain_control_helper.rb:4","static":false},{"name":"limited_federation_mode?","type":"function","location":"app/helpers/domain_control_helper.rb:20","static":false}]}]},{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"AccountInteractions","type":"class","children":[{"name":"mute!","type":"function","location":"app/models/concerns/account_interactions.rb:151","static":false}]},{"name":"Mute","type":"class","children":[{"name":"expires_in=","type":"function","location":"app/models/concerns/expireable.rb:19","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"possibly_stale?","type":"function","location":"app/models/account.rb:211","static":false}]},{"name":"DomainBlock","type":"class","children":[{"name":"blocked?","type":"function","location":"app/models/domain_block.rb:49","static":true},{"name":"rule_for","type":"function","location":"app/models/domain_block.rb:67","static":true}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]}],"events":[{"id":2502855,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"assign_attributes","path":"lib/paperclip/attachment_extensions.rb","lineno":54,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12355960,"value":"/data/original/missing.png"}},{"id":2502856,"event":"return","thread_id":9160,"parent_id":2502855,"elapsed":0.0003732140175998211,"elapsed_instrumentation":0.00025283097056671977},{"id":2502857,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2502858,"event":"return","thread_id":9160,"parent_id":2502857,"elapsed":2.4370034225285053e-05,"elapsed_instrumentation":0.00031248299637809396,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2502859,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5838360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f980>"}},{"id":2502860,"event":"call","thread_id":9160,"defined_class":"Paperclip::MediaTypeSpoofDetectorExtensions","method_id":"calculated_content_type","path":"lib/paperclip/media_type_spoof_detector_extensions.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"Paperclip::MediaTypeSpoofDetector","object_id":12356040,"value":"#<Paperclip::MediaTypeSpoofDetector:0x00007fc8e14f2fe8>"}},{"id":2502861,"event":"call","thread_id":9160,"defined_class":"Terrapin::MultiPipeExtensions","method_id":"pipe_options","path":"lib/terrapin/multi_pipe_extensions.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Terrapin::CommandLine::MultiPipe","object_id":12356060,"value":"#<Terrapin::CommandLine::MultiPipe:0x00007fc8e14f2cc8>"}},{"id":2502862,"event":"return","thread_id":9160,"parent_id":2502861,"elapsed":1.1475000064820051e-05,"elapsed_instrumentation":0.0003389529883861542,"return_value":{"class":"Hash","value":"{:out=>#<IO:0x00007fc8e1d68f88>, :err=>#<IO:0x00007fc8e1d68f10>, #<IO:0x00007fc8e1d68fb0>=>:close, #<IO:0x00007fc8e1d68f38>=>:close}","object_id":12356120,"size":4}},{"id":2502863,"event":"call","thread_id":9160,"defined_class":"Terrapin::MultiPipeExtensions","method_id":"read","path":"lib/terrapin/multi_pipe_extensions.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Terrapin::CommandLine::MultiPipe","object_id":12356060,"value":"#<Terrapin::CommandLine::MultiPipe:0x00007fc8e14f2cc8>"}},{"id":2502864,"event":"return","thread_id":9160,"parent_id":2502863,"elapsed":0.010081769025418907,"elapsed_instrumentation":0.00034542096545919776},{"id":2502865,"event":"return","thread_id":9160,"parent_id":2502860,"elapsed":0.011758915963582695,"elapsed_instrumentation":0.00016571907326579094,"return_value":{"class":"String","value":"text/plain","object_id":12356140}},{"id":2502866,"event":"return","thread_id":9160,"parent_id":2502859,"elapsed":0.01320600596955046,"elapsed_instrumentation":0.00022846099454909563,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931916548 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931916700 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931916a20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931916c00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931916e58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931917240 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931917448 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5838500,"size":7}},{"id":2502867,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5838360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f980>"}},{"id":2502868,"event":"return","thread_id":9160,"parent_id":2502867,"elapsed":4.692003130912781e-06,"elapsed_instrumentation":0.00012131896801292896,"return_value":{"class":"Array","value":"[]","object_id":5838520,"size":0}},{"id":2502869,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2502870,"event":"return","thread_id":9160,"parent_id":2502869,"elapsed":3.3489777706563473e-06,"elapsed_instrumentation":0.0003080330207012594,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2502871,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5845240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93818a0c0>"}},{"id":2502872,"event":"return","thread_id":9160,"parent_id":2502871,"elapsed":0.00010391796240583062,"elapsed_instrumentation":0.000125132966786623,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93a0632a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5845260,"size":1}},{"id":2502873,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2502874,"event":"return","thread_id":9160,"parent_id":2502873,"elapsed":0.00079986,"elapsed_instrumentation":0.00015196303138509393},{"id":2502875,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"imports\" (\"type\", \"approved\", \"created_at\", \"updated_at\", \"data_file_name\", \"data_content_type\", \"data_file_size\", \"data_updated_at\", \"account_id\", \"overwrite\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING \"id\"","database_type":"postgres"}},{"id":2502876,"event":"return","thread_id":9160,"parent_id":2502875,"elapsed":0.002553265,"elapsed_instrumentation":8.958799298852682e-05},{"id":2502877,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5845240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93818a0c0>"}},{"id":2502878,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12355960,"value":"/system/imports/data/000/000/068/original/mute-imports.txt"}},{"id":2502879,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12355960,"value":"/system/imports/data/000/000/068/original/mute-imports.txt"}},{"id":2502880,"event":"return","thread_id":9160,"parent_id":2502879,"elapsed":1.3468030374497175e-05,"elapsed_instrumentation":0.0002469589817337692,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2502881,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12355960,"value":"/system/imports/data/000/000/068/original/mute-imports.txt"}},{"id":2502882,"event":"return","thread_id":9160,"parent_id":2502881,"elapsed":1.4354009181261063e-05,"elapsed_instrumentation":0.0003276150091551244,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2502883,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12355960,"value":"/system/imports/data/000/000/068/original/mute-imports.txt"}},{"id":2502884,"event":"return","thread_id":9160,"parent_id":2502883,"elapsed":2.471799962222576e-05,"elapsed_instrumentation":0.0006259719957597554,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2502885,"event":"return","thread_id":9160,"parent_id":2502878,"elapsed":0.018218560959212482,"elapsed_instrumentation":0.00038092100294306874,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2502886,"event":"return","thread_id":9160,"parent_id":2502877,"elapsed":0.018672359990887344,"elapsed_instrumentation":0.0003690500743687153,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93a0ae780 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5845280,"size":1}},{"id":2502887,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2502888,"event":"return","thread_id":9160,"parent_id":2502887,"elapsed":0.000825031,"elapsed_instrumentation":0.00017734098946675658},{"id":2502889,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5845340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9381866a0>"}},{"id":2502890,"event":"return","thread_id":9160,"parent_id":2502889,"elapsed":6.928050424903631e-06,"elapsed_instrumentation":0.00024411996128037572,"return_value":{"class":"Array","value":"[]","object_id":5845360,"size":0}},{"id":2502891,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5845340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9381866a0>"}},{"id":2502892,"event":"return","thread_id":9160,"parent_id":2502891,"elapsed":2.6928959414362907e-05,"elapsed_instrumentation":0.00046871602535247803,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93956efc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5845380,"size":1}},{"id":2502893,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12355960,"value":"/system/imports/data/000/000/068/original/mute-imports.txt"}},{"id":2502894,"event":"return","thread_id":9160,"parent_id":2502893,"elapsed":4.145503044128418e-05,"elapsed_instrumentation":0.0006448379717767239,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2502895,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12355960,"value":"/system/imports/data/000/000/068/original/mute-imports.txt"}},{"id":2502896,"event":"return","thread_id":9160,"parent_id":2502895,"elapsed":2.951000351458788e-05,"elapsed_instrumentation":0.0007253469666466117,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2502897,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12356220,"value":"_tC3_?\u0003__l_N"}},{"id":2502898,"event":"return","thread_id":9160,"parent_id":2502897,"elapsed":5.609996151179075e-06,"elapsed_instrumentation":0.00021732295863330364,"return_value":{"class":"String","value":"db744333d23f03d35f6ca74e","object_id":12356240}},{"id":2502899,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12356260,"value":"___De_K\u0015_g\u000f3"}},{"id":2502900,"event":"return","thread_id":9160,"parent_id":2502899,"elapsed":3.0879746191203594e-06,"elapsed_instrumentation":9.072100510820746e-05,"return_value":{"class":"String","value":"a4f2ea4465964b15d3670f33","object_id":12356280}},{"id":2502901,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":12356300,"value":"[111361421622520320, bob, mute, {notifications=>true}]","kind":"req","size":4}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12356320,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1d37938>"}},{"id":2502902,"event":"return","thread_id":9160,"parent_id":2502901,"elapsed":9.092967957258224e-06,"elapsed_instrumentation":0.00017117999959737062,"return_value":{"class":"String","value":"[111361421622520320,\"bob\",\"mute\",{\"notifications\":true}]","object_id":12356340}},{"id":2502903,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12356360,"value":"#<JSON::Ext::Parser:0x00007fc8e1d36420>"}},{"id":2502904,"event":"return","thread_id":9160,"parent_id":2502903,"elapsed":9.495997801423073e-06,"elapsed_instrumentation":0.00010232900967821479,"return_value":{"class":"Array","value":"[111361421622520320, bob, mute, {notifications=>true}]","object_id":12356380,"size":4}},{"id":2502905,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12356400,"value":"_8(_/J____\u0017_"}},{"id":2502906,"event":"return","thread_id":9160,"parent_id":2502905,"elapsed":3.2619573175907135e-06,"elapsed_instrumentation":9.383400902152061e-05,"return_value":{"class":"String","value":"c03828ac2f4a8786b68a17bf","object_id":12356420}},{"id":2502907,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":12356440,"value":"[111361421622520320, eve@example.com, mute, {notifications=>true}]","kind":"req","size":4}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12356460,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1d34350>"}},{"id":2502908,"event":"return","thread_id":9160,"parent_id":2502907,"elapsed":6.8480148911476135e-06,"elapsed_instrumentation":0.0001253369846381247,"return_value":{"class":"String","value":"[111361421622520320,\"eve@example.com\",\"mute\",{\"notifications\":true}]","object_id":12356480}},{"id":2502909,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12356500,"value":"#<JSON::Ext::Parser:0x00007fc8e1d33040>"}},{"id":2502910,"event":"return","thread_id":9160,"parent_id":2502909,"elapsed":7.058028131723404e-06,"elapsed_instrumentation":0.00024631997803226113,"return_value":{"class":"Array","value":"[111361421622520320, eve@example.com, mute, {notifications=>true}]","object_id":12356520,"size":4}},{"id":2502911,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12356540,"value":"___\u0013S\u0016>#3\u0002_C"}},{"id":2502912,"event":"return","thread_id":9160,"parent_id":2502911,"elapsed":4.2710453271865845e-06,"elapsed_instrumentation":0.0001398229505866766,"return_value":{"class":"String","value":"e2f6ef1353163e2333029643","object_id":12356560}},{"id":2502913,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":12356580,"value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111361421622520320, bob, mute, {notifications=>true}], jid=>a4f2ea4465964b15d3670f33, created_at=>1699240442.4979808, id=>e2f6ef1353163e2333029643}","kind":"req","size":8}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12356600,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1d4fe98>"}},{"id":2502914,"event":"return","thread_id":9160,"parent_id":2502913,"elapsed":1.4459015801548958e-05,"elapsed_instrumentation":0.0002399049699306488,"return_value":{"class":"String","value":"{\"retry\":8,\"queue\":\"pull\",\"dead\":false,\"class\":\"Import::RelationshipWorker\",\"args\":[1113614216225203 (...137 more characters)","object_id":12356620}},{"id":2502915,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12356640,"value":"#<JSON::Ext::Parser:0x00007fc8e1d4d8f0>"}},{"id":2502916,"event":"return","thread_id":9160,"parent_id":2502915,"elapsed":2.5520974304527044e-05,"elapsed_instrumentation":0.0002413520123809576,"return_value":{"class":"Hash","value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111361421622520320, bob, mute, {notifications=>true}], jid=>a4f2ea4465964b15d3670f33, created_at=>1699240442.4979808, id=>e2f6ef1353163e2333029643}","object_id":12356660,"size":8}},{"id":2502917,"event":"call","thread_id":9160,"defined_class":"Import::RelationshipWorker","method_id":"perform","path":"app/workers/import/relationship_worker.rb","lineno":11,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222722843245040641,"value":"111361421622520320","kind":"req"},{"name":"target_account_uri","class":"String","object_id":12356680,"value":"bob","kind":"req"},{"name":"relationship","class":"String","object_id":12356700,"value":"mute","kind":"req"},{"name":"options","class":"Hash","object_id":12356720,"value":"{notifications=>true}","kind":"req","size":1}],"receiver":{"class":"Import::RelationshipWorker","object_id":12356740,"value":"#<Import::RelationshipWorker:0x00007fc8e1d4b190>"}},{"id":2502918,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2502919,"event":"return","thread_id":9160,"parent_id":2502918,"elapsed":0.001344209,"elapsed_instrumentation":0.0003432630328461528},{"id":2502920,"event":"call","thread_id":9160,"defined_class":"Import::RelationshipWorker","method_id":"domain","path":"app/workers/import/relationship_worker.rb","lineno":41,"static":false,"parameters":[{"name":"uri","class":"String","object_id":12356680,"value":"bob","kind":"req"}],"receiver":{"class":"Import::RelationshipWorker","object_id":12356740,"value":"#<Import::RelationshipWorker:0x00007fc8e1d4b190>"}},{"id":2502921,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2502922,"event":"return","thread_id":9160,"parent_id":2502921,"elapsed":4.916975740343332e-06,"elapsed_instrumentation":0.00013288197806105018,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2502923,"event":"return","thread_id":9160,"parent_id":2502920,"elapsed":0.00017087598098441958,"elapsed_instrumentation":0.00015825906302779913},{"id":2502924,"event":"call","thread_id":9160,"defined_class":"Import::RelationshipWorker","method_id":"stoplight_wrap_request","path":"app/workers/import/relationship_worker.rb","lineno":46,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Import::RelationshipWorker","object_id":12356740,"value":"#<Import::RelationshipWorker:0x00007fc8e1d4b190>"}},{"id":2502925,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2502926,"event":"return","thread_id":9160,"parent_id":2502925,"elapsed":4.519009962677956e-06,"elapsed_instrumentation":0.00012029404751956463,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2502927,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ResolveAccountService","object_id":12356760,"value":"#<ResolveAccountService:0x00007fc8e152cc70>"}},{"id":2502928,"event":"return","thread_id":9160,"parent_id":2502927,"elapsed":7.406983058899641e-06,"elapsed_instrumentation":8.679600432515144e-05},{"id":2502929,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":12356780,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc8e1d42ef0>"}},{"id":2502930,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'bob' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2502931,"event":"return","thread_id":9160,"parent_id":2502930,"elapsed":0.001267015,"elapsed_instrumentation":0.00010745599865913391},{"id":2502932,"event":"return","thread_id":9160,"parent_id":2502929,"elapsed":0.005303576006554067,"elapsed_instrumentation":0.00012544600758701563,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21f3710>","object_id":12356800}},{"id":2502933,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12356800,"value":"#<Account:0x00007fc8e21f3710>"}},{"id":2502934,"event":"return","thread_id":9160,"parent_id":2502933,"elapsed":0.00021870603086426854,"elapsed_instrumentation":0.00012767495354637504,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2502935,"event":"return","thread_id":9160,"parent_id":2502924,"elapsed":0.0061397579847835,"elapsed_instrumentation":0.00020774698350578547,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21f3710>","object_id":12356800}},{"id":2502936,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"mute!","path":"app/models/concerns/account_interactions.rb","lineno":151,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":12356800,"value":"#<Account:0x00007fc8e21f3710>","kind":"req"},{"name":"notifications","class":"TrueClass","object_id":20,"value":"true","kind":"key"},{"name":"duration","class":"Integer","object_id":1,"value":"0","kind":"key"}],"receiver":{"class":"Account","object_id":12356820,"value":"#<Account:0x00007fc8e21f3850>"}},{"id":2502937,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"mutes\".* FROM \"mutes\" WHERE \"mutes\".\"account_id\" = $1 AND \"mutes\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2502938,"event":"return","thread_id":9160,"parent_id":2502937,"elapsed":0.000851464,"elapsed_instrumentation":0.00012954202247783542},{"id":2502939,"event":"call","thread_id":9160,"defined_class":"Mute","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Mute","object_id":12356840,"value":"#<Mute:0x00007fc8e21f3490>"}},{"id":2502940,"event":"return","thread_id":9160,"parent_id":2502939,"elapsed":3.729498712345958e-05,"elapsed_instrumentation":0.00016828998923301697},{"id":2502941,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2502942,"event":"return","thread_id":9160,"parent_id":2502941,"elapsed":2.827501157298684e-05,"elapsed_instrumentation":0.00018727901624515653,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2502943,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1315200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931936c80>"}},{"id":2502944,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2502945,"event":"return","thread_id":9160,"parent_id":2502944,"elapsed":0.000742225,"elapsed_instrumentation":0.00010663399007171392},{"id":2502946,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"mutes\" WHERE \"mutes\".\"account_id\" = $1 AND \"mutes\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2502947,"event":"return","thread_id":9160,"parent_id":2502946,"elapsed":0.001745662,"elapsed_instrumentation":8.958397665992379e-05},{"id":2502948,"event":"return","thread_id":9160,"parent_id":2502943,"elapsed":0.0032428849954158068,"elapsed_instrumentation":0.0003256860072724521,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc934133a58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934133c88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934133eb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934134138 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1315220,"size":4}},{"id":2502949,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1315200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931936c80>"}},{"id":2502950,"event":"return","thread_id":9160,"parent_id":2502949,"elapsed":4.626985173672438e-06,"elapsed_instrumentation":0.00011884805280715227,"return_value":{"class":"Array","value":"[]","object_id":1315240,"size":0}},{"id":2502951,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2502952,"event":"return","thread_id":9160,"parent_id":2502951,"elapsed":2.6609632186591625e-06,"elapsed_instrumentation":7.93539802543819e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2502953,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1315280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9319363c0>"}},{"id":2502954,"event":"return","thread_id":9160,"parent_id":2502953,"elapsed":0.0001761459861882031,"elapsed_instrumentation":0.00020603096345439553,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93418c108 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93418c248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1315300,"size":2}},{"id":2502955,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"mutes\" (\"created_at\", \"updated_at\", \"hide_notifications\", \"account_id\", \"target_account_id\", \"expires_at\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2502956,"event":"return","thread_id":9160,"parent_id":2502955,"elapsed":0.00143091,"elapsed_instrumentation":0.00010649795876815915},{"id":2502957,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1315280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9319363c0>"}},{"id":2502958,"event":"return","thread_id":9160,"parent_id":2502957,"elapsed":4.135014023631811e-06,"elapsed_instrumentation":0.00015637901378795505,"return_value":{"class":"Array","value":"[]","object_id":1315320,"size":0}},{"id":2502959,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2502960,"event":"return","thread_id":9160,"parent_id":2502959,"elapsed":0.000408378,"elapsed_instrumentation":9.885703912004828e-05},{"id":2502961,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1315360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931935790>"}},{"id":2502962,"event":"return","thread_id":9160,"parent_id":2502961,"elapsed":3.998982720077038e-06,"elapsed_instrumentation":0.00016108405543491244,"return_value":{"class":"Array","value":"[]","object_id":1315380,"size":0}},{"id":2502963,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12356920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1315360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931935790>"}},{"id":2502964,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12356940,"value":"Cache delete: exclude_account_ids_for:111361421622520320\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2502965,"event":"return","thread_id":9160,"parent_id":2502964,"elapsed":0.014692227996420115,"elapsed_instrumentation":0.00016646296717226505,"return_value":{"class":"Integer","value":"57","object_id":115}},{"id":2502966,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12356960,"value":"Cache delete: relationship:111361421622520320:111361421622520321\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2502967,"event":"return","thread_id":9160,"parent_id":2502966,"elapsed":0.000702361052390188,"elapsed_instrumentation":0.0003719659289345145,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2502968,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12356980,"value":"Cache delete: relationship:111361421622520321:111361421622520320\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2502969,"event":"return","thread_id":9160,"parent_id":2502968,"elapsed":0.0011373139568604529,"elapsed_instrumentation":0.00020085397409275174,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2502970,"event":"return","thread_id":9160,"parent_id":2502963,"elapsed":0.017844872956629843,"elapsed_instrumentation":0.00014082901179790497,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc934183af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934183850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1315460,"size":2}},{"id":2502971,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222722843245040641,"value":"111361421622520320","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222722843245040643,"value":"111361421622520321","kind":"req"}],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":2502972,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":2502973,"event":"return","thread_id":9160,"parent_id":2502972,"elapsed":6.374961230903864e-06,"elapsed_instrumentation":0.00022270996123552322,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2502974,"event":"return","thread_id":9160,"parent_id":2502971,"elapsed":0.000841500994283706,"elapsed_instrumentation":0.00015741202514618635},{"id":2502975,"event":"return","thread_id":9160,"parent_id":2502936,"elapsed":0.03336128802038729,"elapsed_instrumentation":0.00016780098667368293,"return_value":{"class":"Mute","value":"#<Mute:0x00007fc8e21f3490>","object_id":12356840}},{"id":2502976,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":12357000,"value":"{args=>[111361421622520320, 111361421622520321], class=>BlockWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":12357020,"value":"#<Sidekiq::Client:0x00007fc8e1d16670>"}},{"id":2502977,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12357040,"value":"\u0005__JU____(_a"}},{"id":2502978,"event":"return","thread_id":9160,"parent_id":2502977,"elapsed":4.6790228225290775e-06,"elapsed_instrumentation":0.00018992397235706449,"return_value":{"class":"String","value":"05fcd34a55d78ad8a428eb61","object_id":12357060}},{"id":2502979,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":12357080,"value":"[111361421622520320, 111361421622520321]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12357100,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1d14550>"}},{"id":2502980,"event":"return","thread_id":9160,"parent_id":2502979,"elapsed":9.558978490531445e-06,"elapsed_instrumentation":0.0001267679617740214,"return_value":{"class":"String","value":"[111361421622520320,111361421622520321]","object_id":12357120}},{"id":2502981,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12357140,"value":"#<JSON::Ext::Parser:0x00007fc8e1d13830>"}},{"id":2502982,"event":"return","thread_id":9160,"parent_id":2502981,"elapsed":6.359012331813574e-06,"elapsed_instrumentation":8.224701741710305e-05,"return_value":{"class":"Array","value":"[111361421622520320, 111361421622520321]","object_id":12357160,"size":2}},{"id":2502983,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12357180,"value":"_^_T_____J__"}},{"id":2502984,"event":"return","thread_id":9160,"parent_id":2502983,"elapsed":3.6669662222266197e-06,"elapsed_instrumentation":0.00025880406610667706,"return_value":{"class":"String","value":"9b5eb654a6acfefa9d4aa0be","object_id":12357200}},{"id":2502985,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":12357220,"value":"{retry=>true, queue=>default, args=>[111361421622520320, 111361421622520321], class=>BlockWorker, jid=>05fcd34a55d78ad8a428eb61, created_at=>1699240442.544652, id=>9b5eb654a6acfefa9d4aa0be}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12357240,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1d11ee0>"}},{"id":2502986,"event":"return","thread_id":9160,"parent_id":2502985,"elapsed":1.46450474858284e-05,"elapsed_instrumentation":0.0002237479784525931,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111361421622520320,111361421622520321],\"class\":\"BlockWorker\" (...97 more characters)","object_id":12357260}},{"id":2502987,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12357280,"value":"#<JSON::Ext::Parser:0x00007fc8e1d10068>"}},{"id":2502988,"event":"return","thread_id":9160,"parent_id":2502987,"elapsed":0.00020524801220744848,"elapsed_instrumentation":0.0003978919703513384,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111361421622520320, 111361421622520321], class=>BlockWorker, jid=>05fcd34a55d78ad8a428eb61, created_at=>1699240442.544652, id=>9b5eb654a6acfefa9d4aa0be}","object_id":12357300,"size":7}},{"id":2502989,"event":"call","thread_id":9160,"defined_class":"BlockWorker","method_id":"perform","path":"app/workers/block_worker.rb","lineno":6,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222722843245040641,"value":"111361421622520320","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222722843245040643,"value":"111361421622520321","kind":"req"}],"receiver":{"class":"BlockWorker","object_id":12357320,"value":"#<BlockWorker:0x00007fc8e1cce398>"}},{"id":2502990,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2502991,"event":"return","thread_id":9160,"parent_id":2502990,"elapsed":0.001038031,"elapsed_instrumentation":0.00012485397746786475},{"id":2502992,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2502993,"event":"return","thread_id":9160,"parent_id":2502992,"elapsed":0.000790134,"elapsed_instrumentation":0.00011295900912955403},{"id":2502994,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"clear_from_home","path":"app/lib/feed_manager.rb","lineno":208,"static":false,"parameters":[{"name":"account","class":"Account","object_id":12357340,"value":"#<Account:0x00007fc8e21f1b90>","kind":"req"},{"name":"target_account","class":"Account","object_id":12357360,"value":"#<Account:0x00007fc8e21f1a50>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2502995,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722843245040641,"value":"111361421622520320","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2502996,"event":"return","thread_id":9160,"parent_id":2502995,"elapsed":7.178983651101589e-06,"elapsed_instrumentation":0.000442440970800817,"return_value":{"class":"String","value":"feed:home:111361421622520320","object_id":12357380}},{"id":2502997,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2502998,"event":"return","thread_id":9160,"parent_id":2502997,"elapsed":5.74102159589529e-06,"elapsed_instrumentation":0.00010066299000754952,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2502999,"event":"return","thread_id":9160,"parent_id":2502994,"elapsed":0.004338461963925511,"elapsed_instrumentation":0.0002858680090866983,"return_value":{"class":"Array","value":"[]","object_id":12357400,"size":0}},{"id":2503000,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"clear_from_lists","path":"app/lib/feed_manager.rb","lineno":248,"static":false,"parameters":[{"name":"account","class":"Account","object_id":12357340,"value":"#<Account:0x00007fc8e21f1b90>","kind":"req"},{"name":"target_account","class":"Account","object_id":12357360,"value":"#<Account:0x00007fc8e21f1a50>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2503001,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"lists\".* FROM \"lists\" WHERE \"lists\".\"account_id\" = $1","database_type":"postgres"}},{"id":2503002,"event":"return","thread_id":9160,"parent_id":2503001,"elapsed":0.000912232,"elapsed_instrumentation":9.979697642847896e-05},{"id":2503003,"event":"return","thread_id":9160,"parent_id":2503000,"elapsed":0.002149100007954985,"elapsed_instrumentation":0.00019424897618591785,"return_value":{"class":"Array","value":"[]","object_id":12357420,"size":0}},{"id":2503004,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".\"id\" FROM \"notifications\" WHERE \"notifications\".\"account_id\" = $1 AND \"notifications\".\"from_account_id\" = $2 ORDER BY \"notifications\".\"id\" ASC LIMIT $3","database_type":"postgres"}},{"id":2503005,"event":"return","thread_id":9160,"parent_id":2503004,"elapsed":0.000867956,"elapsed_instrumentation":0.00010050099808722734},{"id":2503006,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_conversations\".\"id\" FROM \"account_conversations\" WHERE \"account_conversations\".\"account_id\" = $1 AND (111361421622520321 = ANY(participant_account_ids)) ORDER BY \"account_conversations\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2503007,"event":"return","thread_id":9160,"parent_id":2503006,"elapsed":0.00156246,"elapsed_instrumentation":0.00011551700299605727},{"id":2503008,"event":"return","thread_id":9160,"parent_id":2502989,"elapsed":0.020836801966652274,"elapsed_instrumentation":0.00014777801698073745},{"id":2503009,"event":"return","thread_id":9160,"parent_id":2502976,"elapsed":0.023383118968922645,"elapsed_instrumentation":0.00023301300825551152,"return_value":{"class":"String","value":"05fcd34a55d78ad8a428eb61","object_id":12357060}},{"id":2503010,"event":"return","thread_id":9160,"parent_id":2502917,"elapsed":0.06748222501482815,"elapsed_instrumentation":0.0002901569823734462,"return_value":{"class":"Mute","value":"#<Mute:0x00007fc8e21f3490>","object_id":12356840}},{"id":2503011,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12357440,"value":"_B(q________"}},{"id":2503012,"event":"return","thread_id":9160,"parent_id":2503011,"elapsed":0.00016374699771404266,"elapsed_instrumentation":0.00021611497504636645,"return_value":{"class":"String","value":"84422871e796e2fabfcfb5d8","object_id":12357460}},{"id":2503013,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":12357480,"value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111361421622520320, eve@example.com, mute, {notifications=>true}], jid=>c03828ac2f4a8786b68a17bf, created_at=>1699240442.4979808, id=>84422871e796e2fabfcfb5d8}","kind":"req","size":8}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12357500,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1cd6638>"}},{"id":2503014,"event":"return","thread_id":9160,"parent_id":2503013,"elapsed":1.7417012713849545e-05,"elapsed_instrumentation":0.0003892689710482955,"return_value":{"class":"String","value":"{\"retry\":8,\"queue\":\"pull\",\"dead\":false,\"class\":\"Import::RelationshipWorker\",\"args\":[1113614216225203 (...149 more characters)","object_id":12357520}},{"id":2503015,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12357540,"value":"#<JSON::Ext::Parser:0x00007fc8e1cd3fa0>"}},{"id":2503016,"event":"return","thread_id":9160,"parent_id":2503015,"elapsed":2.9101036489009857e-05,"elapsed_instrumentation":0.00023025792324915528,"return_value":{"class":"Hash","value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111361421622520320, eve@example.com, mute, {notifications=>true}], jid=>c03828ac2f4a8786b68a17bf, created_at=>1699240442.4979808, id=>84422871e796e2fabfcfb5d8}","object_id":12357560,"size":8}},{"id":2503017,"event":"call","thread_id":9160,"defined_class":"Import::RelationshipWorker","method_id":"perform","path":"app/workers/import/relationship_worker.rb","lineno":11,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222722843245040641,"value":"111361421622520320","kind":"req"},{"name":"target_account_uri","class":"String","object_id":12357580,"value":"eve@example.com","kind":"req"},{"name":"relationship","class":"String","object_id":12357600,"value":"mute","kind":"req"},{"name":"options","class":"Hash","object_id":12357620,"value":"{notifications=>true}","kind":"req","size":1}],"receiver":{"class":"Import::RelationshipWorker","object_id":12357640,"value":"#<Import::RelationshipWorker:0x00007fc8e1cd1b10>"}},{"id":2503018,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2503019,"event":"return","thread_id":9160,"parent_id":2503018,"elapsed":0.000916203,"elapsed_instrumentation":0.00024635897716507316},{"id":2503020,"event":"call","thread_id":9160,"defined_class":"Import::RelationshipWorker","method_id":"domain","path":"app/workers/import/relationship_worker.rb","lineno":41,"static":false,"parameters":[{"name":"uri","class":"String","object_id":12357580,"value":"eve@example.com","kind":"req"}],"receiver":{"class":"Import::RelationshipWorker","object_id":12357640,"value":"#<Import::RelationshipWorker:0x00007fc8e1cd1b10>"}},{"id":2503021,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":12357660,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2503022,"event":"return","thread_id":9160,"parent_id":2503021,"elapsed":2.276396844536066e-05,"elapsed_instrumentation":8.517300011590123e-05},{"id":2503023,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":12357660,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2503024,"event":"return","thread_id":9160,"parent_id":2503023,"elapsed":0.0001920789945870638,"elapsed_instrumentation":8.68840143084526e-05,"return_value":{"class":"String","value":"example.com","object_id":12357680}},{"id":2503025,"event":"return","thread_id":9160,"parent_id":2503020,"elapsed":0.00043269601883366704,"elapsed_instrumentation":0.0001394050195813179,"return_value":{"class":"String","value":"example.com","object_id":12357680}},{"id":2503026,"event":"call","thread_id":9160,"defined_class":"Import::RelationshipWorker","method_id":"stoplight_wrap_request","path":"app/workers/import/relationship_worker.rb","lineno":46,"static":false,"parameters":[{"name":"domain","class":"String","object_id":12357680,"value":"example.com","kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Import::RelationshipWorker","object_id":12357640,"value":"#<Import::RelationshipWorker:0x00007fc8e1cd1b10>"}},{"id":2503027,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":12357700,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2503028,"event":"return","thread_id":9160,"parent_id":2503027,"elapsed":1.546996645629406e-05,"elapsed_instrumentation":0.0001424879883415997},{"id":2503029,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":12357700,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2503030,"event":"return","thread_id":9160,"parent_id":2503029,"elapsed":0.0001885530073195696,"elapsed_instrumentation":9.707798017188907e-05,"return_value":{"class":"String","value":"example.com","object_id":12357720}},{"id":2503031,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"String","object_id":12357720,"value":"example.com","kind":"req"}],"receiver":{"class":"ResolveAccountService","object_id":12357740,"value":"#<ResolveAccountService:0x00007fc8e1523800>"}},{"id":2503032,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"ResolveAccountService","object_id":12357740,"value":"#<ResolveAccountService:0x00007fc8e1523800>"}},{"id":2503033,"event":"return","thread_id":9160,"parent_id":2503032,"elapsed":8.734001312404871e-06,"elapsed_instrumentation":4.803796764463186e-05},{"id":2503034,"event":"call","thread_id":9160,"defined_class":"DomainBlock","method_id":"blocked?","path":"app/models/domain_block.rb","lineno":49,"static":true,"parameters":[{"name":"domain","class":"String","object_id":12357720,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":52480,"value":"DomainBlock"}},{"id":2503035,"event":"call","thread_id":9160,"defined_class":"DomainBlock","method_id":"rule_for","path":"app/models/domain_block.rb","lineno":67,"static":true,"parameters":[{"name":"domain","class":"String","object_id":12357720,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":52480,"value":"DomainBlock"}},{"id":2503036,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"domain_blocks\".* FROM \"domain_blocks\" WHERE \"domain_blocks\".\"domain\" IN ($1, $2) ORDER BY char_length(domain) desc LIMIT $3","database_type":"postgres"}},{"id":2503037,"event":"return","thread_id":9160,"parent_id":2503036,"elapsed":0.001181004,"elapsed_instrumentation":0.00012900098226964474},{"id":2503038,"event":"return","thread_id":9160,"parent_id":2503035,"elapsed":0.002814267994835973,"elapsed_instrumentation":7.035402813926339e-05},{"id":2503039,"event":"return","thread_id":9160,"parent_id":2503034,"elapsed":0.002906781039200723,"elapsed_instrumentation":0.00010232097702100873},{"id":2503040,"event":"return","thread_id":9160,"parent_id":2503031,"elapsed":0.0031080549815669656,"elapsed_instrumentation":8.185097249224782e-05},{"id":2503041,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":12357760,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc8e1c90f20>"}},{"id":2503042,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'eve' AND LOWER(\"accounts\".\"domain\") = 'example.com' ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2503043,"event":"return","thread_id":9160,"parent_id":2503042,"elapsed":0.001282711,"elapsed_instrumentation":0.00011039001401513815},{"id":2503044,"event":"return","thread_id":9160,"parent_id":2503041,"elapsed":0.004265418043360114,"elapsed_instrumentation":0.00020828796550631523,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21f0510>","object_id":12357780}},{"id":2503045,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12357780,"value":"#<Account:0x00007fc8e21f0510>"}},{"id":2503046,"event":"return","thread_id":9160,"parent_id":2503045,"elapsed":2.5694025680422783e-05,"elapsed_instrumentation":9.186298120766878e-05},{"id":2503047,"event":"call","thread_id":9160,"defined_class":"DeliveryFailureTracker","method_id":"available?","path":"app/lib/delivery_failure_tracker.rb","lineno":52,"static":true,"parameters":[{"name":"url","class":"String","object_id":12357720,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":52940,"value":"DeliveryFailureTracker"}},{"id":2503048,"event":"call","thread_id":9160,"defined_class":"DeliveryFailureTracker","method_id":"available?","path":"app/lib/delivery_failure_tracker.rb","lineno":30,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":12357800,"value":"#<DeliveryFailureTracker:0x00007fc8e1caa240>"}},{"id":2503049,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"unavailable_domains\" WHERE \"unavailable_domains\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2503050,"event":"return","thread_id":9160,"parent_id":2503049,"elapsed":0.000872313,"elapsed_instrumentation":8.979800622910261e-05},{"id":2503051,"event":"return","thread_id":9160,"parent_id":2503048,"elapsed":0.0019064500229433179,"elapsed_instrumentation":8.045602589845657e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2503052,"event":"return","thread_id":9160,"parent_id":2503047,"elapsed":0.0020127409952692688,"elapsed_instrumentation":9.117403533309698e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2503053,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"possibly_stale?","path":"app/models/account.rb","lineno":211,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12357780,"value":"#<Account:0x00007fc8e21f0510>"}},{"id":2503054,"event":"return","thread_id":9160,"parent_id":2503053,"elapsed":0.000231779005844146,"elapsed_instrumentation":9.151094127446413e-05},{"id":2503055,"event":"return","thread_id":9160,"parent_id":2503026,"elapsed":0.012527862039860338,"elapsed_instrumentation":0.0002403989783488214,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21f0510>","object_id":12357780}},{"id":2503056,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"mute!","path":"app/models/concerns/account_interactions.rb","lineno":151,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":12357780,"value":"#<Account:0x00007fc8e21f0510>","kind":"req"},{"name":"notifications","class":"TrueClass","object_id":20,"value":"true","kind":"key"},{"name":"duration","class":"Integer","object_id":1,"value":"0","kind":"key"}],"receiver":{"class":"Account","object_id":12357820,"value":"#<Account:0x00007fc8e21f0dd0>"}},{"id":2503057,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"mutes\".* FROM \"mutes\" WHERE \"mutes\".\"account_id\" = $1 AND \"mutes\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2503058,"event":"return","thread_id":9160,"parent_id":2503057,"elapsed":0.000672496,"elapsed_instrumentation":0.0004235429805703461},{"id":2503059,"event":"call","thread_id":9160,"defined_class":"Mute","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Mute","object_id":12357840,"value":"#<Mute:0x00007fc8e21f0010>"}},{"id":2503060,"event":"return","thread_id":9160,"parent_id":2503059,"elapsed":3.043701872229576e-05,"elapsed_instrumentation":0.00015586306108161807},{"id":2503061,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12357860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2503062,"event":"return","thread_id":9160,"parent_id":2503061,"elapsed":2.061203122138977e-05,"elapsed_instrumentation":0.00013568403664976358,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2503063,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12357880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1315200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931936c80>"}},{"id":2503064,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2503065,"event":"return","thread_id":9160,"parent_id":2503064,"elapsed":0.000600372,"elapsed_instrumentation":0.00015718198847025633},{"id":2503066,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"mutes\" WHERE \"mutes\".\"account_id\" = $1 AND \"mutes\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2503067,"event":"return","thread_id":9160,"parent_id":2503066,"elapsed":0.001991826,"elapsed_instrumentation":8.965801680460572e-05},{"id":2503068,"event":"return","thread_id":9160,"parent_id":2503063,"elapsed":0.003566148050595075,"elapsed_instrumentation":0.00016738096019253135,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc934133a58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934133c88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934133eb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934134138 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1315220,"size":4}},{"id":2503069,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12357880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1315200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931936c80>"}},{"id":2503070,"event":"return","thread_id":9160,"parent_id":2503069,"elapsed":4.078960046172142e-06,"elapsed_instrumentation":0.00011792406439781189,"return_value":{"class":"Array","value":"[]","object_id":1315240,"size":0}},{"id":2503071,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12357860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2503072,"event":"return","thread_id":9160,"parent_id":2503071,"elapsed":2.470973413437605e-06,"elapsed_instrumentation":7.889105472713709e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2503073,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12357900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1315280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9319363c0>"}},{"id":2503074,"event":"return","thread_id":9160,"parent_id":2503073,"elapsed":0.0001043090014718473,"elapsed_instrumentation":0.00036046101013198495,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93418c108 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93418c248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1315300,"size":2}},{"id":2503075,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"mutes\" (\"created_at\", \"updated_at\", \"hide_notifications\", \"account_id\", \"target_account_id\", \"expires_at\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2503076,"event":"return","thread_id":9160,"parent_id":2503075,"elapsed":0.001203277,"elapsed_instrumentation":0.00012734899064525962},{"id":2503077,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12357900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1315280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9319363c0>"}},{"id":2503078,"event":"return","thread_id":9160,"parent_id":2503077,"elapsed":4.675006493926048e-06,"elapsed_instrumentation":0.0001657280372455716,"return_value":{"class":"Array","value":"[]","object_id":1315320,"size":0}},{"id":2503079,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2503080,"event":"return","thread_id":9160,"parent_id":2503079,"elapsed":0.000482225,"elapsed_instrumentation":8.053903002291918e-05},{"id":2503081,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12357920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1315360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931935790>"}},{"id":2503082,"event":"return","thread_id":9160,"parent_id":2503081,"elapsed":3.7170248106122017e-06,"elapsed_instrumentation":0.00011552398791536689,"return_value":{"class":"Array","value":"[]","object_id":1315380,"size":0}},{"id":2503083,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12357920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1315360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931935790>"}},{"id":2503084,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12357940,"value":"Cache delete: exclude_account_ids_for:111361421622520320\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2503085,"event":"return","thread_id":9160,"parent_id":2503084,"elapsed":0.004495657980442047,"elapsed_instrumentation":0.00011577701661735773,"return_value":{"class":"Integer","value":"57","object_id":115}},{"id":2503086,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12357960,"value":"Cache delete: relationship:111361421622520320:111361421622520322\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2503087,"event":"return","thread_id":9160,"parent_id":2503086,"elapsed":0.000734116998501122,"elapsed_instrumentation":0.00016001897165551782,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2503088,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12357980,"value":"Cache delete: relationship:111361421622520322:111361421622520320\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2503089,"event":"return","thread_id":9160,"parent_id":2503088,"elapsed":0.017715837981086224,"elapsed_instrumentation":0.00019703200086951256,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2503090,"event":"return","thread_id":9160,"parent_id":2503083,"elapsed":0.023970342008396983,"elapsed_instrumentation":0.0001632540370337665,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc934183af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934183850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1315460,"size":2}},{"id":2503091,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222722843245040641,"value":"111361421622520320","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222722843245040645,"value":"111361421622520322","kind":"req"}],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":2503092,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":2503093,"event":"return","thread_id":9160,"parent_id":2503092,"elapsed":5.065987352281809e-06,"elapsed_instrumentation":8.226901991292834e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2503094,"event":"return","thread_id":9160,"parent_id":2503091,"elapsed":0.0006283950060606003,"elapsed_instrumentation":0.00014793896116316319},{"id":2503095,"event":"return","thread_id":9160,"parent_id":2503056,"elapsed":0.04061276704305783,"elapsed_instrumentation":0.00018724496476352215,"return_value":{"class":"Mute","value":"#<Mute:0x00007fc8e21f0010>","object_id":12357840}},{"id":2503096,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":12358000,"value":"{args=>[111361421622520320, 111361421622520322], class=>BlockWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":12358020,"value":"#<Sidekiq::Client:0x00007fc8e1c7dad8>"}},{"id":2503097,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12358040,"value":"Nm_____\u0001LW_x"}},{"id":2503098,"event":"return","thread_id":9160,"parent_id":2503097,"elapsed":4.943984095007181e-06,"elapsed_instrumentation":0.00011562998406589031,"return_value":{"class":"String","value":"4e6d81eec6b6ac014c57da78","object_id":12358060}},{"id":2503099,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":12358080,"value":"[111361421622520320, 111361421622520322]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12358100,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1c7b4e0>"}},{"id":2503100,"event":"return","thread_id":9160,"parent_id":2503099,"elapsed":7.333001121878624e-06,"elapsed_instrumentation":0.00012717803474515676,"return_value":{"class":"String","value":"[111361421622520320,111361421622520322]","object_id":12358120}},{"id":2503101,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12358140,"value":"#<JSON::Ext::Parser:0x00007fc8e1c7a6d0>"}},{"id":2503102,"event":"return","thread_id":9160,"parent_id":2503101,"elapsed":6.193004082888365e-06,"elapsed_instrumentation":8.340098429471254e-05,"return_value":{"class":"Array","value":"[111361421622520320, 111361421622520322]","object_id":12358160,"size":2}},{"id":2503103,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12358180,"value":"___U____[___"}},{"id":2503104,"event":"return","thread_id":9160,"parent_id":2503103,"elapsed":3.891997039318085e-06,"elapsed_instrumentation":9.611801942810416e-05,"return_value":{"class":"String","value":"b2f78d55faeebbf55bcefe92","object_id":12358200}},{"id":2503105,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":12358220,"value":"{retry=>true, queue=>default, args=>[111361421622520320, 111361421622520322], class=>BlockWorker, jid=>4e6d81eec6b6ac014c57da78, created_at=>1699240442.6272006, id=>b2f78d55faeebbf55bcefe92}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12358240,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1c78c40>"}},{"id":2503106,"event":"return","thread_id":9160,"parent_id":2503105,"elapsed":1.3256969396024942e-05,"elapsed_instrumentation":0.00019005301874130964,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111361421622520320,111361421622520322],\"class\":\"BlockWorker\" (...98 more characters)","object_id":12358260}},{"id":2503107,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12358280,"value":"#<JSON::Ext::Parser:0x00007fc8e1c75748>"}},{"id":2503108,"event":"return","thread_id":9160,"parent_id":2503107,"elapsed":2.1781015675514936e-05,"elapsed_instrumentation":0.0002871279721148312,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111361421622520320, 111361421622520322], class=>BlockWorker, jid=>4e6d81eec6b6ac014c57da78, created_at=>1699240442.6272006, id=>b2f78d55faeebbf55bcefe92}","object_id":12358300,"size":7}},{"id":2503109,"event":"call","thread_id":9160,"defined_class":"BlockWorker","method_id":"perform","path":"app/workers/block_worker.rb","lineno":6,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222722843245040641,"value":"111361421622520320","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222722843245040645,"value":"111361421622520322","kind":"req"}],"receiver":{"class":"BlockWorker","object_id":12358320,"value":"#<BlockWorker:0x00007fc8e1c737b8>"}},{"id":2503110,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2503111,"event":"return","thread_id":9160,"parent_id":2503110,"elapsed":0.000796944,"elapsed_instrumentation":0.00011752295540645719},{"id":2503112,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2503113,"event":"return","thread_id":9160,"parent_id":2503112,"elapsed":0.000851822,"elapsed_instrumentation":0.00014912005281075835},{"id":2503114,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"clear_from_home","path":"app/lib/feed_manager.rb","lineno":208,"static":false,"parameters":[{"name":"account","class":"Account","object_id":12358340,"value":"#<Account:0x00007fc8e220e9c0>","kind":"req"},{"name":"target_account","class":"Account","object_id":12358360,"value":"#<Account:0x00007fc8e220e880>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2503115,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722843245040641,"value":"111361421622520320","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2503116,"event":"return","thread_id":9160,"parent_id":2503115,"elapsed":6.482994649559259e-06,"elapsed_instrumentation":0.0003494700067676604,"return_value":{"class":"String","value":"feed:home:111361421622520320","object_id":12358380}},{"id":2503117,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2503118,"event":"return","thread_id":9160,"parent_id":2503117,"elapsed":5.539972335100174e-06,"elapsed_instrumentation":8.675997378304601e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2503119,"event":"return","thread_id":9160,"parent_id":2503114,"elapsed":0.0035049630096182227,"elapsed_instrumentation":0.00023204798344522715,"return_value":{"class":"Array","value":"[]","object_id":12358400,"size":0}},{"id":2503120,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"clear_from_lists","path":"app/lib/feed_manager.rb","lineno":248,"static":false,"parameters":[{"name":"account","class":"Account","object_id":12358340,"value":"#<Account:0x00007fc8e220e9c0>","kind":"req"},{"name":"target_account","class":"Account","object_id":12358360,"value":"#<Account:0x00007fc8e220e880>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2503121,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"lists\".* FROM \"lists\" WHERE \"lists\".\"account_id\" = $1","database_type":"postgres"}},{"id":2503122,"event":"return","thread_id":9160,"parent_id":2503121,"elapsed":0.000548513,"elapsed_instrumentation":9.471201337873936e-05},{"id":2503123,"event":"return","thread_id":9160,"parent_id":2503120,"elapsed":0.0017578440019860864,"elapsed_instrumentation":0.00015752902254462242,"return_value":{"class":"Array","value":"[]","object_id":12358420,"size":0}},{"id":2503124,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".\"id\" FROM \"notifications\" WHERE \"notifications\".\"account_id\" = $1 AND \"notifications\".\"from_account_id\" = $2 ORDER BY \"notifications\".\"id\" ASC LIMIT $3","database_type":"postgres"}},{"id":2503125,"event":"return","thread_id":9160,"parent_id":2503124,"elapsed":0.00065993,"elapsed_instrumentation":9.077199501916766e-05},{"id":2503126,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_conversations\".\"id\" FROM \"account_conversations\" WHERE \"account_conversations\".\"account_id\" = $1 AND (111361421622520322 = ANY(participant_account_ids)) ORDER BY \"account_conversations\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2503127,"event":"return","thread_id":9160,"parent_id":2503126,"elapsed":0.000891804,"elapsed_instrumentation":0.0002650380483828485},{"id":2503128,"event":"return","thread_id":9160,"parent_id":2503109,"elapsed":0.018410216027405113,"elapsed_instrumentation":0.00010909198317676783},{"id":2503129,"event":"return","thread_id":9160,"parent_id":2503096,"elapsed":0.019960551988333464,"elapsed_instrumentation":0.00027031992794945836,"return_value":{"class":"String","value":"4e6d81eec6b6ac014c57da78","object_id":12358060}},{"id":2503130,"event":"return","thread_id":9160,"parent_id":2503017,"elapsed":0.07769571099197492,"elapsed_instrumentation":0.00024350191233679652,"return_value":{"class":"Mute","value":"#<Mute:0x00007fc8e21f0010>","object_id":12357840}},{"id":2503131,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" INNER JOIN \"mutes\" ON \"accounts\".\"id\" = \"mutes\".\"target_account_id\" WHERE \"mutes\".\"account_id\" = $1","database_type":"postgres"}},{"id":2503132,"event":"return","thread_id":9160,"parent_id":2503131,"elapsed":0.000999796,"elapsed_instrumentation":0.00022328400518745184},{"id":2503133,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"mutes\".* FROM \"mutes\" WHERE \"mutes\".\"account_id\" = $1 AND \"mutes\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2503134,"event":"return","thread_id":9160,"parent_id":2503133,"elapsed":0.000576836,"elapsed_instrumentation":7.998204091563821e-05}]}