{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Tag .matches_name returns tags for multibyte case-insensitive names","source_location":"spec/models/tag_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"lib","type":"package","children":[{"name":"HashtagNormalizer","type":"class","children":[{"name":"normalize","type":"function","location":"app/lib/hashtag_normalizer.rb:4","static":false}]},{"name":"ASCIIFolding","type":"class","children":[{"name":"fold","type":"function","location":"app/lib/ascii_folding.rb:7","static":false}]}]},{"name":"models","type":"package","children":[{"name":"Tag","type":"class","children":[{"name":"display_name","type":"function","location":"app/models/tag.rb:67","static":false},{"name":"normalize","type":"function","location":"app/models/tag.rb:156","static":true}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]}],"events":[{"id":426906,"event":"call","thread_id":9160,"defined_class":"HashtagNormalizer","method_id":"normalize","path":"app/lib/hashtag_normalizer.rb","lineno":4,"static":false,"parameters":[{"name":"str","class":"String","object_id":2788640,"value":"abcabcａｂｃａｂｃやゆよ","kind":"req"}],"receiver":{"class":"HashtagNormalizer","object_id":2789640,"value":"#<HashtagNormalizer:0x00007fdc098e66c8>"}},{"id":426907,"event":"call","thread_id":9160,"defined_class":"ASCIIFolding","method_id":"fold","path":"app/lib/ascii_folding.rb","lineno":7,"static":false,"parameters":[{"name":"str","class":"String","object_id":2789660,"value":"abcabcabcabcやゆよ","kind":"req"}],"receiver":{"class":"ASCIIFolding","object_id":2789680,"value":"#<ASCIIFolding:0x00007fdc098e58e0>"}},{"id":426908,"event":"return","thread_id":9160,"parent_id":426907,"elapsed":3.239599755033851e-05,"elapsed_instrumentation":0.00011009399895556271,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":2789700}},{"id":426909,"event":"return","thread_id":9160,"parent_id":426906,"elapsed":0.0002176080015487969,"elapsed_instrumentation":0.00013939198106527328,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":2789720}},{"id":426910,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2789740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb70>"}},{"id":426911,"event":"return","thread_id":9160,"parent_id":426910,"elapsed":1.8520018784329295e-05,"elapsed_instrumentation":0.00012904198956675828,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d9af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1592760,"size":1}},{"id":426912,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2789760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb20>"}},{"id":426913,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"display_name","path":"app/models/tag.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":2789780,"value":"#<Tag:0x00007fdc06fef3c8>"}},{"id":426914,"event":"return","thread_id":9160,"parent_id":426913,"elapsed":8.622099994681776e-05,"elapsed_instrumentation":0.0001386750373058021,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":2789800}},{"id":426915,"event":"return","thread_id":9160,"parent_id":426912,"elapsed":0.0009223860106430948,"elapsed_instrumentation":0.0001797329750843346,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d4ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d55e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5840 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5ae8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5d40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5f98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d6380 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d6a38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d6f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d75c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...3 more items)]","object_id":1592840,"size":13}},{"id":426916,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2789760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb20>"}},{"id":426917,"event":"return","thread_id":9160,"parent_id":426916,"elapsed":5.745998350903392e-06,"elapsed_instrumentation":0.00010833799024112523,"return_value":{"class":"Array","value":"[]","object_id":1592860,"size":0}},{"id":426918,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2789740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb70>"}},{"id":426919,"event":"return","thread_id":9160,"parent_id":426918,"elapsed":1.0332005331292748e-05,"elapsed_instrumentation":0.00011000901577062905,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d9698 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1592880,"size":1}},{"id":426920,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2789820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738ca80>"}},{"id":426921,"event":"return","thread_id":9160,"parent_id":426920,"elapsed":3.710010787472129e-06,"elapsed_instrumentation":0.00010390797979198396,"return_value":{"class":"Array","value":"[]","object_id":1614660,"size":0}},{"id":426922,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2789820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cad0>"}},{"id":426923,"event":"return","thread_id":9160,"parent_id":426922,"elapsed":2.3460015654563904e-06,"elapsed_instrumentation":8.476999937556684e-05,"return_value":{"class":"Array","value":"[]","object_id":1614700,"size":0}},{"id":426924,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2789840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738c940>"}},{"id":426925,"event":"return","thread_id":9160,"parent_id":426924,"elapsed":3.935012500733137e-06,"elapsed_instrumentation":0.0001227589964400977,"return_value":{"class":"Array","value":"[]","object_id":1614760,"size":0}},{"id":426926,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":426927,"event":"return","thread_id":9160,"parent_id":426926,"elapsed":0.00074027,"elapsed_instrumentation":0.0001009090046864003},{"id":426928,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"tags\" (\"name\", \"created_at\", \"updated_at\", \"usable\", \"trendable\", \"listable\", \"reviewed_at\", \"requested_review_at\", \"last_status_at\", \"max_score\", \"max_score_at\", \"display_name\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":426929,"event":"return","thread_id":9160,"parent_id":426928,"elapsed":0.002063668,"elapsed_instrumentation":0.00010917300824075937},{"id":426930,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2789840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738c940>"}},{"id":426931,"event":"return","thread_id":9160,"parent_id":426930,"elapsed":0.00012182901264168322,"elapsed_instrumentation":0.0003409659839235246,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a2ee828 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ee3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ee120 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ede00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2edb08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ed810 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ed568 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1614780,"size":7}},{"id":426932,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2789820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cad0>"}},{"id":426933,"event":"return","thread_id":9160,"parent_id":426932,"elapsed":4.847999662160873e-06,"elapsed_instrumentation":0.00013713899534195662,"return_value":{"class":"Array","value":"[]","object_id":1614800,"size":0}},{"id":426934,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2789820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738ca80>"}},{"id":426935,"event":"return","thread_id":9160,"parent_id":426934,"elapsed":0.0001289469946641475,"elapsed_instrumentation":0.00016938301268965006,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d09f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1614820,"size":1}},{"id":426936,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":426937,"event":"return","thread_id":9160,"parent_id":426936,"elapsed":0.000616228,"elapsed_instrumentation":0.00010129099246114492},{"id":426938,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"normalize","path":"app/models/tag.rb","lineno":156,"static":true,"parameters":[{"name":"str","class":"String","object_id":2788880,"value":"abcABCａｂｃＡＢＣやゆよ","kind":"req"}],"receiver":{"class":"Class","object_id":37120,"value":"Tag"}},{"id":426939,"event":"call","thread_id":9160,"defined_class":"HashtagNormalizer","method_id":"normalize","path":"app/lib/hashtag_normalizer.rb","lineno":4,"static":false,"parameters":[{"name":"str","class":"String","object_id":2788880,"value":"abcABCａｂｃＡＢＣやゆよ","kind":"req"}],"receiver":{"class":"HashtagNormalizer","object_id":2789860,"value":"#<HashtagNormalizer:0x00007fdc09913150>"}},{"id":426940,"event":"call","thread_id":9160,"defined_class":"ASCIIFolding","method_id":"fold","path":"app/lib/ascii_folding.rb","lineno":7,"static":false,"parameters":[{"name":"str","class":"String","object_id":2789880,"value":"abcabcabcabcやゆよ","kind":"req"}],"receiver":{"class":"ASCIIFolding","object_id":2789900,"value":"#<ASCIIFolding:0x00007fdc09912020>"}},{"id":426941,"event":"return","thread_id":9160,"parent_id":426940,"elapsed":3.0257971957325935e-05,"elapsed_instrumentation":9.022103040479124e-05,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":2789920}},{"id":426942,"event":"return","thread_id":9160,"parent_id":426939,"elapsed":0.0001941820082720369,"elapsed_instrumentation":8.010401506908238e-05,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":2789940}},{"id":426943,"event":"return","thread_id":9160,"parent_id":426938,"elapsed":0.0002931759809143841,"elapsed_instrumentation":0.00012855703243985772,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":2789940}},{"id":426944,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"tags\".* FROM \"tags\" WHERE LOWER(\"tags\".\"name\") LIKE LOWER('abcabcabcabcやゆよ%')","database_type":"postgres"}},{"id":426945,"event":"return","thread_id":9160,"parent_id":426944,"elapsed":0.001385239,"elapsed_instrumentation":7.630500476807356e-05}]}