{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Tag .matches_name returns tags for multibyte case-insensitive names","source_location":"spec/models/tag_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"lib","type":"package","children":[{"name":"HashtagNormalizer","type":"class","children":[{"name":"normalize","type":"function","location":"app/lib/hashtag_normalizer.rb:4","static":false}]},{"name":"ASCIIFolding","type":"class","children":[{"name":"fold","type":"function","location":"app/lib/ascii_folding.rb:7","static":false}]}]},{"name":"models","type":"package","children":[{"name":"Tag","type":"class","children":[{"name":"display_name","type":"function","location":"app/models/tag.rb:67","static":false},{"name":"normalize","type":"function","location":"app/models/tag.rb:156","static":true}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]}],"events":[{"id":1181174,"event":"call","thread_id":9160,"defined_class":"HashtagNormalizer","method_id":"normalize","path":"app/lib/hashtag_normalizer.rb","lineno":4,"static":false,"parameters":[{"name":"str","class":"String","object_id":6822600,"value":"abcabcａｂｃａｂｃやゆよ","kind":"req"}],"receiver":{"class":"HashtagNormalizer","object_id":6824120,"value":"#<HashtagNormalizer:0x00007fc931f53758>"}},{"id":1181175,"event":"call","thread_id":9160,"defined_class":"ASCIIFolding","method_id":"fold","path":"app/lib/ascii_folding.rb","lineno":7,"static":false,"parameters":[{"name":"str","class":"String","object_id":6824140,"value":"abcabcabcabcやゆよ","kind":"req"}],"receiver":{"class":"ASCIIFolding","object_id":6824160,"value":"#<ASCIIFolding:0x00007fc931f52358>"}},{"id":1181176,"event":"return","thread_id":9160,"parent_id":1181175,"elapsed":0.0001270709908567369,"elapsed_instrumentation":0.00019442097982391715,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":6824180}},{"id":1181177,"event":"return","thread_id":9160,"parent_id":1181174,"elapsed":0.0007495699683204293,"elapsed_instrumentation":0.00023368600523099303,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":6824200}},{"id":1181178,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5700>"}},{"id":1181179,"event":"return","thread_id":9160,"parent_id":1181178,"elapsed":3.465998452156782e-05,"elapsed_instrumentation":0.000268140051048249,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f63f80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1464740,"size":1}},{"id":1181180,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce56b0>"}},{"id":1181181,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"display_name","path":"app/models/tag.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":6824260,"value":"#<Tag:0x00007fc91a3c0c90>"}},{"id":1181182,"event":"return","thread_id":9160,"parent_id":1181181,"elapsed":0.00015431095380336046,"elapsed_instrumentation":0.00017675902927294374,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":6824280}},{"id":1181183,"event":"return","thread_id":9160,"parent_id":1181180,"elapsed":0.0010432280250824988,"elapsed_instrumentation":0.0007513639866374433,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f624c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62680 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f627c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62900 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62a40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62b80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62cc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62e00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62f40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f63120 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...3 more items)]","object_id":1464840,"size":13}},{"id":1181184,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce56b0>"}},{"id":1181185,"event":"return","thread_id":9160,"parent_id":1181184,"elapsed":6.076006684452295e-06,"elapsed_instrumentation":0.00017807004041969776,"return_value":{"class":"Array","value":"[]","object_id":1464860,"size":0}},{"id":1181186,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5700>"}},{"id":1181187,"event":"return","thread_id":9160,"parent_id":1181186,"elapsed":2.0917970687150955e-05,"elapsed_instrumentation":0.0005215310375206172,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f63e40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1464880,"size":1}},{"id":1181188,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5610>"}},{"id":1181189,"event":"return","thread_id":9160,"parent_id":1181188,"elapsed":5.83200016990304e-06,"elapsed_instrumentation":0.00016924896044656634,"return_value":{"class":"Array","value":"[]","object_id":1464940,"size":0}},{"id":1181190,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5660>"}},{"id":1181191,"event":"return","thread_id":9160,"parent_id":1181190,"elapsed":5.652022082358599e-06,"elapsed_instrumentation":0.00015326397260650992,"return_value":{"class":"Array","value":"[]","object_id":1464980,"size":0}},{"id":1181192,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1465020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5520>"}},{"id":1181193,"event":"return","thread_id":9160,"parent_id":1181192,"elapsed":4.5922992285341024e-05,"elapsed_instrumentation":0.00035394506994634867,"return_value":{"class":"Array","value":"[]","object_id":1465040,"size":0}},{"id":1181194,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1181195,"event":"return","thread_id":9160,"parent_id":1181194,"elapsed":0.000761282,"elapsed_instrumentation":0.00018320197705179453},{"id":1181196,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"tags\" (\"name\", \"created_at\", \"updated_at\", \"usable\", \"trendable\", \"listable\", \"reviewed_at\", \"requested_review_at\", \"last_status_at\", \"max_score\", \"max_score_at\", \"display_name\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":1181197,"event":"return","thread_id":9160,"parent_id":1181196,"elapsed":0.002465674,"elapsed_instrumentation":0.00013205799041315913},{"id":1181198,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1465020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5520>"}},{"id":1181199,"event":"return","thread_id":9160,"parent_id":1181198,"elapsed":0.00024534197291359305,"elapsed_instrumentation":0.0004033820005133748,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f8f400 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8f220 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8f068 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8eeb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8ecf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8eb40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8e988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1465060,"size":7}},{"id":1181200,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5660>"}},{"id":1181201,"event":"return","thread_id":9160,"parent_id":1181200,"elapsed":5.708017852157354e-06,"elapsed_instrumentation":0.00018114596605300903,"return_value":{"class":"Array","value":"[]","object_id":1465080,"size":0}},{"id":1181202,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5610>"}},{"id":1181203,"event":"return","thread_id":9160,"parent_id":1181202,"elapsed":0.0001795440330170095,"elapsed_instrumentation":0.00038570299511775374,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f60498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1465100,"size":1}},{"id":1181204,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1181205,"event":"return","thread_id":9160,"parent_id":1181204,"elapsed":0.0009803,"elapsed_instrumentation":0.00011488597374409437},{"id":1181206,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"normalize","path":"app/models/tag.rb","lineno":156,"static":true,"parameters":[{"name":"str","class":"String","object_id":6822480,"value":"abcABCａｂｃＡＢＣやゆよ","kind":"req"}],"receiver":{"class":"Class","object_id":37120,"value":"Tag"}},{"id":1181207,"event":"call","thread_id":9160,"defined_class":"HashtagNormalizer","method_id":"normalize","path":"app/lib/hashtag_normalizer.rb","lineno":4,"static":false,"parameters":[{"name":"str","class":"String","object_id":6822480,"value":"abcABCａｂｃＡＢＣやゆよ","kind":"req"}],"receiver":{"class":"HashtagNormalizer","object_id":6824340,"value":"#<HashtagNormalizer:0x00007fc931f97ef8>"}},{"id":1181208,"event":"call","thread_id":9160,"defined_class":"ASCIIFolding","method_id":"fold","path":"app/lib/ascii_folding.rb","lineno":7,"static":false,"parameters":[{"name":"str","class":"String","object_id":6824360,"value":"abcabcabcabcやゆよ","kind":"req"}],"receiver":{"class":"ASCIIFolding","object_id":6824380,"value":"#<ASCIIFolding:0x00007fc931f96b20>"}},{"id":1181209,"event":"return","thread_id":9160,"parent_id":1181208,"elapsed":4.3091014958918095e-05,"elapsed_instrumentation":9.98429604806006e-05,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":6824400}},{"id":1181210,"event":"return","thread_id":9160,"parent_id":1181207,"elapsed":0.00023568200413137674,"elapsed_instrumentation":9.494594996795058e-05,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":6824420}},{"id":1181211,"event":"return","thread_id":9160,"parent_id":1181206,"elapsed":0.00035367999225854874,"elapsed_instrumentation":0.0001548599684610963,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":6824420}},{"id":1181212,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"tags\".* FROM \"tags\" WHERE LOWER(\"tags\".\"name\") LIKE LOWER('abcabcabcabcやゆよ%')","database_type":"postgres"}},{"id":1181213,"event":"return","thread_id":9160,"parent_id":1181212,"elapsed":0.00119253,"elapsed_instrumentation":0.00010124401887878776}]}