{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"MediaComponentHelper render_media_gallery_component renders a react component for the media gallery","source_location":"spec/helpers/media_component_helper_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"helpers","type":"package","children":[{"name":"MediaComponentHelper","type":"class","children":[{"name":"render_media_gallery_component","type":"function","location":"app/helpers/media_component_helper.rb:48","static":false}]},{"name":"StatusesHelper","type":"class","children":[{"name":"prefers_autoplay?","type":"function","location":"app/helpers/statuses_helper.rb:85","static":false}]},{"name":"RoutingHelper","type":"class","children":[{"name":"full_asset_url","type":"function","location":"app/helpers/routing_helper.rb:17","static":false},{"name":"use_storage?","type":"function","location":"app/helpers/routing_helper.rb:31","static":false},{"name":"asset_host","type":"function","location":"app/helpers/routing_helper.rb:23","static":false}]},{"name":"REST","type":"class","children":[{"name":"MediaAttachmentSerializer","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]},{"name":"ReactComponentHelper","type":"class","children":[{"name":"react_component","type":"function","location":"app/helpers/react_component_helper.rb:4","static":false}]},{"name":"ApplicationHelper","type":"class","children":[{"name":"fa_icon","type":"function","location":"app/helpers/application_helper.rb:108","static":false}]}]},{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"sensitized?","type":"function","location":"app/models/account.rb:265","static":false}]},{"name":"Status","type":"class","children":[{"name":"ordered_media_attachments","type":"function","location":"app/models/status.rb:271","static":false}]},{"name":"MediaAttachment","type":"class","children":[{"name":"not_processed?","type":"function","location":"app/models/media_attachment.rb:221","static":false},{"name":"needs_redownload?","type":"function","location":"app/models/media_attachment.rb:225","static":false},{"name":"local?","type":"function","location":"app/models/media_attachment.rb:217","static":false}]}]},{"name":"serializers/rest","type":"package","children":[{"name":"REST","type":"class","children":[{"name":"MediaAttachmentSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:10","static":false},{"name":"url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:14","static":false},{"name":"preview_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:28","static":false},{"name":"remote_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:24","static":false},{"name":"preview_remote_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:38","static":false},{"name":"text_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:42","static":false},{"name":"meta","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:46","static":false}]}]}]},{"name":"views","type":"package","children":[{"name":"app_views_statuses__attachment_list_html_haml","type":"class","children":[{"name":"render","type":"function","location":"app/views/statuses/_attachment_list.html.haml","static":true,"labels":["mvc.template"]}]}]}]},{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"lib/paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"storage_schema_version","type":"function","location":"lib/paperclip/attachment_extensions.rb:50","static":false},{"name":"meta","type":"function","location":"lib/paperclip/attachment_extensions.rb:5","static":false}]}]}]},{"name":"actionview","type":"package","children":[{"name":"ActionView","type":"class","children":[{"name":"Renderer","type":"class","children":[{"name":"render","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/renderer/renderer.rb:23","labels":["mvc.view"]}]},{"name":"PartialRenderer","type":"class","children":[{"name":"render","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/renderer/partial_renderer.rb:230","labels":["mvc.view"]}]},{"name":"Resolver","type":"class","children":[{"name":"find_all","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb:63","static":false,"labels":["mvc.template.resolver"]}]}]}]}],"events":[{"id":1095766,"event":"call","thread_id":9160,"defined_class":"MediaComponentHelper","method_id":"render_media_gallery_component","path":"app/helpers/media_component_helper.rb","lineno":48,"static":false,"parameters":[{"name":"status","class":"Status","object_id":6373320,"value":"#<Status:0x00007fc9324e5950>","kind":"req"},{"name":"options","class":"Hash","object_id":6373640,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"ActionView::Base","object_id":6373620,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9328712e0>"}},{"id":1095767,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"sensitized?","path":"app/models/account.rb","lineno":265,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6373340,"value":"#<Account:0x00007fc932870f20>"}},{"id":1095768,"event":"return","thread_id":9160,"parent_id":1095767,"elapsed":3.285100683569908e-05,"elapsed_instrumentation":0.0001169079914689064},{"id":1095769,"event":"call","thread_id":9160,"defined_class":"StatusesHelper","method_id":"prefers_autoplay?","path":"app/helpers/statuses_helper.rb","lineno":85,"static":false,"parameters":[],"receiver":{"class":"ActionView::Base","object_id":6373620,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9328712e0>"}},{"id":1095770,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"ActiveSupport::HashWithIndifferentAccess","object_id":6373680,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":6373700,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc93253cef8>"}},{"id":1095771,"event":"return","thread_id":9160,"parent_id":1095770,"elapsed":1.9064988009631634e-05,"elapsed_instrumentation":0.00013189599849283695,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc93253cef8>","object_id":6373700}},{"id":1095772,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":6373700,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc93253cef8>"}},{"id":1095773,"event":"return","thread_id":9160,"parent_id":1095772,"elapsed":3.303983248770237e-06,"elapsed_instrumentation":9.91609413176775e-05},{"id":1095774,"event":"return","thread_id":9160,"parent_id":1095769,"elapsed":0.0010188260348513722,"elapsed_instrumentation":8.80060251802206e-05},{"id":1095775,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"ordered_media_attachments","path":"app/models/status.rb","lineno":271,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":6373320,"value":"#<Status:0x00007fc9324e5950>"}},{"id":1095776,"event":"return","thread_id":9160,"parent_id":1095775,"elapsed":2.9287999495863914e-05,"elapsed_instrumentation":8.74350662343204e-05,"return_value":{"class":"ActiveRecord::Associations::CollectionProxy","value":"#<MediaAttachment::ActiveRecord_Associations_CollectionProxy:0x00007fc919fbd3f0>","object_id":6373720}},{"id":1095777,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"media_attachments\".* FROM \"media_attachments\" WHERE \"media_attachments\".\"status_id\" = $1 ORDER BY \"media_attachments\".\"id\" ASC","database_type":"postgres"}},{"id":1095778,"event":"return","thread_id":9160,"parent_id":1095777,"elapsed":0.000613341,"elapsed_instrumentation":0.00011281500337645411},{"id":1095779,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6373740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":1095780,"event":"return","thread_id":9160,"parent_id":1095779,"elapsed":4.503002855926752e-06,"elapsed_instrumentation":0.00018486601766198874,"return_value":{"class":"Array","value":"[]","object_id":326200,"size":0}},{"id":1095781,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6373740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":1095782,"event":"return","thread_id":9160,"parent_id":1095781,"elapsed":3.0479859560728073e-06,"elapsed_instrumentation":0.00012280000373721123,"return_value":{"class":"Array","value":"[]","object_id":326240,"size":0}},{"id":1095783,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"id","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095784,"event":"return","thread_id":9160,"parent_id":1095783,"elapsed":2.044602297246456e-05,"elapsed_instrumentation":0.00011271995026618242,"return_value":{"class":"String","value":"111361368421910023","object_id":6373780}},{"id":1095785,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095786,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"not_processed?","path":"app/models/media_attachment.rb","lineno":221,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6373560,"value":"#<MediaAttachment:0x00007fc932cc4108>"}},{"id":1095787,"event":"return","thread_id":9160,"parent_id":1095786,"elapsed":4.786404315382242e-05,"elapsed_instrumentation":6.503897020593286e-05},{"id":1095788,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"needs_redownload?","path":"app/models/media_attachment.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6373560,"value":"#<MediaAttachment:0x00007fc932cc4108>"}},{"id":1095789,"event":"return","thread_id":9160,"parent_id":1095788,"elapsed":4.846701631322503e-05,"elapsed_instrumentation":5.240505561232567e-05},{"id":1095790,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6373400,"value":"/system/media_attachments/files/111/361/368/421/910/023/original/attachment.jpg"}},{"id":1095791,"event":"return","thread_id":9160,"parent_id":1095790,"elapsed":3.842700971290469e-05,"elapsed_instrumentation":0.0004293539677746594,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1095792,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6373560,"value":"#<MediaAttachment:0x00007fc932cc4108>"}},{"id":1095793,"event":"return","thread_id":9160,"parent_id":1095792,"elapsed":1.0733027011156082e-05,"elapsed_instrumentation":0.0001309310318902135,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1095794,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"full_asset_url","path":"app/helpers/routing_helper.rb","lineno":17,"static":false,"parameters":[{"name":"source","class":"String","object_id":6373800,"value":"/system/media_attachments/files/111/361/368/421/910/023/original/attachment.jpg","kind":"req"},{"name":"options","class":"Hash","object_id":6373820,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095795,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"use_storage?","path":"app/helpers/routing_helper.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095796,"event":"return","thread_id":9160,"parent_id":1095795,"elapsed":2.607301576063037e-05,"elapsed_instrumentation":8.268497185781598e-05},{"id":1095797,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"asset_host","path":"app/helpers/routing_helper.rb","lineno":23,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095798,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095799,"event":"return","thread_id":9160,"parent_id":1095798,"elapsed":5.607027560472488e-06,"elapsed_instrumentation":0.00022047199308872223,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":1095800,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095801,"event":"return","thread_id":9160,"parent_id":1095800,"elapsed":3.917957656085491e-06,"elapsed_instrumentation":0.00017543096328154206,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":1095802,"event":"return","thread_id":9160,"parent_id":1095797,"elapsed":0.0007054880261421204,"elapsed_instrumentation":0.00021859706612303853,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/","object_id":6373840}},{"id":1095803,"event":"return","thread_id":9160,"parent_id":1095794,"elapsed":0.0014104879810474813,"elapsed_instrumentation":0.0001798470038920641,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/368/421/910/023/original/attachment (...4 more characters)","object_id":6373860}},{"id":1095804,"event":"return","thread_id":9160,"parent_id":1095785,"elapsed":0.0027608730015344918,"elapsed_instrumentation":0.0001156519865617156,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/368/421/910/023/original/attachment (...4 more characters)","object_id":6373860}},{"id":1095805,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"preview_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":28,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095806,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"needs_redownload?","path":"app/models/media_attachment.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6373560,"value":"#<MediaAttachment:0x00007fc932cc4108>"}},{"id":1095807,"event":"return","thread_id":9160,"parent_id":1095806,"elapsed":2.7710979338735342e-05,"elapsed_instrumentation":6.065203342586756e-05},{"id":1095808,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6373400,"value":"/system/media_attachments/files/111/361/368/421/910/023/original/attachment.jpg"}},{"id":1095809,"event":"return","thread_id":9160,"parent_id":1095808,"elapsed":1.0657997336238623e-05,"elapsed_instrumentation":0.0002260439796373248,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1095810,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6373560,"value":"#<MediaAttachment:0x00007fc932cc4108>"}},{"id":1095811,"event":"return","thread_id":9160,"parent_id":1095810,"elapsed":6.33997842669487e-06,"elapsed_instrumentation":0.00011027802247554064,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1095812,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"full_asset_url","path":"app/helpers/routing_helper.rb","lineno":17,"static":false,"parameters":[{"name":"source","class":"String","object_id":6373880,"value":"/system/media_attachments/files/111/361/368/421/910/023/small/attachment.jpg","kind":"req"},{"name":"options","class":"Hash","object_id":6373900,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095813,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"use_storage?","path":"app/helpers/routing_helper.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095814,"event":"return","thread_id":9160,"parent_id":1095813,"elapsed":1.6379053704440594e-05,"elapsed_instrumentation":5.568598862737417e-05},{"id":1095815,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"asset_host","path":"app/helpers/routing_helper.rb","lineno":23,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095816,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095817,"event":"return","thread_id":9160,"parent_id":1095816,"elapsed":4.477973561733961e-06,"elapsed_instrumentation":0.0001233249786309898,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":1095818,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095819,"event":"return","thread_id":9160,"parent_id":1095818,"elapsed":3.175984602421522e-06,"elapsed_instrumentation":9.838107507675886e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":1095820,"event":"return","thread_id":9160,"parent_id":1095815,"elapsed":0.0004793920088559389,"elapsed_instrumentation":8.790800347924232e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/","object_id":6373920}},{"id":1095821,"event":"return","thread_id":9160,"parent_id":1095812,"elapsed":0.0008585879695601761,"elapsed_instrumentation":0.0001430040574632585,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/368/421/910/023/small/attachment.jp (...1 more characters)","object_id":6373940}},{"id":1095822,"event":"return","thread_id":9160,"parent_id":1095805,"elapsed":0.0019422370241954923,"elapsed_instrumentation":7.541198283433914e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/368/421/910/023/small/attachment.jp (...1 more characters)","object_id":6373940}},{"id":1095823,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"remote_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":24,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095824,"event":"return","thread_id":9160,"parent_id":1095823,"elapsed":1.2091011740267277e-05,"elapsed_instrumentation":6.363599095493555e-05},{"id":1095825,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"preview_remote_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":38,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095826,"event":"return","thread_id":9160,"parent_id":1095825,"elapsed":1.1699972674250603e-05,"elapsed_instrumentation":5.0097936764359474e-05},{"id":1095827,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"text_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":42,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095828,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6373560,"value":"#<MediaAttachment:0x00007fc932cc4108>"}},{"id":1095829,"event":"return","thread_id":9160,"parent_id":1095828,"elapsed":5.367968697100878e-06,"elapsed_instrumentation":6.571802077814937e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1095830,"event":"return","thread_id":9160,"parent_id":1095827,"elapsed":9.30940150283277e-05,"elapsed_instrumentation":4.868401447311044e-05},{"id":1095831,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"meta","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":46,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6373760,"value":"#<REST::MediaAttachmentSerializer:0x00007fc93253b418>"}},{"id":1095832,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"meta","path":"lib/paperclip/attachment_extensions.rb","lineno":5,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6373400,"value":"/system/media_attachments/files/111/361/368/421/910/023/original/attachment.jpg"}},{"id":1095833,"event":"return","thread_id":9160,"parent_id":1095832,"elapsed":4.3558015022426844e-05,"elapsed_instrumentation":0.0005085250013507903},{"id":1095834,"event":"return","thread_id":9160,"parent_id":1095831,"elapsed":0.0005891810287721455,"elapsed_instrumentation":5.20909670740366e-05},{"id":1095835,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6373740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":1095836,"event":"return","thread_id":9160,"parent_id":1095835,"elapsed":4.318018909543753e-06,"elapsed_instrumentation":0.00014160299906507134,"return_value":{"class":"Array","value":"[]","object_id":328060,"size":0}},{"id":1095837,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6373740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":1095838,"event":"return","thread_id":9160,"parent_id":1095837,"elapsed":2.642977051436901e-06,"elapsed_instrumentation":8.051196346059442e-05,"return_value":{"class":"Array","value":"[]","object_id":328080,"size":0}},{"id":1095839,"event":"call","thread_id":9160,"defined_class":"ReactComponentHelper","method_id":"react_component","path":"app/helpers/react_component_helper.rb","lineno":4,"static":false,"parameters":[{"name":"name","class":"Symbol","object_id":19330588,"value":":media_gallery","kind":"req"},{"name":"props","class":"Hash","object_id":6373960,"value":"{:sensitive=>false, :autoplay=>, :media=>[{:id=>111361368421910023, :type=>audio, :url=>https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/368/421/910/023/original/attachment (...4 more characters), :preview_url=>https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/368/421/910/023/small/attachment.jp (...1 more characters), :remote_url=>, :preview_remote_url=>, :text_url=>, :meta=>, :description=>, :blurhash=>}]}","kind":"opt","size":3},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ActionView::Base","object_id":6373620,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9328712e0>"}},{"id":1095840,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"ordered_media_attachments","path":"app/models/status.rb","lineno":271,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":6373320,"value":"#<Status:0x00007fc9324e5950>"}},{"id":1095841,"event":"return","thread_id":9160,"parent_id":1095840,"elapsed":3.4352997317910194e-05,"elapsed_instrumentation":0.00013039802433922887,"return_value":{"class":"ActiveRecord::Associations::CollectionProxy","value":"#<MediaAttachment::ActiveRecord_Associations_CollectionProxy:0x00007fc919fbd3f0>","object_id":6373720}},{"id":1095842,"event":"call","thread_id":9160,"defined_class":"inline_template","method_id":"render","static":true,"parameters":[],"receiver":{"class":"ActionView::Renderer","object_id":6374140,"value":"#<ActionView::Renderer:0x00007fc9324b6f38>"}},{"id":1095843,"event":"call","thread_id":9160,"defined_class":"app_views_statuses__attachment_list_html_haml","method_id":"render","path":"app/views/statuses/_attachment_list.html.haml","static":true,"parameters":[],"receiver":{"class":"ActionView::PartialRenderer","object_id":6374160,"value":"#<ActionView::PartialRenderer:0x00007fc932537548>"}},{"id":1095844,"event":"call","thread_id":9160,"defined_class":"ActionView::Resolver","method_id":"find_all","path":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb","lineno":63,"static":false,"parameters":[{"name":"name","class":"String","object_id":6373980,"value":"attachment_list","kind":"req"},{"name":"prefix","class":"String","object_id":6374000,"value":"statuses","kind":"opt"},{"name":"partial","class":"TrueClass","object_id":20,"value":"true","kind":"opt"},{"name":"details","class":"Hash","object_id":6374020,"value":"{:locale=>[:en], :formats=>[:html, :text, :js, :css, :ics, :csv, :vcf, :vtt, :png, :jpeg (...27 more items)], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :haml]}","kind":"opt","size":4},{"name":"key","class":"ActionView::TemplateDetails::Requested","object_id":1352920,"value":"#<ActionView::TemplateDetails::Requested:0x00007fc937b2b3c8>","kind":"opt"},{"name":"locals","class":"Array","object_id":6374040,"value":"[:attachments]","kind":"opt","size":1}],"receiver":{"class":"ActionView::FileSystemResolver","object_id":209280,"value":"/workspaces/mastodon/app/views"}},{"id":1095845,"event":"return","thread_id":9160,"parent_id":1095844,"elapsed":3.823498263955116e-05,"elapsed_instrumentation":0.0007301000296138227,"return_value":{"class":"Array","value":"[#<ActionView::Template:0x00007fc919e81cc0>]","object_id":6374060,"size":1}},{"id":1095846,"event":"call","thread_id":9160,"defined_class":"ApplicationHelper","method_id":"fa_icon","path":"app/helpers/application_helper.rb","lineno":108,"static":false,"parameters":[{"name":"icon","class":"String","object_id":6374080,"value":"link","kind":"req"},{"name":"attributes","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActionView::Base","object_id":6373620,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9328712e0>"}},{"id":1095847,"event":"return","thread_id":9160,"parent_id":1095846,"elapsed":5.8026984333992004e-05,"elapsed_instrumentation":0.00016014801803976297,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<i class=\"fa fa-link\"></i>","object_id":6374100}},{"id":1095848,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6373400,"value":"/system/media_attachments/files/111/361/368/421/910/023/original/attachment.jpg"}},{"id":1095849,"event":"return","thread_id":9160,"parent_id":1095848,"elapsed":1.1719006579369307e-05,"elapsed_instrumentation":0.0002443839912302792,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1095850,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6373560,"value":"#<MediaAttachment:0x00007fc932cc4108>"}},{"id":1095851,"event":"return","thread_id":9160,"parent_id":1095850,"elapsed":4.586006980389357e-06,"elapsed_instrumentation":7.560296216979623e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1095852,"event":"return","thread_id":9160,"parent_id":1095843,"elapsed":0.002260570996440947,"elapsed_instrumentation":8.210702799260616e-05},{"id":1095853,"event":"return","thread_id":9160,"parent_id":1095842,"elapsed":0.002465958008542657,"elapsed_instrumentation":0.00010835303692147136},{"id":1095854,"event":"return","thread_id":9160,"parent_id":1095839,"elapsed":0.0031312049832195044,"elapsed_instrumentation":0.00031818903516978025,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<div data-component=\"MediaGallery\" data-props=\"{&quot;sensitive&quot;:false,&quot;autoplay&quot;:nul (...819 more characters)","object_id":6374120}},{"id":1095855,"event":"return","thread_id":9160,"parent_id":1095766,"elapsed":0.016970502969343215,"elapsed_instrumentation":0.00037200201768428087,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<div data-component=\"MediaGallery\" data-props=\"{&quot;sensitive&quot;:false,&quot;autoplay&quot;:nul (...819 more characters)","object_id":6374120}}]}