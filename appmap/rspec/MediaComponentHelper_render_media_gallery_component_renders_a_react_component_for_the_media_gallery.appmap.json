{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"MediaComponentHelper render_media_gallery_component renders a react component for the media gallery","source_location":"spec/helpers/media_component_helper_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"helpers","type":"package","children":[{"name":"MediaComponentHelper","type":"class","children":[{"name":"render_media_gallery_component","type":"function","location":"app/helpers/media_component_helper.rb:48","static":false}]},{"name":"StatusesHelper","type":"class","children":[{"name":"prefers_autoplay?","type":"function","location":"app/helpers/statuses_helper.rb:85","static":false}]},{"name":"RoutingHelper","type":"class","children":[{"name":"full_asset_url","type":"function","location":"app/helpers/routing_helper.rb:17","static":false},{"name":"use_storage?","type":"function","location":"app/helpers/routing_helper.rb:31","static":false},{"name":"asset_host","type":"function","location":"app/helpers/routing_helper.rb:23","static":false}]},{"name":"REST","type":"class","children":[{"name":"MediaAttachmentSerializer","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]},{"name":"ReactComponentHelper","type":"class","children":[{"name":"react_component","type":"function","location":"app/helpers/react_component_helper.rb:4","static":false}]},{"name":"ApplicationHelper","type":"class","children":[{"name":"fa_icon","type":"function","location":"app/helpers/application_helper.rb:108","static":false}]}]},{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"sensitized?","type":"function","location":"app/models/account.rb:265","static":false}]},{"name":"Status","type":"class","children":[{"name":"ordered_media_attachments","type":"function","location":"app/models/status.rb:271","static":false}]},{"name":"MediaAttachment","type":"class","children":[{"name":"not_processed?","type":"function","location":"app/models/media_attachment.rb:221","static":false},{"name":"needs_redownload?","type":"function","location":"app/models/media_attachment.rb:225","static":false},{"name":"local?","type":"function","location":"app/models/media_attachment.rb:217","static":false}]}]},{"name":"serializers/rest","type":"package","children":[{"name":"REST","type":"class","children":[{"name":"MediaAttachmentSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:10","static":false},{"name":"url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:14","static":false},{"name":"preview_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:28","static":false},{"name":"remote_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:24","static":false},{"name":"preview_remote_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:38","static":false},{"name":"text_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:42","static":false},{"name":"meta","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:46","static":false}]}]}]},{"name":"views","type":"package","children":[{"name":"app_views_statuses__attachment_list_html_haml","type":"class","children":[{"name":"render","type":"function","location":"app/views/statuses/_attachment_list.html.haml","static":true,"labels":["mvc.template"]}]}]}]},{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"lib/paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"storage_schema_version","type":"function","location":"lib/paperclip/attachment_extensions.rb:50","static":false},{"name":"meta","type":"function","location":"lib/paperclip/attachment_extensions.rb:5","static":false}]}]}]},{"name":"actionview","type":"package","children":[{"name":"ActionView","type":"class","children":[{"name":"Renderer","type":"class","children":[{"name":"render","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/renderer/renderer.rb:23","labels":["mvc.view"]}]},{"name":"PartialRenderer","type":"class","children":[{"name":"render","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/renderer/partial_renderer.rb:230","labels":["mvc.view"]}]},{"name":"Resolver","type":"class","children":[{"name":"find_all","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb:63","static":false,"labels":["mvc.template.resolver"]}]}]}]}],"events":[{"id":1625265,"event":"call","thread_id":9160,"defined_class":"MediaComponentHelper","method_id":"render_media_gallery_component","path":"app/helpers/media_component_helper.rb","lineno":48,"static":false,"parameters":[{"name":"status","class":"Status","object_id":8765220,"value":"#<Status:0x00007fdc0b5350b8>","kind":"req"},{"name":"options","class":"Hash","object_id":8765540,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"ActionView::Base","object_id":8765520,"value":"#<#<Class:0x00007fdc08605a18>:0x00007fdc082a4c48>"}},{"id":1625266,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"sensitized?","path":"app/models/account.rb","lineno":265,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8765240,"value":"#<Account:0x00007fdc082a4888>"}},{"id":1625267,"event":"return","thread_id":9160,"parent_id":1625266,"elapsed":3.044397453777492e-05,"elapsed_instrumentation":0.0001161539985332638},{"id":1625268,"event":"call","thread_id":9160,"defined_class":"StatusesHelper","method_id":"prefers_autoplay?","path":"app/helpers/statuses_helper.rb","lineno":85,"static":false,"parameters":[],"receiver":{"class":"ActionView::Base","object_id":8765520,"value":"#<#<Class:0x00007fdc08605a18>:0x00007fdc082a4c48>"}},{"id":1625269,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"ActiveSupport::HashWithIndifferentAccess","object_id":8765580,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":8765600,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc072fab58>"}},{"id":1625270,"event":"return","thread_id":9160,"parent_id":1625269,"elapsed":1.8555991118773818e-05,"elapsed_instrumentation":0.00013956398470327258,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc072fab58>","object_id":8765600}},{"id":1625271,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":8765600,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc072fab58>"}},{"id":1625272,"event":"return","thread_id":9160,"parent_id":1625271,"elapsed":3.7149875424802303e-06,"elapsed_instrumentation":8.13590013422072e-05},{"id":1625273,"event":"return","thread_id":9160,"parent_id":1625268,"elapsed":0.000858243991388008,"elapsed_instrumentation":6.678100908175111e-05},{"id":1625274,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"ordered_media_attachments","path":"app/models/status.rb","lineno":271,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":8765220,"value":"#<Status:0x00007fdc0b5350b8>"}},{"id":1625275,"event":"return","thread_id":9160,"parent_id":1625274,"elapsed":2.7247995603829622e-05,"elapsed_instrumentation":9.720600792206824e-05,"return_value":{"class":"ActiveRecord::Associations::CollectionProxy","value":"#<MediaAttachment::ActiveRecord_Associations_CollectionProxy:0x00007fdc08674da0>","object_id":8765620}},{"id":1625276,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"media_attachments\".* FROM \"media_attachments\" WHERE \"media_attachments\".\"status_id\" = $1 ORDER BY \"media_attachments\".\"id\" ASC","database_type":"postgres"}},{"id":1625277,"event":"return","thread_id":9160,"parent_id":1625276,"elapsed":0.000684814,"elapsed_instrumentation":0.00011270999675616622},{"id":1625278,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8765640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1625279,"event":"return","thread_id":9160,"parent_id":1625278,"elapsed":5.645008059218526e-06,"elapsed_instrumentation":0.00027901900466531515,"return_value":{"class":"Array","value":"[]","object_id":211300,"size":0}},{"id":1625280,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8765640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1625281,"event":"return","thread_id":9160,"parent_id":1625280,"elapsed":3.7080026231706142e-06,"elapsed_instrumentation":0.0001650649937801063,"return_value":{"class":"Array","value":"[]","object_id":211340,"size":0}},{"id":1625282,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"id","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625283,"event":"return","thread_id":9160,"parent_id":1625282,"elapsed":2.550799399614334e-05,"elapsed_instrumentation":0.00012045001494698226,"return_value":{"class":"String","value":"111360531139205621","object_id":8765680}},{"id":1625284,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625285,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"not_processed?","path":"app/models/media_attachment.rb","lineno":221,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":8765460,"value":"#<MediaAttachment:0x00007fdbf6494600>"}},{"id":1625286,"event":"return","thread_id":9160,"parent_id":1625285,"elapsed":5.071499617770314e-05,"elapsed_instrumentation":6.49730209261179e-05},{"id":1625287,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"needs_redownload?","path":"app/models/media_attachment.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":8765460,"value":"#<MediaAttachment:0x00007fdbf6494600>"}},{"id":1625288,"event":"return","thread_id":9160,"parent_id":1625287,"elapsed":5.5015989346429706e-05,"elapsed_instrumentation":0.0001494040188845247},{"id":1625289,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":8765300,"value":"/system/media_attachments/files/111/360/531/139/205/621/original/attachment.jpg"}},{"id":1625290,"event":"return","thread_id":9160,"parent_id":1625289,"elapsed":1.1704018106684089e-05,"elapsed_instrumentation":0.00026928901206701994,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1625291,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":8765460,"value":"#<MediaAttachment:0x00007fdbf6494600>"}},{"id":1625292,"event":"return","thread_id":9160,"parent_id":1625291,"elapsed":6.318005034700036e-06,"elapsed_instrumentation":7.439099135808647e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1625293,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"full_asset_url","path":"app/helpers/routing_helper.rb","lineno":17,"static":false,"parameters":[{"name":"source","class":"String","object_id":8765700,"value":"/system/media_attachments/files/111/360/531/139/205/621/original/attachment.jpg","kind":"req"},{"name":"options","class":"Hash","object_id":8765720,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625294,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"use_storage?","path":"app/helpers/routing_helper.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625295,"event":"return","thread_id":9160,"parent_id":1625294,"elapsed":2.0198000129312277e-05,"elapsed_instrumentation":5.2476010750979185e-05},{"id":1625296,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"asset_host","path":"app/helpers/routing_helper.rb","lineno":23,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625297,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625298,"event":"return","thread_id":9160,"parent_id":1625297,"elapsed":5.0140079110860825e-06,"elapsed_instrumentation":0.0001789579982869327,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":1625299,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625300,"event":"return","thread_id":9160,"parent_id":1625299,"elapsed":3.075023414567113e-06,"elapsed_instrumentation":0.0001131189928855747,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":1625301,"event":"return","thread_id":9160,"parent_id":1625296,"elapsed":0.0006764889985788614,"elapsed_instrumentation":7.823898340575397e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/","object_id":8765740}},{"id":1625302,"event":"return","thread_id":9160,"parent_id":1625293,"elapsed":0.0010516250040382147,"elapsed_instrumentation":0.0001280579890590161,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/360/531/139/205/621/original/attachment (...4 more characters)","object_id":8765760}},{"id":1625303,"event":"return","thread_id":9160,"parent_id":1625284,"elapsed":0.0021096029959153384,"elapsed_instrumentation":0.00010131200542673469,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/360/531/139/205/621/original/attachment (...4 more characters)","object_id":8765760}},{"id":1625304,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"preview_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":28,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625305,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"needs_redownload?","path":"app/models/media_attachment.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":8765460,"value":"#<MediaAttachment:0x00007fdbf6494600>"}},{"id":1625306,"event":"return","thread_id":9160,"parent_id":1625305,"elapsed":3.331201151013374e-05,"elapsed_instrumentation":8.765398524701595e-05},{"id":1625307,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":8765300,"value":"/system/media_attachments/files/111/360/531/139/205/621/original/attachment.jpg"}},{"id":1625308,"event":"return","thread_id":9160,"parent_id":1625307,"elapsed":1.2091011740267277e-05,"elapsed_instrumentation":0.00023784098448231816,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1625309,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":8765460,"value":"#<MediaAttachment:0x00007fdbf6494600>"}},{"id":1625310,"event":"return","thread_id":9160,"parent_id":1625309,"elapsed":5.793001037091017e-06,"elapsed_instrumentation":7.425801595672965e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1625311,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"full_asset_url","path":"app/helpers/routing_helper.rb","lineno":17,"static":false,"parameters":[{"name":"source","class":"String","object_id":8765780,"value":"/system/media_attachments/files/111/360/531/139/205/621/small/attachment.jpg","kind":"req"},{"name":"options","class":"Hash","object_id":8765800,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625312,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"use_storage?","path":"app/helpers/routing_helper.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625313,"event":"return","thread_id":9160,"parent_id":1625312,"elapsed":1.5158002497628331e-05,"elapsed_instrumentation":5.859098746441305e-05},{"id":1625314,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"asset_host","path":"app/helpers/routing_helper.rb","lineno":23,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625315,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625316,"event":"return","thread_id":9160,"parent_id":1625315,"elapsed":4.085974069312215e-06,"elapsed_instrumentation":0.00011471702600829303,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":1625317,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625318,"event":"return","thread_id":9160,"parent_id":1625317,"elapsed":4.662986611947417e-06,"elapsed_instrumentation":0.00010133598698303103,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":1625319,"event":"return","thread_id":9160,"parent_id":1625314,"elapsed":0.0003809969930443913,"elapsed_instrumentation":7.652802742086351e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/","object_id":8765820}},{"id":1625320,"event":"return","thread_id":9160,"parent_id":1625311,"elapsed":0.0007240120030473918,"elapsed_instrumentation":0.00029015098698437214,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/360/531/139/205/621/small/attachment.jp (...1 more characters)","object_id":8765840}},{"id":1625321,"event":"return","thread_id":9160,"parent_id":1625304,"elapsed":0.0020977490057703108,"elapsed_instrumentation":9.692198364064097e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/360/531/139/205/621/small/attachment.jp (...1 more characters)","object_id":8765840}},{"id":1625322,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"remote_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":24,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625323,"event":"return","thread_id":9160,"parent_id":1625322,"elapsed":1.2923992471769452e-05,"elapsed_instrumentation":7.243899744935334e-05},{"id":1625324,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"preview_remote_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":38,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625325,"event":"return","thread_id":9160,"parent_id":1625324,"elapsed":1.0616990039125085e-05,"elapsed_instrumentation":5.5862998124212027e-05},{"id":1625326,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"text_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":42,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625327,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":8765460,"value":"#<MediaAttachment:0x00007fdbf6494600>"}},{"id":1625328,"event":"return","thread_id":9160,"parent_id":1625327,"elapsed":6.0680031310766935e-06,"elapsed_instrumentation":6.9834990426898e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1625329,"event":"return","thread_id":9160,"parent_id":1625326,"elapsed":9.969700477086008e-05,"elapsed_instrumentation":5.029898602515459e-05},{"id":1625330,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"meta","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":46,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":8765660,"value":"#<REST::MediaAttachmentSerializer:0x00007fdc072f5f18>"}},{"id":1625331,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"meta","path":"lib/paperclip/attachment_extensions.rb","lineno":5,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":8765300,"value":"/system/media_attachments/files/111/360/531/139/205/621/original/attachment.jpg"}},{"id":1625332,"event":"return","thread_id":9160,"parent_id":1625331,"elapsed":0.00010828700033016503,"elapsed_instrumentation":0.0013890860136598349},{"id":1625333,"event":"return","thread_id":9160,"parent_id":1625330,"elapsed":0.0015294559998437762,"elapsed_instrumentation":5.3222960559651256e-05},{"id":1625334,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8765640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1625335,"event":"return","thread_id":9160,"parent_id":1625334,"elapsed":3.308989107608795e-06,"elapsed_instrumentation":0.00011855599586851895,"return_value":{"class":"Array","value":"[]","object_id":215680,"size":0}},{"id":1625336,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8765640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1625337,"event":"return","thread_id":9160,"parent_id":1625336,"elapsed":2.6279885787516832e-06,"elapsed_instrumentation":8.204599726013839e-05,"return_value":{"class":"Array","value":"[]","object_id":215700,"size":0}},{"id":1625338,"event":"call","thread_id":9160,"defined_class":"ReactComponentHelper","method_id":"react_component","path":"app/helpers/react_component_helper.rb","lineno":4,"static":false,"parameters":[{"name":"name","class":"Symbol","object_id":19330588,"value":":media_gallery","kind":"req"},{"name":"props","class":"Hash","object_id":8765860,"value":"{:sensitive=>false, :autoplay=>, :media=>[{:id=>111360531139205621, :type=>audio, :url=>https://cb6e6126.ngrok.io/system/media_attachments/files/111/360/531/139/205/621/original/attachment (...4 more characters), :preview_url=>https://cb6e6126.ngrok.io/system/media_attachments/files/111/360/531/139/205/621/small/attachment.jp (...1 more characters), :remote_url=>, :preview_remote_url=>, :text_url=>, :meta=>, :description=>, :blurhash=>}]}","kind":"opt","size":3},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ActionView::Base","object_id":8765520,"value":"#<#<Class:0x00007fdc08605a18>:0x00007fdc082a4c48>"}},{"id":1625339,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"ordered_media_attachments","path":"app/models/status.rb","lineno":271,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":8765220,"value":"#<Status:0x00007fdc0b5350b8>"}},{"id":1625340,"event":"return","thread_id":9160,"parent_id":1625339,"elapsed":3.4541008062660694e-05,"elapsed_instrumentation":0.00011619101860560477,"return_value":{"class":"ActiveRecord::Associations::CollectionProxy","value":"#<MediaAttachment::ActiveRecord_Associations_CollectionProxy:0x00007fdc08674da0>","object_id":8765620}},{"id":1625341,"event":"call","thread_id":9160,"defined_class":"inline_template","method_id":"render","static":true,"parameters":[],"receiver":{"class":"ActionView::Renderer","object_id":8766040,"value":"#<ActionView::Renderer:0x00007fdc0b484858>"}},{"id":1625342,"event":"call","thread_id":9160,"defined_class":"app_views_statuses__attachment_list_html_haml","method_id":"render","path":"app/views/statuses/_attachment_list.html.haml","static":true,"parameters":[],"receiver":{"class":"ActionView::PartialRenderer","object_id":8766060,"value":"#<ActionView::PartialRenderer:0x00007fdc072f34e8>"}},{"id":1625343,"event":"call","thread_id":9160,"defined_class":"ActionView::Resolver","method_id":"find_all","path":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb","lineno":63,"static":false,"parameters":[{"name":"name","class":"String","object_id":8765880,"value":"attachment_list","kind":"req"},{"name":"prefix","class":"String","object_id":8765900,"value":"statuses","kind":"opt"},{"name":"partial","class":"TrueClass","object_id":20,"value":"true","kind":"opt"},{"name":"details","class":"Hash","object_id":8765920,"value":"{:locale=>[:en], :formats=>[:html, :text, :js, :css, :ics, :csv, :vcf, :vtt, :png, :jpeg (...27 more items)], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :haml]}","kind":"opt","size":4},{"name":"key","class":"ActionView::TemplateDetails::Requested","object_id":1008220,"value":"#<ActionView::TemplateDetails::Requested:0x00007fdc0e5988e0>","kind":"opt"},{"name":"locals","class":"Array","object_id":8765940,"value":"[:attachments]","kind":"opt","size":1}],"receiver":{"class":"ActionView::FileSystemResolver","object_id":212560,"value":"/workspaces/mastodon/app/views"}},{"id":1625344,"event":"return","thread_id":9160,"parent_id":1625343,"elapsed":9.818299440667033e-05,"elapsed_instrumentation":0.002091676025884226,"return_value":{"class":"Array","value":"[#<ActionView::Template:0x00007fdc08fea3d0>]","object_id":8765960,"size":1}},{"id":1625345,"event":"call","thread_id":9160,"defined_class":"ApplicationHelper","method_id":"fa_icon","path":"app/helpers/application_helper.rb","lineno":108,"static":false,"parameters":[{"name":"icon","class":"String","object_id":8765980,"value":"link","kind":"req"},{"name":"attributes","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActionView::Base","object_id":8765520,"value":"#<#<Class:0x00007fdc08605a18>:0x00007fdc082a4c48>"}},{"id":1625346,"event":"return","thread_id":9160,"parent_id":1625345,"elapsed":0.0001505959953647107,"elapsed_instrumentation":0.00045012697228230536,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<i class=\"fa fa-link\"></i>","object_id":8766000}},{"id":1625347,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":8765300,"value":"/system/media_attachments/files/111/360/531/139/205/621/original/attachment.jpg"}},{"id":1625348,"event":"return","thread_id":9160,"parent_id":1625347,"elapsed":3.339999238960445e-05,"elapsed_instrumentation":0.0006465570186264813,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1625349,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":8765460,"value":"#<MediaAttachment:0x00007fdbf6494600>"}},{"id":1625350,"event":"return","thread_id":9160,"parent_id":1625349,"elapsed":0.00011153100058436394,"elapsed_instrumentation":0.00019603598047979176,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1625351,"event":"return","thread_id":9160,"parent_id":1625342,"elapsed":0.00509407400386408,"elapsed_instrumentation":4.669601912610233e-05},{"id":1625352,"event":"return","thread_id":9160,"parent_id":1625341,"elapsed":0.005201621010201052,"elapsed_instrumentation":7.042501238174736e-05},{"id":1625353,"event":"return","thread_id":9160,"parent_id":1625338,"elapsed":0.005915032990742475,"elapsed_instrumentation":0.0002699939941521734,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<div data-component=\"MediaGallery\" data-props=\"{&quot;sensitive&quot;:false,&quot;autoplay&quot;:nul (...819 more characters)","object_id":8766020}},{"id":1625354,"event":"return","thread_id":9160,"parent_id":1625265,"elapsed":0.022698239015880972,"elapsed_instrumentation":0.00025847097276709974,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<div data-component=\"MediaGallery\" data-props=\"{&quot;sensitive&quot;:false,&quot;autoplay&quot;:nul (...819 more characters)","object_id":8766020}}]}