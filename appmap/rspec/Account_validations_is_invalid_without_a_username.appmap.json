{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Account validations is invalid without a username","source_location":"spec/models/account_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"Random","type":"class","children":[{"name":"random_bytes","type":"function","location":"OpenSSL::Random.random_bytes","static":true,"labels":["random.secure"]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]},{"name":"UnreservedUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unreserved_username_validator.rb:4","static":false}]}]}]}],"events":[{"id":532189,"event":"call","thread_id":9160,"defined_class":"OpenSSL::Random","method_id":"random_bytes","path":"OpenSSL::Random.random_bytes","static":true,"parameters":[{"name":"arg","class":"Integer","object_id":33,"value":"16","kind":"req"}],"receiver":{"class":"Module","object_id":208620,"value":"OpenSSL::Random"}},{"id":532190,"event":"return","thread_id":9160,"parent_id":532189,"elapsed":2.8771988581866026e-05,"elapsed_instrumentation":0.0003622699878178537,"return_value":{"class":"String","value":"\u001c__^_0\u001b=B____\u0018_'","object_id":3345000}},{"id":532191,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3345020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59d48>"}},{"id":532192,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532193,"event":"return","thread_id":9160,"parent_id":532192,"elapsed":1.2876000255346298e-05,"elapsed_instrumentation":0.00018516401178203523,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532194,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532195,"event":"return","thread_id":9160,"parent_id":532194,"elapsed":4.451983841136098e-06,"elapsed_instrumentation":7.688399637117982e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532196,"event":"return","thread_id":9160,"parent_id":532191,"elapsed":0.0004025230009574443,"elapsed_instrumentation":0.000209471007110551,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa3ac30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b040 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b1f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b4c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":208720,"size":4}},{"id":532197,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3345060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59898>"}},{"id":532198,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":208780,"value":"#<UniqueUsernameValidator:0x00007fdc16b80188>"}},{"id":532199,"event":"return","thread_id":9160,"parent_id":532198,"elapsed":1.1516007361933589e-05,"elapsed_instrumentation":0.0003126210067421198},{"id":532200,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532201,"event":"return","thread_id":9160,"parent_id":532200,"elapsed":8.046976290643215e-06,"elapsed_instrumentation":9.051401866599917e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532202,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532203,"event":"return","thread_id":9160,"parent_id":532202,"elapsed":5.375011824071407e-06,"elapsed_instrumentation":9.532098192721605e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532204,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532205,"event":"return","thread_id":9160,"parent_id":532204,"elapsed":5.673005944117904e-06,"elapsed_instrumentation":8.707700180821121e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532206,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532207,"event":"return","thread_id":9160,"parent_id":532206,"elapsed":8.822011295706034e-06,"elapsed_instrumentation":0.00013380098971538246,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532208,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532209,"event":"return","thread_id":9160,"parent_id":532208,"elapsed":5.943002179265022e-06,"elapsed_instrumentation":8.13209917396307e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532210,"event":"call","thread_id":9160,"defined_class":"UnreservedUsernameValidator","method_id":"validate","path":"app/validators/unreserved_username_validator.rb","lineno":4,"static":false,"parameters":[{"name":"account","class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>","kind":"req"}],"receiver":{"class":"UnreservedUsernameValidator","object_id":208800,"value":"#<UnreservedUsernameValidator:0x00007fdc16ba81b0>"}},{"id":532211,"event":"return","thread_id":9160,"parent_id":532210,"elapsed":8.47000046633184e-06,"elapsed_instrumentation":8.216698188334703e-05},{"id":532212,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532213,"event":"return","thread_id":9160,"parent_id":532212,"elapsed":4.763016477227211e-06,"elapsed_instrumentation":6.221901276148856e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532214,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532215,"event":"return","thread_id":9160,"parent_id":532214,"elapsed":7.013994036242366e-06,"elapsed_instrumentation":7.353699766099453e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532216,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532217,"event":"return","thread_id":9160,"parent_id":532216,"elapsed":8.749979315325618e-06,"elapsed_instrumentation":0.0003497629950288683,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532218,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532219,"event":"return","thread_id":9160,"parent_id":532218,"elapsed":5.6680000852793455e-06,"elapsed_instrumentation":8.012200123630464e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532220,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532221,"event":"return","thread_id":9160,"parent_id":532220,"elapsed":9.520997991785407e-06,"elapsed_instrumentation":9.4757997430861e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532222,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532223,"event":"return","thread_id":9160,"parent_id":532222,"elapsed":4.695990355685353e-06,"elapsed_instrumentation":7.386301876977086e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532224,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3345040,"value":"#<Account:0x00007fdc082a2588>"}},{"id":532225,"event":"return","thread_id":9160,"parent_id":532224,"elapsed":3.958994057029486e-06,"elapsed_instrumentation":6.164799560792744e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":532226,"event":"return","thread_id":9160,"parent_id":532197,"elapsed":0.004377971985377371,"elapsed_instrumentation":0.0004547059943433851,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa57768 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57920 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57ab0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57cb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58050 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58370 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58e10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa590e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa59360 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":209280,"size":71}},{"id":532227,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3345060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59898>"}},{"id":532228,"event":"return","thread_id":9160,"parent_id":532227,"elapsed":5.111010977998376e-06,"elapsed_instrumentation":0.00012034201063215733,"return_value":{"class":"Array","value":"[]","object_id":209300,"size":0}},{"id":532229,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3345020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59d48>"}},{"id":532230,"event":"return","thread_id":9160,"parent_id":532229,"elapsed":5.991201032884419e-05,"elapsed_instrumentation":0.00012012998922728002,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa3a730 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209320,"size":1}}]}