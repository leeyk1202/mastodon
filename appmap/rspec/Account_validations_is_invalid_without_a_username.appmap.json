{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Account validations is invalid without a username","source_location":"spec/models/account_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"Random","type":"class","children":[{"name":"random_bytes","type":"function","location":"OpenSSL::Random.random_bytes","static":true,"labels":["random.secure"]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]},{"name":"UnreservedUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unreserved_username_validator.rb:4","static":false}]}]}]}],"events":[{"id":622813,"event":"call","thread_id":9160,"defined_class":"OpenSSL::Random","method_id":"random_bytes","path":"OpenSSL::Random.random_bytes","static":true,"parameters":[{"name":"arg","class":"Integer","object_id":33,"value":"16","kind":"req"}],"receiver":{"class":"Module","object_id":322640,"value":"OpenSSL::Random"}},{"id":622814,"event":"return","thread_id":9160,"parent_id":622813,"elapsed":2.3777014575898647e-05,"elapsed_instrumentation":0.00017423398094251752,"return_value":{"class":"String","value":"07>\\___:___W\u001aHP","object_id":4086080}},{"id":622815,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4086100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":622816,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622817,"event":"return","thread_id":9160,"parent_id":622816,"elapsed":1.2692995369434357e-05,"elapsed_instrumentation":8.560699643567204e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622818,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622819,"event":"return","thread_id":9160,"parent_id":622818,"elapsed":4.189962055534124e-06,"elapsed_instrumentation":6.292702164500952e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622820,"event":"return","thread_id":9160,"parent_id":622815,"elapsed":0.00027560401940718293,"elapsed_instrumentation":0.0003919490263797343,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28e78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b2b5d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323140,"size":4}},{"id":622821,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4086140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":622822,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":323320,"value":"#<UniqueUsernameValidator:0x00007fc9402767b0>"}},{"id":622823,"event":"return","thread_id":9160,"parent_id":622822,"elapsed":8.272996637970209e-06,"elapsed_instrumentation":0.00013461505295708776},{"id":622824,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622825,"event":"return","thread_id":9160,"parent_id":622824,"elapsed":1.001701457425952e-05,"elapsed_instrumentation":0.0002967359614558518,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622826,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622827,"event":"return","thread_id":9160,"parent_id":622826,"elapsed":4.607019945979118e-06,"elapsed_instrumentation":7.620401447638869e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622828,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622829,"event":"return","thread_id":9160,"parent_id":622828,"elapsed":4.083034582436085e-06,"elapsed_instrumentation":6.057304563000798e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622830,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622831,"event":"return","thread_id":9160,"parent_id":622830,"elapsed":4.634959623217583e-06,"elapsed_instrumentation":6.894703255966306e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622832,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622833,"event":"return","thread_id":9160,"parent_id":622832,"elapsed":3.937981091439724e-06,"elapsed_instrumentation":6.375199882313609e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622834,"event":"call","thread_id":9160,"defined_class":"UnreservedUsernameValidator","method_id":"validate","path":"app/validators/unreserved_username_validator.rb","lineno":4,"static":false,"parameters":[{"name":"account","class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>","kind":"req"}],"receiver":{"class":"UnreservedUsernameValidator","object_id":323340,"value":"#<UnreservedUsernameValidator:0x00007fc94028c538>"}},{"id":622835,"event":"return","thread_id":9160,"parent_id":622834,"elapsed":7.360009476542473e-06,"elapsed_instrumentation":7.809203816577792e-05},{"id":622836,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622837,"event":"return","thread_id":9160,"parent_id":622836,"elapsed":4.115980118513107e-06,"elapsed_instrumentation":6.0747028328478336e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622838,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622839,"event":"return","thread_id":9160,"parent_id":622838,"elapsed":5.67000824958086e-06,"elapsed_instrumentation":0.00018354598432779312,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622840,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622841,"event":"return","thread_id":9160,"parent_id":622840,"elapsed":4.17797127738595e-06,"elapsed_instrumentation":6.538396701216698e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622842,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622843,"event":"return","thread_id":9160,"parent_id":622842,"elapsed":3.964989446103573e-06,"elapsed_instrumentation":5.820702062919736e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622844,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622845,"event":"return","thread_id":9160,"parent_id":622844,"elapsed":4.140019882470369e-06,"elapsed_instrumentation":5.824601976200938e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622846,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622847,"event":"return","thread_id":9160,"parent_id":622846,"elapsed":4.18099807575345e-06,"elapsed_instrumentation":5.8300967793911695e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622848,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4086120,"value":"#<Account:0x00007fc91a48f018>"}},{"id":622849,"event":"return","thread_id":9160,"parent_id":622848,"elapsed":4.147994332015514e-06,"elapsed_instrumentation":5.7464989367872477e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":622850,"event":"return","thread_id":9160,"parent_id":622821,"elapsed":0.00338527699932456,"elapsed_instrumentation":0.000227710057515651,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939c310e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c31f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c320d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32468 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c325f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32a08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c337f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":323620,"size":71}},{"id":622851,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4086140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":622852,"event":"return","thread_id":9160,"parent_id":622851,"elapsed":3.6410056054592133e-06,"elapsed_instrumentation":7.712701335549355e-05,"return_value":{"class":"Array","value":"[]","object_id":323640,"size":0}},{"id":622853,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4086100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":622854,"event":"return","thread_id":9160,"parent_id":622853,"elapsed":5.190499359741807e-05,"elapsed_instrumentation":0.0002044100547209382,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28b08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323660,"size":1}}]}