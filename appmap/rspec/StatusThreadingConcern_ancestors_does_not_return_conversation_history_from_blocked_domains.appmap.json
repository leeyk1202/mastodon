{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"StatusThreadingConcern #ancestors does not return conversation history from blocked domains","source_location":"spec/models/concerns/status_threading_concern_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountInteractions","type":"class","children":[{"name":"block_domain!","type":"function","location":"app/models/concerns/account_interactions.rb:169","static":false},{"name":"relations_map","type":"function","location":"app/models/concerns/account_interactions.rb:302","static":false}]},{"name":"StatusThreadingConcern","type":"class","children":[{"name":"ancestors","type":"function","location":"app/models/concerns/status_threading_concern.rb:6","static":false}]}]},{"name":"Status","type":"class","children":[{"name":"account_domain","type":"function","location":"app/models/status.rb:168","static":false}]},{"name":"Account","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false},{"name":"silenced?","type":"function","location":"app/models/account.rb:225","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"RequestPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/request_pool.rb:114","static":false}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:13","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:51","static":false}]}]}]},{"name":"StatusFilter","type":"class","children":[{"name":"filtered?","type":"function","location":"app/lib/status_filter.rb:12","static":false}]}]},{"name":"validators","type":"package","children":[{"name":"DomainValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"app/validators/domain_validator.rb:4","static":false}]}]},{"name":"policies","type":"package","children":[{"name":"StatusPolicy","type":"class","children":[{"name":"show?","type":"function","location":"app/policies/status_policy.rb:10","static":false}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Marshal","type":"class","children":[{"name":"dump","type":"function","location":"Marshal.dump","static":true,"labels":["serialize"]}]}]}],"events":[{"id":2739648,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"block_domain!","path":"app/models/concerns/account_interactions.rb","lineno":169,"static":false,"parameters":[{"name":"other_domain","class":"String","object_id":1574320,"value":"example.com","kind":"req"}],"receiver":{"class":"Account","object_id":13479600,"value":"#<Account:0x00007fc8e0d35148>"}},{"id":2739649,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_domain_blocks\".* FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2739650,"event":"return","thread_id":9160,"parent_id":2739649,"elapsed":0.001978408,"elapsed_instrumentation":0.00030619301833212376},{"id":2739651,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13479640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1341600,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930d12030>"}},{"id":2739652,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":13479660,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2739653,"event":"return","thread_id":9160,"parent_id":2739652,"elapsed":0.0004738059942610562,"elapsed_instrumentation":0.00020490598399192095,"return_value":{"class":"String","value":"example.com","object_id":13479680}},{"id":2739654,"event":"return","thread_id":9160,"parent_id":2739651,"elapsed":0.0007925670361146331,"elapsed_instrumentation":0.0002766610123217106,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932253e08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932253f48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1341660,"size":2}},{"id":2739655,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13479700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1341700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930d11e00>"}},{"id":2739656,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2739657,"event":"return","thread_id":9160,"parent_id":2739656,"elapsed":0.000993014,"elapsed_instrumentation":0.00035652099177241325},{"id":2739658,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"domain\" = $1 AND \"account_domain_blocks\".\"account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2739659,"event":"return","thread_id":9160,"parent_id":2739658,"elapsed":0.002524776,"elapsed_instrumentation":0.0002938220277428627},{"id":2739660,"event":"call","thread_id":9160,"defined_class":"DomainValidator","method_id":"validate_each","path":"app/validators/domain_validator.rb","lineno":4,"static":false,"parameters":[{"name":"record","class":"AccountDomainBlock","object_id":13479720,"value":"#<AccountDomainBlock:0x00007fc8e0d312c8>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":1241948,"value":":domain","kind":"req"},{"name":"value","class":"String","object_id":13479740,"value":"example.com","kind":"req"}],"receiver":{"class":"DomainValidator","object_id":1341760,"value":"#<DomainValidator:0x00007fc938ed7318>"}},{"id":2739661,"event":"return","thread_id":9160,"parent_id":2739660,"elapsed":6.691896123811603e-05,"elapsed_instrumentation":0.0003007150371558964},{"id":2739662,"event":"return","thread_id":9160,"parent_id":2739655,"elapsed":0.005153579986654222,"elapsed_instrumentation":0.00019853701815009117,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932250ed8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932251090 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932251310 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9322514f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932251838 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1341780,"size":5}},{"id":2739663,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13479700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1341700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930d11e00>"}},{"id":2739664,"event":"return","thread_id":9160,"parent_id":2739663,"elapsed":3.998982720077038e-06,"elapsed_instrumentation":0.00014314893633127213,"return_value":{"class":"Array","value":"[]","object_id":1341800,"size":0}},{"id":2739665,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13479640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1341600,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930d12030>"}},{"id":2739666,"event":"return","thread_id":9160,"parent_id":2739665,"elapsed":2.736982423812151e-06,"elapsed_instrumentation":8.099700789898634e-05,"return_value":{"class":"Array","value":"[]","object_id":1341820,"size":0}},{"id":2739667,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13479760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1341860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930d11270>"}},{"id":2739668,"event":"return","thread_id":9160,"parent_id":2739667,"elapsed":6.232794839888811e-05,"elapsed_instrumentation":0.00010191503679379821,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932267110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1341880,"size":1}},{"id":2739669,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"account_domain_blocks\" (\"domain\", \"created_at\", \"updated_at\", \"account_id\") VALUES ($1, $2, $3, $4) RETURNING \"id\"","database_type":"postgres"}},{"id":2739670,"event":"return","thread_id":9160,"parent_id":2739669,"elapsed":0.001344612,"elapsed_instrumentation":0.00022077799076214433},{"id":2739671,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13479760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1341860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930d11270>"}},{"id":2739672,"event":"return","thread_id":9160,"parent_id":2739671,"elapsed":8.379982318729162e-06,"elapsed_instrumentation":0.0002836489584296942,"return_value":{"class":"Array","value":"[]","object_id":1341900,"size":0}},{"id":2739673,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2739674,"event":"return","thread_id":9160,"parent_id":2739673,"elapsed":0.000697485,"elapsed_instrumentation":0.00017298496095463634},{"id":2739675,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13479780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1341940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930d104b0>"}},{"id":2739676,"event":"return","thread_id":9160,"parent_id":2739675,"elapsed":1.2958014849573374e-05,"elapsed_instrumentation":0.00030520098516717553,"return_value":{"class":"Array","value":"[]","object_id":1341960,"size":0}},{"id":2739677,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13479780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1341940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930d104b0>"}},{"id":2739678,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":13479800,"value":"Cache delete_matched: \"relationship:111361431732846453:*\"\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2739679,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":13479820,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":13479840,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2739680,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":13479860,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":13479880,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2739681,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2739682,"event":"return","thread_id":13276700,"parent_id":2739681,"elapsed":1.2082979083061218e-05,"elapsed_instrumentation":0.0002326040412299335,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2739683,"event":"return","thread_id":13276700,"parent_id":2739680,"elapsed":0.0003802020219154656,"elapsed_instrumentation":0.00033965095644816756,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2739684,"event":"return","thread_id":13276700,"parent_id":2739679,"elapsed":0.0007686860044486821,"elapsed_instrumentation":0.0006662600208073854,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2739685,"event":"return","thread_id":9160,"parent_id":2739678,"elapsed":0.006300786975771189,"elapsed_instrumentation":0.00046601903159171343,"return_value":{"class":"Integer","value":"58","object_id":117}},{"id":2739686,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":13479900,"value":"Cache delete: exclude_domains_for:111361431732846453\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2739687,"event":"return","thread_id":9160,"parent_id":2739686,"elapsed":0.0017623440362513065,"elapsed_instrumentation":0.00040072499541565776,"return_value":{"class":"Integer","value":"53","object_id":107}},{"id":2739688,"event":"return","thread_id":9160,"parent_id":2739677,"elapsed":0.010141086007934064,"elapsed_instrumentation":0.0006068419897928834,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9322602e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932260158 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342020,"size":2}},{"id":2739689,"event":"return","thread_id":9160,"parent_id":2739648,"elapsed":0.03220345702720806,"elapsed_instrumentation":0.0004400070174597204,"return_value":{"class":"AccountDomainBlock","value":"#<AccountDomainBlock:0x00007fc8e0d312c8>","object_id":13479720}},{"id":2739690,"event":"call","thread_id":9160,"defined_class":"StatusThreadingConcern","method_id":"ancestors","path":"app/models/concerns/status_threading_concern.rb","lineno":6,"static":false,"parameters":[{"name":"limit","class":"Integer","object_id":9,"value":"4","kind":"req"},{"name":"account","class":"Account","object_id":13479600,"value":"#<Account:0x00007fc8e0d35148>","kind":"opt"}],"receiver":{"class":"Status","object_id":13479560,"value":"#<Status:0x00007fc933dfcec0>"}},{"id":2739691,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":13479920,"value":"Cache read: ancestors:111361431732834489 ({:compress=>false, :compress_threshold=>1024})\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2739692,"event":"return","thread_id":9160,"parent_id":2739691,"elapsed":0.0012349290191195905,"elapsed_instrumentation":0.0003599909832701087,"return_value":{"class":"Integer","value":"89","object_id":179}},{"id":2739693,"event":"call","thread_id":9160,"sql_query":{"sql":"WITH RECURSIVE search_tree(id, in_reply_to_id, path) AS ( SELECT id, in_reply_to_id, ARRAY[id] FROM statuses WHERE id = 111361431732834488 UNION ALL SELECT statuses.id, statuses.in_reply_to_id, path || statuses.id FROM search_tree JOIN statuses ON statuses.id = search_tree.in_reply_to_id WHERE NOT statuses.id = ANY(path) ) SELECT id FROM search_tree ORDER BY path LIMIT 4","database_type":"postgres"}},{"id":2739694,"event":"return","thread_id":9160,"parent_id":2739693,"elapsed":0.002224299,"elapsed_instrumentation":0.00040387699846178293},{"id":2739695,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":13479940,"value":"Cache write: ancestors:111361431732834489 ({:compress=>false, :compress_threshold=>1024})\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2739696,"event":"return","thread_id":9160,"parent_id":2739695,"elapsed":0.0016028989921323955,"elapsed_instrumentation":0.000419005926232785,"return_value":{"class":"Integer","value":"90","object_id":181}},{"id":2739697,"event":"call","thread_id":9160,"defined_class":"Marshal","method_id":"dump","path":"Marshal.dump","static":true,"parameters":[{"name":"arg","class":"Array","object_id":13479960,"value":"[{:limit=>4, :ids=>[111361431732834486, 111361431732834487, 111361431732834488]}]","kind":"rest","size":1}],"receiver":{"class":"Module","object_id":318180,"value":"Marshal"}},{"id":2739698,"event":"return","thread_id":9160,"parent_id":2739697,"elapsed":2.754305023699999e-05,"elapsed_instrumentation":0.0004192459746263921,"return_value":{"class":"String","value":"\u0004\b{\u0007:\nlimiti\t:\bids[\bl+\t_P\u001d____\u0001l+\t_P\u001d____\u0001l+\t_P\u001d____\u0001","object_id":13479980}},{"id":2739699,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"statuses\".* FROM \"statuses\" WHERE \"statuses\".\"deleted_at\" IS NULL AND \"statuses\".\"id\" IN ($1, $2, $3) ORDER BY \"statuses\".\"id\" DESC","database_type":"postgres"}},{"id":2739700,"event":"return","thread_id":9160,"parent_id":2739699,"elapsed":0.00164941,"elapsed_instrumentation":0.0001348330406472087},{"id":2739701,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN ($1, $2, $3)","database_type":"postgres"}},{"id":2739702,"event":"return","thread_id":9160,"parent_id":2739701,"elapsed":0.002323426,"elapsed_instrumentation":0.00017313903663307428},{"id":2739703,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":13480060,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":13480080,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":13480000,"value":"#<Status:0x00007fc9337e1220>"}},{"id":2739704,"event":"return","thread_id":9160,"parent_id":2739703,"elapsed":4.335201811045408e-05,"elapsed_instrumentation":0.0003021309385076165,"return_value":{"class":"String","value":"example.com","object_id":13480100}},{"id":2739705,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":13480120,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":13480140,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":13480020,"value":"#<Status:0x00007fc9337e0ff0>"}},{"id":2739706,"event":"return","thread_id":9160,"parent_id":2739705,"elapsed":1.7351005226373672e-05,"elapsed_instrumentation":0.00012149097165092826},{"id":2739707,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":13480160,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":13480180,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":13480040,"value":"#<Status:0x00007fc9337e0d20>"}},{"id":2739708,"event":"return","thread_id":9160,"parent_id":2739707,"elapsed":1.568399602547288e-05,"elapsed_instrumentation":9.339896496385336e-05},{"id":2739709,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"relations_map","path":"app/models/concerns/account_interactions.rb","lineno":302,"static":false,"parameters":[{"name":"account_ids","class":"Array","object_id":13480200,"value":"[111361431732846451, 111361431732846452, 111361431732846450]","kind":"req","size":3},{"name":"domains","class":"Array","object_id":13480220,"value":"[example.com]","kind":"opt","size":1},{"name":"options","class":"Hash","object_id":13480240,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"Account","object_id":13479600,"value":"#<Account:0x00007fc8e0d35148>"}},{"id":2739710,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"blocks\".\"account_id\" FROM \"blocks\" WHERE \"blocks\".\"account_id\" IN ($1, $2, $3) AND \"blocks\".\"target_account_id\" = $4","database_type":"postgres"}},{"id":2739711,"event":"return","thread_id":9160,"parent_id":2739710,"elapsed":0.001328078,"elapsed_instrumentation":0.00014447898138314486},{"id":2739712,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"target_account_id\" IN ($1, $2, $3) AND \"follows\".\"account_id\" = $4","database_type":"postgres"}},{"id":2739713,"event":"return","thread_id":9160,"parent_id":2739712,"elapsed":0.001216248,"elapsed_instrumentation":0.00021675496827811003},{"id":2739714,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"blocks\".\"target_account_id\" FROM \"blocks\" WHERE \"blocks\".\"target_account_id\" IN ($1, $2, $3) AND \"blocks\".\"account_id\" = $4","database_type":"postgres"}},{"id":2739715,"event":"return","thread_id":9160,"parent_id":2739714,"elapsed":0.001459452,"elapsed_instrumentation":0.00043289700988680124},{"id":2739716,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"mutes\".* FROM \"mutes\" WHERE \"mutes\".\"target_account_id\" IN ($1, $2, $3) AND \"mutes\".\"account_id\" = $4","database_type":"postgres"}},{"id":2739717,"event":"return","thread_id":9160,"parent_id":2739716,"elapsed":0.001666669,"elapsed_instrumentation":0.00022765295580029488},{"id":2739718,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_domain_blocks\".\"domain\" FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" = $2","database_type":"postgres"}},{"id":2739719,"event":"return","thread_id":9160,"parent_id":2739718,"elapsed":0.001956398,"elapsed_instrumentation":0.0003807919565588236},{"id":2739720,"event":"return","thread_id":9160,"parent_id":2739709,"elapsed":0.023306035029236227,"elapsed_instrumentation":0.000598815968260169,"return_value":{"class":"Hash","value":"{:blocked_by=>{}, :following=>{}, :blocking=>{}, :muting=>{}, :domain_blocking_by_domain=>{example.com=>true}}","object_id":13480260,"size":5}},{"id":2739721,"event":"call","thread_id":9160,"defined_class":"StatusFilter","method_id":"filtered?","path":"app/lib/status_filter.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"StatusFilter","object_id":13480280,"value":"#<StatusFilter:0x00007fc93379afc8>"}},{"id":2739722,"event":"call","thread_id":9160,"defined_class":"StatusPolicy","method_id":"show?","path":"app/policies/status_policy.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"StatusPolicy","object_id":13480300,"value":"#<StatusPolicy:0x00007fc93379a2f8>"}},{"id":2739723,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13480320,"value":"#<Account:0x00007fc8e0d4f7a0>"}},{"id":2739724,"event":"return","thread_id":9160,"parent_id":2739723,"elapsed":3.8905011024326086e-05,"elapsed_instrumentation":0.00010958296479657292},{"id":2739725,"event":"return","thread_id":9160,"parent_id":2739722,"elapsed":0.0003243660321459174,"elapsed_instrumentation":0.00015995802823454142,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2739726,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":13480340,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":13480360,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":13480000,"value":"#<Status:0x00007fc9337e1220>"}},{"id":2739727,"event":"return","thread_id":9160,"parent_id":2739726,"elapsed":2.8890033718198538e-05,"elapsed_instrumentation":0.00038169597974047065,"return_value":{"class":"String","value":"example.com","object_id":13480100}},{"id":2739728,"event":"return","thread_id":9160,"parent_id":2739721,"elapsed":0.0010636660153977573,"elapsed_instrumentation":0.00018396996892988682,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2739729,"event":"call","thread_id":9160,"defined_class":"StatusFilter","method_id":"filtered?","path":"app/lib/status_filter.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"StatusFilter","object_id":13480380,"value":"#<StatusFilter:0x00007fc933793250>"}},{"id":2739730,"event":"call","thread_id":9160,"defined_class":"StatusPolicy","method_id":"show?","path":"app/policies/status_policy.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"StatusPolicy","object_id":13480400,"value":"#<StatusPolicy:0x00007fc933791ce8>"}},{"id":2739731,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13480420,"value":"#<Account:0x00007fc8e0d4f660>"}},{"id":2739732,"event":"return","thread_id":9160,"parent_id":2739731,"elapsed":3.113801358267665e-05,"elapsed_instrumentation":0.00011696602450683713},{"id":2739733,"event":"return","thread_id":9160,"parent_id":2739730,"elapsed":0.0003017699928022921,"elapsed_instrumentation":0.0003640429931692779,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2739734,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":13480440,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":13480460,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":13480020,"value":"#<Status:0x00007fc9337e0ff0>"}},{"id":2739735,"event":"return","thread_id":9160,"parent_id":2739734,"elapsed":4.3966982048004866e-05,"elapsed_instrumentation":0.00048294104635715485},{"id":2739736,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13479600,"value":"#<Account:0x00007fc8e0d35148>"}},{"id":2739737,"event":"return","thread_id":9160,"parent_id":2739736,"elapsed":0.00010960799409076571,"elapsed_instrumentation":0.0004435110022313893},{"id":2739738,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13480420,"value":"#<Account:0x00007fc8e0d4f660>"}},{"id":2739739,"event":"return","thread_id":9160,"parent_id":2739738,"elapsed":4.067900590598583e-05,"elapsed_instrumentation":0.00019478698959574103},{"id":2739740,"event":"return","thread_id":9160,"parent_id":2739729,"elapsed":0.0025056570302695036,"elapsed_instrumentation":0.00021401903359219432},{"id":2739741,"event":"call","thread_id":9160,"defined_class":"StatusFilter","method_id":"filtered?","path":"app/lib/status_filter.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"StatusFilter","object_id":13480480,"value":"#<StatusFilter:0x00007fc9337aadd8>"}},{"id":2739742,"event":"call","thread_id":9160,"defined_class":"StatusPolicy","method_id":"show?","path":"app/policies/status_policy.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"StatusPolicy","object_id":13480500,"value":"#<StatusPolicy:0x00007fc9337a90c8>"}},{"id":2739743,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13480520,"value":"#<Account:0x00007fc8e0d4f8e0>"}},{"id":2739744,"event":"return","thread_id":9160,"parent_id":2739743,"elapsed":3.2787967938929796e-05,"elapsed_instrumentation":0.0001427939860150218},{"id":2739745,"event":"return","thread_id":9160,"parent_id":2739742,"elapsed":0.0003815160016529262,"elapsed_instrumentation":0.00016764795873314142,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2739746,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":13480540,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":13480560,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":13480040,"value":"#<Status:0x00007fc9337e0d20>"}},{"id":2739747,"event":"return","thread_id":9160,"parent_id":2739746,"elapsed":6.89930166117847e-05,"elapsed_instrumentation":0.00019954098388552666},{"id":2739748,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13479600,"value":"#<Account:0x00007fc8e0d35148>"}},{"id":2739749,"event":"return","thread_id":9160,"parent_id":2739748,"elapsed":1.644296571612358e-05,"elapsed_instrumentation":0.00014024903066456318},{"id":2739750,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13480520,"value":"#<Account:0x00007fc8e0d4f8e0>"}},{"id":2739751,"event":"return","thread_id":9160,"parent_id":2739750,"elapsed":2.7597008738666773e-05,"elapsed_instrumentation":0.0001079849898815155},{"id":2739752,"event":"return","thread_id":9160,"parent_id":2739741,"elapsed":0.0015343649429269135,"elapsed_instrumentation":0.00021253700833767653},{"id":2739753,"event":"return","thread_id":9160,"parent_id":2739690,"elapsed":0.05523356201592833,"elapsed_instrumentation":0.004659323021769524,"return_value":{"class":"Array","value":"[#<Status:0x00007fc9337e0d20>, #<Status:0x00007fc9337e0ff0>]","object_id":13480580,"size":2}}]}