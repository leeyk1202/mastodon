{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Trends::Tags #add records history","source_location":"spec/models/trends/tags_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Tag","type":"class","children":[{"name":"history","type":"function","location":"app/models/tag.rb:109","static":false}]},{"name":"trends","type":"package","children":[{"name":"Trends","type":"class","children":[{"name":"History","type":"class","children":[{"name":"get","type":"function","location":"app/models/trends/history.rb:77","static":false},{"name":"Day","type":"class","children":[{"name":"accounts","type":"function","location":"app/models/trends/history.rb:35","static":false},{"name":"key_for","type":"function","location":"app/models/trends/history.rb:58","static":false},{"name":"key_prefix","type":"function","location":"app/models/trends/history.rb:67","static":false}]}]}]}]},{"name":"concerns","type":"package","children":[{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false}]}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]}]}]}],"events":[{"id":1969619,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10587500,"value":"#<Tag:0x00007fdbf4096550>"}},{"id":1969620,"event":"return","thread_id":9160,"parent_id":1969619,"elapsed":6.205984391272068e-06,"elapsed_instrumentation":0.00025181000819429755,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fdc096041f8>","object_id":10587520}},{"id":1969621,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":10587540,"value":"2021-11-14T10:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":10587520,"value":"#<Trends::History:0x00007fdc096041f8>"}},{"id":1969622,"event":"return","thread_id":9160,"parent_id":1969621,"elapsed":4.2692001443356276e-05,"elapsed_instrumentation":0.00019797097775153816,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fdc09603988>","object_id":10587560}},{"id":1969623,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10587560,"value":"#<Trends::History::Day:0x00007fdc09603988>"}},{"id":1969624,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":10587560,"value":"#<Trends::History::Day:0x00007fdc09603988>"}},{"id":1969625,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10587580,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10587600,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969626,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969627,"event":"return","thread_id":9160,"parent_id":1969626,"elapsed":3.0949886422604322e-06,"elapsed_instrumentation":8.423399413004518e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1969628,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":10587560,"value":"#<Trends::History::Day:0x00007fdc09603988>"}},{"id":1969629,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10587560,"value":"#<Trends::History::Day:0x00007fdc09603988>"}},{"id":1969630,"event":"return","thread_id":9160,"parent_id":1969629,"elapsed":1.4138000551611185e-05,"elapsed_instrumentation":7.396901492029428e-05,"return_value":{"class":"String","value":"activity:tags:141:1636848000","object_id":10587620}},{"id":1969631,"event":"return","thread_id":9160,"parent_id":1969628,"elapsed":0.00011213499237783253,"elapsed_instrumentation":0.00011808201088570058,"return_value":{"class":"String","value":"activity:tags:141:1636848000:accounts","object_id":10587640}},{"id":1969632,"event":"return","thread_id":9160,"parent_id":1969625,"elapsed":0.0008589049975853413,"elapsed_instrumentation":0.00023029398289509118,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1969633,"event":"return","thread_id":9160,"parent_id":1969624,"elapsed":0.0011173200036864728,"elapsed_instrumentation":8.500801050104201e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1969634,"event":"return","thread_id":9160,"parent_id":1969623,"elapsed":0.0012248060083948076,"elapsed_instrumentation":8.70879739522934e-05,"return_value":{"class":"Integer","value":"1","object_id":3}}]}