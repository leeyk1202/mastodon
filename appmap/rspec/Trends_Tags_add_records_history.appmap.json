{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Trends::Tags #add records history","source_location":"spec/models/trends/tags_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Tag","type":"class","children":[{"name":"history","type":"function","location":"app/models/tag.rb:109","static":false}]},{"name":"trends","type":"package","children":[{"name":"Trends","type":"class","children":[{"name":"History","type":"class","children":[{"name":"get","type":"function","location":"app/models/trends/history.rb:77","static":false},{"name":"Day","type":"class","children":[{"name":"accounts","type":"function","location":"app/models/trends/history.rb:35","static":false},{"name":"key_for","type":"function","location":"app/models/trends/history.rb:58","static":false},{"name":"key_prefix","type":"function","location":"app/models/trends/history.rb:67","static":false}]}]}]}]},{"name":"concerns","type":"package","children":[{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false}]}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]}]}]}],"events":[{"id":222869,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1755980,"value":"#<Tag:0x00007fc91a498fc8>"}},{"id":222870,"event":"return","thread_id":9160,"parent_id":222869,"elapsed":3.764987923204899e-06,"elapsed_instrumentation":0.00015945202903822064,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fc9315287b0>","object_id":1756000}},{"id":222871,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":1756020,"value":"2021-11-14T10:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":1756000,"value":"#<Trends::History:0x00007fc9315287b0>"}},{"id":222872,"event":"return","thread_id":9160,"parent_id":222871,"elapsed":2.667802618816495e-05,"elapsed_instrumentation":0.0001386459916830063,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fc9315203f8>","object_id":1756040}},{"id":222873,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1756040,"value":"#<Trends::History::Day:0x00007fc9315203f8>"}},{"id":222874,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":1756040,"value":"#<Trends::History::Day:0x00007fc9315203f8>"}},{"id":222875,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1756060,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1756080,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222876,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222877,"event":"return","thread_id":9160,"parent_id":222876,"elapsed":3.302993718534708e-06,"elapsed_instrumentation":0.00015533703844994307,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":222878,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":1756040,"value":"#<Trends::History::Day:0x00007fc9315203f8>"}},{"id":222879,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1756040,"value":"#<Trends::History::Day:0x00007fc9315203f8>"}},{"id":222880,"event":"return","thread_id":9160,"parent_id":222879,"elapsed":1.3042998034507036e-05,"elapsed_instrumentation":5.966797471046448e-05,"return_value":{"class":"String","value":"activity:tags:1203:1636848000","object_id":1756100}},{"id":222881,"event":"return","thread_id":9160,"parent_id":222878,"elapsed":9.221595246344805e-05,"elapsed_instrumentation":8.211907697841525e-05,"return_value":{"class":"String","value":"activity:tags:1203:1636848000:accounts","object_id":1756120}},{"id":222882,"event":"return","thread_id":9160,"parent_id":222875,"elapsed":0.000648994988296181,"elapsed_instrumentation":0.00021412107162177563,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":222883,"event":"return","thread_id":9160,"parent_id":222874,"elapsed":0.0008868399891071022,"elapsed_instrumentation":6.236298941075802e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":222884,"event":"return","thread_id":9160,"parent_id":222873,"elapsed":0.0009661350050009787,"elapsed_instrumentation":5.1943003199994564e-05,"return_value":{"class":"Integer","value":"1","object_id":3}}]}