{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"AfterBlockDomainFromAccountService purge followers from blocked domain","source_location":"spec/services/after_block_domain_from_account_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountInteractions","type":"class","children":[{"name":"follow!","type":"function","location":"app/models/concerns/account_interactions.rb:115","static":false},{"name":"following?","type":"function","location":"app/models/concerns/account_interactions.rb:198","static":false}]},{"name":"RateLimitable","type":"class","children":[{"name":"rate_limit=","type":"function","location":"app/models/concerns/rate_limitable.rb:6","static":false},{"name":"rate_limit?","type":"function","location":"app/models/concerns/rate_limitable.rb:10","static":false}]},{"name":"FollowLimitable","type":"class","children":[{"name":"bypass_follow_limit=","type":"function","location":"app/models/concerns/follow_limitable.rb:10","static":false},{"name":"bypass_follow_limit?","type":"function","location":"app/models/concerns/follow_limitable.rb:14","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"increment_count!","type":"function","location":"app/models/concerns/account_counters.rb:23","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false},{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"synchronization_uri_prefix","type":"function","location":"app/models/account.rb:409","static":false},{"name":"object_type","type":"function","location":"app/models/account.rb:385","static":false},{"name":"instance_actor?","type":"function","location":"app/models/account.rb:175","static":false},{"name":"to_param","type":"function","location":"app/models/account.rb:389","static":false}]},{"name":"Follow","type":"class","children":[{"name":"local?","type":"function","location":"app/models/follow.rb:36","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"generate_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:61","static":false},{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false}]},{"name":"Serializer","type":"class","children":[{"name":"inherited","type":"function","location":"app/lib/activitypub/serializer.rb:12","static":true},{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/serializer.rb:31","static":false}]},{"name":"Adapter","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/adapter.rb:14","static":false},{"name":"transform_key_casing!","type":"function","location":"app/lib/activitypub/adapter.rb:10","static":true}]},{"name":"CaseTransform","type":"class","children":[{"name":"camel_lower","type":"function","location":"app/lib/activitypub/case_transform.rb:9","static":true},{"name":"camel_lower_cache","type":"function","location":"app/lib/activitypub/case_transform.rb:5","static":true}]}]}]},{"name":"PotentialFriendshipTracker","type":"class","children":[{"name":"remove","type":"function","location":"app/lib/potential_friendship_tracker.rb:27","static":true}]}]},{"name":"helpers","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]},{"name":"ContextHelper","type":"class","children":[{"name":"serialized_context","type":"function","location":"app/helpers/context_helper.rb:41","static":false}]}]},{"name":"validators","type":"package","children":[{"name":"FollowLimitValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/follow_limit_validator.rb:7","static":false}]},{"name":"LanguageValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"app/validators/language_validator.rb:6","static":false}]}]},{"name":"services/concerns","type":"package","children":[{"name":"Payloadable","type":"class","children":[{"name":"serialize_payload","type":"function","location":"app/services/concerns/payloadable.rb:13","static":false}]}]},{"name":"serializers/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"RejectFollowSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/activitypub/reject_follow_serializer.rb:8","static":false},{"name":"type","type":"function","location":"app/serializers/activitypub/reject_follow_serializer.rb:12","static":false},{"name":"actor","type":"function","location":"app/serializers/activitypub/reject_follow_serializer.rb:16","static":false}]},{"name":"FollowSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:7","static":false},{"name":"type","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:11","static":false},{"name":"actor","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:15","static":false},{"name":"virtual_object","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:19","static":false}]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":170455,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"follow!","path":"app/models/concerns/account_interactions.rb","lineno":115,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>","kind":"req"},{"name":"reblogs","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"notify","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"bypass_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":1462040,"value":"#<Account:0x00007fc930db4ec0>"}},{"id":170456,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":170457,"event":"return","thread_id":9160,"parent_id":170456,"elapsed":0.00050541,"elapsed_instrumentation":7.366598583757877e-05},{"id":170458,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":1462100,"value":"#<Follow:0x00007fc930feed80>"}},{"id":170459,"event":"return","thread_id":9160,"parent_id":170458,"elapsed":4.64398181065917e-06,"elapsed_instrumentation":9.40470490604639e-05},{"id":170460,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":1462100,"value":"#<Follow:0x00007fc930feed80>"}},{"id":170461,"event":"return","thread_id":9160,"parent_id":170460,"elapsed":3.408989869058132e-06,"elapsed_instrumentation":6.0575956013053656e-05},{"id":170462,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":1462100,"value":"#<Follow:0x00007fc930feed80>"}},{"id":170463,"event":"return","thread_id":9160,"parent_id":170462,"elapsed":3.951019607484341e-06,"elapsed_instrumentation":0.0001274729729630053},{"id":170464,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":1462100,"value":"#<Follow:0x00007fc930feed80>"}},{"id":170465,"event":"return","thread_id":9160,"parent_id":170464,"elapsed":2.7850037440657616e-06,"elapsed_instrumentation":6.453797686845064e-05},{"id":170466,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931ff0>"}},{"id":170467,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"generate_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":61,"static":false,"parameters":[{"name":"_target","class":"Follow","object_id":1462100,"value":"#<Follow:0x00007fc930feed80>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170468,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170469,"event":"return","thread_id":9160,"parent_id":170468,"elapsed":5.1209935918450356e-06,"elapsed_instrumentation":0.0002113789669238031,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170470,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170471,"event":"return","thread_id":9160,"parent_id":170470,"elapsed":3.6730198189616203e-06,"elapsed_instrumentation":0.0001374160056002438,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170472,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":1462140,"value":"___(\u0015______m__8 "}},{"id":170473,"event":"return","thread_id":9160,"parent_id":170472,"elapsed":6.063026376068592e-06,"elapsed_instrumentation":0.00014587398618459702,"return_value":{"class":"Array","value":"[4174295848, 5514, 61828, 34762, 62061, 4171839520]","object_id":1462160,"size":6}},{"id":170474,"event":"return","thread_id":9160,"parent_id":170467,"elapsed":0.0009775650105439126,"elapsed_instrumentation":0.00011466100113466382,"return_value":{"class":"URI::HTTPS","value":"https://cb6e6126.ngrok.io/f8ceb328-158a-4184-87ca-f26df8a93820","object_id":1462180}},{"id":170475,"event":"return","thread_id":9160,"parent_id":170466,"elapsed":0.0011529990006238222,"elapsed_instrumentation":0.00013400398893281817,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324c9278 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c93b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342160,"size":2}},{"id":170476,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931d70>"}},{"id":170477,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit?","path":"app/models/concerns/follow_limitable.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":1462100,"value":"#<Follow:0x00007fc930feed80>"}},{"id":170478,"event":"return","thread_id":9160,"parent_id":170477,"elapsed":4.157016519457102e-06,"elapsed_instrumentation":0.00011766201350837946},{"id":170479,"event":"call","thread_id":9160,"defined_class":"FollowLimitValidator","method_id":"validate","path":"app/validators/follow_limit_validator.rb","lineno":7,"static":false,"parameters":[{"name":"follow","class":"Follow","object_id":1462100,"value":"#<Follow:0x00007fc930feed80>","kind":"req"}],"receiver":{"class":"FollowLimitValidator","object_id":1342220,"value":"#<FollowLimitValidator:0x00007fc93955dc50>"}},{"id":170480,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462040,"value":"#<Account:0x00007fc930db4ec0>"}},{"id":170481,"event":"return","thread_id":9160,"parent_id":170480,"elapsed":8.64500179886818e-06,"elapsed_instrumentation":5.0354981794953346e-05},{"id":170482,"event":"return","thread_id":9160,"parent_id":170479,"elapsed":0.00010460003977641463,"elapsed_instrumentation":9.515101555734873e-05},{"id":170483,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":170484,"event":"return","thread_id":9160,"parent_id":170483,"elapsed":0.000376184,"elapsed_instrumentation":7.585500134155154e-05},{"id":170485,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":170486,"event":"return","thread_id":9160,"parent_id":170485,"elapsed":0.001362817,"elapsed_instrumentation":6.236601620912552e-05},{"id":170487,"event":"call","thread_id":9160,"defined_class":"LanguageValidator","method_id":"validate_each","path":"app/validators/language_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"Follow","object_id":1462100,"value":"#<Follow:0x00007fc930feed80>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":9806428,"value":":languages","kind":"req"},{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"LanguageValidator","object_id":1342240,"value":"#<LanguageValidator:0x00007fc939554bc8>"}},{"id":170488,"event":"return","thread_id":9160,"parent_id":170487,"elapsed":4.373025149106979e-06,"elapsed_instrumentation":0.00011053093476220965},{"id":170489,"event":"return","thread_id":9160,"parent_id":170476,"elapsed":0.0027752810274250805,"elapsed_instrumentation":0.0001345439814031124,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324c6320 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c64d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c67a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6b68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6d48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342260,"size":6}},{"id":170490,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931d70>"}},{"id":170491,"event":"return","thread_id":9160,"parent_id":170490,"elapsed":3.450957592576742e-06,"elapsed_instrumentation":6.85880659148097e-05,"return_value":{"class":"Array","value":"[]","object_id":1342280,"size":0}},{"id":170492,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931ff0>"}},{"id":170493,"event":"return","thread_id":9160,"parent_id":170492,"elapsed":2.4469918571412563e-06,"elapsed_instrumentation":6.192497676238418e-05,"return_value":{"class":"Array","value":"[]","object_id":1342300,"size":0}},{"id":170494,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930ec0>"}},{"id":170495,"event":"return","thread_id":9160,"parent_id":170494,"elapsed":7.666699821129441e-05,"elapsed_instrumentation":9.076599963009357e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324fc1c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fc308 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342360,"size":2}},{"id":170496,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930c40>"}},{"id":170497,"event":"return","thread_id":9160,"parent_id":170496,"elapsed":2.5570043362677097e-06,"elapsed_instrumentation":8.830399019643664e-05,"return_value":{"class":"Array","value":"[]","object_id":1342420,"size":0}},{"id":170498,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"follows\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"show_reblogs\", \"uri\", \"notify\", \"languages\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING \"id\"","database_type":"postgres"}},{"id":170499,"event":"return","thread_id":9160,"parent_id":170498,"elapsed":0.000962239,"elapsed_instrumentation":7.158902008086443e-05},{"id":170500,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930c40>"}},{"id":170501,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit?","path":"app/models/concerns/rate_limitable.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":1462100,"value":"#<Follow:0x00007fc930feed80>"}},{"id":170502,"event":"return","thread_id":9160,"parent_id":170501,"elapsed":3.958994057029486e-06,"elapsed_instrumentation":5.5931974202394485e-05},{"id":170503,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":1462040,"value":"#<Account:0x00007fc930db4ec0>"}},{"id":170504,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":1462040,"value":"#<Account:0x00007fc930db4ec0>"}},{"id":170505,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361329164225575, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + 1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":170506,"event":"return","thread_id":9160,"parent_id":170505,"elapsed":0.000744429,"elapsed_instrumentation":6.47370470687747e-05},{"id":170507,"event":"return","thread_id":9160,"parent_id":170504,"elapsed":0.0013228200259618461,"elapsed_instrumentation":7.167202420532703e-05},{"id":170508,"event":"return","thread_id":9160,"parent_id":170503,"elapsed":0.0014162730076350272,"elapsed_instrumentation":0.0001021760399453342},{"id":170509,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170510,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170511,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361329164225576, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + 1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":170512,"event":"return","thread_id":9160,"parent_id":170511,"elapsed":0.000701375,"elapsed_instrumentation":5.9954996686428785e-05},{"id":170513,"event":"return","thread_id":9160,"parent_id":170510,"elapsed":0.001057102985214442,"elapsed_instrumentation":7.163698319345713e-05},{"id":170514,"event":"return","thread_id":9160,"parent_id":170509,"elapsed":0.0011475490173324943,"elapsed_instrumentation":8.372298907488585e-05},{"id":170515,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462040,"value":"#<Account:0x00007fc930db4ec0>"}},{"id":170516,"event":"return","thread_id":9160,"parent_id":170515,"elapsed":7.872004061937332e-06,"elapsed_instrumentation":6.552698323503137e-05},{"id":170517,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"synchronization_uri_prefix","path":"app/models/account.rb","lineno":409,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462040,"value":"#<Account:0x00007fc930db4ec0>"}},{"id":170518,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462040,"value":"#<Account:0x00007fc930db4ec0>"}},{"id":170519,"event":"return","thread_id":9160,"parent_id":170518,"elapsed":3.815046511590481e-06,"elapsed_instrumentation":4.2644969653338194e-05},{"id":170520,"event":"return","thread_id":9160,"parent_id":170517,"elapsed":9.043398313224316e-05,"elapsed_instrumentation":7.213797653093934e-05,"return_value":{"class":"String","value":"https://evil.org/","object_id":1462260}},{"id":170521,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1462280,"value":"Cache delete: followers_hash:111361329164225576:https://evil.org/\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":170522,"event":"return","thread_id":9160,"parent_id":170521,"elapsed":0.00054220698075369,"elapsed_instrumentation":9.835499804466963e-05,"return_value":{"class":"Integer","value":"66","object_id":133}},{"id":170523,"event":"return","thread_id":9160,"parent_id":170500,"elapsed":0.004067931033205241,"elapsed_instrumentation":0.0001448210095986724,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324fb390 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fb1d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fb020 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fae68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342480,"size":4}},{"id":170524,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930ec0>"}},{"id":170525,"event":"return","thread_id":9160,"parent_id":170524,"elapsed":3.0809896998107433e-06,"elapsed_instrumentation":7.70010519772768e-05,"return_value":{"class":"Array","value":"[]","object_id":1342500,"size":0}},{"id":170526,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":170527,"event":"return","thread_id":9160,"parent_id":170526,"elapsed":0.000488294,"elapsed_instrumentation":5.796999903395772e-05},{"id":170528,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":170529,"event":"return","thread_id":9160,"parent_id":170528,"elapsed":2.956017851829529e-06,"elapsed_instrumentation":8.919701213017106e-05,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":170530,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":170531,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1462320,"value":"Cache delete: relationship:111361329164225575:111361329164225576\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":170532,"event":"return","thread_id":9160,"parent_id":170531,"elapsed":0.0005707439850084484,"elapsed_instrumentation":9.063404286280274e-05,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":170533,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1462340,"value":"Cache delete: relationship:111361329164225576:111361329164225575\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":170534,"event":"return","thread_id":9160,"parent_id":170533,"elapsed":0.000595571007579565,"elapsed_instrumentation":0.00010263995500281453,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":170535,"event":"return","thread_id":9160,"parent_id":170530,"elapsed":0.0015573370037600398,"elapsed_instrumentation":8.85479967109859e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":170536,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222722658328451151,"value":"111361329164225575","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222722658328451153,"value":"111361329164225576","kind":"req"}],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":170537,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":170538,"event":"return","thread_id":9160,"parent_id":170537,"elapsed":4.2470055632293224e-06,"elapsed_instrumentation":6.482395110651851e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":170539,"event":"return","thread_id":9160,"parent_id":170536,"elapsed":0.0004533620085567236,"elapsed_instrumentation":8.933799108490348e-05},{"id":170540,"event":"return","thread_id":9160,"parent_id":170455,"elapsed":0.017493278020992875,"elapsed_instrumentation":0.0001844799262471497,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc930feed80>","object_id":1462100}},{"id":170541,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".\"id\" FROM \"notifications\" WHERE \"notifications\".\"account_id\" = $1 AND \"notifications\".\"from_account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"notifications\".\"id\" ASC LIMIT $3","database_type":"postgres"}},{"id":170542,"event":"return","thread_id":9160,"parent_id":170541,"elapsed":0.000999853,"elapsed_instrumentation":6.846699398010969e-05},{"id":170543,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"follows\".\"id\" ASC LIMIT $3","database_type":"postgres"}},{"id":170544,"event":"return","thread_id":9160,"parent_id":170543,"elapsed":0.001106852,"elapsed_instrumentation":7.513200398534536e-05},{"id":170545,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1 AND \"follows\".\"account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"follows\".\"id\" ASC LIMIT $3","database_type":"postgres"}},{"id":170546,"event":"return","thread_id":9160,"parent_id":170545,"elapsed":0.000998036,"elapsed_instrumentation":6.797199603170156e-05},{"id":170547,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1","database_type":"postgres"}},{"id":170548,"event":"return","thread_id":9160,"parent_id":170547,"elapsed":0.000842311,"elapsed_instrumentation":6.86740386299789e-05},{"id":170549,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":170550,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":170551,"event":"return","thread_id":9160,"parent_id":170550,"elapsed":0.000419081,"elapsed_instrumentation":7.114099571481347e-05},{"id":170552,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":170553,"event":"return","thread_id":9160,"parent_id":170552,"elapsed":0.000526641,"elapsed_instrumentation":6.319000385701656e-05},{"id":170554,"event":"return","thread_id":9160,"parent_id":170549,"elapsed":0.0030710080172866583,"elapsed_instrumentation":0.00016546098049730062,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":170555,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":170556,"event":"return","thread_id":9160,"parent_id":170555,"elapsed":0.000780469,"elapsed_instrumentation":6.922002648934722e-05},{"id":170557,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":170558,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":170559,"event":"return","thread_id":9160,"parent_id":170558,"elapsed":0.000567529,"elapsed_instrumentation":6.692699389532208e-05},{"id":170560,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":1462460,"value":"#<Account:0x00007fc930febe00>"}},{"id":170561,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":1462460,"value":"#<Account:0x00007fc930febe00>"}},{"id":170562,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361329164225575, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":170563,"event":"return","thread_id":9160,"parent_id":170562,"elapsed":0.00084544,"elapsed_instrumentation":6.341998232528567e-05},{"id":170564,"event":"return","thread_id":9160,"parent_id":170561,"elapsed":0.0012738259974867105,"elapsed_instrumentation":0.00011034106137230992},{"id":170565,"event":"return","thread_id":9160,"parent_id":170560,"elapsed":0.0014183379826135933,"elapsed_instrumentation":0.00023363903164863586},{"id":170566,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170567,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170568,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361329164225576, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":170569,"event":"return","thread_id":9160,"parent_id":170568,"elapsed":0.000716647,"elapsed_instrumentation":6.617396138608456e-05},{"id":170570,"event":"return","thread_id":9160,"parent_id":170567,"elapsed":0.0010816269787028432,"elapsed_instrumentation":7.280003046616912e-05},{"id":170571,"event":"return","thread_id":9160,"parent_id":170566,"elapsed":0.0011729209800250828,"elapsed_instrumentation":7.879704935476184e-05},{"id":170572,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462460,"value":"#<Account:0x00007fc930febe00>"}},{"id":170573,"event":"return","thread_id":9160,"parent_id":170572,"elapsed":0.00018111895769834518,"elapsed_instrumentation":7.976603228598833e-05},{"id":170574,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"synchronization_uri_prefix","path":"app/models/account.rb","lineno":409,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462460,"value":"#<Account:0x00007fc930febe00>"}},{"id":170575,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462460,"value":"#<Account:0x00007fc930febe00>"}},{"id":170576,"event":"return","thread_id":9160,"parent_id":170575,"elapsed":5.467969458550215e-06,"elapsed_instrumentation":4.780403105542064e-05},{"id":170577,"event":"return","thread_id":9160,"parent_id":170574,"elapsed":8.681201143190265e-05,"elapsed_instrumentation":9.007897460833192e-05,"return_value":{"class":"String","value":"https://evil.org/","object_id":1462480}},{"id":170578,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1462500,"value":"Cache delete: followers_hash:111361329164225576:https://evil.org/\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":170579,"event":"return","thread_id":9160,"parent_id":170578,"elapsed":0.0007710850331932306,"elapsed_instrumentation":9.983294876292348e-05,"return_value":{"class":"Integer","value":"66","object_id":133}},{"id":170580,"event":"return","thread_id":9160,"parent_id":170557,"elapsed":0.0059816400171257555,"elapsed_instrumentation":0.00016954599414020777,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":170581,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":170582,"event":"return","thread_id":9160,"parent_id":170581,"elapsed":0.000354368,"elapsed_instrumentation":6.76990021020174e-05},{"id":170583,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":170584,"event":"return","thread_id":9160,"parent_id":170583,"elapsed":3.5080011002719402e-06,"elapsed_instrumentation":0.00011906499275937676,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":170585,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":170586,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1462580,"value":"Cache delete: relationship:111361329164225575:111361329164225576\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":170587,"event":"return","thread_id":9160,"parent_id":170586,"elapsed":0.0008793669985607266,"elapsed_instrumentation":9.895599214360118e-05,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":170588,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1462600,"value":"Cache delete: relationship:111361329164225576:111361329164225575\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":170589,"event":"return","thread_id":9160,"parent_id":170588,"elapsed":0.000889408984221518,"elapsed_instrumentation":0.00011257198639214039,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":170590,"event":"return","thread_id":9160,"parent_id":170585,"elapsed":0.0022151530138216913,"elapsed_instrumentation":9.939499432221055e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":170591,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Serializer","method_id":"inherited","path":"app/lib/activitypub/serializer.rb","lineno":12,"static":true,"parameters":[{"name":"base","class":"Class","object_id":1462620,"value":"ActivityPub::RejectFollowSerializer","kind":"req"}],"receiver":{"class":"Class","object_id":79800,"value":"ActivityPub::Serializer"}},{"id":170592,"event":"return","thread_id":9160,"parent_id":170591,"elapsed":0.00020731001859530807,"elapsed_instrumentation":0.0003423879970796406,"return_value":{"class":"Hash","value":"{}","object_id":1462640,"size":0}},{"id":170593,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Serializer","method_id":"inherited","path":"app/lib/activitypub/serializer.rb","lineno":12,"static":true,"parameters":[{"name":"base","class":"Class","object_id":1462660,"value":"ActivityPub::FollowSerializer","kind":"req"}],"receiver":{"class":"Class","object_id":79800,"value":"ActivityPub::Serializer"}},{"id":170594,"event":"return","thread_id":9160,"parent_id":170593,"elapsed":0.00017968902830034494,"elapsed_instrumentation":0.0001326590427197516,"return_value":{"class":"Hash","value":"{}","object_id":1462680,"size":0}},{"id":170595,"event":"call","thread_id":9160,"defined_class":"Payloadable","method_id":"serialize_payload","path":"app/services/concerns/payloadable.rb","lineno":13,"static":false,"parameters":[{"name":"record","class":"Follow","object_id":1462540,"value":"#<Follow:0x00007fc930febf40>","kind":"req"},{"name":"serializer","class":"Class","object_id":1462620,"value":"ActivityPub::RejectFollowSerializer","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"AfterBlockDomainFromAccountService","object_id":1462740,"value":"#<AfterBlockDomainFromAccountService:0x00007fc933a35ee0>"}},{"id":170596,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":170597,"event":"return","thread_id":9160,"parent_id":170596,"elapsed":4.114990588277578e-06,"elapsed_instrumentation":0.00012467295164242387,"return_value":{"class":"Array","value":"[]","object_id":326200,"size":0}},{"id":170598,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":170599,"event":"return","thread_id":9160,"parent_id":170598,"elapsed":4.169007297605276e-06,"elapsed_instrumentation":0.000116793904453516,"return_value":{"class":"Array","value":"[]","object_id":326240,"size":0}},{"id":170600,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"serializable_hash","path":"app/lib/activitypub/adapter.rb","lineno":14,"static":false,"parameters":[{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::Adapter","object_id":1462780,"value":"#<ActivityPub::Adapter:0x00007fc933e840a0>"}},{"id":170601,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Serializer","method_id":"serializable_hash","path":"app/lib/activitypub/serializer.rb","lineno":31,"static":false,"parameters":[{"name":"adapter_options","class":"Hash","object_id":1462800,"value":"{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}}","kind":"opt","size":2},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"adapter_instance","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::RejectFollowSerializer","object_id":1462820,"value":"#<ActivityPub::RejectFollowSerializer:0x00007fc933e842f8>"}},{"id":170602,"event":"call","thread_id":9160,"defined_class":"ActivityPub::RejectFollowSerializer","method_id":"id","path":"app/serializers/activitypub/reject_follow_serializer.rb","lineno":8,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::RejectFollowSerializer","object_id":1462820,"value":"#<ActivityPub::RejectFollowSerializer:0x00007fc933e842f8>"}},{"id":170603,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170604,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170605,"event":"return","thread_id":9160,"parent_id":170604,"elapsed":1.605501165613532e-05,"elapsed_instrumentation":6.472499808296561e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":170606,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170607,"event":"return","thread_id":9160,"parent_id":170606,"elapsed":3.5850098356604576e-06,"elapsed_instrumentation":7.163797272369266e-05,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":170608,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170609,"event":"return","thread_id":9160,"parent_id":170608,"elapsed":8.500996045768261e-06,"elapsed_instrumentation":4.353997064754367e-05},{"id":170610,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170611,"event":"return","thread_id":9160,"parent_id":170610,"elapsed":4.870991688221693e-06,"elapsed_instrumentation":9.694899199530482e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170612,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170613,"event":"return","thread_id":9160,"parent_id":170612,"elapsed":2.247048541903496e-06,"elapsed_instrumentation":8.124898886308074e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170614,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170615,"event":"return","thread_id":9160,"parent_id":170614,"elapsed":1.7628015484660864e-05,"elapsed_instrumentation":6.159901386126876e-05,"return_value":{"class":"String","value":"alice","object_id":1462840}},{"id":170616,"event":"return","thread_id":9160,"parent_id":170603,"elapsed":0.0008060599793680012,"elapsed_instrumentation":8.759507909417152e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/alice","object_id":1462860}},{"id":170617,"event":"return","thread_id":9160,"parent_id":170602,"elapsed":0.0009587599779479206,"elapsed_instrumentation":7.174798520281911e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/alice#rejects/follows/5345","object_id":1462880}},{"id":170618,"event":"call","thread_id":9160,"defined_class":"ActivityPub::RejectFollowSerializer","method_id":"type","path":"app/serializers/activitypub/reject_follow_serializer.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::RejectFollowSerializer","object_id":1462820,"value":"#<ActivityPub::RejectFollowSerializer:0x00007fc933e842f8>"}},{"id":170619,"event":"return","thread_id":9160,"parent_id":170618,"elapsed":2.9559596441686153e-06,"elapsed_instrumentation":8.18910775706172e-05,"return_value":{"class":"String","value":"Reject","object_id":1462900}},{"id":170620,"event":"call","thread_id":9160,"defined_class":"ActivityPub::RejectFollowSerializer","method_id":"actor","path":"app/serializers/activitypub/reject_follow_serializer.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::RejectFollowSerializer","object_id":1462820,"value":"#<ActivityPub::RejectFollowSerializer:0x00007fc933e842f8>"}},{"id":170621,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170622,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170623,"event":"return","thread_id":9160,"parent_id":170622,"elapsed":9.256007615476847e-06,"elapsed_instrumentation":5.741300992667675e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":170624,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170625,"event":"return","thread_id":9160,"parent_id":170624,"elapsed":2.733024302870035e-06,"elapsed_instrumentation":5.3244992159307e-05,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":170626,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170627,"event":"return","thread_id":9160,"parent_id":170626,"elapsed":5.804002285003662e-06,"elapsed_instrumentation":4.3297011870890856e-05},{"id":170628,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170629,"event":"return","thread_id":9160,"parent_id":170628,"elapsed":2.9520015232264996e-06,"elapsed_instrumentation":8.715293370187283e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170630,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170631,"event":"return","thread_id":9160,"parent_id":170630,"elapsed":2.638960722833872e-06,"elapsed_instrumentation":8.042302215471864e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170632,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170633,"event":"return","thread_id":9160,"parent_id":170632,"elapsed":5.775014869868755e-06,"elapsed_instrumentation":6.0048012528568506e-05,"return_value":{"class":"String","value":"alice","object_id":1462840}},{"id":170634,"event":"return","thread_id":9160,"parent_id":170621,"elapsed":0.0006127500091679394,"elapsed_instrumentation":0.00015896791592240334,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/alice","object_id":1462920}},{"id":170635,"event":"return","thread_id":9160,"parent_id":170620,"elapsed":0.0008097540121525526,"elapsed_instrumentation":6.564101204276085e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/alice","object_id":1462920}},{"id":170636,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Serializer","method_id":"serializable_hash","path":"app/lib/activitypub/serializer.rb","lineno":31,"static":false,"parameters":[{"name":"adapter_options","class":"Hash","object_id":1462940,"value":"{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}, :include_directive=>#<JSONAPI::IncludeDirective:0x00007fc933f46448>, :adapter_instance=>ActiveModelSerializers::Adapter::Attributes}","kind":"opt","size":4},{"name":"options","class":"Hash","object_id":1462960,"value":"{}","kind":"opt","size":0},{"name":"adapter_instance","class":"Class","object_id":1462980,"value":"ActiveModelSerializers::Adapter::Attributes","kind":"opt"}],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":1463000,"value":"#<ActivityPub::FollowSerializer:0x00007fc933f45700>"}},{"id":170637,"event":"call","thread_id":9160,"defined_class":"ActivityPub::FollowSerializer","method_id":"id","path":"app/serializers/activitypub/follow_serializer.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":1463000,"value":"#<ActivityPub::FollowSerializer:0x00007fc933f45700>"}},{"id":170638,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Follow","object_id":1462540,"value":"#<Follow:0x00007fc930febf40>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170639,"event":"call","thread_id":9160,"defined_class":"Follow","method_id":"local?","path":"app/models/follow.rb","lineno":36,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":1462540,"value":"#<Follow:0x00007fc930febf40>"}},{"id":170640,"event":"return","thread_id":9160,"parent_id":170639,"elapsed":2.896005753427744e-06,"elapsed_instrumentation":6.465299520641565e-05},{"id":170641,"event":"return","thread_id":9160,"parent_id":170638,"elapsed":0.0001047619734890759,"elapsed_instrumentation":8.206104394048452e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/f8ceb328-158a-4184-87ca-f26df8a93820","object_id":1463020}},{"id":170642,"event":"return","thread_id":9160,"parent_id":170637,"elapsed":0.00020759203471243382,"elapsed_instrumentation":7.614499190822244e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/f8ceb328-158a-4184-87ca-f26df8a93820","object_id":1463020}},{"id":170643,"event":"call","thread_id":9160,"defined_class":"ActivityPub::FollowSerializer","method_id":"type","path":"app/serializers/activitypub/follow_serializer.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":1463000,"value":"#<ActivityPub::FollowSerializer:0x00007fc933f45700>"}},{"id":170644,"event":"return","thread_id":9160,"parent_id":170643,"elapsed":2.8130016289651394e-06,"elapsed_instrumentation":6.755901267752051e-05,"return_value":{"class":"String","value":"Follow","object_id":1463040}},{"id":170645,"event":"call","thread_id":9160,"defined_class":"ActivityPub::FollowSerializer","method_id":"actor","path":"app/serializers/activitypub/follow_serializer.rb","lineno":15,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":1463000,"value":"#<ActivityPub::FollowSerializer:0x00007fc933f45700>"}},{"id":170646,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":1462460,"value":"#<Account:0x00007fc930febe00>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170647,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462460,"value":"#<Account:0x00007fc930febe00>"}},{"id":170648,"event":"return","thread_id":9160,"parent_id":170647,"elapsed":5.8480072766542435e-06,"elapsed_instrumentation":4.294200334697962e-05},{"id":170649,"event":"return","thread_id":9160,"parent_id":170646,"elapsed":7.35230278223753e-05,"elapsed_instrumentation":7.447495590895414e-05,"return_value":{"class":"String","value":"https://evil.org/users/wolf","object_id":1463060}},{"id":170650,"event":"return","thread_id":9160,"parent_id":170645,"elapsed":0.00018157099839299917,"elapsed_instrumentation":5.918904207646847e-05,"return_value":{"class":"String","value":"https://evil.org/users/wolf","object_id":1463060}},{"id":170651,"event":"call","thread_id":9160,"defined_class":"ActivityPub::FollowSerializer","method_id":"virtual_object","path":"app/serializers/activitypub/follow_serializer.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":1463000,"value":"#<ActivityPub::FollowSerializer:0x00007fc933f45700>"}},{"id":170652,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170653,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170654,"event":"return","thread_id":9160,"parent_id":170653,"elapsed":6.544985808432102e-06,"elapsed_instrumentation":5.360104842111468e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":170655,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170656,"event":"return","thread_id":9160,"parent_id":170655,"elapsed":2.2579915821552277e-06,"elapsed_instrumentation":5.322298966348171e-05,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":170657,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170658,"event":"return","thread_id":9160,"parent_id":170657,"elapsed":5.319947376847267e-06,"elapsed_instrumentation":4.2627041693776846e-05},{"id":170659,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170660,"event":"return","thread_id":9160,"parent_id":170659,"elapsed":3.267021384090185e-06,"elapsed_instrumentation":8.716201409697533e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170661,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170662,"event":"return","thread_id":9160,"parent_id":170661,"elapsed":2.1500163711607456e-06,"elapsed_instrumentation":8.015200728550553e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170663,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>"}},{"id":170664,"event":"return","thread_id":9160,"parent_id":170663,"elapsed":5.242996849119663e-06,"elapsed_instrumentation":6.07680412940681e-05,"return_value":{"class":"String","value":"alice","object_id":1462840}},{"id":170665,"event":"return","thread_id":9160,"parent_id":170652,"elapsed":0.0005929350154474378,"elapsed_instrumentation":9.695597691461444e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/alice","object_id":1463080}},{"id":170666,"event":"return","thread_id":9160,"parent_id":170651,"elapsed":0.0007711609941907227,"elapsed_instrumentation":6.371905328705907e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/alice","object_id":1463080}},{"id":170667,"event":"return","thread_id":9160,"parent_id":170636,"elapsed":0.0015503379981964827,"elapsed_instrumentation":0.00030946300830692053,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/f8ceb328-158a-4184-87ca-f26df8a93820, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}","object_id":1463100,"size":4}},{"id":170668,"event":"return","thread_id":9160,"parent_id":170601,"elapsed":0.004208847007248551,"elapsed_instrumentation":0.00018964603077620268,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5345, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/f8ceb328-158a-4184-87ca-f26df8a93820, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","object_id":1463120,"size":4}},{"id":170669,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"transform_key_casing!","path":"app/lib/activitypub/adapter.rb","lineno":10,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":1463120,"value":"{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5345, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/f8ceb328-158a-4184-87ca-f26df8a93820, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","kind":"req","size":4},{"name":"_options","class":"Hash","object_id":1463140,"value":"{}","kind":"req","size":0}],"receiver":{"class":"Class","object_id":51220,"value":"ActivityPub::Adapter"}},{"id":170670,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":1463120,"value":"{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5345, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/f8ceb328-158a-4184-87ca-f26df8a93820, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","kind":"req","size":4}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170671,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":679388,"value":":id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170672,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1463180,"value":"id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170673,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170674,"event":"return","thread_id":9160,"parent_id":170673,"elapsed":2.7929781936109066e-06,"elapsed_instrumentation":0.00016635202337056398,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170675,"event":"return","thread_id":9160,"parent_id":170672,"elapsed":0.00018637400353327394,"elapsed_instrumentation":6.266002310439944e-05,"return_value":{"class":"String","value":"id","object_id":1463220}},{"id":170676,"event":"return","thread_id":9160,"parent_id":170671,"elapsed":0.00026466400595381856,"elapsed_instrumentation":6.170803681015968e-05,"return_value":{"class":"Symbol","value":":id","object_id":679388}},{"id":170677,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":688668,"value":":type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170678,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1463240,"value":"type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170679,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170680,"event":"return","thread_id":9160,"parent_id":170679,"elapsed":2.6160269044339657e-06,"elapsed_instrumentation":0.00018654396990314126,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170681,"event":"return","thread_id":9160,"parent_id":170678,"elapsed":0.0002111750072799623,"elapsed_instrumentation":0.00016335997497662902,"return_value":{"class":"String","value":"type","object_id":1463260}},{"id":170682,"event":"return","thread_id":9160,"parent_id":170677,"elapsed":0.0003952489932999015,"elapsed_instrumentation":6.0905993450433016e-05,"return_value":{"class":"Symbol","value":":type","object_id":688668}},{"id":170683,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":17461788,"value":":actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170684,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1463280,"value":"actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170685,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170686,"event":"return","thread_id":9160,"parent_id":170685,"elapsed":2.0050210878252983e-06,"elapsed_instrumentation":0.00014146696776151657,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170687,"event":"return","thread_id":9160,"parent_id":170684,"elapsed":0.00015895097749307752,"elapsed_instrumentation":6.257806671783328e-05,"return_value":{"class":"String","value":"actor","object_id":1463300}},{"id":170688,"event":"return","thread_id":9160,"parent_id":170683,"elapsed":0.00023740396136417985,"elapsed_instrumentation":6.849406054243445e-05,"return_value":{"class":"Symbol","value":":actor","object_id":17461788}},{"id":170689,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":703388,"value":":object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170690,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1463320,"value":"object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170691,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170692,"event":"return","thread_id":9160,"parent_id":170691,"elapsed":1.895008608698845e-06,"elapsed_instrumentation":0.0001417070161551237,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170693,"event":"return","thread_id":9160,"parent_id":170690,"elapsed":0.00015834503574296832,"elapsed_instrumentation":6.007496267557144e-05,"return_value":{"class":"String","value":"object","object_id":1463340}},{"id":170694,"event":"return","thread_id":9160,"parent_id":170689,"elapsed":0.00023273105034604669,"elapsed_instrumentation":5.8061908930540085e-05,"return_value":{"class":"Symbol","value":":object","object_id":703388}},{"id":170695,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":679388,"value":":id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170696,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1463360,"value":"id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170697,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170698,"event":"return","thread_id":9160,"parent_id":170697,"elapsed":2.3069442249834538e-06,"elapsed_instrumentation":0.0001461160136386752,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170699,"event":"return","thread_id":9160,"parent_id":170696,"elapsed":0.00016357802087441087,"elapsed_instrumentation":6.726698484271765e-05,"return_value":{"class":"String","value":"id","object_id":1463220}},{"id":170700,"event":"return","thread_id":9160,"parent_id":170695,"elapsed":0.0002471129992045462,"elapsed_instrumentation":0.00015842798165977,"return_value":{"class":"Symbol","value":":id","object_id":679388}},{"id":170701,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":688668,"value":":type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170702,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1463380,"value":"type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170703,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170704,"event":"return","thread_id":9160,"parent_id":170703,"elapsed":1.9710278138518333e-06,"elapsed_instrumentation":0.0001410430413670838,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170705,"event":"return","thread_id":9160,"parent_id":170702,"elapsed":0.00015718798385933042,"elapsed_instrumentation":5.854701157659292e-05,"return_value":{"class":"String","value":"type","object_id":1463260}},{"id":170706,"event":"return","thread_id":9160,"parent_id":170701,"elapsed":0.00022972101578488946,"elapsed_instrumentation":5.654600681737065e-05,"return_value":{"class":"Symbol","value":":type","object_id":688668}},{"id":170707,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":17461788,"value":":actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170708,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1463400,"value":"actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170709,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170710,"event":"return","thread_id":9160,"parent_id":170709,"elapsed":2.1720188669860363e-06,"elapsed_instrumentation":0.00014196994015946984,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170711,"event":"return","thread_id":9160,"parent_id":170708,"elapsed":0.0001590870087966323,"elapsed_instrumentation":0.0001014810404740274,"return_value":{"class":"String","value":"actor","object_id":1463300}},{"id":170712,"event":"return","thread_id":9160,"parent_id":170707,"elapsed":0.00028051796834915876,"elapsed_instrumentation":6.610300624743104e-05,"return_value":{"class":"Symbol","value":":actor","object_id":17461788}},{"id":170713,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":703388,"value":":object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170714,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1463420,"value":"object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170715,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170716,"event":"return","thread_id":9160,"parent_id":170715,"elapsed":2.0979787223041058e-06,"elapsed_instrumentation":0.00014502700651064515,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170717,"event":"return","thread_id":9160,"parent_id":170714,"elapsed":0.000161978998221457,"elapsed_instrumentation":6.221496732905507e-05,"return_value":{"class":"String","value":"object","object_id":1463340}},{"id":170718,"event":"return","thread_id":9160,"parent_id":170713,"elapsed":0.00023850402794778347,"elapsed_instrumentation":6.809597834944725e-05,"return_value":{"class":"Symbol","value":":object","object_id":703388}},{"id":170719,"event":"return","thread_id":9160,"parent_id":170670,"elapsed":0.002852648962289095,"elapsed_instrumentation":0.00023210898507386446,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5345, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/f8ceb328-158a-4184-87ca-f26df8a93820, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","object_id":1463120,"size":4}},{"id":170720,"event":"return","thread_id":9160,"parent_id":170669,"elapsed":0.003106255957391113,"elapsed_instrumentation":0.00041233806405216455,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5345, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/f8ceb328-158a-4184-87ca-f26df8a93820, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","object_id":1463120,"size":4}},{"id":170721,"event":"call","thread_id":9160,"defined_class":"ContextHelper","method_id":"serialized_context","path":"app/helpers/context_helper.rb","lineno":41,"static":false,"parameters":[{"name":"named_contexts_map","class":"Hash","object_id":1463440,"value":"{:activitystreams=>}","kind":"req","size":1},{"name":"context_extensions_map","class":"Hash","object_id":1463460,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActivityPub::Adapter","object_id":1462780,"value":"#<ActivityPub::Adapter:0x00007fc933e840a0>"}},{"id":170722,"event":"return","thread_id":9160,"parent_id":170721,"elapsed":8.206989150494337e-06,"elapsed_instrumentation":0.00012292503379285336,"return_value":{"class":"String","value":"https://www.w3.org/ns/activitystreams","object_id":1463480}},{"id":170723,"event":"return","thread_id":9160,"parent_id":170600,"elapsed":0.008110360009595752,"elapsed_instrumentation":0.00017522001871839166,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5345, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/f8ceb328-158a-4184-87ca-f26df8a93820, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","object_id":1463500,"size":5}},{"id":170724,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":170725,"event":"return","thread_id":9160,"parent_id":170724,"elapsed":4.11702785640955e-06,"elapsed_instrumentation":7.550499867647886e-05,"return_value":{"class":"Array","value":"[]","object_id":328060,"size":0}},{"id":170726,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1462760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":170727,"event":"return","thread_id":9160,"parent_id":170726,"elapsed":2.3269676603376865e-06,"elapsed_instrumentation":6.067205686122179e-05,"return_value":{"class":"Array","value":"[]","object_id":328080,"size":0}},{"id":170728,"event":"return","thread_id":9160,"parent_id":170595,"elapsed":0.009104318975005299,"elapsed_instrumentation":0.0003355069784447551,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5345, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/f8ceb328-158a-4184-87ca-f26df8a93820, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","object_id":1463500,"size":5}},{"id":170729,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follow_requests\".* FROM \"follow_requests\" WHERE \"follow_requests\".\"target_account_id\" = $1 AND \"follow_requests\".\"account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"follow_requests\".\"id\" ASC LIMIT $3","database_type":"postgres"}},{"id":170730,"event":"return","thread_id":9160,"parent_id":170729,"elapsed":0.001084259,"elapsed_instrumentation":8.056999649852514e-05},{"id":170731,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":1462060,"value":"#<Account:0x00007fc930db4600>","kind":"req"}],"receiver":{"class":"Account","object_id":1462040,"value":"#<Account:0x00007fc930db4ec0>"}},{"id":170732,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":170733,"event":"return","thread_id":9160,"parent_id":170732,"elapsed":0.000552002,"elapsed_instrumentation":6.156996823847294e-05},{"id":170734,"event":"return","thread_id":9160,"parent_id":170731,"elapsed":0.0014079739921726286,"elapsed_instrumentation":0.00012007402256131172}]}