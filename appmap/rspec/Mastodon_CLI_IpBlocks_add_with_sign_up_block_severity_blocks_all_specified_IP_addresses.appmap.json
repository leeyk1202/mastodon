{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::IpBlocks #add with \"sign_up_block\" severity blocks all specified IP addresses","source_location":"spec/lib/mastodon/cli/ip_blocks_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"IpBlocks","type":"class","children":[{"name":"add","type":"function","location":"lib/mastodon/cli/ip_blocks.rb:22","static":false}]}]}]}]},{"name":"app/models/concerns","type":"package","children":[{"name":"IpBlock","type":"class","children":[{"name":"expires_in=","type":"function","location":"app/models/concerns/expireable.rb:19","static":false}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":2191285,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::IpBlocks","method_id":"add","path":"lib/mastodon/cli/ip_blocks.rb","lineno":22,"static":false,"parameters":[{"name":"addresses","class":"Array","object_id":11145180,"value":"[192.0.2.1, 172.16.0.1, 192.0.2.0/24, 172.16.0.0/16, 10.0.0.0/8, 2001:0db8:85a3:0000:0000:8a2e:0370:7334, fe80::1, ::1, 2001:0db8::/32, fe80::/10 (...1 more items)]","kind":"rest","size":11}],"receiver":{"class":"Mastodon::CLI::IpBlocks","object_id":11145200,"value":"#<Mastodon::CLI::IpBlocks:0x00007fc932394f60>"}},{"id":2191286,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191287,"event":"return","thread_id":9160,"parent_id":2191286,"elapsed":0.000333262,"elapsed_instrumentation":8.572504157200456e-05},{"id":2191288,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11145220,"value":"#<IpBlock:0x00007fc8e2188348>"}},{"id":2191289,"event":"return","thread_id":9160,"parent_id":2191288,"elapsed":2.0852021407335997e-05,"elapsed_instrumentation":0.00010980397928506136},{"id":2191290,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191291,"event":"return","thread_id":9160,"parent_id":2191290,"elapsed":1.9880011677742004e-05,"elapsed_instrumentation":0.00011722499039024115,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191292,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191293,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191294,"event":"return","thread_id":9160,"parent_id":2191293,"elapsed":0.000736519,"elapsed_instrumentation":0.00011796201579272747},{"id":2191295,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191296,"event":"return","thread_id":9160,"parent_id":2191295,"elapsed":0.001778074,"elapsed_instrumentation":8.950202027335763e-05},{"id":2191297,"event":"return","thread_id":9160,"parent_id":2191292,"elapsed":0.0029185859602876008,"elapsed_instrumentation":0.0001509809517301619,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191298,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191299,"event":"return","thread_id":9160,"parent_id":2191298,"elapsed":4.836008884012699e-06,"elapsed_instrumentation":0.0002162919845432043,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191300,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191301,"event":"return","thread_id":9160,"parent_id":2191300,"elapsed":2.5859917514026165e-06,"elapsed_instrumentation":8.639204315841198e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191302,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191303,"event":"return","thread_id":9160,"parent_id":2191302,"elapsed":0.000752319,"elapsed_instrumentation":0.00010514800669625401},{"id":2191304,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191305,"event":"return","thread_id":9160,"parent_id":2191304,"elapsed":0.000423031,"elapsed_instrumentation":9.817903628572822e-05},{"id":2191306,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191307,"event":"return","thread_id":9160,"parent_id":2191306,"elapsed":4.3869949877262115e-06,"elapsed_instrumentation":0.00015945901395753026,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191308,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191309,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11145300,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191310,"event":"return","thread_id":9160,"parent_id":2191309,"elapsed":0.0007002740167081356,"elapsed_instrumentation":0.00016843696357682347,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191311,"event":"return","thread_id":9160,"parent_id":2191308,"elapsed":0.0010448810062371194,"elapsed_instrumentation":0.0001488250563852489,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191312,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191313,"event":"return","thread_id":9160,"parent_id":2191312,"elapsed":0.000552635,"elapsed_instrumentation":0.00010877999011427164},{"id":2191314,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11145320,"value":"#<IpBlock:0x00007fc8e2187808>"}},{"id":2191315,"event":"return","thread_id":9160,"parent_id":2191314,"elapsed":2.6219990104436874e-05,"elapsed_instrumentation":0.00015001901192590594},{"id":2191316,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191317,"event":"return","thread_id":9160,"parent_id":2191316,"elapsed":2.0761974155902863e-05,"elapsed_instrumentation":0.00013702805154025555,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191318,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191319,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191320,"event":"return","thread_id":9160,"parent_id":2191319,"elapsed":0.00049395,"elapsed_instrumentation":9.065796621143818e-05},{"id":2191321,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191322,"event":"return","thread_id":9160,"parent_id":2191321,"elapsed":0.00137103,"elapsed_instrumentation":0.00013892899733036757},{"id":2191323,"event":"return","thread_id":9160,"parent_id":2191318,"elapsed":0.0024424049770459533,"elapsed_instrumentation":0.00014556001406162977,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191324,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191325,"event":"return","thread_id":9160,"parent_id":2191324,"elapsed":4.034023731946945e-06,"elapsed_instrumentation":9.915494592860341e-05,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191326,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191327,"event":"return","thread_id":9160,"parent_id":2191326,"elapsed":2.7189962565898895e-06,"elapsed_instrumentation":7.510301657021046e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191328,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191329,"event":"return","thread_id":9160,"parent_id":2191328,"elapsed":0.000619007,"elapsed_instrumentation":7.753702811896801e-05},{"id":2191330,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191331,"event":"return","thread_id":9160,"parent_id":2191330,"elapsed":0.000503467,"elapsed_instrumentation":8.643296314403415e-05},{"id":2191332,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191333,"event":"return","thread_id":9160,"parent_id":2191332,"elapsed":4.059984348714352e-06,"elapsed_instrumentation":0.00011614302638918161,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191334,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191335,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11145400,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191336,"event":"return","thread_id":9160,"parent_id":2191335,"elapsed":0.0005838260403834283,"elapsed_instrumentation":0.00011058698873966932,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191337,"event":"return","thread_id":9160,"parent_id":2191334,"elapsed":0.0008419110090471804,"elapsed_instrumentation":0.0001040060305967927,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191338,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191339,"event":"return","thread_id":9160,"parent_id":2191338,"elapsed":0.000439914,"elapsed_instrumentation":7.326301420107484e-05},{"id":2191340,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11145420,"value":"#<IpBlock:0x00007fc8e2186f48>"}},{"id":2191341,"event":"return","thread_id":9160,"parent_id":2191340,"elapsed":1.761101884767413e-05,"elapsed_instrumentation":0.00010934396414086223},{"id":2191342,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191343,"event":"return","thread_id":9160,"parent_id":2191342,"elapsed":1.916097244247794e-05,"elapsed_instrumentation":0.00025487999664619565,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191344,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191345,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191346,"event":"return","thread_id":9160,"parent_id":2191345,"elapsed":0.000422878,"elapsed_instrumentation":0.00011764798546209931},{"id":2191347,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191348,"event":"return","thread_id":9160,"parent_id":2191347,"elapsed":0.00143864,"elapsed_instrumentation":6.856402615085244e-05},{"id":2191349,"event":"return","thread_id":9160,"parent_id":2191344,"elapsed":0.0022601779783144593,"elapsed_instrumentation":0.00015031697694212198,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191350,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191351,"event":"return","thread_id":9160,"parent_id":2191350,"elapsed":3.941997420042753e-06,"elapsed_instrumentation":9.780895197764039e-05,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191352,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191353,"event":"return","thread_id":9160,"parent_id":2191352,"elapsed":2.6529887691140175e-06,"elapsed_instrumentation":7.136701606214046e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191354,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191355,"event":"return","thread_id":9160,"parent_id":2191354,"elapsed":0.000684974,"elapsed_instrumentation":7.596099749207497e-05},{"id":2191356,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191357,"event":"return","thread_id":9160,"parent_id":2191356,"elapsed":0.000365833,"elapsed_instrumentation":7.456500316038728e-05},{"id":2191358,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191359,"event":"return","thread_id":9160,"parent_id":2191358,"elapsed":4.145957063883543e-06,"elapsed_instrumentation":0.00013237103121355176,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191360,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191361,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11145500,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191362,"event":"return","thread_id":9160,"parent_id":2191361,"elapsed":0.0006041940068826079,"elapsed_instrumentation":0.00013725401367992163,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191363,"event":"return","thread_id":9160,"parent_id":2191360,"elapsed":0.0011898710508830845,"elapsed_instrumentation":0.00021120498422533274,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191364,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191365,"event":"return","thread_id":9160,"parent_id":2191364,"elapsed":0.000572156,"elapsed_instrumentation":0.0001070729922503233},{"id":2191366,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11145520,"value":"#<IpBlock:0x00007fc8e2186548>"}},{"id":2191367,"event":"return","thread_id":9160,"parent_id":2191366,"elapsed":2.2160005755722523e-05,"elapsed_instrumentation":0.00015145400539040565},{"id":2191368,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191369,"event":"return","thread_id":9160,"parent_id":2191368,"elapsed":2.0945968572050333e-05,"elapsed_instrumentation":0.00012649304699152708,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191370,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191371,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191372,"event":"return","thread_id":9160,"parent_id":2191371,"elapsed":0.000476716,"elapsed_instrumentation":9.705399861559272e-05},{"id":2191373,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191374,"event":"return","thread_id":9160,"parent_id":2191373,"elapsed":0.001411632,"elapsed_instrumentation":8.076900849118829e-05},{"id":2191375,"event":"return","thread_id":9160,"parent_id":2191370,"elapsed":0.002731455024331808,"elapsed_instrumentation":0.0001600499963387847,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191376,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191377,"event":"return","thread_id":9160,"parent_id":2191376,"elapsed":5.0470116548240185e-06,"elapsed_instrumentation":0.00011611107038334012,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191378,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191379,"event":"return","thread_id":9160,"parent_id":2191378,"elapsed":7.774971891194582e-06,"elapsed_instrumentation":0.0005800150102004409,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191380,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191381,"event":"return","thread_id":9160,"parent_id":2191380,"elapsed":0.000857601,"elapsed_instrumentation":9.394402150064707e-05},{"id":2191382,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191383,"event":"return","thread_id":9160,"parent_id":2191382,"elapsed":0.000483181,"elapsed_instrumentation":0.00015848700422793627},{"id":2191384,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191385,"event":"return","thread_id":9160,"parent_id":2191384,"elapsed":4.443048965185881e-06,"elapsed_instrumentation":0.00016040296759456396,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191386,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191387,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11145600,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191388,"event":"return","thread_id":9160,"parent_id":2191387,"elapsed":0.0007562859682366252,"elapsed_instrumentation":0.0001234940136782825,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191389,"event":"return","thread_id":9160,"parent_id":2191386,"elapsed":0.0010475119925104082,"elapsed_instrumentation":0.00014538498362526298,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191390,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191391,"event":"return","thread_id":9160,"parent_id":2191390,"elapsed":0.000683395,"elapsed_instrumentation":8.996401447802782e-05},{"id":2191392,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11145620,"value":"#<IpBlock:0x00007fc8e2185a08>"}},{"id":2191393,"event":"return","thread_id":9160,"parent_id":2191392,"elapsed":2.1310988813638687e-05,"elapsed_instrumentation":0.00014060299145057797},{"id":2191394,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191395,"event":"return","thread_id":9160,"parent_id":2191394,"elapsed":8.039904059842229e-05,"elapsed_instrumentation":0.0001634839572943747,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191396,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191397,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191398,"event":"return","thread_id":9160,"parent_id":2191397,"elapsed":0.00055735,"elapsed_instrumentation":0.00012080196756869555},{"id":2191399,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191400,"event":"return","thread_id":9160,"parent_id":2191399,"elapsed":0.001873805,"elapsed_instrumentation":0.0001344989868812263},{"id":2191401,"event":"return","thread_id":9160,"parent_id":2191396,"elapsed":0.0033298549824394286,"elapsed_instrumentation":0.00021409994224086404,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191402,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191403,"event":"return","thread_id":9160,"parent_id":2191402,"elapsed":4.658009856939316e-06,"elapsed_instrumentation":0.00013928196858614683,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191404,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191405,"event":"return","thread_id":9160,"parent_id":2191404,"elapsed":3.5800039768218994e-06,"elapsed_instrumentation":0.00025890697725117207,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191406,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191407,"event":"return","thread_id":9160,"parent_id":2191406,"elapsed":0.00075571,"elapsed_instrumentation":9.347498416900635e-05},{"id":2191408,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191409,"event":"return","thread_id":9160,"parent_id":2191408,"elapsed":0.000549441,"elapsed_instrumentation":8.95619741640985e-05},{"id":2191410,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191411,"event":"return","thread_id":9160,"parent_id":2191410,"elapsed":3.6070123314857483e-06,"elapsed_instrumentation":0.00011584698222577572,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191412,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191413,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11145700,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191414,"event":"return","thread_id":9160,"parent_id":2191413,"elapsed":0.0007830719696357846,"elapsed_instrumentation":0.00011619605356827378,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191415,"event":"return","thread_id":9160,"parent_id":2191412,"elapsed":0.001054191030561924,"elapsed_instrumentation":0.00010914093581959605,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191416,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191417,"event":"return","thread_id":9160,"parent_id":2191416,"elapsed":0.000361083,"elapsed_instrumentation":7.037195609882474e-05},{"id":2191418,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11145720,"value":"#<IpBlock:0x00007fc8e21849c8>"}},{"id":2191419,"event":"return","thread_id":9160,"parent_id":2191418,"elapsed":0.00023297301959246397,"elapsed_instrumentation":0.00011607096530497074},{"id":2191420,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191421,"event":"return","thread_id":9160,"parent_id":2191420,"elapsed":1.8679944332689047e-05,"elapsed_instrumentation":0.00013252702774479985,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191422,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191423,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191424,"event":"return","thread_id":9160,"parent_id":2191423,"elapsed":0.000343153,"elapsed_instrumentation":0.0003490439848974347},{"id":2191425,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191426,"event":"return","thread_id":9160,"parent_id":2191425,"elapsed":0.001653652,"elapsed_instrumentation":8.586602052673697e-05},{"id":2191427,"event":"return","thread_id":9160,"parent_id":2191422,"elapsed":0.0027505329926498234,"elapsed_instrumentation":0.00017136498354375362,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191428,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191429,"event":"return","thread_id":9160,"parent_id":2191428,"elapsed":3.66999302059412e-06,"elapsed_instrumentation":9.609601693227887e-05,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191430,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191431,"event":"return","thread_id":9160,"parent_id":2191430,"elapsed":2.6149791665375233e-06,"elapsed_instrumentation":7.271900540217757e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191432,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191433,"event":"return","thread_id":9160,"parent_id":2191432,"elapsed":0.000802495,"elapsed_instrumentation":8.737004827708006e-05},{"id":2191434,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191435,"event":"return","thread_id":9160,"parent_id":2191434,"elapsed":0.000505907,"elapsed_instrumentation":7.681903662160039e-05},{"id":2191436,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191437,"event":"return","thread_id":9160,"parent_id":2191436,"elapsed":4.197005182504654e-06,"elapsed_instrumentation":0.00013701693387702107,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191438,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191439,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11145800,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191440,"event":"return","thread_id":9160,"parent_id":2191439,"elapsed":0.000816919025965035,"elapsed_instrumentation":0.0001482389634475112,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191441,"event":"return","thread_id":9160,"parent_id":2191438,"elapsed":0.0011620380100794137,"elapsed_instrumentation":0.0001956209889613092,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191442,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191443,"event":"return","thread_id":9160,"parent_id":2191442,"elapsed":0.000459454,"elapsed_instrumentation":8.472602348774672e-05},{"id":2191444,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11145820,"value":"#<IpBlock:0x00007fc8e2183d48>"}},{"id":2191445,"event":"return","thread_id":9160,"parent_id":2191444,"elapsed":2.084503648802638e-05,"elapsed_instrumentation":0.00011921097757294774},{"id":2191446,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191447,"event":"return","thread_id":9160,"parent_id":2191446,"elapsed":2.0735024008899927e-05,"elapsed_instrumentation":0.00012155994772911072,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191448,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191449,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191450,"event":"return","thread_id":9160,"parent_id":2191449,"elapsed":0.0006272,"elapsed_instrumentation":7.485703099519014e-05},{"id":2191451,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191452,"event":"return","thread_id":9160,"parent_id":2191451,"elapsed":0.001506894,"elapsed_instrumentation":7.21460091881454e-05},{"id":2191453,"event":"return","thread_id":9160,"parent_id":2191448,"elapsed":0.0024414319777861238,"elapsed_instrumentation":0.0003250990412198007,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191454,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191455,"event":"return","thread_id":9160,"parent_id":2191454,"elapsed":3.744964487850666e-06,"elapsed_instrumentation":9.384506847709417e-05,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191456,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191457,"event":"return","thread_id":9160,"parent_id":2191456,"elapsed":2.762011718004942e-06,"elapsed_instrumentation":7.21589894965291e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191458,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191459,"event":"return","thread_id":9160,"parent_id":2191458,"elapsed":0.000657317,"elapsed_instrumentation":7.644301513209939e-05},{"id":2191460,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191461,"event":"return","thread_id":9160,"parent_id":2191460,"elapsed":0.000335181,"elapsed_instrumentation":7.197697414085269e-05},{"id":2191462,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191463,"event":"return","thread_id":9160,"parent_id":2191462,"elapsed":3.597990144044161e-06,"elapsed_instrumentation":0.00012006796896457672,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191464,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191465,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11145900,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191466,"event":"return","thread_id":9160,"parent_id":2191465,"elapsed":0.0008910030010156333,"elapsed_instrumentation":0.00011536502279341221,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191467,"event":"return","thread_id":9160,"parent_id":2191464,"elapsed":0.0011586689506657422,"elapsed_instrumentation":0.00010507501428946853,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191468,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191469,"event":"return","thread_id":9160,"parent_id":2191468,"elapsed":0.000548694,"elapsed_instrumentation":9.621796198189259e-05},{"id":2191470,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11145920,"value":"#<IpBlock:0x00007fc8e2183208>"}},{"id":2191471,"event":"return","thread_id":9160,"parent_id":2191470,"elapsed":2.3318978492170572e-05,"elapsed_instrumentation":0.00011995993554592133},{"id":2191472,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191473,"event":"return","thread_id":9160,"parent_id":2191472,"elapsed":1.8343038391321898e-05,"elapsed_instrumentation":0.00013047497486695647,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191474,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191475,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191476,"event":"return","thread_id":9160,"parent_id":2191475,"elapsed":0.000523659,"elapsed_instrumentation":7.297302363440394e-05},{"id":2191477,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191478,"event":"return","thread_id":9160,"parent_id":2191477,"elapsed":0.001237704,"elapsed_instrumentation":6.734300404787064e-05},{"id":2191479,"event":"return","thread_id":9160,"parent_id":2191474,"elapsed":0.0024698720080778003,"elapsed_instrumentation":0.00014323502546176314,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191480,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191481,"event":"return","thread_id":9160,"parent_id":2191480,"elapsed":3.5780249163508415e-06,"elapsed_instrumentation":9.017495904117823e-05,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191482,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191483,"event":"return","thread_id":9160,"parent_id":2191482,"elapsed":2.4659675545990467e-06,"elapsed_instrumentation":7.299799472093582e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191484,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191485,"event":"return","thread_id":9160,"parent_id":2191484,"elapsed":0.000554085,"elapsed_instrumentation":0.0003326130099594593},{"id":2191486,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191487,"event":"return","thread_id":9160,"parent_id":2191486,"elapsed":0.000668263,"elapsed_instrumentation":0.00016466801753267646},{"id":2191488,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191489,"event":"return","thread_id":9160,"parent_id":2191488,"elapsed":5.041947588324547e-06,"elapsed_instrumentation":0.00037132599391043186,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191490,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191491,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11146000,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191492,"event":"return","thread_id":9160,"parent_id":2191491,"elapsed":0.0008604190079495311,"elapsed_instrumentation":0.00013355305418372154,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191493,"event":"return","thread_id":9160,"parent_id":2191490,"elapsed":0.0011712489649653435,"elapsed_instrumentation":0.00017820799257606268,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191494,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191495,"event":"return","thread_id":9160,"parent_id":2191494,"elapsed":0.000486284,"elapsed_instrumentation":0.0002932960051111877},{"id":2191496,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11146020,"value":"#<IpBlock:0x00007fc8e2182588>"}},{"id":2191497,"event":"return","thread_id":9160,"parent_id":2191496,"elapsed":2.138002309948206e-05,"elapsed_instrumentation":0.0001264140009880066},{"id":2191498,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191499,"event":"return","thread_id":9160,"parent_id":2191498,"elapsed":2.799398498609662e-05,"elapsed_instrumentation":0.00038348801899701357,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191500,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191501,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191502,"event":"return","thread_id":9160,"parent_id":2191501,"elapsed":0.000745008,"elapsed_instrumentation":9.128899546340108e-05},{"id":2191503,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191504,"event":"return","thread_id":9160,"parent_id":2191503,"elapsed":0.001825113,"elapsed_instrumentation":8.006097050383687e-05},{"id":2191505,"event":"return","thread_id":9160,"parent_id":2191500,"elapsed":0.002928547968622297,"elapsed_instrumentation":0.00015494105173274875,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191506,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191507,"event":"return","thread_id":9160,"parent_id":2191506,"elapsed":4.132045432925224e-06,"elapsed_instrumentation":0.00010589597513899207,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191508,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191509,"event":"return","thread_id":9160,"parent_id":2191508,"elapsed":2.92900949716568e-06,"elapsed_instrumentation":7.090804865583777e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191510,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191511,"event":"return","thread_id":9160,"parent_id":2191510,"elapsed":0.000733139,"elapsed_instrumentation":0.0003060930175706744},{"id":2191512,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191513,"event":"return","thread_id":9160,"parent_id":2191512,"elapsed":0.000654855,"elapsed_instrumentation":9.207800030708313e-05},{"id":2191514,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191515,"event":"return","thread_id":9160,"parent_id":2191514,"elapsed":4.137982614338398e-06,"elapsed_instrumentation":0.00016007904196158051,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191516,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191517,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11146100,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191518,"event":"return","thread_id":9160,"parent_id":2191517,"elapsed":0.0007156459614634514,"elapsed_instrumentation":0.00015184498624876142,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191519,"event":"return","thread_id":9160,"parent_id":2191516,"elapsed":0.0014206920168362558,"elapsed_instrumentation":0.0001569290179759264,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191520,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191521,"event":"return","thread_id":9160,"parent_id":2191520,"elapsed":0.000721786,"elapsed_instrumentation":9.38749872148037e-05},{"id":2191522,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11146120,"value":"#<IpBlock:0x00007fc8e2181cc8>"}},{"id":2191523,"event":"return","thread_id":9160,"parent_id":2191522,"elapsed":2.3262982722371817e-05,"elapsed_instrumentation":0.00013224600115790963},{"id":2191524,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191525,"event":"return","thread_id":9160,"parent_id":2191524,"elapsed":0.00021166802616789937,"elapsed_instrumentation":0.00015857891412451863,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191526,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191527,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191528,"event":"return","thread_id":9160,"parent_id":2191527,"elapsed":0.000518972,"elapsed_instrumentation":0.00010526698315516114},{"id":2191529,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191530,"event":"return","thread_id":9160,"parent_id":2191529,"elapsed":0.001606938,"elapsed_instrumentation":9.25299827940762e-05},{"id":2191531,"event":"return","thread_id":9160,"parent_id":2191526,"elapsed":0.0029997859965078533,"elapsed_instrumentation":0.00017734698485583067,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191532,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191533,"event":"return","thread_id":9160,"parent_id":2191532,"elapsed":5.774956662207842e-06,"elapsed_instrumentation":0.00014345906674861908,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191534,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191535,"event":"return","thread_id":9160,"parent_id":2191534,"elapsed":2.6160269044339657e-06,"elapsed_instrumentation":7.835100404918194e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191536,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191537,"event":"return","thread_id":9160,"parent_id":2191536,"elapsed":0.000648483,"elapsed_instrumentation":8.85099871084094e-05},{"id":2191538,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191539,"event":"return","thread_id":9160,"parent_id":2191538,"elapsed":0.000644968,"elapsed_instrumentation":8.215999696403742e-05},{"id":2191540,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191541,"event":"return","thread_id":9160,"parent_id":2191540,"elapsed":3.864988684654236e-06,"elapsed_instrumentation":0.00012968597002327442,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191542,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191543,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11146200,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191544,"event":"return","thread_id":9160,"parent_id":2191543,"elapsed":0.0007747249910607934,"elapsed_instrumentation":0.00011616898700594902,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191545,"event":"return","thread_id":9160,"parent_id":2191542,"elapsed":0.0010386210051365197,"elapsed_instrumentation":0.00010848901001736522,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191546,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191547,"event":"return","thread_id":9160,"parent_id":2191546,"elapsed":0.000402421,"elapsed_instrumentation":0.0003884679754264653},{"id":2191548,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11146220,"value":"#<IpBlock:0x00007fc8e2181408>"}},{"id":2191549,"event":"return","thread_id":9160,"parent_id":2191548,"elapsed":1.9602011889219284e-05,"elapsed_instrumentation":0.00011488195741549134},{"id":2191550,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191551,"event":"return","thread_id":9160,"parent_id":2191550,"elapsed":2.2249005269259214e-05,"elapsed_instrumentation":0.0002486039884388447,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191552,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191553,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191554,"event":"return","thread_id":9160,"parent_id":2191553,"elapsed":0.000388886,"elapsed_instrumentation":8.204201003536582e-05},{"id":2191555,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191556,"event":"return","thread_id":9160,"parent_id":2191555,"elapsed":0.001601781,"elapsed_instrumentation":7.773400284349918e-05},{"id":2191557,"event":"return","thread_id":9160,"parent_id":2191552,"elapsed":0.0025213610497303307,"elapsed_instrumentation":0.00014773698057979345,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191558,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191559,"event":"return","thread_id":9160,"parent_id":2191558,"elapsed":4.114990588277578e-06,"elapsed_instrumentation":0.00016672804486006498,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191560,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191561,"event":"return","thread_id":9160,"parent_id":2191560,"elapsed":3.1149829737842083e-06,"elapsed_instrumentation":9.228399721905589e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191562,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191563,"event":"return","thread_id":9160,"parent_id":2191562,"elapsed":0.000609365,"elapsed_instrumentation":0.0002287820097990334},{"id":2191564,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191565,"event":"return","thread_id":9160,"parent_id":2191564,"elapsed":0.00028804,"elapsed_instrumentation":6.528198719024658e-05},{"id":2191566,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191567,"event":"return","thread_id":9160,"parent_id":2191566,"elapsed":3.9549777284264565e-06,"elapsed_instrumentation":0.000134629022795707,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191568,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11146280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191569,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11146300,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191570,"event":"return","thread_id":9160,"parent_id":2191569,"elapsed":0.000695298018399626,"elapsed_instrumentation":0.00012431503273546696,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191571,"event":"return","thread_id":9160,"parent_id":2191568,"elapsed":0.000977894989773631,"elapsed_instrumentation":0.00011251302203163505,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191572,"event":"return","thread_id":9160,"parent_id":2191285,"elapsed":0.11460791295394301,"elapsed_instrumentation":0.00023874605540186167,"return_value":{"class":"IO","value":"#<IO:0x00007fc94b108f80>","object_id":195040}},{"id":2191573,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"ip\" FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)","database_type":"postgres"}},{"id":2191574,"event":"return","thread_id":9160,"parent_id":2191573,"elapsed":0.000820403,"elapsed_instrumentation":0.00010565901175141335}]}