{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::IpBlocks #add with \"sign_up_block\" severity blocks all specified IP addresses","source_location":"spec/lib/mastodon/cli/ip_blocks_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"IpBlocks","type":"class","children":[{"name":"add","type":"function","location":"lib/mastodon/cli/ip_blocks.rb:22","static":false}]}]}]}]},{"name":"app/models/concerns","type":"package","children":[{"name":"IpBlock","type":"class","children":[{"name":"expires_in=","type":"function","location":"app/models/concerns/expireable.rb:19","static":false}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":830245,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::IpBlocks","method_id":"add","path":"lib/mastodon/cli/ip_blocks.rb","lineno":22,"static":false,"parameters":[{"name":"addresses","class":"Array","object_id":5086040,"value":"[192.0.2.1, 172.16.0.1, 192.0.2.0/24, 172.16.0.0/16, 10.0.0.0/8, 2001:0db8:85a3:0000:0000:8a2e:0370:7334, fe80::1, ::1, 2001:0db8::/32, fe80::/10 (...1 more items)]","kind":"rest","size":11}],"receiver":{"class":"Mastodon::CLI::IpBlocks","object_id":5086060,"value":"#<Mastodon::CLI::IpBlocks:0x00007fdc091e8218>"}},{"id":830246,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830247,"event":"return","thread_id":9160,"parent_id":830246,"elapsed":0.001068403,"elapsed_instrumentation":0.00012063499889336526},{"id":830248,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":5086080,"value":"#<IpBlock:0x00007fdc0602e100>"}},{"id":830249,"event":"return","thread_id":9160,"parent_id":830248,"elapsed":2.3047003196552396e-05,"elapsed_instrumentation":0.00013590199523605406},{"id":830250,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830251,"event":"return","thread_id":9160,"parent_id":830250,"elapsed":1.9951025024056435e-05,"elapsed_instrumentation":0.00014558498514816165,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":830252,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830253,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830254,"event":"return","thread_id":9160,"parent_id":830253,"elapsed":0.000562387,"elapsed_instrumentation":8.657400030642748e-05},{"id":830255,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830256,"event":"return","thread_id":9160,"parent_id":830255,"elapsed":0.002217956,"elapsed_instrumentation":8.290199912153184e-05},{"id":830257,"event":"return","thread_id":9160,"parent_id":830252,"elapsed":0.0041776330035645515,"elapsed_instrumentation":0.00017588899936527014,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":830258,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830259,"event":"return","thread_id":9160,"parent_id":830258,"elapsed":5.559995770454407e-06,"elapsed_instrumentation":0.0001597279915586114,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":830260,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830261,"event":"return","thread_id":9160,"parent_id":830260,"elapsed":3.163993824273348e-06,"elapsed_instrumentation":9.555101860314608e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":830262,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":830263,"event":"return","thread_id":9160,"parent_id":830262,"elapsed":0.000867816,"elapsed_instrumentation":8.84300097823143e-05},{"id":830264,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830265,"event":"return","thread_id":9160,"parent_id":830264,"elapsed":0.000450088,"elapsed_instrumentation":0.0002684420032892376},{"id":830266,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830267,"event":"return","thread_id":9160,"parent_id":830266,"elapsed":3.169989213347435e-06,"elapsed_instrumentation":0.00013172801118344069,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":830268,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830269,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5086160,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":830270,"event":"return","thread_id":9160,"parent_id":830269,"elapsed":0.000945868989219889,"elapsed_instrumentation":0.00020231501548551023,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":830271,"event":"return","thread_id":9160,"parent_id":830268,"elapsed":0.001338355999905616,"elapsed_instrumentation":0.00011764501687139273,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":830272,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830273,"event":"return","thread_id":9160,"parent_id":830272,"elapsed":0.000600786,"elapsed_instrumentation":7.932400330901146e-05},{"id":830274,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":5086180,"value":"#<IpBlock:0x00007fdc0602f640>"}},{"id":830275,"event":"return","thread_id":9160,"parent_id":830274,"elapsed":2.6144000003114343e-05,"elapsed_instrumentation":0.00020616597612388432},{"id":830276,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830277,"event":"return","thread_id":9160,"parent_id":830276,"elapsed":1.8230988644063473e-05,"elapsed_instrumentation":0.00015365800936706364,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":830278,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830279,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830280,"event":"return","thread_id":9160,"parent_id":830279,"elapsed":0.000389588,"elapsed_instrumentation":7.653699140064418e-05},{"id":830281,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830282,"event":"return","thread_id":9160,"parent_id":830281,"elapsed":0.001341798,"elapsed_instrumentation":7.09650048520416e-05},{"id":830283,"event":"return","thread_id":9160,"parent_id":830278,"elapsed":0.0023698650184087455,"elapsed_instrumentation":0.0001451179850846529,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":830284,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830285,"event":"return","thread_id":9160,"parent_id":830284,"elapsed":3.6479905247688293e-06,"elapsed_instrumentation":0.0002850760065484792,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":830286,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830287,"event":"return","thread_id":9160,"parent_id":830286,"elapsed":2.9269722290337086e-06,"elapsed_instrumentation":7.977799396030605e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":830288,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":830289,"event":"return","thread_id":9160,"parent_id":830288,"elapsed":0.000577455,"elapsed_instrumentation":0.00025609301519580185},{"id":830290,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830291,"event":"return","thread_id":9160,"parent_id":830290,"elapsed":0.000357047,"elapsed_instrumentation":0.00019709600019268692},{"id":830292,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830293,"event":"return","thread_id":9160,"parent_id":830292,"elapsed":5.0130183808505535e-06,"elapsed_instrumentation":0.00011571298819035292,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":830294,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830295,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5086260,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":830296,"event":"return","thread_id":9160,"parent_id":830295,"elapsed":0.0007067380065564066,"elapsed_instrumentation":0.00012354299542494118,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":830297,"event":"return","thread_id":9160,"parent_id":830294,"elapsed":0.0009856789838522673,"elapsed_instrumentation":0.00011756899766623974,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":830298,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830299,"event":"return","thread_id":9160,"parent_id":830298,"elapsed":0.000580118,"elapsed_instrumentation":0.00028901200857944787},{"id":830300,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":5086280,"value":"#<IpBlock:0x00007fdc0602e380>"}},{"id":830301,"event":"return","thread_id":9160,"parent_id":830300,"elapsed":2.4080014554783702e-05,"elapsed_instrumentation":0.00016158699872903526},{"id":830302,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830303,"event":"return","thread_id":9160,"parent_id":830302,"elapsed":2.104899613186717e-05,"elapsed_instrumentation":0.00018003801233135164,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":830304,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830305,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830306,"event":"return","thread_id":9160,"parent_id":830305,"elapsed":0.000408662,"elapsed_instrumentation":8.675199933350086e-05},{"id":830307,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830308,"event":"return","thread_id":9160,"parent_id":830307,"elapsed":0.001629631,"elapsed_instrumentation":7.897897739894688e-05},{"id":830309,"event":"return","thread_id":9160,"parent_id":830304,"elapsed":0.002803994982969016,"elapsed_instrumentation":0.0001629590115044266,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":830310,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830311,"event":"return","thread_id":9160,"parent_id":830310,"elapsed":3.3879769034683704e-06,"elapsed_instrumentation":0.00010849299724213779,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":830312,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830313,"event":"return","thread_id":9160,"parent_id":830312,"elapsed":3.2310199458152056e-06,"elapsed_instrumentation":8.012799662537873e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":830314,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":830315,"event":"return","thread_id":9160,"parent_id":830314,"elapsed":0.000741696,"elapsed_instrumentation":7.652500062249601e-05},{"id":830316,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830317,"event":"return","thread_id":9160,"parent_id":830316,"elapsed":0.000677473,"elapsed_instrumentation":0.00010958698112517595},{"id":830318,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830319,"event":"return","thread_id":9160,"parent_id":830318,"elapsed":1.2131989933550358e-05,"elapsed_instrumentation":0.00014731701230630279,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":830320,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830321,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5086360,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":830322,"event":"return","thread_id":9160,"parent_id":830321,"elapsed":0.0009438279957976192,"elapsed_instrumentation":0.00012820001575164497,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":830323,"event":"return","thread_id":9160,"parent_id":830320,"elapsed":0.0012368140160106122,"elapsed_instrumentation":0.0001601669646333903,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":830324,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830325,"event":"return","thread_id":9160,"parent_id":830324,"elapsed":0.000544796,"elapsed_instrumentation":9.095700806938112e-05},{"id":830326,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":5086380,"value":"#<IpBlock:0x00007fdc0602d5c0>"}},{"id":830327,"event":"return","thread_id":9160,"parent_id":830326,"elapsed":2.1437008399516344e-05,"elapsed_instrumentation":0.0001293709792662412},{"id":830328,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830329,"event":"return","thread_id":9160,"parent_id":830328,"elapsed":1.8207007087767124e-05,"elapsed_instrumentation":0.00012864201562479138,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":830330,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830331,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830332,"event":"return","thread_id":9160,"parent_id":830331,"elapsed":0.000596829,"elapsed_instrumentation":0.00019638397498056293},{"id":830333,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830334,"event":"return","thread_id":9160,"parent_id":830333,"elapsed":0.00184587,"elapsed_instrumentation":8.188499487005174e-05},{"id":830335,"event":"return","thread_id":9160,"parent_id":830330,"elapsed":0.0029614309896714985,"elapsed_instrumentation":0.0002916810044553131,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":830336,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830337,"event":"return","thread_id":9160,"parent_id":830336,"elapsed":5.387002602219582e-06,"elapsed_instrumentation":0.0001705799950286746,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":830338,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830339,"event":"return","thread_id":9160,"parent_id":830338,"elapsed":5.036999937146902e-06,"elapsed_instrumentation":0.00014700298197567463,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":830340,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":830341,"event":"return","thread_id":9160,"parent_id":830340,"elapsed":0.000852677,"elapsed_instrumentation":8.874101331457496e-05},{"id":830342,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830343,"event":"return","thread_id":9160,"parent_id":830342,"elapsed":0.000610385,"elapsed_instrumentation":0.0001411039847880602},{"id":830344,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830345,"event":"return","thread_id":9160,"parent_id":830344,"elapsed":1.5166006051003933e-05,"elapsed_instrumentation":0.00026718000299297273,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":830346,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830347,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5086460,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":830348,"event":"return","thread_id":9160,"parent_id":830347,"elapsed":0.000866275979205966,"elapsed_instrumentation":0.0001633480133023113,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":830349,"event":"return","thread_id":9160,"parent_id":830346,"elapsed":0.0012366889859549701,"elapsed_instrumentation":0.000338489975547418,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":830350,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830351,"event":"return","thread_id":9160,"parent_id":830350,"elapsed":0.000659083,"elapsed_instrumentation":9.385900921188295e-05},{"id":830352,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":5086480,"value":"#<IpBlock:0x00007fdc0602cd00>"}},{"id":830353,"event":"return","thread_id":9160,"parent_id":830352,"elapsed":2.1387008018791676e-05,"elapsed_instrumentation":0.0001209329639095813},{"id":830354,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830355,"event":"return","thread_id":9160,"parent_id":830354,"elapsed":1.845599035732448e-05,"elapsed_instrumentation":0.00012577802408486605,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":830356,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830357,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830358,"event":"return","thread_id":9160,"parent_id":830357,"elapsed":0.000582279,"elapsed_instrumentation":8.617801358923316e-05},{"id":830359,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830360,"event":"return","thread_id":9160,"parent_id":830359,"elapsed":0.001954368,"elapsed_instrumentation":0.00017535901861265302},{"id":830361,"event":"return","thread_id":9160,"parent_id":830356,"elapsed":0.0029423609958030283,"elapsed_instrumentation":0.00016718002734705806,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":830362,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830363,"event":"return","thread_id":9160,"parent_id":830362,"elapsed":3.2650132197886705e-06,"elapsed_instrumentation":0.00010354098048992455,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":830364,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830365,"event":"return","thread_id":9160,"parent_id":830364,"elapsed":1.619500108063221e-05,"elapsed_instrumentation":8.988199988380075e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":830366,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":830367,"event":"return","thread_id":9160,"parent_id":830366,"elapsed":0.001010145,"elapsed_instrumentation":0.000107686995761469},{"id":830368,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830369,"event":"return","thread_id":9160,"parent_id":830368,"elapsed":0.000398374,"elapsed_instrumentation":0.0002269140095449984},{"id":830370,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830371,"event":"return","thread_id":9160,"parent_id":830370,"elapsed":3.84499435313046e-06,"elapsed_instrumentation":0.0001555100316181779,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":830372,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830373,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5086560,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":830374,"event":"return","thread_id":9160,"parent_id":830373,"elapsed":0.0009936440037563443,"elapsed_instrumentation":0.00013693401706404984,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":830375,"event":"return","thread_id":9160,"parent_id":830372,"elapsed":0.0012907680065836757,"elapsed_instrumentation":0.00012187298852950335,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":830376,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830377,"event":"return","thread_id":9160,"parent_id":830376,"elapsed":0.000891684,"elapsed_instrumentation":8.836199413053691e-05},{"id":830378,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":5086580,"value":"#<IpBlock:0x00007fdc0602c1c0>"}},{"id":830379,"event":"return","thread_id":9160,"parent_id":830378,"elapsed":2.9946997528895736e-05,"elapsed_instrumentation":0.00027257000328972936},{"id":830380,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830381,"event":"return","thread_id":9160,"parent_id":830380,"elapsed":2.0193983800709248e-05,"elapsed_instrumentation":0.00020724200294353068,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":830382,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830383,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830384,"event":"return","thread_id":9160,"parent_id":830383,"elapsed":0.000603425,"elapsed_instrumentation":0.00012289898586459458},{"id":830385,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830386,"event":"return","thread_id":9160,"parent_id":830385,"elapsed":0.002006426,"elapsed_instrumentation":8.237201836891472e-05},{"id":830387,"event":"return","thread_id":9160,"parent_id":830382,"elapsed":0.003405341994948685,"elapsed_instrumentation":0.00017744398792274296,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":830388,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830389,"event":"return","thread_id":9160,"parent_id":830388,"elapsed":3.1570089049637318e-06,"elapsed_instrumentation":0.0001091949816327542,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":830390,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830391,"event":"return","thread_id":9160,"parent_id":830390,"elapsed":3.077002475038171e-06,"elapsed_instrumentation":7.629700121469796e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":830392,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":830393,"event":"return","thread_id":9160,"parent_id":830392,"elapsed":0.001029811,"elapsed_instrumentation":9.932898683473468e-05},{"id":830394,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830395,"event":"return","thread_id":9160,"parent_id":830394,"elapsed":0.000678924,"elapsed_instrumentation":7.651498890481889e-05},{"id":830396,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830397,"event":"return","thread_id":9160,"parent_id":830396,"elapsed":3.2789830584079027e-06,"elapsed_instrumentation":0.00013434700667858124,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":830398,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830399,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5086660,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":830400,"event":"return","thread_id":9160,"parent_id":830399,"elapsed":0.001185874018119648,"elapsed_instrumentation":0.00014375700266100466,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":830401,"event":"return","thread_id":9160,"parent_id":830398,"elapsed":0.0015273230092134327,"elapsed_instrumentation":0.00038038697675801814,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":830402,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830403,"event":"return","thread_id":9160,"parent_id":830402,"elapsed":0.000746088,"elapsed_instrumentation":9.517799480818212e-05},{"id":830404,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":5086680,"value":"#<IpBlock:0x00007fdc0602b2c0>"}},{"id":830405,"event":"return","thread_id":9160,"parent_id":830404,"elapsed":2.3127999156713486e-05,"elapsed_instrumentation":0.00014351497520692647},{"id":830406,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830407,"event":"return","thread_id":9160,"parent_id":830406,"elapsed":1.891801366582513e-05,"elapsed_instrumentation":0.00013022299390286207,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":830408,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830409,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830410,"event":"return","thread_id":9160,"parent_id":830409,"elapsed":0.000803588,"elapsed_instrumentation":7.995602209120989e-05},{"id":830411,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830412,"event":"return","thread_id":9160,"parent_id":830411,"elapsed":0.001926448,"elapsed_instrumentation":7.393900887109339e-05},{"id":830413,"event":"return","thread_id":9160,"parent_id":830408,"elapsed":0.0032503249822184443,"elapsed_instrumentation":0.00018959902809001505,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":830414,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830415,"event":"return","thread_id":9160,"parent_id":830414,"elapsed":3.2410025596618652e-06,"elapsed_instrumentation":0.00010986300185322762,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":830416,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830417,"event":"return","thread_id":9160,"parent_id":830416,"elapsed":3.434019163250923e-06,"elapsed_instrumentation":8.156397962011397e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":830418,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":830419,"event":"return","thread_id":9160,"parent_id":830418,"elapsed":0.000803271,"elapsed_instrumentation":8.320898632518947e-05},{"id":830420,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830421,"event":"return","thread_id":9160,"parent_id":830420,"elapsed":0.000442139,"elapsed_instrumentation":0.00025636100326664746},{"id":830422,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830423,"event":"return","thread_id":9160,"parent_id":830422,"elapsed":3.28800524584949e-06,"elapsed_instrumentation":0.00013057098840363324,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":830424,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830425,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5086760,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":830426,"event":"return","thread_id":9160,"parent_id":830425,"elapsed":0.0011026150023099035,"elapsed_instrumentation":0.00016324702301062644,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":830427,"event":"return","thread_id":9160,"parent_id":830424,"elapsed":0.0014218330034054816,"elapsed_instrumentation":0.0001674719969742,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":830428,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830429,"event":"return","thread_id":9160,"parent_id":830428,"elapsed":0.000609863,"elapsed_instrumentation":7.610101602040231e-05},{"id":830430,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":5086780,"value":"#<IpBlock:0x00007fdc0602a780>"}},{"id":830431,"event":"return","thread_id":9160,"parent_id":830430,"elapsed":1.9593979232013226e-05,"elapsed_instrumentation":0.0001150860043708235},{"id":830432,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830433,"event":"return","thread_id":9160,"parent_id":830432,"elapsed":1.6960024368017912e-05,"elapsed_instrumentation":0.00011929598986171186,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":830434,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830435,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830436,"event":"return","thread_id":9160,"parent_id":830435,"elapsed":0.000612674,"elapsed_instrumentation":7.647799793630838e-05},{"id":830437,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830438,"event":"return","thread_id":9160,"parent_id":830437,"elapsed":0.001918878,"elapsed_instrumentation":0.00010134198237210512},{"id":830439,"event":"return","thread_id":9160,"parent_id":830434,"elapsed":0.003391841979464516,"elapsed_instrumentation":0.00018154000281356275,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":830440,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830441,"event":"return","thread_id":9160,"parent_id":830440,"elapsed":3.5389966797083616e-06,"elapsed_instrumentation":0.00011024301056750119,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":830442,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830443,"event":"return","thread_id":9160,"parent_id":830442,"elapsed":2.8479844331741333e-06,"elapsed_instrumentation":7.677401299588382e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":830444,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":830445,"event":"return","thread_id":9160,"parent_id":830444,"elapsed":0.001159624,"elapsed_instrumentation":0.00035137200029566884},{"id":830446,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830447,"event":"return","thread_id":9160,"parent_id":830446,"elapsed":0.000817614,"elapsed_instrumentation":8.016001083888113e-05},{"id":830448,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830449,"event":"return","thread_id":9160,"parent_id":830448,"elapsed":5.437992513179779e-06,"elapsed_instrumentation":0.00018450702191330492,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":830450,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830451,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5086860,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":830452,"event":"return","thread_id":9160,"parent_id":830451,"elapsed":0.0009638229967094958,"elapsed_instrumentation":0.00015396001981571317,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":830453,"event":"return","thread_id":9160,"parent_id":830450,"elapsed":0.0012747439905069768,"elapsed_instrumentation":0.00021034301607869565,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":830454,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830455,"event":"return","thread_id":9160,"parent_id":830454,"elapsed":0.000657129,"elapsed_instrumentation":8.648599032312632e-05},{"id":830456,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":5086880,"value":"#<IpBlock:0x00007fdc06029ec0>"}},{"id":830457,"event":"return","thread_id":9160,"parent_id":830456,"elapsed":2.3741013137623668e-05,"elapsed_instrumentation":0.00015656498726457357},{"id":830458,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830459,"event":"return","thread_id":9160,"parent_id":830458,"elapsed":1.8745020497590303e-05,"elapsed_instrumentation":0.000166534970048815,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":830460,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830461,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830462,"event":"return","thread_id":9160,"parent_id":830461,"elapsed":0.000644512,"elapsed_instrumentation":0.00014769399422220886},{"id":830463,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830464,"event":"return","thread_id":9160,"parent_id":830463,"elapsed":0.002195579,"elapsed_instrumentation":8.056999649852514e-05},{"id":830465,"event":"return","thread_id":9160,"parent_id":830460,"elapsed":0.0038155259971972555,"elapsed_instrumentation":0.00018077198183164,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":830466,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830467,"event":"return","thread_id":9160,"parent_id":830466,"elapsed":4.414992872625589e-06,"elapsed_instrumentation":0.00012381700798869133,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":830468,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830469,"event":"return","thread_id":9160,"parent_id":830468,"elapsed":3.389985067769885e-06,"elapsed_instrumentation":8.436900679953396e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":830470,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":830471,"event":"return","thread_id":9160,"parent_id":830470,"elapsed":0.001243335,"elapsed_instrumentation":0.00010319100692868233},{"id":830472,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830473,"event":"return","thread_id":9160,"parent_id":830472,"elapsed":0.000551479,"elapsed_instrumentation":9.086201316677034e-05},{"id":830474,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830475,"event":"return","thread_id":9160,"parent_id":830474,"elapsed":5.091977072879672e-06,"elapsed_instrumentation":0.0003918980073649436,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":830476,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5086940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830477,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5086960,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":830478,"event":"return","thread_id":9160,"parent_id":830477,"elapsed":0.0011870809830725193,"elapsed_instrumentation":0.00014038200606592,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":830479,"event":"return","thread_id":9160,"parent_id":830476,"elapsed":0.0015097979921847582,"elapsed_instrumentation":0.00013402701006270945,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":830480,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830481,"event":"return","thread_id":9160,"parent_id":830480,"elapsed":0.001239788,"elapsed_instrumentation":9.532499825581908e-05},{"id":830482,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":5086980,"value":"#<IpBlock:0x00007fdc06029240>"}},{"id":830483,"event":"return","thread_id":9160,"parent_id":830482,"elapsed":3.630999708548188e-05,"elapsed_instrumentation":0.00045308101107366383},{"id":830484,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5087000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830485,"event":"return","thread_id":9160,"parent_id":830484,"elapsed":2.1786021534353495e-05,"elapsed_instrumentation":0.00018160598119720817,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":830486,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5087020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830487,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830488,"event":"return","thread_id":9160,"parent_id":830487,"elapsed":0.000748622,"elapsed_instrumentation":8.564497693441808e-05},{"id":830489,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830490,"event":"return","thread_id":9160,"parent_id":830489,"elapsed":0.001792253,"elapsed_instrumentation":7.289400673471391e-05},{"id":830491,"event":"return","thread_id":9160,"parent_id":830486,"elapsed":0.0029528079903684556,"elapsed_instrumentation":0.0003186470130458474,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":830492,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5087020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830493,"event":"return","thread_id":9160,"parent_id":830492,"elapsed":3.703986294567585e-06,"elapsed_instrumentation":0.0001127540017478168,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":830494,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5087000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830495,"event":"return","thread_id":9160,"parent_id":830494,"elapsed":3.12298652715981e-06,"elapsed_instrumentation":0.00011225498747080564,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":830496,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":830497,"event":"return","thread_id":9160,"parent_id":830496,"elapsed":0.000978671,"elapsed_instrumentation":7.482600631192327e-05},{"id":830498,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830499,"event":"return","thread_id":9160,"parent_id":830498,"elapsed":0.000800374,"elapsed_instrumentation":7.309400825761259e-05},{"id":830500,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5087040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830501,"event":"return","thread_id":9160,"parent_id":830500,"elapsed":3.6940036807209253e-06,"elapsed_instrumentation":0.00014911097241565585,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":830502,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5087040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830503,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5087060,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":830504,"event":"return","thread_id":9160,"parent_id":830503,"elapsed":0.0009564890060573816,"elapsed_instrumentation":0.0001269149943254888,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":830505,"event":"return","thread_id":9160,"parent_id":830502,"elapsed":0.0012644069793168455,"elapsed_instrumentation":0.00014418200589716434,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":830506,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830507,"event":"return","thread_id":9160,"parent_id":830506,"elapsed":0.000616167,"elapsed_instrumentation":0.00010720500722527504},{"id":830508,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":5087080,"value":"#<IpBlock:0x00007fdc06028480>"}},{"id":830509,"event":"return","thread_id":9160,"parent_id":830508,"elapsed":3.888198989443481e-05,"elapsed_instrumentation":0.0002405370178166777},{"id":830510,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5087100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830511,"event":"return","thread_id":9160,"parent_id":830510,"elapsed":2.3127009626477957e-05,"elapsed_instrumentation":0.0011391830048523843,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":830512,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5087120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830513,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830514,"event":"return","thread_id":9160,"parent_id":830513,"elapsed":0.000569467,"elapsed_instrumentation":9.527200018055737e-05},{"id":830515,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":830516,"event":"return","thread_id":9160,"parent_id":830515,"elapsed":0.002360688,"elapsed_instrumentation":8.694399730302393e-05},{"id":830517,"event":"return","thread_id":9160,"parent_id":830512,"elapsed":0.003906347992597148,"elapsed_instrumentation":0.00022905299556441605,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":830518,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5087120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":830519,"event":"return","thread_id":9160,"parent_id":830518,"elapsed":5.859998054802418e-06,"elapsed_instrumentation":0.0003821949940174818,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":830520,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5087100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":830521,"event":"return","thread_id":9160,"parent_id":830520,"elapsed":3.6139972507953644e-06,"elapsed_instrumentation":0.00011605900363065302,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":830522,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":830523,"event":"return","thread_id":9160,"parent_id":830522,"elapsed":0.001062182,"elapsed_instrumentation":0.00018661600188352168},{"id":830524,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":830525,"event":"return","thread_id":9160,"parent_id":830524,"elapsed":0.000646145,"elapsed_instrumentation":0.00011604299652390182},{"id":830526,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5087140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830527,"event":"return","thread_id":9160,"parent_id":830526,"elapsed":4.8549845814704895e-06,"elapsed_instrumentation":0.00016862203483469784,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":830528,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5087140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":830529,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5087160,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":830530,"event":"return","thread_id":9160,"parent_id":830529,"elapsed":0.0011390970030333847,"elapsed_instrumentation":0.00032471600570715964,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":830531,"event":"return","thread_id":9160,"parent_id":830528,"elapsed":0.0016816860006656498,"elapsed_instrumentation":0.00013855501310899854,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":830532,"event":"return","thread_id":9160,"parent_id":830245,"elapsed":0.14002799897571094,"elapsed_instrumentation":0.00023737899027764797,"return_value":{"class":"IO","value":"#<IO:0x00007fdc21298f60>","object_id":4113040}},{"id":830533,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"ip\" FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)","database_type":"postgres"}},{"id":830534,"event":"return","thread_id":9160,"parent_id":830533,"elapsed":0.002112232,"elapsed_instrumentation":0.00012233000597916543}]}