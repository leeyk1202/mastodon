{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --follows and --followers options displays a successful message","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"User","type":"class","children":[{"name":"those_who_can","type":"function","location":"app/models/user.rb:143","static":true}]},{"name":"UserRole","type":"class","children":[{"name":"that_can","type":"function","location":"app/models/user_role.rb:111","static":true},{"name":"can?","type":"function","location":"app/models/user_role.rb:131","static":false},{"name":"computed_permissions","type":"function","location":"app/models/user_role.rb:139","static":false},{"name":"everyone?","type":"function","location":"app/models/user_role.rb:115","static":false},{"name":"nobody?","type":"function","location":"app/models/user_role.rb:119","static":false},{"name":"everyone","type":"function","location":"app/models/user_role.rb:105","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]},{"name":"BootstrapTimelineWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/bootstrap_timeline_worker.rb:6","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":1488687,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":8095420,"value":"nellie3166","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8095440,"value":"#<Mastodon::CLI::Accounts:0x00007fdc073fa508>"}},{"id":1488688,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":8095460,"value":"#<AccountFinderConcern::AccountFinder:0x00007fdc0a2a8be8>"}},{"id":1488689,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'nellie3166' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":1488690,"event":"return","thread_id":9160,"parent_id":1488689,"elapsed":0.001468906,"elapsed_instrumentation":0.00011454598279669881},{"id":1488691,"event":"return","thread_id":9160,"parent_id":1488688,"elapsed":0.006238297006348148,"elapsed_instrumentation":0.00017037699581123888,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64a4b18>","object_id":8095480}},{"id":1488692,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1)","database_type":"postgres"}},{"id":1488693,"event":"return","thread_id":9160,"parent_id":1488692,"elapsed":0.001376935,"elapsed_instrumentation":9.699098882265389e-05},{"id":1488694,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1)","database_type":"postgres"}},{"id":1488695,"event":"return","thread_id":9160,"parent_id":1488694,"elapsed":0.001410279,"elapsed_instrumentation":0.0005705910152755678},{"id":1488696,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8095440,"value":"#<Mastodon::CLI::Accounts:0x00007fdc073fa508>"}},{"id":1488697,"event":"return","thread_id":9160,"parent_id":1488696,"elapsed":0.00012469198554754257,"elapsed_instrumentation":0.0004972459864802659,"return_value":{"class":"ProgressBar::Base","value":"","object_id":8095500}},{"id":1488698,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1488699,"event":"return","thread_id":9160,"parent_id":1488698,"elapsed":0.002489363,"elapsed_instrumentation":0.00013499599299393594},{"id":1488700,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8095520,"value":"relationship:111360521669354534:111360521669354538","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8095540,"value":"#<UnfollowService:0x00007fdc073f80c8>"}},{"id":1488701,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8095540,"value":"#<UnfollowService:0x00007fdc073f80c8>"}},{"id":1488702,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8095560,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8095580,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1488703,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1488704,"event":"return","thread_id":9160,"parent_id":1488703,"elapsed":6.058020517230034e-06,"elapsed_instrumentation":0.0001683209848124534,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1488705,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8095600,"value":"\ny_/__\u0012\u001d__Q__:_w"}},{"id":1488706,"event":"return","thread_id":9160,"parent_id":1488705,"elapsed":7.68899917602539e-06,"elapsed_instrumentation":0.00015656300820410252,"return_value":{"class":"Array","value":"[175746863, 24502, 4637, 35520, 20868, 3275405687]","object_id":8095620,"size":6}},{"id":1488707,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1488708,"event":"return","thread_id":9160,"parent_id":1488707,"elapsed":0.000527804,"elapsed_instrumentation":0.00010877000750042498},{"id":1488709,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8095640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1488710,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1488711,"event":"return","thread_id":9160,"parent_id":1488710,"elapsed":0.000936697,"elapsed_instrumentation":9.85389924608171e-05},{"id":1488712,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1488713,"event":"return","thread_id":9160,"parent_id":1488712,"elapsed":0.00068087,"elapsed_instrumentation":8.816298213787377e-05},{"id":1488714,"event":"return","thread_id":9160,"parent_id":1488709,"elapsed":0.0046100320178084075,"elapsed_instrumentation":0.000262154993833974,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1488715,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1488716,"event":"return","thread_id":9160,"parent_id":1488715,"elapsed":0.001353526,"elapsed_instrumentation":0.00010929798008874059},{"id":1488717,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8095640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1488718,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1488719,"event":"return","thread_id":9160,"parent_id":1488718,"elapsed":0.000901254,"elapsed_instrumentation":8.171499939635396e-05},{"id":1488720,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488721,"event":"return","thread_id":9160,"parent_id":1488720,"elapsed":0.000745709,"elapsed_instrumentation":9.594601579010487e-05},{"id":1488722,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8095660,"value":"#<Account:0x00007fdbf64a2818>"}},{"id":1488723,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8095660,"value":"#<Account:0x00007fdbf64a2818>"}},{"id":1488724,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521669354538, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1488725,"event":"return","thread_id":9160,"parent_id":1488724,"elapsed":0.001446299,"elapsed_instrumentation":9.500602027401328e-05},{"id":1488726,"event":"return","thread_id":9160,"parent_id":1488723,"elapsed":0.0026286360225640237,"elapsed_instrumentation":0.00013434200081974268},{"id":1488727,"event":"return","thread_id":9160,"parent_id":1488722,"elapsed":0.002808149001793936,"elapsed_instrumentation":0.00017421701340936124},{"id":1488728,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488729,"event":"return","thread_id":9160,"parent_id":1488728,"elapsed":0.001071173,"elapsed_instrumentation":9.500200394541025e-05},{"id":1488730,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8095680,"value":"#<Account:0x00007fdbf64a1a58>"}},{"id":1488731,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8095680,"value":"#<Account:0x00007fdbf64a1a58>"}},{"id":1488732,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521669354534, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1488733,"event":"return","thread_id":9160,"parent_id":1488732,"elapsed":0.001640798,"elapsed_instrumentation":0.00024752100580371916},{"id":1488734,"event":"return","thread_id":9160,"parent_id":1488731,"elapsed":0.003008906001923606,"elapsed_instrumentation":0.00021563697373494506},{"id":1488735,"event":"return","thread_id":9160,"parent_id":1488730,"elapsed":0.003288798005087301,"elapsed_instrumentation":0.00036843298585154116},{"id":1488736,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095660,"value":"#<Account:0x00007fdbf64a2818>"}},{"id":1488737,"event":"return","thread_id":9160,"parent_id":1488736,"elapsed":2.388801658526063e-05,"elapsed_instrumentation":0.00019167098798789084,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488738,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095680,"value":"#<Account:0x00007fdbf64a1a58>"}},{"id":1488739,"event":"return","thread_id":9160,"parent_id":1488738,"elapsed":1.4363991795107722e-05,"elapsed_instrumentation":0.0002849079901352525,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488740,"event":"return","thread_id":9160,"parent_id":1488717,"elapsed":0.018806439999025315,"elapsed_instrumentation":0.00027685202076099813,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1488741,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1488742,"event":"return","thread_id":9160,"parent_id":1488741,"elapsed":0.00090456,"elapsed_instrumentation":0.0001289570063818246},{"id":1488743,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8095720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1488744,"event":"return","thread_id":9160,"parent_id":1488743,"elapsed":4.203000571578741e-06,"elapsed_instrumentation":0.0004419739998411387,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1488745,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8095720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1488746,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8095740,"value":"Cache delete: relationship:111360521669354538:111360521669354534\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1488747,"event":"return","thread_id":9160,"parent_id":1488746,"elapsed":0.0016010830004233867,"elapsed_instrumentation":0.00015589097165502608,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1488748,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8095760,"value":"Cache delete: relationship:111360521669354534:111360521669354538\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1488749,"event":"return","thread_id":9160,"parent_id":1488748,"elapsed":0.0021013400109950453,"elapsed_instrumentation":0.00019485599477775395,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1488750,"event":"return","thread_id":9160,"parent_id":1488745,"elapsed":0.004870358010521159,"elapsed_instrumentation":0.00024855099036358297,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1488751,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095780,"value":"#<Account:0x00007fdbf64a3718>"}},{"id":1488752,"event":"return","thread_id":9160,"parent_id":1488751,"elapsed":2.287401002831757e-05,"elapsed_instrumentation":0.00015149795217439532,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488753,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095780,"value":"#<Account:0x00007fdbf64a3718>"}},{"id":1488754,"event":"return","thread_id":9160,"parent_id":1488753,"elapsed":6.971997208893299e-06,"elapsed_instrumentation":0.00010027800453826785,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488755,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1488756,"event":"return","thread_id":9160,"parent_id":1488755,"elapsed":2.2280990378931165e-05,"elapsed_instrumentation":0.0003836000105366111,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488757,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8095800,"value":"{args=>[111360521669354534, 111360521669354538], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8095820,"value":"#<Sidekiq::Client:0x00007fdc0a215028>"}},{"id":1488758,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8095840,"value":"____\u000f4__\u0017\u00185_"}},{"id":1488759,"event":"return","thread_id":9160,"parent_id":1488758,"elapsed":6.7140208557248116e-06,"elapsed_instrumentation":0.00014607698540203273,"return_value":{"class":"String","value":"f5f7a5970f348dce171835b5","object_id":8095860}},{"id":1488760,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8095880,"value":"[111360521669354534, 111360521669354538]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8095900,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a212968>"}},{"id":1488761,"event":"return","thread_id":9160,"parent_id":1488760,"elapsed":7.80599657446146e-06,"elapsed_instrumentation":0.0002507379977032542,"return_value":{"class":"String","value":"[111360521669354534,111360521669354538]","object_id":8095920}},{"id":1488762,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8095940,"value":"#<JSON::Ext::Parser:0x00007fdc0a211770>"}},{"id":1488763,"event":"return","thread_id":9160,"parent_id":1488762,"elapsed":6.7559885792434216e-06,"elapsed_instrumentation":0.00020867600687779486,"return_value":{"class":"Array","value":"[111360521669354534, 111360521669354538]","object_id":8095960,"size":2}},{"id":1488764,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8095980,"value":"_\u0012____&(___V"}},{"id":1488765,"event":"return","thread_id":9160,"parent_id":1488764,"elapsed":4.3869949877262115e-06,"elapsed_instrumentation":0.00014828098937869072,"return_value":{"class":"String","value":"b112aad7e7be2628aab99256","object_id":8096000}},{"id":1488766,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8096020,"value":"{retry=>true, queue=>pull, args=>[111360521669354534, 111360521669354538], class=>UnmergeWorker, jid=>f5f7a5970f348dce171835b5, created_at=>1699226711.487843, id=>b112aad7e7be2628aab99256}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8096040,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a22e9d8>"}},{"id":1488767,"event":"return","thread_id":9160,"parent_id":1488766,"elapsed":2.74019839707762e-05,"elapsed_instrumentation":0.0004958249919582158,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521669354534,111360521669354538],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8096060}},{"id":1488768,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8096080,"value":"#<JSON::Ext::Parser:0x00007fdc0a228830>"}},{"id":1488769,"event":"return","thread_id":9160,"parent_id":1488768,"elapsed":2.5788001948967576e-05,"elapsed_instrumentation":0.00028360498254187405,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521669354534, 111360521669354538], class=>UnmergeWorker, jid=>f5f7a5970f348dce171835b5, created_at=>1699226711.487843, id=>b112aad7e7be2628aab99256}","object_id":8096100,"size":7}},{"id":1488770,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043338709069,"value":"111360521669354534","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8096120,"value":"#<UnmergeWorker:0x00007fdc0a224410>"}},{"id":1488771,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8096120,"value":"#<UnmergeWorker:0x00007fdc0a224410>"}},{"id":1488772,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488773,"event":"return","thread_id":9160,"parent_id":1488772,"elapsed":0.0010229,"elapsed_instrumentation":0.0005151270015630871},{"id":1488774,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488775,"event":"return","thread_id":9160,"parent_id":1488774,"elapsed":0.001441984,"elapsed_instrumentation":0.0001233360089827329},{"id":1488776,"event":"return","thread_id":9160,"parent_id":1488771,"elapsed":0.008138584002153948,"elapsed_instrumentation":0.0002105819876305759,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64a0518>","object_id":8096140}},{"id":1488777,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8096120,"value":"#<UnmergeWorker:0x00007fdc0a224410>"}},{"id":1488778,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8096160,"value":"#<Account:0x00007fdbf64a0658>","kind":"req"},{"name":"into_account","class":"Account","object_id":8096140,"value":"#<Account:0x00007fdbf64a0518>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1488779,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1488780,"event":"return","thread_id":9160,"parent_id":1488779,"elapsed":7.880007615312934e-06,"elapsed_instrumentation":0.00017262899200432003,"return_value":{"class":"String","value":"feed:home:111360521669354538","object_id":8096180}},{"id":1488781,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1488782,"event":"return","thread_id":9160,"parent_id":1488781,"elapsed":4.517001798376441e-06,"elapsed_instrumentation":9.375601075589657e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1488783,"event":"return","thread_id":9160,"parent_id":1488778,"elapsed":0.005267554020974785,"elapsed_instrumentation":0.00014532599016092718},{"id":1488784,"event":"return","thread_id":9160,"parent_id":1488777,"elapsed":0.0054589319915976375,"elapsed_instrumentation":0.00010694999946281314},{"id":1488785,"event":"return","thread_id":9160,"parent_id":1488770,"elapsed":0.013979597017168999,"elapsed_instrumentation":0.00017388197011314332},{"id":1488786,"event":"return","thread_id":9160,"parent_id":1488757,"elapsed":0.01626306798425503,"elapsed_instrumentation":0.00021525501506403089,"return_value":{"class":"String","value":"f5f7a5970f348dce171835b5","object_id":8095860}},{"id":1488787,"event":"return","thread_id":9160,"parent_id":1488702,"elapsed":0.0555065720109269,"elapsed_instrumentation":0.00033158197766169906,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a30d8>","object_id":8095700}},{"id":1488788,"event":"return","thread_id":9160,"parent_id":1488701,"elapsed":0.05587283300701529,"elapsed_instrumentation":0.0001249080232810229,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a30d8>","object_id":8095700}},{"id":1488789,"event":"return","thread_id":9160,"parent_id":1488700,"elapsed":0.056047758989734575,"elapsed_instrumentation":0.00022747504408471286,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a30d8>","object_id":8095700}},{"id":1488790,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8096200,"value":"relationship:111360521669354535:111360521669354538","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8096220,"value":"#<UnfollowService:0x00007fdc072fd308>"}},{"id":1488791,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8096220,"value":"#<UnfollowService:0x00007fdc072fd308>"}},{"id":1488792,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8096240,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8096260,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1488793,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1488794,"event":"return","thread_id":9160,"parent_id":1488793,"elapsed":5.233014235273004e-06,"elapsed_instrumentation":0.00010519099305383861,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1488795,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8096280,"value":"'_iy__4?\u001cj__\u0001W_"}},{"id":1488796,"event":"return","thread_id":9160,"parent_id":1488795,"elapsed":9.39800520427525e-06,"elapsed_instrumentation":0.00047969797742553055,"return_value":{"class":"Array","value":"[660564345, 62599, 32564, 16156, 27333, 2952878019]","object_id":8096300,"size":6}},{"id":1488797,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1488798,"event":"return","thread_id":9160,"parent_id":1488797,"elapsed":0.000882985,"elapsed_instrumentation":0.00012592299026437104},{"id":1488799,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8096320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1488800,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1488801,"event":"return","thread_id":9160,"parent_id":1488800,"elapsed":0.000683044,"elapsed_instrumentation":0.00011000200174748898},{"id":1488802,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1488803,"event":"return","thread_id":9160,"parent_id":1488802,"elapsed":0.000834206,"elapsed_instrumentation":8.131802314892411e-05},{"id":1488804,"event":"return","thread_id":9160,"parent_id":1488799,"elapsed":0.003716804989380762,"elapsed_instrumentation":0.00020715699065476656,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1488805,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1488806,"event":"return","thread_id":9160,"parent_id":1488805,"elapsed":0.001396131,"elapsed_instrumentation":9.61099867708981e-05},{"id":1488807,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8096320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1488808,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1488809,"event":"return","thread_id":9160,"parent_id":1488808,"elapsed":0.000947743,"elapsed_instrumentation":0.0001076580083463341},{"id":1488810,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488811,"event":"return","thread_id":9160,"parent_id":1488810,"elapsed":0.000892784,"elapsed_instrumentation":8.22469883132726e-05},{"id":1488812,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8096340,"value":"#<Account:0x00007fdbf64beec8>"}},{"id":1488813,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8096340,"value":"#<Account:0x00007fdbf64beec8>"}},{"id":1488814,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521669354538, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1488815,"event":"return","thread_id":9160,"parent_id":1488814,"elapsed":0.001398154,"elapsed_instrumentation":0.00011995600652880967},{"id":1488816,"event":"return","thread_id":9160,"parent_id":1488813,"elapsed":0.0027926620095968246,"elapsed_instrumentation":0.00024602198391221464},{"id":1488817,"event":"return","thread_id":9160,"parent_id":1488812,"elapsed":0.0030925599858164787,"elapsed_instrumentation":0.0005151259829290211},{"id":1488818,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488819,"event":"return","thread_id":9160,"parent_id":1488818,"elapsed":0.001097375,"elapsed_instrumentation":9.54149872995913e-05},{"id":1488820,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8096360,"value":"#<Account:0x00007fdbf64bf148>"}},{"id":1488821,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8096360,"value":"#<Account:0x00007fdbf64bf148>"}},{"id":1488822,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521669354535, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1488823,"event":"return","thread_id":9160,"parent_id":1488822,"elapsed":0.001100725,"elapsed_instrumentation":8.535099914297462e-05},{"id":1488824,"event":"return","thread_id":9160,"parent_id":1488821,"elapsed":0.001854068017564714,"elapsed_instrumentation":9.663499076850712e-05},{"id":1488825,"event":"return","thread_id":9160,"parent_id":1488820,"elapsed":0.001977100007934496,"elapsed_instrumentation":0.00014821099466644228},{"id":1488826,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8096340,"value":"#<Account:0x00007fdbf64beec8>"}},{"id":1488827,"event":"return","thread_id":9160,"parent_id":1488826,"elapsed":1.5423021977767348e-05,"elapsed_instrumentation":0.00011672297841869295,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488828,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8096360,"value":"#<Account:0x00007fdbf64bf148>"}},{"id":1488829,"event":"return","thread_id":9160,"parent_id":1488828,"elapsed":1.3900978956371546e-05,"elapsed_instrumentation":0.0003121350018773228,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488830,"event":"return","thread_id":9160,"parent_id":1488807,"elapsed":0.018513166985940188,"elapsed_instrumentation":0.00020168800256215036,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1488831,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1488832,"event":"return","thread_id":9160,"parent_id":1488831,"elapsed":0.000497667,"elapsed_instrumentation":0.00010570499580353498},{"id":1488833,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8096400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1488834,"event":"return","thread_id":9160,"parent_id":1488833,"elapsed":3.515015123412013e-06,"elapsed_instrumentation":0.00012575299479067326,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1488835,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8096400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1488836,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8096420,"value":"Cache delete: relationship:111360521669354538:111360521669354535\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1488837,"event":"return","thread_id":9160,"parent_id":1488836,"elapsed":0.0017944489954970777,"elapsed_instrumentation":0.00013325500185601413,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1488838,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8096440,"value":"Cache delete: relationship:111360521669354535:111360521669354538\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1488839,"event":"return","thread_id":9160,"parent_id":1488838,"elapsed":0.0016876000154297799,"elapsed_instrumentation":0.00014771497808396816,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1488840,"event":"return","thread_id":9160,"parent_id":1488835,"elapsed":0.004080987011548132,"elapsed_instrumentation":0.0001587799924891442,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1488841,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8096460,"value":"#<Account:0x00007fdbf64a35d8>"}},{"id":1488842,"event":"return","thread_id":9160,"parent_id":1488841,"elapsed":2.1365005522966385e-05,"elapsed_instrumentation":0.00014318997273221612,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488843,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8096460,"value":"#<Account:0x00007fdbf64a35d8>"}},{"id":1488844,"event":"return","thread_id":9160,"parent_id":1488843,"elapsed":1.1550000635907054e-05,"elapsed_instrumentation":0.00033154600532725453,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488845,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1488846,"event":"return","thread_id":9160,"parent_id":1488845,"elapsed":7.778988219797611e-06,"elapsed_instrumentation":0.00010131104500032961,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488847,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8096480,"value":"{args=>[111360521669354535, 111360521669354538], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8096500,"value":"#<Sidekiq::Client:0x00007fdc0a151e70>"}},{"id":1488848,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8096520,"value":"|e___j______"}},{"id":1488849,"event":"return","thread_id":9160,"parent_id":1488848,"elapsed":4.631001502275467e-06,"elapsed_instrumentation":0.00011314198491163552,"return_value":{"class":"String","value":"7c65f2e69d6a97a3d6c786e1","object_id":8096540}},{"id":1488850,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8096560,"value":"[111360521669354535, 111360521669354538]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8096580,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a16db98>"}},{"id":1488851,"event":"return","thread_id":9160,"parent_id":1488850,"elapsed":7.57469970267266e-05,"elapsed_instrumentation":0.00016277696704491973,"return_value":{"class":"String","value":"[111360521669354535,111360521669354538]","object_id":8096600}},{"id":1488852,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8096620,"value":"#<JSON::Ext::Parser:0x00007fdc0a16c950>"}},{"id":1488853,"event":"return","thread_id":9160,"parent_id":1488852,"elapsed":5.996989784762263e-06,"elapsed_instrumentation":0.00011523597640916705,"return_value":{"class":"Array","value":"[111360521669354535, 111360521669354538]","object_id":8096640,"size":2}},{"id":1488854,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8096660,"value":"c\u0017___;Y\u0002__\r\u001e"}},{"id":1488855,"event":"return","thread_id":9160,"parent_id":1488854,"elapsed":3.891997039318085e-06,"elapsed_instrumentation":0.00011594203533604741,"return_value":{"class":"String","value":"6317fef3d63b5902e4a70d1e","object_id":8096680}},{"id":1488856,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8096700,"value":"{retry=>true, queue=>pull, args=>[111360521669354535, 111360521669354538], class=>UnmergeWorker, jid=>7c65f2e69d6a97a3d6c786e1, created_at=>1699226711.540849, id=>6317fef3d63b5902e4a70d1e}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8096720,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a169660>"}},{"id":1488857,"event":"return","thread_id":9160,"parent_id":1488856,"elapsed":1.55859743244946e-05,"elapsed_instrumentation":0.0004941149963997304,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521669354535,111360521669354538],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8096740}},{"id":1488858,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8096760,"value":"#<JSON::Ext::Parser:0x00007fdc0a166050>"}},{"id":1488859,"event":"return","thread_id":9160,"parent_id":1488858,"elapsed":4.337701830081642e-05,"elapsed_instrumentation":0.0004636429948732257,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521669354535, 111360521669354538], class=>UnmergeWorker, jid=>7c65f2e69d6a97a3d6c786e1, created_at=>1699226711.540849, id=>6317fef3d63b5902e4a70d1e}","object_id":8096780,"size":7}},{"id":1488860,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043338709071,"value":"111360521669354535","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8096800,"value":"#<UnmergeWorker:0x00007fdc0a161910>"}},{"id":1488861,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8096800,"value":"#<UnmergeWorker:0x00007fdc0a161910>"}},{"id":1488862,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488863,"event":"return","thread_id":9160,"parent_id":1488862,"elapsed":0.001483521,"elapsed_instrumentation":0.00010698699043132365},{"id":1488864,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488865,"event":"return","thread_id":9160,"parent_id":1488864,"elapsed":0.001106485,"elapsed_instrumentation":8.289501420222223e-05},{"id":1488866,"event":"return","thread_id":9160,"parent_id":1488861,"elapsed":0.00633185199694708,"elapsed_instrumentation":0.00020783199579454958,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64bdac8>","object_id":8096820}},{"id":1488867,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8096800,"value":"#<UnmergeWorker:0x00007fdc0a161910>"}},{"id":1488868,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8096840,"value":"#<Account:0x00007fdbf64bdc08>","kind":"req"},{"name":"into_account","class":"Account","object_id":8096820,"value":"#<Account:0x00007fdbf64bdac8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1488869,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1488870,"event":"return","thread_id":9160,"parent_id":1488869,"elapsed":5.338981281965971e-06,"elapsed_instrumentation":0.00011024801642633975,"return_value":{"class":"String","value":"feed:home:111360521669354538","object_id":8096860}},{"id":1488871,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1488872,"event":"return","thread_id":9160,"parent_id":1488871,"elapsed":5.224021151661873e-06,"elapsed_instrumentation":7.54839857108891e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1488873,"event":"return","thread_id":9160,"parent_id":1488868,"elapsed":0.004310160991735756,"elapsed_instrumentation":0.00012174402945674956},{"id":1488874,"event":"return","thread_id":9160,"parent_id":1488867,"elapsed":0.004471905995160341,"elapsed_instrumentation":0.00010462000500410795},{"id":1488875,"event":"return","thread_id":9160,"parent_id":1488860,"elapsed":0.012354734004475176,"elapsed_instrumentation":0.0005338019982445985},{"id":1488876,"event":"return","thread_id":9160,"parent_id":1488847,"elapsed":0.015263482026057318,"elapsed_instrumentation":0.00020496497745625675,"return_value":{"class":"String","value":"7c65f2e69d6a97a3d6c786e1","object_id":8096540}},{"id":1488877,"event":"return","thread_id":9160,"parent_id":1488792,"elapsed":0.05134579801233485,"elapsed_instrumentation":0.00019995903130620718,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a0298>","object_id":8096380}},{"id":1488878,"event":"return","thread_id":9160,"parent_id":1488791,"elapsed":0.051577398990048096,"elapsed_instrumentation":0.00015476500266231596,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a0298>","object_id":8096380}},{"id":1488879,"event":"return","thread_id":9160,"parent_id":1488790,"elapsed":0.05179094400955364,"elapsed_instrumentation":0.0005720319750253111,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a0298>","object_id":8096380}},{"id":1488880,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8096880,"value":"relationship:111360521669354536:111360521669354538","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8096900,"value":"#<UnfollowService:0x00007fdc072f2ea8>"}},{"id":1488881,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8096900,"value":"#<UnfollowService:0x00007fdc072f2ea8>"}},{"id":1488882,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8096920,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8096940,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1488883,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1488884,"event":"return","thread_id":9160,"parent_id":1488883,"elapsed":3.703986294567585e-06,"elapsed_instrumentation":0.0005168600182514638,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1488885,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8096960,"value":"_\u000e_____\u001a%_`bf___"}},{"id":1488886,"event":"return","thread_id":9160,"parent_id":1488885,"elapsed":7.860013283789158e-06,"elapsed_instrumentation":0.00023984300787560642,"return_value":{"class":"Array","value":"[2685319927, 65412, 59418, 9635, 24674, 1722476013]","object_id":8096980,"size":6}},{"id":1488887,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1488888,"event":"return","thread_id":9160,"parent_id":1488887,"elapsed":0.001006101,"elapsed_instrumentation":0.00015011001960374415},{"id":1488889,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8097000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1488890,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1488891,"event":"return","thread_id":9160,"parent_id":1488890,"elapsed":0.000846851,"elapsed_instrumentation":9.033401147462428e-05},{"id":1488892,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1488893,"event":"return","thread_id":9160,"parent_id":1488892,"elapsed":0.000871682,"elapsed_instrumentation":0.00010714199743233621},{"id":1488894,"event":"return","thread_id":9160,"parent_id":1488889,"elapsed":0.004199548013275489,"elapsed_instrumentation":0.0002299949701409787,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1488895,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1488896,"event":"return","thread_id":9160,"parent_id":1488895,"elapsed":0.001085728,"elapsed_instrumentation":0.00011042098049074411},{"id":1488897,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8097000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1488898,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1488899,"event":"return","thread_id":9160,"parent_id":1488898,"elapsed":0.000818373,"elapsed_instrumentation":8.359600906260312e-05},{"id":1488900,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488901,"event":"return","thread_id":9160,"parent_id":1488900,"elapsed":0.00085713,"elapsed_instrumentation":9.364201105199754e-05},{"id":1488902,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8097020,"value":"#<Account:0x00007fdbf64bcf88>"}},{"id":1488903,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8097020,"value":"#<Account:0x00007fdbf64bcf88>"}},{"id":1488904,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521669354538, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1488905,"event":"return","thread_id":9160,"parent_id":1488904,"elapsed":0.001024774,"elapsed_instrumentation":8.904002606868744e-05},{"id":1488906,"event":"return","thread_id":9160,"parent_id":1488903,"elapsed":0.0016290470084641129,"elapsed_instrumentation":0.0004808209778275341},{"id":1488907,"event":"return","thread_id":9160,"parent_id":1488902,"elapsed":0.002150258980691433,"elapsed_instrumentation":0.00017359602497890592},{"id":1488908,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488909,"event":"return","thread_id":9160,"parent_id":1488908,"elapsed":0.00110045,"elapsed_instrumentation":0.00015710899606347084},{"id":1488910,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8097040,"value":"#<Account:0x00007fdbf64bbf48>"}},{"id":1488911,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8097040,"value":"#<Account:0x00007fdbf64bbf48>"}},{"id":1488912,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521669354536, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1488913,"event":"return","thread_id":9160,"parent_id":1488912,"elapsed":0.000987257,"elapsed_instrumentation":9.129501995630562e-05},{"id":1488914,"event":"return","thread_id":9160,"parent_id":1488911,"elapsed":0.0017383709782734513,"elapsed_instrumentation":0.0001374600105918944},{"id":1488915,"event":"return","thread_id":9160,"parent_id":1488910,"elapsed":0.0019028699898626655,"elapsed_instrumentation":0.0001478320045862347},{"id":1488916,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8097020,"value":"#<Account:0x00007fdbf64bcf88>"}},{"id":1488917,"event":"return","thread_id":9160,"parent_id":1488916,"elapsed":1.828401582315564e-05,"elapsed_instrumentation":0.00013243299326859415,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488918,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8097040,"value":"#<Account:0x00007fdbf64bbf48>"}},{"id":1488919,"event":"return","thread_id":9160,"parent_id":1488918,"elapsed":1.2595002772286534e-05,"elapsed_instrumentation":0.0001050169812515378,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488920,"event":"return","thread_id":9160,"parent_id":1488897,"elapsed":0.015255581005476415,"elapsed_instrumentation":0.00021415200899355114,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1488921,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1488922,"event":"return","thread_id":9160,"parent_id":1488921,"elapsed":0.000524628,"elapsed_instrumentation":7.709799683652818e-05},{"id":1488923,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8097080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1488924,"event":"return","thread_id":9160,"parent_id":1488923,"elapsed":5.518988473340869e-06,"elapsed_instrumentation":0.00024138300796039402,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1488925,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8097080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1488926,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8097100,"value":"Cache delete: relationship:111360521669354538:111360521669354536\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1488927,"event":"return","thread_id":9160,"parent_id":1488926,"elapsed":0.0018122360052075237,"elapsed_instrumentation":0.00014478401863016188,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1488928,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8097120,"value":"Cache delete: relationship:111360521669354536:111360521669354538\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1488929,"event":"return","thread_id":9160,"parent_id":1488928,"elapsed":0.001604207995114848,"elapsed_instrumentation":0.0002091060159727931,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1488930,"event":"return","thread_id":9160,"parent_id":1488925,"elapsed":0.0041310740052722394,"elapsed_instrumentation":0.0001445460075046867,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1488931,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8097140,"value":"#<Account:0x00007fdbf64a3498>"}},{"id":1488932,"event":"return","thread_id":9160,"parent_id":1488931,"elapsed":1.542299287393689e-05,"elapsed_instrumentation":0.00010287002078257501,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488933,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8097140,"value":"#<Account:0x00007fdbf64a3498>"}},{"id":1488934,"event":"return","thread_id":9160,"parent_id":1488933,"elapsed":8.467002771794796e-06,"elapsed_instrumentation":0.00011467898730188608,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488935,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1488936,"event":"return","thread_id":9160,"parent_id":1488935,"elapsed":9.944982593879104e-06,"elapsed_instrumentation":0.00015454203821718693,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1488937,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8097160,"value":"{args=>[111360521669354536, 111360521669354538], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8097180,"value":"#<Sidekiq::Client:0x00007fdc0a095d10>"}},{"id":1488938,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8097200,"value":"\b+th_______X"}},{"id":1488939,"event":"return","thread_id":9160,"parent_id":1488938,"elapsed":7.587019354104996e-06,"elapsed_instrumentation":0.00019187896396033466,"return_value":{"class":"String","value":"082b74689ba48d9b5feea858","object_id":8097220}},{"id":1488940,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8097240,"value":"[111360521669354536, 111360521669354538]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8097260,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a091b48>"}},{"id":1488941,"event":"return","thread_id":9160,"parent_id":1488940,"elapsed":1.4917983207851648e-05,"elapsed_instrumentation":0.0004243750008754432,"return_value":{"class":"String","value":"[111360521669354536,111360521669354538]","object_id":8097280}},{"id":1488942,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8097300,"value":"#<JSON::Ext::Parser:0x00007fdc0a090ab8>"}},{"id":1488943,"event":"return","thread_id":9160,"parent_id":1488942,"elapsed":6.683985702693462e-06,"elapsed_instrumentation":0.0001262360019609332,"return_value":{"class":"Array","value":"[111360521669354536, 111360521669354538]","object_id":8097320,"size":2}},{"id":1488944,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8097340,"value":"\u001d_T__n_s_,_\u0000"}},{"id":1488945,"event":"return","thread_id":9160,"parent_id":1488944,"elapsed":5.075009539723396e-06,"elapsed_instrumentation":0.0002514240040909499,"return_value":{"class":"String","value":"1dc9548af96ea6735f2ce700","object_id":8097360}},{"id":1488946,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8097380,"value":"{retry=>true, queue=>pull, args=>[111360521669354536, 111360521669354538], class=>UnmergeWorker, jid=>082b74689ba48d9b5feea858, created_at=>1699226711.5916777, id=>1dc9548af96ea6735f2ce700}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8097400,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a0ae720>"}},{"id":1488947,"event":"return","thread_id":9160,"parent_id":1488946,"elapsed":1.9705010345205665e-05,"elapsed_instrumentation":0.00044690098729915917,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521669354536,111360521669354538],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8097420}},{"id":1488948,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8097440,"value":"#<JSON::Ext::Parser:0x00007fdc0a0ac290>"}},{"id":1488949,"event":"return","thread_id":9160,"parent_id":1488948,"elapsed":8.59529827721417e-05,"elapsed_instrumentation":0.0004928310227114707,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521669354536, 111360521669354538], class=>UnmergeWorker, jid=>082b74689ba48d9b5feea858, created_at=>1699226711.5916777, id=>1dc9548af96ea6735f2ce700}","object_id":8097460,"size":7}},{"id":1488950,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043338709073,"value":"111360521669354536","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8097480,"value":"#<UnmergeWorker:0x00007fdc0a0a9cc0>"}},{"id":1488951,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8097480,"value":"#<UnmergeWorker:0x00007fdc0a0a9cc0>"}},{"id":1488952,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488953,"event":"return","thread_id":9160,"parent_id":1488952,"elapsed":0.001059034,"elapsed_instrumentation":0.00032399798510596156},{"id":1488954,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488955,"event":"return","thread_id":9160,"parent_id":1488954,"elapsed":0.001061959,"elapsed_instrumentation":8.734699804335833e-05},{"id":1488956,"event":"return","thread_id":9160,"parent_id":1488951,"elapsed":0.005440681998152286,"elapsed_instrumentation":0.00013763998867943883,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64baa08>","object_id":8097500}},{"id":1488957,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8097480,"value":"#<UnmergeWorker:0x00007fdc0a0a9cc0>"}},{"id":1488958,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8097520,"value":"#<Account:0x00007fdbf64bab48>","kind":"req"},{"name":"into_account","class":"Account","object_id":8097500,"value":"#<Account:0x00007fdbf64baa08>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1488959,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1488960,"event":"return","thread_id":9160,"parent_id":1488959,"elapsed":5.398993380367756e-06,"elapsed_instrumentation":0.00019347103079780936,"return_value":{"class":"String","value":"feed:home:111360521669354538","object_id":8097540}},{"id":1488961,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1488962,"event":"return","thread_id":9160,"parent_id":1488961,"elapsed":5.865003913640976e-06,"elapsed_instrumentation":0.00011954497313126922,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1488963,"event":"return","thread_id":9160,"parent_id":1488958,"elapsed":0.0051949829794466496,"elapsed_instrumentation":0.0020772840071003884},{"id":1488964,"event":"return","thread_id":9160,"parent_id":1488957,"elapsed":0.007318617019336671,"elapsed_instrumentation":0.00024211397976614535},{"id":1488965,"event":"return","thread_id":9160,"parent_id":1488950,"elapsed":0.013197652995586395,"elapsed_instrumentation":0.00017958501121029258},{"id":1488966,"event":"return","thread_id":9160,"parent_id":1488937,"elapsed":0.01621104101650417,"elapsed_instrumentation":0.0002729939587879926,"return_value":{"class":"String","value":"082b74689ba48d9b5feea858","object_id":8097220}},{"id":1488967,"event":"return","thread_id":9160,"parent_id":1488882,"elapsed":0.050480783014791086,"elapsed_instrumentation":0.00021614701836369932,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64bd848>","object_id":8097060}},{"id":1488968,"event":"return","thread_id":9160,"parent_id":1488881,"elapsed":0.05073220998747274,"elapsed_instrumentation":0.0001415589649695903,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64bd848>","object_id":8097060}},{"id":1488969,"event":"return","thread_id":9160,"parent_id":1488880,"elapsed":0.05092910400708206,"elapsed_instrumentation":0.00030325696570798755,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64bd848>","object_id":8097060}},{"id":1488970,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8097560,"value":"relationship:111360521669354537:111360521669354538","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8097580,"value":"#<UnfollowService:0x00007fdc0730ac38>"}},{"id":1488971,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8097580,"value":"#<UnfollowService:0x00007fdc0730ac38>"}},{"id":1488972,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8097600,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8097620,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1488973,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1488974,"event":"return","thread_id":9160,"parent_id":1488973,"elapsed":3.149994881823659e-06,"elapsed_instrumentation":0.0001080040237866342,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1488975,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8097640,"value":"_____\u0017x__!6\u00131GI\u0015"}},{"id":1488976,"event":"return","thread_id":9160,"parent_id":1488975,"elapsed":1.1839991202577949e-05,"elapsed_instrumentation":0.0020016560156363994,"return_value":{"class":"Array","value":"[3757097905, 64279, 30920, 44065, 13843, 826755349]","object_id":8097660,"size":6}},{"id":1488977,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1488978,"event":"return","thread_id":9160,"parent_id":1488977,"elapsed":0.001253016,"elapsed_instrumentation":0.00012301802053116262},{"id":1488979,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8097680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1488980,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1488981,"event":"return","thread_id":9160,"parent_id":1488980,"elapsed":0.00045385,"elapsed_instrumentation":0.00011121699935756624},{"id":1488982,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1488983,"event":"return","thread_id":9160,"parent_id":1488982,"elapsed":0.000695257,"elapsed_instrumentation":0.0002687690139282495},{"id":1488984,"event":"return","thread_id":9160,"parent_id":1488979,"elapsed":0.0035098830121569335,"elapsed_instrumentation":0.0002881069667637348,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1488985,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1488986,"event":"return","thread_id":9160,"parent_id":1488985,"elapsed":0.001171575,"elapsed_instrumentation":7.913500303402543e-05},{"id":1488987,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8097680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1488988,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1488989,"event":"return","thread_id":9160,"parent_id":1488988,"elapsed":0.000911433,"elapsed_instrumentation":0.00029897000058554113},{"id":1488990,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488991,"event":"return","thread_id":9160,"parent_id":1488990,"elapsed":0.001017553,"elapsed_instrumentation":0.00012370801414363086},{"id":1488992,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8097700,"value":"#<Account:0x00007fdbf64b9c48>"}},{"id":1488993,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8097700,"value":"#<Account:0x00007fdbf64b9c48>"}},{"id":1488994,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521669354538, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1488995,"event":"return","thread_id":9160,"parent_id":1488994,"elapsed":0.001284707,"elapsed_instrumentation":0.00010898700566031039},{"id":1488996,"event":"return","thread_id":9160,"parent_id":1488993,"elapsed":0.0022823140025138855,"elapsed_instrumentation":0.00010995598859153688},{"id":1488997,"event":"return","thread_id":9160,"parent_id":1488992,"elapsed":0.0024233940057456493,"elapsed_instrumentation":0.00016023300122469664},{"id":1488998,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1488999,"event":"return","thread_id":9160,"parent_id":1488998,"elapsed":0.000735409,"elapsed_instrumentation":0.00012041901936754584},{"id":1489000,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8097720,"value":"#<Account:0x00007fdbf64b8e88>"}},{"id":1489001,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8097720,"value":"#<Account:0x00007fdbf64b8e88>"}},{"id":1489002,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521669354537, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489003,"event":"return","thread_id":9160,"parent_id":1489002,"elapsed":0.001523022,"elapsed_instrumentation":0.00015372800407931209},{"id":1489004,"event":"return","thread_id":9160,"parent_id":1489001,"elapsed":0.0028474979917518795,"elapsed_instrumentation":0.0001956670021172613},{"id":1489005,"event":"return","thread_id":9160,"parent_id":1489000,"elapsed":0.0031004020129330456,"elapsed_instrumentation":0.00021915900288149714},{"id":1489006,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8097700,"value":"#<Account:0x00007fdbf64b9c48>"}},{"id":1489007,"event":"return","thread_id":9160,"parent_id":1489006,"elapsed":2.9040005756542087e-05,"elapsed_instrumentation":0.00029432398150675,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489008,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8097720,"value":"#<Account:0x00007fdbf64b8e88>"}},{"id":1489009,"event":"return","thread_id":9160,"parent_id":1489008,"elapsed":1.0549993021413684e-05,"elapsed_instrumentation":0.0001394319988321513,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489010,"event":"return","thread_id":9160,"parent_id":1488987,"elapsed":0.01842346301418729,"elapsed_instrumentation":0.00028604999533854425,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1489011,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489012,"event":"return","thread_id":9160,"parent_id":1489011,"elapsed":0.000680138,"elapsed_instrumentation":0.00014384998939931393},{"id":1489013,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8097760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489014,"event":"return","thread_id":9160,"parent_id":1489013,"elapsed":6.537011358886957e-06,"elapsed_instrumentation":0.00021271701552905142,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1489015,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8097760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489016,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8097780,"value":"Cache delete: relationship:111360521669354538:111360521669354537\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489017,"event":"return","thread_id":9160,"parent_id":1489016,"elapsed":0.0017491990001872182,"elapsed_instrumentation":0.00025172700406983495,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489018,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8097800,"value":"Cache delete: relationship:111360521669354537:111360521669354538\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489019,"event":"return","thread_id":9160,"parent_id":1489018,"elapsed":0.0013454550062306225,"elapsed_instrumentation":0.00044047998380847275,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489020,"event":"return","thread_id":9160,"parent_id":1489015,"elapsed":0.00431955698877573,"elapsed_instrumentation":0.0005153219972271472,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1489021,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8097820,"value":"#<Account:0x00007fdbf64a3358>"}},{"id":1489022,"event":"return","thread_id":9160,"parent_id":1489021,"elapsed":0.00021969201043248177,"elapsed_instrumentation":0.00012360099935904145,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489023,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8097820,"value":"#<Account:0x00007fdbf64a3358>"}},{"id":1489024,"event":"return","thread_id":9160,"parent_id":1489023,"elapsed":6.5229833126068115e-06,"elapsed_instrumentation":8.99090082384646e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489025,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1489026,"event":"return","thread_id":9160,"parent_id":1489025,"elapsed":4.91298851557076e-06,"elapsed_instrumentation":6.348200258798897e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489027,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8097840,"value":"{args=>[111360521669354537, 111360521669354538], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8097860,"value":"#<Sidekiq::Client:0x00007fdc0a018d38>"}},{"id":1489028,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8097880,"value":"_Q__H_3\u001f!___"}},{"id":1489029,"event":"return","thread_id":9160,"parent_id":1489028,"elapsed":4.692003130912781e-06,"elapsed_instrumentation":0.00011313401046209037,"return_value":{"class":"String","value":"d8518cd44896331f21d594db","object_id":8097900}},{"id":1489030,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8097920,"value":"[111360521669354537, 111360521669354538]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8097940,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a015b88>"}},{"id":1489031,"event":"return","thread_id":9160,"parent_id":1489030,"elapsed":8.70201620273292e-06,"elapsed_instrumentation":0.00012015298125334084,"return_value":{"class":"String","value":"[111360521669354537,111360521669354538]","object_id":8097960}},{"id":1489032,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8097980,"value":"#<JSON::Ext::Parser:0x00007fdc0a014990>"}},{"id":1489033,"event":"return","thread_id":9160,"parent_id":1489032,"elapsed":5.972979124635458e-06,"elapsed_instrumentation":0.00011586898472160101,"return_value":{"class":"Array","value":"[111360521669354537, 111360521669354538]","object_id":8098000,"size":2}},{"id":1489034,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8098020,"value":"_\n_l_Cx_E___"}},{"id":1489035,"event":"return","thread_id":9160,"parent_id":1489034,"elapsed":4.004017682746053e-06,"elapsed_instrumentation":0.0001026549725793302,"return_value":{"class":"String","value":"940ae36c9a4378eb4589f398","object_id":8098040}},{"id":1489036,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8098060,"value":"{retry=>true, queue=>pull, args=>[111360521669354537, 111360521669354538], class=>UnmergeWorker, jid=>d8518cd44896331f21d594db, created_at=>1699226711.6468475, id=>940ae36c9a4378eb4589f398}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8098080,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a011948>"}},{"id":1489037,"event":"return","thread_id":9160,"parent_id":1489036,"elapsed":1.662599970586598e-05,"elapsed_instrumentation":0.0016944050148595124,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521669354537,111360521669354538],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8098100}},{"id":1489038,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8098120,"value":"#<JSON::Ext::Parser:0x00007fdc09fbf080>"}},{"id":1489039,"event":"return","thread_id":9160,"parent_id":1489038,"elapsed":2.3432017769664526e-05,"elapsed_instrumentation":0.00018982298206537962,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521669354537, 111360521669354538], class=>UnmergeWorker, jid=>d8518cd44896331f21d594db, created_at=>1699226711.6468475, id=>940ae36c9a4378eb4589f398}","object_id":8098140,"size":7}},{"id":1489040,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043338709075,"value":"111360521669354537","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8098160,"value":"#<UnmergeWorker:0x00007fdc09fbbb38>"}},{"id":1489041,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8098160,"value":"#<UnmergeWorker:0x00007fdc09fbbb38>"}},{"id":1489042,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489043,"event":"return","thread_id":9160,"parent_id":1489042,"elapsed":0.000872015,"elapsed_instrumentation":0.0002578150015324354},{"id":1489044,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489045,"event":"return","thread_id":9160,"parent_id":1489044,"elapsed":0.000833784,"elapsed_instrumentation":0.0005399699730332941},{"id":1489046,"event":"return","thread_id":9160,"parent_id":1489041,"elapsed":0.006548495992319658,"elapsed_instrumentation":0.00014517901581712067,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64b7448>","object_id":8098180}},{"id":1489047,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8098160,"value":"#<UnmergeWorker:0x00007fdc09fbbb38>"}},{"id":1489048,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8098200,"value":"#<Account:0x00007fdbf64b7588>","kind":"req"},{"name":"into_account","class":"Account","object_id":8098180,"value":"#<Account:0x00007fdbf64b7448>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489049,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489050,"event":"return","thread_id":9160,"parent_id":1489049,"elapsed":5.160982254892588e-06,"elapsed_instrumentation":0.00011111301137134433,"return_value":{"class":"String","value":"feed:home:111360521669354538","object_id":8098220}},{"id":1489051,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489052,"event":"return","thread_id":9160,"parent_id":1489051,"elapsed":5.262991180643439e-06,"elapsed_instrumentation":0.00010309499339200556,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1489053,"event":"return","thread_id":9160,"parent_id":1489048,"elapsed":0.004120678000617772,"elapsed_instrumentation":0.00011681398609653115},{"id":1489054,"event":"return","thread_id":9160,"parent_id":1489047,"elapsed":0.004272926016710699,"elapsed_instrumentation":0.00010916698374785483},{"id":1489055,"event":"return","thread_id":9160,"parent_id":1489040,"elapsed":0.011130015016533434,"elapsed_instrumentation":8.962099673226476e-05},{"id":1489056,"event":"return","thread_id":9160,"parent_id":1489027,"elapsed":0.014091408986132592,"elapsed_instrumentation":0.00017726400983519852,"return_value":{"class":"String","value":"d8518cd44896331f21d594db","object_id":8097900}},{"id":1489057,"event":"return","thread_id":9160,"parent_id":1488972,"elapsed":0.05200195699580945,"elapsed_instrumentation":0.00025071599520742893,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64ba648>","object_id":8097740}},{"id":1489058,"event":"return","thread_id":9160,"parent_id":1488971,"elapsed":0.05244525600573979,"elapsed_instrumentation":9.117298759520054e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64ba648>","object_id":8097740}},{"id":1489059,"event":"return","thread_id":9160,"parent_id":1488970,"elapsed":0.05257393099600449,"elapsed_instrumentation":0.00022734899539500475,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64ba648>","object_id":8097740}},{"id":1489060,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8098240,"value":"{args=>[111360521669354538], class=>BootstrapTimelineWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8098260,"value":"#<Sidekiq::Client:0x00007fdc09fc5138>"}},{"id":1489061,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8098280,"value":"\u0001'_-'\u0010____(["}},{"id":1489062,"event":"return","thread_id":9160,"parent_id":1489061,"elapsed":5.5349955800920725e-06,"elapsed_instrumentation":0.0002755480236373842,"return_value":{"class":"String","value":"0127822d271091a6fe88285b","object_id":8098300}},{"id":1489063,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8098320,"value":"[111360521669354538]","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8098340,"value":"#<JSON::Ext::Generator::State:0x00007fdc09fc2bb8>"}},{"id":1489064,"event":"return","thread_id":9160,"parent_id":1489063,"elapsed":5.893001798540354e-06,"elapsed_instrumentation":0.00011558900587260723,"return_value":{"class":"String","value":"[111360521669354538]","object_id":8098360}},{"id":1489065,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8098380,"value":"#<JSON::Ext::Parser:0x00007fdc09fc1e20>"}},{"id":1489066,"event":"return","thread_id":9160,"parent_id":1489065,"elapsed":5.1679962780326605e-06,"elapsed_instrumentation":7.889402331784368e-05,"return_value":{"class":"Array","value":"[111360521669354538]","object_id":8098400,"size":1}},{"id":1489067,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8098420,"value":"V_V_h,__-U__"}},{"id":1489068,"event":"return","thread_id":9160,"parent_id":1489067,"elapsed":3.2780226320028305e-06,"elapsed_instrumentation":9.385301382280886e-05,"return_value":{"class":"String","value":"568c56b3682cd9a42d559cee","object_id":8098440}},{"id":1489069,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8098460,"value":"{retry=>true, queue=>default, args=>[111360521669354538], class=>BootstrapTimelineWorker, jid=>0127822d271091a6fe88285b, created_at=>1699226711.6621962, id=>568c56b3682cd9a42d559cee}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8098480,"value":"#<JSON::Ext::Generator::State:0x00007fdc09fc02c8>"}},{"id":1489070,"event":"return","thread_id":9160,"parent_id":1489069,"elapsed":1.526600681245327e-05,"elapsed_instrumentation":0.00018711999291554093,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111360521669354538],\"class\":\"BootstrapTimelineWorker\",\"jid\": (...91 more characters)","object_id":8098500}},{"id":1489071,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8098520,"value":"#<JSON::Ext::Parser:0x00007fdc09fea6e0>"}},{"id":1489072,"event":"return","thread_id":9160,"parent_id":1489071,"elapsed":1.822799094952643e-05,"elapsed_instrumentation":0.0003757270169444382,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111360521669354538], class=>BootstrapTimelineWorker, jid=>0127822d271091a6fe88285b, created_at=>1699226711.6621962, id=>568c56b3682cd9a42d559cee}","object_id":8098540,"size":7}},{"id":1489073,"event":"call","thread_id":9160,"defined_class":"BootstrapTimelineWorker","method_id":"perform","path":"app/workers/bootstrap_timeline_worker.rb","lineno":6,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"}],"receiver":{"class":"BootstrapTimelineWorker","object_id":8098560,"value":"#<BootstrapTimelineWorker:0x00007fdc09fe6590>"}},{"id":1489074,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489075,"event":"return","thread_id":9160,"parent_id":1489074,"elapsed":0.00084938,"elapsed_instrumentation":9.367000893689692e-05},{"id":1489076,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489077,"event":"return","thread_id":9160,"parent_id":1489076,"elapsed":0.0007182,"elapsed_instrumentation":0.00026752398116514087},{"id":1489078,"event":"call","thread_id":9160,"defined_class":"User","method_id":"those_who_can","path":"app/models/user.rb","lineno":143,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8098580,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":35120,"value":"User"}},{"id":1489079,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"that_can","path":"app/models/user_role.rb","lineno":111,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8098600,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1489080,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\"","database_type":"postgres"}},{"id":1489081,"event":"return","thread_id":9160,"parent_id":1489080,"elapsed":0.000658849,"elapsed_instrumentation":0.00012501099263317883},{"id":1489082,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8098620,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8098640,"value":"#<UserRole:0x00007fdbf64b6548>"}},{"id":1489083,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8098640,"value":"#<UserRole:0x00007fdbf64b6548>"}},{"id":1489084,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8098640,"value":"#<UserRole:0x00007fdbf64b6548>"}},{"id":1489085,"event":"return","thread_id":9160,"parent_id":1489084,"elapsed":1.5237019397318363e-05,"elapsed_instrumentation":6.667498382739723e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489086,"event":"return","thread_id":9160,"parent_id":1489083,"elapsed":0.00010680500417947769,"elapsed_instrumentation":6.736701470799744e-05,"return_value":{"class":"Integer","value":"65536","object_id":131073}},{"id":1489087,"event":"return","thread_id":9160,"parent_id":1489082,"elapsed":0.00019833998521789908,"elapsed_instrumentation":0.0001265890314243734},{"id":1489088,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8098660,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8098680,"value":"#<UserRole:0x00007fdbf64b6408>"}},{"id":1489089,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8098680,"value":"#<UserRole:0x00007fdbf64b6408>"}},{"id":1489090,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8098680,"value":"#<UserRole:0x00007fdbf64b6408>"}},{"id":1489091,"event":"return","thread_id":9160,"parent_id":1489090,"elapsed":1.320699811913073e-05,"elapsed_instrumentation":6.984599167481065e-05},{"id":1489092,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8098680,"value":"#<UserRole:0x00007fdbf64b6408>"}},{"id":1489093,"event":"return","thread_id":9160,"parent_id":1489092,"elapsed":5.084002623334527e-06,"elapsed_instrumentation":5.427101859822869e-05},{"id":1489094,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1489095,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489096,"event":"return","thread_id":9160,"parent_id":1489095,"elapsed":0.000514323,"elapsed_instrumentation":8.387700654566288e-05},{"id":1489097,"event":"return","thread_id":9160,"parent_id":1489094,"elapsed":0.001185572997201234,"elapsed_instrumentation":0.00010989702423103154,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdbf64b5f08>","object_id":8098700}},{"id":1489098,"event":"return","thread_id":9160,"parent_id":1489089,"elapsed":0.0015109989908523858,"elapsed_instrumentation":0.0003145650262013078,"return_value":{"class":"Integer","value":"66844","object_id":133689}},{"id":1489099,"event":"return","thread_id":9160,"parent_id":1489088,"elapsed":0.0018491850059945136,"elapsed_instrumentation":9.028497152030468e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489100,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8098720,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8098740,"value":"#<UserRole:0x00007fdbf64b62c8>"}},{"id":1489101,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8098740,"value":"#<UserRole:0x00007fdbf64b62c8>"}},{"id":1489102,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8098740,"value":"#<UserRole:0x00007fdbf64b62c8>"}},{"id":1489103,"event":"return","thread_id":9160,"parent_id":1489102,"elapsed":1.292899833060801e-05,"elapsed_instrumentation":5.519299884326756e-05},{"id":1489104,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8098740,"value":"#<UserRole:0x00007fdbf64b62c8>"}},{"id":1489105,"event":"return","thread_id":9160,"parent_id":1489104,"elapsed":5.050998879596591e-06,"elapsed_instrumentation":5.35509898327291e-05},{"id":1489106,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1489107,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489108,"event":"return","thread_id":9160,"parent_id":1489107,"elapsed":0.00052975,"elapsed_instrumentation":8.47209885250777e-05},{"id":1489109,"event":"return","thread_id":9160,"parent_id":1489106,"elapsed":0.0012229940039105713,"elapsed_instrumentation":0.00010976698831655085,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdbf64b5c88>","object_id":8098760}},{"id":1489110,"event":"return","thread_id":9160,"parent_id":1489101,"elapsed":0.0015258600178640336,"elapsed_instrumentation":7.967799319885671e-05,"return_value":{"class":"Integer","value":"1048572","object_id":2097145}},{"id":1489111,"event":"return","thread_id":9160,"parent_id":1489100,"elapsed":0.001631699997233227,"elapsed_instrumentation":0.00039621899486519396,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489112,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8098780,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8098800,"value":"#<UserRole:0x00007fdbf64b6188>"}},{"id":1489113,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8098800,"value":"#<UserRole:0x00007fdbf64b6188>"}},{"id":1489114,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8098800,"value":"#<UserRole:0x00007fdbf64b6188>"}},{"id":1489115,"event":"return","thread_id":9160,"parent_id":1489114,"elapsed":1.3109005521982908e-05,"elapsed_instrumentation":8.123100269585848e-05},{"id":1489116,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8098800,"value":"#<UserRole:0x00007fdbf64b6188>"}},{"id":1489117,"event":"return","thread_id":9160,"parent_id":1489116,"elapsed":5.099020199850202e-06,"elapsed_instrumentation":6.509499507956207e-05},{"id":1489118,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1489119,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489120,"event":"return","thread_id":9160,"parent_id":1489119,"elapsed":0.000468939,"elapsed_instrumentation":8.524500299245119e-05},{"id":1489121,"event":"return","thread_id":9160,"parent_id":1489118,"elapsed":0.0017069249879568815,"elapsed_instrumentation":0.00011842002277262509,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdbf64b5a08>","object_id":8098820}},{"id":1489122,"event":"return","thread_id":9160,"parent_id":1489113,"elapsed":0.0020622950105462223,"elapsed_instrumentation":7.933299639262259e-05,"return_value":{"class":"Integer","value":"1048575","object_id":2097151}},{"id":1489123,"event":"return","thread_id":9160,"parent_id":1489112,"elapsed":0.0021670210117008537,"elapsed_instrumentation":0.000299933017231524,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489124,"event":"return","thread_id":9160,"parent_id":1489079,"elapsed":0.008570150006562471,"elapsed_instrumentation":0.00013522800873033702,"return_value":{"class":"Array","value":"[#<UserRole:0x00007fdbf64b6408>, #<UserRole:0x00007fdbf64b62c8>, #<UserRole:0x00007fdbf64b6188>]","object_id":8098840,"size":3}},{"id":1489125,"event":"return","thread_id":9160,"parent_id":1489078,"elapsed":0.009014859009766951,"elapsed_instrumentation":0.000189700978808105,"return_value":{"class":"ActiveRecord::Relation","value":"#<User::ActiveRecord_Relation:0x00007fdbf66bf150>","object_id":8098860}},{"id":1489126,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"role_id\" IN ($1, $2, $3) ORDER BY \"users\".\"id\" ASC LIMIT $4","database_type":"postgres"}},{"id":1489127,"event":"return","thread_id":9160,"parent_id":1489126,"elapsed":0.00109643,"elapsed_instrumentation":8.435500785708427e-05},{"id":1489128,"event":"return","thread_id":9160,"parent_id":1489073,"elapsed":0.019219723995774984,"elapsed_instrumentation":0.00010783202014863491},{"id":1489129,"event":"return","thread_id":9160,"parent_id":1489060,"elapsed":0.02084417999139987,"elapsed_instrumentation":0.00019738601986318827,"return_value":{"class":"String","value":"0127822d271091a6fe88285b","object_id":8098300}},{"id":1489130,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1489131,"event":"return","thread_id":9160,"parent_id":1489130,"elapsed":0.002833192,"elapsed_instrumentation":0.00017825100803747773},{"id":1489132,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8098880,"value":"relationship:111360521669354528:111360521669354538","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8098900,"value":"#<UnfollowService:0x00007fdc07329e30>"}},{"id":1489133,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8098900,"value":"#<UnfollowService:0x00007fdc07329e30>"}},{"id":1489134,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8098920,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8098940,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489135,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489136,"event":"return","thread_id":9160,"parent_id":1489135,"elapsed":3.388006007298827e-06,"elapsed_instrumentation":8.039601380005479e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1489137,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8098960,"value":"___\u000527hw__\u0011___\n-"}},{"id":1489138,"event":"return","thread_id":9160,"parent_id":1489137,"elapsed":6.906018825247884e-06,"elapsed_instrumentation":0.00013471499551087618,"return_value":{"class":"Array","value":"[4087928325, 12855, 26743, 64653, 4496, 3521448493]","object_id":8098980,"size":6}},{"id":1489139,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489140,"event":"return","thread_id":9160,"parent_id":1489139,"elapsed":0.000870049,"elapsed_instrumentation":0.00026131898630410433},{"id":1489141,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8099000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489142,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489143,"event":"return","thread_id":9160,"parent_id":1489142,"elapsed":0.00040041,"elapsed_instrumentation":8.739001350477338e-05},{"id":1489144,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489145,"event":"return","thread_id":9160,"parent_id":1489144,"elapsed":0.00052461,"elapsed_instrumentation":7.03910191077739e-05},{"id":1489146,"event":"return","thread_id":9160,"parent_id":1489141,"elapsed":0.0030564339831471443,"elapsed_instrumentation":0.0001941639930009842,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1489147,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1489148,"event":"return","thread_id":9160,"parent_id":1489147,"elapsed":0.000877058,"elapsed_instrumentation":7.852699491195381e-05},{"id":1489149,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8099000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489150,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1489151,"event":"return","thread_id":9160,"parent_id":1489150,"elapsed":0.000654814,"elapsed_instrumentation":7.151899626478553e-05},{"id":1489152,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489153,"event":"return","thread_id":9160,"parent_id":1489152,"elapsed":0.000738783,"elapsed_instrumentation":8.187899948097765e-05},{"id":1489154,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8099020,"value":"#<Account:0x00007fdbf64b3208>"}},{"id":1489155,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8099020,"value":"#<Account:0x00007fdbf64b3208>"}},{"id":1489156,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521669354528, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489157,"event":"return","thread_id":9160,"parent_id":1489156,"elapsed":0.001068575,"elapsed_instrumentation":8.976898971013725e-05},{"id":1489158,"event":"return","thread_id":9160,"parent_id":1489155,"elapsed":0.0018392110068816692,"elapsed_instrumentation":9.890599176287651e-05},{"id":1489159,"event":"return","thread_id":9160,"parent_id":1489154,"elapsed":0.0019644610001705587,"elapsed_instrumentation":0.00013407200458459556},{"id":1489160,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489161,"event":"return","thread_id":9160,"parent_id":1489160,"elapsed":0.000794301,"elapsed_instrumentation":8.746201638132334e-05},{"id":1489162,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8099040,"value":"#<Account:0x00007fdbf64b21c8>"}},{"id":1489163,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8099040,"value":"#<Account:0x00007fdbf64b21c8>"}},{"id":1489164,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521669354538, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489165,"event":"return","thread_id":9160,"parent_id":1489164,"elapsed":0.000773465,"elapsed_instrumentation":0.00018486400949768722},{"id":1489166,"event":"return","thread_id":9160,"parent_id":1489163,"elapsed":0.0015108090010471642,"elapsed_instrumentation":9.549100650474429e-05},{"id":1489167,"event":"return","thread_id":9160,"parent_id":1489162,"elapsed":0.001632453000638634,"elapsed_instrumentation":0.00014339596964418888},{"id":1489168,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8099020,"value":"#<Account:0x00007fdbf64b3208>"}},{"id":1489169,"event":"return","thread_id":9160,"parent_id":1489168,"elapsed":1.5129975508898497e-05,"elapsed_instrumentation":0.00011484001879580319,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489170,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8099040,"value":"#<Account:0x00007fdbf64b21c8>"}},{"id":1489171,"event":"return","thread_id":9160,"parent_id":1489170,"elapsed":8.23699519969523e-06,"elapsed_instrumentation":7.801598985679448e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489172,"event":"return","thread_id":9160,"parent_id":1489149,"elapsed":0.011890113994013518,"elapsed_instrumentation":0.0001716019760351628,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1489173,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489174,"event":"return","thread_id":9160,"parent_id":1489173,"elapsed":0.000539327,"elapsed_instrumentation":7.698600529693067e-05},{"id":1489175,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8099080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489176,"event":"return","thread_id":9160,"parent_id":1489175,"elapsed":3.4989789128303528e-06,"elapsed_instrumentation":0.00012124798377044499,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1489177,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8099080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489178,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8099100,"value":"Cache delete: relationship:111360521669354528:111360521669354538\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489179,"event":"return","thread_id":9160,"parent_id":1489178,"elapsed":0.0009614329901523888,"elapsed_instrumentation":0.00013264702283777297,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489180,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8099120,"value":"Cache delete: relationship:111360521669354538:111360521669354528\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489181,"event":"return","thread_id":9160,"parent_id":1489180,"elapsed":0.0010967109992634505,"elapsed_instrumentation":0.00014404402463696897,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489182,"event":"return","thread_id":9160,"parent_id":1489177,"elapsed":0.0027356920181773603,"elapsed_instrumentation":0.00011392400483600795,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1489183,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1489184,"event":"return","thread_id":9160,"parent_id":1489183,"elapsed":8.206989150494337e-06,"elapsed_instrumentation":8.822398376651108e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489185,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1489186,"event":"return","thread_id":9160,"parent_id":1489185,"elapsed":3.969005774706602e-06,"elapsed_instrumentation":6.385098095051944e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489187,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8099140,"value":"#<Account:0x00007fdbf64b4608>"}},{"id":1489188,"event":"return","thread_id":9160,"parent_id":1489187,"elapsed":1.0019983164966106e-05,"elapsed_instrumentation":6.275202031247318e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489189,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8099160,"value":"{args=>[111360521669354538, 111360521669354528], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8099180,"value":"#<Sidekiq::Client:0x00007fdc09d53300>"}},{"id":1489190,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8099200,"value":"___{B_\u0010}_>__"}},{"id":1489191,"event":"return","thread_id":9160,"parent_id":1489190,"elapsed":4.936009645462036e-06,"elapsed_instrumentation":0.00012203698861412704,"return_value":{"class":"String","value":"c8e1f37b42fd107db53ed5cd","object_id":8099220}},{"id":1489192,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8099240,"value":"[111360521669354538, 111360521669354528]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8099260,"value":"#<JSON::Ext::Generator::State:0x00007fdc09d50c90>"}},{"id":1489193,"event":"return","thread_id":9160,"parent_id":1489192,"elapsed":9.33100818656385e-06,"elapsed_instrumentation":0.00014311098493635654,"return_value":{"class":"String","value":"[111360521669354538,111360521669354528]","object_id":8099280}},{"id":1489194,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8099300,"value":"#<JSON::Ext::Parser:0x00007fdc09d0f970>"}},{"id":1489195,"event":"return","thread_id":9160,"parent_id":1489194,"elapsed":5.9710000641644e-06,"elapsed_instrumentation":0.00010449800174683332,"return_value":{"class":"Array","value":"[111360521669354538, 111360521669354528]","object_id":8099320,"size":2}},{"id":1489196,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8099340,"value":"\f'@}___\\_w_/"}},{"id":1489197,"event":"return","thread_id":9160,"parent_id":1489196,"elapsed":4.1260209400206804e-06,"elapsed_instrumentation":0.0001518649805802852,"return_value":{"class":"String","value":"0c27407de98f8c5c8a77802f","object_id":8099360}},{"id":1489198,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8099380,"value":"{retry=>true, queue=>pull, args=>[111360521669354538, 111360521669354528], class=>UnmergeWorker, jid=>c8e1f37b42fd107db53ed5cd, created_at=>1699226711.716686, id=>0c27407de98f8c5c8a77802f}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8099400,"value":"#<JSON::Ext::Generator::State:0x00007fdc09d0c810>"}},{"id":1489199,"event":"return","thread_id":9160,"parent_id":1489198,"elapsed":1.438299659639597e-05,"elapsed_instrumentation":0.0004147120052948594,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521669354538,111360521669354528],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8099420}},{"id":1489200,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8099440,"value":"#<JSON::Ext::Parser:0x00007fdc09d08dc8>"}},{"id":1489201,"event":"return","thread_id":9160,"parent_id":1489200,"elapsed":2.2522988729178905e-05,"elapsed_instrumentation":0.0002141130098607391,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521669354538, 111360521669354528], class=>UnmergeWorker, jid=>c8e1f37b42fd107db53ed5cd, created_at=>1699226711.716686, id=>0c27407de98f8c5c8a77802f}","object_id":8099460,"size":7}},{"id":1489202,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043338709057,"value":"111360521669354528","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8099480,"value":"#<UnmergeWorker:0x00007fdc09d05c18>"}},{"id":1489203,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8099480,"value":"#<UnmergeWorker:0x00007fdc09d05c18>"}},{"id":1489204,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489205,"event":"return","thread_id":9160,"parent_id":1489204,"elapsed":0.000961355,"elapsed_instrumentation":0.00014574200031347573},{"id":1489206,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489207,"event":"return","thread_id":9160,"parent_id":1489206,"elapsed":0.001216099,"elapsed_instrumentation":0.00019459699979051948},{"id":1489208,"event":"return","thread_id":9160,"parent_id":1489203,"elapsed":0.00614083101390861,"elapsed_instrumentation":0.0006098509766161442,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64b0c88>","object_id":8099500}},{"id":1489209,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8099480,"value":"#<UnmergeWorker:0x00007fdc09d05c18>"}},{"id":1489210,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8099520,"value":"#<Account:0x00007fdbf64b0dc8>","kind":"req"},{"name":"into_account","class":"Account","object_id":8099500,"value":"#<Account:0x00007fdbf64b0c88>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489211,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043338709057,"value":"111360521669354528","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489212,"event":"return","thread_id":9160,"parent_id":1489211,"elapsed":1.3901008060202003e-05,"elapsed_instrumentation":0.0005290599947329611,"return_value":{"class":"String","value":"feed:home:111360521669354528","object_id":8099540}},{"id":1489213,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489214,"event":"return","thread_id":9160,"parent_id":1489213,"elapsed":8.244998753070831e-06,"elapsed_instrumentation":0.00015464398893527687,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1489215,"event":"return","thread_id":9160,"parent_id":1489210,"elapsed":0.005581514007644728,"elapsed_instrumentation":0.00019763200543820858},{"id":1489216,"event":"return","thread_id":9160,"parent_id":1489209,"elapsed":0.005831362999742851,"elapsed_instrumentation":0.00020371799473650753},{"id":1489217,"event":"return","thread_id":9160,"parent_id":1489202,"elapsed":0.012873173982370645,"elapsed_instrumentation":9.216301259584725e-05},{"id":1489218,"event":"return","thread_id":9160,"parent_id":1489189,"elapsed":0.014961990993469954,"elapsed_instrumentation":0.0006139090110082179,"return_value":{"class":"String","value":"c8e1f37b42fd107db53ed5cd","object_id":8099220}},{"id":1489219,"event":"return","thread_id":9160,"parent_id":1489134,"elapsed":0.040830607002135366,"elapsed_instrumentation":0.0001824979844968766,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b3ac8>","object_id":8099060}},{"id":1489220,"event":"return","thread_id":9160,"parent_id":1489133,"elapsed":0.041044100013095886,"elapsed_instrumentation":0.00013254699297249317,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b3ac8>","object_id":8099060}},{"id":1489221,"event":"return","thread_id":9160,"parent_id":1489132,"elapsed":0.04122486701817252,"elapsed_instrumentation":0.0003603779769036919,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b3ac8>","object_id":8099060}},{"id":1489222,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8099560,"value":"relationship:111360521669354529:111360521669354538","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8099580,"value":"#<UnfollowService:0x00007fdc0733ab40>"}},{"id":1489223,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8099580,"value":"#<UnfollowService:0x00007fdc0733ab40>"}},{"id":1489224,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8099600,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8099620,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489225,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489226,"event":"return","thread_id":9160,"parent_id":1489225,"elapsed":3.182998625561595e-06,"elapsed_instrumentation":9.77549934759736e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1489227,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8099640,"value":"\u001f__>s_0__{_____\f"}},{"id":1489228,"event":"return","thread_id":9160,"parent_id":1489227,"elapsed":9.96800372377038e-06,"elapsed_instrumentation":0.00042164899059571326,"return_value":{"class":"Array","value":"[532256318, 29571, 12474, 44923, 54429, 2710371084]","object_id":8099660,"size":6}},{"id":1489229,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489230,"event":"return","thread_id":9160,"parent_id":1489229,"elapsed":0.000793743,"elapsed_instrumentation":0.00010744499741122127},{"id":1489231,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8099680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489232,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489233,"event":"return","thread_id":9160,"parent_id":1489232,"elapsed":0.000701676,"elapsed_instrumentation":0.00015576498117297888},{"id":1489234,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489235,"event":"return","thread_id":9160,"parent_id":1489234,"elapsed":0.000669715,"elapsed_instrumentation":0.00011864598491229117},{"id":1489236,"event":"return","thread_id":9160,"parent_id":1489231,"elapsed":0.005023143021389842,"elapsed_instrumentation":0.00026395698660053313,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1489237,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1489238,"event":"return","thread_id":9160,"parent_id":1489237,"elapsed":0.001066162,"elapsed_instrumentation":0.00015040399739518762},{"id":1489239,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8099680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489240,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1489241,"event":"return","thread_id":9160,"parent_id":1489240,"elapsed":0.000756945,"elapsed_instrumentation":8.126499596983194e-05},{"id":1489242,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489243,"event":"return","thread_id":9160,"parent_id":1489242,"elapsed":0.000779111,"elapsed_instrumentation":7.66600132919848e-05},{"id":1489244,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8099700,"value":"#<Account:0x00007fdbf64c07a0>"}},{"id":1489245,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8099700,"value":"#<Account:0x00007fdbf64c07a0>"}},{"id":1489246,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521669354529, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489247,"event":"return","thread_id":9160,"parent_id":1489246,"elapsed":0.001234445,"elapsed_instrumentation":0.0003304349957033992},{"id":1489248,"event":"return","thread_id":9160,"parent_id":1489245,"elapsed":0.002153845998691395,"elapsed_instrumentation":0.00016393398982472718},{"id":1489249,"event":"return","thread_id":9160,"parent_id":1489244,"elapsed":0.002605199988465756,"elapsed_instrumentation":0.00016138699720613658},{"id":1489250,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489251,"event":"return","thread_id":9160,"parent_id":1489250,"elapsed":0.00067326,"elapsed_instrumentation":8.366198744624853e-05},{"id":1489252,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8099720,"value":"#<Account:0x00007fdbf64cf3e0>"}},{"id":1489253,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8099720,"value":"#<Account:0x00007fdbf64cf3e0>"}},{"id":1489254,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521669354538, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489255,"event":"return","thread_id":9160,"parent_id":1489254,"elapsed":0.001919326,"elapsed_instrumentation":0.0002921719860751182},{"id":1489256,"event":"return","thread_id":9160,"parent_id":1489253,"elapsed":0.0034100019838660955,"elapsed_instrumentation":0.00017971202032640576},{"id":1489257,"event":"return","thread_id":9160,"parent_id":1489252,"elapsed":0.0036346790147945285,"elapsed_instrumentation":0.0002725849917624146},{"id":1489258,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8099700,"value":"#<Account:0x00007fdbf64c07a0>"}},{"id":1489259,"event":"return","thread_id":9160,"parent_id":1489258,"elapsed":1.7196987755596638e-05,"elapsed_instrumentation":0.00013692298671230674,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489260,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8099720,"value":"#<Account:0x00007fdbf64cf3e0>"}},{"id":1489261,"event":"return","thread_id":9160,"parent_id":1489260,"elapsed":9.486015187576413e-06,"elapsed_instrumentation":7.749997894279659e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489262,"event":"return","thread_id":9160,"parent_id":1489239,"elapsed":0.015227349009364843,"elapsed_instrumentation":0.00019901999621652067,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1489263,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489264,"event":"return","thread_id":9160,"parent_id":1489263,"elapsed":0.000846534,"elapsed_instrumentation":0.00010525400284677744},{"id":1489265,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8099760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489266,"event":"return","thread_id":9160,"parent_id":1489265,"elapsed":3.3780233934521675e-06,"elapsed_instrumentation":0.00013117000344209373,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1489267,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8099760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489268,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8099780,"value":"Cache delete: relationship:111360521669354529:111360521669354538\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489269,"event":"return","thread_id":9160,"parent_id":1489268,"elapsed":0.0016098979976959527,"elapsed_instrumentation":0.00012527199578471482,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489270,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8099800,"value":"Cache delete: relationship:111360521669354538:111360521669354529\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489271,"event":"return","thread_id":9160,"parent_id":1489270,"elapsed":0.00157647900050506,"elapsed_instrumentation":0.00014828797429800034,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489272,"event":"return","thread_id":9160,"parent_id":1489267,"elapsed":0.003790477989241481,"elapsed_instrumentation":0.00012549999519251287,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1489273,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1489274,"event":"return","thread_id":9160,"parent_id":1489273,"elapsed":8.609989890828729e-06,"elapsed_instrumentation":9.19989834073931e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489275,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1489276,"event":"return","thread_id":9160,"parent_id":1489275,"elapsed":4.1199964471161366e-06,"elapsed_instrumentation":6.34320022072643e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489277,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8099820,"value":"#<Account:0x00007fdbf64b44c8>"}},{"id":1489278,"event":"return","thread_id":9160,"parent_id":1489277,"elapsed":2.1141022443771362e-05,"elapsed_instrumentation":0.00018159998580813408,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489279,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8099840,"value":"{args=>[111360521669354538, 111360521669354529], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8099860,"value":"#<Sidekiq::Client:0x00007fdc09c888d0>"}},{"id":1489280,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8099880,"value":"_1+M_\u001e(_R_:_"}},{"id":1489281,"event":"return","thread_id":9160,"parent_id":1489280,"elapsed":7.277005352079868e-06,"elapsed_instrumentation":0.0002732940192800015,"return_value":{"class":"String","value":"be312b4dd81e28e9529f3a8f","object_id":8099900}},{"id":1489282,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8099920,"value":"[111360521669354538, 111360521669354529]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8099940,"value":"#<JSON::Ext::Generator::State:0x00007fdc09c86058>"}},{"id":1489283,"event":"return","thread_id":9160,"parent_id":1489282,"elapsed":6.33401214145124e-06,"elapsed_instrumentation":0.00011868902947753668,"return_value":{"class":"String","value":"[111360521669354538,111360521669354529]","object_id":8099960}},{"id":1489284,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8099980,"value":"#<JSON::Ext::Parser:0x00007fdc09c83ce0>"}},{"id":1489285,"event":"return","thread_id":9160,"parent_id":1489284,"elapsed":6.4689957071095705e-06,"elapsed_instrumentation":0.00013413798296824098,"return_value":{"class":"Array","value":"[111360521669354538, 111360521669354529]","object_id":8100000,"size":2}},{"id":1489286,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8100020,"value":"_____\u0011__`_\u0011F"}},{"id":1489287,"event":"return","thread_id":9160,"parent_id":1489286,"elapsed":5.496985977515578e-06,"elapsed_instrumentation":0.0001392060366924852,"return_value":{"class":"String","value":"e4dcdefce0115f9e60971146","object_id":8100040}},{"id":1489288,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8100060,"value":"{retry=>true, queue=>pull, args=>[111360521669354538, 111360521669354529], class=>UnmergeWorker, jid=>be312b4dd81e28e9529f3a8f, created_at=>1699226711.767722, id=>e4dcdefce0115f9e60971146}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8100080,"value":"#<JSON::Ext::Generator::State:0x00007fdc09c9eae0>"}},{"id":1489289,"event":"return","thread_id":9160,"parent_id":1489288,"elapsed":1.5666009858250618e-05,"elapsed_instrumentation":0.00027694899472407997,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521669354538,111360521669354529],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8100100}},{"id":1489290,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8100120,"value":"#<JSON::Ext::Parser:0x00007fdc09c9b098>"}},{"id":1489291,"event":"return","thread_id":9160,"parent_id":1489290,"elapsed":2.2455002181231976e-05,"elapsed_instrumentation":0.00040038200677372515,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521669354538, 111360521669354529], class=>UnmergeWorker, jid=>be312b4dd81e28e9529f3a8f, created_at=>1699226711.767722, id=>e4dcdefce0115f9e60971146}","object_id":8100140,"size":7}},{"id":1489292,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043338709059,"value":"111360521669354529","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8100160,"value":"#<UnmergeWorker:0x00007fdc09c98118>"}},{"id":1489293,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8100160,"value":"#<UnmergeWorker:0x00007fdc09c98118>"}},{"id":1489294,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489295,"event":"return","thread_id":9160,"parent_id":1489294,"elapsed":0.000829777,"elapsed_instrumentation":8.980100392363966e-05},{"id":1489296,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489297,"event":"return","thread_id":9160,"parent_id":1489296,"elapsed":0.000895395,"elapsed_instrumentation":8.063000859692693e-05},{"id":1489298,"event":"return","thread_id":9160,"parent_id":1489293,"elapsed":0.004668333975132555,"elapsed_instrumentation":0.00012461398728191853,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64cdc20>","object_id":8100180}},{"id":1489299,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8100160,"value":"#<UnmergeWorker:0x00007fdc09c98118>"}},{"id":1489300,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8100200,"value":"#<Account:0x00007fdbf64cdd60>","kind":"req"},{"name":"into_account","class":"Account","object_id":8100180,"value":"#<Account:0x00007fdbf64cdc20>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489301,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043338709059,"value":"111360521669354529","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489302,"event":"return","thread_id":9160,"parent_id":1489301,"elapsed":5.1349925342947245e-06,"elapsed_instrumentation":0.00010998599464073777,"return_value":{"class":"String","value":"feed:home:111360521669354529","object_id":8100220}},{"id":1489303,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489304,"event":"return","thread_id":9160,"parent_id":1489303,"elapsed":4.498986527323723e-06,"elapsed_instrumentation":7.581801037304103e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1489305,"event":"return","thread_id":9160,"parent_id":1489300,"elapsed":0.003663906012661755,"elapsed_instrumentation":0.00014162599109113216},{"id":1489306,"event":"return","thread_id":9160,"parent_id":1489299,"elapsed":0.0038402979844249785,"elapsed_instrumentation":8.798800990916789e-05},{"id":1489307,"event":"return","thread_id":9160,"parent_id":1489292,"elapsed":0.008770723012275994,"elapsed_instrumentation":0.00011127497418783605},{"id":1489308,"event":"return","thread_id":9160,"parent_id":1489279,"elapsed":0.010769543005153537,"elapsed_instrumentation":0.00045352798770181835,"return_value":{"class":"String","value":"be312b4dd81e28e9529f3a8f","object_id":8099900}},{"id":1489309,"event":"return","thread_id":9160,"parent_id":1489224,"elapsed":0.045713192026596516,"elapsed_instrumentation":0.0006903699832037091,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b0a08>","object_id":8099740}},{"id":1489310,"event":"return","thread_id":9160,"parent_id":1489223,"elapsed":0.04644094401737675,"elapsed_instrumentation":0.00012862798757851124,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b0a08>","object_id":8099740}},{"id":1489311,"event":"return","thread_id":9160,"parent_id":1489222,"elapsed":0.046610838995547965,"elapsed_instrumentation":0.00016824001795612276,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b0a08>","object_id":8099740}},{"id":1489312,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8100240,"value":"relationship:111360521669354530:111360521669354538","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8100260,"value":"#<UnfollowService:0x00007fdc07348678>"}},{"id":1489313,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8100260,"value":"#<UnfollowService:0x00007fdc07348678>"}},{"id":1489314,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8100280,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8100300,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489315,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489316,"event":"return","thread_id":9160,"parent_id":1489315,"elapsed":3.107998054474592e-06,"elapsed_instrumentation":0.00010178500087931752,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1489317,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8100320,"value":"\u0007p&\b_j__\u000f__8_*%A"}},{"id":1489318,"event":"return","thread_id":9160,"parent_id":1489317,"elapsed":9.287003194913268e-06,"elapsed_instrumentation":0.0005448449810501188,"return_value":{"class":"Array","value":"[124790280, 52074, 42155, 4008, 54328, 2989106497]","object_id":8100340,"size":6}},{"id":1489319,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489320,"event":"return","thread_id":9160,"parent_id":1489319,"elapsed":0.000866359,"elapsed_instrumentation":9.078401490114629e-05},{"id":1489321,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8100360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489322,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489323,"event":"return","thread_id":9160,"parent_id":1489322,"elapsed":0.000701867,"elapsed_instrumentation":8.662999607622623e-05},{"id":1489324,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489325,"event":"return","thread_id":9160,"parent_id":1489324,"elapsed":0.000736607,"elapsed_instrumentation":0.0001064480165950954},{"id":1489326,"event":"return","thread_id":9160,"parent_id":1489321,"elapsed":0.0037543649959843606,"elapsed_instrumentation":0.000474016007501632,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1489327,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1489328,"event":"return","thread_id":9160,"parent_id":1489327,"elapsed":0.001456864,"elapsed_instrumentation":0.00013040000339969993},{"id":1489329,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8100360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489330,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1489331,"event":"return","thread_id":9160,"parent_id":1489330,"elapsed":0.001133365,"elapsed_instrumentation":0.0001241939899045974},{"id":1489332,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489333,"event":"return","thread_id":9160,"parent_id":1489332,"elapsed":0.000834576,"elapsed_instrumentation":9.185101953335106e-05},{"id":1489334,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8100380,"value":"#<Account:0x00007fdbf64cd0e0>"}},{"id":1489335,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8100380,"value":"#<Account:0x00007fdbf64cd0e0>"}},{"id":1489336,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521669354530, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489337,"event":"return","thread_id":9160,"parent_id":1489336,"elapsed":0.000866696,"elapsed_instrumentation":8.437698124907911e-05},{"id":1489338,"event":"return","thread_id":9160,"parent_id":1489335,"elapsed":0.0017348149849567562,"elapsed_instrumentation":9.86889936029911e-05},{"id":1489339,"event":"return","thread_id":9160,"parent_id":1489334,"elapsed":0.0018604390206746757,"elapsed_instrumentation":0.00015213899314403534},{"id":1489340,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489341,"event":"return","thread_id":9160,"parent_id":1489340,"elapsed":0.000766541,"elapsed_instrumentation":8.421600796282291e-05},{"id":1489342,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8100400,"value":"#<Account:0x00007fdbf64cbba0>"}},{"id":1489343,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8100400,"value":"#<Account:0x00007fdbf64cbba0>"}},{"id":1489344,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521669354538, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489345,"event":"return","thread_id":9160,"parent_id":1489344,"elapsed":0.001380055,"elapsed_instrumentation":0.00023567798780277371},{"id":1489346,"event":"return","thread_id":9160,"parent_id":1489343,"elapsed":0.002143349003745243,"elapsed_instrumentation":0.00045887797023169696},{"id":1489347,"event":"return","thread_id":9160,"parent_id":1489342,"elapsed":0.0026458189822733402,"elapsed_instrumentation":0.00019149799481965601},{"id":1489348,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8100380,"value":"#<Account:0x00007fdbf64cd0e0>"}},{"id":1489349,"event":"return","thread_id":9160,"parent_id":1489348,"elapsed":1.577602233737707e-05,"elapsed_instrumentation":0.00010872996062971652,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489350,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8100400,"value":"#<Account:0x00007fdbf64cbba0>"}},{"id":1489351,"event":"return","thread_id":9160,"parent_id":1489350,"elapsed":8.037983207032084e-06,"elapsed_instrumentation":7.197301601991057e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489352,"event":"return","thread_id":9160,"parent_id":1489329,"elapsed":0.014739961014129221,"elapsed_instrumentation":0.000246014998992905,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1489353,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489354,"event":"return","thread_id":9160,"parent_id":1489353,"elapsed":0.000967421,"elapsed_instrumentation":0.00010415998985990882},{"id":1489355,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8100440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489356,"event":"return","thread_id":9160,"parent_id":1489355,"elapsed":4.8679939936846495e-06,"elapsed_instrumentation":0.00018156002624891698,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1489357,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8100440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489358,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8100460,"value":"Cache delete: relationship:111360521669354530:111360521669354538\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489359,"event":"return","thread_id":9160,"parent_id":1489358,"elapsed":0.0022046490048523992,"elapsed_instrumentation":0.0006468200008384883,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489360,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8100480,"value":"Cache delete: relationship:111360521669354538:111360521669354530\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489361,"event":"return","thread_id":9160,"parent_id":1489360,"elapsed":0.0022442009940277785,"elapsed_instrumentation":0.0005687120137736201,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489362,"event":"return","thread_id":9160,"parent_id":1489357,"elapsed":0.006135759002063423,"elapsed_instrumentation":0.0001506530388724059,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1489363,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1489364,"event":"return","thread_id":9160,"parent_id":1489363,"elapsed":1.518902718089521e-05,"elapsed_instrumentation":0.00022939499467611313,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489365,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1489366,"event":"return","thread_id":9160,"parent_id":1489365,"elapsed":5.061010597273707e-06,"elapsed_instrumentation":9.050400694832206e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489367,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8100500,"value":"#<Account:0x00007fdbf64b4388>"}},{"id":1489368,"event":"return","thread_id":9160,"parent_id":1489367,"elapsed":1.1746014934033155e-05,"elapsed_instrumentation":6.600498454645276e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489369,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8100520,"value":"{args=>[111360521669354538, 111360521669354530], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8100540,"value":"#<Sidekiq::Client:0x00007fdc09beaa90>"}},{"id":1489370,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8100560,"value":"_\u0012^__\u000e_\u0007\u001d\u0004_3"}},{"id":1489371,"event":"return","thread_id":9160,"parent_id":1489370,"elapsed":6.628979463130236e-06,"elapsed_instrumentation":0.00041205802699550986,"return_value":{"class":"String","value":"dd125eb1d00ed1071d04a633","object_id":8100580}},{"id":1489372,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8100600,"value":"[111360521669354538, 111360521669354530]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8100620,"value":"#<JSON::Ext::Generator::State:0x00007fdc09be82e0>"}},{"id":1489373,"event":"return","thread_id":9160,"parent_id":1489372,"elapsed":9.579001925885677e-06,"elapsed_instrumentation":0.0001857000170275569,"return_value":{"class":"String","value":"[111360521669354538,111360521669354530]","object_id":8100640}},{"id":1489374,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8100660,"value":"#<JSON::Ext::Parser:0x00007fdc09be6d50>"}},{"id":1489375,"event":"return","thread_id":9160,"parent_id":1489374,"elapsed":6.129994289949536e-06,"elapsed_instrumentation":0.00011048599844798446,"return_value":{"class":"Array","value":"[111360521669354538, 111360521669354530]","object_id":8100680,"size":2}},{"id":1489376,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8100700,"value":"_____\u0012\"\\____"}},{"id":1489377,"event":"return","thread_id":9160,"parent_id":1489376,"elapsed":5.26200165040791e-06,"elapsed_instrumentation":0.00014958501560613513,"return_value":{"class":"String","value":"b1aca9c0f412225cc7ac94f9","object_id":8100720}},{"id":1489378,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8100740,"value":"{retry=>true, queue=>pull, args=>[111360521669354538, 111360521669354530], class=>UnmergeWorker, jid=>dd125eb1d00ed1071d04a633, created_at=>1699226711.8151283, id=>b1aca9c0f412225cc7ac94f9}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8100760,"value":"#<JSON::Ext::Generator::State:0x00007fdc09be4c80>"}},{"id":1489379,"event":"return","thread_id":9160,"parent_id":1489378,"elapsed":1.6928999684751034e-05,"elapsed_instrumentation":0.0004869400290772319,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521669354538,111360521669354530],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8100780}},{"id":1489380,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8100800,"value":"#<JSON::Ext::Parser:0x00007fdc09be24d0>"}},{"id":1489381,"event":"return","thread_id":9160,"parent_id":1489380,"elapsed":2.1007988834753633e-05,"elapsed_instrumentation":0.00024333701003342867,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521669354538, 111360521669354530], class=>UnmergeWorker, jid=>dd125eb1d00ed1071d04a633, created_at=>1699226711.8151283, id=>b1aca9c0f412225cc7ac94f9}","object_id":8100820,"size":7}},{"id":1489382,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043338709061,"value":"111360521669354530","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8100840,"value":"#<UnmergeWorker:0x00007fdc09bff878>"}},{"id":1489383,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8100840,"value":"#<UnmergeWorker:0x00007fdc09bff878>"}},{"id":1489384,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489385,"event":"return","thread_id":9160,"parent_id":1489384,"elapsed":0.001222808,"elapsed_instrumentation":0.00011794900638051331},{"id":1489386,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489387,"event":"return","thread_id":9160,"parent_id":1489386,"elapsed":0.001144049,"elapsed_instrumentation":0.00027327699353918433},{"id":1489388,"event":"return","thread_id":9160,"parent_id":1489383,"elapsed":0.007933009997941554,"elapsed_instrumentation":0.00018090702360495925,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64c9ee0>","object_id":8100860}},{"id":1489389,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8100840,"value":"#<UnmergeWorker:0x00007fdc09bff878>"}},{"id":1489390,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8100880,"value":"#<Account:0x00007fdbf64ca020>","kind":"req"},{"name":"into_account","class":"Account","object_id":8100860,"value":"#<Account:0x00007fdbf64c9ee0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489391,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043338709061,"value":"111360521669354530","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489392,"event":"return","thread_id":9160,"parent_id":1489391,"elapsed":9.283976396545768e-06,"elapsed_instrumentation":0.00022025001817382872,"return_value":{"class":"String","value":"feed:home:111360521669354530","object_id":8100900}},{"id":1489393,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489394,"event":"return","thread_id":9160,"parent_id":1489393,"elapsed":1.3003009371459484e-05,"elapsed_instrumentation":0.0002507039753254503,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1489395,"event":"return","thread_id":9160,"parent_id":1489390,"elapsed":0.007711839978583157,"elapsed_instrumentation":0.00020792399300262332},{"id":1489396,"event":"return","thread_id":9160,"parent_id":1489389,"elapsed":0.007980786002008244,"elapsed_instrumentation":0.00041696999687701464},{"id":1489397,"event":"return","thread_id":9160,"parent_id":1489382,"elapsed":0.016593793989159167,"elapsed_instrumentation":0.0001334180124104023},{"id":1489398,"event":"return","thread_id":9160,"parent_id":1489369,"elapsed":0.01883046599687077,"elapsed_instrumentation":0.00025641501997597516,"return_value":{"class":"String","value":"dd125eb1d00ed1071d04a633","object_id":8100580}},{"id":1489399,"event":"return","thread_id":9160,"parent_id":1489314,"elapsed":0.05391602101735771,"elapsed_instrumentation":0.000222584989387542,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64cd9a0>","object_id":8100420}},{"id":1489400,"event":"return","thread_id":9160,"parent_id":1489313,"elapsed":0.05422923600417562,"elapsed_instrumentation":0.0004255819949321449,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64cd9a0>","object_id":8100420}},{"id":1489401,"event":"return","thread_id":9160,"parent_id":1489312,"elapsed":0.05516941600944847,"elapsed_instrumentation":0.00017874600598588586,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64cd9a0>","object_id":8100420}},{"id":1489402,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8100920,"value":"relationship:111360521669354531:111360521669354538","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8100940,"value":"#<UnfollowService:0x00007fdc07367a50>"}},{"id":1489403,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8100940,"value":"#<UnfollowService:0x00007fdc07367a50>"}},{"id":1489404,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8100960,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8100980,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489405,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489406,"event":"return","thread_id":9160,"parent_id":1489405,"elapsed":3.4449913073331118e-06,"elapsed_instrumentation":0.00010897897300310433,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1489407,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8101000,"value":"\u0007E_j0___SD__A_@_"}},{"id":1489408,"event":"return","thread_id":9160,"parent_id":1489407,"elapsed":7.085007382556796e-06,"elapsed_instrumentation":0.0004292630183044821,"return_value":{"class":"Array","value":"[122025322, 12510, 36849, 21316, 52628, 1102725375]","object_id":8101020,"size":6}},{"id":1489409,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489410,"event":"return","thread_id":9160,"parent_id":1489409,"elapsed":0.000471858,"elapsed_instrumentation":0.00013008300447836518},{"id":1489411,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8101040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489412,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489413,"event":"return","thread_id":9160,"parent_id":1489412,"elapsed":0.000666305,"elapsed_instrumentation":9.529999806545675e-05},{"id":1489414,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489415,"event":"return","thread_id":9160,"parent_id":1489414,"elapsed":0.001001909,"elapsed_instrumentation":0.00012272500316612422},{"id":1489416,"event":"return","thread_id":9160,"parent_id":1489411,"elapsed":0.00402442499762401,"elapsed_instrumentation":0.0003642260271590203,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1489417,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1489418,"event":"return","thread_id":9160,"parent_id":1489417,"elapsed":0.001176723,"elapsed_instrumentation":0.0002830339944921434},{"id":1489419,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8101040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489420,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1489421,"event":"return","thread_id":9160,"parent_id":1489420,"elapsed":0.001058077,"elapsed_instrumentation":0.00011646898929029703},{"id":1489422,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489423,"event":"return","thread_id":9160,"parent_id":1489422,"elapsed":0.000907424,"elapsed_instrumentation":0.00012663801317103207},{"id":1489424,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8101060,"value":"#<Account:0x00007fdbf64c9260>"}},{"id":1489425,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8101060,"value":"#<Account:0x00007fdbf64c9260>"}},{"id":1489426,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521669354531, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489427,"event":"return","thread_id":9160,"parent_id":1489426,"elapsed":0.001492027,"elapsed_instrumentation":0.00014356800238601863},{"id":1489428,"event":"return","thread_id":9160,"parent_id":1489425,"elapsed":0.0030354050104506314,"elapsed_instrumentation":0.0004012749996036291},{"id":1489429,"event":"return","thread_id":9160,"parent_id":1489424,"elapsed":0.003527847002260387,"elapsed_instrumentation":0.0002676919975783676},{"id":1489430,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489431,"event":"return","thread_id":9160,"parent_id":1489430,"elapsed":0.001016827,"elapsed_instrumentation":0.00010385701898485422},{"id":1489432,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8101080,"value":"#<Account:0x00007fdbf64c84a0>"}},{"id":1489433,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8101080,"value":"#<Account:0x00007fdbf64c84a0>"}},{"id":1489434,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521669354538, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489435,"event":"return","thread_id":9160,"parent_id":1489434,"elapsed":0.001526861,"elapsed_instrumentation":0.00013297199620865285},{"id":1489436,"event":"return","thread_id":9160,"parent_id":1489433,"elapsed":0.00283184097497724,"elapsed_instrumentation":0.00011784103116951883},{"id":1489437,"event":"return","thread_id":9160,"parent_id":1489432,"elapsed":0.002983543003210798,"elapsed_instrumentation":0.00026458100182935596},{"id":1489438,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8101060,"value":"#<Account:0x00007fdbf64c9260>"}},{"id":1489439,"event":"return","thread_id":9160,"parent_id":1489438,"elapsed":2.538200351409614e-05,"elapsed_instrumentation":0.0003529860114213079,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489440,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8101080,"value":"#<Account:0x00007fdbf64c84a0>"}},{"id":1489441,"event":"return","thread_id":9160,"parent_id":1489440,"elapsed":1.281200093217194e-05,"elapsed_instrumentation":0.00029719097074121237,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489442,"event":"return","thread_id":9160,"parent_id":1489419,"elapsed":0.018295346992090344,"elapsed_instrumentation":0.0003258440119680017,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1489443,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489444,"event":"return","thread_id":9160,"parent_id":1489443,"elapsed":0.000826554,"elapsed_instrumentation":0.00012731700553558767},{"id":1489445,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8101120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489446,"event":"return","thread_id":9160,"parent_id":1489445,"elapsed":3.3400137908756733e-06,"elapsed_instrumentation":0.00015042300219647586,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1489447,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8101120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489448,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8101140,"value":"Cache delete: relationship:111360521669354531:111360521669354538\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489449,"event":"return","thread_id":9160,"parent_id":1489448,"elapsed":0.001240310986759141,"elapsed_instrumentation":0.0001969599979929626,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489450,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8101160,"value":"Cache delete: relationship:111360521669354538:111360521669354531\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489451,"event":"return","thread_id":9160,"parent_id":1489450,"elapsed":0.0015325550048146397,"elapsed_instrumentation":0.0001403299975208938,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489452,"event":"return","thread_id":9160,"parent_id":1489447,"elapsed":0.003605792997404933,"elapsed_instrumentation":0.00017543599824421108,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1489453,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1489454,"event":"return","thread_id":9160,"parent_id":1489453,"elapsed":1.0668998584151268e-05,"elapsed_instrumentation":0.00020578000112436712,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489455,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1489456,"event":"return","thread_id":9160,"parent_id":1489455,"elapsed":4.347600042819977e-05,"elapsed_instrumentation":0.00023557301028631628,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489457,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8101180,"value":"#<Account:0x00007fdbf64b4248>"}},{"id":1489458,"event":"return","thread_id":9160,"parent_id":1489457,"elapsed":1.388098462484777e-05,"elapsed_instrumentation":0.00010365602793172002,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489459,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8101200,"value":"{args=>[111360521669354538, 111360521669354531], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8101220,"value":"#<Sidekiq::Client:0x00007fdc09b72a68>"}},{"id":1489460,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8101240,"value":"_x=_D_s_____"}},{"id":1489461,"event":"return","thread_id":9160,"parent_id":1489460,"elapsed":4.5670021791011095e-06,"elapsed_instrumentation":0.0001198949757963419,"return_value":{"class":"String","value":"de783df944e47389b193c295","object_id":8101260}},{"id":1489462,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8101280,"value":"[111360521669354538, 111360521669354531]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8101300,"value":"#<JSON::Ext::Generator::State:0x00007fdc09b8f9b0>"}},{"id":1489463,"event":"return","thread_id":9160,"parent_id":1489462,"elapsed":6.698013748973608e-06,"elapsed_instrumentation":0.00011436198838055134,"return_value":{"class":"String","value":"[111360521669354538,111360521669354531]","object_id":8101320}},{"id":1489464,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8101340,"value":"#<JSON::Ext::Parser:0x00007fdc09b8e880>"}},{"id":1489465,"event":"return","thread_id":9160,"parent_id":1489464,"elapsed":1.0751013178378344e-05,"elapsed_instrumentation":0.00026305599021725357,"return_value":{"class":"Array","value":"[111360521669354538, 111360521669354531]","object_id":8101360,"size":2}},{"id":1489466,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8101380,"value":"w~_5j4M_n___"}},{"id":1489467,"event":"return","thread_id":9160,"parent_id":1489466,"elapsed":6.032991223037243e-06,"elapsed_instrumentation":0.00013313800445757806,"return_value":{"class":"String","value":"777efc356a344de56e92d9c2","object_id":8101400}},{"id":1489468,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8101420,"value":"{retry=>true, queue=>pull, args=>[111360521669354538, 111360521669354531], class=>UnmergeWorker, jid=>de783df944e47389b193c295, created_at=>1699226711.870725, id=>777efc356a344de56e92d9c2}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8101440,"value":"#<JSON::Ext::Generator::State:0x00007fdc09b8bfe0>"}},{"id":1489469,"event":"return","thread_id":9160,"parent_id":1489468,"elapsed":3.1108997063711286e-05,"elapsed_instrumentation":0.0003928290097974241,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521669354538,111360521669354531],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8101460}},{"id":1489470,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8101480,"value":"#<JSON::Ext::Parser:0x00007fdc09b89c40>"}},{"id":1489471,"event":"return","thread_id":9160,"parent_id":1489470,"elapsed":2.730300184339285e-05,"elapsed_instrumentation":0.0005998510168865323,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521669354538, 111360521669354531], class=>UnmergeWorker, jid=>de783df944e47389b193c295, created_at=>1699226711.870725, id=>777efc356a344de56e92d9c2}","object_id":8101500,"size":7}},{"id":1489472,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043338709063,"value":"111360521669354531","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8101520,"value":"#<UnmergeWorker:0x00007fdc09b87760>"}},{"id":1489473,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8101520,"value":"#<UnmergeWorker:0x00007fdc09b87760>"}},{"id":1489474,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489475,"event":"return","thread_id":9160,"parent_id":1489474,"elapsed":0.001079872,"elapsed_instrumentation":0.00020081299589946866},{"id":1489476,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489477,"event":"return","thread_id":9160,"parent_id":1489476,"elapsed":0.000895743,"elapsed_instrumentation":0.0001228789915330708},{"id":1489478,"event":"return","thread_id":9160,"parent_id":1489473,"elapsed":0.006345008994685486,"elapsed_instrumentation":0.000225015013711527,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64c6ba0>","object_id":8101540}},{"id":1489479,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8101520,"value":"#<UnmergeWorker:0x00007fdc09b87760>"}},{"id":1489480,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8101560,"value":"#<Account:0x00007fdbf64c6ce0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8101540,"value":"#<Account:0x00007fdbf64c6ba0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489481,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043338709063,"value":"111360521669354531","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489482,"event":"return","thread_id":9160,"parent_id":1489481,"elapsed":6.324000423774123e-06,"elapsed_instrumentation":0.00041622802382335067,"return_value":{"class":"String","value":"feed:home:111360521669354531","object_id":8101580}},{"id":1489483,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489484,"event":"return","thread_id":9160,"parent_id":1489483,"elapsed":5.206995410844684e-06,"elapsed_instrumentation":8.589201024733484e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1489485,"event":"return","thread_id":9160,"parent_id":1489480,"elapsed":0.004383082006825134,"elapsed_instrumentation":0.0002997760020662099},{"id":1489486,"event":"return","thread_id":9160,"parent_id":1489479,"elapsed":0.004723363002995029,"elapsed_instrumentation":0.00012062597670592368},{"id":1489487,"event":"return","thread_id":9160,"parent_id":1489472,"elapsed":0.011599586985539645,"elapsed_instrumentation":0.00014479400124400854},{"id":1489488,"event":"return","thread_id":9160,"parent_id":1489459,"elapsed":0.013872946001356468,"elapsed_instrumentation":0.00021623302018269897,"return_value":{"class":"String","value":"de783df944e47389b193c295","object_id":8101260}},{"id":1489489,"event":"return","thread_id":9160,"parent_id":1489404,"elapsed":0.04989326899521984,"elapsed_instrumentation":0.00019603900727815926,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c9c60>","object_id":8101100}},{"id":1489490,"event":"return","thread_id":9160,"parent_id":1489403,"elapsed":0.050115756021114066,"elapsed_instrumentation":0.00010470597771927714,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c9c60>","object_id":8101100}},{"id":1489491,"event":"return","thread_id":9160,"parent_id":1489402,"elapsed":0.050261661992408335,"elapsed_instrumentation":0.000355421012500301,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c9c60>","object_id":8101100}},{"id":1489492,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8101600,"value":"relationship:111360521669354532:111360521669354538","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8101620,"value":"#<UnfollowService:0x00007fdc0737f2e0>"}},{"id":1489493,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8101620,"value":"#<UnfollowService:0x00007fdc0737f2e0>"}},{"id":1489494,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8101640,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8101660,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489495,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489496,"event":"return","thread_id":9160,"parent_id":1489495,"elapsed":5.0689850468188524e-06,"elapsed_instrumentation":0.00014462601393461227,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1489497,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8101680,"value":"____\t3____\\_pFE_"}},{"id":1489498,"event":"return","thread_id":9160,"parent_id":1489497,"elapsed":1.1024007108062506e-05,"elapsed_instrumentation":0.0005014659545850009,"return_value":{"class":"Array","value":"[3683942819, 2355, 51705, 43921, 23721, 1883653565]","object_id":8101700,"size":6}},{"id":1489499,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489500,"event":"return","thread_id":9160,"parent_id":1489499,"elapsed":0.000745187,"elapsed_instrumentation":0.0001315709960181266},{"id":1489501,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8101720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489502,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489503,"event":"return","thread_id":9160,"parent_id":1489502,"elapsed":0.000807532,"elapsed_instrumentation":0.00011049601016566157},{"id":1489504,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489505,"event":"return","thread_id":9160,"parent_id":1489504,"elapsed":0.000815302,"elapsed_instrumentation":0.00020729401148855686},{"id":1489506,"event":"return","thread_id":9160,"parent_id":1489501,"elapsed":0.004979738994734362,"elapsed_instrumentation":0.0003446280024945736,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1489507,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1489508,"event":"return","thread_id":9160,"parent_id":1489507,"elapsed":0.001244875,"elapsed_instrumentation":0.00014275399735197425},{"id":1489509,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8101720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489510,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1489511,"event":"return","thread_id":9160,"parent_id":1489510,"elapsed":0.000776015,"elapsed_instrumentation":0.00010576701606623828},{"id":1489512,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489513,"event":"return","thread_id":9160,"parent_id":1489512,"elapsed":0.00097331,"elapsed_instrumentation":0.00013085600221529603},{"id":1489514,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8101740,"value":"#<Account:0x00007fdbf64c6060>"}},{"id":1489515,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8101740,"value":"#<Account:0x00007fdbf64c6060>"}},{"id":1489516,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521669354532, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489517,"event":"return","thread_id":9160,"parent_id":1489516,"elapsed":0.001840559,"elapsed_instrumentation":0.00012695699115283787},{"id":1489518,"event":"return","thread_id":9160,"parent_id":1489515,"elapsed":0.0035351680126041174,"elapsed_instrumentation":0.00028306699823588133},{"id":1489519,"event":"return","thread_id":9160,"parent_id":1489514,"elapsed":0.003876848000800237,"elapsed_instrumentation":0.00028345102327875793},{"id":1489520,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489521,"event":"return","thread_id":9160,"parent_id":1489520,"elapsed":0.001152236,"elapsed_instrumentation":0.00016061699716374278},{"id":1489522,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8101760,"value":"#<Account:0x00007fdbf64c52a0>"}},{"id":1489523,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8101760,"value":"#<Account:0x00007fdbf64c52a0>"}},{"id":1489524,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521669354538, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489525,"event":"return","thread_id":9160,"parent_id":1489524,"elapsed":0.001597166,"elapsed_instrumentation":0.00015225401148200035},{"id":1489526,"event":"return","thread_id":9160,"parent_id":1489523,"elapsed":0.0027614259743131697,"elapsed_instrumentation":0.00016304501332342625},{"id":1489527,"event":"return","thread_id":9160,"parent_id":1489522,"elapsed":0.002966282016132027,"elapsed_instrumentation":0.00022043799981474876},{"id":1489528,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8101740,"value":"#<Account:0x00007fdbf64c6060>"}},{"id":1489529,"event":"return","thread_id":9160,"parent_id":1489528,"elapsed":2.6473018806427717e-05,"elapsed_instrumentation":0.00020979697001166642,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489530,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8101760,"value":"#<Account:0x00007fdbf64c52a0>"}},{"id":1489531,"event":"return","thread_id":9160,"parent_id":1489530,"elapsed":0.00013991101877763867,"elapsed_instrumentation":0.00023191998479887843,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489532,"event":"return","thread_id":9160,"parent_id":1489509,"elapsed":0.019972609996329993,"elapsed_instrumentation":0.000270263000857085,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1489533,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489534,"event":"return","thread_id":9160,"parent_id":1489533,"elapsed":0.000869577,"elapsed_instrumentation":9.679602226242423e-05},{"id":1489535,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8101800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489536,"event":"return","thread_id":9160,"parent_id":1489535,"elapsed":5.108013283461332e-06,"elapsed_instrumentation":0.0005797440244350582,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1489537,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8101800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489538,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8101820,"value":"Cache delete: relationship:111360521669354532:111360521669354538\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489539,"event":"return","thread_id":9160,"parent_id":1489538,"elapsed":0.0014736810117028654,"elapsed_instrumentation":0.0002446109720040113,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489540,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8101840,"value":"Cache delete: relationship:111360521669354538:111360521669354532\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489541,"event":"return","thread_id":9160,"parent_id":1489540,"elapsed":0.0016259440162684768,"elapsed_instrumentation":0.00025638999068178236,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489542,"event":"return","thread_id":9160,"parent_id":1489537,"elapsed":0.004097237979294732,"elapsed_instrumentation":0.0001993030309677124,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1489543,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1489544,"event":"return","thread_id":9160,"parent_id":1489543,"elapsed":1.8055987311527133e-05,"elapsed_instrumentation":0.00044169698958285153,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489545,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1489546,"event":"return","thread_id":9160,"parent_id":1489545,"elapsed":7.488008122891188e-06,"elapsed_instrumentation":0.0001332589890807867,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489547,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8101860,"value":"#<Account:0x00007fdbf64b4108>"}},{"id":1489548,"event":"return","thread_id":9160,"parent_id":1489547,"elapsed":1.8596998415887356e-05,"elapsed_instrumentation":0.00011015203199349344,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489549,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8101880,"value":"{args=>[111360521669354538, 111360521669354532], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8101900,"value":"#<Sidekiq::Client:0x00007fdc09ab5788>"}},{"id":1489550,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8101920,"value":"___\n__[^__'_"}},{"id":1489551,"event":"return","thread_id":9160,"parent_id":1489550,"elapsed":7.230992196127772e-06,"elapsed_instrumentation":0.0002545909956097603,"return_value":{"class":"String","value":"d5faf00ad5a95b5eb7d627ea","object_id":8101940}},{"id":1489552,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8101960,"value":"[111360521669354538, 111360521669354532]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8101980,"value":"#<JSON::Ext::Generator::State:0x00007fdc09ab0df0>"}},{"id":1489553,"event":"return","thread_id":9160,"parent_id":1489552,"elapsed":1.3968005077913404e-05,"elapsed_instrumentation":0.0008276329899672419,"return_value":{"class":"String","value":"[111360521669354538,111360521669354532]","object_id":8102000}},{"id":1489554,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8102020,"value":"#<JSON::Ext::Parser:0x00007fdc09a6faa8>"}},{"id":1489555,"event":"return","thread_id":9160,"parent_id":1489554,"elapsed":8.875009370967746e-06,"elapsed_instrumentation":0.00019269398762844503,"return_value":{"class":"Array","value":"[111360521669354538, 111360521669354532]","object_id":8102040,"size":2}},{"id":1489556,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8102060,"value":"E____$gD\u001dwC_"}},{"id":1489557,"event":"return","thread_id":9160,"parent_id":1489556,"elapsed":7.83798168413341e-06,"elapsed_instrumentation":0.00038428002153523266,"return_value":{"class":"String","value":"45fdea96aa2467441d7743e4","object_id":8102080}},{"id":1489558,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8102100,"value":"{retry=>true, queue=>pull, args=>[111360521669354538, 111360521669354532], class=>UnmergeWorker, jid=>d5faf00ad5a95b5eb7d627ea, created_at=>1699226711.9276245, id=>45fdea96aa2467441d7743e4}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8102120,"value":"#<JSON::Ext::Generator::State:0x00007fdc09a6c998>"}},{"id":1489559,"event":"return","thread_id":9160,"parent_id":1489558,"elapsed":2.4056993424892426e-05,"elapsed_instrumentation":0.00043281802209094167,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521669354538,111360521669354532],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8102140}},{"id":1489560,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8102160,"value":"#<JSON::Ext::Parser:0x00007fdc09a6a710>"}},{"id":1489561,"event":"return","thread_id":9160,"parent_id":1489560,"elapsed":3.6040000850334764e-05,"elapsed_instrumentation":0.00037533300928771496,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521669354538, 111360521669354532], class=>UnmergeWorker, jid=>d5faf00ad5a95b5eb7d627ea, created_at=>1699226711.9276245, id=>45fdea96aa2467441d7743e4}","object_id":8102180,"size":7}},{"id":1489562,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043338709065,"value":"111360521669354532","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8102200,"value":"#<UnmergeWorker:0x00007fdc09a67dd0>"}},{"id":1489563,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8102200,"value":"#<UnmergeWorker:0x00007fdc09a67dd0>"}},{"id":1489564,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489565,"event":"return","thread_id":9160,"parent_id":1489564,"elapsed":0.001057555,"elapsed_instrumentation":0.00042840500827878714},{"id":1489566,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489567,"event":"return","thread_id":9160,"parent_id":1489566,"elapsed":0.001021419,"elapsed_instrumentation":0.0001972659956663847},{"id":1489568,"event":"return","thread_id":9160,"parent_id":1489563,"elapsed":0.006996800017077476,"elapsed_instrumentation":0.00022785799228586257,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64c39a0>","object_id":8102220}},{"id":1489569,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8102200,"value":"#<UnmergeWorker:0x00007fdc09a67dd0>"}},{"id":1489570,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8102240,"value":"#<Account:0x00007fdbf64c3ae0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8102220,"value":"#<Account:0x00007fdbf64c39a0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489571,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043338709065,"value":"111360521669354532","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489572,"event":"return","thread_id":9160,"parent_id":1489571,"elapsed":9.580980986356735e-06,"elapsed_instrumentation":0.00032928999280557036,"return_value":{"class":"String","value":"feed:home:111360521669354532","object_id":8102260}},{"id":1489573,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489574,"event":"return","thread_id":9160,"parent_id":1489573,"elapsed":8.670001989230514e-06,"elapsed_instrumentation":0.0001584069977980107,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1489575,"event":"return","thread_id":9160,"parent_id":1489570,"elapsed":0.006895124999573454,"elapsed_instrumentation":0.0003568360407371074},{"id":1489576,"event":"return","thread_id":9160,"parent_id":1489569,"elapsed":0.007315309019759297,"elapsed_instrumentation":0.0004747700004372746},{"id":1489577,"event":"return","thread_id":9160,"parent_id":1489562,"elapsed":0.015103737998288125,"elapsed_instrumentation":0.00017494996427558362},{"id":1489578,"event":"return","thread_id":9160,"parent_id":1489549,"elapsed":0.018714798003202304,"elapsed_instrumentation":0.0006793190259486437,"return_value":{"class":"String","value":"d5faf00ad5a95b5eb7d627ea","object_id":8101940}},{"id":1489579,"event":"return","thread_id":9160,"parent_id":1489494,"elapsed":0.06075976800639182,"elapsed_instrumentation":0.0005361719813663512,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c6920>","object_id":8101780}},{"id":1489580,"event":"return","thread_id":9160,"parent_id":1489493,"elapsed":0.06133549098740332,"elapsed_instrumentation":0.00017025801935233176,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c6920>","object_id":8101780}},{"id":1489581,"event":"return","thread_id":9160,"parent_id":1489492,"elapsed":0.06156333500985056,"elapsed_instrumentation":0.0002412610047031194,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c6920>","object_id":8101780}},{"id":1489582,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8102280,"value":"relationship:111360521669354533:111360521669354538","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8102300,"value":"#<UnfollowService:0x00007fdc07377130>"}},{"id":1489583,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8102300,"value":"#<UnfollowService:0x00007fdc07377130>"}},{"id":1489584,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8102320,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8102340,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489585,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489586,"event":"return","thread_id":9160,"parent_id":1489585,"elapsed":6.004003807902336e-06,"elapsed_instrumentation":0.0002840029774233699,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1489587,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8102360,"value":"_\u0006\u000b____\u0013\u0011t_\r__k_"}},{"id":1489588,"event":"return","thread_id":9160,"parent_id":1489587,"elapsed":1.0390009265393019e-05,"elapsed_instrumentation":0.0003292039909865707,"return_value":{"class":"Array","value":"[3926264748, 35053, 50963, 4468, 34317, 3600116676]","object_id":8102380,"size":6}},{"id":1489589,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489590,"event":"return","thread_id":9160,"parent_id":1489589,"elapsed":0.000931308,"elapsed_instrumentation":0.00029944098787382245},{"id":1489591,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8102400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489592,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489593,"event":"return","thread_id":9160,"parent_id":1489592,"elapsed":0.001098745,"elapsed_instrumentation":0.00025031500263139606},{"id":1489594,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489595,"event":"return","thread_id":9160,"parent_id":1489594,"elapsed":0.000659135,"elapsed_instrumentation":9.598198812454939e-05},{"id":1489596,"event":"return","thread_id":9160,"parent_id":1489591,"elapsed":0.005594798014499247,"elapsed_instrumentation":0.0002353510062675923,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1489597,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1489598,"event":"return","thread_id":9160,"parent_id":1489597,"elapsed":0.001351875,"elapsed_instrumentation":8.624998736195266e-05},{"id":1489599,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8102400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489600,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1489601,"event":"return","thread_id":9160,"parent_id":1489600,"elapsed":0.001088718,"elapsed_instrumentation":0.00015599699690937996},{"id":1489602,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489603,"event":"return","thread_id":9160,"parent_id":1489602,"elapsed":0.001441246,"elapsed_instrumentation":0.00011091699707321823},{"id":1489604,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8102420,"value":"#<Account:0x00007fdbf64c2960>"}},{"id":1489605,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8102420,"value":"#<Account:0x00007fdbf64c2960>"}},{"id":1489606,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521669354533, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489607,"event":"return","thread_id":9160,"parent_id":1489606,"elapsed":0.001436904,"elapsed_instrumentation":0.0001314189867116511},{"id":1489608,"event":"return","thread_id":9160,"parent_id":1489605,"elapsed":0.0028957920148968697,"elapsed_instrumentation":0.00014777400065213442},{"id":1489609,"event":"return","thread_id":9160,"parent_id":1489604,"elapsed":0.003078954992815852,"elapsed_instrumentation":0.0005136159888934344},{"id":1489610,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489611,"event":"return","thread_id":9160,"parent_id":1489610,"elapsed":0.001312885,"elapsed_instrumentation":0.00013778998982161283},{"id":1489612,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8102440,"value":"#<Account:0x00007fdbf64c17e0>"}},{"id":1489613,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8102440,"value":"#<Account:0x00007fdbf64c17e0>"}},{"id":1489614,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521669354538, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489615,"event":"return","thread_id":9160,"parent_id":1489614,"elapsed":0.001521905,"elapsed_instrumentation":0.0001037689798977226},{"id":1489616,"event":"return","thread_id":9160,"parent_id":1489613,"elapsed":0.002575310005340725,"elapsed_instrumentation":0.0003022539895027876},{"id":1489617,"event":"return","thread_id":9160,"parent_id":1489612,"elapsed":0.0029139170073904097,"elapsed_instrumentation":0.00020810600835829973},{"id":1489618,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8102420,"value":"#<Account:0x00007fdbf64c2960>"}},{"id":1489619,"event":"return","thread_id":9160,"parent_id":1489618,"elapsed":1.915599568746984e-05,"elapsed_instrumentation":0.0005247530061751604,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489620,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8102440,"value":"#<Account:0x00007fdbf64c17e0>"}},{"id":1489621,"event":"return","thread_id":9160,"parent_id":1489620,"elapsed":8.681992767378688e-06,"elapsed_instrumentation":9.592401329427958e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489622,"event":"return","thread_id":9160,"parent_id":1489599,"elapsed":0.019802816008450463,"elapsed_instrumentation":0.00020603201119229198,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1489623,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489624,"event":"return","thread_id":9160,"parent_id":1489623,"elapsed":0.000620256,"elapsed_instrumentation":8.071298361755908e-05},{"id":1489625,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8102480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489626,"event":"return","thread_id":9160,"parent_id":1489625,"elapsed":5.029985914006829e-06,"elapsed_instrumentation":0.00017983198631554842,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1489627,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8102480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489628,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8102500,"value":"Cache delete: relationship:111360521669354533:111360521669354538\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489629,"event":"return","thread_id":9160,"parent_id":1489628,"elapsed":0.0010058680200017989,"elapsed_instrumentation":0.00019262699061073363,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489630,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8102520,"value":"Cache delete: relationship:111360521669354538:111360521669354533\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489631,"event":"return","thread_id":9160,"parent_id":1489630,"elapsed":0.0011024129926227033,"elapsed_instrumentation":0.00040387402987107635,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489632,"event":"return","thread_id":9160,"parent_id":1489627,"elapsed":0.0031427579815499485,"elapsed_instrumentation":0.000440048985183239,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1489633,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1489634,"event":"return","thread_id":9160,"parent_id":1489633,"elapsed":1.4692021068185568e-05,"elapsed_instrumentation":0.0001556730130687356,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489635,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8095480,"value":"#<Account:0x00007fdbf64a4b18>"}},{"id":1489636,"event":"return","thread_id":9160,"parent_id":1489635,"elapsed":7.414986612275243e-06,"elapsed_instrumentation":0.00012002501171082258,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489637,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8102540,"value":"#<Account:0x00007fdbf64b3d48>"}},{"id":1489638,"event":"return","thread_id":9160,"parent_id":1489637,"elapsed":1.863599754869938e-05,"elapsed_instrumentation":0.0004025590023957193,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489639,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8102560,"value":"{args=>[111360521669354538, 111360521669354533], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8102580,"value":"#<Sidekiq::Client:0x00007fdc099d2cd0>"}},{"id":1489640,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8102600,"value":"_+_?___TFpcR"}},{"id":1489641,"event":"return","thread_id":9160,"parent_id":1489640,"elapsed":7.5620191637426615e-06,"elapsed_instrumentation":0.00043767699389718473,"return_value":{"class":"String","value":"982bdc3fdffbd85446706352","object_id":8102620}},{"id":1489642,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8102640,"value":"[111360521669354538, 111360521669354533]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8102660,"value":"#<JSON::Ext::Generator::State:0x00007fdc099eed40>"}},{"id":1489643,"event":"return","thread_id":9160,"parent_id":1489642,"elapsed":1.3131008017808199e-05,"elapsed_instrumentation":0.0003482750034891069,"return_value":{"class":"String","value":"[111360521669354538,111360521669354533]","object_id":8102680}},{"id":1489644,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8102700,"value":"#<JSON::Ext::Parser:0x00007fdc099ed5a8>"}},{"id":1489645,"event":"return","thread_id":9160,"parent_id":1489644,"elapsed":8.91301897354424e-06,"elapsed_instrumentation":0.00047817398444749415,"return_value":{"class":"Array","value":"[111360521669354538, 111360521669354533]","object_id":8102720,"size":2}},{"id":1489646,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8102740,"value":"_\u0004_\u0006_R|\bg___"}},{"id":1489647,"event":"return","thread_id":9160,"parent_id":1489646,"elapsed":7.567985448986292e-06,"elapsed_instrumentation":0.0002764150267466903,"return_value":{"class":"String","value":"9e04ac06a6527c0867cee894","object_id":8102760}},{"id":1489648,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8102780,"value":"{retry=>true, queue=>pull, args=>[111360521669354538, 111360521669354533], class=>UnmergeWorker, jid=>982bdc3fdffbd85446706352, created_at=>1699226711.9882069, id=>9e04ac06a6527c0867cee894}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8102800,"value":"#<JSON::Ext::Generator::State:0x00007fdc099eace0>"}},{"id":1489649,"event":"return","thread_id":9160,"parent_id":1489648,"elapsed":3.016000846400857e-05,"elapsed_instrumentation":0.0005375599721446633,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521669354538,111360521669354533],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8102820}},{"id":1489650,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8102840,"value":"#<JSON::Ext::Parser:0x00007fdc099e70e0>"}},{"id":1489651,"event":"return","thread_id":9160,"parent_id":1489650,"elapsed":2.3922009859234095e-05,"elapsed_instrumentation":0.0003075110143981874,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521669354538, 111360521669354533], class=>UnmergeWorker, jid=>982bdc3fdffbd85446706352, created_at=>1699226711.9882069, id=>9e04ac06a6527c0867cee894}","object_id":8102860,"size":7}},{"id":1489652,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043338709077,"value":"111360521669354538","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043338709067,"value":"111360521669354533","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8102880,"value":"#<UnmergeWorker:0x00007fdc099e08d0>"}},{"id":1489653,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8102880,"value":"#<UnmergeWorker:0x00007fdc099e08d0>"}},{"id":1489654,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489655,"event":"return","thread_id":9160,"parent_id":1489654,"elapsed":0.001173603,"elapsed_instrumentation":0.00016733401571400464},{"id":1489656,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489657,"event":"return","thread_id":9160,"parent_id":1489656,"elapsed":0.0007743,"elapsed_instrumentation":0.00013012601993978024},{"id":1489658,"event":"return","thread_id":9160,"parent_id":1489653,"elapsed":0.005645552999339998,"elapsed_instrumentation":0.0003373140061739832,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64c0160>","object_id":8102900}},{"id":1489659,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8102880,"value":"#<UnmergeWorker:0x00007fdc099e08d0>"}},{"id":1489660,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8102920,"value":"#<Account:0x00007fdbf64c02a0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8102900,"value":"#<Account:0x00007fdbf64c0160>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489661,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043338709067,"value":"111360521669354533","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489662,"event":"return","thread_id":9160,"parent_id":1489661,"elapsed":9.759998647496104e-06,"elapsed_instrumentation":0.0003344499855302274,"return_value":{"class":"String","value":"feed:home:111360521669354533","object_id":8102940}},{"id":1489663,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489664,"event":"return","thread_id":9160,"parent_id":1489663,"elapsed":5.799985956400633e-06,"elapsed_instrumentation":9.914301335811615e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1489665,"event":"return","thread_id":9160,"parent_id":1489660,"elapsed":0.00549659100943245,"elapsed_instrumentation":0.0005491600022651255},{"id":1489666,"event":"return","thread_id":9160,"parent_id":1489659,"elapsed":0.006111349997809157,"elapsed_instrumentation":0.00019212401821278036},{"id":1489667,"event":"return","thread_id":9160,"parent_id":1489652,"elapsed":0.012389067007461563,"elapsed_instrumentation":0.00024061300791800022},{"id":1489668,"event":"return","thread_id":9160,"parent_id":1489639,"elapsed":0.01587432500673458,"elapsed_instrumentation":0.000246832991251722,"return_value":{"class":"String","value":"982bdc3fdffbd85446706352","object_id":8102620}},{"id":1489669,"event":"return","thread_id":9160,"parent_id":1489584,"elapsed":0.05531875599990599,"elapsed_instrumentation":0.00047507500858046114,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c3720>","object_id":8102460}},{"id":1489670,"event":"return","thread_id":9160,"parent_id":1489583,"elapsed":0.0560858870157972,"elapsed_instrumentation":0.0004209389735478908,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c3720>","object_id":8102460}},{"id":1489671,"event":"return","thread_id":9160,"parent_id":1489582,"elapsed":0.05677503699553199,"elapsed_instrumentation":0.0003373409854248166,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c3720>","object_id":8102460}},{"id":1489672,"event":"return","thread_id":9160,"parent_id":1488687,"elapsed":0.5789920960087329,"elapsed_instrumentation":0.0002131549990735948,"return_value":{"class":"StringIO","value":"#<StringIO:0x00007fdc0a2ac0e0>","object_id":8102960}}]}