{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --follows and --followers options displays a successful message","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"User","type":"class","children":[{"name":"those_who_can","type":"function","location":"app/models/user.rb:143","static":true}]},{"name":"UserRole","type":"class","children":[{"name":"that_can","type":"function","location":"app/models/user_role.rb:111","static":true},{"name":"can?","type":"function","location":"app/models/user_role.rb:131","static":false},{"name":"computed_permissions","type":"function","location":"app/models/user_role.rb:139","static":false},{"name":"everyone?","type":"function","location":"app/models/user_role.rb:115","static":false},{"name":"nobody?","type":"function","location":"app/models/user_role.rb:119","static":false},{"name":"everyone","type":"function","location":"app/models/user_role.rb:105","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"RequestPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/request_pool.rb:114","static":false}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:13","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:51","static":false}]}]}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]},{"name":"BootstrapTimelineWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/bootstrap_timeline_worker.rb:6","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":2897516,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":14317640,"value":"vernon6757","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14317660,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e0c816e8>"}},{"id":2897517,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":14317680,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc932b0fc40>"}},{"id":2897518,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'vernon6757' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2897519,"event":"return","thread_id":9160,"parent_id":2897518,"elapsed":0.000931379,"elapsed_instrumentation":0.0001904090167954564},{"id":2897520,"event":"return","thread_id":9160,"parent_id":2897517,"elapsed":0.004057999991346151,"elapsed_instrumentation":0.00011411594459787011,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e0d5d210>","object_id":14317700}},{"id":2897521,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1)","database_type":"postgres"}},{"id":2897522,"event":"return","thread_id":9160,"parent_id":2897521,"elapsed":0.000798216,"elapsed_instrumentation":0.00021119299344718456},{"id":2897523,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1)","database_type":"postgres"}},{"id":2897524,"event":"return","thread_id":9160,"parent_id":2897523,"elapsed":0.000711299,"elapsed_instrumentation":7.731601363047957e-05},{"id":2897525,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14317660,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e0c816e8>"}},{"id":2897526,"event":"return","thread_id":9160,"parent_id":2897525,"elapsed":0.00010505900718271732,"elapsed_instrumentation":0.00021230499260127544,"return_value":{"class":"ProgressBar::Base","value":"","object_id":14317720}},{"id":2897527,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2897528,"event":"return","thread_id":9160,"parent_id":2897527,"elapsed":0.001603002,"elapsed_instrumentation":8.332898141816258e-05},{"id":2897529,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14317740,"value":"relationship:111361440042536342:111361440042536346","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14317760,"value":"#<UnfollowService:0x00007fc8e0c9ea68>"}},{"id":2897530,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14317760,"value":"#<UnfollowService:0x00007fc8e0c9ea68>"}},{"id":2897531,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14317780,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14317800,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897532,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897533,"event":"return","thread_id":9160,"parent_id":2897532,"elapsed":3.0310475267469883e-06,"elapsed_instrumentation":7.763697067275643e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2897534,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14317820,"value":"[_________\u0010g__\u0003Y"}},{"id":2897535,"event":"return","thread_id":9160,"parent_id":2897534,"elapsed":7.206981536000967e-06,"elapsed_instrumentation":0.00018724100664258003,"return_value":{"class":"Array","value":"[1540655090, 61872, 58809, 34440, 4199, 2664498009]","object_id":14317840,"size":6}},{"id":2897536,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897537,"event":"return","thread_id":9160,"parent_id":2897536,"elapsed":0.000601377,"elapsed_instrumentation":7.747102063149214e-05},{"id":2897538,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14317860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897539,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897540,"event":"return","thread_id":9160,"parent_id":2897539,"elapsed":0.000331188,"elapsed_instrumentation":6.923999171704054e-05},{"id":2897541,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897542,"event":"return","thread_id":9160,"parent_id":2897541,"elapsed":0.000447824,"elapsed_instrumentation":6.293196929618716e-05},{"id":2897543,"event":"return","thread_id":9160,"parent_id":2897538,"elapsed":0.0022598690120503306,"elapsed_instrumentation":0.000361365033313632,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2897544,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2897545,"event":"return","thread_id":9160,"parent_id":2897544,"elapsed":0.000679426,"elapsed_instrumentation":7.082399679347873e-05},{"id":2897546,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14317860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897547,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2897548,"event":"return","thread_id":9160,"parent_id":2897547,"elapsed":0.000626955,"elapsed_instrumentation":7.203302811831236e-05},{"id":2897549,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14317880,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14317900,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2897550,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14317920,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14317940,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2897551,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2897552,"event":"return","thread_id":13276700,"parent_id":2897551,"elapsed":5.725945811718702e-06,"elapsed_instrumentation":6.405706517398357e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2897553,"event":"return","thread_id":13276700,"parent_id":2897550,"elapsed":8.774100570008159e-05,"elapsed_instrumentation":9.18989535421133e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2897554,"event":"return","thread_id":13276700,"parent_id":2897549,"elapsed":0.00019883998902514577,"elapsed_instrumentation":0.00014994898810982704,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2897555,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897556,"event":"return","thread_id":9160,"parent_id":2897555,"elapsed":0.000768934,"elapsed_instrumentation":7.142202230170369e-05},{"id":2897557,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14317960,"value":"#<Account:0x00007fc8e0d5b050>"}},{"id":2897558,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14317960,"value":"#<Account:0x00007fc8e0d5b050>"}},{"id":2897559,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440042536346, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897560,"event":"return","thread_id":9160,"parent_id":2897559,"elapsed":0.000811613,"elapsed_instrumentation":7.431203266605735e-05},{"id":2897561,"event":"return","thread_id":9160,"parent_id":2897558,"elapsed":0.001365142990835011,"elapsed_instrumentation":8.811999578028917e-05},{"id":2897562,"event":"return","thread_id":9160,"parent_id":2897557,"elapsed":0.0014788249973207712,"elapsed_instrumentation":0.00019557506311684847},{"id":2897563,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897564,"event":"return","thread_id":9160,"parent_id":2897563,"elapsed":0.00063599,"elapsed_instrumentation":7.276097312569618e-05},{"id":2897565,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14317980,"value":"#<Account:0x00007fc8e0d5a290>"}},{"id":2897566,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14317980,"value":"#<Account:0x00007fc8e0d5a290>"}},{"id":2897567,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440042536342, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897568,"event":"return","thread_id":9160,"parent_id":2897567,"elapsed":0.000738768,"elapsed_instrumentation":6.328104063868523e-05},{"id":2897569,"event":"return","thread_id":9160,"parent_id":2897566,"elapsed":0.0012050059740431607,"elapsed_instrumentation":8.98870057426393e-05},{"id":2897570,"event":"return","thread_id":9160,"parent_id":2897565,"elapsed":0.001319368020631373,"elapsed_instrumentation":0.00020744901848956943},{"id":2897571,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317960,"value":"#<Account:0x00007fc8e0d5b050>"}},{"id":2897572,"event":"return","thread_id":9160,"parent_id":2897571,"elapsed":1.5659956261515617e-05,"elapsed_instrumentation":8.36640247143805e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897573,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317980,"value":"#<Account:0x00007fc8e0d5a290>"}},{"id":2897574,"event":"return","thread_id":9160,"parent_id":2897573,"elapsed":6.491958629339933e-06,"elapsed_instrumentation":6.282801041379571e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897575,"event":"return","thread_id":9160,"parent_id":2897546,"elapsed":0.009765201015397906,"elapsed_instrumentation":0.00045557902194559574,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2897576,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897577,"event":"return","thread_id":9160,"parent_id":2897576,"elapsed":0.000328007,"elapsed_instrumentation":5.924300057813525e-05},{"id":2897578,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14318020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897579,"event":"return","thread_id":9160,"parent_id":2897578,"elapsed":3.7219724617898464e-06,"elapsed_instrumentation":0.00010876497253775597,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2897580,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14318020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897581,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14318040,"value":"Cache delete: relationship:111361440042536346:111361440042536342\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897582,"event":"return","thread_id":9160,"parent_id":2897581,"elapsed":0.0008951479685492814,"elapsed_instrumentation":0.00012653105659410357,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897583,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14318060,"value":"Cache delete: relationship:111361440042536342:111361440042536346\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897584,"event":"return","thread_id":9160,"parent_id":2897583,"elapsed":0.0007195919752120972,"elapsed_instrumentation":0.00015500601148232818,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897585,"event":"return","thread_id":9160,"parent_id":2897580,"elapsed":0.0022785040200687945,"elapsed_instrumentation":0.0001148260198533535,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2897586,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14318080,"value":"#<Account:0x00007fc8e0d5bf50>"}},{"id":2897587,"event":"return","thread_id":9160,"parent_id":2897586,"elapsed":1.3571989256888628e-05,"elapsed_instrumentation":8.645298657938838e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897588,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14318080,"value":"#<Account:0x00007fc8e0d5bf50>"}},{"id":2897589,"event":"return","thread_id":9160,"parent_id":2897588,"elapsed":3.7919962778687477e-06,"elapsed_instrumentation":6.018101703375578e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897590,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2897591,"event":"return","thread_id":9160,"parent_id":2897590,"elapsed":7.656984962522984e-06,"elapsed_instrumentation":5.5629992857575417e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897592,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14318100,"value":"{args=>[111361440042536342, 111361440042536346], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14318120,"value":"#<Sidekiq::Client:0x00007fc932a43410>"}},{"id":2897593,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14318140,"value":"_@___V___\"_l"}},{"id":2897594,"event":"return","thread_id":9160,"parent_id":2897593,"elapsed":4.473025910556316e-06,"elapsed_instrumentation":0.00017623999156057835,"return_value":{"class":"String","value":"f340859c905698f2f922a96c","object_id":14318160}},{"id":2897595,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14318180,"value":"[111361440042536342, 111361440042536346]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14318200,"value":"#<JSON::Ext::Generator::State:0x00007fc932a5df40>"}},{"id":2897596,"event":"return","thread_id":9160,"parent_id":2897595,"elapsed":6.5740314312279224e-06,"elapsed_instrumentation":0.00011803297093138099,"return_value":{"class":"String","value":"[111361440042536342,111361440042536346]","object_id":14318220}},{"id":2897597,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14318240,"value":"#<JSON::Ext::Parser:0x00007fc932a5c460>"}},{"id":2897598,"event":"return","thread_id":9160,"parent_id":2897597,"elapsed":5.639973096549511e-06,"elapsed_instrumentation":7.121398812159896e-05,"return_value":{"class":"Array","value":"[111361440042536342, 111361440042536346]","object_id":14318260,"size":2}},{"id":2897599,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14318280,"value":"Y_XbBu_'Z_\u0014_"}},{"id":2897600,"event":"return","thread_id":9160,"parent_id":2897599,"elapsed":3.6050332710146904e-06,"elapsed_instrumentation":9.601900819689035e-05,"return_value":{"class":"String","value":"59ad58624275d9275a9e14ea","object_id":14318300}},{"id":2897601,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14318320,"value":"{retry=>true, queue=>pull, args=>[111361440042536342, 111361440042536346], class=>UnmergeWorker, jid=>f340859c905698f2f922a96c, created_at=>1699240724.337607, id=>59ad58624275d9275a9e14ea}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14318340,"value":"#<JSON::Ext::Generator::State:0x00007fc932a59e40>"}},{"id":2897602,"event":"return","thread_id":9160,"parent_id":2897601,"elapsed":1.6264966689050198e-05,"elapsed_instrumentation":0.00017117103561758995,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440042536342,111361440042536346],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14318360}},{"id":2897603,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14318380,"value":"#<JSON::Ext::Parser:0x00007fc932a53888>"}},{"id":2897604,"event":"return","thread_id":9160,"parent_id":2897603,"elapsed":1.894001616165042e-05,"elapsed_instrumentation":0.00014991400530561805,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440042536342, 111361440042536346], class=>UnmergeWorker, jid=>f340859c905698f2f922a96c, created_at=>1699240724.337607, id=>59ad58624275d9275a9e14ea}","object_id":14318400,"size":7}},{"id":2897605,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880085072685,"value":"111361440042536342","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14318420,"value":"#<UnmergeWorker:0x00007fc932a6df08>"}},{"id":2897606,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14318420,"value":"#<UnmergeWorker:0x00007fc932a6df08>"}},{"id":2897607,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897608,"event":"return","thread_id":9160,"parent_id":2897607,"elapsed":0.00066041,"elapsed_instrumentation":7.556896889582276e-05},{"id":2897609,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897610,"event":"return","thread_id":9160,"parent_id":2897609,"elapsed":0.000493874,"elapsed_instrumentation":6.692897295579314e-05},{"id":2897611,"event":"return","thread_id":9160,"parent_id":2897606,"elapsed":0.0033592809922993183,"elapsed_instrumentation":9.769597090780735e-05,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e0d58d50>","object_id":14318440}},{"id":2897612,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14318420,"value":"#<UnmergeWorker:0x00007fc932a6df08>"}},{"id":2897613,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14318460,"value":"#<Account:0x00007fc8e0d58e90>","kind":"req"},{"name":"into_account","class":"Account","object_id":14318440,"value":"#<Account:0x00007fc8e0d58d50>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897614,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897615,"event":"return","thread_id":9160,"parent_id":2897614,"elapsed":5.235953722149134e-06,"elapsed_instrumentation":9.865901665762067e-05,"return_value":{"class":"String","value":"feed:home:111361440042536346","object_id":14318480}},{"id":2897616,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897617,"event":"return","thread_id":9160,"parent_id":2897616,"elapsed":4.870991688221693e-06,"elapsed_instrumentation":9.46689979173243e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2897618,"event":"return","thread_id":9160,"parent_id":2897613,"elapsed":0.0035840030177496374,"elapsed_instrumentation":0.00010053400183096528},{"id":2897619,"event":"return","thread_id":9160,"parent_id":2897612,"elapsed":0.003715062979608774,"elapsed_instrumentation":7.37469526939094e-05},{"id":2897620,"event":"return","thread_id":9160,"parent_id":2897605,"elapsed":0.0072883369866758585,"elapsed_instrumentation":0.0001851870329119265},{"id":2897621,"event":"return","thread_id":9160,"parent_id":2897592,"elapsed":0.008732419984880835,"elapsed_instrumentation":0.00014605995966121554,"return_value":{"class":"String","value":"f340859c905698f2f922a96c","object_id":14318160}},{"id":2897622,"event":"return","thread_id":9160,"parent_id":2897531,"elapsed":0.02955716598080471,"elapsed_instrumentation":0.0002766610705293715,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d5b910>","object_id":14318000}},{"id":2897623,"event":"return","thread_id":9160,"parent_id":2897530,"elapsed":0.029864880023524165,"elapsed_instrumentation":0.00019688595784828067,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d5b910>","object_id":14318000}},{"id":2897624,"event":"return","thread_id":9160,"parent_id":2897529,"elapsed":0.03009893698617816,"elapsed_instrumentation":0.00016302301082760096,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d5b910>","object_id":14318000}},{"id":2897625,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14318500,"value":"relationship:111361440042536343:111361440042536346","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14318520,"value":"#<UnfollowService:0x00007fc8e0c976c8>"}},{"id":2897626,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14318520,"value":"#<UnfollowService:0x00007fc8e0c976c8>"}},{"id":2897627,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14318540,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14318560,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897628,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897629,"event":"return","thread_id":9160,"parent_id":2897628,"elapsed":2.6230118237435818e-06,"elapsed_instrumentation":6.26270193606615e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2897630,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14318580,"value":"H_l_\\_0}\n__#\"_P_"}},{"id":2897631,"event":"return","thread_id":9160,"parent_id":2897630,"elapsed":5.8299629017710686e-06,"elapsed_instrumentation":0.00021580903558060527,"return_value":{"class":"Array","value":"[1219390661, 23725, 12413, 2800, 64803, 583880915]","object_id":14318600,"size":6}},{"id":2897632,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897633,"event":"return","thread_id":9160,"parent_id":2897632,"elapsed":0.000576902,"elapsed_instrumentation":8.09860066510737e-05},{"id":2897634,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14318620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897635,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897636,"event":"return","thread_id":9160,"parent_id":2897635,"elapsed":0.000355661,"elapsed_instrumentation":0.0002164060133509338},{"id":2897637,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897638,"event":"return","thread_id":9160,"parent_id":2897637,"elapsed":0.000323659,"elapsed_instrumentation":6.484403274953365e-05},{"id":2897639,"event":"return","thread_id":9160,"parent_id":2897634,"elapsed":0.0021951529779471457,"elapsed_instrumentation":0.0001409030519425869,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2897640,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2897641,"event":"return","thread_id":9160,"parent_id":2897640,"elapsed":0.000477829,"elapsed_instrumentation":6.408803164958954e-05},{"id":2897642,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14318620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897643,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2897644,"event":"return","thread_id":9160,"parent_id":2897643,"elapsed":0.00062752,"elapsed_instrumentation":6.371899507939816e-05},{"id":2897645,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897646,"event":"return","thread_id":9160,"parent_id":2897645,"elapsed":0.000534605,"elapsed_instrumentation":7.203395944088697e-05},{"id":2897647,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14318640,"value":"#<Account:0x00007fc8e0d57950>"}},{"id":2897648,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14318640,"value":"#<Account:0x00007fc8e0d57950>"}},{"id":2897649,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440042536346, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897650,"event":"return","thread_id":9160,"parent_id":2897649,"elapsed":0.000881693,"elapsed_instrumentation":8.17480031400919e-05},{"id":2897651,"event":"return","thread_id":9160,"parent_id":2897648,"elapsed":0.001435736019629985,"elapsed_instrumentation":0.00012382998829707503},{"id":2897652,"event":"return","thread_id":9160,"parent_id":2897647,"elapsed":0.0015882989973761141,"elapsed_instrumentation":0.00020997197134420276},{"id":2897653,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897654,"event":"return","thread_id":9160,"parent_id":2897653,"elapsed":0.00062213,"elapsed_instrumentation":7.497199112549424e-05},{"id":2897655,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14318660,"value":"#<Account:0x00007fc8e0d56910>"}},{"id":2897656,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14318660,"value":"#<Account:0x00007fc8e0d56910>"}},{"id":2897657,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440042536343, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897658,"event":"return","thread_id":9160,"parent_id":2897657,"elapsed":0.000839921,"elapsed_instrumentation":8.315697778016329e-05},{"id":2897659,"event":"return","thread_id":9160,"parent_id":2897656,"elapsed":0.0014674830017611384,"elapsed_instrumentation":0.00013171904720366},{"id":2897660,"event":"return","thread_id":9160,"parent_id":2897655,"elapsed":0.0016515009920112789,"elapsed_instrumentation":0.00012560602044686675},{"id":2897661,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14318640,"value":"#<Account:0x00007fc8e0d57950>"}},{"id":2897662,"event":"return","thread_id":9160,"parent_id":2897661,"elapsed":1.693802187219262e-05,"elapsed_instrumentation":0.00011976802488788962,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897663,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14318660,"value":"#<Account:0x00007fc8e0d56910>"}},{"id":2897664,"event":"return","thread_id":9160,"parent_id":2897663,"elapsed":1.0460964404046535e-05,"elapsed_instrumentation":0.0004015160375274718,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897665,"event":"return","thread_id":9160,"parent_id":2897642,"elapsed":0.010586877004243433,"elapsed_instrumentation":0.00015729392180219293,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2897666,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897667,"event":"return","thread_id":9160,"parent_id":2897666,"elapsed":0.000510612,"elapsed_instrumentation":0.0001067540142685175},{"id":2897668,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14318700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897669,"event":"return","thread_id":9160,"parent_id":2897668,"elapsed":4.5879860408604145e-06,"elapsed_instrumentation":0.00015051703667268157,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2897670,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14318700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897671,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14318720,"value":"Cache delete: relationship:111361440042536346:111361440042536343\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897672,"event":"return","thread_id":9160,"parent_id":2897671,"elapsed":0.0006793810171075165,"elapsed_instrumentation":0.0001278039999306202,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897673,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14318740,"value":"Cache delete: relationship:111361440042536343:111361440042536346\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897674,"event":"return","thread_id":9160,"parent_id":2897673,"elapsed":0.0007153259939514101,"elapsed_instrumentation":0.00016157998470589519,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897675,"event":"return","thread_id":9160,"parent_id":2897670,"elapsed":0.0020349660189822316,"elapsed_instrumentation":0.00012058299034833908,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2897676,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14318760,"value":"#<Account:0x00007fc8e0d5be10>"}},{"id":2897677,"event":"return","thread_id":9160,"parent_id":2897676,"elapsed":2.157897688448429e-05,"elapsed_instrumentation":0.00012852402869611979,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897678,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14318760,"value":"#<Account:0x00007fc8e0d5be10>"}},{"id":2897679,"event":"return","thread_id":9160,"parent_id":2897678,"elapsed":4.4219777919352055e-06,"elapsed_instrumentation":7.356505375355482e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897680,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2897681,"event":"return","thread_id":9160,"parent_id":2897680,"elapsed":4.174013156443834e-06,"elapsed_instrumentation":5.688401870429516e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897682,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14318780,"value":"{args=>[111361440042536343, 111361440042536346], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14318800,"value":"#<Sidekiq::Client:0x00007fc932955b70>"}},{"id":2897683,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14318820,"value":"_#\u0006Y______\u001e_"}},{"id":2897684,"event":"return","thread_id":9160,"parent_id":2897683,"elapsed":4.64398181065917e-06,"elapsed_instrumentation":0.0002694750437512994,"return_value":{"class":"String","value":"c2230659a6a3a4eeaccd1e8f","object_id":14318840}},{"id":2897685,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14318860,"value":"[111361440042536343, 111361440042536346]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14318880,"value":"#<JSON::Ext::Generator::State:0x00007fc932951b88>"}},{"id":2897686,"event":"return","thread_id":9160,"parent_id":2897685,"elapsed":6.254005711525679e-06,"elapsed_instrumentation":0.00010988098802044988,"return_value":{"class":"String","value":"[111361440042536343,111361440042536346]","object_id":14318900}},{"id":2897687,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14318920,"value":"#<JSON::Ext::Parser:0x00007fc9329500a8>"}},{"id":2897688,"event":"return","thread_id":9160,"parent_id":2897687,"elapsed":7.344002369791269e-06,"elapsed_instrumentation":9.910704102367163e-05,"return_value":{"class":"Array","value":"[111361440042536343, 111361440042536346]","object_id":14318940,"size":2}},{"id":2897689,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14318960,"value":"BX_t\u0005x__v__\u001a"}},{"id":2897690,"event":"return","thread_id":9160,"parent_id":2897689,"elapsed":4.025001544505358e-06,"elapsed_instrumentation":0.000103234953712672,"return_value":{"class":"String","value":"42589e740578ce827684d21a","object_id":14318980}},{"id":2897691,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14319000,"value":"{retry=>true, queue=>pull, args=>[111361440042536343, 111361440042536346], class=>UnmergeWorker, jid=>c2230659a6a3a4eeaccd1e8f, created_at=>1699240724.3680766, id=>42589e740578ce827684d21a}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14319020,"value":"#<JSON::Ext::Generator::State:0x00007fc93296b740>"}},{"id":2897692,"event":"return","thread_id":9160,"parent_id":2897691,"elapsed":1.619703834876418e-05,"elapsed_instrumentation":0.0002037759986706078,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440042536343,111361440042536346],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14319040}},{"id":2897693,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14319060,"value":"#<JSON::Ext::Parser:0x00007fc932966718>"}},{"id":2897694,"event":"return","thread_id":9160,"parent_id":2897693,"elapsed":2.0429957658052444e-05,"elapsed_instrumentation":0.0001511239679530263,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440042536343, 111361440042536346], class=>UnmergeWorker, jid=>c2230659a6a3a4eeaccd1e8f, created_at=>1699240724.3680766, id=>42589e740578ce827684d21a}","object_id":14319080,"size":7}},{"id":2897695,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880085072687,"value":"111361440042536343","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14319100,"value":"#<UnmergeWorker:0x00007fc932961f10>"}},{"id":2897696,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14319100,"value":"#<UnmergeWorker:0x00007fc932961f10>"}},{"id":2897697,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897698,"event":"return","thread_id":9160,"parent_id":2897697,"elapsed":0.000724916,"elapsed_instrumentation":0.00011383002856746316},{"id":2897699,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897700,"event":"return","thread_id":9160,"parent_id":2897699,"elapsed":0.001004976,"elapsed_instrumentation":0.00011026900028809905},{"id":2897701,"event":"return","thread_id":9160,"parent_id":2897696,"elapsed":0.004984412051271647,"elapsed_instrumentation":0.0001389459939673543,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e0d553d0>","object_id":14319120}},{"id":2897702,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14319100,"value":"#<UnmergeWorker:0x00007fc932961f10>"}},{"id":2897703,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14319140,"value":"#<Account:0x00007fc8e0d55510>","kind":"req"},{"name":"into_account","class":"Account","object_id":14319120,"value":"#<Account:0x00007fc8e0d553d0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897704,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897705,"event":"return","thread_id":9160,"parent_id":2897704,"elapsed":8.55705002322793e-06,"elapsed_instrumentation":0.00018219498451799154,"return_value":{"class":"String","value":"feed:home:111361440042536346","object_id":14319160}},{"id":2897706,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897707,"event":"return","thread_id":9160,"parent_id":2897706,"elapsed":6.227986887097359e-06,"elapsed_instrumentation":0.00011874496703967452,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2897708,"event":"return","thread_id":9160,"parent_id":2897703,"elapsed":0.005735740996897221,"elapsed_instrumentation":0.00025691796327009797},{"id":2897709,"event":"return","thread_id":9160,"parent_id":2897702,"elapsed":0.006041889952030033,"elapsed_instrumentation":0.00014890596503391862},{"id":2897710,"event":"return","thread_id":9160,"parent_id":2897695,"elapsed":0.01153592998161912,"elapsed_instrumentation":9.183201473206282e-05},{"id":2897711,"event":"return","thread_id":9160,"parent_id":2897682,"elapsed":0.013183264003600925,"elapsed_instrumentation":0.00022051099222153425,"return_value":{"class":"String","value":"c2230659a6a3a4eeaccd1e8f","object_id":14318840}},{"id":2897712,"event":"return","thread_id":9160,"parent_id":2897627,"elapsed":0.03439533000346273,"elapsed_instrumentation":0.0007032009307295084,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d58210>","object_id":14318680}},{"id":2897713,"event":"return","thread_id":9160,"parent_id":2897626,"elapsed":0.035125568974763155,"elapsed_instrumentation":0.00010033306898549199,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d58210>","object_id":14318680}},{"id":2897714,"event":"return","thread_id":9160,"parent_id":2897625,"elapsed":0.03525651496602222,"elapsed_instrumentation":0.00012105796486139297,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d58210>","object_id":14318680}},{"id":2897715,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14319180,"value":"relationship:111361440042536344:111361440042536346","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14319200,"value":"#<UnfollowService:0x00007fc8e0caf160>"}},{"id":2897716,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14319200,"value":"#<UnfollowService:0x00007fc8e0caf160>"}},{"id":2897717,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14319220,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14319240,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897718,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897719,"event":"return","thread_id":9160,"parent_id":2897718,"elapsed":3.36900120601058e-06,"elapsed_instrumentation":0.00012252997839823365,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2897720,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14319260,"value":"\u0005\n7__pB\u0017\"\u0007_\u0019\u001d_*_"}},{"id":2897721,"event":"return","thread_id":9160,"parent_id":2897720,"elapsed":7.20401294529438e-06,"elapsed_instrumentation":0.0003730490570887923,"return_value":{"class":"Array","value":"[84555748, 35696, 16919, 8711, 33049, 496577159]","object_id":14319280,"size":6}},{"id":2897722,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897723,"event":"return","thread_id":9160,"parent_id":2897722,"elapsed":0.000674504,"elapsed_instrumentation":9.532802505418658e-05},{"id":2897724,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14319300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897725,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897726,"event":"return","thread_id":9160,"parent_id":2897725,"elapsed":0.000314107,"elapsed_instrumentation":8.223799522966146e-05},{"id":2897727,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897728,"event":"return","thread_id":9160,"parent_id":2897727,"elapsed":0.000443843,"elapsed_instrumentation":7.236498640850186e-05},{"id":2897729,"event":"return","thread_id":9160,"parent_id":2897724,"elapsed":0.0023403209634125233,"elapsed_instrumentation":0.00021805206779390574,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2897730,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2897731,"event":"return","thread_id":9160,"parent_id":2897730,"elapsed":0.000663293,"elapsed_instrumentation":7.397501030936837e-05},{"id":2897732,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14319300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897733,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2897734,"event":"return","thread_id":9160,"parent_id":2897733,"elapsed":0.000645907,"elapsed_instrumentation":6.835802923887968e-05},{"id":2897735,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897736,"event":"return","thread_id":9160,"parent_id":2897735,"elapsed":0.000502265,"elapsed_instrumentation":0.00016476400196552277},{"id":2897737,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14319320,"value":"#<Account:0x00007fc8e0d53fd0>"}},{"id":2897738,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14319320,"value":"#<Account:0x00007fc8e0d53fd0>"}},{"id":2897739,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440042536346, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897740,"event":"return","thread_id":9160,"parent_id":2897739,"elapsed":0.000799595,"elapsed_instrumentation":7.22929835319519e-05},{"id":2897741,"event":"return","thread_id":9160,"parent_id":2897738,"elapsed":0.001309316954575479,"elapsed_instrumentation":0.0001232640352100134},{"id":2897742,"event":"return","thread_id":9160,"parent_id":2897737,"elapsed":0.0015814820071682334,"elapsed_instrumentation":0.00010995200136676431},{"id":2897743,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897744,"event":"return","thread_id":9160,"parent_id":2897743,"elapsed":0.000513999,"elapsed_instrumentation":7.387698860839009e-05},{"id":2897745,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14319340,"value":"#<Account:0x00007fc8e0d53210>"}},{"id":2897746,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14319340,"value":"#<Account:0x00007fc8e0d53210>"}},{"id":2897747,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440042536344, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897748,"event":"return","thread_id":9160,"parent_id":2897747,"elapsed":0.000888188,"elapsed_instrumentation":7.860903861001134e-05},{"id":2897749,"event":"return","thread_id":9160,"parent_id":2897746,"elapsed":0.0017054479685612023,"elapsed_instrumentation":0.00011946604354307055},{"id":2897750,"event":"return","thread_id":9160,"parent_id":2897745,"elapsed":0.0020858520292676985,"elapsed_instrumentation":0.0002940159756690264},{"id":2897751,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14319320,"value":"#<Account:0x00007fc8e0d53fd0>"}},{"id":2897752,"event":"return","thread_id":9160,"parent_id":2897751,"elapsed":1.7940998077392578e-05,"elapsed_instrumentation":0.00010805402416735888,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897753,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14319340,"value":"#<Account:0x00007fc8e0d53210>"}},{"id":2897754,"event":"return","thread_id":9160,"parent_id":2897753,"elapsed":7.066992111504078e-06,"elapsed_instrumentation":6.848899647593498e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897755,"event":"return","thread_id":9160,"parent_id":2897732,"elapsed":0.01069247699342668,"elapsed_instrumentation":0.00015371502377092838,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2897756,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897757,"event":"return","thread_id":9160,"parent_id":2897756,"elapsed":0.000410084,"elapsed_instrumentation":7.176504004746675e-05},{"id":2897758,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14319380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897759,"event":"return","thread_id":9160,"parent_id":2897758,"elapsed":3.5040429793298244e-06,"elapsed_instrumentation":0.00011211802484467626,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2897760,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14319380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897761,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14319400,"value":"Cache delete: relationship:111361440042536346:111361440042536344\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897762,"event":"return","thread_id":9160,"parent_id":2897761,"elapsed":0.0006286110146902502,"elapsed_instrumentation":0.00011581496801227331,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897763,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14319420,"value":"Cache delete: relationship:111361440042536344:111361440042536346\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897764,"event":"return","thread_id":9160,"parent_id":2897763,"elapsed":0.0005106989992782474,"elapsed_instrumentation":0.00018146703951060772,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897765,"event":"return","thread_id":9160,"parent_id":2897760,"elapsed":0.001738841994665563,"elapsed_instrumentation":0.0001328859943896532,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2897766,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14319440,"value":"#<Account:0x00007fc8e0d5bcd0>"}},{"id":2897767,"event":"return","thread_id":9160,"parent_id":2897766,"elapsed":1.7210026271641254e-05,"elapsed_instrumentation":0.00022869097301736474,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897768,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14319440,"value":"#<Account:0x00007fc8e0d5bcd0>"}},{"id":2897769,"event":"return","thread_id":9160,"parent_id":2897768,"elapsed":3.776978701353073e-06,"elapsed_instrumentation":6.949197268113494e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897770,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2897771,"event":"return","thread_id":9160,"parent_id":2897770,"elapsed":4.030996933579445e-06,"elapsed_instrumentation":5.882600089535117e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897772,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14319460,"value":"{args=>[111361440042536344, 111361440042536346], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14319480,"value":"#<Sidekiq::Client:0x00007fc932886280>"}},{"id":2897773,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14319500,"value":"\t\u001c__\f__5__D_"}},{"id":2897774,"event":"return","thread_id":9160,"parent_id":2897773,"elapsed":4.900968633592129e-06,"elapsed_instrumentation":0.00011283298954367638,"return_value":{"class":"String","value":"091cd49d0cc6bd35ff8e44f1","object_id":14319520}},{"id":2897775,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14319540,"value":"[111361440042536344, 111361440042536346]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14319560,"value":"#<JSON::Ext::Generator::State:0x00007fc9328834e0>"}},{"id":2897776,"event":"return","thread_id":9160,"parent_id":2897775,"elapsed":6.0219899751245975e-06,"elapsed_instrumentation":0.00010131602175533772,"return_value":{"class":"String","value":"[111361440042536344,111361440042536346]","object_id":14319580}},{"id":2897777,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14319600,"value":"#<JSON::Ext::Parser:0x00007fc9328823d8>"}},{"id":2897778,"event":"return","thread_id":9160,"parent_id":2897777,"elapsed":5.932990461587906e-06,"elapsed_instrumentation":8.364598033949733e-05,"return_value":{"class":"Array","value":"[111361440042536344, 111361440042536346]","object_id":14319620,"size":2}},{"id":2897779,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14319640,"value":"__]h\u0011\u0019_Z7\u0012__"}},{"id":2897780,"event":"return","thread_id":9160,"parent_id":2897779,"elapsed":3.8209836930036545e-06,"elapsed_instrumentation":0.00010677700629457831,"return_value":{"class":"String","value":"edcb5d681119aa5a3712fcdc","object_id":14319660}},{"id":2897781,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14319680,"value":"{retry=>true, queue=>pull, args=>[111361440042536344, 111361440042536346], class=>UnmergeWorker, jid=>091cd49d0cc6bd35ff8e44f1, created_at=>1699240724.4039764, id=>edcb5d681119aa5a3712fcdc}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14319700,"value":"#<JSON::Ext::Generator::State:0x00007fc932880420>"}},{"id":2897782,"event":"return","thread_id":9160,"parent_id":2897781,"elapsed":2.0922976545989513e-05,"elapsed_instrumentation":0.0004499040078371763,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440042536344,111361440042536346],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14319720}},{"id":2897783,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14319740,"value":"#<JSON::Ext::Parser:0x00007fc9328ad358>"}},{"id":2897784,"event":"return","thread_id":9160,"parent_id":2897783,"elapsed":2.4014967493712902e-05,"elapsed_instrumentation":0.00019070302369073033,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440042536344, 111361440042536346], class=>UnmergeWorker, jid=>091cd49d0cc6bd35ff8e44f1, created_at=>1699240724.4039764, id=>edcb5d681119aa5a3712fcdc}","object_id":14319760,"size":7}},{"id":2897785,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880085072689,"value":"111361440042536344","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14319780,"value":"#<UnmergeWorker:0x00007fc9328aa450>"}},{"id":2897786,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14319780,"value":"#<UnmergeWorker:0x00007fc9328aa450>"}},{"id":2897787,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897788,"event":"return","thread_id":9160,"parent_id":2897787,"elapsed":0.000904821,"elapsed_instrumentation":0.00012469402281567454},{"id":2897789,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897790,"event":"return","thread_id":9160,"parent_id":2897789,"elapsed":0.000723082,"elapsed_instrumentation":0.00010229001054540277},{"id":2897791,"event":"return","thread_id":9160,"parent_id":2897786,"elapsed":0.0049654110334813595,"elapsed_instrumentation":0.0001320539740845561,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e0d51cd0>","object_id":14319800}},{"id":2897792,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14319780,"value":"#<UnmergeWorker:0x00007fc9328aa450>"}},{"id":2897793,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14319820,"value":"#<Account:0x00007fc8e0d51e10>","kind":"req"},{"name":"into_account","class":"Account","object_id":14319800,"value":"#<Account:0x00007fc8e0d51cd0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897794,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897795,"event":"return","thread_id":9160,"parent_id":2897794,"elapsed":5.320005584508181e-06,"elapsed_instrumentation":0.00011302297934889793,"return_value":{"class":"String","value":"feed:home:111361440042536346","object_id":14319840}},{"id":2897796,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897797,"event":"return","thread_id":9160,"parent_id":2897796,"elapsed":4.803005140274763e-06,"elapsed_instrumentation":7.481203647330403e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2897798,"event":"return","thread_id":9160,"parent_id":2897793,"elapsed":0.004180209012702107,"elapsed_instrumentation":0.00027508800849318504},{"id":2897799,"event":"return","thread_id":9160,"parent_id":2897792,"elapsed":0.004496527020819485,"elapsed_instrumentation":0.00010372500400990248},{"id":2897800,"event":"return","thread_id":9160,"parent_id":2897785,"elapsed":0.009753214952070266,"elapsed_instrumentation":8.606899064034224e-05},{"id":2897801,"event":"return","thread_id":9160,"parent_id":2897772,"elapsed":0.011281821003649384,"elapsed_instrumentation":0.00024866400053724647,"return_value":{"class":"String","value":"091cd49d0cc6bd35ff8e44f1","object_id":14319520}},{"id":2897802,"event":"return","thread_id":9160,"parent_id":2897717,"elapsed":0.032917421020101756,"elapsed_instrumentation":0.0003032610402442515,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d54890>","object_id":14319360}},{"id":2897803,"event":"return","thread_id":9160,"parent_id":2897716,"elapsed":0.03335632698144764,"elapsed_instrumentation":0.00012621103087440133,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d54890>","object_id":14319360}},{"id":2897804,"event":"return","thread_id":9160,"parent_id":2897715,"elapsed":0.0335227339528501,"elapsed_instrumentation":0.00017675303388386965,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d54890>","object_id":14319360}},{"id":2897805,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14319860,"value":"relationship:111361440042536345:111361440042536346","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14319880,"value":"#<UnfollowService:0x00007fc8e0ca43a0>"}},{"id":2897806,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14319880,"value":"#<UnfollowService:0x00007fc8e0ca43a0>"}},{"id":2897807,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14319900,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14319920,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897808,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897809,"event":"return","thread_id":9160,"parent_id":2897808,"elapsed":6.2889885157346725e-06,"elapsed_instrumentation":0.0003586800303310156,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2897810,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14319940,"value":"wf}FCa_D__X_e_A\u000e"}},{"id":2897811,"event":"return","thread_id":9160,"parent_id":2897810,"elapsed":1.0918010957539082e-05,"elapsed_instrumentation":0.0003117569722235203,"return_value":{"class":"Array","value":"[2003205446, 17249, 44868, 42992, 22756, 1708736782]","object_id":14319960,"size":6}},{"id":2897812,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897813,"event":"return","thread_id":9160,"parent_id":2897812,"elapsed":0.001021862,"elapsed_instrumentation":0.00017045001732185483},{"id":2897814,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14319980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897815,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897816,"event":"return","thread_id":9160,"parent_id":2897815,"elapsed":0.00071299,"elapsed_instrumentation":0.0001332840183749795},{"id":2897817,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897818,"event":"return","thread_id":9160,"parent_id":2897817,"elapsed":0.000532373,"elapsed_instrumentation":0.00011820497456938028},{"id":2897819,"event":"return","thread_id":9160,"parent_id":2897814,"elapsed":0.004297105013392866,"elapsed_instrumentation":0.0005352820153348148,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2897820,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14320000,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14320020,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2897821,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14320040,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14320060,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2897822,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2897823,"event":"return","thread_id":13276700,"parent_id":2897822,"elapsed":1.0895018931478262e-05,"elapsed_instrumentation":0.00021309999283403158,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2897824,"event":"return","thread_id":13276700,"parent_id":2897821,"elapsed":0.0002678859746083617,"elapsed_instrumentation":0.00020546099403873086,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2897825,"event":"return","thread_id":13276700,"parent_id":2897820,"elapsed":0.0005146290059201419,"elapsed_instrumentation":0.00040057196747511625,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2897826,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2897827,"event":"return","thread_id":9160,"parent_id":2897826,"elapsed":0.001595161,"elapsed_instrumentation":0.0002801389782689512},{"id":2897828,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14319980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897829,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2897830,"event":"return","thread_id":9160,"parent_id":2897829,"elapsed":0.001185361,"elapsed_instrumentation":0.0002515059895813465},{"id":2897831,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897832,"event":"return","thread_id":9160,"parent_id":2897831,"elapsed":0.000849194,"elapsed_instrumentation":0.000277443032246083},{"id":2897833,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14320080,"value":"#<Account:0x00007fc8e0d50790>"}},{"id":2897834,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14320080,"value":"#<Account:0x00007fc8e0d50790>"}},{"id":2897835,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440042536346, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897836,"event":"return","thread_id":9160,"parent_id":2897835,"elapsed":0.000963935,"elapsed_instrumentation":0.00018813397036865354},{"id":2897837,"event":"return","thread_id":9160,"parent_id":2897834,"elapsed":0.0021116589778102934,"elapsed_instrumentation":0.000151443004142493},{"id":2897838,"event":"return","thread_id":9160,"parent_id":2897833,"elapsed":0.0023111850023269653,"elapsed_instrumentation":0.0003076840075664222},{"id":2897839,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897840,"event":"return","thread_id":9160,"parent_id":2897839,"elapsed":0.000688652,"elapsed_instrumentation":0.00019647099543362856},{"id":2897841,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14320100,"value":"#<Account:0x00007fc8e0d6f8c0>"}},{"id":2897842,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14320100,"value":"#<Account:0x00007fc8e0d6f8c0>"}},{"id":2897843,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440042536345, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897844,"event":"return","thread_id":9160,"parent_id":2897843,"elapsed":0.000914116,"elapsed_instrumentation":0.00010811304673552513},{"id":2897845,"event":"return","thread_id":9160,"parent_id":2897842,"elapsed":0.0017433770117349923,"elapsed_instrumentation":9.873195085674524e-05},{"id":2897846,"event":"return","thread_id":9160,"parent_id":2897841,"elapsed":0.0018730649608187377,"elapsed_instrumentation":0.00017198704881593585},{"id":2897847,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14320080,"value":"#<Account:0x00007fc8e0d50790>"}},{"id":2897848,"event":"return","thread_id":9160,"parent_id":2897847,"elapsed":1.7601007129997015e-05,"elapsed_instrumentation":0.00010632298653945327,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897849,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14320100,"value":"#<Account:0x00007fc8e0d6f8c0>"}},{"id":2897850,"event":"return","thread_id":9160,"parent_id":2897849,"elapsed":7.306982297450304e-06,"elapsed_instrumentation":6.671098526567221e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897851,"event":"return","thread_id":9160,"parent_id":2897828,"elapsed":0.01598653703695163,"elapsed_instrumentation":0.0002745699603110552,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2897852,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897853,"event":"return","thread_id":9160,"parent_id":2897852,"elapsed":0.000392142,"elapsed_instrumentation":8.161598816514015e-05},{"id":2897854,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14320140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897855,"event":"return","thread_id":9160,"parent_id":2897854,"elapsed":3.7889694795012474e-06,"elapsed_instrumentation":0.00020897598005831242,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2897856,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14320140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897857,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14320160,"value":"Cache delete: relationship:111361440042536346:111361440042536345\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897858,"event":"return","thread_id":9160,"parent_id":2897857,"elapsed":0.0007386539946310222,"elapsed_instrumentation":0.0002122460282407701,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897859,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14320180,"value":"Cache delete: relationship:111361440042536345:111361440042536346\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897860,"event":"return","thread_id":9160,"parent_id":2897859,"elapsed":0.0006014489918015897,"elapsed_instrumentation":0.00014466303400695324,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897861,"event":"return","thread_id":9160,"parent_id":2897856,"elapsed":0.002132217981852591,"elapsed_instrumentation":0.0003301299875602126,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2897862,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14320200,"value":"#<Account:0x00007fc8e0d5bb90>"}},{"id":2897863,"event":"return","thread_id":9160,"parent_id":2897862,"elapsed":1.7392972949892282e-05,"elapsed_instrumentation":9.405805030837655e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897864,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14320200,"value":"#<Account:0x00007fc8e0d5bb90>"}},{"id":2897865,"event":"return","thread_id":9160,"parent_id":2897864,"elapsed":3.826979082077742e-06,"elapsed_instrumentation":6.0335034504532814e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897866,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2897867,"event":"return","thread_id":9160,"parent_id":2897866,"elapsed":3.795023076236248e-06,"elapsed_instrumentation":5.527702160179615e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897868,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14320220,"value":"{args=>[111361440042536345, 111361440042536346], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14320240,"value":"#<Sidekiq::Client:0x00007fc9327b8998>"}},{"id":2897869,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14320260,"value":".__e_m_y__Z_"}},{"id":2897870,"event":"return","thread_id":9160,"parent_id":2897869,"elapsed":4.6639470383524895e-06,"elapsed_instrumentation":0.00010717601981014013,"return_value":{"class":"String","value":"2eee8865c36deb79c0a05af0","object_id":14320280}},{"id":2897871,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14320300,"value":"[111361440042536345, 111361440042536346]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14320320,"value":"#<JSON::Ext::Generator::State:0x00007fc9327b4f78>"}},{"id":2897872,"event":"return","thread_id":9160,"parent_id":2897871,"elapsed":7.040973287075758e-06,"elapsed_instrumentation":0.00023044703993946314,"return_value":{"class":"String","value":"[111361440042536345,111361440042536346]","object_id":14320340}},{"id":2897873,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14320360,"value":"#<JSON::Ext::Parser:0x00007fc9327b3ee8>"}},{"id":2897874,"event":"return","thread_id":9160,"parent_id":2897873,"elapsed":5.548994522541761e-06,"elapsed_instrumentation":7.95579981058836e-05,"return_value":{"class":"Array","value":"[111361440042536345, 111361440042536346]","object_id":14320380,"size":2}},{"id":2897875,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14320400,"value":"g__gTqY_=__"}},{"id":2897876,"event":"return","thread_id":9160,"parent_id":2897875,"elapsed":3.5660341382026672e-06,"elapsed_instrumentation":0.00010166392894461751,"return_value":{"class":"String","value":"67f3e767547f7159aa3dc0a2","object_id":14320420}},{"id":2897877,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14320440,"value":"{retry=>true, queue=>pull, args=>[111361440042536345, 111361440042536346], class=>UnmergeWorker, jid=>2eee8865c36deb79c0a05af0, created_at=>1699240724.4514787, id=>67f3e767547f7159aa3dc0a2}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14320460,"value":"#<JSON::Ext::Generator::State:0x00007fc9327b0dd8>"}},{"id":2897878,"event":"return","thread_id":9160,"parent_id":2897877,"elapsed":1.145701389759779e-05,"elapsed_instrumentation":0.00018856202950701118,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440042536345,111361440042536346],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14320480}},{"id":2897879,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14320500,"value":"#<JSON::Ext::Parser:0x00007fc93271c138>"}},{"id":2897880,"event":"return","thread_id":9160,"parent_id":2897879,"elapsed":2.156803384423256e-05,"elapsed_instrumentation":0.0001894489978440106,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440042536345, 111361440042536346], class=>UnmergeWorker, jid=>2eee8865c36deb79c0a05af0, created_at=>1699240724.4514787, id=>67f3e767547f7159aa3dc0a2}","object_id":14320520,"size":7}},{"id":2897881,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880085072691,"value":"111361440042536345","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14320540,"value":"#<UnmergeWorker:0x00007fc932718c40>"}},{"id":2897882,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14320540,"value":"#<UnmergeWorker:0x00007fc932718c40>"}},{"id":2897883,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897884,"event":"return","thread_id":9160,"parent_id":2897883,"elapsed":0.000636299,"elapsed_instrumentation":8.742202771827579e-05},{"id":2897885,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897886,"event":"return","thread_id":9160,"parent_id":2897885,"elapsed":0.000844036,"elapsed_instrumentation":0.00028207298601046205},{"id":2897887,"event":"return","thread_id":9160,"parent_id":2897882,"elapsed":0.005241822043899447,"elapsed_instrumentation":0.00016129889991134405,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e0d6e380>","object_id":14320560}},{"id":2897888,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14320540,"value":"#<UnmergeWorker:0x00007fc932718c40>"}},{"id":2897889,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14320580,"value":"#<Account:0x00007fc8e0d6e4c0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14320560,"value":"#<Account:0x00007fc8e0d6e380>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897890,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897891,"event":"return","thread_id":9160,"parent_id":2897890,"elapsed":1.0845018550753593e-05,"elapsed_instrumentation":0.00022052996791899204,"return_value":{"class":"String","value":"feed:home:111361440042536346","object_id":14320600}},{"id":2897892,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897893,"event":"return","thread_id":9160,"parent_id":2897892,"elapsed":8.12998041510582e-06,"elapsed_instrumentation":0.00014385301619768143,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2897894,"event":"return","thread_id":9160,"parent_id":2897889,"elapsed":0.0063026759889908135,"elapsed_instrumentation":0.00021636998280882835},{"id":2897895,"event":"return","thread_id":9160,"parent_id":2897888,"elapsed":0.006591383018530905,"elapsed_instrumentation":0.00016108097042888403},{"id":2897896,"event":"return","thread_id":9160,"parent_id":2897881,"elapsed":0.012289442005567253,"elapsed_instrumentation":7.909402484074235e-05},{"id":2897897,"event":"return","thread_id":9160,"parent_id":2897868,"elapsed":0.014025371987372637,"elapsed_instrumentation":0.0002044809516519308,"return_value":{"class":"String","value":"2eee8865c36deb79c0a05af0","object_id":14320280}},{"id":2897898,"event":"return","thread_id":9160,"parent_id":2897807,"elapsed":0.048863673000596464,"elapsed_instrumentation":0.0003710599849000573,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d51050>","object_id":14320120}},{"id":2897899,"event":"return","thread_id":9160,"parent_id":2897806,"elapsed":0.04929762496612966,"elapsed_instrumentation":0.0005025769933126867,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d51050>","object_id":14320120}},{"id":2897900,"event":"return","thread_id":9160,"parent_id":2897805,"elapsed":0.0499484539614059,"elapsed_instrumentation":0.00030688801780343056,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d51050>","object_id":14320120}},{"id":2897901,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14320620,"value":"{args=>[111361440042536346], class=>BootstrapTimelineWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14320640,"value":"#<Sidekiq::Client:0x00007fc93275b6d0>"}},{"id":2897902,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14320660,"value":"kZ_5_P(4R_Z_"}},{"id":2897903,"event":"return","thread_id":9160,"parent_id":2897902,"elapsed":7.072987500578165e-06,"elapsed_instrumentation":0.00015295197954401374,"return_value":{"class":"String","value":"6b5a8235bf502834525f5ac0","object_id":14320680}},{"id":2897904,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14320700,"value":"[111361440042536346]","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14320720,"value":"#<JSON::Ext::Generator::State:0x00007fc932757580>"}},{"id":2897905,"event":"return","thread_id":9160,"parent_id":2897904,"elapsed":6.669957656413317e-06,"elapsed_instrumentation":0.00010904204100370407,"return_value":{"class":"String","value":"[111361440042536346]","object_id":14320740}},{"id":2897906,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14320760,"value":"#<JSON::Ext::Parser:0x00007fc932755820>"}},{"id":2897907,"event":"return","thread_id":9160,"parent_id":2897906,"elapsed":5.535024683922529e-06,"elapsed_instrumentation":7.368595106527209e-05,"return_value":{"class":"Array","value":"[111361440042536346]","object_id":14320780,"size":1}},{"id":2897908,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14320800,"value":"\u0014_7_s_0 \u001f_:R"}},{"id":2897909,"event":"return","thread_id":9160,"parent_id":2897908,"elapsed":3.2170210033655167e-06,"elapsed_instrumentation":0.00011759402696043253,"return_value":{"class":"String","value":"149737e973d230201fc83a52","object_id":14320820}},{"id":2897910,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14320840,"value":"{retry=>true, queue=>default, args=>[111361440042536346], class=>BootstrapTimelineWorker, jid=>6b5a8235bf502834525f5ac0, created_at=>1699240724.4669642, id=>149737e973d230201fc83a52}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14320860,"value":"#<JSON::Ext::Generator::State:0x00007fc9327520f8>"}},{"id":2897911,"event":"return","thread_id":9160,"parent_id":2897910,"elapsed":1.1583033483475447e-05,"elapsed_instrumentation":0.0005579019780270755,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111361440042536346],\"class\":\"BootstrapTimelineWorker\",\"jid\": (...91 more characters)","object_id":14320880}},{"id":2897912,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14320900,"value":"#<JSON::Ext::Parser:0x00007fc9326dd758>"}},{"id":2897913,"event":"return","thread_id":9160,"parent_id":2897912,"elapsed":2.1033978555351496e-05,"elapsed_instrumentation":0.0001575220376253128,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111361440042536346], class=>BootstrapTimelineWorker, jid=>6b5a8235bf502834525f5ac0, created_at=>1699240724.4669642, id=>149737e973d230201fc83a52}","object_id":14320920,"size":7}},{"id":2897914,"event":"call","thread_id":9160,"defined_class":"BootstrapTimelineWorker","method_id":"perform","path":"app/workers/bootstrap_timeline_worker.rb","lineno":6,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"}],"receiver":{"class":"BootstrapTimelineWorker","object_id":14320940,"value":"#<BootstrapTimelineWorker:0x00007fc9326da238>"}},{"id":2897915,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897916,"event":"return","thread_id":9160,"parent_id":2897915,"elapsed":0.000663069,"elapsed_instrumentation":0.0001121099921874702},{"id":2897917,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897918,"event":"return","thread_id":9160,"parent_id":2897917,"elapsed":0.000853313,"elapsed_instrumentation":0.00024233001749962568},{"id":2897919,"event":"call","thread_id":9160,"defined_class":"User","method_id":"those_who_can","path":"app/models/user.rb","lineno":143,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14320960,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":35120,"value":"User"}},{"id":2897920,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"that_can","path":"app/models/user_role.rb","lineno":111,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14320980,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2897921,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\"","database_type":"postgres"}},{"id":2897922,"event":"return","thread_id":9160,"parent_id":2897921,"elapsed":0.000910303,"elapsed_instrumentation":0.00011713395360857248},{"id":2897923,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14321000,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14321020,"value":"#<UserRole:0x00007fc8e0d6cbc0>"}},{"id":2897924,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14321020,"value":"#<UserRole:0x00007fc8e0d6cbc0>"}},{"id":2897925,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14321020,"value":"#<UserRole:0x00007fc8e0d6cbc0>"}},{"id":2897926,"event":"return","thread_id":9160,"parent_id":2897925,"elapsed":1.9238970708101988e-05,"elapsed_instrumentation":7.13620102033019e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897927,"event":"return","thread_id":9160,"parent_id":2897924,"elapsed":0.00011437101056799293,"elapsed_instrumentation":6.569601828232408e-05,"return_value":{"class":"Integer","value":"65536","object_id":131073}},{"id":2897928,"event":"return","thread_id":9160,"parent_id":2897923,"elapsed":0.00020506797591224313,"elapsed_instrumentation":0.00016029999824240804},{"id":2897929,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14321040,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14321060,"value":"#<UserRole:0x00007fc8e0d6ca80>"}},{"id":2897930,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14321060,"value":"#<UserRole:0x00007fc8e0d6ca80>"}},{"id":2897931,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14321060,"value":"#<UserRole:0x00007fc8e0d6ca80>"}},{"id":2897932,"event":"return","thread_id":9160,"parent_id":2897931,"elapsed":1.3595970813184977e-05,"elapsed_instrumentation":5.1273033022880554e-05},{"id":2897933,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14321060,"value":"#<UserRole:0x00007fc8e0d6ca80>"}},{"id":2897934,"event":"return","thread_id":9160,"parent_id":2897933,"elapsed":4.85801137983799e-06,"elapsed_instrumentation":5.0168950110673904e-05},{"id":2897935,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2897936,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897937,"event":"return","thread_id":9160,"parent_id":2897936,"elapsed":0.000731311,"elapsed_instrumentation":0.00010796199785545468},{"id":2897938,"event":"return","thread_id":9160,"parent_id":2897935,"elapsed":0.0021240859641693532,"elapsed_instrumentation":0.00012506102211773396,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fc8e0d6c580>","object_id":14321080}},{"id":2897939,"event":"return","thread_id":9160,"parent_id":2897930,"elapsed":0.0024357729707844555,"elapsed_instrumentation":6.934604607522488e-05,"return_value":{"class":"Integer","value":"66844","object_id":133689}},{"id":2897940,"event":"return","thread_id":9160,"parent_id":2897929,"elapsed":0.002528887998778373,"elapsed_instrumentation":0.00015576399164274335,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897941,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14321100,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14321120,"value":"#<UserRole:0x00007fc8e0d6c940>"}},{"id":2897942,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14321120,"value":"#<UserRole:0x00007fc8e0d6c940>"}},{"id":2897943,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14321120,"value":"#<UserRole:0x00007fc8e0d6c940>"}},{"id":2897944,"event":"return","thread_id":9160,"parent_id":2897943,"elapsed":1.1965981684625149e-05,"elapsed_instrumentation":4.9358000978827477e-05},{"id":2897945,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14321120,"value":"#<UserRole:0x00007fc8e0d6c940>"}},{"id":2897946,"event":"return","thread_id":9160,"parent_id":2897945,"elapsed":4.577974323183298e-06,"elapsed_instrumentation":4.8040004912763834e-05},{"id":2897947,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2897948,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897949,"event":"return","thread_id":9160,"parent_id":2897948,"elapsed":0.000392349,"elapsed_instrumentation":8.490297477692366e-05},{"id":2897950,"event":"return","thread_id":9160,"parent_id":2897947,"elapsed":0.0010388929513283074,"elapsed_instrumentation":0.00010491098510101438,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fc8e0d6c300>","object_id":14321140}},{"id":2897951,"event":"return","thread_id":9160,"parent_id":2897942,"elapsed":0.0013182160328142345,"elapsed_instrumentation":7.293897215276957e-05,"return_value":{"class":"Integer","value":"1048572","object_id":2097145}},{"id":2897952,"event":"return","thread_id":9160,"parent_id":2897941,"elapsed":0.0014150869683362544,"elapsed_instrumentation":0.0001749380026012659,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897953,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14321160,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14321180,"value":"#<UserRole:0x00007fc8e0d6c800>"}},{"id":2897954,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14321180,"value":"#<UserRole:0x00007fc8e0d6c800>"}},{"id":2897955,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14321180,"value":"#<UserRole:0x00007fc8e0d6c800>"}},{"id":2897956,"event":"return","thread_id":9160,"parent_id":2897955,"elapsed":8.97102290764451e-06,"elapsed_instrumentation":4.784902557730675e-05},{"id":2897957,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14321180,"value":"#<UserRole:0x00007fc8e0d6c800>"}},{"id":2897958,"event":"return","thread_id":9160,"parent_id":2897957,"elapsed":4.165980499237776e-06,"elapsed_instrumentation":4.532397724688053e-05},{"id":2897959,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2897960,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897961,"event":"return","thread_id":9160,"parent_id":2897960,"elapsed":0.000434342,"elapsed_instrumentation":8.169404463842511e-05},{"id":2897962,"event":"return","thread_id":9160,"parent_id":2897959,"elapsed":0.0011677560396492481,"elapsed_instrumentation":9.947799844667315e-05,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fc8e0d6bf40>","object_id":14321200}},{"id":2897963,"event":"return","thread_id":9160,"parent_id":2897954,"elapsed":0.001430572010576725,"elapsed_instrumentation":6.385298911482096e-05,"return_value":{"class":"Integer","value":"1048575","object_id":2097151}},{"id":2897964,"event":"return","thread_id":9160,"parent_id":2897953,"elapsed":0.0015140720061026514,"elapsed_instrumentation":0.00010248000035062432,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897965,"event":"return","thread_id":9160,"parent_id":2897920,"elapsed":0.009028824046254158,"elapsed_instrumentation":0.000263156951405108,"return_value":{"class":"Array","value":"[#<UserRole:0x00007fc8e0d6ca80>, #<UserRole:0x00007fc8e0d6c940>, #<UserRole:0x00007fc8e0d6c800>]","object_id":14321220,"size":3}},{"id":2897966,"event":"return","thread_id":9160,"parent_id":2897919,"elapsed":0.009599971992429346,"elapsed_instrumentation":0.0005269379471428692,"return_value":{"class":"ActiveRecord::Relation","value":"#<User::ActiveRecord_Relation:0x00007fc8e0ed1f60>","object_id":14321240}},{"id":2897967,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"role_id\" IN ($1, $2, $3) ORDER BY \"users\".\"id\" ASC LIMIT $4","database_type":"postgres"}},{"id":2897968,"event":"return","thread_id":9160,"parent_id":2897967,"elapsed":0.000992195,"elapsed_instrumentation":9.32120019569993e-05},{"id":2897969,"event":"return","thread_id":9160,"parent_id":2897914,"elapsed":0.02091294899582863,"elapsed_instrumentation":7.788202492520213e-05},{"id":2897970,"event":"return","thread_id":9160,"parent_id":2897901,"elapsed":0.022634705994278193,"elapsed_instrumentation":0.0002707599778659642,"return_value":{"class":"String","value":"6b5a8235bf502834525f5ac0","object_id":14320680}},{"id":2897971,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2897972,"event":"return","thread_id":9160,"parent_id":2897971,"elapsed":0.001673508,"elapsed_instrumentation":9.217404294759035e-05},{"id":2897973,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14321260,"value":"relationship:111361440042536336:111361440042536346","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14321280,"value":"#<UnfollowService:0x00007fc8e0cb2ea0>"}},{"id":2897974,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14321280,"value":"#<UnfollowService:0x00007fc8e0cb2ea0>"}},{"id":2897975,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14321300,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14321320,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897976,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897977,"event":"return","thread_id":9160,"parent_id":2897976,"elapsed":2.7999631129205227e-06,"elapsed_instrumentation":7.063703378662467e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2897978,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14321340,"value":"t>_(______\u0013\u0017_MY)"}},{"id":2897979,"event":"return","thread_id":9160,"parent_id":2897978,"elapsed":6.945978384464979e-06,"elapsed_instrumentation":0.00013256201054900885,"return_value":{"class":"Array","value":"[1950262568, 47755, 24481, 45227, 4887, 2857195817]","object_id":14321360,"size":6}},{"id":2897980,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897981,"event":"return","thread_id":9160,"parent_id":2897980,"elapsed":0.000520708,"elapsed_instrumentation":8.448300650343299e-05},{"id":2897982,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14321380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897983,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897984,"event":"return","thread_id":9160,"parent_id":2897983,"elapsed":0.000466283,"elapsed_instrumentation":0.00010187400039285421},{"id":2897985,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897986,"event":"return","thread_id":9160,"parent_id":2897985,"elapsed":0.000518196,"elapsed_instrumentation":7.927900878712535e-05},{"id":2897987,"event":"return","thread_id":9160,"parent_id":2897982,"elapsed":0.0028956420137546957,"elapsed_instrumentation":0.00018661393551155925,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2897988,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2897989,"event":"return","thread_id":9160,"parent_id":2897988,"elapsed":0.000617993,"elapsed_instrumentation":7.618602830916643e-05},{"id":2897990,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14321380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897991,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2897992,"event":"return","thread_id":9160,"parent_id":2897991,"elapsed":0.00048896,"elapsed_instrumentation":7.148797158151865e-05},{"id":2897993,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897994,"event":"return","thread_id":9160,"parent_id":2897993,"elapsed":0.000445712,"elapsed_instrumentation":6.743497215211391e-05},{"id":2897995,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14321400,"value":"#<Account:0x00007fc8e0d69b00>"}},{"id":2897996,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14321400,"value":"#<Account:0x00007fc8e0d69b00>"}},{"id":2897997,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440042536336, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897998,"event":"return","thread_id":9160,"parent_id":2897997,"elapsed":0.000919872,"elapsed_instrumentation":8.575298124924302e-05},{"id":2897999,"event":"return","thread_id":9160,"parent_id":2897996,"elapsed":0.0018349500023759902,"elapsed_instrumentation":9.596394374966621e-05},{"id":2898000,"event":"return","thread_id":9160,"parent_id":2897995,"elapsed":0.00195890199393034,"elapsed_instrumentation":0.000151034037116915},{"id":2898001,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898002,"event":"return","thread_id":9160,"parent_id":2898001,"elapsed":0.00048618,"elapsed_instrumentation":9.161402704194188e-05},{"id":2898003,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14321420,"value":"#<Account:0x00007fc8e0d68ac0>"}},{"id":2898004,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14321420,"value":"#<Account:0x00007fc8e0d68ac0>"}},{"id":2898005,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440042536346, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898006,"event":"return","thread_id":9160,"parent_id":2898005,"elapsed":0.000855568,"elapsed_instrumentation":8.894299389794469e-05},{"id":2898007,"event":"return","thread_id":9160,"parent_id":2898004,"elapsed":0.0015472500235773623,"elapsed_instrumentation":0.00010436598677188158},{"id":2898008,"event":"return","thread_id":9160,"parent_id":2898003,"elapsed":0.0016875200089998543,"elapsed_instrumentation":0.00012008799239993095},{"id":2898009,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14321400,"value":"#<Account:0x00007fc8e0d69b00>"}},{"id":2898010,"event":"return","thread_id":9160,"parent_id":2898009,"elapsed":1.786800567060709e-05,"elapsed_instrumentation":0.00011431099846959114,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898011,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14321420,"value":"#<Account:0x00007fc8e0d68ac0>"}},{"id":2898012,"event":"return","thread_id":9160,"parent_id":2898011,"elapsed":8.417991921305656e-06,"elapsed_instrumentation":8.126901229843497e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898013,"event":"return","thread_id":9160,"parent_id":2897990,"elapsed":0.010287083045113832,"elapsed_instrumentation":0.00017544400179758668,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2898014,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898015,"event":"return","thread_id":9160,"parent_id":2898014,"elapsed":0.000471842,"elapsed_instrumentation":0.00011650094529613853},{"id":2898016,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14321460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898017,"event":"return","thread_id":9160,"parent_id":2898016,"elapsed":7.188995368778706e-06,"elapsed_instrumentation":0.00034553295699879527,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2898018,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14321460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898019,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14321480,"value":"Cache delete: relationship:111361440042536336:111361440042536346\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898020,"event":"return","thread_id":9160,"parent_id":2898019,"elapsed":0.012457198987249285,"elapsed_instrumentation":0.0002688919776119292,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898021,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14321500,"value":"Cache delete: relationship:111361440042536346:111361440042536336\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898022,"event":"return","thread_id":9160,"parent_id":2898021,"elapsed":0.0005033389898017049,"elapsed_instrumentation":0.00019833300029858947,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898023,"event":"return","thread_id":9160,"parent_id":2898018,"elapsed":0.013880177983082831,"elapsed_instrumentation":0.0001525209518149495,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2898024,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2898025,"event":"return","thread_id":9160,"parent_id":2898024,"elapsed":1.1144962627440691e-05,"elapsed_instrumentation":9.773805504664779e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898026,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2898027,"event":"return","thread_id":9160,"parent_id":2898026,"elapsed":3.579945769160986e-06,"elapsed_instrumentation":6.036402191966772e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898028,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14321520,"value":"#<Account:0x00007fc8e0d6ac80>"}},{"id":2898029,"event":"return","thread_id":9160,"parent_id":2898028,"elapsed":1.2313015758991241e-05,"elapsed_instrumentation":5.678297020494938e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898030,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14321540,"value":"{args=>[111361440042536346, 111361440042536336], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14321560,"value":"#<Sidekiq::Client:0x00007fc932669650>"}},{"id":2898031,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14321580,"value":"_aZ._O______"}},{"id":2898032,"event":"return","thread_id":9160,"parent_id":2898031,"elapsed":4.197994712740183e-06,"elapsed_instrumentation":0.00011009705485776067,"return_value":{"class":"String","value":"e7615a2ec54f8bfea8f38f91","object_id":14321600}},{"id":2898033,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14321620,"value":"[111361440042536346, 111361440042536336]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14321640,"value":"#<JSON::Ext::Generator::State:0x00007fc9326655a0>"}},{"id":2898034,"event":"return","thread_id":9160,"parent_id":2898033,"elapsed":6.260001100599766e-06,"elapsed_instrumentation":0.00010330101940780878,"return_value":{"class":"String","value":"[111361440042536346,111361440042536336]","object_id":14321660}},{"id":2898035,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14321680,"value":"#<JSON::Ext::Parser:0x00007fc932663c00>"}},{"id":2898036,"event":"return","thread_id":9160,"parent_id":2898035,"elapsed":7.037015166133642e-06,"elapsed_instrumentation":0.00018040701979771256,"return_value":{"class":"Array","value":"[111361440042536346, 111361440042536336]","object_id":14321700,"size":2}},{"id":2898037,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14321720,"value":"___h\u0006_xr\u0016_\u0005\u0019"}},{"id":2898038,"event":"return","thread_id":9160,"parent_id":2898037,"elapsed":3.7460122257471085e-06,"elapsed_instrumentation":0.00013198202941566706,"return_value":{"class":"String","value":"9ce7bd6806ba787216ff0519","object_id":14321740}},{"id":2898039,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14321760,"value":"{retry=>true, queue=>pull, args=>[111361440042536346, 111361440042536336], class=>UnmergeWorker, jid=>e7615a2ec54f8bfea8f38f91, created_at=>1699240724.5285144, id=>9ce7bd6806ba787216ff0519}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14321780,"value":"#<JSON::Ext::Generator::State:0x00007fc932660e60>"}},{"id":2898040,"event":"return","thread_id":9160,"parent_id":2898039,"elapsed":1.491699367761612e-05,"elapsed_instrumentation":0.00018367497250437737,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440042536346,111361440042536336],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14321800}},{"id":2898041,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14321820,"value":"#<JSON::Ext::Parser:0x00007fc93267b1c0>"}},{"id":2898042,"event":"return","thread_id":9160,"parent_id":2898041,"elapsed":1.9781989976763725e-05,"elapsed_instrumentation":0.00015316903591156006,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440042536346, 111361440042536336], class=>UnmergeWorker, jid=>e7615a2ec54f8bfea8f38f91, created_at=>1699240724.5285144, id=>9ce7bd6806ba787216ff0519}","object_id":14321840,"size":7}},{"id":2898043,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880085072673,"value":"111361440042536336","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14321860,"value":"#<UnmergeWorker:0x00007fc932677098>"}},{"id":2898044,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14321860,"value":"#<UnmergeWorker:0x00007fc932677098>"}},{"id":2898045,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14321880,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14321900,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2898046,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14321920,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14321940,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2898047,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2898048,"event":"return","thread_id":13276700,"parent_id":2898047,"elapsed":0.00030550401424989104,"elapsed_instrumentation":8.911394979804754e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2898049,"event":"return","thread_id":13276700,"parent_id":2898046,"elapsed":0.0004160929820500314,"elapsed_instrumentation":9.776500519365072e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2898050,"event":"return","thread_id":13276700,"parent_id":2898045,"elapsed":0.0005328520201146603,"elapsed_instrumentation":0.00015538802836090326,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2898051,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898052,"event":"return","thread_id":9160,"parent_id":2898051,"elapsed":0.001111497,"elapsed_instrumentation":0.00020688504446297884},{"id":2898053,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898054,"event":"return","thread_id":9160,"parent_id":2898053,"elapsed":0.000600692,"elapsed_instrumentation":8.207798236981034e-05},{"id":2898055,"event":"return","thread_id":9160,"parent_id":2898044,"elapsed":0.004406024003401399,"elapsed_instrumentation":0.00010644202120602131,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e0d66e00>","object_id":14321960}},{"id":2898056,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14321860,"value":"#<UnmergeWorker:0x00007fc932677098>"}},{"id":2898057,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14321980,"value":"#<Account:0x00007fc8e0d66f40>","kind":"req"},{"name":"into_account","class":"Account","object_id":14321960,"value":"#<Account:0x00007fc8e0d66e00>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898058,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880085072673,"value":"111361440042536336","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898059,"event":"return","thread_id":9160,"parent_id":2898058,"elapsed":5.017966032028198e-06,"elapsed_instrumentation":0.00010143296094611287,"return_value":{"class":"String","value":"feed:home:111361440042536336","object_id":14322000}},{"id":2898060,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898061,"event":"return","thread_id":9160,"parent_id":2898060,"elapsed":4.229019396007061e-06,"elapsed_instrumentation":7.209699833765626e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2898062,"event":"return","thread_id":9160,"parent_id":2898057,"elapsed":0.003066735982429236,"elapsed_instrumentation":0.0001008150284178555},{"id":2898063,"event":"return","thread_id":9160,"parent_id":2898056,"elapsed":0.0031997450278140604,"elapsed_instrumentation":8.599000284448266e-05},{"id":2898064,"event":"return","thread_id":9160,"parent_id":2898043,"elapsed":0.007843333994969726,"elapsed_instrumentation":7.623404962942004e-05},{"id":2898065,"event":"return","thread_id":9160,"parent_id":2898030,"elapsed":0.009153707011137158,"elapsed_instrumentation":0.00015896401600912213,"return_value":{"class":"String","value":"e7615a2ec54f8bfea8f38f91","object_id":14321600}},{"id":2898066,"event":"return","thread_id":9160,"parent_id":2897975,"elapsed":0.04277462000027299,"elapsed_instrumentation":0.00014626001939177513,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d6a3c0>","object_id":14321440}},{"id":2898067,"event":"return","thread_id":9160,"parent_id":2897974,"elapsed":0.04294440400553867,"elapsed_instrumentation":8.549500489607453e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d6a3c0>","object_id":14321440}},{"id":2898068,"event":"return","thread_id":9160,"parent_id":2897973,"elapsed":0.04306506196735427,"elapsed_instrumentation":0.00021525198826566339,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d6a3c0>","object_id":14321440}},{"id":2898069,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14322020,"value":"relationship:111361440042536337:111361440042536346","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14322040,"value":"#<UnfollowService:0x00007fc8e0cdb1e8>"}},{"id":2898070,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14322040,"value":"#<UnfollowService:0x00007fc8e0cdb1e8>"}},{"id":2898071,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14322060,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14322080,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898072,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898073,"event":"return","thread_id":9160,"parent_id":2898072,"elapsed":2.6100315153598785e-06,"elapsed_instrumentation":6.42749946564436e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2898074,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14322100,"value":"_ _U_j___?___n__"}},{"id":2898075,"event":"return","thread_id":9160,"parent_id":2898074,"elapsed":6.121001206338406e-06,"elapsed_instrumentation":0.00026439898647367954,"return_value":{"class":"Array","value":"[2183170901, 33642, 51168, 38463, 48352, 2892939725]","object_id":14322120,"size":6}},{"id":2898076,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898077,"event":"return","thread_id":9160,"parent_id":2898076,"elapsed":0.000462192,"elapsed_instrumentation":7.824896601960063e-05},{"id":2898078,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14322140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898079,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898080,"event":"return","thread_id":9160,"parent_id":2898079,"elapsed":0.000264302,"elapsed_instrumentation":6.575899897143245e-05},{"id":2898081,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898082,"event":"return","thread_id":9160,"parent_id":2898081,"elapsed":0.000285975,"elapsed_instrumentation":6.513000698760152e-05},{"id":2898083,"event":"return","thread_id":9160,"parent_id":2898078,"elapsed":0.0023416620097123086,"elapsed_instrumentation":0.00014315301086753607,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2898084,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2898085,"event":"return","thread_id":9160,"parent_id":2898084,"elapsed":0.000654272,"elapsed_instrumentation":6.21139770373702e-05},{"id":2898086,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14322140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898087,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2898088,"event":"return","thread_id":9160,"parent_id":2898087,"elapsed":0.000572697,"elapsed_instrumentation":7.005996303632855e-05},{"id":2898089,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898090,"event":"return","thread_id":9160,"parent_id":2898089,"elapsed":0.000541434,"elapsed_instrumentation":6.719602970406413e-05},{"id":2898091,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14322160,"value":"#<Account:0x00007fc8e0d65a00>"}},{"id":2898092,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14322160,"value":"#<Account:0x00007fc8e0d65a00>"}},{"id":2898093,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440042536337, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898094,"event":"return","thread_id":9160,"parent_id":2898093,"elapsed":0.000706551,"elapsed_instrumentation":6.892503006383777e-05},{"id":2898095,"event":"return","thread_id":9160,"parent_id":2898092,"elapsed":0.0011920850374735892,"elapsed_instrumentation":9.676098125055432e-05},{"id":2898096,"event":"return","thread_id":9160,"parent_id":2898091,"elapsed":0.0013146070414222777,"elapsed_instrumentation":0.00012330996105447412},{"id":2898097,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898098,"event":"return","thread_id":9160,"parent_id":2898097,"elapsed":0.00045459,"elapsed_instrumentation":6.847298936918378e-05},{"id":2898099,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14322180,"value":"#<Account:0x00007fc8e0d64b00>"}},{"id":2898100,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14322180,"value":"#<Account:0x00007fc8e0d64b00>"}},{"id":2898101,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440042536346, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898102,"event":"return","thread_id":9160,"parent_id":2898101,"elapsed":0.00073114,"elapsed_instrumentation":6.903702160343528e-05},{"id":2898103,"event":"return","thread_id":9160,"parent_id":2898100,"elapsed":0.0012874670210294425,"elapsed_instrumentation":7.741793524473906e-05},{"id":2898104,"event":"return","thread_id":9160,"parent_id":2898099,"elapsed":0.0013857939629815519,"elapsed_instrumentation":9.657006012275815e-05},{"id":2898105,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14322160,"value":"#<Account:0x00007fc8e0d65a00>"}},{"id":2898106,"event":"return","thread_id":9160,"parent_id":2898105,"elapsed":1.3150973245501518e-05,"elapsed_instrumentation":8.763099322095513e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898107,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14322180,"value":"#<Account:0x00007fc8e0d64b00>"}},{"id":2898108,"event":"return","thread_id":9160,"parent_id":2898107,"elapsed":6.679969374090433e-06,"elapsed_instrumentation":6.172608118504286e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898109,"event":"return","thread_id":9160,"parent_id":2898086,"elapsed":0.008825843047816306,"elapsed_instrumentation":0.00013373192632570863,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2898110,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898111,"event":"return","thread_id":9160,"parent_id":2898110,"elapsed":0.000456997,"elapsed_instrumentation":6.679299985989928e-05},{"id":2898112,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14322220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898113,"event":"return","thread_id":9160,"parent_id":2898112,"elapsed":3.3659744076430798e-06,"elapsed_instrumentation":0.00010458007454872131,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2898114,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14322220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898115,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14322240,"value":"Cache delete: relationship:111361440042536337:111361440042536346\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898116,"event":"return","thread_id":9160,"parent_id":2898115,"elapsed":0.000621457991655916,"elapsed_instrumentation":0.00010842003393918276,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898117,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14322260,"value":"Cache delete: relationship:111361440042536346:111361440042536337\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898118,"event":"return","thread_id":9160,"parent_id":2898117,"elapsed":0.0005646210047416389,"elapsed_instrumentation":0.00013131601735949516,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898119,"event":"return","thread_id":9160,"parent_id":2898114,"elapsed":0.0016916029853746295,"elapsed_instrumentation":0.00013223098358139396,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2898120,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2898121,"event":"return","thread_id":9160,"parent_id":2898120,"elapsed":1.0749965440481901e-05,"elapsed_instrumentation":0.0006271229940466583,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898122,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2898123,"event":"return","thread_id":9160,"parent_id":2898122,"elapsed":9.390991181135178e-06,"elapsed_instrumentation":0.0001991750323213637,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898124,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14322280,"value":"#<Account:0x00007fc8e0d6ab40>"}},{"id":2898125,"event":"return","thread_id":9160,"parent_id":2898124,"elapsed":1.87899568118155e-05,"elapsed_instrumentation":8.885003626346588e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898126,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14322300,"value":"{args=>[111361440042536346, 111361440042536337], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14322320,"value":"#<Sidekiq::Client:0x00007fc93258b0a8>"}},{"id":2898127,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14322340,"value":"-\u0004_____\n_mXi"}},{"id":2898128,"event":"return","thread_id":9160,"parent_id":2898127,"elapsed":5.2460236474871635e-06,"elapsed_instrumentation":0.0005510950577445328,"return_value":{"class":"String","value":"2d0497ac9badc40aff6d5869","object_id":14322360}},{"id":2898129,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14322380,"value":"[111361440042536346, 111361440042536337]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14322400,"value":"#<JSON::Ext::Generator::State:0x00007fc932586e68>"}},{"id":2898130,"event":"return","thread_id":9160,"parent_id":2898129,"elapsed":5.880952812731266e-06,"elapsed_instrumentation":0.00010633299825713038,"return_value":{"class":"String","value":"[111361440042536346,111361440042536337]","object_id":14322420}},{"id":2898131,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14322440,"value":"#<JSON::Ext::Parser:0x00007fc9325857e8>"}},{"id":2898132,"event":"return","thread_id":9160,"parent_id":2898131,"elapsed":5.060981493443251e-06,"elapsed_instrumentation":7.300905417650938e-05,"return_value":{"class":"Array","value":"[111361440042536346, 111361440042536337]","object_id":14322460,"size":2}},{"id":2898133,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14322480,"value":"_0D%\u001e_8n!__q"}},{"id":2898134,"event":"return","thread_id":9160,"parent_id":2898133,"elapsed":4.257017280906439e-06,"elapsed_instrumentation":0.00011479598470032215,"return_value":{"class":"String","value":"b53044251ee7386e21dd9271","object_id":14322500}},{"id":2898135,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14322520,"value":"{retry=>true, queue=>pull, args=>[111361440042536346, 111361440042536337], class=>UnmergeWorker, jid=>2d0497ac9badc40aff6d5869, created_at=>1699240724.5577884, id=>b53044251ee7386e21dd9271}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14322540,"value":"#<JSON::Ext::Generator::State:0x00007fc932582098>"}},{"id":2898136,"event":"return","thread_id":9160,"parent_id":2898135,"elapsed":1.2003001756966114e-05,"elapsed_instrumentation":0.00017925602151080966,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440042536346,111361440042536337],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14322560}},{"id":2898137,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14322580,"value":"#<JSON::Ext::Parser:0x00007fc93259ea18>"}},{"id":2898138,"event":"return","thread_id":9160,"parent_id":2898137,"elapsed":2.8638984076678753e-05,"elapsed_instrumentation":0.00016403704648837447,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440042536346, 111361440042536337], class=>UnmergeWorker, jid=>2d0497ac9badc40aff6d5869, created_at=>1699240724.5577884, id=>b53044251ee7386e21dd9271}","object_id":14322600,"size":7}},{"id":2898139,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880085072675,"value":"111361440042536337","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14322620,"value":"#<UnmergeWorker:0x00007fc93259a580>"}},{"id":2898140,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14322620,"value":"#<UnmergeWorker:0x00007fc93259a580>"}},{"id":2898141,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898142,"event":"return","thread_id":9160,"parent_id":2898141,"elapsed":0.000616153,"elapsed_instrumentation":8.68930364958942e-05},{"id":2898143,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898144,"event":"return","thread_id":9160,"parent_id":2898143,"elapsed":0.000584619,"elapsed_instrumentation":7.439195178449154e-05},{"id":2898145,"event":"return","thread_id":9160,"parent_id":2898140,"elapsed":0.0035548550076782703,"elapsed_instrumentation":0.0001200829865410924,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e0d62f80>","object_id":14322640}},{"id":2898146,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14322620,"value":"#<UnmergeWorker:0x00007fc93259a580>"}},{"id":2898147,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14322660,"value":"#<Account:0x00007fc8e0d630c0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14322640,"value":"#<Account:0x00007fc8e0d62f80>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898148,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880085072675,"value":"111361440042536337","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898149,"event":"return","thread_id":9160,"parent_id":2898148,"elapsed":6.482994649559259e-06,"elapsed_instrumentation":0.000142022967338562,"return_value":{"class":"String","value":"feed:home:111361440042536337","object_id":14322680}},{"id":2898150,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898151,"event":"return","thread_id":9160,"parent_id":2898150,"elapsed":4.50498191639781e-06,"elapsed_instrumentation":9.707402205094695e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2898152,"event":"return","thread_id":9160,"parent_id":2898147,"elapsed":0.0032239830470643938,"elapsed_instrumentation":0.00013553397729992867},{"id":2898153,"event":"return","thread_id":9160,"parent_id":2898146,"elapsed":0.0033927620388567448,"elapsed_instrumentation":0.00010132393799722195},{"id":2898154,"event":"return","thread_id":9160,"parent_id":2898139,"elapsed":0.007216198020614684,"elapsed_instrumentation":0.000103719939943403},{"id":2898155,"event":"return","thread_id":9160,"parent_id":2898126,"elapsed":0.008930359967052937,"elapsed_instrumentation":0.00019707297906279564,"return_value":{"class":"String","value":"2d0497ac9badc40aff6d5869","object_id":14322360}},{"id":2898156,"event":"return","thread_id":9160,"parent_id":2898071,"elapsed":0.028132556995842606,"elapsed_instrumentation":0.000247466959990561,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d662c0>","object_id":14322200}},{"id":2898157,"event":"return","thread_id":9160,"parent_id":2898070,"elapsed":0.028404326003510505,"elapsed_instrumentation":8.706998778507113e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d662c0>","object_id":14322200}},{"id":2898158,"event":"return","thread_id":9160,"parent_id":2898069,"elapsed":0.02852313796756789,"elapsed_instrumentation":0.00014772103168070316,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d662c0>","object_id":14322200}},{"id":2898159,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14322700,"value":"relationship:111361440042536338:111361440042536346","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14322720,"value":"#<UnfollowService:0x00007fc8e0cd3c68>"}},{"id":2898160,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14322720,"value":"#<UnfollowService:0x00007fc8e0cd3c68>"}},{"id":2898161,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14322740,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14322760,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898162,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898163,"event":"return","thread_id":9160,"parent_id":2898162,"elapsed":2.7730129659175873e-06,"elapsed_instrumentation":8.56150290928781e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2898164,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14322780,"value":"x__\n__]Z_____,vU"}},{"id":2898165,"event":"return","thread_id":9160,"parent_id":2898164,"elapsed":7.468974217772484e-06,"elapsed_instrumentation":0.0003447849885560572,"return_value":{"class":"Array","value":"[2030035978, 60353, 23898, 48866, 50089, 3391911509]","object_id":14322800,"size":6}},{"id":2898166,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898167,"event":"return","thread_id":9160,"parent_id":2898166,"elapsed":0.000669116,"elapsed_instrumentation":0.00011201499728485942},{"id":2898168,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14322820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898169,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898170,"event":"return","thread_id":9160,"parent_id":2898169,"elapsed":0.000641289,"elapsed_instrumentation":0.00010912399739027023},{"id":2898171,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898172,"event":"return","thread_id":9160,"parent_id":2898171,"elapsed":0.000501646,"elapsed_instrumentation":0.00012579397298395634},{"id":2898173,"event":"return","thread_id":9160,"parent_id":2898168,"elapsed":0.003271110006608069,"elapsed_instrumentation":0.00028088403632864356,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2898174,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2898175,"event":"return","thread_id":9160,"parent_id":2898174,"elapsed":0.000697348,"elapsed_instrumentation":8.853297913447022e-05},{"id":2898176,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14322820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898177,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2898178,"event":"return","thread_id":9160,"parent_id":2898177,"elapsed":0.000829718,"elapsed_instrumentation":0.00040246295975521207},{"id":2898179,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898180,"event":"return","thread_id":9160,"parent_id":2898179,"elapsed":0.001524423,"elapsed_instrumentation":0.00047331099631264806},{"id":2898181,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14322840,"value":"#<Account:0x00007fc8e0d61a40>"}},{"id":2898182,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14322840,"value":"#<Account:0x00007fc8e0d61a40>"}},{"id":2898183,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440042536338, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898184,"event":"return","thread_id":9160,"parent_id":2898183,"elapsed":0.001019408,"elapsed_instrumentation":0.0002490379847586155},{"id":2898185,"event":"return","thread_id":9160,"parent_id":2898182,"elapsed":0.002030838979408145,"elapsed_instrumentation":0.0003659430076368153},{"id":2898186,"event":"return","thread_id":9160,"parent_id":2898181,"elapsed":0.002438538009300828,"elapsed_instrumentation":0.00018491694936528802},{"id":2898187,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898188,"event":"return","thread_id":9160,"parent_id":2898187,"elapsed":0.001207165,"elapsed_instrumentation":0.000254753977060318},{"id":2898189,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14322860,"value":"#<Account:0x00007fc8e0d60b40>"}},{"id":2898190,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14322860,"value":"#<Account:0x00007fc8e0d60b40>"}},{"id":2898191,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440042536346, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898192,"event":"return","thread_id":9160,"parent_id":2898191,"elapsed":0.00113806,"elapsed_instrumentation":0.00017076299991458654},{"id":2898193,"event":"return","thread_id":9160,"parent_id":2898190,"elapsed":0.0027992569957859814,"elapsed_instrumentation":0.00022746104514226317},{"id":2898194,"event":"return","thread_id":9160,"parent_id":2898189,"elapsed":0.0030863849679008126,"elapsed_instrumentation":0.0002975940005853772},{"id":2898195,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14322840,"value":"#<Account:0x00007fc8e0d61a40>"}},{"id":2898196,"event":"return","thread_id":9160,"parent_id":2898195,"elapsed":2.644403139129281e-05,"elapsed_instrumentation":0.0003677859785966575,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898197,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14322860,"value":"#<Account:0x00007fc8e0d60b40>"}},{"id":2898198,"event":"return","thread_id":9160,"parent_id":2898197,"elapsed":1.7279991880059242e-05,"elapsed_instrumentation":0.000426640035584569,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898199,"event":"return","thread_id":9160,"parent_id":2898176,"elapsed":0.02069334697443992,"elapsed_instrumentation":0.00022782501764595509,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2898200,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898201,"event":"return","thread_id":9160,"parent_id":2898200,"elapsed":0.000788317,"elapsed_instrumentation":0.0002495989901944995},{"id":2898202,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14322900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898203,"event":"return","thread_id":9160,"parent_id":2898202,"elapsed":4.195026122033596e-06,"elapsed_instrumentation":0.00017377297626808286,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2898204,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14322900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898205,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14322920,"value":"Cache delete: relationship:111361440042536338:111361440042536346\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898206,"event":"return","thread_id":9160,"parent_id":2898205,"elapsed":0.0009056749986484647,"elapsed_instrumentation":0.00015284400433301926,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898207,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14322940,"value":"Cache delete: relationship:111361440042536346:111361440042536338\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898208,"event":"return","thread_id":9160,"parent_id":2898207,"elapsed":0.0006926889764145017,"elapsed_instrumentation":0.0007346629863604903,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898209,"event":"return","thread_id":9160,"parent_id":2898204,"elapsed":0.0028329109773039818,"elapsed_instrumentation":0.00013615802163258195,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2898210,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2898211,"event":"return","thread_id":9160,"parent_id":2898210,"elapsed":1.435697777196765e-05,"elapsed_instrumentation":0.0001222190330736339,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898212,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2898213,"event":"return","thread_id":9160,"parent_id":2898212,"elapsed":5.219015292823315e-06,"elapsed_instrumentation":0.00010004098294302821,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898214,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14322960,"value":"#<Account:0x00007fc8e0d6aa00>"}},{"id":2898215,"event":"return","thread_id":9160,"parent_id":2898214,"elapsed":1.199002144858241e-05,"elapsed_instrumentation":6.497499998658895e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898216,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14322980,"value":"{args=>[111361440042536346, 111361440042536338], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14323000,"value":"#<Sidekiq::Client:0x00007fc9324e1ee0>"}},{"id":2898217,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14323020,"value":"X\u0007_5__\u0011_\u0016_'z"}},{"id":2898218,"event":"return","thread_id":9160,"parent_id":2898217,"elapsed":5.059991963207722e-06,"elapsed_instrumentation":0.00021075201220810413,"return_value":{"class":"String","value":"58079535a8c211f016b8277a","object_id":14323040}},{"id":2898219,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14323060,"value":"[111361440042536346, 111361440042536338]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14323080,"value":"#<JSON::Ext::Generator::State:0x00007fc9324fc060>"}},{"id":2898220,"event":"return","thread_id":9160,"parent_id":2898219,"elapsed":7.6169962994754314e-06,"elapsed_instrumentation":0.000131297972984612,"return_value":{"class":"String","value":"[111361440042536346,111361440042536338]","object_id":14323100}},{"id":2898221,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14323120,"value":"#<JSON::Ext::Parser:0x00007fc9324f8ff0>"}},{"id":2898222,"event":"return","thread_id":9160,"parent_id":2898221,"elapsed":5.214998964220285e-06,"elapsed_instrumentation":9.679899085313082e-05,"return_value":{"class":"Array","value":"[111361440042536346, 111361440042536338]","object_id":14323140,"size":2}},{"id":2898223,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14323160,"value":"__._____E_QR"}},{"id":2898224,"event":"return","thread_id":9160,"parent_id":2898223,"elapsed":3.6120181903243065e-06,"elapsed_instrumentation":0.000286400958430022,"return_value":{"class":"String","value":"ffbd2ec896e3a78845e25152","object_id":14323180}},{"id":2898225,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14323200,"value":"{retry=>true, queue=>pull, args=>[111361440042536346, 111361440042536338], class=>UnmergeWorker, jid=>58079535a8c211f016b8277a, created_at=>1699240724.6030643, id=>ffbd2ec896e3a78845e25152}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14323220,"value":"#<JSON::Ext::Generator::State:0x00007fc9324f5f58>"}},{"id":2898226,"event":"return","thread_id":9160,"parent_id":2898225,"elapsed":1.654302468523383e-05,"elapsed_instrumentation":0.00023117102682590485,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440042536346,111361440042536338],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14323240}},{"id":2898227,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14323260,"value":"#<JSON::Ext::Parser:0x00007fc9324f2a60>"}},{"id":2898228,"event":"return","thread_id":9160,"parent_id":2898227,"elapsed":2.116296673193574e-05,"elapsed_instrumentation":0.00016167399007827044,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440042536346, 111361440042536338], class=>UnmergeWorker, jid=>58079535a8c211f016b8277a, created_at=>1699240724.6030643, id=>ffbd2ec896e3a78845e25152}","object_id":14323280,"size":7}},{"id":2898229,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880085072677,"value":"111361440042536338","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14323300,"value":"#<UnmergeWorker:0x00007fc93250fd18>"}},{"id":2898230,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14323300,"value":"#<UnmergeWorker:0x00007fc93250fd18>"}},{"id":2898231,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898232,"event":"return","thread_id":9160,"parent_id":2898231,"elapsed":0.000767882,"elapsed_instrumentation":0.00012098299339413643},{"id":2898233,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898234,"event":"return","thread_id":9160,"parent_id":2898233,"elapsed":0.000823827,"elapsed_instrumentation":0.00013552699238061905},{"id":2898235,"event":"return","thread_id":9160,"parent_id":2898230,"elapsed":0.004829739045817405,"elapsed_instrumentation":0.0001273640082217753,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e15ef158>","object_id":14323320}},{"id":2898236,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14323300,"value":"#<UnmergeWorker:0x00007fc93250fd18>"}},{"id":2898237,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14323340,"value":"#<Account:0x00007fc8e15ef298>","kind":"req"},{"name":"into_account","class":"Account","object_id":14323320,"value":"#<Account:0x00007fc8e15ef158>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898238,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880085072677,"value":"111361440042536338","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898239,"event":"return","thread_id":9160,"parent_id":2898238,"elapsed":0.000314578996039927,"elapsed_instrumentation":0.00019272405188530684,"return_value":{"class":"String","value":"feed:home:111361440042536338","object_id":14323360}},{"id":2898240,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898241,"event":"return","thread_id":9160,"parent_id":2898240,"elapsed":5.211972165852785e-06,"elapsed_instrumentation":0.0001119759981520474,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2898242,"event":"return","thread_id":9160,"parent_id":2898237,"elapsed":0.004875965998508036,"elapsed_instrumentation":0.00012026500189676881},{"id":2898243,"event":"return","thread_id":9160,"parent_id":2898236,"elapsed":0.005034116969909519,"elapsed_instrumentation":0.00010016601299867034},{"id":2898244,"event":"return","thread_id":9160,"parent_id":2898229,"elapsed":0.010143168969079852,"elapsed_instrumentation":7.961905794218183e-05},{"id":2898245,"event":"return","thread_id":9160,"parent_id":2898216,"elapsed":0.011776358995120972,"elapsed_instrumentation":0.00031511898851022124,"return_value":{"class":"String","value":"58079535a8c211f016b8277a","object_id":14323040}},{"id":2898246,"event":"return","thread_id":9160,"parent_id":2898161,"elapsed":0.04787383700022474,"elapsed_instrumentation":0.00018136302242055535,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d62300>","object_id":14322880}},{"id":2898247,"event":"return","thread_id":9160,"parent_id":2898160,"elapsed":0.04808952601160854,"elapsed_instrumentation":0.00012215599417686462,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d62300>","object_id":14322880}},{"id":2898248,"event":"return","thread_id":9160,"parent_id":2898159,"elapsed":0.048552134016063064,"elapsed_instrumentation":0.00014788302360102534,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e0d62300>","object_id":14322880}},{"id":2898249,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14323380,"value":"relationship:111361440042536339:111361440042536346","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14323400,"value":"#<UnfollowService:0x00007fc8e0cec858>"}},{"id":2898250,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14323400,"value":"#<UnfollowService:0x00007fc8e0cec858>"}},{"id":2898251,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14323420,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14323440,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898252,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898253,"event":"return","thread_id":9160,"parent_id":2898252,"elapsed":3.2510142773389816e-06,"elapsed_instrumentation":8.087296737357974e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2898254,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14323460,"value":"X\u0018\u0003\u0010z_*_0mE_n_L_"}},{"id":2898255,"event":"return","thread_id":9160,"parent_id":2898254,"elapsed":1.1369993444532156e-05,"elapsed_instrumentation":0.0005890930187888443,"return_value":{"class":"Array","value":"[1477968656, 31381, 10967, 12397, 17856, 1861176509]","object_id":14323480,"size":6}},{"id":2898256,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898257,"event":"return","thread_id":9160,"parent_id":2898256,"elapsed":0.00067635,"elapsed_instrumentation":0.0001016629976220429},{"id":2898258,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14323500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898259,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898260,"event":"return","thread_id":9160,"parent_id":2898259,"elapsed":0.000393982,"elapsed_instrumentation":0.00031179399229586124},{"id":2898261,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898262,"event":"return","thread_id":9160,"parent_id":2898261,"elapsed":0.000350368,"elapsed_instrumentation":7.759698200970888e-05},{"id":2898263,"event":"return","thread_id":9160,"parent_id":2898258,"elapsed":0.002851378987543285,"elapsed_instrumentation":0.00019579404033720493,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2898264,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2898265,"event":"return","thread_id":9160,"parent_id":2898264,"elapsed":0.000613494,"elapsed_instrumentation":7.009698310866952e-05},{"id":2898266,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14323500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898267,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2898268,"event":"return","thread_id":9160,"parent_id":2898267,"elapsed":0.000466192,"elapsed_instrumentation":0.00019397999858483672},{"id":2898269,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898270,"event":"return","thread_id":9160,"parent_id":2898269,"elapsed":0.000413988,"elapsed_instrumentation":6.719300290569663e-05},{"id":2898271,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14323520,"value":"#<Account:0x00007fc8e15ed998>"}},{"id":2898272,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14323520,"value":"#<Account:0x00007fc8e15ed998>"}},{"id":2898273,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440042536339, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898274,"event":"return","thread_id":9160,"parent_id":2898273,"elapsed":0.000828038,"elapsed_instrumentation":7.29429884813726e-05},{"id":2898275,"event":"return","thread_id":9160,"parent_id":2898272,"elapsed":0.0014522720011882484,"elapsed_instrumentation":8.505000732839108e-05},{"id":2898276,"event":"return","thread_id":9160,"parent_id":2898271,"elapsed":0.001561951998155564,"elapsed_instrumentation":0.000112209003418684},{"id":2898277,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14323540,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14323560,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2898278,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14323580,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14323600,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2898279,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2898280,"event":"return","thread_id":13276700,"parent_id":2898279,"elapsed":5.9569720178842545e-06,"elapsed_instrumentation":6.875296821817756e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2898281,"event":"return","thread_id":13276700,"parent_id":2898278,"elapsed":9.26189823076129e-05,"elapsed_instrumentation":9.669706923887134e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2898282,"event":"return","thread_id":13276700,"parent_id":2898277,"elapsed":0.00020817999029532075,"elapsed_instrumentation":0.00015410000924021006,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2898283,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898284,"event":"return","thread_id":9160,"parent_id":2898283,"elapsed":0.000672741,"elapsed_instrumentation":0.0001615899964235723},{"id":2898285,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14323620,"value":"#<Account:0x00007fc8e15eca98>"}},{"id":2898286,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14323620,"value":"#<Account:0x00007fc8e15eca98>"}},{"id":2898287,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440042536346, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898288,"event":"return","thread_id":9160,"parent_id":2898287,"elapsed":0.000777433,"elapsed_instrumentation":8.025701390579343e-05},{"id":2898289,"event":"return","thread_id":9160,"parent_id":2898286,"elapsed":0.0013171460013836622,"elapsed_instrumentation":9.217805927619338e-05},{"id":2898290,"event":"return","thread_id":9160,"parent_id":2898285,"elapsed":0.0014348180266097188,"elapsed_instrumentation":0.0001748199574649334},{"id":2898291,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14323520,"value":"#<Account:0x00007fc8e15ed998>"}},{"id":2898292,"event":"return","thread_id":9160,"parent_id":2898291,"elapsed":1.575500937178731e-05,"elapsed_instrumentation":9.498297004029155e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898293,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14323620,"value":"#<Account:0x00007fc8e15eca98>"}},{"id":2898294,"event":"return","thread_id":9160,"parent_id":2898293,"elapsed":6.383983418345451e-06,"elapsed_instrumentation":6.498006405308843e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898295,"event":"return","thread_id":9160,"parent_id":2898266,"elapsed":0.010313657985534519,"elapsed_instrumentation":0.00015955197159200907,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2898296,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898297,"event":"return","thread_id":9160,"parent_id":2898296,"elapsed":0.000303205,"elapsed_instrumentation":7.026095408946276e-05},{"id":2898298,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14323660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898299,"event":"return","thread_id":9160,"parent_id":2898298,"elapsed":3.5190023481845856e-06,"elapsed_instrumentation":0.00010562699753791094,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2898300,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14323660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898301,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14323680,"value":"Cache delete: relationship:111361440042536339:111361440042536346\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898302,"event":"return","thread_id":9160,"parent_id":2898301,"elapsed":0.0005492069758474827,"elapsed_instrumentation":0.00024659401969984174,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898303,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14323700,"value":"Cache delete: relationship:111361440042536346:111361440042536339\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898304,"event":"return","thread_id":9160,"parent_id":2898303,"elapsed":0.0004164039855822921,"elapsed_instrumentation":0.00025071599520742893,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898305,"event":"return","thread_id":9160,"parent_id":2898300,"elapsed":0.0017254200065508485,"elapsed_instrumentation":9.900704026222229e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2898306,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2898307,"event":"return","thread_id":9160,"parent_id":2898306,"elapsed":8.38597770780325e-06,"elapsed_instrumentation":8.2723970990628e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898308,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2898309,"event":"return","thread_id":9160,"parent_id":2898308,"elapsed":3.701017703860998e-06,"elapsed_instrumentation":6.030994700267911e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898310,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14323720,"value":"#<Account:0x00007fc8e0d6a8c0>"}},{"id":2898311,"event":"return","thread_id":9160,"parent_id":2898310,"elapsed":9.64401988312602e-06,"elapsed_instrumentation":5.903298733755946e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898312,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14323740,"value":"{args=>[111361440042536346, 111361440042536339], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14323760,"value":"#<Sidekiq::Client:0x00007fc93246d388>"}},{"id":2898313,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14323780,"value":"__\u001a_\u0016D____V\b"}},{"id":2898314,"event":"return","thread_id":9160,"parent_id":2898313,"elapsed":4.7450303100049496e-06,"elapsed_instrumentation":0.00011106400052085519,"return_value":{"class":"String","value":"df931ac716449cc1f2bf5608","object_id":14323800}},{"id":2898315,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14323820,"value":"[111361440042536346, 111361440042536339]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14323840,"value":"#<JSON::Ext::Generator::State:0x00007fc9324692d8>"}},{"id":2898316,"event":"return","thread_id":9160,"parent_id":2898315,"elapsed":6.344984285533428e-06,"elapsed_instrumentation":0.00010384694905951619,"return_value":{"class":"String","value":"[111361440042536346,111361440042536339]","object_id":14323860}},{"id":2898317,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14323880,"value":"#<JSON::Ext::Parser:0x00007fc932467e60>"}},{"id":2898318,"event":"return","thread_id":9160,"parent_id":2898317,"elapsed":5.90301351621747e-06,"elapsed_instrumentation":7.319694850593805e-05,"return_value":{"class":"Array","value":"[111361440042536346, 111361440042536339]","object_id":14323900,"size":2}},{"id":2898319,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14323920,"value":"_\u0012_&E\u000e______"}},{"id":2898320,"event":"return","thread_id":9160,"parent_id":2898319,"elapsed":2.9720249585807323e-06,"elapsed_instrumentation":9.396200766786933e-05,"return_value":{"class":"String","value":"8c12aa26450ef4beee89fc80","object_id":14323940}},{"id":2898321,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14323960,"value":"{retry=>true, queue=>pull, args=>[111361440042536346, 111361440042536339], class=>UnmergeWorker, jid=>df931ac716449cc1f2bf5608, created_at=>1699240724.6391518, id=>8c12aa26450ef4beee89fc80}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14323980,"value":"#<JSON::Ext::Generator::State:0x00007fc932464e18>"}},{"id":2898322,"event":"return","thread_id":9160,"parent_id":2898321,"elapsed":1.804897328838706e-05,"elapsed_instrumentation":0.00027885899180546403,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440042536346,111361440042536339],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14324000}},{"id":2898323,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14324020,"value":"#<JSON::Ext::Parser:0x00007fc932462500>"}},{"id":2898324,"event":"return","thread_id":9160,"parent_id":2898323,"elapsed":2.1746964193880558e-05,"elapsed_instrumentation":0.0005197590216994286,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440042536346, 111361440042536339], class=>UnmergeWorker, jid=>df931ac716449cc1f2bf5608, created_at=>1699240724.6391518, id=>8c12aa26450ef4beee89fc80}","object_id":14324040,"size":7}},{"id":2898325,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880085072679,"value":"111361440042536339","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14324060,"value":"#<UnmergeWorker:0x00007fc9323ef2f8>"}},{"id":2898326,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14324060,"value":"#<UnmergeWorker:0x00007fc9323ef2f8>"}},{"id":2898327,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898328,"event":"return","thread_id":9160,"parent_id":2898327,"elapsed":0.000843471,"elapsed_instrumentation":0.00031995895551517606},{"id":2898329,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898330,"event":"return","thread_id":9160,"parent_id":2898329,"elapsed":0.000525897,"elapsed_instrumentation":0.00010782299796119332},{"id":2898331,"event":"return","thread_id":9160,"parent_id":2898326,"elapsed":0.00642637099372223,"elapsed_instrumentation":0.0001545600243844092,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e15eb198>","object_id":14324080}},{"id":2898332,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14324060,"value":"#<UnmergeWorker:0x00007fc9323ef2f8>"}},{"id":2898333,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14324100,"value":"#<Account:0x00007fc8e15eb2d8>","kind":"req"},{"name":"into_account","class":"Account","object_id":14324080,"value":"#<Account:0x00007fc8e15eb198>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898334,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880085072679,"value":"111361440042536339","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898335,"event":"return","thread_id":9160,"parent_id":2898334,"elapsed":9.541981853544712e-06,"elapsed_instrumentation":0.00043231103336438537,"return_value":{"class":"String","value":"feed:home:111361440042536339","object_id":14324120}},{"id":2898336,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898337,"event":"return","thread_id":9160,"parent_id":2898336,"elapsed":4.4209882616996765e-06,"elapsed_instrumentation":9.641202632337809e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2898338,"event":"return","thread_id":9160,"parent_id":2898333,"elapsed":0.0035656680120155215,"elapsed_instrumentation":0.00010702596046030521},{"id":2898339,"event":"return","thread_id":9160,"parent_id":2898332,"elapsed":0.003707739000674337,"elapsed_instrumentation":9.75250150077045e-05},{"id":2898340,"event":"return","thread_id":9160,"parent_id":2898325,"elapsed":0.010449561988934875,"elapsed_instrumentation":0.00014848000137135386},{"id":2898341,"event":"return","thread_id":9160,"parent_id":2898312,"elapsed":0.012159896024968475,"elapsed_instrumentation":0.00018614798318594694,"return_value":{"class":"String","value":"df931ac716449cc1f2bf5608","object_id":14323800}},{"id":2898342,"event":"return","thread_id":9160,"parent_id":2898251,"elapsed":0.03507590800290927,"elapsed_instrumentation":0.00028219405794516206,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15ee4d8>","object_id":14323640}},{"id":2898343,"event":"return","thread_id":9160,"parent_id":2898250,"elapsed":0.03546189202461392,"elapsed_instrumentation":0.0001369249657727778,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15ee4d8>","object_id":14323640}},{"id":2898344,"event":"return","thread_id":9160,"parent_id":2898249,"elapsed":0.03565041901310906,"elapsed_instrumentation":0.00027765799313783646,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15ee4d8>","object_id":14323640}},{"id":2898345,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14324140,"value":"relationship:111361440042536340:111361440042536346","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14324160,"value":"#<UnfollowService:0x00007fc8e0ce2bc8>"}},{"id":2898346,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14324160,"value":"#<UnfollowService:0x00007fc8e0ce2bc8>"}},{"id":2898347,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14324180,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14324200,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898348,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898349,"event":"return","thread_id":9160,"parent_id":2898348,"elapsed":3.029010258615017e-06,"elapsed_instrumentation":6.813299842178822e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2898350,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14324220,"value":"__Q\u00145____4____'_"}},{"id":2898351,"event":"return","thread_id":9160,"parent_id":2898350,"elapsed":6.494054105132818e-06,"elapsed_instrumentation":0.00012872298248112202,"return_value":{"class":"Array","value":"[3718205716, 13785, 55989, 49460, 55801, 2978686896]","object_id":14324240,"size":6}},{"id":2898352,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898353,"event":"return","thread_id":9160,"parent_id":2898352,"elapsed":0.000486374,"elapsed_instrumentation":8.892500773072243e-05},{"id":2898354,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14324260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898355,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898356,"event":"return","thread_id":9160,"parent_id":2898355,"elapsed":0.000401218,"elapsed_instrumentation":8.043897105380893e-05},{"id":2898357,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898358,"event":"return","thread_id":9160,"parent_id":2898357,"elapsed":0.000404882,"elapsed_instrumentation":0.00018967397045344114},{"id":2898359,"event":"return","thread_id":9160,"parent_id":2898354,"elapsed":0.002690657041966915,"elapsed_instrumentation":0.0001743639586493373,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2898360,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2898361,"event":"return","thread_id":9160,"parent_id":2898360,"elapsed":0.000592237,"elapsed_instrumentation":7.896003080531955e-05},{"id":2898362,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14324260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898363,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2898364,"event":"return","thread_id":9160,"parent_id":2898363,"elapsed":0.000565518,"elapsed_instrumentation":7.641396950930357e-05},{"id":2898365,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898366,"event":"return","thread_id":9160,"parent_id":2898365,"elapsed":0.000561689,"elapsed_instrumentation":7.319898577407002e-05},{"id":2898367,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14324280,"value":"#<Account:0x00007fc8e15e9898>"}},{"id":2898368,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14324280,"value":"#<Account:0x00007fc8e15e9898>"}},{"id":2898369,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440042536340, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898370,"event":"return","thread_id":9160,"parent_id":2898369,"elapsed":0.000820095,"elapsed_instrumentation":8.564401650801301e-05},{"id":2898371,"event":"return","thread_id":9160,"parent_id":2898368,"elapsed":0.0013752849772572517,"elapsed_instrumentation":9.01700695976615e-05},{"id":2898372,"event":"return","thread_id":9160,"parent_id":2898367,"elapsed":0.0014927369775250554,"elapsed_instrumentation":0.00012948899529874325},{"id":2898373,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898374,"event":"return","thread_id":9160,"parent_id":2898373,"elapsed":0.000567622,"elapsed_instrumentation":8.48660129122436e-05},{"id":2898375,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14324300,"value":"#<Account:0x00007fc8e15e8998>"}},{"id":2898376,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14324300,"value":"#<Account:0x00007fc8e15e8998>"}},{"id":2898377,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440042536346, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898378,"event":"return","thread_id":9160,"parent_id":2898377,"elapsed":0.000827488,"elapsed_instrumentation":8.355302270501852e-05},{"id":2898379,"event":"return","thread_id":9160,"parent_id":2898376,"elapsed":0.0014729730319231749,"elapsed_instrumentation":9.388499893248081e-05},{"id":2898380,"event":"return","thread_id":9160,"parent_id":2898375,"elapsed":0.0015932289534248412,"elapsed_instrumentation":0.00013871205737814307},{"id":2898381,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14324280,"value":"#<Account:0x00007fc8e15e9898>"}},{"id":2898382,"event":"return","thread_id":9160,"parent_id":2898381,"elapsed":1.705100294202566e-05,"elapsed_instrumentation":0.00010534899774938822,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898383,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14324300,"value":"#<Account:0x00007fc8e15e8998>"}},{"id":2898384,"event":"return","thread_id":9160,"parent_id":2898383,"elapsed":6.821006536483765e-06,"elapsed_instrumentation":6.514496635645628e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898385,"event":"return","thread_id":9160,"parent_id":2898362,"elapsed":0.01061793603003025,"elapsed_instrumentation":0.00016694696387276053,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2898386,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898387,"event":"return","thread_id":9160,"parent_id":2898386,"elapsed":0.000320147,"elapsed_instrumentation":0.0001462880172766745},{"id":2898388,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14324340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898389,"event":"return","thread_id":9160,"parent_id":2898388,"elapsed":3.328023012727499e-06,"elapsed_instrumentation":0.00010570703307166696,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2898390,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14324340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898391,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14324360,"value":"Cache delete: relationship:111361440042536340:111361440042536346\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898392,"event":"return","thread_id":9160,"parent_id":2898391,"elapsed":0.0005235800053924322,"elapsed_instrumentation":0.00010515196481719613,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898393,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14324380,"value":"Cache delete: relationship:111361440042536346:111361440042536340\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898394,"event":"return","thread_id":9160,"parent_id":2898393,"elapsed":0.0004119380027987063,"elapsed_instrumentation":0.00012457999400794506,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898395,"event":"return","thread_id":9160,"parent_id":2898390,"elapsed":0.0014298369642347097,"elapsed_instrumentation":0.00010806199861690402,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2898396,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2898397,"event":"return","thread_id":9160,"parent_id":2898396,"elapsed":8.608039934188128e-06,"elapsed_instrumentation":0.0001744119799695909,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898398,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2898399,"event":"return","thread_id":9160,"parent_id":2898398,"elapsed":3.8790167309343815e-06,"elapsed_instrumentation":7.153995102271438e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898400,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14324400,"value":"#<Account:0x00007fc8e0d6a780>"}},{"id":2898401,"event":"return","thread_id":9160,"parent_id":2898400,"elapsed":1.0129006113857031e-05,"elapsed_instrumentation":6.131804548203945e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898402,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14324420,"value":"{args=>[111361440042536346, 111361440042536340], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14324440,"value":"#<Sidekiq::Client:0x00007fc93238d828>"}},{"id":2898403,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14324460,"value":":_\u0007_\b__r_7__"}},{"id":2898404,"event":"return","thread_id":9160,"parent_id":2898403,"elapsed":4.434958100318909e-06,"elapsed_instrumentation":0.00015233299927785993,"return_value":{"class":"String","value":"3aac07a108e1da72ce379eb2","object_id":14324480}},{"id":2898405,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14324500,"value":"[111361440042536346, 111361440042536340]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14324520,"value":"#<JSON::Ext::Generator::State:0x00007fc932388da0>"}},{"id":2898406,"event":"return","thread_id":9160,"parent_id":2898405,"elapsed":6.379967089742422e-06,"elapsed_instrumentation":0.00014072703197598457,"return_value":{"class":"String","value":"[111361440042536346,111361440042536340]","object_id":14324540}},{"id":2898407,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14324560,"value":"#<JSON::Ext::Parser:0x00007fc9323863c0>"}},{"id":2898408,"event":"return","thread_id":9160,"parent_id":2898407,"elapsed":5.609996151179075e-06,"elapsed_instrumentation":0.0001886369427666068,"return_value":{"class":"Array","value":"[111361440042536346, 111361440042536340]","object_id":14324580,"size":2}},{"id":2898409,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14324600,"value":"__b_e_on\u0012_Al"}},{"id":2898410,"event":"return","thread_id":9160,"parent_id":2898409,"elapsed":3.5859993658959866e-06,"elapsed_instrumentation":0.00010445807129144669,"return_value":{"class":"String","value":"e4ed62d265d96f6e12a1416c","object_id":14324620}},{"id":2898411,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14324640,"value":"{retry=>true, queue=>pull, args=>[111361440042536346, 111361440042536340], class=>UnmergeWorker, jid=>3aac07a108e1da72ce379eb2, created_at=>1699240724.6723337, id=>e4ed62d265d96f6e12a1416c}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14324660,"value":"#<JSON::Ext::Generator::State:0x00007fc932381b68>"}},{"id":2898412,"event":"return","thread_id":9160,"parent_id":2898411,"elapsed":1.7256999853998423e-05,"elapsed_instrumentation":0.00018048402853310108,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440042536346,111361440042536340],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14324680}},{"id":2898413,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14324700,"value":"#<JSON::Ext::Parser:0x00007fc9323abe18>"}},{"id":2898414,"event":"return","thread_id":9160,"parent_id":2898413,"elapsed":2.1611980628222227e-05,"elapsed_instrumentation":0.00017527304589748383,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440042536346, 111361440042536340], class=>UnmergeWorker, jid=>3aac07a108e1da72ce379eb2, created_at=>1699240724.6723337, id=>e4ed62d265d96f6e12a1416c}","object_id":14324720,"size":7}},{"id":2898415,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880085072681,"value":"111361440042536340","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14324740,"value":"#<UnmergeWorker:0x00007fc9323a3b00>"}},{"id":2898416,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14324740,"value":"#<UnmergeWorker:0x00007fc9323a3b00>"}},{"id":2898417,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898418,"event":"return","thread_id":9160,"parent_id":2898417,"elapsed":0.000603818,"elapsed_instrumentation":8.446798892691731e-05},{"id":2898419,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898420,"event":"return","thread_id":9160,"parent_id":2898419,"elapsed":0.000480097,"elapsed_instrumentation":6.978999590501189e-05},{"id":2898421,"event":"return","thread_id":9160,"parent_id":2898416,"elapsed":0.0034511759877204895,"elapsed_instrumentation":0.0001325290068052709,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e15e7318>","object_id":14324760}},{"id":2898422,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14324740,"value":"#<UnmergeWorker:0x00007fc9323a3b00>"}},{"id":2898423,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14324780,"value":"#<Account:0x00007fc8e15e7458>","kind":"req"},{"name":"into_account","class":"Account","object_id":14324760,"value":"#<Account:0x00007fc8e15e7318>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898424,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880085072681,"value":"111361440042536340","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898425,"event":"return","thread_id":9160,"parent_id":2898424,"elapsed":5.6800199672579765e-06,"elapsed_instrumentation":0.00020200194558128715,"return_value":{"class":"String","value":"feed:home:111361440042536340","object_id":14324800}},{"id":2898426,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898427,"event":"return","thread_id":9160,"parent_id":2898426,"elapsed":4.416971933096647e-06,"elapsed_instrumentation":7.448799442499876e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2898428,"event":"return","thread_id":9160,"parent_id":2898423,"elapsed":0.0031960170017555356,"elapsed_instrumentation":0.00010434695286676288},{"id":2898429,"event":"return","thread_id":9160,"parent_id":2898422,"elapsed":0.0033334389445371926,"elapsed_instrumentation":7.746205665171146e-05},{"id":2898430,"event":"return","thread_id":9160,"parent_id":2898415,"elapsed":0.0074129910208284855,"elapsed_instrumentation":7.733004167675972e-05},{"id":2898431,"event":"return","thread_id":9160,"parent_id":2898402,"elapsed":0.00886890001129359,"elapsed_instrumentation":0.00015992502449080348,"return_value":{"class":"String","value":"3aac07a108e1da72ce379eb2","object_id":14324480}},{"id":2898432,"event":"return","thread_id":9160,"parent_id":2898347,"elapsed":0.029349263000767678,"elapsed_instrumentation":0.00015774002531543374,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15ea3d8>","object_id":14324320}},{"id":2898433,"event":"return","thread_id":9160,"parent_id":2898346,"elapsed":0.029531656997278333,"elapsed_instrumentation":7.894501322880387e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15ea3d8>","object_id":14324320}},{"id":2898434,"event":"return","thread_id":9160,"parent_id":2898345,"elapsed":0.02964296896243468,"elapsed_instrumentation":0.0001348369987681508,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15ea3d8>","object_id":14324320}},{"id":2898435,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14324820,"value":"relationship:111361440042536341:111361440042536346","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14324840,"value":"#<UnfollowService:0x00007fc8e0cfac50>"}},{"id":2898436,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14324840,"value":"#<UnfollowService:0x00007fc8e0cfac50>"}},{"id":2898437,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14324860,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14324880,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898438,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898439,"event":"return","thread_id":9160,"parent_id":2898438,"elapsed":3.100023604929447e-06,"elapsed_instrumentation":6.858695996925235e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2898440,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14324900,"value":"__f\u0013__\u0002O@_=w_G_\u0017"}},{"id":2898441,"event":"return","thread_id":9160,"parent_id":2898440,"elapsed":6.954011041671038e-06,"elapsed_instrumentation":0.00014895404456183314,"return_value":{"class":"Array","value":"[3570886163, 38877, 591, 16598, 15735, 2538067735]","object_id":14324920,"size":6}},{"id":2898442,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898443,"event":"return","thread_id":9160,"parent_id":2898442,"elapsed":0.000416105,"elapsed_instrumentation":8.579198038205504e-05},{"id":2898444,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14324940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898445,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898446,"event":"return","thread_id":9160,"parent_id":2898445,"elapsed":0.000274583,"elapsed_instrumentation":7.01310345903039e-05},{"id":2898447,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898448,"event":"return","thread_id":9160,"parent_id":2898447,"elapsed":0.000256033,"elapsed_instrumentation":5.808298010379076e-05},{"id":2898449,"event":"return","thread_id":9160,"parent_id":2898444,"elapsed":0.002114670001901686,"elapsed_instrumentation":0.00015539000742137432,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2898450,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2898451,"event":"return","thread_id":9160,"parent_id":2898450,"elapsed":0.000464093,"elapsed_instrumentation":5.956797394901514e-05},{"id":2898452,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14324940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898453,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2898454,"event":"return","thread_id":9160,"parent_id":2898453,"elapsed":0.000552377,"elapsed_instrumentation":8.354196324944496e-05},{"id":2898455,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898456,"event":"return","thread_id":9160,"parent_id":2898455,"elapsed":0.000597817,"elapsed_instrumentation":8.326099487021565e-05},{"id":2898457,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14324960,"value":"#<Account:0x00007fc8e15e5dd8>"}},{"id":2898458,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14324960,"value":"#<Account:0x00007fc8e15e5dd8>"}},{"id":2898459,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440042536341, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898460,"event":"return","thread_id":9160,"parent_id":2898459,"elapsed":0.001305522,"elapsed_instrumentation":8.379295468330383e-05},{"id":2898461,"event":"return","thread_id":9160,"parent_id":2898458,"elapsed":0.0018664490198716521,"elapsed_instrumentation":0.00011329300468787551},{"id":2898462,"event":"return","thread_id":9160,"parent_id":2898457,"elapsed":0.002007055969443172,"elapsed_instrumentation":0.0001350920065306127},{"id":2898463,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898464,"event":"return","thread_id":9160,"parent_id":2898463,"elapsed":0.000504705,"elapsed_instrumentation":8.123001316562295e-05},{"id":2898465,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14324980,"value":"#<Account:0x00007fc8e15e4ed8>"}},{"id":2898466,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14324980,"value":"#<Account:0x00007fc8e15e4ed8>"}},{"id":2898467,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440042536346, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898468,"event":"return","thread_id":9160,"parent_id":2898467,"elapsed":0.000660055,"elapsed_instrumentation":7.550598820671439e-05},{"id":2898469,"event":"return","thread_id":9160,"parent_id":2898466,"elapsed":0.0012822700082324445,"elapsed_instrumentation":8.816999616101384e-05},{"id":2898470,"event":"return","thread_id":9160,"parent_id":2898465,"elapsed":0.0013929760316386819,"elapsed_instrumentation":0.0001151129836216569},{"id":2898471,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14324960,"value":"#<Account:0x00007fc8e15e5dd8>"}},{"id":2898472,"event":"return","thread_id":9160,"parent_id":2898471,"elapsed":1.585000427439809e-05,"elapsed_instrumentation":0.00010176596697419882,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898473,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14324980,"value":"#<Account:0x00007fc8e15e4ed8>"}},{"id":2898474,"event":"return","thread_id":9160,"parent_id":2898473,"elapsed":8.000992238521576e-06,"elapsed_instrumentation":0.00010210805339738727,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898475,"event":"return","thread_id":9160,"parent_id":2898452,"elapsed":0.01025693299015984,"elapsed_instrumentation":0.00015065300976857543,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2898476,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898477,"event":"return","thread_id":9160,"parent_id":2898476,"elapsed":0.000310566,"elapsed_instrumentation":6.2132952734828e-05},{"id":2898478,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14325020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898479,"event":"return","thread_id":9160,"parent_id":2898478,"elapsed":3.6520068533718586e-06,"elapsed_instrumentation":0.00010378897422924638,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2898480,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14325020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898481,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14325040,"value":"Cache delete: relationship:111361440042536341:111361440042536346\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898482,"event":"return","thread_id":9160,"parent_id":2898481,"elapsed":0.0004900519852526486,"elapsed_instrumentation":0.00011298904428258538,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898483,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14325060,"value":"Cache delete: relationship:111361440042536346:111361440042536341\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898484,"event":"return","thread_id":9160,"parent_id":2898483,"elapsed":0.00044570700265467167,"elapsed_instrumentation":0.00013461202615872025,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898485,"event":"return","thread_id":9160,"parent_id":2898480,"elapsed":0.0014956709928810596,"elapsed_instrumentation":9.877199772745371e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2898486,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2898487,"event":"return","thread_id":9160,"parent_id":2898486,"elapsed":8.440983947366476e-06,"elapsed_instrumentation":0.00010253599612042308,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898488,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14317700,"value":"#<Account:0x00007fc8e0d5d210>"}},{"id":2898489,"event":"return","thread_id":9160,"parent_id":2898488,"elapsed":3.6749988794326782e-06,"elapsed_instrumentation":5.917996168136597e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898490,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14325080,"value":"#<Account:0x00007fc8e0d6a640>"}},{"id":2898491,"event":"return","thread_id":9160,"parent_id":2898490,"elapsed":1.0898977052420378e-05,"elapsed_instrumentation":5.5840995628386736e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898492,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14325100,"value":"{args=>[111361440042536346, 111361440042536341], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14325120,"value":"#<Sidekiq::Client:0x00007fc9322e3eb8>"}},{"id":2898493,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14325140,"value":"\u0007\u001b>__\u0000__;W_w"}},{"id":2898494,"event":"return","thread_id":9160,"parent_id":2898493,"elapsed":4.759989678859711e-06,"elapsed_instrumentation":0.0002489780308678746,"return_value":{"class":"String","value":"071b3ed986009bae3b57c777","object_id":14325160}},{"id":2898495,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14325180,"value":"[111361440042536346, 111361440042536341]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14325200,"value":"#<JSON::Ext::Generator::State:0x00007fc93222c5d8>"}},{"id":2898496,"event":"return","thread_id":9160,"parent_id":2898495,"elapsed":6.0909660533070564e-06,"elapsed_instrumentation":0.00010628101881593466,"return_value":{"class":"String","value":"[111361440042536346,111361440042536341]","object_id":14325220}},{"id":2898497,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14325240,"value":"#<JSON::Ext::Parser:0x00007fc93222a378>"}},{"id":2898498,"event":"return","thread_id":9160,"parent_id":2898497,"elapsed":5.361041985452175e-06,"elapsed_instrumentation":7.392896804958582e-05,"return_value":{"class":"Array","value":"[111361440042536346, 111361440042536341]","object_id":14325260,"size":2}},{"id":2898499,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14325280,"value":"_?_\u000b_(E_PV<\u0016"}},{"id":2898500,"event":"return","thread_id":9160,"parent_id":2898499,"elapsed":3.2529933378100395e-06,"elapsed_instrumentation":0.00010468799155205488,"return_value":{"class":"String","value":"df3f850bf628458850563c16","object_id":14325300}},{"id":2898501,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14325320,"value":"{retry=>true, queue=>pull, args=>[111361440042536346, 111361440042536341], class=>UnmergeWorker, jid=>071b3ed986009bae3b57c777, created_at=>1699240724.7018428, id=>df3f850bf628458850563c16}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14325340,"value":"#<JSON::Ext::Generator::State:0x00007fc932225f58>"}},{"id":2898502,"event":"return","thread_id":9160,"parent_id":2898501,"elapsed":1.6767997294664383e-05,"elapsed_instrumentation":0.00017099501565098763,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440042536346,111361440042536341],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14325360}},{"id":2898503,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14325380,"value":"#<JSON::Ext::Parser:0x00007fc93223f5c0>"}},{"id":2898504,"event":"return","thread_id":9160,"parent_id":2898503,"elapsed":1.9715982489287853e-05,"elapsed_instrumentation":0.0002451199688948691,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440042536346, 111361440042536341], class=>UnmergeWorker, jid=>071b3ed986009bae3b57c777, created_at=>1699240724.7018428, id=>df3f850bf628458850563c16}","object_id":14325400,"size":7}},{"id":2898505,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880085072693,"value":"111361440042536346","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880085072683,"value":"111361440042536341","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14325420,"value":"#<UnmergeWorker:0x00007fc932234620>"}},{"id":2898506,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14325420,"value":"#<UnmergeWorker:0x00007fc932234620>"}},{"id":2898507,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898508,"event":"return","thread_id":9160,"parent_id":2898507,"elapsed":0.000480311,"elapsed_instrumentation":7.42249540053308e-05},{"id":2898509,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898510,"event":"return","thread_id":9160,"parent_id":2898509,"elapsed":0.000467252,"elapsed_instrumentation":6.966502405703068e-05},{"id":2898511,"event":"return","thread_id":9160,"parent_id":2898506,"elapsed":0.0031494779977947474,"elapsed_instrumentation":0.00010077503975480795,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e15e3998>","object_id":14325440}},{"id":2898512,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14325420,"value":"#<UnmergeWorker:0x00007fc932234620>"}},{"id":2898513,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14325460,"value":"#<Account:0x00007fc8e15e3ad8>","kind":"req"},{"name":"into_account","class":"Account","object_id":14325440,"value":"#<Account:0x00007fc8e15e3998>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898514,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880085072683,"value":"111361440042536341","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898515,"event":"return","thread_id":9160,"parent_id":2898514,"elapsed":5.192996468394995e-06,"elapsed_instrumentation":9.983504423871636e-05,"return_value":{"class":"String","value":"feed:home:111361440042536341","object_id":14325480}},{"id":2898516,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898517,"event":"return","thread_id":9160,"parent_id":2898516,"elapsed":4.553003236651421e-06,"elapsed_instrumentation":7.345399353653193e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2898518,"event":"return","thread_id":9160,"parent_id":2898513,"elapsed":0.002971599984448403,"elapsed_instrumentation":0.00010227400343865156},{"id":2898519,"event":"return","thread_id":9160,"parent_id":2898512,"elapsed":0.003104906005319208,"elapsed_instrumentation":8.088693721219897e-05},{"id":2898520,"event":"return","thread_id":9160,"parent_id":2898505,"elapsed":0.00647943903459236,"elapsed_instrumentation":7.953797467052937e-05},{"id":2898521,"event":"return","thread_id":9160,"parent_id":2898492,"elapsed":0.007873814029153436,"elapsed_instrumentation":0.0004325259942561388,"return_value":{"class":"String","value":"071b3ed986009bae3b57c777","object_id":14325160}},{"id":2898522,"event":"return","thread_id":9160,"parent_id":2898437,"elapsed":0.027765451988670975,"elapsed_instrumentation":0.00014756899327039719,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15e67d8>","object_id":14325000}},{"id":2898523,"event":"return","thread_id":9160,"parent_id":2898436,"elapsed":0.02793711901176721,"elapsed_instrumentation":7.801095489412546e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15e67d8>","object_id":14325000}},{"id":2898524,"event":"return","thread_id":9160,"parent_id":2898435,"elapsed":0.02804948599077761,"elapsed_instrumentation":0.0001603180426172912,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15e67d8>","object_id":14325000}},{"id":2898525,"event":"return","thread_id":9160,"parent_id":2897516,"elapsed":0.40773167298175395,"elapsed_instrumentation":0.0001688800402916968,"return_value":{"class":"StringIO","value":"#<StringIO:0x00007fc932bc4af0>","object_id":14325500}}]}