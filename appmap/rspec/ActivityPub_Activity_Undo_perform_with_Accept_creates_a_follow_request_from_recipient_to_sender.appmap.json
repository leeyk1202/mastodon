{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ActivityPub::Activity::Undo #perform with Accept creates a follow request from recipient to sender","source_location":"spec/lib/activitypub/activity/undo_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"lib/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false}]}]},{"name":"activity","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"Activity","type":"class","children":[{"name":"Undo","type":"class","children":[{"name":"perform","type":"function","location":"app/lib/activitypub/activity/undo.rb:4","static":false}]}]}]}]}]},{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"synchronization_uri_prefix","type":"function","location":"app/models/account.rb:409","static":false}]},{"name":"Follow","type":"class","children":[{"name":"revoke_request!","type":"function","location":"app/models/follow.rb:40","static":false}]},{"name":"concerns","type":"package","children":[{"name":"FollowLimitable","type":"class","children":[{"name":"bypass_follow_limit?","type":"function","location":"app/models/concerns/follow_limitable.rb:14","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"following_count","type":"function","location":"app/models/concerns/account_counters.rb:13","static":false},{"name":"account_stat","type":"function","location":"app/models/concerns/account_counters.rb:76","static":false},{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]},{"name":"RateLimitable","type":"class","children":[{"name":"rate_limit?","type":"function","location":"app/models/concerns/rate_limitable.rb:10","static":false}]},{"name":"AccountInteractions","type":"class","children":[{"name":"requested?","type":"function","location":"app/models/concerns/account_interactions.rb:238","static":false}]}]},{"name":"AccountStat","type":"class","children":[{"name":"following_count","type":"function","location":"app/models/account_stat.rb:25","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"JsonLdHelper","type":"class","children":[{"name":"value_or_id","type":"function","location":"app/helpers/jsonld_helper.rb:54","static":false}]}]},{"name":"validators","type":"package","children":[{"name":"FollowLimitValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/follow_limit_validator.rb:7","static":false},{"name":"limit_for_account","type":"function","location":"app/validators/follow_limit_validator.rb:14","static":true}]},{"name":"LanguageValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"app/validators/language_validator.rb:6","static":false}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":1963969,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":10388320,"value":"#<Account:0x00007fc8e21bcd00>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":1963970,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10388320,"value":"#<Account:0x00007fc8e21bcd00>"}},{"id":1963971,"event":"return","thread_id":9160,"parent_id":1963970,"elapsed":1.1230993550270796e-05,"elapsed_instrumentation":0.0003573219873942435},{"id":1963972,"event":"return","thread_id":9160,"parent_id":1963969,"elapsed":0.0004325360059738159,"elapsed_instrumentation":0.0001898829941637814,"return_value":{"class":"String","value":"https://example.com/users/romeo_veum4768","object_id":10388360}},{"id":1963973,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":10388320,"value":"#<Account:0x00007fc8e21bcd00>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":1963974,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10388320,"value":"#<Account:0x00007fc8e21bcd00>"}},{"id":1963975,"event":"return","thread_id":9160,"parent_id":1963974,"elapsed":5.41098415851593e-06,"elapsed_instrumentation":5.383999086916447e-05},{"id":1963976,"event":"return","thread_id":9160,"parent_id":1963973,"elapsed":8.537998655810952e-05,"elapsed_instrumentation":0.00010276696411892772,"return_value":{"class":"String","value":"https://example.com/users/romeo_veum4768","object_id":10388360}},{"id":1963977,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Activity::Undo","method_id":"perform","path":"app/lib/activitypub/activity/undo.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::Activity::Undo","object_id":10388380,"value":"#<ActivityPub::Activity::Undo:0x00007fc931445af0>"}},{"id":1963978,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"value_or_id","path":"app/helpers/jsonld_helper.rb","lineno":54,"static":false,"parameters":[{"name":"value","class":"String","object_id":10387840,"value":"follow-to-revoke","kind":"req"}],"receiver":{"class":"ActivityPub::Activity::Undo","object_id":10388380,"value":"#<ActivityPub::Activity::Undo:0x00007fc931445af0>"}},{"id":1963979,"event":"return","thread_id":9160,"parent_id":1963978,"elapsed":4.464003723114729e-06,"elapsed_instrumentation":7.647799793630838e-05,"return_value":{"class":"String","value":"follow-to-revoke","object_id":10387840}},{"id":1963980,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1 AND \"follows\".\"uri\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1963981,"event":"return","thread_id":9160,"parent_id":1963980,"elapsed":0.000803956,"elapsed_instrumentation":0.00011145503958687186},{"id":1963982,"event":"call","thread_id":9160,"defined_class":"Follow","method_id":"revoke_request!","path":"app/models/follow.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":10388400,"value":"#<Follow:0x00007fc8e21b9740>"}},{"id":1963983,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1963984,"event":"return","thread_id":9160,"parent_id":1963983,"elapsed":0.001210998,"elapsed_instrumentation":0.0001003880170173943},{"id":1963985,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1963986,"event":"return","thread_id":9160,"parent_id":1963985,"elapsed":0.000631139,"elapsed_instrumentation":9.001197759062052e-05},{"id":1963987,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2847900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2e060>"}},{"id":1963988,"event":"return","thread_id":9160,"parent_id":1963987,"elapsed":5.65570080652833e-05,"elapsed_instrumentation":0.0006560879992321134,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932791eb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932792068 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2847980,"size":2}},{"id":1963989,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2e010>"}},{"id":1963990,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit?","path":"app/models/concerns/follow_limitable.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"FollowRequest","object_id":10388460,"value":"#<FollowRequest:0x00007fc8e21b9100>"}},{"id":1963991,"event":"return","thread_id":9160,"parent_id":1963990,"elapsed":6.6899810917675495e-06,"elapsed_instrumentation":9.471602970734239e-05},{"id":1963992,"event":"call","thread_id":9160,"defined_class":"FollowLimitValidator","method_id":"validate","path":"app/validators/follow_limit_validator.rb","lineno":7,"static":false,"parameters":[{"name":"follow","class":"FollowRequest","object_id":10388460,"value":"#<FollowRequest:0x00007fc8e21b9100>","kind":"req"}],"receiver":{"class":"FollowLimitValidator","object_id":2848040,"value":"#<FollowLimitValidator:0x00007fc93962c640>"}},{"id":1963993,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>"}},{"id":1963994,"event":"return","thread_id":9160,"parent_id":1963993,"elapsed":0.00014672201359644532,"elapsed_instrumentation":0.00021157099399715662,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1963995,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":10388500,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10388520,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>"}},{"id":1963996,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>"}},{"id":1963997,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1963998,"event":"return","thread_id":9160,"parent_id":1963997,"elapsed":0.000540105,"elapsed_instrumentation":0.00010293902596458793},{"id":1963999,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1964000,"event":"return","thread_id":9160,"parent_id":1963999,"elapsed":0.000705388,"elapsed_instrumentation":8.325302042067051e-05},{"id":1964001,"event":"return","thread_id":9160,"parent_id":1963996,"elapsed":0.0036471220082603395,"elapsed_instrumentation":0.00014214101247489452,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21b8d40>","object_id":10388540}},{"id":1964002,"event":"call","thread_id":9160,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":10388540,"value":"#<AccountStat:0x00007fc8e21b8d40>"}},{"id":1964003,"event":"return","thread_id":9160,"parent_id":1964002,"elapsed":0.00011458195513114333,"elapsed_instrumentation":9.937200229614973e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1964004,"event":"return","thread_id":9160,"parent_id":1963995,"elapsed":0.004059105995111167,"elapsed_instrumentation":0.000418450974393636,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1964005,"event":"call","thread_id":9160,"defined_class":"FollowLimitValidator","method_id":"limit_for_account","path":"app/validators/follow_limit_validator.rb","lineno":14,"static":true,"parameters":[{"name":"account","class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>","kind":"req"}],"receiver":{"class":"Class","object_id":58400,"value":"FollowLimitValidator"}},{"id":1964006,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":10388560,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10388580,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>"}},{"id":1964007,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>"}},{"id":1964008,"event":"return","thread_id":9160,"parent_id":1964007,"elapsed":2.24369578063488e-05,"elapsed_instrumentation":0.0003869830397889018,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21b8d40>","object_id":10388540}},{"id":1964009,"event":"call","thread_id":9160,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":10388540,"value":"#<AccountStat:0x00007fc8e21b8d40>"}},{"id":1964010,"event":"return","thread_id":9160,"parent_id":1964009,"elapsed":3.233802272006869e-05,"elapsed_instrumentation":7.885193917900324e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1964011,"event":"return","thread_id":9160,"parent_id":1964006,"elapsed":0.0005673359846696258,"elapsed_instrumentation":0.00011179596185684204,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1964012,"event":"return","thread_id":9160,"parent_id":1964005,"elapsed":0.0006999199977144599,"elapsed_instrumentation":9.760895045474172e-05,"return_value":{"class":"Integer","value":"7500","object_id":15001}},{"id":1964013,"event":"return","thread_id":9160,"parent_id":1963992,"elapsed":0.005844408995471895,"elapsed_instrumentation":0.00013319309800863266},{"id":1964014,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1964015,"event":"return","thread_id":9160,"parent_id":1964014,"elapsed":0.000770039,"elapsed_instrumentation":0.00010295194806531072},{"id":1964016,"event":"call","thread_id":9160,"defined_class":"LanguageValidator","method_id":"validate_each","path":"app/validators/language_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"FollowRequest","object_id":10388460,"value":"#<FollowRequest:0x00007fc8e21b9100>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":9806428,"value":":languages","kind":"req"},{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"LanguageValidator","object_id":2848160,"value":"#<LanguageValidator:0x00007fc93984da28>"}},{"id":1964017,"event":"return","thread_id":9160,"parent_id":1964016,"elapsed":0.000143186014611274,"elapsed_instrumentation":0.00014954700600355864},{"id":1964018,"event":"return","thread_id":9160,"parent_id":1963989,"elapsed":0.008742909994907677,"elapsed_instrumentation":0.00023914698977023363,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932790ab0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932790c68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932790f38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932791118 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327912f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327914d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2848180,"size":6}},{"id":1964019,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2e010>"}},{"id":1964020,"event":"return","thread_id":9160,"parent_id":1964019,"elapsed":3.506953362375498e-06,"elapsed_instrumentation":9.805301669985056e-05,"return_value":{"class":"Array","value":"[]","object_id":2848200,"size":0}},{"id":1964021,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2847900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2e060>"}},{"id":1964022,"event":"return","thread_id":9160,"parent_id":1964021,"elapsed":2.6440247893333435e-06,"elapsed_instrumentation":7.642002310603857e-05,"return_value":{"class":"Array","value":"[]","object_id":2848220,"size":0}},{"id":1964023,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2d110>"}},{"id":1964024,"event":"return","thread_id":9160,"parent_id":1964023,"elapsed":0.00010926800314337015,"elapsed_instrumentation":0.0004029799601994455,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9327a5528 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327a56e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2848280,"size":2}},{"id":1964025,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2ce40>"}},{"id":1964026,"event":"return","thread_id":9160,"parent_id":1964025,"elapsed":3.1440285965800285e-06,"elapsed_instrumentation":0.00010072300210595131,"return_value":{"class":"Array","value":"[]","object_id":2848340,"size":0}},{"id":1964027,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"follow_requests\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"show_reblogs\", \"uri\", \"notify\", \"languages\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING \"id\"","database_type":"postgres"}},{"id":1964028,"event":"return","thread_id":9160,"parent_id":1964027,"elapsed":0.001144602,"elapsed_instrumentation":8.035002974793315e-05},{"id":1964029,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2ce40>"}},{"id":1964030,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit?","path":"app/models/concerns/rate_limitable.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"FollowRequest","object_id":10388460,"value":"#<FollowRequest:0x00007fc8e21b9100>"}},{"id":1964031,"event":"return","thread_id":9160,"parent_id":1964030,"elapsed":4.540022928267717e-06,"elapsed_instrumentation":6.910198135301471e-05},{"id":1964032,"event":"return","thread_id":9160,"parent_id":1964029,"elapsed":0.0002461340045556426,"elapsed_instrumentation":0.00017907907022163272,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9327a4510 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327a4330 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2848360,"size":2}},{"id":1964033,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2d110>"}},{"id":1964034,"event":"return","thread_id":9160,"parent_id":1964033,"elapsed":2.8790091164410114e-06,"elapsed_instrumentation":9.149301331490278e-05,"return_value":{"class":"Array","value":"[]","object_id":2848380,"size":0}},{"id":1964035,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1964036,"event":"return","thread_id":9160,"parent_id":1964035,"elapsed":0.000380219,"elapsed_instrumentation":7.305998587980866e-05},{"id":1964037,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2c5d0>"}},{"id":1964038,"event":"return","thread_id":9160,"parent_id":1964037,"elapsed":8.322997018694878e-06,"elapsed_instrumentation":0.00024691305588930845,"return_value":{"class":"Array","value":"[]","object_id":2848440,"size":0}},{"id":1964039,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2c5d0>"}},{"id":1964040,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10388660,"value":"Cache delete: relationship:111361402295748630:111361402295748631\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1964041,"event":"return","thread_id":9160,"parent_id":1964040,"elapsed":0.0006868250202387571,"elapsed_instrumentation":0.00017017102800309658,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1964042,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10388680,"value":"Cache delete: relationship:111361402295748631:111361402295748630\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1964043,"event":"return","thread_id":9160,"parent_id":1964042,"elapsed":0.0005264959763735533,"elapsed_instrumentation":0.0001361119793727994,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1964044,"event":"return","thread_id":9160,"parent_id":1964039,"elapsed":0.0022788800415582955,"elapsed_instrumentation":0.0001882920041680336,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93274fa60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2848500,"size":1}},{"id":1964045,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":1964046,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1964047,"event":"return","thread_id":9160,"parent_id":1964046,"elapsed":0.000423944,"elapsed_instrumentation":9.3492039013654e-05},{"id":1964048,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1964049,"event":"return","thread_id":9160,"parent_id":1964048,"elapsed":0.0007284,"elapsed_instrumentation":7.165101123973727e-05},{"id":1964050,"event":"return","thread_id":9160,"parent_id":1964045,"elapsed":0.0034523350186645985,"elapsed_instrumentation":0.0001616089721210301,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":1964051,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1964052,"event":"return","thread_id":9160,"parent_id":1964051,"elapsed":0.000634269,"elapsed_instrumentation":7.078301860019565e-05},{"id":1964053,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":1964054,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1964055,"event":"return","thread_id":9160,"parent_id":1964054,"elapsed":0.000587543,"elapsed_instrumentation":8.149596396833658e-05},{"id":1964056,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>"}},{"id":1964057,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>"}},{"id":1964058,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>"}},{"id":1964059,"event":"return","thread_id":9160,"parent_id":1964058,"elapsed":1.7004029359668493e-05,"elapsed_instrumentation":9.261496597900987e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21b8d40>","object_id":10388540}},{"id":1964060,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361402295748630, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1964061,"event":"return","thread_id":9160,"parent_id":1964060,"elapsed":0.000846401,"elapsed_instrumentation":6.792601197957993e-05},{"id":1964062,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>"}},{"id":1964063,"event":"return","thread_id":9160,"parent_id":1964062,"elapsed":1.2323958799242973e-05,"elapsed_instrumentation":0.0001083770184777677,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21b8d40>","object_id":10388540}},{"id":1964064,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>"}},{"id":1964065,"event":"return","thread_id":9160,"parent_id":1964064,"elapsed":6.884976755827665e-06,"elapsed_instrumentation":6.946403300389647e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21b8d40>","object_id":10388540}},{"id":1964066,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1964067,"event":"return","thread_id":9160,"parent_id":1964066,"elapsed":0.000385278,"elapsed_instrumentation":7.905997335910797e-05},{"id":1964068,"event":"return","thread_id":9160,"parent_id":1964057,"elapsed":0.003717930056154728,"elapsed_instrumentation":0.00013643194688484073,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21b8d40>","object_id":10388540}},{"id":1964069,"event":"return","thread_id":9160,"parent_id":1964056,"elapsed":0.003881910990457982,"elapsed_instrumentation":0.00012330105528235435,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21b8d40>","object_id":10388540}},{"id":1964070,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":10388720,"value":"#<Account:0x00007fc8e21b9240>"}},{"id":1964071,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":10388720,"value":"#<Account:0x00007fc8e21b9240>"}},{"id":1964072,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361402295748631, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1964073,"event":"return","thread_id":9160,"parent_id":1964072,"elapsed":0.000856255,"elapsed_instrumentation":7.126200944185257e-05},{"id":1964074,"event":"return","thread_id":9160,"parent_id":1964071,"elapsed":0.0013381509925238788,"elapsed_instrumentation":8.364603854715824e-05},{"id":1964075,"event":"return","thread_id":9160,"parent_id":1964070,"elapsed":0.0014456970384344459,"elapsed_instrumentation":9.706901619210839e-05},{"id":1964076,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>"}},{"id":1964077,"event":"return","thread_id":9160,"parent_id":1964076,"elapsed":1.1505966540426016e-05,"elapsed_instrumentation":0.00016740505816414952,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1964078,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10388720,"value":"#<Account:0x00007fc8e21b9240>"}},{"id":1964079,"event":"return","thread_id":9160,"parent_id":1964078,"elapsed":1.8825987353920937e-05,"elapsed_instrumentation":6.843294249847531e-05},{"id":1964080,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"synchronization_uri_prefix","path":"app/models/account.rb","lineno":409,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>"}},{"id":1964081,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10388480,"value":"#<Account:0x00007fc8e21b94c0>"}},{"id":1964082,"event":"return","thread_id":9160,"parent_id":1964081,"elapsed":4.042987711727619e-06,"elapsed_instrumentation":5.5844022426754236e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1964083,"event":"return","thread_id":9160,"parent_id":1964080,"elapsed":7.64080323278904e-05,"elapsed_instrumentation":6.814301013946533e-05,"return_value":{"class":"String","value":"local","object_id":1381860}},{"id":1964084,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10388740,"value":"Cache delete: followers_hash:111361402295748631:local\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1964085,"event":"return","thread_id":9160,"parent_id":1964084,"elapsed":0.0006443059537559748,"elapsed_instrumentation":0.00010942399967461824,"return_value":{"class":"Integer","value":"54","object_id":109}},{"id":1964086,"event":"return","thread_id":9160,"parent_id":1964053,"elapsed":0.009053652989678085,"elapsed_instrumentation":0.00017863302491605282,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":1964087,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1964088,"event":"return","thread_id":9160,"parent_id":1964087,"elapsed":0.000524277,"elapsed_instrumentation":7.644196739420295e-05},{"id":1964089,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":1964090,"event":"return","thread_id":9160,"parent_id":1964089,"elapsed":3.567023668438196e-06,"elapsed_instrumentation":0.00012108194641768932,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":1964091,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":1964092,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10388780,"value":"Cache delete: relationship:111361402295748630:111361402295748631\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1964093,"event":"return","thread_id":9160,"parent_id":1964092,"elapsed":0.0006754990317858756,"elapsed_instrumentation":0.00011776195606216788,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1964094,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10388800,"value":"Cache delete: relationship:111361402295748631:111361402295748630\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1964095,"event":"return","thread_id":9160,"parent_id":1964094,"elapsed":0.0006788240280002356,"elapsed_instrumentation":0.00013795401901006699,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1964096,"event":"return","thread_id":9160,"parent_id":1964091,"elapsed":0.001872219960205257,"elapsed_instrumentation":0.00011042202822864056,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":1964097,"event":"return","thread_id":9160,"parent_id":1963982,"elapsed":0.042267712007742375,"elapsed_instrumentation":0.00036080501740798354,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21b9740>","object_id":10388400}},{"id":1964098,"event":"return","thread_id":9160,"parent_id":1963977,"elapsed":0.04479711502790451,"elapsed_instrumentation":7.19649251550436e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21b9740>","object_id":10388400}},{"id":1964099,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"requested?","path":"app/models/concerns/account_interactions.rb","lineno":238,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":10388320,"value":"#<Account:0x00007fc8e21bcd00>","kind":"req"}],"receiver":{"class":"Account","object_id":10388280,"value":"#<Account:0x00007fc8e21a1b90>"}},{"id":1964100,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1964101,"event":"return","thread_id":9160,"parent_id":1964100,"elapsed":0.000792847,"elapsed_instrumentation":0.00011565902968868613},{"id":1964102,"event":"return","thread_id":9160,"parent_id":1964099,"elapsed":0.003000411030370742,"elapsed_instrumentation":0.00012022099690511823,"return_value":{"class":"TrueClass","value":"true","object_id":20}}]}