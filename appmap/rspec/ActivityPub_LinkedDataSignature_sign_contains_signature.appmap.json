{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ActivityPub::LinkedDataSignature #sign! contains signature","source_location":"spec/lib/activitypub/linked_data_signature_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"lib/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"LinkedDataSignature","type":"class","children":[{"name":"sign!","type":"function","location":"app/lib/activitypub/linked_data_signature.rb:35","static":false}]},{"name":"TagManager","type":"class","children":[{"name":"key_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:53","static":false},{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false}]}]}]},{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"keypair","type":"function","location":"app/models/account.rb:293","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"JsonLdHelper","type":"class","children":[{"name":"canonicalize","type":"function","location":"app/helpers/jsonld_helper.rb:75","static":false}]}]}]},{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"sign","type":"function","location":"OpenSSL::PKey::PKey#sign","static":false,"labels":["crypto.pkey"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]}],"events":[{"id":1147350,"event":"call","thread_id":9160,"defined_class":"ActivityPub::LinkedDataSignature","method_id":"sign!","path":"app/lib/activitypub/linked_data_signature.rb","lineno":35,"static":false,"parameters":[{"name":"creator","class":"Account","object_id":6352560,"value":"#<Account:0x00007fdc06de26c0>","kind":"req"},{"name":"sign_with","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"ActivityPub::LinkedDataSignature","object_id":6352580,"value":"#<ActivityPub::LinkedDataSignature:0x00007fdc09917840>"}},{"id":1147351,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"key_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":53,"static":false,"parameters":[{"name":"target","class":"Account","object_id":6352560,"value":"#<Account:0x00007fdc06de26c0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":1147352,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":6352560,"value":"#<Account:0x00007fdc06de26c0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":1147353,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6352560,"value":"#<Account:0x00007fdc06de26c0>"}},{"id":1147354,"event":"return","thread_id":9160,"parent_id":1147353,"elapsed":1.8220016499981284e-05,"elapsed_instrumentation":7.170799653977156e-05},{"id":1147355,"event":"return","thread_id":9160,"parent_id":1147352,"elapsed":0.0004938720085192472,"elapsed_instrumentation":0.00018694301252253354,"return_value":{"class":"String","value":"http://example.com/alice","object_id":6352600}},{"id":1147356,"event":"return","thread_id":9160,"parent_id":1147351,"elapsed":0.0007149529992602766,"elapsed_instrumentation":0.0002266719820909202,"return_value":{"class":"String","value":"http://example.com/alice#main-key","object_id":6352620}},{"id":1147357,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"canonicalize","path":"app/helpers/jsonld_helper.rb","lineno":75,"static":false,"parameters":[{"name":"json","class":"Hash","object_id":6352640,"value":"{creator=>http://example.com/alice#main-key, created=>2023-11-05T23:20:02Z, @context=>https://w3id.org/identity/v1}","kind":"req","size":3}],"receiver":{"class":"ActivityPub::LinkedDataSignature","object_id":6352580,"value":"#<ActivityPub::LinkedDataSignature:0x00007fdc09917840>"}},{"id":1147358,"event":"return","thread_id":9160,"parent_id":1147357,"elapsed":0.004264888993930072,"elapsed_instrumentation":0.000616794015513733,"return_value":{"class":"String","value":"_:c14n0 <http://purl.org/dc/terms/created> \"2023-11-05T23:20:02Z\"^^<http://www.w3.org/2001/XMLSchema (...94 more characters)","object_id":6352660}},{"id":1147359,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"canonicalize","path":"app/helpers/jsonld_helper.rb","lineno":75,"static":false,"parameters":[{"name":"json","class":"ActiveSupport::HashWithIndifferentAccess","object_id":6352680,"value":"{@context=>https://www.w3.org/ns/activitystreams, id=>http://example.com/hello-world}","kind":"req","size":2}],"receiver":{"class":"ActivityPub::LinkedDataSignature","object_id":6352580,"value":"#<ActivityPub::LinkedDataSignature:0x00007fdc09917840>"}},{"id":1147360,"event":"return","thread_id":9160,"parent_id":1147359,"elapsed":0.0019188650185242295,"elapsed_instrumentation":0.00020837498595938087,"return_value":{"class":"String","value":"","object_id":6352700}},{"id":1147361,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6352560,"value":"#<Account:0x00007fdc06de26c0>"}},{"id":1147362,"event":"return","thread_id":9160,"parent_id":1147361,"elapsed":0.00012854600208811462,"elapsed_instrumentation":0.00016620001406408846,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEA3gSp1lLt/hiKEO0H85KwD4AeQD+x1q4fWKUUa0iTXbn4KHL9\nmaM","object_id":6352720}},{"id":1147363,"event":"call","thread_id":9160,"defined_class":"OpenSSL::PKey::PKey","method_id":"sign","path":"OpenSSL::PKey::PKey#sign","static":false,"parameters":[{"name":"arg","class":"Array","object_id":6352740,"value":"[e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855, 984cf5b48f4675bd8b01c92a2a29f049ea19820afd21137c8ca888eaea840e2fe3b0c44298fc1c149afbf4c8996fb92427ae (...28 more characters)]","kind":"rest","size":2}],"receiver":{"class":"OpenSSL::PKey::RSA","object_id":6352720,"value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEA3gSp1lLt/hiKEO0H85KwD4AeQD+x1q4fWKUUa0iTXbn4KHL9\nmaM"}},{"id":1147364,"event":"return","thread_id":9160,"parent_id":1147363,"elapsed":0.0021675030002370477,"elapsed_instrumentation":0.0003084830241277814,"return_value":{"class":"String","value":"__s_2\u0019_\u000e__\t_Fr__uI___Q_\u001a_\u0011___l__`\u0011S_+_p\u0002____P\u0002_1~_e/__V_ei>,\u0016[_\r_3_[\u0002\b_\u0000\u001c\u0003_e__\u001d_}_2\u0001\nS_@\u001e?_\n_______\u001e (...156 more characters)","object_id":6352760}},{"id":1147365,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":326460,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":6352780,"value":"[__s_2\u0019_\u000e__\t_Fr__uI___Q_\u001a_\u0011___l__`\u0011S_+_p\u0002____P\u0002_1~_e/__V_ei>,\u0016[_\r_3_[\u0002\b_\u0000\u001c\u0003_e__\u001d_}_2\u0001\nS_@\u001e?_\n_______\u001e (...156 more characters)]"}},{"id":1147366,"event":"return","thread_id":9160,"parent_id":1147365,"elapsed":1.4308025129139423e-05,"elapsed_instrumentation":0.0004613189958035946,"return_value":{"class":"String","value":"tMFzrjIZ0w66+Am5RnL15XVJrrjuUZMalxGg0pVs8dFgEVPsK5xwAvqxjuxQAr4xfvNlL8L7Vp5laT4sFluBDbAzuFsCCLYAHAP+ (...244 more characters)","object_id":6352800}},{"id":1147367,"event":"return","thread_id":9160,"parent_id":1147350,"elapsed":0.011886071995832026,"elapsed_instrumentation":0.0005779780040029436,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{@context=>https://www.w3.org/ns/activitystreams, id=>http://example.com/hello-world, signature=>{type=>RsaSignature2017, creator=>http://example.com/alice#main-key, created=>2023-11-05T23:20:02Z, signatureValue=>tMFzrjIZ0w66+Am5RnL15XVJrrjuUZMalxGg0pVs8dFgEVPsK5xwAvqxjuxQAr4xfvNlL8L7Vp5laT4sFluBDbAzuFsCCLYAHAP+ (...244 more characters)}}","object_id":6352820,"size":3}}]}