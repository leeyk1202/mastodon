{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"The webhook factory is valid","source_location":"spec/fabrication/fabricators_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app/validators","type":"package","children":[{"name":"URLValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"app/validators/url_validator.rb:6","static":false}]}]}],"events":[{"id":1036386,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":6074820,"value":"\u0004_\tk%_AU\rA3_\f)__"}},{"id":1036387,"event":"return","thread_id":9160,"parent_id":1036386,"elapsed":6.899004802107811e-06,"elapsed_instrumentation":0.00039895798545330763,"return_value":{"class":"String","value":"04e8096b25e541550d41339b0c29dfa5","object_id":6074840}},{"id":1036388,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6074860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1062560,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930ba1fe8>"}},{"id":1036389,"event":"return","thread_id":9160,"parent_id":1036388,"elapsed":0.0002508510369807482,"elapsed_instrumentation":0.00020143401343375444,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933157800 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933157940 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933157a80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1062580,"size":3}},{"id":1036390,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6074880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1062620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930ba1e08>"}},{"id":1036391,"event":"call","thread_id":9160,"defined_class":"URLValidator","method_id":"validate_each","path":"app/validators/url_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"Webhook","object_id":6074900,"value":"#<Webhook:0x00007fc9328720a0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":1292188,"value":":url","kind":"req"},{"name":"value","class":"String","object_id":6074920,"value":"http://oberbrunner-goodwin.example/mariano","kind":"req"}],"receiver":{"class":"URLValidator","object_id":1062680,"value":"#<URLValidator:0x00007fc9385cace8>"}},{"id":1036392,"event":"return","thread_id":9160,"parent_id":1036391,"elapsed":0.00018811499467119575,"elapsed_instrumentation":0.00014019000809639692},{"id":1036393,"event":"return","thread_id":9160,"parent_id":1036390,"elapsed":0.0005182470194995403,"elapsed_instrumentation":0.0004689570050686598,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9331554d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933155690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933155870 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933155a50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933155c30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933155e10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933155ff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933156130 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933156270 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1062700,"size":9}},{"id":1036394,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6074880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1062620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930ba1e08>"}},{"id":1036395,"event":"return","thread_id":9160,"parent_id":1036394,"elapsed":3.5859993658959866e-06,"elapsed_instrumentation":0.00010410801041871309,"return_value":{"class":"Array","value":"[]","object_id":1062720,"size":0}},{"id":1036396,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6074860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1062560,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930ba1fe8>"}},{"id":1036397,"event":"return","thread_id":9160,"parent_id":1036396,"elapsed":5.5310083553195e-06,"elapsed_instrumentation":0.0001211540075019002,"return_value":{"class":"Array","value":"[]","object_id":1062740,"size":0}},{"id":1036398,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1036399,"event":"return","thread_id":9160,"parent_id":1036398,"elapsed":0.000576418,"elapsed_instrumentation":0.00010374601697549224},{"id":1036400,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"webhooks\" (\"url\", \"events\", \"secret\", \"enabled\", \"created_at\", \"updated_at\", \"template\") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING \"id\"","database_type":"postgres"}},{"id":1036401,"event":"return","thread_id":9160,"parent_id":1036400,"elapsed":0.002311542,"elapsed_instrumentation":8.117902325466275e-05},{"id":1036402,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1036403,"event":"return","thread_id":9160,"parent_id":1036402,"elapsed":0.000615593,"elapsed_instrumentation":8.217402501031756e-05},{"id":1036404,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6074940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1062560,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930ba1fe8>"}},{"id":1036405,"event":"return","thread_id":9160,"parent_id":1036404,"elapsed":0.0004627219750545919,"elapsed_instrumentation":0.0002690350520424545,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933157800 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933157940 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933157a80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1062580,"size":3}},{"id":1036406,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6074960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1062620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930ba1e08>"}},{"id":1036407,"event":"call","thread_id":9160,"defined_class":"URLValidator","method_id":"validate_each","path":"app/validators/url_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"Webhook","object_id":6074900,"value":"#<Webhook:0x00007fc9328720a0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":1292188,"value":":url","kind":"req"},{"name":"value","class":"String","object_id":6074980,"value":"http://oberbrunner-goodwin.example/mariano","kind":"req"}],"receiver":{"class":"URLValidator","object_id":1062680,"value":"#<URLValidator:0x00007fc9385cace8>"}},{"id":1036408,"event":"return","thread_id":9160,"parent_id":1036407,"elapsed":0.000311441021040082,"elapsed_instrumentation":0.0001324079930782318},{"id":1036409,"event":"return","thread_id":9160,"parent_id":1036406,"elapsed":0.0006519819726236165,"elapsed_instrumentation":0.0002451329492032528,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9331554d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933155690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933155870 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933155a50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933155c30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933155e10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933155ff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933156130 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933156270 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1062700,"size":9}},{"id":1036410,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6074960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1062620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930ba1e08>"}},{"id":1036411,"event":"return","thread_id":9160,"parent_id":1036410,"elapsed":3.928027581423521e-06,"elapsed_instrumentation":0.00011908699525520205,"return_value":{"class":"Array","value":"[]","object_id":1062720,"size":0}},{"id":1036412,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6074940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1062560,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930ba1fe8>"}},{"id":1036413,"event":"return","thread_id":9160,"parent_id":1036412,"elapsed":2.875982318073511e-06,"elapsed_instrumentation":7.758702849969268e-05,"return_value":{"class":"Array","value":"[]","object_id":1062740,"size":0}}]}