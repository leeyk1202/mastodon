{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure total with include_subdomains returns the expected number of accounts","source_location":"spec/lib/admin/metrics/measure/instance_media_attachments_measure_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app/lib/admin/metrics/measure","type":"package","children":[{"name":"Admin","type":"class","children":[{"name":"Metrics","type":"class","children":[{"name":"Measure","type":"class","children":[{"name":"BaseMeasure","type":"class","children":[{"name":"total","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:37","static":false},{"name":"load","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:59","static":false},{"name":"cache_key","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:21","static":false},{"name":"canonicalized_params","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:104","static":false},{"name":"perform_queries","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:68","static":false}]},{"name":"InstanceMediaAttachmentsMeasure","type":"class","children":[{"name":"key","type":"function","location":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb:11","static":false},{"name":"params","type":"function","location":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb:69","static":false},{"name":"perform_total_query","type":"function","location":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb:29","static":false},{"name":"perform_previous_total_query","type":"function","location":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb:35","static":false},{"name":"sql_array","type":"function","location":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb:39","static":false},{"name":"sql_query_string","type":"function","location":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb:43","static":false}]},{"name":"QueryHelper","type":"class","children":[{"name":"perform_data_query","type":"function","location":"app/lib/admin/metrics/measure/query_helper.rb:6","static":false},{"name":"measurement_data_rows","type":"function","location":"app/lib/admin/metrics/measure/query_helper.rb:10","static":false},{"name":"sanitized_sql_string","type":"function","location":"app/lib/admin/metrics/measure/query_helper.rb:14","static":false},{"name":"account_domain_sql","type":"function","location":"app/lib/admin/metrics/measure/query_helper.rb:18","static":false}]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Marshal","type":"class","children":[{"name":"dump","type":"function","location":"Marshal.dump","static":true,"labels":["serialize"]}]}]}],"events":[{"id":1266404,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT SUM(\"media_attachments\".\"file_file_size\") FROM \"media_attachments\" WHERE \"media_attachments\".\"account_id\" = $1","database_type":"postgres"}},{"id":1266405,"event":"return","thread_id":9160,"parent_id":1266404,"elapsed":0.001148614,"elapsed_instrumentation":0.0004024239897262305},{"id":1266406,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT SUM(\"media_attachments\".\"thumbnail_file_size\") FROM \"media_attachments\" WHERE \"media_attachments\".\"account_id\" = $1","database_type":"postgres"}},{"id":1266407,"event":"return","thread_id":9160,"parent_id":1266406,"elapsed":0.001466132,"elapsed_instrumentation":0.00028991798171773553},{"id":1266408,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT SUM(\"media_attachments\".\"file_file_size\") FROM \"media_attachments\" WHERE \"media_attachments\".\"account_id\" = $1","database_type":"postgres"}},{"id":1266409,"event":"return","thread_id":9160,"parent_id":1266408,"elapsed":0.001646271,"elapsed_instrumentation":0.00027046899776905775},{"id":1266410,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT SUM(\"media_attachments\".\"thumbnail_file_size\") FROM \"media_attachments\" WHERE \"media_attachments\".\"account_id\" = $1","database_type":"postgres"}},{"id":1266411,"event":"return","thread_id":9160,"parent_id":1266410,"elapsed":0.001050497,"elapsed_instrumentation":0.00014049001038074493},{"id":1266412,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"total","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":37,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266413,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"load","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":59,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266414,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"cache_key","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":21,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266415,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"key","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266416,"event":"return","thread_id":9160,"parent_id":1266415,"elapsed":5.152018275111914e-06,"elapsed_instrumentation":0.00012062300811521709,"return_value":{"class":"String","value":"instance_media_attachments","object_id":6997600}},{"id":1266417,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"canonicalized_params","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":104,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266418,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266419,"event":"return","thread_id":9160,"parent_id":1266418,"elapsed":0.00012682200758717954,"elapsed_instrumentation":0.00039132300298660994,"return_value":{"class":"ActionController::Parameters","value":"{\"domain\"=>\"example.com\", \"include_subdomains\"=>\"true\"}","object_id":6998920}},{"id":1266420,"event":"return","thread_id":9160,"parent_id":1266417,"elapsed":0.0006144219951238483,"elapsed_instrumentation":0.00012861602590419352,"return_value":{"class":"String","value":"domain=example.com;include_subdomains=true","object_id":6998940}},{"id":1266421,"event":"return","thread_id":9160,"parent_id":1266414,"elapsed":0.0009478149877395481,"elapsed_instrumentation":0.0001169209717772901,"return_value":{"class":"String","value":"metrics/measure/instance_media_attachments;2023-11-03T23:21:32+00:00;2023-11-05T23:21:32+00:00;domai (...37 more characters)","object_id":6998960}},{"id":1266422,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":6998980,"value":"Cache read: metrics/measure/instance_media_attachments;2023-11-03T23:21:32+00:00;2023-11-05T23:21:32 (...122 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1266423,"event":"return","thread_id":9160,"parent_id":1266422,"elapsed":0.000981407007202506,"elapsed_instrumentation":0.00022483101929537952,"return_value":{"class":"Integer","value":"222","object_id":445}},{"id":1266424,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":6999000,"value":"Cache generate: metrics/measure/instance_media_attachments;2023-11-03T23:21:32+00:00;2023-11-05T23:2 (...126 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1266425,"event":"return","thread_id":9160,"parent_id":1266424,"elapsed":0.0009316820069216192,"elapsed_instrumentation":0.00021282999659888446,"return_value":{"class":"Integer","value":"226","object_id":453}},{"id":1266426,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"perform_queries","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":68,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266427,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"perform_total_query","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":29,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266428,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266429,"event":"return","thread_id":9160,"parent_id":1266428,"elapsed":7.934399764053524e-05,"elapsed_instrumentation":8.809901191852987e-05,"return_value":{"class":"ActionController::Parameters","value":"{\"domain\"=>\"example.com\", \"include_subdomains\"=>\"true\"}","object_id":6999020}},{"id":1266430,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266431,"event":"return","thread_id":9160,"parent_id":1266430,"elapsed":4.2400002712383866e-05,"elapsed_instrumentation":9.298298391513526e-05,"return_value":{"class":"ActionController::Parameters","value":"{\"domain\"=>\"example.com\", \"include_subdomains\"=>\"true\"}","object_id":6999040}},{"id":1266432,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266433,"event":"return","thread_id":9160,"parent_id":1266432,"elapsed":8.60770232975483e-05,"elapsed_instrumentation":0.0005828459979966283,"return_value":{"class":"ActionController::Parameters","value":"{\"domain\"=>\"example.com\", \"include_subdomains\"=>\"true\"}","object_id":6999060}},{"id":1266434,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT SUM(COALESCE(file_file_size, 0) + COALESCE(thumbnail_file_size, 0)) FROM \"media_attachments\" INNER JOIN \"accounts\" ON \"accounts\".\"id\" = \"media_attachments\".\"account_id\" WHERE \"accounts\".\"domain\" IN (SELECT \"instances\".\"domain\" FROM \"instances\" WHERE (reverse('.' || domain) LIKE reverse('%.example.com')))","database_type":"postgres"}},{"id":1266435,"event":"return","thread_id":9160,"parent_id":1266434,"elapsed":0.005411755,"elapsed_instrumentation":0.0002417519863229245},{"id":1266436,"event":"return","thread_id":9160,"parent_id":1266427,"elapsed":0.010856260982109234,"elapsed_instrumentation":0.00019811300444416702,"return_value":{"class":"Integer","value":"122044","object_id":244089}},{"id":1266437,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"perform_previous_total_query","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266438,"event":"return","thread_id":9160,"parent_id":1266437,"elapsed":6.0549937188625336e-06,"elapsed_instrumentation":0.00016997798229567707},{"id":1266439,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::QueryHelper","method_id":"perform_data_query","path":"app/lib/admin/metrics/measure/query_helper.rb","lineno":6,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266440,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::QueryHelper","method_id":"measurement_data_rows","path":"app/lib/admin/metrics/measure/query_helper.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266441,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::QueryHelper","method_id":"sanitized_sql_string","path":"app/lib/admin/metrics/measure/query_helper.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266442,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"sql_array","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":39,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266443,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"sql_query_string","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":43,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266444,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266445,"event":"return","thread_id":9160,"parent_id":1266444,"elapsed":0.00022439900203607976,"elapsed_instrumentation":0.00028412998653948307,"return_value":{"class":"ActionController::Parameters","value":"{\"domain\"=>\"example.com\", \"include_subdomains\"=>\"true\"}","object_id":6999080}},{"id":1266446,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::QueryHelper","method_id":"account_domain_sql","path":"app/lib/admin/metrics/measure/query_helper.rb","lineno":18,"static":false,"parameters":[{"name":"include_subdomains","class":"String","object_id":4999100,"value":"true","kind":"req"}],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266447,"event":"return","thread_id":9160,"parent_id":1266446,"elapsed":5.265988875180483e-06,"elapsed_instrumentation":0.0005328379920683801,"return_value":{"class":"String","value":"accounts.domain IN (SELECT domain FROM instances WHERE reverse('.' || domain) LIKE reverse('.' || :d (...13 more characters)","object_id":4999120}},{"id":1266448,"event":"return","thread_id":9160,"parent_id":1266443,"elapsed":0.0012071449891664088,"elapsed_instrumentation":0.0004701930156443268,"return_value":{"class":"String","value":"SELECT axis.*, ( WITH new_media_attachments AS ( SELECT COALESCE(media_attachments.file_file_size, 0 (...560 more characters)","object_id":6999100}},{"id":1266449,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":6998900,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fdc073c7c20>"}},{"id":1266450,"event":"return","thread_id":9160,"parent_id":1266449,"elapsed":0.00048770601279102266,"elapsed_instrumentation":0.0002493689826223999,"return_value":{"class":"ActionController::Parameters","value":"{\"domain\"=>\"example.com\", \"include_subdomains\"=>\"true\"}","object_id":6999120}},{"id":1266451,"event":"return","thread_id":9160,"parent_id":1266442,"elapsed":0.0025160060031339526,"elapsed_instrumentation":0.0002802689850796014,"return_value":{"class":"Array","value":"[SELECT axis.*, ( WITH new_media_attachments AS ( SELECT COALESCE(media_attachments.file_file_size, 0 (...560 more characters), {:start_at=>2023-11-03T23:21:32+00:00, :end_at=>2023-11-05T23:21:32+00:00, :domain=>example.com}]","object_id":6999140,"size":2}},{"id":1266452,"event":"return","thread_id":9160,"parent_id":1266441,"elapsed":0.0033889659971464425,"elapsed_instrumentation":0.00023780498304404318,"return_value":{"class":"String","value":"SELECT axis.*, ( WITH new_media_attachments AS ( SELECT COALESCE(media_attachments.file_file_size, 0 (...606 more characters)","object_id":6999160}},{"id":1266453,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT axis.*, ( WITH new_media_attachments AS ( SELECT COALESCE(media_attachments.file_file_size, 0) + COALESCE(media_attachments.thumbnail_file_size, 0) AS size FROM media_attachments INNER JOIN accounts ON accounts.id = media_attachments.account_id WHERE date_trunc('day', media_attachments.created_at)::date = axis.period AND accounts.domain IN (SELECT domain FROM instances WHERE reverse('.' || domain) LIKE reverse('.' || 'example.com'::text)) ) SELECT SUM(size) FROM new_media_attachments ) AS value FROM ( SELECT generate_series(date_trunc('day', '2023-11-03 23:21:32.963184'::timestamp)::date, date_trunc('day', '2023-11-05 23:21:32.963371'::timestamp)::date, interval '1 day') AS period ) AS axis","database_type":"postgres"}},{"id":1266454,"event":"return","thread_id":9160,"parent_id":1266453,"elapsed":0.002887247,"elapsed_instrumentation":0.00010248500620946288},{"id":1266455,"event":"return","thread_id":9160,"parent_id":1266440,"elapsed":0.007169466989580542,"elapsed_instrumentation":0.0005754960002377629,"return_value":{"class":"ActiveRecord::Result","value":"#<ActiveRecord::Result:0x00007fdc073c63c0>","object_id":6999180}},{"id":1266456,"event":"return","thread_id":9160,"parent_id":1266439,"elapsed":0.007802545995218679,"elapsed_instrumentation":0.0008015060157049447,"return_value":{"class":"Array","value":"[{:date=>2023-11-03 00:00:00 +0000, :value=>}, {:date=>2023-11-04 00:00:00 +0000, :value=>}, {:date=>2023-11-05 00:00:00 +0000, :value=>61022}]","object_id":6999200,"size":3}},{"id":1266457,"event":"return","thread_id":9160,"parent_id":1266426,"elapsed":0.019935716001782566,"elapsed_instrumentation":0.0002111830108333379,"return_value":{"class":"Hash","value":"{:total=>122044, :previous_total=>, :data=>[{:date=>2023-11-03 00:00:00 +0000, :value=>}, {:date=>2023-11-04 00:00:00 +0000, :value=>}, {:date=>2023-11-05 00:00:00 +0000, :value=>61022}]}","object_id":6999220,"size":3}},{"id":1266458,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":6999240,"value":"Cache write: metrics/measure/instance_media_attachments;2023-11-03T23:21:32+00:00;2023-11-05T23:21:3 (...123 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1266459,"event":"return","thread_id":9160,"parent_id":1266458,"elapsed":0.0014720399922225624,"elapsed_instrumentation":0.0008124129672069103,"return_value":{"class":"Integer","value":"223","object_id":447}},{"id":1266460,"event":"call","thread_id":9160,"defined_class":"Marshal","method_id":"dump","path":"Marshal.dump","static":true,"parameters":[{"name":"arg","class":"Array","object_id":6999260,"value":"[{:total=>122044, :previous_total=>, :data=>[{:date=>2023-11-03 00:00:00 +0000, :value=>}, {:date=>2023-11-04 00:00:00 +0000, :value=>}, {:date=>2023-11-05 00:00:00 +0000, :value=>61022}]}]","kind":"rest","size":1}],"receiver":{"class":"Module","object_id":209120,"value":"Marshal"}},{"id":1266461,"event":"return","thread_id":9160,"parent_id":1266460,"elapsed":0.0003963799972552806,"elapsed_instrumentation":0.0005793630261905491,"return_value":{"class":"String","value":"\u0004\b{\b:\ntotali\u0003__\u0001:\u0013previous_total0:\tdata[\b{\u0007:\tdateIu:\tTime\r`_\u001e_\u0000\u0000\u0000\u0000\u0007:\u000boffseti\u0000:\tzone0:\nvalueI\"\u0000\u0006:\u0006EF{ (...67 more characters)","object_id":6999280}},{"id":1266462,"event":"return","thread_id":9160,"parent_id":1266413,"elapsed":0.02839656500145793,"elapsed_instrumentation":0.0006042500026524067,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{total=>122044, previous_total=>, data=>[{date=>2023-11-03 00:00:00 +0000, value=>}, {date=>2023-11-04 00:00:00 +0000, value=>}, {date=>2023-11-05 00:00:00 +0000, value=>61022}]}","object_id":6999300,"size":3}},{"id":1266463,"event":"return","thread_id":9160,"parent_id":1266412,"elapsed":0.029102713975589722,"elapsed_instrumentation":0.00018463798915036023,"return_value":{"class":"Integer","value":"122044","object_id":244089}}]}