{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure total with include_subdomains returns the expected number of accounts","source_location":"spec/lib/admin/metrics/measure/instance_media_attachments_measure_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app/lib/admin/metrics/measure","type":"package","children":[{"name":"Admin","type":"class","children":[{"name":"Metrics","type":"class","children":[{"name":"Measure","type":"class","children":[{"name":"BaseMeasure","type":"class","children":[{"name":"total","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:37","static":false},{"name":"load","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:59","static":false},{"name":"cache_key","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:21","static":false},{"name":"canonicalized_params","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:104","static":false},{"name":"perform_queries","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:68","static":false}]},{"name":"InstanceMediaAttachmentsMeasure","type":"class","children":[{"name":"key","type":"function","location":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb:11","static":false},{"name":"params","type":"function","location":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb:69","static":false},{"name":"perform_total_query","type":"function","location":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb:29","static":false},{"name":"perform_previous_total_query","type":"function","location":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb:35","static":false},{"name":"sql_array","type":"function","location":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb:39","static":false},{"name":"sql_query_string","type":"function","location":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb:43","static":false}]},{"name":"QueryHelper","type":"class","children":[{"name":"perform_data_query","type":"function","location":"app/lib/admin/metrics/measure/query_helper.rb:6","static":false},{"name":"measurement_data_rows","type":"function","location":"app/lib/admin/metrics/measure/query_helper.rb:10","static":false},{"name":"sanitized_sql_string","type":"function","location":"app/lib/admin/metrics/measure/query_helper.rb:14","static":false},{"name":"account_domain_sql","type":"function","location":"app/lib/admin/metrics/measure/query_helper.rb:18","static":false}]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Marshal","type":"class","children":[{"name":"dump","type":"function","location":"Marshal.dump","static":true,"labels":["serialize"]}]}]}],"events":[{"id":2624204,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT SUM(\"media_attachments\".\"file_file_size\") FROM \"media_attachments\" WHERE \"media_attachments\".\"account_id\" = $1","database_type":"postgres"}},{"id":2624205,"event":"return","thread_id":9160,"parent_id":2624204,"elapsed":0.00097685,"elapsed_instrumentation":0.00011702603660523891},{"id":2624206,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT SUM(\"media_attachments\".\"thumbnail_file_size\") FROM \"media_attachments\" WHERE \"media_attachments\".\"account_id\" = $1","database_type":"postgres"}},{"id":2624207,"event":"return","thread_id":9160,"parent_id":2624206,"elapsed":0.000709128,"elapsed_instrumentation":8.575100218877196e-05},{"id":2624208,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT SUM(\"media_attachments\".\"file_file_size\") FROM \"media_attachments\" WHERE \"media_attachments\".\"account_id\" = $1","database_type":"postgres"}},{"id":2624209,"event":"return","thread_id":9160,"parent_id":2624208,"elapsed":0.000684563,"elapsed_instrumentation":9.688199497759342e-05},{"id":2624210,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT SUM(\"media_attachments\".\"thumbnail_file_size\") FROM \"media_attachments\" WHERE \"media_attachments\".\"account_id\" = $1","database_type":"postgres"}},{"id":2624211,"event":"return","thread_id":9160,"parent_id":2624210,"elapsed":0.000755194,"elapsed_instrumentation":7.854000432416797e-05},{"id":2624212,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"total","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":37,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624213,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"load","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":59,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624214,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"cache_key","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":21,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624215,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"key","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624216,"event":"return","thread_id":9160,"parent_id":2624215,"elapsed":3.107998054474592e-06,"elapsed_instrumentation":7.445999654009938e-05,"return_value":{"class":"String","value":"instance_media_attachments","object_id":12889340}},{"id":2624217,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"canonicalized_params","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":104,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624218,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624219,"event":"return","thread_id":9160,"parent_id":2624218,"elapsed":9.00460290722549e-05,"elapsed_instrumentation":8.936499943956733e-05,"return_value":{"class":"ActionController::Parameters","value":"{\"domain\"=>\"example.com\", \"include_subdomains\"=>\"true\"}","object_id":12890660}},{"id":2624220,"event":"return","thread_id":9160,"parent_id":2624217,"elapsed":0.00024408596800640225,"elapsed_instrumentation":0.00010584201663732529,"return_value":{"class":"String","value":"domain=example.com;include_subdomains=true","object_id":12890680}},{"id":2624221,"event":"return","thread_id":9160,"parent_id":2624214,"elapsed":0.0004842369817197323,"elapsed_instrumentation":6.205600220710039e-05,"return_value":{"class":"String","value":"metrics/measure/instance_media_attachments;2023-11-04T03:15:36+00:00;2023-11-06T03:15:36+00:00;domai (...37 more characters)","object_id":12890700}},{"id":2624222,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12890720,"value":"Cache read: metrics/measure/instance_media_attachments;2023-11-04T03:15:36+00:00;2023-11-06T03:15:36 (...122 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2624223,"event":"return","thread_id":9160,"parent_id":2624222,"elapsed":0.0008332980214618146,"elapsed_instrumentation":0.00016956095350906253,"return_value":{"class":"Integer","value":"222","object_id":445}},{"id":2624224,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12890740,"value":"Cache generate: metrics/measure/instance_media_attachments;2023-11-04T03:15:36+00:00;2023-11-06T03:1 (...126 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2624225,"event":"return","thread_id":9160,"parent_id":2624224,"elapsed":0.0007482250221073627,"elapsed_instrumentation":0.00016784702893346548,"return_value":{"class":"Integer","value":"226","object_id":453}},{"id":2624226,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"perform_queries","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":68,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624227,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"perform_total_query","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":29,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624228,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624229,"event":"return","thread_id":9160,"parent_id":2624228,"elapsed":8.603802416473627e-05,"elapsed_instrumentation":8.668791269883513e-05,"return_value":{"class":"ActionController::Parameters","value":"{\"domain\"=>\"example.com\", \"include_subdomains\"=>\"true\"}","object_id":12890760}},{"id":2624230,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624231,"event":"return","thread_id":9160,"parent_id":2624230,"elapsed":4.409399116411805e-05,"elapsed_instrumentation":0.0003424980095587671,"return_value":{"class":"ActionController::Parameters","value":"{\"domain\"=>\"example.com\", \"include_subdomains\"=>\"true\"}","object_id":12890780}},{"id":2624232,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624233,"event":"return","thread_id":9160,"parent_id":2624232,"elapsed":6.829097401350737e-05,"elapsed_instrumentation":0.0001287349732592702,"return_value":{"class":"ActionController::Parameters","value":"{\"domain\"=>\"example.com\", \"include_subdomains\"=>\"true\"}","object_id":12890800}},{"id":2624234,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT SUM(COALESCE(file_file_size, 0) + COALESCE(thumbnail_file_size, 0)) FROM \"media_attachments\" INNER JOIN \"accounts\" ON \"accounts\".\"id\" = \"media_attachments\".\"account_id\" WHERE \"accounts\".\"domain\" IN (SELECT \"instances\".\"domain\" FROM \"instances\" WHERE (reverse('.' || domain) LIKE reverse('%.example.com')))","database_type":"postgres"}},{"id":2624235,"event":"return","thread_id":9160,"parent_id":2624234,"elapsed":0.001730704,"elapsed_instrumentation":0.0001029380364343524},{"id":2624236,"event":"return","thread_id":9160,"parent_id":2624227,"elapsed":0.005011022964026779,"elapsed_instrumentation":0.00010633404599502683,"return_value":{"class":"Integer","value":"122044","object_id":244089}},{"id":2624237,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"perform_previous_total_query","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624238,"event":"return","thread_id":9160,"parent_id":2624237,"elapsed":3.875000402331352e-06,"elapsed_instrumentation":9.375798981636763e-05},{"id":2624239,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::QueryHelper","method_id":"perform_data_query","path":"app/lib/admin/metrics/measure/query_helper.rb","lineno":6,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624240,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::QueryHelper","method_id":"measurement_data_rows","path":"app/lib/admin/metrics/measure/query_helper.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624241,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::QueryHelper","method_id":"sanitized_sql_string","path":"app/lib/admin/metrics/measure/query_helper.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624242,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"sql_array","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":39,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624243,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"sql_query_string","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":43,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624244,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624245,"event":"return","thread_id":9160,"parent_id":2624244,"elapsed":7.851200643926859e-05,"elapsed_instrumentation":8.900102693587542e-05,"return_value":{"class":"ActionController::Parameters","value":"{\"domain\"=>\"example.com\", \"include_subdomains\"=>\"true\"}","object_id":12890820}},{"id":2624246,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::QueryHelper","method_id":"account_domain_sql","path":"app/lib/admin/metrics/measure/query_helper.rb","lineno":18,"static":false,"parameters":[{"name":"include_subdomains","class":"String","object_id":3035860,"value":"true","kind":"req"}],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624247,"event":"return","thread_id":9160,"parent_id":2624246,"elapsed":4.29095234721899e-06,"elapsed_instrumentation":9.481306187808514e-05,"return_value":{"class":"String","value":"accounts.domain IN (SELECT domain FROM instances WHERE reverse('.' || domain) LIKE reverse('.' || :d (...13 more characters)","object_id":3035880}},{"id":2624248,"event":"return","thread_id":9160,"parent_id":2624243,"elapsed":0.00039990199729800224,"elapsed_instrumentation":6.182893412187696e-05,"return_value":{"class":"String","value":"SELECT axis.*, ( WITH new_media_attachments AS ( SELECT COALESCE(media_attachments.file_file_size, 0 (...560 more characters)","object_id":12890840}},{"id":2624249,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/instance_media_attachments_measure.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure","object_id":12890640,"value":"#<Admin::Metrics::Measure::InstanceMediaAttachmentsMeasure:0x00007fc8e1496a90>"}},{"id":2624250,"event":"return","thread_id":9160,"parent_id":2624249,"elapsed":4.869798431172967e-05,"elapsed_instrumentation":8.09160410426557e-05,"return_value":{"class":"ActionController::Parameters","value":"{\"domain\"=>\"example.com\", \"include_subdomains\"=>\"true\"}","object_id":12890860}},{"id":2624251,"event":"return","thread_id":9160,"parent_id":2624242,"elapsed":0.0006275089690461755,"elapsed_instrumentation":0.0002037149970419705,"return_value":{"class":"Array","value":"[SELECT axis.*, ( WITH new_media_attachments AS ( SELECT COALESCE(media_attachments.file_file_size, 0 (...560 more characters), {:start_at=>2023-11-04T03:15:36+00:00, :end_at=>2023-11-06T03:15:36+00:00, :domain=>example.com}]","object_id":12890880,"size":2}},{"id":2624252,"event":"return","thread_id":9160,"parent_id":2624241,"elapsed":0.001052697014529258,"elapsed_instrumentation":0.00013045797822996974,"return_value":{"class":"String","value":"SELECT axis.*, ( WITH new_media_attachments AS ( SELECT COALESCE(media_attachments.file_file_size, 0 (...606 more characters)","object_id":12890900}},{"id":2624253,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT axis.*, ( WITH new_media_attachments AS ( SELECT COALESCE(media_attachments.file_file_size, 0) + COALESCE(media_attachments.thumbnail_file_size, 0) AS size FROM media_attachments INNER JOIN accounts ON accounts.id = media_attachments.account_id WHERE date_trunc('day', media_attachments.created_at)::date = axis.period AND accounts.domain IN (SELECT domain FROM instances WHERE reverse('.' || domain) LIKE reverse('.' || 'example.com'::text)) ) SELECT SUM(size) FROM new_media_attachments ) AS value FROM ( SELECT generate_series(date_trunc('day', '2023-11-04 03:15:36.893876'::timestamp)::date, date_trunc('day', '2023-11-06 03:15:36.894041'::timestamp)::date, interval '1 day') AS period ) AS axis","database_type":"postgres"}},{"id":2624254,"event":"return","thread_id":9160,"parent_id":2624253,"elapsed":0.001972863,"elapsed_instrumentation":0.0001635500229895115},{"id":2624255,"event":"return","thread_id":9160,"parent_id":2624240,"elapsed":0.0038913540192879736,"elapsed_instrumentation":9.691098239272833e-05,"return_value":{"class":"ActiveRecord::Result","value":"#<ActiveRecord::Result:0x00007fc8e1495370>","object_id":12890920}},{"id":2624256,"event":"return","thread_id":9160,"parent_id":2624239,"elapsed":0.004044878005515784,"elapsed_instrumentation":0.0004783020121976733,"return_value":{"class":"Array","value":"[{:date=>2023-11-04 00:00:00 +0000, :value=>}, {:date=>2023-11-05 00:00:00 +0000, :value=>}, {:date=>2023-11-06 00:00:00 +0000, :value=>61022}]","object_id":12890940,"size":3}},{"id":2624257,"event":"return","thread_id":9160,"parent_id":2624226,"elapsed":0.009805576992221177,"elapsed_instrumentation":0.0002238600281998515,"return_value":{"class":"Hash","value":"{:total=>122044, :previous_total=>, :data=>[{:date=>2023-11-04 00:00:00 +0000, :value=>}, {:date=>2023-11-05 00:00:00 +0000, :value=>}, {:date=>2023-11-06 00:00:00 +0000, :value=>61022}]}","object_id":12890960,"size":3}},{"id":2624258,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12890980,"value":"Cache write: metrics/measure/instance_media_attachments;2023-11-04T03:15:36+00:00;2023-11-06T03:15:3 (...123 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2624259,"event":"return","thread_id":9160,"parent_id":2624258,"elapsed":0.000870581017807126,"elapsed_instrumentation":0.00015208800323307514,"return_value":{"class":"Integer","value":"223","object_id":447}},{"id":2624260,"event":"call","thread_id":9160,"defined_class":"Marshal","method_id":"dump","path":"Marshal.dump","static":true,"parameters":[{"name":"arg","class":"Array","object_id":12891000,"value":"[{:total=>122044, :previous_total=>, :data=>[{:date=>2023-11-04 00:00:00 +0000, :value=>}, {:date=>2023-11-05 00:00:00 +0000, :value=>}, {:date=>2023-11-06 00:00:00 +0000, :value=>61022}]}]","kind":"rest","size":1}],"receiver":{"class":"Module","object_id":318180,"value":"Marshal"}},{"id":2624261,"event":"return","thread_id":9160,"parent_id":2624260,"elapsed":4.035502206534147e-05,"elapsed_instrumentation":0.0005869850283488631,"return_value":{"class":"String","value":"\u0004\b{\b:\ntotali\u0003__\u0001:\u0013previous_total0:\tdata[\b{\u0007:\tdateIu:\tTime\r__\u001e_\u0000\u0000\u0000\u0000\u0007:\u000boffseti\u0000:\tzone0:\nvalueI\"\u0000\u0006:\u0006EF{ (...67 more characters)","object_id":12891020}},{"id":2624262,"event":"return","thread_id":9160,"parent_id":2624213,"elapsed":0.015194045030511916,"elapsed_instrumentation":0.0002127400366589427,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{total=>122044, previous_total=>, data=>[{date=>2023-11-04 00:00:00 +0000, value=>}, {date=>2023-11-05 00:00:00 +0000, value=>}, {date=>2023-11-06 00:00:00 +0000, value=>61022}]}","object_id":12891040,"size":3}},{"id":2624263,"event":"return","thread_id":9160,"parent_id":2624212,"elapsed":0.015430781000759453,"elapsed_instrumentation":0.0001479800557717681,"return_value":{"class":"Integer","value":"122044","object_id":244089}}]}