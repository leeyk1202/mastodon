{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"AccountCounters #increment_count! increments the count in multi-threaded an environment","source_location":"spec/models/concerns/account_counters_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app/models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountCounters","type":"class","children":[{"name":"increment_count!","type":"function","location":"app/models/concerns/account_counters.rb:23","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false},{"name":"statuses_count","type":"function","location":"app/models/concerns/account_counters.rb:13","static":false},{"name":"account_stat","type":"function","location":"app/models/concerns/account_counters.rb:76","static":false}]}]},{"name":"AccountStat","type":"class","children":[{"name":"statuses_count","type":"function","location":"app/models/account_stat.rb:33","static":false}]}]}],"events":[{"id":109824,"event":"call","thread_id":921180,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109825,"event":"call","thread_id":921180,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109826,"event":"call","thread_id":921200,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109827,"event":"call","thread_id":921200,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109828,"event":"call","thread_id":921220,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109829,"event":"call","thread_id":921220,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109830,"event":"call","thread_id":921240,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109831,"event":"call","thread_id":921240,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109832,"event":"call","thread_id":921260,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109833,"event":"call","thread_id":921260,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109834,"event":"call","thread_id":921280,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109835,"event":"call","thread_id":921280,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109836,"event":"call","thread_id":921300,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109837,"event":"call","thread_id":921300,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109838,"event":"call","thread_id":921320,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109839,"event":"call","thread_id":921320,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109840,"event":"call","thread_id":921340,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109841,"event":"call","thread_id":921340,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109842,"event":"call","thread_id":921360,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109843,"event":"call","thread_id":921360,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109844,"event":"call","thread_id":921380,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109845,"event":"call","thread_id":921380,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109846,"event":"call","thread_id":921400,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109847,"event":"call","thread_id":921400,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109848,"event":"call","thread_id":921420,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109849,"event":"call","thread_id":921420,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109850,"event":"call","thread_id":921440,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109851,"event":"call","thread_id":921440,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109852,"event":"call","thread_id":921460,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109853,"event":"call","thread_id":921460,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109854,"event":"call","thread_id":921180,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109855,"event":"return","thread_id":921180,"parent_id":109854,"elapsed":0.010942168,"elapsed_instrumentation":0.00010116200428456068},{"id":109856,"event":"return","thread_id":921180,"parent_id":109825,"elapsed":0.011621927027590573,"elapsed_instrumentation":0.00012996996520087123},{"id":109857,"event":"return","thread_id":921180,"parent_id":109824,"elapsed":0.011788457981310785,"elapsed_instrumentation":0.00038920703809708357},{"id":109858,"event":"call","thread_id":921200,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109859,"event":"return","thread_id":921200,"parent_id":109858,"elapsed":0.001219883,"elapsed_instrumentation":0.00011238595470786095},{"id":109860,"event":"return","thread_id":921200,"parent_id":109827,"elapsed":0.012873077008407563,"elapsed_instrumentation":0.00011394999455660582},{"id":109861,"event":"return","thread_id":921200,"parent_id":109826,"elapsed":0.013016190030612051,"elapsed_instrumentation":0.000278969993814826},{"id":109862,"event":"call","thread_id":921240,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109863,"event":"return","thread_id":921240,"parent_id":109862,"elapsed":0.000959087,"elapsed_instrumentation":9.017501724883914e-05},{"id":109864,"event":"return","thread_id":921240,"parent_id":109831,"elapsed":0.01308197103207931,"elapsed_instrumentation":0.00010571698658168316},{"id":109865,"event":"return","thread_id":921240,"parent_id":109830,"elapsed":0.013212546007707715,"elapsed_instrumentation":0.00011760002234950662},{"id":109866,"event":"call","thread_id":921280,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109867,"event":"return","thread_id":921280,"parent_id":109866,"elapsed":0.000772001,"elapsed_instrumentation":0.00028916896553710103},{"id":109868,"event":"return","thread_id":921280,"parent_id":109835,"elapsed":0.013114489964209497,"elapsed_instrumentation":0.0003167660324834287},{"id":109869,"event":"return","thread_id":921280,"parent_id":109834,"elapsed":0.013458805042319,"elapsed_instrumentation":0.00012143398635089397},{"id":109870,"event":"call","thread_id":921320,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109871,"event":"return","thread_id":921320,"parent_id":109870,"elapsed":0.000897797,"elapsed_instrumentation":8.743302896618843e-05},{"id":109872,"event":"return","thread_id":921320,"parent_id":109839,"elapsed":0.013185666990466416,"elapsed_instrumentation":0.00010537198977544904},{"id":109873,"event":"return","thread_id":921320,"parent_id":109838,"elapsed":0.013314876006916165,"elapsed_instrumentation":0.00011094904039055109},{"id":109874,"event":"call","thread_id":921360,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109875,"event":"return","thread_id":921360,"parent_id":109874,"elapsed":0.000822239,"elapsed_instrumentation":0.00010717002442106605},{"id":109876,"event":"return","thread_id":921360,"parent_id":109843,"elapsed":0.013103909965138882,"elapsed_instrumentation":0.00033060600981116295},{"id":109877,"event":"return","thread_id":921360,"parent_id":109842,"elapsed":0.0134606440551579,"elapsed_instrumentation":0.0001211320050060749},{"id":109878,"event":"call","thread_id":921400,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109879,"event":"return","thread_id":921400,"parent_id":109878,"elapsed":0.000811963,"elapsed_instrumentation":7.475004531443119e-05},{"id":109880,"event":"return","thread_id":921400,"parent_id":109847,"elapsed":0.012428894988261163,"elapsed_instrumentation":0.00022354000248014927},{"id":109881,"event":"return","thread_id":921400,"parent_id":109846,"elapsed":0.012678435014095157,"elapsed_instrumentation":0.00011338898912072182},{"id":109882,"event":"call","thread_id":921440,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109883,"event":"return","thread_id":921440,"parent_id":109882,"elapsed":0.000853453,"elapsed_instrumentation":7.981294766068459e-05},{"id":109884,"event":"return","thread_id":921440,"parent_id":109851,"elapsed":0.012587490025907755,"elapsed_instrumentation":0.00010770699009299278},{"id":109885,"event":"return","thread_id":921440,"parent_id":109850,"elapsed":0.012719922000542283,"elapsed_instrumentation":0.00010896497406065464},{"id":109886,"event":"call","thread_id":921220,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109887,"event":"return","thread_id":921220,"parent_id":109886,"elapsed":0.000916508,"elapsed_instrumentation":7.897301111370325e-05},{"id":109888,"event":"return","thread_id":921220,"parent_id":109829,"elapsed":0.02246612898306921,"elapsed_instrumentation":0.00024096097331494093},{"id":109889,"event":"return","thread_id":921220,"parent_id":109828,"elapsed":0.022736120969057083,"elapsed_instrumentation":0.00012200803030282259},{"id":109890,"event":"call","thread_id":921300,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109891,"event":"return","thread_id":921300,"parent_id":109890,"elapsed":0.000870101,"elapsed_instrumentation":7.351901149377227e-05},{"id":109892,"event":"return","thread_id":921300,"parent_id":109837,"elapsed":0.02118072396842763,"elapsed_instrumentation":0.00010630104225128889},{"id":109893,"event":"return","thread_id":921300,"parent_id":109836,"elapsed":0.02148548699915409,"elapsed_instrumentation":0.00013400602620095015},{"id":109894,"event":"call","thread_id":921380,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109895,"event":"return","thread_id":921380,"parent_id":109894,"elapsed":0.000964499,"elapsed_instrumentation":7.933902088552713e-05},{"id":109896,"event":"return","thread_id":921380,"parent_id":109845,"elapsed":0.019846644951030612,"elapsed_instrumentation":0.00011527905007824302},{"id":109897,"event":"return","thread_id":921380,"parent_id":109844,"elapsed":0.019987971987575293,"elapsed_instrumentation":0.00011421501403674483},{"id":109898,"event":"call","thread_id":921460,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109899,"event":"return","thread_id":921460,"parent_id":109898,"elapsed":0.001177825,"elapsed_instrumentation":8.915597572922707e-05},{"id":109900,"event":"return","thread_id":921460,"parent_id":109853,"elapsed":0.018332956999074668,"elapsed_instrumentation":0.00015443802112713456},{"id":109901,"event":"return","thread_id":921460,"parent_id":109852,"elapsed":0.018654439016245306,"elapsed_instrumentation":0.01121783594135195},{"id":109902,"event":"call","thread_id":921340,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109903,"event":"return","thread_id":921340,"parent_id":109902,"elapsed":0.000899024,"elapsed_instrumentation":7.238698890432715e-05},{"id":109904,"event":"return","thread_id":921340,"parent_id":109841,"elapsed":0.024435399973299354,"elapsed_instrumentation":0.0002451230539008975},{"id":109905,"event":"return","thread_id":921340,"parent_id":109840,"elapsed":0.02471554302610457,"elapsed_instrumentation":0.00042819499503821135},{"id":109906,"event":"call","thread_id":921260,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109907,"event":"return","thread_id":921260,"parent_id":109906,"elapsed":0.000881231,"elapsed_instrumentation":0.0002022779663093388},{"id":109908,"event":"return","thread_id":921260,"parent_id":109833,"elapsed":0.029143470979761332,"elapsed_instrumentation":0.0001141949906013906},{"id":109909,"event":"return","thread_id":921260,"parent_id":109832,"elapsed":0.029282160045113415,"elapsed_instrumentation":0.00012978294398635626},{"id":109910,"event":"call","thread_id":921420,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":109911,"event":"return","thread_id":921420,"parent_id":109910,"elapsed":0.000961263,"elapsed_instrumentation":0.0003209459828212857},{"id":109912,"event":"return","thread_id":921420,"parent_id":109849,"elapsed":0.024538868048693985,"elapsed_instrumentation":0.00010416301665827632},{"id":109913,"event":"return","thread_id":921420,"parent_id":109848,"elapsed":0.024666614015586674,"elapsed_instrumentation":0.00011648697545751929},{"id":109914,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"statuses_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":921480,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":921500,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109915,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":921140,"value":"#<Account:0x00007fc930db3ac0>"}},{"id":109916,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":109917,"event":"return","thread_id":9160,"parent_id":109916,"elapsed":0.000641331,"elapsed_instrumentation":0.00010878301691263914},{"id":109918,"event":"return","thread_id":9160,"parent_id":109915,"elapsed":0.0026604440063238144,"elapsed_instrumentation":0.00011669495142996311,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc930fec080>","object_id":921520}},{"id":109919,"event":"call","thread_id":9160,"defined_class":"AccountStat","method_id":"statuses_count","path":"app/models/account_stat.rb","lineno":33,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":921520,"value":"#<AccountStat:0x00007fc930fec080>"}},{"id":109920,"event":"return","thread_id":9160,"parent_id":109919,"elapsed":0.00011890497989952564,"elapsed_instrumentation":9.93740395642817e-05,"return_value":{"class":"Integer","value":"15","object_id":31}},{"id":109921,"event":"return","thread_id":9160,"parent_id":109914,"elapsed":0.0030537400161847472,"elapsed_instrumentation":0.00020799896446987987,"return_value":{"class":"Integer","value":"15","object_id":31}}]}