{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"AccountCounters #increment_count! increments the count in multi-threaded an environment","source_location":"spec/models/concerns/account_counters_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app/models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountCounters","type":"class","children":[{"name":"increment_count!","type":"function","location":"app/models/concerns/account_counters.rb:23","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false},{"name":"statuses_count","type":"function","location":"app/models/concerns/account_counters.rb:13","static":false},{"name":"account_stat","type":"function","location":"app/models/concerns/account_counters.rb:76","static":false}]}]},{"name":"AccountStat","type":"class","children":[{"name":"statuses_count","type":"function","location":"app/models/account_stat.rb:33","static":false}]}]}],"events":[{"id":837919,"event":"call","thread_id":5123000,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837920,"event":"call","thread_id":5123000,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837921,"event":"call","thread_id":5123020,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837922,"event":"call","thread_id":5123020,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837923,"event":"call","thread_id":5123040,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837924,"event":"call","thread_id":5123040,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837925,"event":"call","thread_id":5123060,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837926,"event":"call","thread_id":5123060,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837927,"event":"call","thread_id":5123080,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837928,"event":"call","thread_id":5123080,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837929,"event":"call","thread_id":5123100,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837930,"event":"call","thread_id":5123100,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837931,"event":"call","thread_id":5123120,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837932,"event":"call","thread_id":5123120,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837933,"event":"call","thread_id":5123140,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837934,"event":"call","thread_id":5123140,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837935,"event":"call","thread_id":5123160,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837936,"event":"call","thread_id":5123160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837937,"event":"call","thread_id":5123180,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837938,"event":"call","thread_id":5123180,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837939,"event":"call","thread_id":5123200,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837940,"event":"call","thread_id":5123200,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837941,"event":"call","thread_id":5123220,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837942,"event":"call","thread_id":5123220,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837943,"event":"call","thread_id":5123240,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837944,"event":"call","thread_id":5123240,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837945,"event":"call","thread_id":5123260,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837946,"event":"call","thread_id":5123260,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837947,"event":"call","thread_id":5123280,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837948,"event":"call","thread_id":5123280,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":837949,"event":"call","thread_id":5123000,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":837950,"event":"return","thread_id":5123000,"parent_id":837949,"elapsed":0.016033763,"elapsed_instrumentation":0.00010738300625234842},{"id":837951,"event":"return","thread_id":5123000,"parent_id":837920,"elapsed":0.01695490800193511,"elapsed_instrumentation":0.0001132609904743731},{"id":837952,"event":"return","thread_id":5123000,"parent_id":837919,"elapsed":0.01709654601290822,"elapsed_instrumentation":0.0002015779900830239},{"id":837953,"event":"call","thread_id":5123020,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":837954,"event":"return","thread_id":5123020,"parent_id":837953,"elapsed":0.001516548,"elapsed_instrumentation":9.963702177628875e-05},{"id":837955,"event":"return","thread_id":5123020,"parent_id":837922,"elapsed":0.018081292015267536,"elapsed_instrumentation":0.00010348897194489837},{"id":837956,"event":"return","thread_id":5123020,"parent_id":837921,"elapsed":0.018783039005938917,"elapsed_instrumentation":0.0001422660134267062},{"id":837957,"event":"call","thread_id":5123060,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":837958,"event":"return","thread_id":5123060,"parent_id":837957,"elapsed":0.001665036,"elapsed_instrumentation":0.0001262800069525838},{"id":837959,"event":"return","thread_id":5123060,"parent_id":837926,"elapsed":0.01922429000842385,"elapsed_instrumentation":0.00014286799705587327},{"id":837960,"event":"return","thread_id":5123060,"parent_id":837925,"elapsed":0.019400133984163404,"elapsed_instrumentation":0.00030680300551466644},{"id":837961,"event":"call","thread_id":5123100,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":837962,"event":"return","thread_id":5123100,"parent_id":837961,"elapsed":0.001507528,"elapsed_instrumentation":9.440301801078022e-05},{"id":837963,"event":"return","thread_id":5123100,"parent_id":837930,"elapsed":0.019419491989538074,"elapsed_instrumentation":0.00026333500863984227},{"id":837964,"event":"return","thread_id":5123100,"parent_id":837929,"elapsed":0.019724481011508033,"elapsed_instrumentation":0.0004995840135961771},{"id":837965,"event":"call","thread_id":5123140,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":837966,"event":"return","thread_id":5123140,"parent_id":837965,"elapsed":0.001422413,"elapsed_instrumentation":0.00014387699775397778},{"id":837967,"event":"return","thread_id":5123140,"parent_id":837934,"elapsed":0.02017238800181076,"elapsed_instrumentation":0.000173075997736305},{"id":837968,"event":"return","thread_id":5123140,"parent_id":837933,"elapsed":0.020383271999889985,"elapsed_instrumentation":0.0002511229831725359},{"id":837969,"event":"call","thread_id":5123180,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":837970,"event":"return","thread_id":5123180,"parent_id":837969,"elapsed":0.001984542,"elapsed_instrumentation":0.0001627389865461737},{"id":837971,"event":"return","thread_id":5123180,"parent_id":837938,"elapsed":0.021236532018519938,"elapsed_instrumentation":0.00017511198529973626},{"id":837972,"event":"return","thread_id":5123180,"parent_id":837937,"elapsed":0.02144695201423019,"elapsed_instrumentation":0.0001300679869018495},{"id":837973,"event":"call","thread_id":5123220,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":837974,"event":"return","thread_id":5123220,"parent_id":837973,"elapsed":0.001851897,"elapsed_instrumentation":0.00012645000242628157},{"id":837975,"event":"return","thread_id":5123220,"parent_id":837942,"elapsed":0.022095755994087085,"elapsed_instrumentation":0.00010809299419634044},{"id":837976,"event":"return","thread_id":5123220,"parent_id":837941,"elapsed":0.022229917987715453,"elapsed_instrumentation":0.00012277200585231185},{"id":837977,"event":"call","thread_id":5123260,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":837978,"event":"return","thread_id":5123260,"parent_id":837977,"elapsed":0.001714207,"elapsed_instrumentation":0.00013141799718141556},{"id":837979,"event":"return","thread_id":5123260,"parent_id":837946,"elapsed":0.021987107989843935,"elapsed_instrumentation":0.00043440001900307834},{"id":837980,"event":"return","thread_id":5123260,"parent_id":837945,"elapsed":0.02246469198144041,"elapsed_instrumentation":0.00015626303502358496},{"id":837981,"event":"call","thread_id":5123040,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":837982,"event":"return","thread_id":5123040,"parent_id":837981,"elapsed":0.001089293,"elapsed_instrumentation":0.0002755169989541173},{"id":837983,"event":"return","thread_id":5123040,"parent_id":837924,"elapsed":0.0360868799907621,"elapsed_instrumentation":0.00011949701001867652},{"id":837984,"event":"return","thread_id":5123040,"parent_id":837923,"elapsed":0.03623739699833095,"elapsed_instrumentation":0.00014503402053378522},{"id":837985,"event":"call","thread_id":5123120,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":837986,"event":"return","thread_id":5123120,"parent_id":837985,"elapsed":0.001476958,"elapsed_instrumentation":0.00013752200175076723},{"id":837987,"event":"return","thread_id":5123120,"parent_id":837932,"elapsed":0.03459192501031794,"elapsed_instrumentation":0.0001379899913445115},{"id":837988,"event":"return","thread_id":5123120,"parent_id":837931,"elapsed":0.03475922899087891,"elapsed_instrumentation":0.0001469929702579975},{"id":837989,"event":"call","thread_id":5123200,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":837990,"event":"return","thread_id":5123200,"parent_id":837989,"elapsed":0.00204294,"elapsed_instrumentation":0.00014022301184013486},{"id":837991,"event":"return","thread_id":5123200,"parent_id":837940,"elapsed":0.03344113301136531,"elapsed_instrumentation":0.0004785429919138551},{"id":837992,"event":"return","thread_id":5123200,"parent_id":837939,"elapsed":0.033982560998992994,"elapsed_instrumentation":0.00025385600747540593},{"id":837993,"event":"call","thread_id":5123280,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":837994,"event":"return","thread_id":5123280,"parent_id":837993,"elapsed":0.001988807,"elapsed_instrumentation":0.00014783500228077173},{"id":837995,"event":"return","thread_id":5123280,"parent_id":837948,"elapsed":0.03202508998219855,"elapsed_instrumentation":0.0001587730075698346},{"id":837996,"event":"return","thread_id":5123280,"parent_id":837947,"elapsed":0.032352052978239954,"elapsed_instrumentation":0.0002483380085323006},{"id":837997,"event":"call","thread_id":5123160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":837998,"event":"return","thread_id":5123160,"parent_id":837997,"elapsed":0.001487067,"elapsed_instrumentation":0.00010074299643747509},{"id":837999,"event":"return","thread_id":5123160,"parent_id":837936,"elapsed":0.040969935012981296,"elapsed_instrumentation":0.0002124980092048645},{"id":838000,"event":"return","thread_id":5123160,"parent_id":837935,"elapsed":0.04122216202085838,"elapsed_instrumentation":0.0004555349878501147},{"id":838001,"event":"call","thread_id":5123080,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":838002,"event":"return","thread_id":5123080,"parent_id":838001,"elapsed":0.001901107,"elapsed_instrumentation":0.00018498898134566844},{"id":838003,"event":"return","thread_id":5123080,"parent_id":837928,"elapsed":0.04812781899818219,"elapsed_instrumentation":0.00020751601550728083},{"id":838004,"event":"return","thread_id":5123080,"parent_id":837927,"elapsed":0.04837470900383778,"elapsed_instrumentation":0.00041218800470232964},{"id":838005,"event":"call","thread_id":5123240,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111360481462062728, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":838006,"event":"return","thread_id":5123240,"parent_id":838005,"elapsed":0.001222297,"elapsed_instrumentation":8.523199358023703e-05},{"id":838007,"event":"return","thread_id":5123240,"parent_id":837944,"elapsed":0.04152316102408804,"elapsed_instrumentation":0.00016825797501951456},{"id":838008,"event":"return","thread_id":5123240,"parent_id":837943,"elapsed":0.04200427100295201,"elapsed_instrumentation":0.0004766109923366457},{"id":838009,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"statuses_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":5123300,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":5123320,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":838010,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":5122960,"value":"#<Account:0x00007fdc082a9248>"}},{"id":838011,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":838012,"event":"return","thread_id":9160,"parent_id":838011,"elapsed":0.000577291,"elapsed_instrumentation":8.861199603416026e-05},{"id":838013,"event":"return","thread_id":9160,"parent_id":838010,"elapsed":0.0025595150073058903,"elapsed_instrumentation":0.000129394989926368,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fdc082a0f08>","object_id":5123340}},{"id":838014,"event":"call","thread_id":9160,"defined_class":"AccountStat","method_id":"statuses_count","path":"app/models/account_stat.rb","lineno":33,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":5123340,"value":"#<AccountStat:0x00007fdc082a0f08>"}},{"id":838015,"event":"return","thread_id":9160,"parent_id":838014,"elapsed":0.00011879298835992813,"elapsed_instrumentation":0.00010298204142600298,"return_value":{"class":"Integer","value":"15","object_id":31}},{"id":838016,"event":"return","thread_id":9160,"parent_id":838009,"elapsed":0.0029662619926966727,"elapsed_instrumentation":0.00022461899789050221,"return_value":{"class":"Integer","value":"15","object_id":31}}]}