{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"JsonLdHelper with compaction and forwarding #compact properly copies signature","source_location":"spec/helpers/jsonld_helper_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app/helpers","type":"package","children":[{"name":"JsonLdHelper","type":"class","children":[{"name":"compact","type":"function","location":"app/helpers/jsonld_helper.rb:80","static":false}]},{"name":"ContextHelper","type":"class","children":[{"name":"full_context","type":"function","location":"app/helpers/context_helper.rb:37","static":false},{"name":"serialized_context","type":"function","location":"app/helpers/context_helper.rb:41","static":false}]}]}],"events":[{"id":414542,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"compact","path":"app/helpers/jsonld_helper.rb","lineno":80,"static":false,"parameters":[{"name":"json","class":"Hash","object_id":2951380,"value":"{@context=>[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {obsolete=>http://ostatus.org#, convo=>obsolete:conversation, new=>https://obscure-unreleased-test.joinmastodon.org/#}], type=>Create, to=>[https://www.w3.org/ns/activitystreams#Public], object=>{id=>https://example.com/status, type=>Note, inReplyTo=>, convo=>https://example.com/conversation, tag=>[{type=>Mention, href=>[foo]}]}, signature=>{type=>RsaSignature2017, created=>2022-02-02T12:00:00Z, creator=>https://example.com/actor#main-key, signatureValue=>some-sig}}","kind":"req","size":5}],"receiver":{"class":"RSpec::ExampleGroups::JsonLdHelper::WithCompactionAndForwarding::Compact","object_id":2951400,"value":"#<RSpec::ExampleGroups::JsonLdHelper::WithCompactionAndForwarding::Compact:0x00007fc931cb5910>"}},{"id":414543,"event":"call","thread_id":9160,"defined_class":"ContextHelper","method_id":"full_context","path":"app/helpers/context_helper.rb","lineno":37,"static":false,"parameters":[],"receiver":{"class":"RSpec::ExampleGroups::JsonLdHelper::WithCompactionAndForwarding::Compact","object_id":2951400,"value":"#<RSpec::ExampleGroups::JsonLdHelper::WithCompactionAndForwarding::Compact:0x00007fc931cb5910>"}},{"id":414544,"event":"call","thread_id":9160,"defined_class":"ContextHelper","method_id":"serialized_context","path":"app/helpers/context_helper.rb","lineno":41,"static":false,"parameters":[{"name":"named_contexts_map","class":"Hash","object_id":2949940,"value":"{:activitystreams=>https://www.w3.org/ns/activitystreams, :security=>https://w3id.org/security/v1}","kind":"req","size":2},{"name":"context_extensions_map","class":"Hash","object_id":2949960,"value":"{:manually_approves_followers=>{manuallyApprovesFollowers=>as:manuallyApprovesFollowers}, :sensitive=>{sensitive=>as:sensitive}, :hashtag=>{Hashtag=>as:Hashtag}, :moved_to=>{movedTo=>{@id=>as:movedTo, @type=>@id}}, :also_known_as=>{alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}}, :emoji=>{toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji}, :featured=>{toot=>http://joinmastodon.org/ns#, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}}, :property_value=>{schema=>http://schema.org#, PropertyValue=>schema:PropertyValue, value=>schema:value}, :atom_uri=>{ostatus=>http://ostatus.org#, atomUri=>ostatus:atomUri}, :conversation=>{ostatus=>http://ostatus.org#, inReplyToAtomUri=>ostatus:inReplyToAtomUri, conversation=>ostatus:conversation} (...8 more entries)}","kind":"req","size":18}],"receiver":{"class":"RSpec::ExampleGroups::JsonLdHelper::WithCompactionAndForwarding::Compact","object_id":2951400,"value":"#<RSpec::ExampleGroups::JsonLdHelper::WithCompactionAndForwarding::Compact:0x00007fc931cb5910>"}},{"id":414545,"event":"return","thread_id":9160,"parent_id":414544,"elapsed":2.995401155203581e-05,"elapsed_instrumentation":0.0010116869816556573,"return_value":{"class":"Array","value":"[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}]","object_id":2951420,"size":3}},{"id":414546,"event":"return","thread_id":9160,"parent_id":414543,"elapsed":0.001067153993062675,"elapsed_instrumentation":0.00027542305178940296,"return_value":{"class":"Array","value":"[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}]","object_id":2951420,"size":3}},{"id":414547,"event":"return","thread_id":9160,"parent_id":414542,"elapsed":0.012001069029793143,"elapsed_instrumentation":0.0008972499636001885,"return_value":{"class":"Hash","value":"{@context=>[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}], type=>Create, to=>as:Public, object=>{id=>https://example.com/status, type=>Note, conversation=>https://example.com/conversation, tag=>{type=>Mention, href=>foo}}, signature=>{type=>RsaSignature2017, created=>2022-02-02T12:00:00Z, creator=>https://example.com/actor#main-key, signatureValue=>some-sig}}","object_id":2951480,"size":5}}]}