{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"AfterBlockDomainFromAccountService sends Reject->Follow to followers from blocked domain","source_location":"spec/services/after_block_domain_from_account_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountInteractions","type":"class","children":[{"name":"follow!","type":"function","location":"app/models/concerns/account_interactions.rb:115","static":false}]},{"name":"RateLimitable","type":"class","children":[{"name":"rate_limit=","type":"function","location":"app/models/concerns/rate_limitable.rb:6","static":false},{"name":"rate_limit?","type":"function","location":"app/models/concerns/rate_limitable.rb:10","static":false}]},{"name":"FollowLimitable","type":"class","children":[{"name":"bypass_follow_limit=","type":"function","location":"app/models/concerns/follow_limitable.rb:10","static":false},{"name":"bypass_follow_limit?","type":"function","location":"app/models/concerns/follow_limitable.rb:14","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"increment_count!","type":"function","location":"app/models/concerns/account_counters.rb:23","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false},{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"synchronization_uri_prefix","type":"function","location":"app/models/account.rb:409","static":false},{"name":"object_type","type":"function","location":"app/models/account.rb:385","static":false},{"name":"instance_actor?","type":"function","location":"app/models/account.rb:175","static":false},{"name":"to_param","type":"function","location":"app/models/account.rb:389","static":false}]},{"name":"Follow","type":"class","children":[{"name":"local?","type":"function","location":"app/models/follow.rb:36","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"generate_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:61","static":false},{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false}]},{"name":"Adapter","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/adapter.rb:14","static":false},{"name":"transform_key_casing!","type":"function","location":"app/lib/activitypub/adapter.rb:10","static":true}]},{"name":"Serializer","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/serializer.rb:31","static":false}]},{"name":"CaseTransform","type":"class","children":[{"name":"camel_lower","type":"function","location":"app/lib/activitypub/case_transform.rb:9","static":true},{"name":"camel_lower_cache","type":"function","location":"app/lib/activitypub/case_transform.rb:5","static":true}]}]}]},{"name":"PotentialFriendshipTracker","type":"class","children":[{"name":"remove","type":"function","location":"app/lib/potential_friendship_tracker.rb:27","static":true}]}]},{"name":"helpers","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]},{"name":"ContextHelper","type":"class","children":[{"name":"serialized_context","type":"function","location":"app/helpers/context_helper.rb:41","static":false}]}]},{"name":"validators","type":"package","children":[{"name":"FollowLimitValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/follow_limit_validator.rb:7","static":false}]},{"name":"LanguageValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"app/validators/language_validator.rb:6","static":false}]}]},{"name":"services/concerns","type":"package","children":[{"name":"Payloadable","type":"class","children":[{"name":"serialize_payload","type":"function","location":"app/services/concerns/payloadable.rb:13","static":false}]}]},{"name":"serializers/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"RejectFollowSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/activitypub/reject_follow_serializer.rb:8","static":false},{"name":"type","type":"function","location":"app/serializers/activitypub/reject_follow_serializer.rb:12","static":false},{"name":"actor","type":"function","location":"app/serializers/activitypub/reject_follow_serializer.rb:16","static":false}]},{"name":"FollowSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:7","static":false},{"name":"type","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:11","static":false},{"name":"actor","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:15","static":false},{"name":"virtual_object","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:19","static":false}]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":170735,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"follow!","path":"app/models/concerns/account_interactions.rb","lineno":115,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>","kind":"req"},{"name":"reblogs","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"notify","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"bypass_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":1463520,"value":"#<Account:0x00007fc930fe2e40>"}},{"id":170736,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":170737,"event":"return","thread_id":9160,"parent_id":170736,"elapsed":0.00053308,"elapsed_instrumentation":7.955601904541254e-05},{"id":170738,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":1463580,"value":"#<Follow:0x00007fc93287b1a0>"}},{"id":170739,"event":"return","thread_id":9160,"parent_id":170738,"elapsed":5.501031409949064e-06,"elapsed_instrumentation":0.0004244539886713028},{"id":170740,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":1463580,"value":"#<Follow:0x00007fc93287b1a0>"}},{"id":170741,"event":"return","thread_id":9160,"parent_id":170740,"elapsed":3.783963620662689e-06,"elapsed_instrumentation":6.120302714407444e-05},{"id":170742,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":1463580,"value":"#<Follow:0x00007fc93287b1a0>"}},{"id":170743,"event":"return","thread_id":9160,"parent_id":170742,"elapsed":3.222026862204075e-06,"elapsed_instrumentation":7.700792048126459e-05},{"id":170744,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":1463580,"value":"#<Follow:0x00007fc93287b1a0>"}},{"id":170745,"event":"return","thread_id":9160,"parent_id":170744,"elapsed":2.563989255577326e-06,"elapsed_instrumentation":5.5983022321015596e-05},{"id":170746,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931ff0>"}},{"id":170747,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"generate_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":61,"static":false,"parameters":[{"name":"_target","class":"Follow","object_id":1463580,"value":"#<Follow:0x00007fc93287b1a0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170748,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170749,"event":"return","thread_id":9160,"parent_id":170748,"elapsed":3.6829733289778233e-06,"elapsed_instrumentation":0.00016079400666058064,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170750,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170751,"event":"return","thread_id":9160,"parent_id":170750,"elapsed":3.985944204032421e-06,"elapsed_instrumentation":0.00011135602835565805,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170752,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":1463620,"value":"_I__\u0003_)X__._\u000e)_x"}},{"id":170753,"event":"return","thread_id":9160,"parent_id":170752,"elapsed":5.926995072513819e-06,"elapsed_instrumentation":0.00013211503392085433,"return_value":{"class":"Array","value":"[3494491028, 1018, 10584, 55027, 11960, 237618552]","object_id":1463640,"size":6}},{"id":170754,"event":"return","thread_id":9160,"parent_id":170747,"elapsed":0.000709607033059001,"elapsed_instrumentation":9.421398863196373e-05,"return_value":{"class":"URI::HTTPS","value":"https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578","object_id":1463660}},{"id":170755,"event":"return","thread_id":9160,"parent_id":170746,"elapsed":0.000856496044434607,"elapsed_instrumentation":0.00010674598161131144,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324c9278 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c93b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342160,"size":2}},{"id":170756,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931d70>"}},{"id":170757,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit?","path":"app/models/concerns/follow_limitable.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":1463580,"value":"#<Follow:0x00007fc93287b1a0>"}},{"id":170758,"event":"return","thread_id":9160,"parent_id":170757,"elapsed":3.502005711197853e-06,"elapsed_instrumentation":4.7866953536868095e-05},{"id":170759,"event":"call","thread_id":9160,"defined_class":"FollowLimitValidator","method_id":"validate","path":"app/validators/follow_limit_validator.rb","lineno":7,"static":false,"parameters":[{"name":"follow","class":"Follow","object_id":1463580,"value":"#<Follow:0x00007fc93287b1a0>","kind":"req"}],"receiver":{"class":"FollowLimitValidator","object_id":1342220,"value":"#<FollowLimitValidator:0x00007fc93955dc50>"}},{"id":170760,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463520,"value":"#<Account:0x00007fc930fe2e40>"}},{"id":170761,"event":"return","thread_id":9160,"parent_id":170760,"elapsed":8.158967830240726e-06,"elapsed_instrumentation":6.41730148345232e-05},{"id":170762,"event":"return","thread_id":9160,"parent_id":170759,"elapsed":0.00015851703938096762,"elapsed_instrumentation":8.379796054214239e-05},{"id":170763,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":170764,"event":"return","thread_id":9160,"parent_id":170763,"elapsed":0.000326711,"elapsed_instrumentation":6.345298606902361e-05},{"id":170765,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":170766,"event":"return","thread_id":9160,"parent_id":170765,"elapsed":0.000927303,"elapsed_instrumentation":6.222899537533522e-05},{"id":170767,"event":"call","thread_id":9160,"defined_class":"LanguageValidator","method_id":"validate_each","path":"app/validators/language_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"Follow","object_id":1463580,"value":"#<Follow:0x00007fc93287b1a0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":9806428,"value":":languages","kind":"req"},{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"LanguageValidator","object_id":1342240,"value":"#<LanguageValidator:0x00007fc939554bc8>"}},{"id":170768,"event":"return","thread_id":9160,"parent_id":170767,"elapsed":5.005975253880024e-06,"elapsed_instrumentation":0.00020697899162769318},{"id":170769,"event":"return","thread_id":9160,"parent_id":170756,"elapsed":0.0022632050095126033,"elapsed_instrumentation":0.00014487298903986812,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324c6320 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c64d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c67a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6b68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6d48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342260,"size":6}},{"id":170770,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931d70>"}},{"id":170771,"event":"return","thread_id":9160,"parent_id":170770,"elapsed":3.9199949242174625e-06,"elapsed_instrumentation":7.863197242841125e-05,"return_value":{"class":"Array","value":"[]","object_id":1342280,"size":0}},{"id":170772,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931ff0>"}},{"id":170773,"event":"return","thread_id":9160,"parent_id":170772,"elapsed":7.388007361441851e-06,"elapsed_instrumentation":9.443098679184914e-05,"return_value":{"class":"Array","value":"[]","object_id":1342300,"size":0}},{"id":170774,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930ec0>"}},{"id":170775,"event":"return","thread_id":9160,"parent_id":170774,"elapsed":8.558400440961123e-05,"elapsed_instrumentation":0.00012089801020920277,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324fc1c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fc308 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342360,"size":2}},{"id":170776,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930c40>"}},{"id":170777,"event":"return","thread_id":9160,"parent_id":170776,"elapsed":2.9529910534620285e-06,"elapsed_instrumentation":0.00013683992438018322,"return_value":{"class":"Array","value":"[]","object_id":1342420,"size":0}},{"id":170778,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"follows\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"show_reblogs\", \"uri\", \"notify\", \"languages\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING \"id\"","database_type":"postgres"}},{"id":170779,"event":"return","thread_id":9160,"parent_id":170778,"elapsed":0.001097268,"elapsed_instrumentation":9.401998249813914e-05},{"id":170780,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930c40>"}},{"id":170781,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit?","path":"app/models/concerns/rate_limitable.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":1463580,"value":"#<Follow:0x00007fc93287b1a0>"}},{"id":170782,"event":"return","thread_id":9160,"parent_id":170781,"elapsed":4.919013008475304e-06,"elapsed_instrumentation":0.0001746320049278438},{"id":170783,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":1463520,"value":"#<Account:0x00007fc930fe2e40>"}},{"id":170784,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":1463520,"value":"#<Account:0x00007fc930fe2e40>"}},{"id":170785,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361329180377342, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + 1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":170786,"event":"return","thread_id":9160,"parent_id":170785,"elapsed":0.000953407,"elapsed_instrumentation":9.082903852686286e-05},{"id":170787,"event":"return","thread_id":9160,"parent_id":170784,"elapsed":0.0015005759778432548,"elapsed_instrumentation":7.77409877628088e-05},{"id":170788,"event":"return","thread_id":9160,"parent_id":170783,"elapsed":0.0016168190049938858,"elapsed_instrumentation":9.386998135596514e-05},{"id":170789,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170790,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170791,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361329180377343, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + 1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":170792,"event":"return","thread_id":9160,"parent_id":170791,"elapsed":0.001050393,"elapsed_instrumentation":0.0002298119943588972},{"id":170793,"event":"return","thread_id":9160,"parent_id":170790,"elapsed":0.0018343820120207965,"elapsed_instrumentation":0.00013420195318758488},{"id":170794,"event":"return","thread_id":9160,"parent_id":170789,"elapsed":0.0020024640252813697,"elapsed_instrumentation":0.0004071759758517146},{"id":170795,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463520,"value":"#<Account:0x00007fc930fe2e40>"}},{"id":170796,"event":"return","thread_id":9160,"parent_id":170795,"elapsed":1.0427029337733984e-05,"elapsed_instrumentation":8.556497050449252e-05},{"id":170797,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"synchronization_uri_prefix","path":"app/models/account.rb","lineno":409,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463520,"value":"#<Account:0x00007fc930fe2e40>"}},{"id":170798,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463520,"value":"#<Account:0x00007fc930fe2e40>"}},{"id":170799,"event":"return","thread_id":9160,"parent_id":170798,"elapsed":9.116018190979958e-06,"elapsed_instrumentation":8.60680011101067e-05},{"id":170800,"event":"return","thread_id":9160,"parent_id":170797,"elapsed":0.0001465650275349617,"elapsed_instrumentation":0.00018913898384198546,"return_value":{"class":"String","value":"https://evil.org/","object_id":1463740}},{"id":170801,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1463760,"value":"Cache delete: followers_hash:111361329180377343:https://evil.org/\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":170802,"event":"return","thread_id":9160,"parent_id":170801,"elapsed":0.00044295500265434384,"elapsed_instrumentation":0.0001942790113389492,"return_value":{"class":"Integer","value":"66","object_id":133}},{"id":170803,"event":"return","thread_id":9160,"parent_id":170780,"elapsed":0.00579482497414574,"elapsed_instrumentation":0.0001753969700075686,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324fb390 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fb1d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fb020 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fae68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342480,"size":4}},{"id":170804,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930ec0>"}},{"id":170805,"event":"return","thread_id":9160,"parent_id":170804,"elapsed":3.8009602576494217e-06,"elapsed_instrumentation":8.221302414312959e-05,"return_value":{"class":"Array","value":"[]","object_id":1342500,"size":0}},{"id":170806,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":170807,"event":"return","thread_id":9160,"parent_id":170806,"elapsed":0.000344754,"elapsed_instrumentation":8.422299288213253e-05},{"id":170808,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":170809,"event":"return","thread_id":9160,"parent_id":170808,"elapsed":4.54997643828392e-06,"elapsed_instrumentation":0.00010227598249912262,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":170810,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":170811,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1463800,"value":"Cache delete: relationship:111361329180377342:111361329180377343\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":170812,"event":"return","thread_id":9160,"parent_id":170811,"elapsed":0.0004519560025073588,"elapsed_instrumentation":0.0003293990157544613,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":170813,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1463820,"value":"Cache delete: relationship:111361329180377343:111361329180377342\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":170814,"event":"return","thread_id":9160,"parent_id":170813,"elapsed":0.0005676579894497991,"elapsed_instrumentation":0.00028759503038600087,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":170815,"event":"return","thread_id":9160,"parent_id":170810,"elapsed":0.0018797950469888747,"elapsed_instrumentation":9.705603588372469e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":170816,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222722658360754685,"value":"111361329180377342","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222722658360754687,"value":"111361329180377343","kind":"req"}],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":170817,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":170818,"event":"return","thread_id":9160,"parent_id":170817,"elapsed":4.581001121550798e-06,"elapsed_instrumentation":7.057504262775183e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":170819,"event":"return","thread_id":9160,"parent_id":170816,"elapsed":0.00045557302655652165,"elapsed_instrumentation":0.00011423998512327671},{"id":170820,"event":"return","thread_id":9160,"parent_id":170735,"elapsed":0.020201677980367094,"elapsed_instrumentation":0.00018192501738667488,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc93287b1a0>","object_id":1463580}},{"id":170821,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".\"id\" FROM \"notifications\" WHERE \"notifications\".\"account_id\" = $1 AND \"notifications\".\"from_account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"notifications\".\"id\" ASC LIMIT $3","database_type":"postgres"}},{"id":170822,"event":"return","thread_id":9160,"parent_id":170821,"elapsed":0.000989382,"elapsed_instrumentation":9.422202128916979e-05},{"id":170823,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"follows\".\"id\" ASC LIMIT $3","database_type":"postgres"}},{"id":170824,"event":"return","thread_id":9160,"parent_id":170823,"elapsed":0.000727611,"elapsed_instrumentation":9.226001566275954e-05},{"id":170825,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1 AND \"follows\".\"account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"follows\".\"id\" ASC LIMIT $3","database_type":"postgres"}},{"id":170826,"event":"return","thread_id":9160,"parent_id":170825,"elapsed":0.000784576,"elapsed_instrumentation":7.222301792353392e-05},{"id":170827,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1","database_type":"postgres"}},{"id":170828,"event":"return","thread_id":9160,"parent_id":170827,"elapsed":0.00073138,"elapsed_instrumentation":8.017598884180188e-05},{"id":170829,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":170830,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":170831,"event":"return","thread_id":9160,"parent_id":170830,"elapsed":0.000339932,"elapsed_instrumentation":6.336800288408995e-05},{"id":170832,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":170833,"event":"return","thread_id":9160,"parent_id":170832,"elapsed":0.000427728,"elapsed_instrumentation":6.045401096343994e-05},{"id":170834,"event":"return","thread_id":9160,"parent_id":170829,"elapsed":0.0019913180149160326,"elapsed_instrumentation":0.00017369695706292987,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":170835,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":170836,"event":"return","thread_id":9160,"parent_id":170835,"elapsed":0.00053921,"elapsed_instrumentation":5.816301563754678e-05},{"id":170837,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":170838,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":170839,"event":"return","thread_id":9160,"parent_id":170838,"elapsed":0.000446562,"elapsed_instrumentation":5.785300163552165e-05},{"id":170840,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":1463860,"value":"#<Account:0x00007fc9328784a0>"}},{"id":170841,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":1463860,"value":"#<Account:0x00007fc9328784a0>"}},{"id":170842,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361329180377342, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":170843,"event":"return","thread_id":9160,"parent_id":170842,"elapsed":0.000651237,"elapsed_instrumentation":5.808600690215826e-05},{"id":170844,"event":"return","thread_id":9160,"parent_id":170841,"elapsed":0.0010360389715060592,"elapsed_instrumentation":7.626600563526154e-05},{"id":170845,"event":"return","thread_id":9160,"parent_id":170840,"elapsed":0.001210892980452627,"elapsed_instrumentation":9.222002699971199e-05},{"id":170846,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170847,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170848,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361329180377343, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":170849,"event":"return","thread_id":9160,"parent_id":170848,"elapsed":0.000579395,"elapsed_instrumentation":5.630304804071784e-05},{"id":170850,"event":"return","thread_id":9160,"parent_id":170847,"elapsed":0.0009213620214723051,"elapsed_instrumentation":6.754702189937234e-05},{"id":170851,"event":"return","thread_id":9160,"parent_id":170846,"elapsed":0.0010076109902001917,"elapsed_instrumentation":8.141604484990239e-05},{"id":170852,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463860,"value":"#<Account:0x00007fc9328784a0>"}},{"id":170853,"event":"return","thread_id":9160,"parent_id":170852,"elapsed":1.7234007827937603e-05,"elapsed_instrumentation":6.475101690739393e-05},{"id":170854,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"synchronization_uri_prefix","path":"app/models/account.rb","lineno":409,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463860,"value":"#<Account:0x00007fc9328784a0>"}},{"id":170855,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463860,"value":"#<Account:0x00007fc9328784a0>"}},{"id":170856,"event":"return","thread_id":9160,"parent_id":170855,"elapsed":5.164009053260088e-06,"elapsed_instrumentation":6.06600078754127e-05},{"id":170857,"event":"return","thread_id":9160,"parent_id":170854,"elapsed":0.0004607670125551522,"elapsed_instrumentation":6.66150008328259e-05,"return_value":{"class":"String","value":"https://evil.org/","object_id":1463880}},{"id":170858,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1463900,"value":"Cache delete: followers_hash:111361329180377343:https://evil.org/\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":170859,"event":"return","thread_id":9160,"parent_id":170858,"elapsed":0.0005466740112751722,"elapsed_instrumentation":0.0001035189488902688,"return_value":{"class":"Integer","value":"66","object_id":133}},{"id":170860,"event":"return","thread_id":9160,"parent_id":170837,"elapsed":0.0051000359817408025,"elapsed_instrumentation":0.0001458859769627452,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":170861,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":170862,"event":"return","thread_id":9160,"parent_id":170861,"elapsed":0.000372781,"elapsed_instrumentation":6.483402103185654e-05},{"id":170863,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":170864,"event":"return","thread_id":9160,"parent_id":170863,"elapsed":3.7559657357633114e-06,"elapsed_instrumentation":0.00010585004929453135,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":170865,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1463940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":170866,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1463960,"value":"Cache delete: relationship:111361329180377342:111361329180377343\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":170867,"event":"return","thread_id":9160,"parent_id":170866,"elapsed":0.0004579880042001605,"elapsed_instrumentation":0.00010381394531577826,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":170868,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1463980,"value":"Cache delete: relationship:111361329180377343:111361329180377342\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":170869,"event":"return","thread_id":9160,"parent_id":170868,"elapsed":0.0004103659885004163,"elapsed_instrumentation":0.00011479901149868965,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":170870,"event":"return","thread_id":9160,"parent_id":170865,"elapsed":0.0013046960229985416,"elapsed_instrumentation":9.179097833111882e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":170871,"event":"call","thread_id":9160,"defined_class":"Payloadable","method_id":"serialize_payload","path":"app/services/concerns/payloadable.rb","lineno":13,"static":false,"parameters":[{"name":"record","class":"Follow","object_id":1463920,"value":"#<Follow:0x00007fc9328785e0>","kind":"req"},{"name":"serializer","class":"Class","object_id":1462620,"value":"ActivityPub::RejectFollowSerializer","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"AfterBlockDomainFromAccountService","object_id":1464000,"value":"#<AfterBlockDomainFromAccountService:0x00007fc9383ffb98>"}},{"id":170872,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1464020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":170873,"event":"return","thread_id":9160,"parent_id":170872,"elapsed":2.6329653337597847e-06,"elapsed_instrumentation":7.079506758600473e-05,"return_value":{"class":"Array","value":"[]","object_id":326200,"size":0}},{"id":170874,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1464020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":170875,"event":"return","thread_id":9160,"parent_id":170874,"elapsed":2.2900057956576347e-06,"elapsed_instrumentation":7.017195457592607e-05,"return_value":{"class":"Array","value":"[]","object_id":326240,"size":0}},{"id":170876,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"serializable_hash","path":"app/lib/activitypub/adapter.rb","lineno":14,"static":false,"parameters":[{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::Adapter","object_id":1464040,"value":"#<ActivityPub::Adapter:0x00007fc937eb4df0>"}},{"id":170877,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Serializer","method_id":"serializable_hash","path":"app/lib/activitypub/serializer.rb","lineno":31,"static":false,"parameters":[{"name":"adapter_options","class":"Hash","object_id":1464060,"value":"{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}}","kind":"opt","size":2},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"adapter_instance","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::RejectFollowSerializer","object_id":1464080,"value":"#<ActivityPub::RejectFollowSerializer:0x00007fc934d7c8a0>"}},{"id":170878,"event":"call","thread_id":9160,"defined_class":"ActivityPub::RejectFollowSerializer","method_id":"id","path":"app/serializers/activitypub/reject_follow_serializer.rb","lineno":8,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::RejectFollowSerializer","object_id":1464080,"value":"#<ActivityPub::RejectFollowSerializer:0x00007fc934d7c8a0>"}},{"id":170879,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170880,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170881,"event":"return","thread_id":9160,"parent_id":170880,"elapsed":9.17096622288227e-06,"elapsed_instrumentation":5.639804294332862e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":170882,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170883,"event":"return","thread_id":9160,"parent_id":170882,"elapsed":3.0539813451468945e-06,"elapsed_instrumentation":5.3723983000963926e-05,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":170884,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170885,"event":"return","thread_id":9160,"parent_id":170884,"elapsed":7.15599162504077e-06,"elapsed_instrumentation":4.284601891413331e-05},{"id":170886,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170887,"event":"return","thread_id":9160,"parent_id":170886,"elapsed":4.984030965715647e-06,"elapsed_instrumentation":0.00011485395953059196,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170888,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170889,"event":"return","thread_id":9160,"parent_id":170888,"elapsed":2.2269668988883495e-06,"elapsed_instrumentation":8.125195745378733e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170890,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170891,"event":"return","thread_id":9160,"parent_id":170890,"elapsed":1.3580021914094687e-05,"elapsed_instrumentation":7.167598232626915e-05,"return_value":{"class":"String","value":"alice","object_id":1464100}},{"id":170892,"event":"return","thread_id":9160,"parent_id":170879,"elapsed":0.0007875680457800627,"elapsed_instrumentation":8.309591794386506e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/alice","object_id":1464120}},{"id":170893,"event":"return","thread_id":9160,"parent_id":170878,"elapsed":0.000911568000447005,"elapsed_instrumentation":5.515397060662508e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346","object_id":1464140}},{"id":170894,"event":"call","thread_id":9160,"defined_class":"ActivityPub::RejectFollowSerializer","method_id":"type","path":"app/serializers/activitypub/reject_follow_serializer.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::RejectFollowSerializer","object_id":1464080,"value":"#<ActivityPub::RejectFollowSerializer:0x00007fc934d7c8a0>"}},{"id":170895,"event":"return","thread_id":9160,"parent_id":170894,"elapsed":3.101013135164976e-06,"elapsed_instrumentation":5.922600394114852e-05,"return_value":{"class":"String","value":"Reject","object_id":1462900}},{"id":170896,"event":"call","thread_id":9160,"defined_class":"ActivityPub::RejectFollowSerializer","method_id":"actor","path":"app/serializers/activitypub/reject_follow_serializer.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::RejectFollowSerializer","object_id":1464080,"value":"#<ActivityPub::RejectFollowSerializer:0x00007fc934d7c8a0>"}},{"id":170897,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170898,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170899,"event":"return","thread_id":9160,"parent_id":170898,"elapsed":5.669018719345331e-06,"elapsed_instrumentation":5.187996430322528e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":170900,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170901,"event":"return","thread_id":9160,"parent_id":170900,"elapsed":5.508947651833296e-06,"elapsed_instrumentation":0.00010309607023373246,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":170902,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170903,"event":"return","thread_id":9160,"parent_id":170902,"elapsed":6.183981895446777e-06,"elapsed_instrumentation":5.330500425770879e-05},{"id":170904,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170905,"event":"return","thread_id":9160,"parent_id":170904,"elapsed":2.8909998945891857e-06,"elapsed_instrumentation":8.929299656301737e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170906,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170907,"event":"return","thread_id":9160,"parent_id":170906,"elapsed":2.338958438485861e-06,"elapsed_instrumentation":7.967907004058361e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170908,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170909,"event":"return","thread_id":9160,"parent_id":170908,"elapsed":5.066976882517338e-06,"elapsed_instrumentation":6.258301436901093e-05,"return_value":{"class":"String","value":"alice","object_id":1464100}},{"id":170910,"event":"return","thread_id":9160,"parent_id":170897,"elapsed":0.0006658639758825302,"elapsed_instrumentation":7.757398998364806e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/alice","object_id":1464160}},{"id":170911,"event":"return","thread_id":9160,"parent_id":170896,"elapsed":0.0007700119749642909,"elapsed_instrumentation":4.972500028088689e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/alice","object_id":1464160}},{"id":170912,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Serializer","method_id":"serializable_hash","path":"app/lib/activitypub/serializer.rb","lineno":31,"static":false,"parameters":[{"name":"adapter_options","class":"Hash","object_id":1464180,"value":"{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}, :include_directive=>#<JSONAPI::IncludeDirective:0x00007fc937f20bb8>, :adapter_instance=>ActiveModelSerializers::Adapter::Attributes}","kind":"opt","size":4},{"name":"options","class":"Hash","object_id":1464200,"value":"{}","kind":"opt","size":0},{"name":"adapter_instance","class":"Class","object_id":1462980,"value":"ActiveModelSerializers::Adapter::Attributes","kind":"opt"}],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":1464220,"value":"#<ActivityPub::FollowSerializer:0x00007fc934d783e0>"}},{"id":170913,"event":"call","thread_id":9160,"defined_class":"ActivityPub::FollowSerializer","method_id":"id","path":"app/serializers/activitypub/follow_serializer.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":1464220,"value":"#<ActivityPub::FollowSerializer:0x00007fc934d783e0>"}},{"id":170914,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Follow","object_id":1463920,"value":"#<Follow:0x00007fc9328785e0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170915,"event":"call","thread_id":9160,"defined_class":"Follow","method_id":"local?","path":"app/models/follow.rb","lineno":36,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":1463920,"value":"#<Follow:0x00007fc9328785e0>"}},{"id":170916,"event":"return","thread_id":9160,"parent_id":170915,"elapsed":3.163993824273348e-06,"elapsed_instrumentation":4.5659951865673065e-05},{"id":170917,"event":"return","thread_id":9160,"parent_id":170914,"elapsed":8.294195868074894e-05,"elapsed_instrumentation":9.426602628082037e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578","object_id":1464240}},{"id":170918,"event":"return","thread_id":9160,"parent_id":170913,"elapsed":0.00019706995226442814,"elapsed_instrumentation":6.828899495303631e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578","object_id":1464240}},{"id":170919,"event":"call","thread_id":9160,"defined_class":"ActivityPub::FollowSerializer","method_id":"type","path":"app/serializers/activitypub/follow_serializer.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":1464220,"value":"#<ActivityPub::FollowSerializer:0x00007fc934d783e0>"}},{"id":170920,"event":"return","thread_id":9160,"parent_id":170919,"elapsed":2.6399502530694008e-06,"elapsed_instrumentation":9.106204379349947e-05,"return_value":{"class":"String","value":"Follow","object_id":1463040}},{"id":170921,"event":"call","thread_id":9160,"defined_class":"ActivityPub::FollowSerializer","method_id":"actor","path":"app/serializers/activitypub/follow_serializer.rb","lineno":15,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":1464220,"value":"#<ActivityPub::FollowSerializer:0x00007fc934d783e0>"}},{"id":170922,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":1463860,"value":"#<Account:0x00007fc9328784a0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170923,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463860,"value":"#<Account:0x00007fc9328784a0>"}},{"id":170924,"event":"return","thread_id":9160,"parent_id":170923,"elapsed":5.845038685947657e-06,"elapsed_instrumentation":4.635791992768645e-05},{"id":170925,"event":"return","thread_id":9160,"parent_id":170922,"elapsed":0.00012375600636005402,"elapsed_instrumentation":9.200198110193014e-05,"return_value":{"class":"String","value":"https://evil.org/users/wolf","object_id":1464260}},{"id":170926,"event":"return","thread_id":9160,"parent_id":170921,"elapsed":0.0002460150280967355,"elapsed_instrumentation":5.190301453694701e-05,"return_value":{"class":"String","value":"https://evil.org/users/wolf","object_id":1464260}},{"id":170927,"event":"call","thread_id":9160,"defined_class":"ActivityPub::FollowSerializer","method_id":"virtual_object","path":"app/serializers/activitypub/follow_serializer.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":1464220,"value":"#<ActivityPub::FollowSerializer:0x00007fc934d783e0>"}},{"id":170928,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170929,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170930,"event":"return","thread_id":9160,"parent_id":170929,"elapsed":6.2569743022322655e-06,"elapsed_instrumentation":5.2546034567058086e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":170931,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170932,"event":"return","thread_id":9160,"parent_id":170931,"elapsed":2.1780142560601234e-06,"elapsed_instrumentation":5.351100116968155e-05,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":170933,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170934,"event":"return","thread_id":9160,"parent_id":170933,"elapsed":5.438982043415308e-06,"elapsed_instrumentation":4.199001705273986e-05},{"id":170935,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170936,"event":"return","thread_id":9160,"parent_id":170935,"elapsed":4.059984348714352e-06,"elapsed_instrumentation":8.66129994392395e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170937,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":170938,"event":"return","thread_id":9160,"parent_id":170937,"elapsed":2.261018380522728e-06,"elapsed_instrumentation":7.822999032214284e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":170939,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1463540,"value":"#<Account:0x00007fc930fe2580>"}},{"id":170940,"event":"return","thread_id":9160,"parent_id":170939,"elapsed":5.650043021887541e-06,"elapsed_instrumentation":0.0001314929686486721,"return_value":{"class":"String","value":"alice","object_id":1464100}},{"id":170941,"event":"return","thread_id":9160,"parent_id":170928,"elapsed":0.0006826499593444169,"elapsed_instrumentation":8.498906390741467e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/alice","object_id":1464280}},{"id":170942,"event":"return","thread_id":9160,"parent_id":170927,"elapsed":0.000795177009422332,"elapsed_instrumentation":5.823996616527438e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/alice","object_id":1464280}},{"id":170943,"event":"return","thread_id":9160,"parent_id":170912,"elapsed":0.0016258179675787687,"elapsed_instrumentation":0.00024682708317413926,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}","object_id":1464300,"size":4}},{"id":170944,"event":"return","thread_id":9160,"parent_id":170877,"elapsed":0.004600013024173677,"elapsed_instrumentation":0.00017592200310900807,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","object_id":1464320,"size":4}},{"id":170945,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"transform_key_casing!","path":"app/lib/activitypub/adapter.rb","lineno":10,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":1464320,"value":"{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","kind":"req","size":4},{"name":"_options","class":"Hash","object_id":1464340,"value":"{}","kind":"req","size":0}],"receiver":{"class":"Class","object_id":51220,"value":"ActivityPub::Adapter"}},{"id":170946,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":1464320,"value":"{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","kind":"req","size":4}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170947,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":679388,"value":":id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170948,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1464360,"value":"id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170949,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170950,"event":"return","thread_id":9160,"parent_id":170949,"elapsed":2.4819746613502502e-06,"elapsed_instrumentation":0.00014683400513604283,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170951,"event":"return","thread_id":9160,"parent_id":170948,"elapsed":0.00016481196507811546,"elapsed_instrumentation":5.7428027503192425e-05,"return_value":{"class":"String","value":"id","object_id":1463220}},{"id":170952,"event":"return","thread_id":9160,"parent_id":170947,"elapsed":0.00023612001677975059,"elapsed_instrumentation":5.512003554031253e-05,"return_value":{"class":"Symbol","value":":id","object_id":679388}},{"id":170953,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":688668,"value":":type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170954,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1464380,"value":"type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170955,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170956,"event":"return","thread_id":9160,"parent_id":170955,"elapsed":2.143962774425745e-06,"elapsed_instrumentation":0.0005631810054183006,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170957,"event":"return","thread_id":9160,"parent_id":170954,"elapsed":0.0005826809792779386,"elapsed_instrumentation":6.028497591614723e-05,"return_value":{"class":"String","value":"type","object_id":1463260}},{"id":170958,"event":"return","thread_id":9160,"parent_id":170953,"elapsed":0.0006577770109288394,"elapsed_instrumentation":5.7537981774657965e-05,"return_value":{"class":"Symbol","value":":type","object_id":688668}},{"id":170959,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":17461788,"value":":actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170960,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1464400,"value":"actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170961,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170962,"event":"return","thread_id":9160,"parent_id":170961,"elapsed":1.934997271746397e-06,"elapsed_instrumentation":0.00014057796215638518,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170963,"event":"return","thread_id":9160,"parent_id":170960,"elapsed":0.00015787099255248904,"elapsed_instrumentation":5.995604442432523e-05,"return_value":{"class":"String","value":"actor","object_id":1463300}},{"id":170964,"event":"return","thread_id":9160,"parent_id":170959,"elapsed":0.00023259298177435994,"elapsed_instrumentation":6.829400081187487e-05,"return_value":{"class":"Symbol","value":":actor","object_id":17461788}},{"id":170965,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":703388,"value":":object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170966,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1464420,"value":"object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170967,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170968,"event":"return","thread_id":9160,"parent_id":170967,"elapsed":2.362998202443123e-06,"elapsed_instrumentation":0.00020005699479952455,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170969,"event":"return","thread_id":9160,"parent_id":170966,"elapsed":0.0002192439860664308,"elapsed_instrumentation":5.6743971072137356e-05,"return_value":{"class":"String","value":"object","object_id":1463340}},{"id":170970,"event":"return","thread_id":9160,"parent_id":170965,"elapsed":0.00029041501693427563,"elapsed_instrumentation":5.5379990953952074e-05,"return_value":{"class":"Symbol","value":":object","object_id":703388}},{"id":170971,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":679388,"value":":id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170972,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1464440,"value":"id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170973,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170974,"event":"return","thread_id":9160,"parent_id":170973,"elapsed":1.9859871827065945e-06,"elapsed_instrumentation":0.00014049606397747993,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170975,"event":"return","thread_id":9160,"parent_id":170972,"elapsed":0.00015667802654206753,"elapsed_instrumentation":5.820096703246236e-05,"return_value":{"class":"String","value":"id","object_id":1463220}},{"id":170976,"event":"return","thread_id":9160,"parent_id":170971,"elapsed":0.00022901402553543448,"elapsed_instrumentation":5.828897701576352e-05,"return_value":{"class":"Symbol","value":":id","object_id":679388}},{"id":170977,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":688668,"value":":type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170978,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1464460,"value":"type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170979,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170980,"event":"return","thread_id":9160,"parent_id":170979,"elapsed":1.8550199456512928e-06,"elapsed_instrumentation":0.00013995298650115728,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170981,"event":"return","thread_id":9160,"parent_id":170978,"elapsed":0.00015595601871609688,"elapsed_instrumentation":5.6722958106547594e-05,"return_value":{"class":"String","value":"type","object_id":1463260}},{"id":170982,"event":"return","thread_id":9160,"parent_id":170977,"elapsed":0.00022645702119916677,"elapsed_instrumentation":5.477102240547538e-05,"return_value":{"class":"Symbol","value":":type","object_id":688668}},{"id":170983,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":17461788,"value":":actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170984,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1464480,"value":"actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170985,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170986,"event":"return","thread_id":9160,"parent_id":170985,"elapsed":1.960026565939188e-06,"elapsed_instrumentation":0.00022529502166435122,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170987,"event":"return","thread_id":9160,"parent_id":170984,"elapsed":0.00024364900309592485,"elapsed_instrumentation":5.699496250599623e-05,"return_value":{"class":"String","value":"actor","object_id":1463300}},{"id":170988,"event":"return","thread_id":9160,"parent_id":170983,"elapsed":0.0003144890069961548,"elapsed_instrumentation":5.538598634302616e-05,"return_value":{"class":"Symbol","value":":actor","object_id":17461788}},{"id":170989,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":703388,"value":":object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170990,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1464500,"value":"object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170991,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":170992,"event":"return","thread_id":9160,"parent_id":170991,"elapsed":2.3809843696653843e-06,"elapsed_instrumentation":0.00014873198233544827,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}","object_id":1463200,"size":41}},{"id":170993,"event":"return","thread_id":9160,"parent_id":170990,"elapsed":0.0001669810153543949,"elapsed_instrumentation":8.402694948017597e-05,"return_value":{"class":"String","value":"object","object_id":1463340}},{"id":170994,"event":"return","thread_id":9160,"parent_id":170989,"elapsed":0.0005906189908273518,"elapsed_instrumentation":6.163801299408078e-05,"return_value":{"class":"Symbol","value":":object","object_id":703388}},{"id":170995,"event":"return","thread_id":9160,"parent_id":170946,"elapsed":0.0033671369892545044,"elapsed_instrumentation":0.00024311605375260115,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","object_id":1464320,"size":4}},{"id":170996,"event":"return","thread_id":9160,"parent_id":170945,"elapsed":0.003629815997555852,"elapsed_instrumentation":0.00023081700783222914,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","object_id":1464320,"size":4}},{"id":170997,"event":"call","thread_id":9160,"defined_class":"ContextHelper","method_id":"serialized_context","path":"app/helpers/context_helper.rb","lineno":41,"static":false,"parameters":[{"name":"named_contexts_map","class":"Hash","object_id":1464520,"value":"{:activitystreams=>}","kind":"req","size":1},{"name":"context_extensions_map","class":"Hash","object_id":1464540,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActivityPub::Adapter","object_id":1464040,"value":"#<ActivityPub::Adapter:0x00007fc937eb4df0>"}},{"id":170998,"event":"return","thread_id":9160,"parent_id":170997,"elapsed":8.089002221822739e-06,"elapsed_instrumentation":9.585201041772962e-05,"return_value":{"class":"String","value":"https://www.w3.org/ns/activitystreams","object_id":1463480}},{"id":170999,"event":"return","thread_id":9160,"parent_id":170876,"elapsed":0.008795669011306018,"elapsed_instrumentation":0.00014208396896719933,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","object_id":1464560,"size":5}},{"id":171000,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1464020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":171001,"event":"return","thread_id":9160,"parent_id":171000,"elapsed":3.390014171600342e-06,"elapsed_instrumentation":7.127202115952969e-05,"return_value":{"class":"Array","value":"[]","object_id":328060,"size":0}},{"id":171002,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1464020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":171003,"event":"return","thread_id":9160,"parent_id":171002,"elapsed":2.344953827559948e-06,"elapsed_instrumentation":5.935598164796829e-05,"return_value":{"class":"Array","value":"[]","object_id":328080,"size":0}},{"id":171004,"event":"return","thread_id":9160,"parent_id":170871,"elapsed":0.009439904999453574,"elapsed_instrumentation":0.00023075903300195932,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}","object_id":1464560,"size":5}},{"id":171005,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follow_requests\".* FROM \"follow_requests\" WHERE \"follow_requests\".\"target_account_id\" = $1 AND \"follow_requests\".\"account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"follow_requests\".\"id\" ASC LIMIT $3","database_type":"postgres"}},{"id":171006,"event":"return","thread_id":9160,"parent_id":171005,"elapsed":0.001147159,"elapsed_instrumentation":7.728202035650611e-05}]}