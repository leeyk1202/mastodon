{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --followers option resets all \"followers\" relationships from the target account","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]},{"name":"RequestPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/request_pool.rb:114","static":false}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:13","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:51","static":false}]}]}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":2893636,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":14285060,"value":"leana_schoen6713","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14285080,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e0cc5a00>"}},{"id":2893637,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":14285100,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc9320e5b20>"}},{"id":2893638,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'leana_schoen6713' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2893639,"event":"return","thread_id":9160,"parent_id":2893638,"elapsed":0.001061447,"elapsed_instrumentation":8.918502135202289e-05},{"id":2893640,"event":"return","thread_id":9160,"parent_id":2893637,"elapsed":0.004057965998072177,"elapsed_instrumentation":0.00022286898456513882,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e15ed218>","object_id":14285120}},{"id":2893641,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1)","database_type":"postgres"}},{"id":2893642,"event":"return","thread_id":9160,"parent_id":2893641,"elapsed":0.001074523,"elapsed_instrumentation":9.652599692344666e-05},{"id":2893643,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14285080,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e0cc5a00>"}},{"id":2893644,"event":"return","thread_id":9160,"parent_id":2893643,"elapsed":0.00010902102803811431,"elapsed_instrumentation":0.00029451196314767003,"return_value":{"class":"ProgressBar::Base","value":"","object_id":14285140}},{"id":2893645,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2893646,"event":"return","thread_id":9160,"parent_id":2893645,"elapsed":0.00237345,"elapsed_instrumentation":0.00011137896217405796},{"id":2893647,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14285160,"value":"relationship:111361439700656845:111361439700656855","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14285180,"value":"#<UnfollowService:0x00007fc8e0cc38e0>"}},{"id":2893648,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14285180,"value":"#<UnfollowService:0x00007fc8e0cc38e0>"}},{"id":2893649,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14285200,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14285220,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893650,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893651,"event":"return","thread_id":9160,"parent_id":2893650,"elapsed":2.7790083549916744e-06,"elapsed_instrumentation":6.824900628998876e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2893652,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14285240,"value":"\u001ey&___1P_\u0018_o__^"}},{"id":2893653,"event":"return","thread_id":9160,"parent_id":2893652,"elapsed":6.342015694826841e-06,"elapsed_instrumentation":0.00013701594434678555,"return_value":{"class":"Array","value":"[511256275, 59321, 12624, 41240, 65407, 1872602974]","object_id":14285260,"size":6}},{"id":2893654,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893655,"event":"return","thread_id":9160,"parent_id":2893654,"elapsed":0.000580459,"elapsed_instrumentation":0.0005958449910394847},{"id":2893656,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14285280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893657,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893658,"event":"return","thread_id":9160,"parent_id":2893657,"elapsed":0.000519696,"elapsed_instrumentation":0.0002931049675680697},{"id":2893659,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893660,"event":"return","thread_id":9160,"parent_id":2893659,"elapsed":0.00073403,"elapsed_instrumentation":8.409202564507723e-05},{"id":2893661,"event":"return","thread_id":9160,"parent_id":2893656,"elapsed":0.0035950170131400228,"elapsed_instrumentation":0.000352836970705539,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2893662,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2893663,"event":"return","thread_id":9160,"parent_id":2893662,"elapsed":0.000787469,"elapsed_instrumentation":9.366695303469896e-05},{"id":2893664,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14285280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893665,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2893666,"event":"return","thread_id":9160,"parent_id":2893665,"elapsed":0.000563922,"elapsed_instrumentation":8.857401553541422e-05},{"id":2893667,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893668,"event":"return","thread_id":9160,"parent_id":2893667,"elapsed":0.000678157,"elapsed_instrumentation":0.00014711101539433002},{"id":2893669,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14285300,"value":"#<Account:0x00007fc8e15eaa18>"}},{"id":2893670,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14285300,"value":"#<Account:0x00007fc8e15eaa18>"}},{"id":2893671,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439700656845, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893672,"event":"return","thread_id":9160,"parent_id":2893671,"elapsed":0.00098296,"elapsed_instrumentation":9.30780079215765e-05},{"id":2893673,"event":"return","thread_id":9160,"parent_id":2893670,"elapsed":0.001966740994248539,"elapsed_instrumentation":0.00011647498467937112},{"id":2893674,"event":"return","thread_id":9160,"parent_id":2893669,"elapsed":0.0021176160080358386,"elapsed_instrumentation":0.0002597040147520602},{"id":2893675,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893676,"event":"return","thread_id":9160,"parent_id":2893675,"elapsed":0.000611419,"elapsed_instrumentation":8.504901779815555e-05},{"id":2893677,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14285320,"value":"#<Account:0x00007fc8e15e9b18>"}},{"id":2893678,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14285320,"value":"#<Account:0x00007fc8e15e9b18>"}},{"id":2893679,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439700656855, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893680,"event":"return","thread_id":9160,"parent_id":2893679,"elapsed":0.000886128,"elapsed_instrumentation":0.00014627596829086542},{"id":2893681,"event":"return","thread_id":9160,"parent_id":2893678,"elapsed":0.0018403049907647073,"elapsed_instrumentation":9.339803364127874e-05},{"id":2893682,"event":"return","thread_id":9160,"parent_id":2893677,"elapsed":0.0019622339750640094,"elapsed_instrumentation":0.00014079699758440256},{"id":2893683,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285300,"value":"#<Account:0x00007fc8e15eaa18>"}},{"id":2893684,"event":"return","thread_id":9160,"parent_id":2893683,"elapsed":1.7718004528433084e-05,"elapsed_instrumentation":0.00013138004578649998,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893685,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285320,"value":"#<Account:0x00007fc8e15e9b18>"}},{"id":2893686,"event":"return","thread_id":9160,"parent_id":2893685,"elapsed":1.1652999091893435e-05,"elapsed_instrumentation":0.0001179120154120028,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893687,"event":"return","thread_id":9160,"parent_id":2893664,"elapsed":0.012480705976486206,"elapsed_instrumentation":0.0002419549855403602,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2893688,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893689,"event":"return","thread_id":9160,"parent_id":2893688,"elapsed":0.000515839,"elapsed_instrumentation":0.0002392060123383999},{"id":2893690,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14285360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893691,"event":"return","thread_id":9160,"parent_id":2893690,"elapsed":6.099988240748644e-06,"elapsed_instrumentation":0.00019724806770682335,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2893692,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14285360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893693,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14285380,"value":"Cache delete: relationship:111361439700656845:111361439700656855\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893694,"event":"return","thread_id":9160,"parent_id":2893693,"elapsed":0.0008746180101297796,"elapsed_instrumentation":0.0003170230193063617,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893695,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14285400,"value":"Cache delete: relationship:111361439700656855:111361439700656845\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893696,"event":"return","thread_id":9160,"parent_id":2893695,"elapsed":0.0007712470251135528,"elapsed_instrumentation":0.00014906399883329868,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893697,"event":"return","thread_id":9160,"parent_id":2893692,"elapsed":0.002452723972965032,"elapsed_instrumentation":0.00020442699315026402,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2893698,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2893699,"event":"return","thread_id":9160,"parent_id":2893698,"elapsed":6.353500066325068e-05,"elapsed_instrumentation":0.00012486102059483528,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893700,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2893701,"event":"return","thread_id":9160,"parent_id":2893700,"elapsed":7.438007742166519e-06,"elapsed_instrumentation":0.000252070021815598,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893702,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285420,"value":"#<Account:0x00007fc8e15ec598>"}},{"id":2893703,"event":"return","thread_id":9160,"parent_id":2893702,"elapsed":1.2462958693504333e-05,"elapsed_instrumentation":9.262701496481895e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893704,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14285440,"value":"{args=>[111361439700656855, 111361439700656845], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14285460,"value":"#<Sidekiq::Client:0x00007fc93202e7e0>"}},{"id":2893705,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14285480,"value":"_\u0002YA/n_\u0010____"}},{"id":2893706,"event":"return","thread_id":9160,"parent_id":2893705,"elapsed":4.453002475202084e-06,"elapsed_instrumentation":0.00025170797016471624,"return_value":{"class":"String","value":"9c0259412f6ee710e78d8199","object_id":14285500}},{"id":2893707,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14285520,"value":"[111361439700656855, 111361439700656845]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14285540,"value":"#<JSON::Ext::Generator::State:0x00007fc93202a910>"}},{"id":2893708,"event":"return","thread_id":9160,"parent_id":2893707,"elapsed":6.4150081016123295e-06,"elapsed_instrumentation":0.0001178389647975564,"return_value":{"class":"String","value":"[111361439700656855,111361439700656845]","object_id":14285560}},{"id":2893709,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14285580,"value":"#<JSON::Ext::Parser:0x00007fc9320298d0>"}},{"id":2893710,"event":"return","thread_id":9160,"parent_id":2893709,"elapsed":6.0909660533070564e-06,"elapsed_instrumentation":8.538103429600596e-05,"return_value":{"class":"Array","value":"[111361439700656855, 111361439700656845]","object_id":14285600,"size":2}},{"id":2893711,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14285620,"value":"_l_\u0003_\u001c_HY_M_"}},{"id":2893712,"event":"return","thread_id":9160,"parent_id":2893711,"elapsed":3.235007170587778e-06,"elapsed_instrumentation":9.921996388584375e-05,"return_value":{"class":"String","value":"9a6cf003b11ccf4859e64dec","object_id":14285640}},{"id":2893713,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14285660,"value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656845], class=>UnmergeWorker, jid=>9c0259412f6ee710e78d8199, created_at=>1699240719.0215216, id=>9a6cf003b11ccf4859e64dec}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14285680,"value":"#<JSON::Ext::Generator::State:0x00007fc932026c20>"}},{"id":2893714,"event":"return","thread_id":9160,"parent_id":2893713,"elapsed":1.6854959540069103e-05,"elapsed_instrumentation":0.00018047099001705647,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439700656855,111361439700656845],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14285700}},{"id":2893715,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14285720,"value":"#<JSON::Ext::Parser:0x00007fc932024420>"}},{"id":2893716,"event":"return","thread_id":9160,"parent_id":2893715,"elapsed":2.033001510426402e-05,"elapsed_instrumentation":0.00015116296708583832,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656845], class=>UnmergeWorker, jid=>9c0259412f6ee710e78d8199, created_at=>1699240719.0215216, id=>9a6cf003b11ccf4859e64dec}","object_id":14285740,"size":7}},{"id":2893717,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879401313711,"value":"111361439700656855","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879401313691,"value":"111361439700656845","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14285760,"value":"#<UnmergeWorker:0x00007fc9320211f8>"}},{"id":2893718,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14285760,"value":"#<UnmergeWorker:0x00007fc9320211f8>"}},{"id":2893719,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893720,"event":"return","thread_id":9160,"parent_id":2893719,"elapsed":0.000589011,"elapsed_instrumentation":9.527301881462336e-05},{"id":2893721,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893722,"event":"return","thread_id":9160,"parent_id":2893721,"elapsed":0.000565308,"elapsed_instrumentation":8.072302443906665e-05},{"id":2893723,"event":"return","thread_id":9160,"parent_id":2893718,"elapsed":0.0035454119788482785,"elapsed_instrumentation":0.0001286610495299101,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e15e8358>","object_id":14285780}},{"id":2893724,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14285760,"value":"#<UnmergeWorker:0x00007fc9320211f8>"}},{"id":2893725,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14285800,"value":"#<Account:0x00007fc8e15e8498>","kind":"req"},{"name":"into_account","class":"Account","object_id":14285780,"value":"#<Account:0x00007fc8e15e8358>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893726,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879401313691,"value":"111361439700656845","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893727,"event":"return","thread_id":9160,"parent_id":2893726,"elapsed":5.7720462791621685e-06,"elapsed_instrumentation":0.00012625398812815547,"return_value":{"class":"String","value":"feed:home:111361439700656845","object_id":14285820}},{"id":2893728,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893729,"event":"return","thread_id":9160,"parent_id":2893728,"elapsed":4.639034159481525e-06,"elapsed_instrumentation":7.133901817724109e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2893730,"event":"return","thread_id":9160,"parent_id":2893725,"elapsed":0.003564510028809309,"elapsed_instrumentation":0.00010706798639148474},{"id":2893731,"event":"return","thread_id":9160,"parent_id":2893724,"elapsed":0.003705248993355781,"elapsed_instrumentation":8.218706352636218e-05},{"id":2893732,"event":"return","thread_id":9160,"parent_id":2893717,"elapsed":0.007609380001667887,"elapsed_instrumentation":7.709400961175561e-05},{"id":2893733,"event":"return","thread_id":9160,"parent_id":2893704,"elapsed":0.0090039600036107,"elapsed_instrumentation":0.00018905301112681627,"return_value":{"class":"String","value":"9c0259412f6ee710e78d8199","object_id":14285500}},{"id":2893734,"event":"return","thread_id":9160,"parent_id":2893649,"elapsed":0.03690818801987916,"elapsed_instrumentation":0.00016682595014572144,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15eb558>","object_id":14285340}},{"id":2893735,"event":"return","thread_id":9160,"parent_id":2893648,"elapsed":0.037102328962646425,"elapsed_instrumentation":0.00013191899051889777,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15eb558>","object_id":14285340}},{"id":2893736,"event":"return","thread_id":9160,"parent_id":2893647,"elapsed":0.03727664501639083,"elapsed_instrumentation":0.0002205029595643282,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15eb558>","object_id":14285340}},{"id":2893737,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14285840,"value":"relationship:111361439700656846:111361439700656855","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14285860,"value":"#<UnfollowService:0x00007fc8e0cec268>"}},{"id":2893738,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14285860,"value":"#<UnfollowService:0x00007fc8e0cec268>"}},{"id":2893739,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14285880,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14285900,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893740,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893741,"event":"return","thread_id":9160,"parent_id":2893740,"elapsed":3.1139934435486794e-06,"elapsed_instrumentation":0.00011893000919371843,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2893742,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14285920,"value":",}_c\u0013__\u0002_F___u_."}},{"id":2893743,"event":"return","thread_id":9160,"parent_id":2893742,"elapsed":1.0445015504956245e-05,"elapsed_instrumentation":0.0005276110023260117,"return_value":{"class":"Array","value":"[746440547, 5079, 64258, 41030, 57494, 4202020398]","object_id":14285940,"size":6}},{"id":2893744,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893745,"event":"return","thread_id":9160,"parent_id":2893744,"elapsed":0.000521569,"elapsed_instrumentation":9.403697913512588e-05},{"id":2893746,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14285960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893747,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893748,"event":"return","thread_id":9160,"parent_id":2893747,"elapsed":0.000340305,"elapsed_instrumentation":8.292996790260077e-05},{"id":2893749,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893750,"event":"return","thread_id":9160,"parent_id":2893749,"elapsed":0.000407835,"elapsed_instrumentation":7.218396058306098e-05},{"id":2893751,"event":"return","thread_id":9160,"parent_id":2893746,"elapsed":0.0027818289818242192,"elapsed_instrumentation":0.00018641207134351134,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2893752,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2893753,"event":"return","thread_id":9160,"parent_id":2893752,"elapsed":0.00067999,"elapsed_instrumentation":0.0001681030262261629},{"id":2893754,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14285960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893755,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2893756,"event":"return","thread_id":9160,"parent_id":2893755,"elapsed":0.000798323,"elapsed_instrumentation":8.394400356337428e-05},{"id":2893757,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893758,"event":"return","thread_id":9160,"parent_id":2893757,"elapsed":0.000669379,"elapsed_instrumentation":8.138199336826801e-05},{"id":2893759,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14285980,"value":"#<Account:0x00007fc8e15e6e18>"}},{"id":2893760,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14285980,"value":"#<Account:0x00007fc8e15e6e18>"}},{"id":2893761,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439700656846, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893762,"event":"return","thread_id":9160,"parent_id":2893761,"elapsed":0.001264829,"elapsed_instrumentation":0.00015113694826141},{"id":2893763,"event":"return","thread_id":9160,"parent_id":2893760,"elapsed":0.0020899520022794604,"elapsed_instrumentation":0.00015735795022919774},{"id":2893764,"event":"return","thread_id":9160,"parent_id":2893759,"elapsed":0.002336259000003338,"elapsed_instrumentation":0.00019395799608901143},{"id":2893765,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893766,"event":"return","thread_id":9160,"parent_id":2893765,"elapsed":0.000846171,"elapsed_instrumentation":0.0001034519518725574},{"id":2893767,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14286000,"value":"#<Account:0x00007fc8e15e5f18>"}},{"id":2893768,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14286000,"value":"#<Account:0x00007fc8e15e5f18>"}},{"id":2893769,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439700656855, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893770,"event":"return","thread_id":9160,"parent_id":2893769,"elapsed":0.002548952,"elapsed_instrumentation":0.000744690012652427},{"id":2893771,"event":"return","thread_id":9160,"parent_id":2893768,"elapsed":0.004388867993839085,"elapsed_instrumentation":0.0001289899810217321},{"id":2893772,"event":"return","thread_id":9160,"parent_id":2893767,"elapsed":0.004570611985400319,"elapsed_instrumentation":0.00017848401330411434},{"id":2893773,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285980,"value":"#<Account:0x00007fc8e15e6e18>"}},{"id":2893774,"event":"return","thread_id":9160,"parent_id":2893773,"elapsed":2.7454982046037912e-05,"elapsed_instrumentation":0.00020132202189415693,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893775,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14286000,"value":"#<Account:0x00007fc8e15e5f18>"}},{"id":2893776,"event":"return","thread_id":9160,"parent_id":2893775,"elapsed":1.6610021702945232e-05,"elapsed_instrumentation":0.00013382098404690623,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893777,"event":"return","thread_id":9160,"parent_id":2893754,"elapsed":0.016315165965352207,"elapsed_instrumentation":0.0002697400050237775,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2893778,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14286020,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14286040,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2893779,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14286060,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14286080,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2893780,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2893781,"event":"return","thread_id":13276700,"parent_id":2893780,"elapsed":8.968054316937923e-06,"elapsed_instrumentation":0.0001019149785861373,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2893782,"event":"return","thread_id":13276700,"parent_id":2893779,"elapsed":0.00013631494948640466,"elapsed_instrumentation":0.00021465698955580592,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2893783,"event":"return","thread_id":13276700,"parent_id":2893778,"elapsed":0.00038722000317648053,"elapsed_instrumentation":0.0003238139906898141,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2893784,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893785,"event":"return","thread_id":9160,"parent_id":2893784,"elapsed":0.001197128,"elapsed_instrumentation":0.00014654896222054958},{"id":2893786,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14286120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893787,"event":"return","thread_id":9160,"parent_id":2893786,"elapsed":5.730020347982645e-06,"elapsed_instrumentation":0.00038940698141232133,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2893788,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14286120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893789,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14286140,"value":"Cache delete: relationship:111361439700656846:111361439700656855\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893790,"event":"return","thread_id":9160,"parent_id":2893789,"elapsed":0.0008648529765196145,"elapsed_instrumentation":0.00015302503015846014,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893791,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14286160,"value":"Cache delete: relationship:111361439700656855:111361439700656846\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893792,"event":"return","thread_id":9160,"parent_id":2893791,"elapsed":0.0010450610425323248,"elapsed_instrumentation":0.00019322993466630578,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893793,"event":"return","thread_id":9160,"parent_id":2893788,"elapsed":0.0027184130158275366,"elapsed_instrumentation":0.0001765929628163576,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2893794,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2893795,"event":"return","thread_id":9160,"parent_id":2893794,"elapsed":1.554301707074046e-05,"elapsed_instrumentation":0.00014054100029170513,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893796,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2893797,"event":"return","thread_id":9160,"parent_id":2893796,"elapsed":7.368042133748531e-06,"elapsed_instrumentation":0.00010558398207649589,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893798,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14286180,"value":"#<Account:0x00007fc8e15ec458>"}},{"id":2893799,"event":"return","thread_id":9160,"parent_id":2893798,"elapsed":2.070300979539752e-05,"elapsed_instrumentation":0.00012500194134190679,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893800,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14286200,"value":"{args=>[111361439700656855, 111361439700656846], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14286220,"value":"#<Sidekiq::Client:0x00007fc931f5db18>"}},{"id":2893801,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14286240,"value":"____D__>J___"}},{"id":2893802,"event":"return","thread_id":9160,"parent_id":2893801,"elapsed":8.727016393095255e-06,"elapsed_instrumentation":0.0004173349589109421,"return_value":{"class":"String","value":"82e7d35f44fb9a3e4a99be83","object_id":14286260}},{"id":2893803,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14286280,"value":"[111361439700656855, 111361439700656846]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14286300,"value":"#<JSON::Ext::Generator::State:0x00007fc931f571f0>"}},{"id":2893804,"event":"return","thread_id":9160,"parent_id":2893803,"elapsed":1.1811032891273499e-05,"elapsed_instrumentation":0.0002999880234710872,"return_value":{"class":"String","value":"[111361439700656855,111361439700656846]","object_id":14286320}},{"id":2893805,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14286340,"value":"#<JSON::Ext::Parser:0x00007fc931f55e90>"}},{"id":2893806,"event":"return","thread_id":9160,"parent_id":2893805,"elapsed":9.495008271187544e-06,"elapsed_instrumentation":0.00024881999706849456,"return_value":{"class":"Array","value":"[111361439700656855, 111361439700656846]","object_id":14286360,"size":2}},{"id":2893807,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14286380,"value":"Go__KV_o__ u"}},{"id":2893808,"event":"return","thread_id":9160,"parent_id":2893807,"elapsed":8.418981451541185e-06,"elapsed_instrumentation":0.0003636860055848956,"return_value":{"class":"String","value":"476fa78a4b56c36ff9a22075","object_id":14286400}},{"id":2893809,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14286420,"value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656846], class=>UnmergeWorker, jid=>82e7d35f44fb9a3e4a99be83, created_at=>1699240719.0634701, id=>476fa78a4b56c36ff9a22075}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14286440,"value":"#<JSON::Ext::Generator::State:0x00007fc931f53528>"}},{"id":2893810,"event":"return","thread_id":9160,"parent_id":2893809,"elapsed":2.6828027330338955e-05,"elapsed_instrumentation":0.0004683869774453342,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439700656855,111361439700656846],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14286460}},{"id":2893811,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14286480,"value":"#<JSON::Ext::Parser:0x00007fc931f7eb60>"}},{"id":2893812,"event":"return","thread_id":9160,"parent_id":2893811,"elapsed":3.476400161162019e-05,"elapsed_instrumentation":0.00046956201549619436,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656846], class=>UnmergeWorker, jid=>82e7d35f44fb9a3e4a99be83, created_at=>1699240719.0634701, id=>476fa78a4b56c36ff9a22075}","object_id":14286500,"size":7}},{"id":2893813,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879401313711,"value":"111361439700656855","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879401313693,"value":"111361439700656846","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14286520,"value":"#<UnmergeWorker:0x00007fc931f7b0c8>"}},{"id":2893814,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14286520,"value":"#<UnmergeWorker:0x00007fc931f7b0c8>"}},{"id":2893815,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893816,"event":"return","thread_id":9160,"parent_id":2893815,"elapsed":0.000814293,"elapsed_instrumentation":0.00011999596608802676},{"id":2893817,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893818,"event":"return","thread_id":9160,"parent_id":2893817,"elapsed":0.000528837,"elapsed_instrumentation":8.562899893149734e-05},{"id":2893819,"event":"return","thread_id":9160,"parent_id":2893814,"elapsed":0.004706598003394902,"elapsed_instrumentation":0.00022814300609752536,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e15e4898>","object_id":14286540}},{"id":2893820,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14286520,"value":"#<UnmergeWorker:0x00007fc931f7b0c8>"}},{"id":2893821,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14286560,"value":"#<Account:0x00007fc8e15e49d8>","kind":"req"},{"name":"into_account","class":"Account","object_id":14286540,"value":"#<Account:0x00007fc8e15e4898>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893822,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879401313693,"value":"111361439700656846","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893823,"event":"return","thread_id":9160,"parent_id":2893822,"elapsed":5.453999619930983e-06,"elapsed_instrumentation":0.00011001003440469503,"return_value":{"class":"String","value":"feed:home:111361439700656846","object_id":14286580}},{"id":2893824,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893825,"event":"return","thread_id":9160,"parent_id":2893824,"elapsed":4.562025424093008e-06,"elapsed_instrumentation":7.377704605460167e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2893826,"event":"return","thread_id":9160,"parent_id":2893821,"elapsed":0.004426886967848986,"elapsed_instrumentation":0.0001231019850820303},{"id":2893827,"event":"return","thread_id":9160,"parent_id":2893820,"elapsed":0.0045911549823358655,"elapsed_instrumentation":0.00011049304157495499},{"id":2893828,"event":"return","thread_id":9160,"parent_id":2893813,"elapsed":0.009699842019472271,"elapsed_instrumentation":0.00011551595525816083},{"id":2893829,"event":"return","thread_id":9160,"parent_id":2893800,"elapsed":0.012972397031262517,"elapsed_instrumentation":0.000516611966304481,"return_value":{"class":"String","value":"82e7d35f44fb9a3e4a99be83","object_id":14286260}},{"id":2893830,"event":"return","thread_id":9160,"parent_id":2893739,"elapsed":0.044194786984007806,"elapsed_instrumentation":0.0002504599979147315,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15e76d8>","object_id":14286100}},{"id":2893831,"event":"return","thread_id":9160,"parent_id":2893738,"elapsed":0.044487515988294035,"elapsed_instrumentation":0.0005717469612136483,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15e76d8>","object_id":14286100}},{"id":2893832,"event":"return","thread_id":9160,"parent_id":2893737,"elapsed":0.04509949398925528,"elapsed_instrumentation":0.00026758998865261674,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15e76d8>","object_id":14286100}},{"id":2893833,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14286600,"value":"relationship:111361439700656847:111361439700656855","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14286620,"value":"#<UnfollowService:0x00007fc8e0ce25d8>"}},{"id":2893834,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14286620,"value":"#<UnfollowService:0x00007fc8e0ce25d8>"}},{"id":2893835,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14286640,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14286660,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893836,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893837,"event":"return","thread_id":9160,"parent_id":2893836,"elapsed":3.1249946914613247e-06,"elapsed_instrumentation":7.27390288375318e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2893838,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14286680,"value":"__\b____hV___?_Z)"}},{"id":2893839,"event":"return","thread_id":9160,"parent_id":2893838,"elapsed":6.644986569881439e-06,"elapsed_instrumentation":0.00014253304107114673,"return_value":{"class":"Array","value":"[2309884157, 50085, 41832, 22193, 63986, 1068653097]","object_id":14286700,"size":6}},{"id":2893840,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893841,"event":"return","thread_id":9160,"parent_id":2893840,"elapsed":0.000567967,"elapsed_instrumentation":0.00022225099382922053},{"id":2893842,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14286720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893843,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893844,"event":"return","thread_id":9160,"parent_id":2893843,"elapsed":0.0006295,"elapsed_instrumentation":9.964196942746639e-05},{"id":2893845,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893846,"event":"return","thread_id":9160,"parent_id":2893845,"elapsed":0.000420452,"elapsed_instrumentation":8.60869768075645e-05},{"id":2893847,"event":"return","thread_id":9160,"parent_id":2893842,"elapsed":0.0035804929793812335,"elapsed_instrumentation":0.0001956559717655182,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2893848,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2893849,"event":"return","thread_id":9160,"parent_id":2893848,"elapsed":0.000667322,"elapsed_instrumentation":7.93539802543819e-05},{"id":2893850,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14286720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893851,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2893852,"event":"return","thread_id":9160,"parent_id":2893851,"elapsed":0.000822591,"elapsed_instrumentation":0.00012458598939701915},{"id":2893853,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893854,"event":"return","thread_id":9160,"parent_id":2893853,"elapsed":0.000801074,"elapsed_instrumentation":0.00012984196655452251},{"id":2893855,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14286740,"value":"#<Account:0x00007fc8e15e3218>"}},{"id":2893856,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14286740,"value":"#<Account:0x00007fc8e15e3218>"}},{"id":2893857,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439700656847, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893858,"event":"return","thread_id":9160,"parent_id":2893857,"elapsed":0.001664589,"elapsed_instrumentation":9.094702545553446e-05},{"id":2893859,"event":"return","thread_id":9160,"parent_id":2893856,"elapsed":0.0023005559924058616,"elapsed_instrumentation":0.00010510598076507449},{"id":2893860,"event":"return","thread_id":9160,"parent_id":2893855,"elapsed":0.0024361300165764987,"elapsed_instrumentation":0.0001873230212368071},{"id":2893861,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893862,"event":"return","thread_id":9160,"parent_id":2893861,"elapsed":0.000617748,"elapsed_instrumentation":8.350098505616188e-05},{"id":2893863,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14286760,"value":"#<Account:0x00007fc8e15e2318>"}},{"id":2893864,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14286760,"value":"#<Account:0x00007fc8e15e2318>"}},{"id":2893865,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439700656855, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893866,"event":"return","thread_id":9160,"parent_id":2893865,"elapsed":0.001069484,"elapsed_instrumentation":9.418500121682882e-05},{"id":2893867,"event":"return","thread_id":9160,"parent_id":2893864,"elapsed":0.0016455010045319796,"elapsed_instrumentation":9.811396012082696e-05},{"id":2893868,"event":"return","thread_id":9160,"parent_id":2893863,"elapsed":0.0017708759987726808,"elapsed_instrumentation":0.0001534860348328948},{"id":2893869,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14286740,"value":"#<Account:0x00007fc8e15e3218>"}},{"id":2893870,"event":"return","thread_id":9160,"parent_id":2893869,"elapsed":1.7812999431043863e-05,"elapsed_instrumentation":0.00011265999637544155,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893871,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14286760,"value":"#<Account:0x00007fc8e15e2318>"}},{"id":2893872,"event":"return","thread_id":9160,"parent_id":2893871,"elapsed":7.0150126703083515e-06,"elapsed_instrumentation":7.017195457592607e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893873,"event":"return","thread_id":9160,"parent_id":2893850,"elapsed":0.012459490972105414,"elapsed_instrumentation":0.0004328609793446958,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2893874,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893875,"event":"return","thread_id":9160,"parent_id":2893874,"elapsed":0.000701555,"elapsed_instrumentation":9.444798342883587e-05},{"id":2893876,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14286800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893877,"event":"return","thread_id":9160,"parent_id":2893876,"elapsed":3.7259887903928757e-06,"elapsed_instrumentation":0.00013444595970213413,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2893878,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14286800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893879,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14286820,"value":"Cache delete: relationship:111361439700656847:111361439700656855\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893880,"event":"return","thread_id":9160,"parent_id":2893879,"elapsed":0.0005366650293581188,"elapsed_instrumentation":0.0001299019786529243,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893881,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14286840,"value":"Cache delete: relationship:111361439700656855:111361439700656847\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893882,"event":"return","thread_id":9160,"parent_id":2893881,"elapsed":0.0005213489639572799,"elapsed_instrumentation":0.00014041300164535642,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893883,"event":"return","thread_id":9160,"parent_id":2893878,"elapsed":0.0017377869808115065,"elapsed_instrumentation":0.00010740000288933516,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2893884,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2893885,"event":"return","thread_id":9160,"parent_id":2893884,"elapsed":1.126196002587676e-05,"elapsed_instrumentation":0.00022084597731009126,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893886,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2893887,"event":"return","thread_id":9160,"parent_id":2893886,"elapsed":4.317960701882839e-06,"elapsed_instrumentation":8.775497553870082e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893888,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14286860,"value":"#<Account:0x00007fc8e15ec098>"}},{"id":2893889,"event":"return","thread_id":9160,"parent_id":2893888,"elapsed":1.1433032341301441e-05,"elapsed_instrumentation":6.03889930061996e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893890,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14286880,"value":"{args=>[111361439700656855, 111361439700656847], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14286900,"value":"#<Sidekiq::Client:0x00007fc931e550e0>"}},{"id":2893891,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14286920,"value":"nr\u0003\u0002\u0015__n_D\u0019_"}},{"id":2893892,"event":"return","thread_id":9160,"parent_id":2893891,"elapsed":4.184024874120951e-06,"elapsed_instrumentation":0.00011050398461520672,"return_value":{"class":"String","value":"6e72030215f2836eea4419fe","object_id":14286940}},{"id":2893893,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14286960,"value":"[111361439700656855, 111361439700656847]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14286980,"value":"#<JSON::Ext::Generator::State:0x00007fc931e50e28>"}},{"id":2893894,"event":"return","thread_id":9160,"parent_id":2893893,"elapsed":6.7150103859603405e-06,"elapsed_instrumentation":0.00010029901750385761,"return_value":{"class":"String","value":"[111361439700656855,111361439700656847]","object_id":14287000}},{"id":2893895,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14287020,"value":"#<JSON::Ext::Parser:0x00007fc931e7e8c8>"}},{"id":2893896,"event":"return","thread_id":9160,"parent_id":2893895,"elapsed":5.976995453238487e-06,"elapsed_instrumentation":0.00015155598521232605,"return_value":{"class":"Array","value":"[111361439700656855, 111361439700656847]","object_id":14287040,"size":2}},{"id":2893897,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14287060,"value":"u\u001bg'\u0002_______"}},{"id":2893898,"event":"return","thread_id":9160,"parent_id":2893897,"elapsed":3.744964487850666e-06,"elapsed_instrumentation":9.978900197893381e-05,"return_value":{"class":"String","value":"751b6727028281d5a396aab6","object_id":14287080}},{"id":2893899,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14287100,"value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656847], class=>UnmergeWorker, jid=>6e72030215f2836eea4419fe, created_at=>1699240719.1023638, id=>751b6727028281d5a396aab6}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14287120,"value":"#<JSON::Ext::Generator::State:0x00007fc931e766a0>"}},{"id":2893900,"event":"return","thread_id":9160,"parent_id":2893899,"elapsed":1.4717981684952974e-05,"elapsed_instrumentation":0.00017554505029693246,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439700656855,111361439700656847],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14287140}},{"id":2893901,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14287160,"value":"#<JSON::Ext::Parser:0x00007fc931e70958>"}},{"id":2893902,"event":"return","thread_id":9160,"parent_id":2893901,"elapsed":2.072902861982584e-05,"elapsed_instrumentation":0.0001504449755884707,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656847], class=>UnmergeWorker, jid=>6e72030215f2836eea4419fe, created_at=>1699240719.1023638, id=>751b6727028281d5a396aab6}","object_id":14287180,"size":7}},{"id":2893903,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879401313711,"value":"111361439700656855","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879401313695,"value":"111361439700656847","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14287200,"value":"#<UnmergeWorker:0x00007fc931e9bc70>"}},{"id":2893904,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14287200,"value":"#<UnmergeWorker:0x00007fc931e9bc70>"}},{"id":2893905,"event":"call","thread_id":13242680,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14287220,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14287240,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13242720,"value":"#<RequestPool:0x00007fc9310715c8>"}},{"id":2893906,"event":"call","thread_id":13242680,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14287260,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14287280,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13242760,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc8e1283a28>"}},{"id":2893907,"event":"call","thread_id":13242680,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13242800,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc8e1283938>"}},{"id":2893908,"event":"return","thread_id":13242680,"parent_id":2893907,"elapsed":5.943991709500551e-06,"elapsed_instrumentation":6.581604247912765e-05,"return_value":{"class":"Array","value":"[]","object_id":13867640,"size":0}},{"id":2893909,"event":"return","thread_id":13242680,"parent_id":2893906,"elapsed":9.008299093693495e-05,"elapsed_instrumentation":9.136099833995104e-05,"return_value":{"class":"Array","value":"[]","object_id":13867640,"size":0}},{"id":2893910,"event":"return","thread_id":13242680,"parent_id":2893905,"elapsed":0.0002003840054385364,"elapsed_instrumentation":0.00014224799815565348,"return_value":{"class":"Array","value":"[]","object_id":13867640,"size":0}},{"id":2893911,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893912,"event":"return","thread_id":9160,"parent_id":2893911,"elapsed":0.000698934,"elapsed_instrumentation":0.00019304698798805475},{"id":2893913,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893914,"event":"return","thread_id":9160,"parent_id":2893913,"elapsed":0.000675287,"elapsed_instrumentation":9.944802150130272e-05},{"id":2893915,"event":"return","thread_id":9160,"parent_id":2893904,"elapsed":0.004844848997890949,"elapsed_instrumentation":0.00011813401943072677,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e15e0b58>","object_id":14287300}},{"id":2893916,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14287200,"value":"#<UnmergeWorker:0x00007fc931e9bc70>"}},{"id":2893917,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14287320,"value":"#<Account:0x00007fc8e15e0c98>","kind":"req"},{"name":"into_account","class":"Account","object_id":14287300,"value":"#<Account:0x00007fc8e15e0b58>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893918,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879401313695,"value":"111361439700656847","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893919,"event":"return","thread_id":9160,"parent_id":2893918,"elapsed":6.215996108949184e-06,"elapsed_instrumentation":0.0001782180042937398,"return_value":{"class":"String","value":"feed:home:111361439700656847","object_id":14287340}},{"id":2893920,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893921,"event":"return","thread_id":9160,"parent_id":2893920,"elapsed":4.214001819491386e-06,"elapsed_instrumentation":7.702293805778027e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2893922,"event":"return","thread_id":9160,"parent_id":2893917,"elapsed":0.003586338018067181,"elapsed_instrumentation":0.00011336000170558691},{"id":2893923,"event":"return","thread_id":9160,"parent_id":2893916,"elapsed":0.0037383169983513653,"elapsed_instrumentation":0.00010050594573840499},{"id":2893924,"event":"return","thread_id":9160,"parent_id":2893903,"elapsed":0.008852603961713612,"elapsed_instrumentation":7.477105828002095e-05},{"id":2893925,"event":"return","thread_id":9160,"parent_id":2893890,"elapsed":0.01007552701048553,"elapsed_instrumentation":0.0001746189664117992,"return_value":{"class":"String","value":"6e72030215f2836eea4419fe","object_id":14286940}},{"id":2893926,"event":"return","thread_id":9160,"parent_id":2893835,"elapsed":0.035725769004784524,"elapsed_instrumentation":0.00019451102707535028,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15e3d58>","object_id":14286780}},{"id":2893927,"event":"return","thread_id":9160,"parent_id":2893834,"elapsed":0.0359745739842765,"elapsed_instrumentation":0.000139411014970392,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15e3d58>","object_id":14286780}},{"id":2893928,"event":"return","thread_id":9160,"parent_id":2893833,"elapsed":0.03615905798505992,"elapsed_instrumentation":0.00031582399969920516,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15e3d58>","object_id":14286780}},{"id":2893929,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14287360,"value":"relationship:111361439700656848:111361439700656855","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14287380,"value":"#<UnfollowService:0x00007fc8e0cfa3e0>"}},{"id":2893930,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14287380,"value":"#<UnfollowService:0x00007fc8e0cfa3e0>"}},{"id":2893931,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14287400,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14287420,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893932,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893933,"event":"return","thread_id":9160,"parent_id":2893932,"elapsed":2.996006514877081e-06,"elapsed_instrumentation":7.137202192097902e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2893934,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14287440,"value":"___dl[i_p\u001cM_~*__"}},{"id":2893935,"event":"return","thread_id":9160,"parent_id":2893934,"elapsed":6.659014616161585e-06,"elapsed_instrumentation":0.0001338549773208797,"return_value":{"class":"Array","value":"[2427031908, 27739, 27120, 28700, 19892, 2116717041]","object_id":14287460,"size":6}},{"id":2893936,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893937,"event":"return","thread_id":9160,"parent_id":2893936,"elapsed":0.00073609,"elapsed_instrumentation":0.00011195300612598658},{"id":2893938,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14287480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893939,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893940,"event":"return","thread_id":9160,"parent_id":2893939,"elapsed":0.000449659,"elapsed_instrumentation":0.00013426202349364758},{"id":2893941,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893942,"event":"return","thread_id":9160,"parent_id":2893941,"elapsed":0.000446599,"elapsed_instrumentation":8.731300476938486e-05},{"id":2893943,"event":"return","thread_id":9160,"parent_id":2893938,"elapsed":0.0029264719923958182,"elapsed_instrumentation":0.00020796200260519981,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2893944,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2893945,"event":"return","thread_id":9160,"parent_id":2893944,"elapsed":0.000583759,"elapsed_instrumentation":8.382200030609965e-05},{"id":2893946,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14287480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893947,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2893948,"event":"return","thread_id":9160,"parent_id":2893947,"elapsed":0.000585304,"elapsed_instrumentation":8.359499042853713e-05},{"id":2893949,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893950,"event":"return","thread_id":9160,"parent_id":2893949,"elapsed":0.000597561,"elapsed_instrumentation":8.04730225354433e-05},{"id":2893951,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14287500,"value":"#<Account:0x00007fc8e172eed8>"}},{"id":2893952,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14287500,"value":"#<Account:0x00007fc8e172eed8>"}},{"id":2893953,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439700656848, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893954,"event":"return","thread_id":9160,"parent_id":2893953,"elapsed":0.000797161,"elapsed_instrumentation":7.618399104103446e-05},{"id":2893955,"event":"return","thread_id":9160,"parent_id":2893952,"elapsed":0.0013327840133570135,"elapsed_instrumentation":0.00012456404510885477},{"id":2893956,"event":"return","thread_id":9160,"parent_id":2893951,"elapsed":0.0014899370144121349,"elapsed_instrumentation":0.00017533398931846023},{"id":2893957,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893958,"event":"return","thread_id":9160,"parent_id":2893957,"elapsed":0.00055666,"elapsed_instrumentation":8.074502693489194e-05},{"id":2893959,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14287520,"value":"#<Account:0x00007fc8e172d498>"}},{"id":2893960,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14287520,"value":"#<Account:0x00007fc8e172d498>"}},{"id":2893961,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439700656855, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893962,"event":"return","thread_id":9160,"parent_id":2893961,"elapsed":0.000856772,"elapsed_instrumentation":0.0001032890286296606},{"id":2893963,"event":"return","thread_id":9160,"parent_id":2893960,"elapsed":0.0015075529809109867,"elapsed_instrumentation":0.00015879899729043245},{"id":2893964,"event":"return","thread_id":9160,"parent_id":2893959,"elapsed":0.0016939709894359112,"elapsed_instrumentation":0.0001267360057681799},{"id":2893965,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14287500,"value":"#<Account:0x00007fc8e172eed8>"}},{"id":2893966,"event":"return","thread_id":9160,"parent_id":2893965,"elapsed":1.6945996321737766e-05,"elapsed_instrumentation":0.0001105859992094338,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893967,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14287520,"value":"#<Account:0x00007fc8e172d498>"}},{"id":2893968,"event":"return","thread_id":9160,"parent_id":2893967,"elapsed":7.305003236979246e-06,"elapsed_instrumentation":6.798299727961421e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893969,"event":"return","thread_id":9160,"parent_id":2893946,"elapsed":0.01179321703966707,"elapsed_instrumentation":0.00017833401216194034,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2893970,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893971,"event":"return","thread_id":9160,"parent_id":2893970,"elapsed":0.000338419,"elapsed_instrumentation":6.987998494878411e-05},{"id":2893972,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14287560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893973,"event":"return","thread_id":9160,"parent_id":2893972,"elapsed":3.7199934013187885e-06,"elapsed_instrumentation":0.00010470300912857056,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2893974,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14287560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893975,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14287580,"value":"Cache delete: relationship:111361439700656848:111361439700656855\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893976,"event":"return","thread_id":9160,"parent_id":2893975,"elapsed":0.0005259099998511374,"elapsed_instrumentation":0.00011643394827842712,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893977,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14287600,"value":"Cache delete: relationship:111361439700656855:111361439700656848\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893978,"event":"return","thread_id":9160,"parent_id":2893977,"elapsed":0.00042711105197668076,"elapsed_instrumentation":0.0001537090283818543,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893979,"event":"return","thread_id":9160,"parent_id":2893974,"elapsed":0.0015104030026122928,"elapsed_instrumentation":9.950296953320503e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2893980,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2893981,"event":"return","thread_id":9160,"parent_id":2893980,"elapsed":8.588016498833895e-06,"elapsed_instrumentation":9.586504893377423e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893982,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2893983,"event":"return","thread_id":9160,"parent_id":2893982,"elapsed":3.697001375257969e-06,"elapsed_instrumentation":5.952594801783562e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893984,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14287620,"value":"#<Account:0x00007fc8e15ebf58>"}},{"id":2893985,"event":"return","thread_id":9160,"parent_id":2893984,"elapsed":1.0003976058214903e-05,"elapsed_instrumentation":5.9398997109383345e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893986,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14287640,"value":"{args=>[111361439700656855, 111361439700656848], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14287660,"value":"#<Sidekiq::Client:0x00007fc931d9c900>"}},{"id":2893987,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14287680,"value":"___\u0007\u001b\u001c_r&_`\u0017"}},{"id":2893988,"event":"return","thread_id":9160,"parent_id":2893987,"elapsed":4.130997695028782e-06,"elapsed_instrumentation":9.987602243199944e-05,"return_value":{"class":"String","value":"adc196071b1cc67226a96017","object_id":14287700}},{"id":2893989,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14287720,"value":"[111361439700656855, 111361439700656848]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14287740,"value":"#<JSON::Ext::Generator::State:0x00007fc931d99638>"}},{"id":2893990,"event":"return","thread_id":9160,"parent_id":2893989,"elapsed":8.422997780144215e-06,"elapsed_instrumentation":0.00011311593698337674,"return_value":{"class":"String","value":"[111361439700656855,111361439700656848]","object_id":14287760}},{"id":2893991,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14287780,"value":"#<JSON::Ext::Parser:0x00007fc931d96190>"}},{"id":2893992,"event":"return","thread_id":9160,"parent_id":2893991,"elapsed":5.43700298294425e-06,"elapsed_instrumentation":7.38549861125648e-05,"return_value":{"class":"Array","value":"[111361439700656855, 111361439700656848]","object_id":14287800,"size":2}},{"id":2893993,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14287820,"value":"__\b\f\u0002VJJ_*_*"}},{"id":2893994,"event":"return","thread_id":9160,"parent_id":2893993,"elapsed":3.4159747883677483e-06,"elapsed_instrumentation":0.00011191598605364561,"return_value":{"class":"String","value":"91d7080c02564a4a842ab62a","object_id":14287840}},{"id":2893995,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14287860,"value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656848], class=>UnmergeWorker, jid=>adc196071b1cc67226a96017, created_at=>1699240719.13632, id=>91d7080c02564a4a842ab62a}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14287880,"value":"#<JSON::Ext::Generator::State:0x00007fc931d93e68>"}},{"id":2893996,"event":"return","thread_id":9160,"parent_id":2893995,"elapsed":1.3468030374497175e-05,"elapsed_instrumentation":0.00018609000835567713,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439700656855,111361439700656848],\"class\":\"UnmergeWorker\", (...95 more characters)","object_id":14287900}},{"id":2893997,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14287920,"value":"#<JSON::Ext::Parser:0x00007fc931d912d0>"}},{"id":2893998,"event":"return","thread_id":9160,"parent_id":2893997,"elapsed":0.000929914996959269,"elapsed_instrumentation":0.00018064602045342326,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656848], class=>UnmergeWorker, jid=>adc196071b1cc67226a96017, created_at=>1699240719.13632, id=>91d7080c02564a4a842ab62a}","object_id":14287940,"size":7}},{"id":2893999,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879401313711,"value":"111361439700656855","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879401313697,"value":"111361439700656848","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14287960,"value":"#<UnmergeWorker:0x00007fc931c4e7d8>"}},{"id":2894000,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14287960,"value":"#<UnmergeWorker:0x00007fc931c4e7d8>"}},{"id":2894001,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894002,"event":"return","thread_id":9160,"parent_id":2894001,"elapsed":0.000567611,"elapsed_instrumentation":0.00010193802881985903},{"id":2894003,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894004,"event":"return","thread_id":9160,"parent_id":2894003,"elapsed":0.000492637,"elapsed_instrumentation":8.223997429013252e-05},{"id":2894005,"event":"return","thread_id":9160,"parent_id":2894000,"elapsed":0.004616374033503234,"elapsed_instrumentation":0.00012376002268865705,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e172a8d8>","object_id":14287980}},{"id":2894006,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14287960,"value":"#<UnmergeWorker:0x00007fc931c4e7d8>"}},{"id":2894007,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14288000,"value":"#<Account:0x00007fc8e172aa18>","kind":"req"},{"name":"into_account","class":"Account","object_id":14287980,"value":"#<Account:0x00007fc8e172a8d8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894008,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879401313697,"value":"111361439700656848","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894009,"event":"return","thread_id":9160,"parent_id":2894008,"elapsed":5.342008080333471e-06,"elapsed_instrumentation":0.00010682299034669995,"return_value":{"class":"String","value":"feed:home:111361439700656848","object_id":14288020}},{"id":2894010,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894011,"event":"return","thread_id":9160,"parent_id":2894010,"elapsed":4.171975888311863e-06,"elapsed_instrumentation":7.196696242317557e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2894012,"event":"return","thread_id":9160,"parent_id":2894007,"elapsed":0.003156599006615579,"elapsed_instrumentation":0.00011178600834682584},{"id":2894013,"event":"return","thread_id":9160,"parent_id":2894006,"elapsed":0.0033075599931180477,"elapsed_instrumentation":0.0001026579993776977},{"id":2894014,"event":"return","thread_id":9160,"parent_id":2893999,"elapsed":0.008200495969504118,"elapsed_instrumentation":8.686003275215626e-05},{"id":2894015,"event":"return","thread_id":9160,"parent_id":2893986,"elapsed":0.010384632973000407,"elapsed_instrumentation":0.00017746398225426674,"return_value":{"class":"String","value":"adc196071b1cc67226a96017","object_id":14287700}},{"id":2894016,"event":"return","thread_id":9160,"parent_id":2893931,"elapsed":0.033293863001745194,"elapsed_instrumentation":0.0002109809429384768,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15e0018>","object_id":14287540}},{"id":2894017,"event":"return","thread_id":9160,"parent_id":2893930,"elapsed":0.03354401601245627,"elapsed_instrumentation":0.00017072499031201005,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15e0018>","object_id":14287540}},{"id":2894018,"event":"return","thread_id":9160,"parent_id":2893929,"elapsed":0.03375712898559868,"elapsed_instrumentation":0.0001640130067244172,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e15e0018>","object_id":14287540}},{"id":2894019,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14288040,"value":"relationship:111361439700656849:111361439700656855","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14288060,"value":"#<UnfollowService:0x00007fc8e0cf3220>"}},{"id":2894020,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14288060,"value":"#<UnfollowService:0x00007fc8e0cf3220>"}},{"id":2894021,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14288080,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14288100,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2894022,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2894023,"event":"return","thread_id":9160,"parent_id":2894022,"elapsed":3.4539843909442425e-06,"elapsed_instrumentation":8.43270099721849e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2894024,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14288120,"value":"fC_2\u0012__g_~__QX6\u001d"}},{"id":2894025,"event":"return","thread_id":9160,"parent_id":2894024,"elapsed":6.695045158267021e-06,"elapsed_instrumentation":0.00012938998406752944,"return_value":{"class":"Array","value":"[1715706418, 4827, 49255, 64126, 62908, 1364735517]","object_id":14288140,"size":6}},{"id":2894026,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2894027,"event":"return","thread_id":9160,"parent_id":2894026,"elapsed":0.000430137,"elapsed_instrumentation":8.944200817495584e-05},{"id":2894028,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14288160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2894029,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2894030,"event":"return","thread_id":9160,"parent_id":2894029,"elapsed":0.000293055,"elapsed_instrumentation":6.780395051464438e-05},{"id":2894031,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2894032,"event":"return","thread_id":9160,"parent_id":2894031,"elapsed":0.001221459,"elapsed_instrumentation":9.076402056962252e-05},{"id":2894033,"event":"return","thread_id":9160,"parent_id":2894028,"elapsed":0.004198414972051978,"elapsed_instrumentation":0.00026629201602190733,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2894034,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2894035,"event":"return","thread_id":9160,"parent_id":2894034,"elapsed":0.001131344,"elapsed_instrumentation":0.00015899300342425704},{"id":2894036,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14288160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2894037,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14288180,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14288200,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2894038,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14288220,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14288240,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2894039,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2894040,"event":"return","thread_id":13276700,"parent_id":2894039,"elapsed":6.103015039116144e-06,"elapsed_instrumentation":9.692000458016992e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2894041,"event":"return","thread_id":13276700,"parent_id":2894038,"elapsed":0.000230098026804626,"elapsed_instrumentation":9.853398660197854e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2894042,"event":"return","thread_id":13276700,"parent_id":2894037,"elapsed":0.0003489679656922817,"elapsed_instrumentation":0.00020908802980557084,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2894043,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2894044,"event":"return","thread_id":9160,"parent_id":2894043,"elapsed":0.000930387,"elapsed_instrumentation":0.0001119059743359685},{"id":2894045,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894046,"event":"return","thread_id":9160,"parent_id":2894045,"elapsed":0.000683809,"elapsed_instrumentation":9.213597513735294e-05},{"id":2894047,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14288260,"value":"#<Account:0x00007fc8e1728c18>"}},{"id":2894048,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14288260,"value":"#<Account:0x00007fc8e1728c18>"}},{"id":2894049,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439700656849, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2894050,"event":"return","thread_id":9160,"parent_id":2894049,"elapsed":0.000969675,"elapsed_instrumentation":0.00011570198694244027},{"id":2894051,"event":"return","thread_id":9160,"parent_id":2894048,"elapsed":0.002051798044703901,"elapsed_instrumentation":0.00027844496071338654},{"id":2894052,"event":"return","thread_id":9160,"parent_id":2894047,"elapsed":0.0023823369992896914,"elapsed_instrumentation":0.00023398001212626696},{"id":2894053,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894054,"event":"return","thread_id":9160,"parent_id":2894053,"elapsed":0.000534072,"elapsed_instrumentation":0.00021227699471637607},{"id":2894055,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14288280,"value":"#<Account:0x00007fc8e1727e58>"}},{"id":2894056,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14288280,"value":"#<Account:0x00007fc8e1727e58>"}},{"id":2894057,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439700656855, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2894058,"event":"return","thread_id":9160,"parent_id":2894057,"elapsed":0.000778463,"elapsed_instrumentation":7.747503696009517e-05},{"id":2894059,"event":"return","thread_id":9160,"parent_id":2894056,"elapsed":0.0013054980081506073,"elapsed_instrumentation":0.00010002602357417345},{"id":2894060,"event":"return","thread_id":9160,"parent_id":2894055,"elapsed":0.0014319089823402464,"elapsed_instrumentation":0.00019520102068781853},{"id":2894061,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14288260,"value":"#<Account:0x00007fc8e1728c18>"}},{"id":2894062,"event":"return","thread_id":9160,"parent_id":2894061,"elapsed":1.5185971278697252e-05,"elapsed_instrumentation":9.306101128458977e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894063,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14288280,"value":"#<Account:0x00007fc8e1727e58>"}},{"id":2894064,"event":"return","thread_id":9160,"parent_id":2894063,"elapsed":7.2899856604635715e-06,"elapsed_instrumentation":6.529397796839476e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894065,"event":"return","thread_id":9160,"parent_id":2894036,"elapsed":0.013252477976493537,"elapsed_instrumentation":0.0002234039711765945,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2894066,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2894067,"event":"return","thread_id":9160,"parent_id":2894066,"elapsed":0.000369403,"elapsed_instrumentation":6.773800123482943e-05},{"id":2894068,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14288320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2894069,"event":"return","thread_id":9160,"parent_id":2894068,"elapsed":3.604975063353777e-06,"elapsed_instrumentation":0.00011124199954792857,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2894070,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14288320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2894071,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14288340,"value":"Cache delete: relationship:111361439700656849:111361439700656855\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2894072,"event":"return","thread_id":9160,"parent_id":2894071,"elapsed":0.0006588830146938562,"elapsed_instrumentation":0.00011642999015748501,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2894073,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14288360,"value":"Cache delete: relationship:111361439700656855:111361439700656849\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2894074,"event":"return","thread_id":9160,"parent_id":2894073,"elapsed":0.0005521019920706749,"elapsed_instrumentation":0.00013985001714900136,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2894075,"event":"return","thread_id":9160,"parent_id":2894070,"elapsed":0.0017525500152260065,"elapsed_instrumentation":0.0001055460306815803,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2894076,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2894077,"event":"return","thread_id":9160,"parent_id":2894076,"elapsed":8.051982149481773e-06,"elapsed_instrumentation":8.229207014665008e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894078,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2894079,"event":"return","thread_id":9160,"parent_id":2894078,"elapsed":1.0149029549211264e-05,"elapsed_instrumentation":7.503200322389603e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894080,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14288380,"value":"#<Account:0x00007fc8e15ebe18>"}},{"id":2894081,"event":"return","thread_id":9160,"parent_id":2894080,"elapsed":9.47195803746581e-06,"elapsed_instrumentation":8.283602073788643e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894082,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14288400,"value":"{args=>[111361439700656855, 111361439700656849], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14288420,"value":"#<Sidekiq::Client:0x00007fc931b8c0e8>"}},{"id":2894083,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14288440,"value":"\u0014_E_\\_w^Ok,g"}},{"id":2894084,"event":"return","thread_id":9160,"parent_id":2894083,"elapsed":5.071982741355896e-06,"elapsed_instrumentation":0.000594220997299999,"return_value":{"class":"String","value":"14de45e45ccf775e4f6b2c67","object_id":14288460}},{"id":2894085,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14288480,"value":"[111361439700656855, 111361439700656849]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14288500,"value":"#<JSON::Ext::Generator::State:0x00007fc931b87e58>"}},{"id":2894086,"event":"return","thread_id":9160,"parent_id":2894085,"elapsed":5.660986062139273e-06,"elapsed_instrumentation":0.00010878703324124217,"return_value":{"class":"String","value":"[111361439700656855,111361439700656849]","object_id":14288520}},{"id":2894087,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14288540,"value":"#<JSON::Ext::Parser:0x00007fc931b86828>"}},{"id":2894088,"event":"return","thread_id":9160,"parent_id":2894087,"elapsed":5.1969545893371105e-06,"elapsed_instrumentation":7.63540156185627e-05,"return_value":{"class":"Array","value":"[111361439700656855, 111361439700656849]","object_id":14288560,"size":2}},{"id":2894089,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14288580,"value":"\u0017_\u0012___WHE{\u000eW"}},{"id":2894090,"event":"return","thread_id":9160,"parent_id":2894089,"elapsed":3.2339594326913357e-06,"elapsed_instrumentation":8.974602678790689e-05,"return_value":{"class":"String","value":"17b412a88ced5748457b0e57","object_id":14288600}},{"id":2894091,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14288620,"value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656849], class=>UnmergeWorker, jid=>14de45e45ccf775e4f6b2c67, created_at=>1699240719.1750083, id=>17b412a88ced5748457b0e57}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14288640,"value":"#<JSON::Ext::Generator::State:0x00007fc931b83768>"}},{"id":2894092,"event":"return","thread_id":9160,"parent_id":2894091,"elapsed":1.5287951100617647e-05,"elapsed_instrumentation":0.0002162400633096695,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439700656855,111361439700656849],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14288660}},{"id":2894093,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14288680,"value":"#<JSON::Ext::Parser:0x00007fc931b80478>"}},{"id":2894094,"event":"return","thread_id":9160,"parent_id":2894093,"elapsed":1.9503990188241005e-05,"elapsed_instrumentation":0.0001771379611454904,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656849], class=>UnmergeWorker, jid=>14de45e45ccf775e4f6b2c67, created_at=>1699240719.1750083, id=>17b412a88ced5748457b0e57}","object_id":14288700,"size":7}},{"id":2894095,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879401313711,"value":"111361439700656855","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879401313699,"value":"111361439700656849","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14288720,"value":"#<UnmergeWorker:0x00007fc931b9dc30>"}},{"id":2894096,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14288720,"value":"#<UnmergeWorker:0x00007fc931b9dc30>"}},{"id":2894097,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894098,"event":"return","thread_id":9160,"parent_id":2894097,"elapsed":0.000689334,"elapsed_instrumentation":8.375401375815272e-05},{"id":2894099,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894100,"event":"return","thread_id":9160,"parent_id":2894099,"elapsed":0.000539452,"elapsed_instrumentation":8.296000305563211e-05},{"id":2894101,"event":"return","thread_id":9160,"parent_id":2894096,"elapsed":0.0038513230392709374,"elapsed_instrumentation":0.00012270797742530704,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1726918>","object_id":14288740}},{"id":2894102,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14288720,"value":"#<UnmergeWorker:0x00007fc931b9dc30>"}},{"id":2894103,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14288760,"value":"#<Account:0x00007fc8e1726a58>","kind":"req"},{"name":"into_account","class":"Account","object_id":14288740,"value":"#<Account:0x00007fc8e1726918>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894104,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879401313699,"value":"111361439700656849","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894105,"event":"return","thread_id":9160,"parent_id":2894104,"elapsed":5.592999514192343e-06,"elapsed_instrumentation":0.00010341202141717076,"return_value":{"class":"String","value":"feed:home:111361439700656849","object_id":14288780}},{"id":2894106,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894107,"event":"return","thread_id":9160,"parent_id":2894106,"elapsed":5.093985237181187e-06,"elapsed_instrumentation":7.396307773888111e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2894108,"event":"return","thread_id":9160,"parent_id":2894103,"elapsed":0.003258284996263683,"elapsed_instrumentation":0.00010438502067700028},{"id":2894109,"event":"return","thread_id":9160,"parent_id":2894102,"elapsed":0.0033950519864447415,"elapsed_instrumentation":9.641400538384914e-05},{"id":2894110,"event":"return","thread_id":9160,"parent_id":2894095,"elapsed":0.0075858719646930695,"elapsed_instrumentation":8.305604569613934e-05},{"id":2894111,"event":"return","thread_id":9160,"parent_id":2894082,"elapsed":0.009343033016193658,"elapsed_instrumentation":0.0001612429623492062,"return_value":{"class":"String","value":"14de45e45ccf775e4f6b2c67","object_id":14288460}},{"id":2894112,"event":"return","thread_id":9160,"parent_id":2894021,"elapsed":0.03627849498298019,"elapsed_instrumentation":0.00019131798762828112,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e17294d8>","object_id":14288300}},{"id":2894113,"event":"return","thread_id":9160,"parent_id":2894020,"elapsed":0.036498357949312776,"elapsed_instrumentation":0.00014134804951027036,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e17294d8>","object_id":14288300}},{"id":2894114,"event":"return","thread_id":9160,"parent_id":2894019,"elapsed":0.036680589022580534,"elapsed_instrumentation":0.00016536901239305735,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e17294d8>","object_id":14288300}},{"id":2894115,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14288800,"value":"relationship:111361439700656850:111361439700656855","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14288820,"value":"#<UnfollowService:0x00007fc8e0d0bdc0>"}},{"id":2894116,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14288820,"value":"#<UnfollowService:0x00007fc8e0d0bdc0>"}},{"id":2894117,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14288840,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14288860,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2894118,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2894119,"event":"return","thread_id":9160,"parent_id":2894118,"elapsed":2.653046976774931e-06,"elapsed_instrumentation":7.084599928930402e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2894120,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14288880,"value":"_c\u00041_\u0006_.____}8__"}},{"id":2894121,"event":"return","thread_id":9160,"parent_id":2894120,"elapsed":6.406975444406271e-06,"elapsed_instrumentation":0.00019770197104662657,"return_value":{"class":"Array","value":"[2539848753, 50182, 40238, 61316, 35290, 2100874440]","object_id":14288900,"size":6}},{"id":2894122,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2894123,"event":"return","thread_id":9160,"parent_id":2894122,"elapsed":0.000438064,"elapsed_instrumentation":8.06830357760191e-05},{"id":2894124,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14288920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2894125,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2894126,"event":"return","thread_id":9160,"parent_id":2894125,"elapsed":0.000329109,"elapsed_instrumentation":7.588299922645092e-05},{"id":2894127,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2894128,"event":"return","thread_id":9160,"parent_id":2894127,"elapsed":0.000307324,"elapsed_instrumentation":6.488204235211015e-05},{"id":2894129,"event":"return","thread_id":9160,"parent_id":2894124,"elapsed":0.002177127986215055,"elapsed_instrumentation":0.00015462801093235612,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2894130,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2894131,"event":"return","thread_id":9160,"parent_id":2894130,"elapsed":0.000764221,"elapsed_instrumentation":0.00012495997361838818},{"id":2894132,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14288920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2894133,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2894134,"event":"return","thread_id":9160,"parent_id":2894133,"elapsed":0.000575671,"elapsed_instrumentation":7.751298835501075e-05},{"id":2894135,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894136,"event":"return","thread_id":9160,"parent_id":2894135,"elapsed":0.000599001,"elapsed_instrumentation":7.609999738633633e-05},{"id":2894137,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14288940,"value":"#<Account:0x00007fc8e1725518>"}},{"id":2894138,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14288940,"value":"#<Account:0x00007fc8e1725518>"}},{"id":2894139,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439700656850, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2894140,"event":"return","thread_id":9160,"parent_id":2894139,"elapsed":0.000775935,"elapsed_instrumentation":8.412898750975728e-05},{"id":2894141,"event":"return","thread_id":9160,"parent_id":2894138,"elapsed":0.0013436119770631194,"elapsed_instrumentation":9.17420256882906e-05},{"id":2894142,"event":"return","thread_id":9160,"parent_id":2894137,"elapsed":0.0014615189866162837,"elapsed_instrumentation":0.0001295220572501421},{"id":2894143,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894144,"event":"return","thread_id":9160,"parent_id":2894143,"elapsed":0.000597368,"elapsed_instrumentation":7.333699613809586e-05},{"id":2894145,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14288960,"value":"#<Account:0x00007fc8e1724398>"}},{"id":2894146,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14288960,"value":"#<Account:0x00007fc8e1724398>"}},{"id":2894147,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439700656855, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2894148,"event":"return","thread_id":9160,"parent_id":2894147,"elapsed":0.000835785,"elapsed_instrumentation":8.087401511147618e-05},{"id":2894149,"event":"return","thread_id":9160,"parent_id":2894146,"elapsed":0.001509964989963919,"elapsed_instrumentation":0.00010733399540185928},{"id":2894150,"event":"return","thread_id":9160,"parent_id":2894145,"elapsed":0.0016472720308229327,"elapsed_instrumentation":0.00020258402219042182},{"id":2894151,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14288940,"value":"#<Account:0x00007fc8e1725518>"}},{"id":2894152,"event":"return","thread_id":9160,"parent_id":2894151,"elapsed":1.538702053949237e-05,"elapsed_instrumentation":0.00010014598956331611,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894153,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14288960,"value":"#<Account:0x00007fc8e1724398>"}},{"id":2894154,"event":"return","thread_id":9160,"parent_id":2894153,"elapsed":6.636022590100765e-06,"elapsed_instrumentation":6.547599332407117e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894155,"event":"return","thread_id":9160,"parent_id":2894132,"elapsed":0.01024054695153609,"elapsed_instrumentation":0.00016968999989330769,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2894156,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2894157,"event":"return","thread_id":9160,"parent_id":2894156,"elapsed":0.000330057,"elapsed_instrumentation":6.919697625562549e-05},{"id":2894158,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14289000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2894159,"event":"return","thread_id":9160,"parent_id":2894158,"elapsed":3.7330319173634052e-06,"elapsed_instrumentation":0.00010808295337483287,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2894160,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14289000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2894161,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14289020,"value":"Cache delete: relationship:111361439700656850:111361439700656855\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2894162,"event":"return","thread_id":9160,"parent_id":2894161,"elapsed":0.0006002479931339622,"elapsed_instrumentation":0.00011508702300488949,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2894163,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14289040,"value":"Cache delete: relationship:111361439700656855:111361439700656850\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2894164,"event":"return","thread_id":9160,"parent_id":2894163,"elapsed":0.0005996160325594246,"elapsed_instrumentation":0.0001356089487671852,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2894165,"event":"return","thread_id":9160,"parent_id":2894160,"elapsed":0.001736373989842832,"elapsed_instrumentation":0.00036191800609230995,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2894166,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2894167,"event":"return","thread_id":9160,"parent_id":2894166,"elapsed":9.714975021779537e-06,"elapsed_instrumentation":0.00014343002112582326,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894168,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2894169,"event":"return","thread_id":9160,"parent_id":2894168,"elapsed":7.71903432905674e-06,"elapsed_instrumentation":0.00015083502512425184,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894170,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14289060,"value":"#<Account:0x00007fc8e15ebcd8>"}},{"id":2894171,"event":"return","thread_id":9160,"parent_id":2894170,"elapsed":1.5061988960951567e-05,"elapsed_instrumentation":0.00011465599527582526,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894172,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14289080,"value":"{args=>[111361439700656855, 111361439700656850], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14289100,"value":"#<Sidekiq::Client:0x00007fc931ab6b00>"}},{"id":2894173,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14289120,"value":"_\u0013__r_Fx____"}},{"id":2894174,"event":"return","thread_id":9160,"parent_id":2894173,"elapsed":4.545960109680891e-06,"elapsed_instrumentation":0.00020960101392120123,"return_value":{"class":"String","value":"a213f0de72a84678b2ee86df","object_id":14289140}},{"id":2894175,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14289160,"value":"[111361439700656855, 111361439700656850]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14289180,"value":"#<JSON::Ext::Generator::State:0x00007fc931ab2730>"}},{"id":2894176,"event":"return","thread_id":9160,"parent_id":2894175,"elapsed":6.542017217725515e-06,"elapsed_instrumentation":0.00010985101107507944,"return_value":{"class":"String","value":"[111361439700656855,111361439700656850]","object_id":14289200}},{"id":2894177,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14289220,"value":"#<JSON::Ext::Parser:0x00007fc931ab1538>"}},{"id":2894178,"event":"return","thread_id":9160,"parent_id":2894177,"elapsed":6.61797821521759e-06,"elapsed_instrumentation":0.0001471100258640945,"return_value":{"class":"Array","value":"[111361439700656855, 111361439700656850]","object_id":14289240,"size":2}},{"id":2894179,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14289260,"value":"___\u0004_/EF5_}_"}},{"id":2894180,"event":"return","thread_id":9160,"parent_id":2894179,"elapsed":3.53099312633276e-06,"elapsed_instrumentation":0.00010085501708090305,"return_value":{"class":"String","value":"8aa0b604f32f454635b97dec","object_id":14289280}},{"id":2894181,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14289300,"value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656850], class=>UnmergeWorker, jid=>a213f0de72a84678b2ee86df, created_at=>1699240719.205385, id=>8aa0b604f32f454635b97dec}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14289320,"value":"#<JSON::Ext::Generator::State:0x00007fc931acf790>"}},{"id":2894182,"event":"return","thread_id":9160,"parent_id":2894181,"elapsed":1.519196666777134e-05,"elapsed_instrumentation":0.0001860379707068205,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439700656855,111361439700656850],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14289340}},{"id":2894183,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14289360,"value":"#<JSON::Ext::Parser:0x00007fc931acce78>"}},{"id":2894184,"event":"return","thread_id":9160,"parent_id":2894183,"elapsed":2.1252024453133345e-05,"elapsed_instrumentation":0.00015961402095854282,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656850], class=>UnmergeWorker, jid=>a213f0de72a84678b2ee86df, created_at=>1699240719.205385, id=>8aa0b604f32f454635b97dec}","object_id":14289380,"size":7}},{"id":2894185,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879401313711,"value":"111361439700656855","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879401313701,"value":"111361439700656850","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14289400,"value":"#<UnmergeWorker:0x00007fc931ac8f80>"}},{"id":2894186,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14289400,"value":"#<UnmergeWorker:0x00007fc931ac8f80>"}},{"id":2894187,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894188,"event":"return","thread_id":9160,"parent_id":2894187,"elapsed":0.000720246,"elapsed_instrumentation":0.00010242097778245807},{"id":2894189,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894190,"event":"return","thread_id":9160,"parent_id":2894189,"elapsed":0.000543984,"elapsed_instrumentation":0.00016928004333749413},{"id":2894191,"event":"return","thread_id":9160,"parent_id":2894186,"elapsed":0.003935650980565697,"elapsed_instrumentation":0.000126337050460279,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1722e58>","object_id":14289420}},{"id":2894192,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14289400,"value":"#<UnmergeWorker:0x00007fc931ac8f80>"}},{"id":2894193,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14289440,"value":"#<Account:0x00007fc8e1722f98>","kind":"req"},{"name":"into_account","class":"Account","object_id":14289420,"value":"#<Account:0x00007fc8e1722e58>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894194,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879401313701,"value":"111361439700656850","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894195,"event":"return","thread_id":9160,"parent_id":2894194,"elapsed":6.135960575193167e-06,"elapsed_instrumentation":0.00011699204333126545,"return_value":{"class":"String","value":"feed:home:111361439700656850","object_id":14289460}},{"id":2894196,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894197,"event":"return","thread_id":9160,"parent_id":2894196,"elapsed":4.319008439779282e-06,"elapsed_instrumentation":7.496902253478765e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2894198,"event":"return","thread_id":9160,"parent_id":2894193,"elapsed":0.003830424975603819,"elapsed_instrumentation":0.00019142997916787863},{"id":2894199,"event":"return","thread_id":9160,"parent_id":2894192,"elapsed":0.0041793910204432905,"elapsed_instrumentation":0.0001213169889524579},{"id":2894200,"event":"return","thread_id":9160,"parent_id":2894185,"elapsed":0.008431188005488366,"elapsed_instrumentation":8.226401405408978e-05},{"id":2894201,"event":"return","thread_id":9160,"parent_id":2894172,"elapsed":0.009813172975555062,"elapsed_instrumentation":0.0002053920179605484,"return_value":{"class":"String","value":"a213f0de72a84678b2ee86df","object_id":14289140}},{"id":2894202,"event":"return","thread_id":9160,"parent_id":2894117,"elapsed":0.030432749015744776,"elapsed_instrumentation":0.00048402597894892097,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1725dd8>","object_id":14288980}},{"id":2894203,"event":"return","thread_id":9160,"parent_id":2894116,"elapsed":0.03094549902016297,"elapsed_instrumentation":8.072098717093468e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1725dd8>","object_id":14288980}},{"id":2894204,"event":"return","thread_id":9160,"parent_id":2894115,"elapsed":0.03105908801080659,"elapsed_instrumentation":0.00014131993521004915,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1725dd8>","object_id":14288980}},{"id":2894205,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14289480,"value":"relationship:111361439700656851:111361439700656855","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14289500,"value":"#<UnfollowService:0x00007fc8e0d04d40>"}},{"id":2894206,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14289500,"value":"#<UnfollowService:0x00007fc8e0d04d40>"}},{"id":2894207,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14289520,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14289540,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2894208,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2894209,"event":"return","thread_id":9160,"parent_id":2894208,"elapsed":4.970002919435501e-06,"elapsed_instrumentation":0.00014282803749665618,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2894210,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14289560,"value":"\tr___~z__(i_me_^"}},{"id":2894211,"event":"return","thread_id":9160,"parent_id":2894210,"elapsed":7.192022167146206e-06,"elapsed_instrumentation":0.0002801679656840861,"return_value":{"class":"Array","value":"[158530750, 60542, 31372, 63272, 27105, 1835385438]","object_id":14289580,"size":6}},{"id":2894212,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2894213,"event":"return","thread_id":9160,"parent_id":2894212,"elapsed":0.000492221,"elapsed_instrumentation":9.199499618262053e-05},{"id":2894214,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14289600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2894215,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2894216,"event":"return","thread_id":9160,"parent_id":2894215,"elapsed":0.000456696,"elapsed_instrumentation":8.71100346557796e-05},{"id":2894217,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2894218,"event":"return","thread_id":9160,"parent_id":2894217,"elapsed":0.000340515,"elapsed_instrumentation":7.128802826628089e-05},{"id":2894219,"event":"return","thread_id":9160,"parent_id":2894214,"elapsed":0.0023913439945317805,"elapsed_instrumentation":0.00027104298351332545,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2894220,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2894221,"event":"return","thread_id":9160,"parent_id":2894220,"elapsed":0.000526288,"elapsed_instrumentation":6.876996485516429e-05},{"id":2894222,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14289600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2894223,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2894224,"event":"return","thread_id":9160,"parent_id":2894223,"elapsed":0.000515669,"elapsed_instrumentation":6.719696102663875e-05},{"id":2894225,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894226,"event":"return","thread_id":9160,"parent_id":2894225,"elapsed":0.000492438,"elapsed_instrumentation":7.541303057223558e-05},{"id":2894227,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14289620,"value":"#<Account:0x00007fc8e1721a58>"}},{"id":2894228,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14289620,"value":"#<Account:0x00007fc8e1721a58>"}},{"id":2894229,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439700656851, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2894230,"event":"return","thread_id":9160,"parent_id":2894229,"elapsed":0.000991632,"elapsed_instrumentation":8.178496500477195e-05},{"id":2894231,"event":"return","thread_id":9160,"parent_id":2894228,"elapsed":0.001562837976962328,"elapsed_instrumentation":0.00024829397443681955},{"id":2894232,"event":"return","thread_id":9160,"parent_id":2894227,"elapsed":0.001847800042014569,"elapsed_instrumentation":0.00013224699068814516},{"id":2894233,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894234,"event":"return","thread_id":9160,"parent_id":2894233,"elapsed":0.000632248,"elapsed_instrumentation":8.029001764953136e-05},{"id":2894235,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14289640,"value":"#<Account:0x00007fc8e1720a18>"}},{"id":2894236,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14289640,"value":"#<Account:0x00007fc8e1720a18>"}},{"id":2894237,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439700656855, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2894238,"event":"return","thread_id":9160,"parent_id":2894237,"elapsed":0.00107915,"elapsed_instrumentation":0.00012079300358891487},{"id":2894239,"event":"return","thread_id":9160,"parent_id":2894236,"elapsed":0.002130920998752117,"elapsed_instrumentation":0.00011929502943530679},{"id":2894240,"event":"return","thread_id":9160,"parent_id":2894235,"elapsed":0.0022818500292487442,"elapsed_instrumentation":0.00028936099261045456},{"id":2894241,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14289620,"value":"#<Account:0x00007fc8e1721a58>"}},{"id":2894242,"event":"return","thread_id":9160,"parent_id":2894241,"elapsed":1.7242971807718277e-05,"elapsed_instrumentation":0.00017568905605003238,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894243,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14289640,"value":"#<Account:0x00007fc8e1720a18>"}},{"id":2894244,"event":"return","thread_id":9160,"parent_id":2894243,"elapsed":9.117997251451015e-06,"elapsed_instrumentation":8.90740193426609e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894245,"event":"return","thread_id":9160,"parent_id":2894222,"elapsed":0.011784642993006855,"elapsed_instrumentation":0.0001633400679565966,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2894246,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2894247,"event":"return","thread_id":9160,"parent_id":2894246,"elapsed":0.000434753,"elapsed_instrumentation":8.105399319902062e-05},{"id":2894248,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14289680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2894249,"event":"return","thread_id":9160,"parent_id":2894248,"elapsed":5.561974830925465e-06,"elapsed_instrumentation":0.00021535600535571575,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2894250,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14289680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2894251,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14289700,"value":"Cache delete: relationship:111361439700656851:111361439700656855\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2894252,"event":"return","thread_id":9160,"parent_id":2894251,"elapsed":0.0007498299819417298,"elapsed_instrumentation":0.00011350103886798024,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2894253,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14289720,"value":"Cache delete: relationship:111361439700656855:111361439700656851\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2894254,"event":"return","thread_id":9160,"parent_id":2894253,"elapsed":0.0006775110377930105,"elapsed_instrumentation":0.0001417199382558465,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2894255,"event":"return","thread_id":9160,"parent_id":2894250,"elapsed":0.002031128969974816,"elapsed_instrumentation":0.00012000801507383585,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2894256,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2894257,"event":"return","thread_id":9160,"parent_id":2894256,"elapsed":8.575967513024807e-06,"elapsed_instrumentation":0.00014047103468328714,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894258,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2894259,"event":"return","thread_id":9160,"parent_id":2894258,"elapsed":7.995986379683018e-06,"elapsed_instrumentation":9.417399996891618e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894260,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14289740,"value":"#<Account:0x00007fc8e15ebb98>"}},{"id":2894261,"event":"return","thread_id":9160,"parent_id":2894260,"elapsed":1.0209041647613049e-05,"elapsed_instrumentation":0.00018377596279606223,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894262,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14289760,"value":"{args=>[111361439700656855, 111361439700656851], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14289780,"value":"#<Sidekiq::Client:0x00007fc9319d1ca8>"}},{"id":2894263,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14289800,"value":"__\u001a1G_G_\u000f\u0003\u0017_"}},{"id":2894264,"event":"return","thread_id":9160,"parent_id":2894263,"elapsed":4.202011041343212e-06,"elapsed_instrumentation":0.00010611198376864195,"return_value":{"class":"String","value":"cdd81a3147d847d10f031787","object_id":14289820}},{"id":2894265,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14289840,"value":"[111361439700656855, 111361439700656851]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14289860,"value":"#<JSON::Ext::Generator::State:0x00007fc9319ecfa8>"}},{"id":2894266,"event":"return","thread_id":9160,"parent_id":2894265,"elapsed":6.141955964267254e-06,"elapsed_instrumentation":0.00010423100320622325,"return_value":{"class":"String","value":"[111361439700656855,111361439700656851]","object_id":14289880}},{"id":2894267,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14289900,"value":"#<JSON::Ext::Parser:0x00007fc9319e9128>"}},{"id":2894268,"event":"return","thread_id":9160,"parent_id":2894267,"elapsed":8.239992894232273e-06,"elapsed_instrumentation":0.0001509200083091855,"return_value":{"class":"Array","value":"[111361439700656855, 111361439700656851]","object_id":14289920,"size":2}},{"id":2894269,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14289940,"value":"___+!J___5_*"}},{"id":2894270,"event":"return","thread_id":9160,"parent_id":2894269,"elapsed":5.194975528866053e-06,"elapsed_instrumentation":0.00018883903976529837,"return_value":{"class":"String","value":"84a2b82b214ae2ce9735cb2a","object_id":14289960}},{"id":2894271,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14289980,"value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656851], class=>UnmergeWorker, jid=>cdd81a3147d847d10f031787, created_at=>1699240719.2390938, id=>84a2b82b214ae2ce9735cb2a}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14290000,"value":"#<JSON::Ext::Generator::State:0x00007fc9319e4b00>"}},{"id":2894272,"event":"return","thread_id":9160,"parent_id":2894271,"elapsed":1.7138023395091295e-05,"elapsed_instrumentation":0.0002014619531109929,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439700656855,111361439700656851],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14290020}},{"id":2894273,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14290040,"value":"#<JSON::Ext::Parser:0x00007fc931a1da90>"}},{"id":2894274,"event":"return","thread_id":9160,"parent_id":2894273,"elapsed":2.1999003365635872e-05,"elapsed_instrumentation":0.0001853140420280397,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656851], class=>UnmergeWorker, jid=>cdd81a3147d847d10f031787, created_at=>1699240719.2390938, id=>84a2b82b214ae2ce9735cb2a}","object_id":14290060,"size":7}},{"id":2894275,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879401313711,"value":"111361439700656855","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879401313703,"value":"111361439700656851","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14290080,"value":"#<UnmergeWorker:0x00007fc931a1a278>"}},{"id":2894276,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14290080,"value":"#<UnmergeWorker:0x00007fc931a1a278>"}},{"id":2894277,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894278,"event":"return","thread_id":9160,"parent_id":2894277,"elapsed":0.000887051,"elapsed_instrumentation":0.00010449695400893688},{"id":2894279,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894280,"event":"return","thread_id":9160,"parent_id":2894279,"elapsed":0.001154895,"elapsed_instrumentation":0.00019867700757458806},{"id":2894281,"event":"return","thread_id":9160,"parent_id":2894276,"elapsed":0.006600725988391787,"elapsed_instrumentation":0.0002833530306816101,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e173f3c8>","object_id":14290100}},{"id":2894282,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14290080,"value":"#<UnmergeWorker:0x00007fc931a1a278>"}},{"id":2894283,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14290120,"value":"#<Account:0x00007fc8e173f508>","kind":"req"},{"name":"into_account","class":"Account","object_id":14290100,"value":"#<Account:0x00007fc8e173f3c8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894284,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879401313703,"value":"111361439700656851","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894285,"event":"return","thread_id":9160,"parent_id":2894284,"elapsed":5.953013896942139e-06,"elapsed_instrumentation":0.00019777700072154403,"return_value":{"class":"String","value":"feed:home:111361439700656851","object_id":14290140}},{"id":2894286,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894287,"event":"return","thread_id":9160,"parent_id":2894286,"elapsed":5.599984433501959e-06,"elapsed_instrumentation":0.00010832498082891107,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2894288,"event":"return","thread_id":9160,"parent_id":2894283,"elapsed":0.004298546991776675,"elapsed_instrumentation":0.00035726401256397367},{"id":2894289,"event":"return","thread_id":9160,"parent_id":2894282,"elapsed":0.00471100804861635,"elapsed_instrumentation":0.00022632902255281806},{"id":2894290,"event":"return","thread_id":9160,"parent_id":2894275,"elapsed":0.011904654034879059,"elapsed_instrumentation":8.530099876224995e-05},{"id":2894291,"event":"return","thread_id":9160,"parent_id":2894262,"elapsed":0.013328626984730363,"elapsed_instrumentation":0.00018068699864670634,"return_value":{"class":"String","value":"cdd81a3147d847d10f031787","object_id":14289820}},{"id":2894292,"event":"return","thread_id":9160,"parent_id":2894207,"elapsed":0.036620749975554645,"elapsed_instrumentation":0.00025476503651589155,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1722318>","object_id":14289660}},{"id":2894293,"event":"return","thread_id":9160,"parent_id":2894206,"elapsed":0.03690751100657508,"elapsed_instrumentation":0.00010498595656827092,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1722318>","object_id":14289660}},{"id":2894294,"event":"return","thread_id":9160,"parent_id":2894205,"elapsed":0.03706361498916522,"elapsed_instrumentation":0.00026439299108460546,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1722318>","object_id":14289660}},{"id":2894295,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14290160,"value":"relationship:111361439700656852:111361439700656855","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14290180,"value":"#<UnfollowService:0x00007fc8e0d2d628>"}},{"id":2894296,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14290180,"value":"#<UnfollowService:0x00007fc8e0d2d628>"}},{"id":2894297,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14290200,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14290220,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2894298,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2894299,"event":"return","thread_id":9160,"parent_id":2894298,"elapsed":2.8929789550602436e-06,"elapsed_instrumentation":6.447202758863568e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2894300,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14290240,"value":"_6_WHW__2__fff__"}},{"id":2894301,"event":"return","thread_id":9160,"parent_id":2894300,"elapsed":6.813963409513235e-06,"elapsed_instrumentation":0.0001766720088198781,"return_value":{"class":"Array","value":"[2285274711, 18519, 62356, 12981, 50022, 1718007440]","object_id":14290260,"size":6}},{"id":2894302,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2894303,"event":"return","thread_id":9160,"parent_id":2894302,"elapsed":0.00052431,"elapsed_instrumentation":0.00023928401060402393},{"id":2894304,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14290280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2894305,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2894306,"event":"return","thread_id":9160,"parent_id":2894305,"elapsed":0.000730707,"elapsed_instrumentation":0.00012973399134352803},{"id":2894307,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14290300,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14290320,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2894308,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14290340,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14290360,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2894309,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2894310,"event":"return","thread_id":13276700,"parent_id":2894309,"elapsed":8.956005331128836e-06,"elapsed_instrumentation":0.0001216549426317215,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2894311,"event":"return","thread_id":13276700,"parent_id":2894308,"elapsed":0.00016141397645696998,"elapsed_instrumentation":0.00017234002007171512,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2894312,"event":"return","thread_id":13276700,"parent_id":2894307,"elapsed":0.0003663859679363668,"elapsed_instrumentation":0.0002655040007084608,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2894313,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2894314,"event":"return","thread_id":9160,"parent_id":2894313,"elapsed":0.00126145,"elapsed_instrumentation":0.00011613901006057858},{"id":2894315,"event":"return","thread_id":9160,"parent_id":2894304,"elapsed":0.004795934015419334,"elapsed_instrumentation":0.0002098199911415577,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2894316,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2894317,"event":"return","thread_id":9160,"parent_id":2894316,"elapsed":0.001585443,"elapsed_instrumentation":0.0001717849518172443},{"id":2894318,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14290280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2894319,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2894320,"event":"return","thread_id":9160,"parent_id":2894319,"elapsed":0.001234772,"elapsed_instrumentation":0.00015045900363475084},{"id":2894321,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894322,"event":"return","thread_id":9160,"parent_id":2894321,"elapsed":0.001195155,"elapsed_instrumentation":9.67630185186863e-05},{"id":2894323,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14290380,"value":"#<Account:0x00007fc8e173de88>"}},{"id":2894324,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14290380,"value":"#<Account:0x00007fc8e173de88>"}},{"id":2894325,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439700656852, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2894326,"event":"return","thread_id":9160,"parent_id":2894325,"elapsed":0.001271587,"elapsed_instrumentation":0.00012907898053526878},{"id":2894327,"event":"return","thread_id":9160,"parent_id":2894324,"elapsed":0.001992094039451331,"elapsed_instrumentation":9.581097401678562e-05},{"id":2894328,"event":"return","thread_id":9160,"parent_id":2894323,"elapsed":0.0021181099582463503,"elapsed_instrumentation":0.00014961400302127004},{"id":2894329,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894330,"event":"return","thread_id":9160,"parent_id":2894329,"elapsed":0.000566923,"elapsed_instrumentation":7.795501733198762e-05},{"id":2894331,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14290400,"value":"#<Account:0x00007fc8e173cf88>"}},{"id":2894332,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14290400,"value":"#<Account:0x00007fc8e173cf88>"}},{"id":2894333,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439700656855, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2894334,"event":"return","thread_id":9160,"parent_id":2894333,"elapsed":0.000948002,"elapsed_instrumentation":9.790400508791208e-05},{"id":2894335,"event":"return","thread_id":9160,"parent_id":2894332,"elapsed":0.0019366469932720065,"elapsed_instrumentation":0.00011630001245066524},{"id":2894336,"event":"return","thread_id":9160,"parent_id":2894331,"elapsed":0.002084114996250719,"elapsed_instrumentation":0.0002396400086581707},{"id":2894337,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14290380,"value":"#<Account:0x00007fc8e173de88>"}},{"id":2894338,"event":"return","thread_id":9160,"parent_id":2894337,"elapsed":1.879397314041853e-05,"elapsed_instrumentation":0.00012439402053132653,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894339,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14290400,"value":"#<Account:0x00007fc8e173cf88>"}},{"id":2894340,"event":"return","thread_id":9160,"parent_id":2894339,"elapsed":8.006987627595663e-06,"elapsed_instrumentation":6.794597720727324e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894341,"event":"return","thread_id":9160,"parent_id":2894318,"elapsed":0.014847903978079557,"elapsed_instrumentation":0.0002548180054873228,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2894342,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2894343,"event":"return","thread_id":9160,"parent_id":2894342,"elapsed":0.00046488,"elapsed_instrumentation":8.298398461192846e-05},{"id":2894344,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14290440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2894345,"event":"return","thread_id":9160,"parent_id":2894344,"elapsed":3.888970240950584e-06,"elapsed_instrumentation":0.00014884304255247116,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2894346,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14290440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2894347,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14290460,"value":"Cache delete: relationship:111361439700656852:111361439700656855\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2894348,"event":"return","thread_id":9160,"parent_id":2894347,"elapsed":0.0006328260060399771,"elapsed_instrumentation":0.0002162759774364531,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2894349,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14290480,"value":"Cache delete: relationship:111361439700656855:111361439700656852\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2894350,"event":"return","thread_id":9160,"parent_id":2894349,"elapsed":0.0006178839830681682,"elapsed_instrumentation":0.00019818800501525402,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2894351,"event":"return","thread_id":9160,"parent_id":2894346,"elapsed":0.001999202009756118,"elapsed_instrumentation":0.00013765692710876465,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2894352,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2894353,"event":"return","thread_id":9160,"parent_id":2894352,"elapsed":8.857983630150557e-06,"elapsed_instrumentation":9.663903620094061e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894354,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2894355,"event":"return","thread_id":9160,"parent_id":2894354,"elapsed":9.903975296765566e-06,"elapsed_instrumentation":0.0002204070333391428,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894356,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14290500,"value":"#<Account:0x00007fc8e15eba58>"}},{"id":2894357,"event":"return","thread_id":9160,"parent_id":2894356,"elapsed":1.21269840747118e-05,"elapsed_instrumentation":7.556600030511618e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894358,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14290520,"value":"{args=>[111361439700656855, 111361439700656852], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14290540,"value":"#<Sidekiq::Client:0x00007fc93194b018>"}},{"id":2894359,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14290560,"value":"Yc\u0019____e\u0002_\b\t"}},{"id":2894360,"event":"return","thread_id":9160,"parent_id":2894359,"elapsed":4.2539904825389385e-06,"elapsed_instrumentation":0.0001073059975169599,"return_value":{"class":"String","value":"596319abb398856502a70809","object_id":14290580}},{"id":2894361,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14290600,"value":"[111361439700656855, 111361439700656852]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14290620,"value":"#<JSON::Ext::Generator::State:0x00007fc9319463b0>"}},{"id":2894362,"event":"return","thread_id":9160,"parent_id":2894361,"elapsed":6.675021722912788e-06,"elapsed_instrumentation":0.00010351801756769419,"return_value":{"class":"String","value":"[111361439700656855,111361439700656852]","object_id":14290640}},{"id":2894363,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14290660,"value":"#<JSON::Ext::Parser:0x00007fc931944470>"}},{"id":2894364,"event":"return","thread_id":9160,"parent_id":2894363,"elapsed":5.224021151661873e-06,"elapsed_instrumentation":7.471599383279681e-05,"return_value":{"class":"Array","value":"[111361439700656855, 111361439700656852]","object_id":14290680,"size":2}},{"id":2894365,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14290700,"value":"__l\u001c_t_?w4__"}},{"id":2894366,"event":"return","thread_id":9160,"parent_id":2894365,"elapsed":3.526045475155115e-06,"elapsed_instrumentation":0.00016327592311426997,"return_value":{"class":"String","value":"8afe6c1cc574fa3f7734c589","object_id":14290720}},{"id":2894367,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14290740,"value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656852], class=>UnmergeWorker, jid=>596319abb398856502a70809, created_at=>1699240719.2833557, id=>8afe6c1cc574fa3f7734c589}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14290760,"value":"#<JSON::Ext::Generator::State:0x00007fc931942058>"}},{"id":2894368,"event":"return","thread_id":9160,"parent_id":2894367,"elapsed":1.350202364847064e-05,"elapsed_instrumentation":0.0010879480396397412,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439700656855,111361439700656852],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14290780}},{"id":2894369,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14290800,"value":"#<JSON::Ext::Parser:0x00007fc93189e700>"}},{"id":2894370,"event":"return","thread_id":9160,"parent_id":2894369,"elapsed":1.9716972019523382e-05,"elapsed_instrumentation":0.00015859497943893075,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656852], class=>UnmergeWorker, jid=>596319abb398856502a70809, created_at=>1699240719.2833557, id=>8afe6c1cc574fa3f7734c589}","object_id":14290820,"size":7}},{"id":2894371,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879401313711,"value":"111361439700656855","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879401313705,"value":"111361439700656852","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14290840,"value":"#<UnmergeWorker:0x00007fc931899f48>"}},{"id":2894372,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14290840,"value":"#<UnmergeWorker:0x00007fc931899f48>"}},{"id":2894373,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894374,"event":"return","thread_id":9160,"parent_id":2894373,"elapsed":0.000899205,"elapsed_instrumentation":9.53859998844564e-05},{"id":2894375,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894376,"event":"return","thread_id":9160,"parent_id":2894375,"elapsed":0.000593059,"elapsed_instrumentation":8.317799074575305e-05},{"id":2894377,"event":"return","thread_id":9160,"parent_id":2894372,"elapsed":0.00457394402474165,"elapsed_instrumentation":0.00012266694102436304,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e173ba48>","object_id":14290860}},{"id":2894378,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14290840,"value":"#<UnmergeWorker:0x00007fc931899f48>"}},{"id":2894379,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14290880,"value":"#<Account:0x00007fc8e173bb88>","kind":"req"},{"name":"into_account","class":"Account","object_id":14290860,"value":"#<Account:0x00007fc8e173ba48>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894380,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879401313705,"value":"111361439700656852","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894381,"event":"return","thread_id":9160,"parent_id":2894380,"elapsed":5.438982043415308e-06,"elapsed_instrumentation":0.00010500999633222818,"return_value":{"class":"String","value":"feed:home:111361439700656852","object_id":14290900}},{"id":2894382,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894383,"event":"return","thread_id":9160,"parent_id":2894382,"elapsed":4.461035132408142e-06,"elapsed_instrumentation":7.304101018235087e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2894384,"event":"return","thread_id":9160,"parent_id":2894379,"elapsed":0.003093067032750696,"elapsed_instrumentation":0.00010521593503654003},{"id":2894385,"event":"return","thread_id":9160,"parent_id":2894378,"elapsed":0.003231846960261464,"elapsed_instrumentation":9.89919644780457e-05},{"id":2894386,"event":"return","thread_id":9160,"parent_id":2894371,"elapsed":0.008076486992649734,"elapsed_instrumentation":7.775600533932447e-05},{"id":2894387,"event":"return","thread_id":9160,"parent_id":2894358,"elapsed":0.010210086998995394,"elapsed_instrumentation":0.0001646600430831313,"return_value":{"class":"String","value":"596319abb398856502a70809","object_id":14290580}},{"id":2894388,"event":"return","thread_id":9160,"parent_id":2894297,"elapsed":0.040313539968337864,"elapsed_instrumentation":0.00014699995517730713,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e173e748>","object_id":14290420}},{"id":2894389,"event":"return","thread_id":9160,"parent_id":2894296,"elapsed":0.04048480896744877,"elapsed_instrumentation":7.574702613055706e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e173e748>","object_id":14290420}},{"id":2894390,"event":"return","thread_id":9160,"parent_id":2894295,"elapsed":0.0405936450115405,"elapsed_instrumentation":0.0001430300180800259,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e173e748>","object_id":14290420}},{"id":2894391,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14290920,"value":"relationship:111361439700656853:111361439700656855","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14290940,"value":"#<UnfollowService:0x00007fc8e0d26418>"}},{"id":2894392,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14290940,"value":"#<UnfollowService:0x00007fc8e0d26418>"}},{"id":2894393,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14290960,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14290980,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2894394,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2894395,"event":"return","thread_id":9160,"parent_id":2894394,"elapsed":3.029999788850546e-06,"elapsed_instrumentation":6.616197060793638e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2894396,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14291000,"value":"_____Z____\u0012_A__N"}},{"id":2894397,"event":"return","thread_id":9160,"parent_id":2894396,"elapsed":6.20097853243351e-06,"elapsed_instrumentation":0.00012190593406558037,"return_value":{"class":"Array","value":"[4086011635, 37210, 48892, 48310, 4827, 1101318990]","object_id":14291020,"size":6}},{"id":2894398,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2894399,"event":"return","thread_id":9160,"parent_id":2894398,"elapsed":0.000414608,"elapsed_instrumentation":8.845300180837512e-05},{"id":2894400,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14291040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2894401,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2894402,"event":"return","thread_id":9160,"parent_id":2894401,"elapsed":0.000301493,"elapsed_instrumentation":7.148599252104759e-05},{"id":2894403,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2894404,"event":"return","thread_id":9160,"parent_id":2894403,"elapsed":0.000313431,"elapsed_instrumentation":5.987699842080474e-05},{"id":2894405,"event":"return","thread_id":9160,"parent_id":2894400,"elapsed":0.002409501001238823,"elapsed_instrumentation":0.00021251902217045426,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2894406,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2894407,"event":"return","thread_id":9160,"parent_id":2894406,"elapsed":0.000604249,"elapsed_instrumentation":8.099497063085437e-05},{"id":2894408,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14291040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2894409,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2894410,"event":"return","thread_id":9160,"parent_id":2894409,"elapsed":0.000537157,"elapsed_instrumentation":7.48719903640449e-05},{"id":2894411,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894412,"event":"return","thread_id":9160,"parent_id":2894411,"elapsed":0.000447759,"elapsed_instrumentation":6.408203626051545e-05},{"id":2894413,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14291060,"value":"#<Account:0x00007fc8e1739ec8>"}},{"id":2894414,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14291060,"value":"#<Account:0x00007fc8e1739ec8>"}},{"id":2894415,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439700656853, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2894416,"event":"return","thread_id":9160,"parent_id":2894415,"elapsed":0.000725607,"elapsed_instrumentation":6.394099909812212e-05},{"id":2894417,"event":"return","thread_id":9160,"parent_id":2894414,"elapsed":0.0012700100196525455,"elapsed_instrumentation":8.632504614070058e-05},{"id":2894418,"event":"return","thread_id":9160,"parent_id":2894413,"elapsed":0.0013815040001645684,"elapsed_instrumentation":0.0001151190372183919},{"id":2894419,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894420,"event":"return","thread_id":9160,"parent_id":2894419,"elapsed":0.000455866,"elapsed_instrumentation":7.013999857008457e-05},{"id":2894421,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14291080,"value":"#<Account:0x00007fc8e1738fc8>"}},{"id":2894422,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14291080,"value":"#<Account:0x00007fc8e1738fc8>"}},{"id":2894423,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439700656855, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2894424,"event":"return","thread_id":9160,"parent_id":2894423,"elapsed":0.000713804,"elapsed_instrumentation":7.490802090615034e-05},{"id":2894425,"event":"return","thread_id":9160,"parent_id":2894422,"elapsed":0.0012397879618220031,"elapsed_instrumentation":9.819900151342154e-05},{"id":2894426,"event":"return","thread_id":9160,"parent_id":2894421,"elapsed":0.0013625900028273463,"elapsed_instrumentation":0.00017312500858679414},{"id":2894427,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14291060,"value":"#<Account:0x00007fc8e1739ec8>"}},{"id":2894428,"event":"return","thread_id":9160,"parent_id":2894427,"elapsed":1.550203887745738e-05,"elapsed_instrumentation":9.81949851848185e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894429,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14291080,"value":"#<Account:0x00007fc8e1738fc8>"}},{"id":2894430,"event":"return","thread_id":9160,"parent_id":2894429,"elapsed":8.338014595210552e-06,"elapsed_instrumentation":6.481504533439875e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894431,"event":"return","thread_id":9160,"parent_id":2894408,"elapsed":0.00887107796734199,"elapsed_instrumentation":0.0001708350027911365,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2894432,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2894433,"event":"return","thread_id":9160,"parent_id":2894432,"elapsed":0.000418774,"elapsed_instrumentation":7.167801959440112e-05},{"id":2894434,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14291120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2894435,"event":"return","thread_id":9160,"parent_id":2894434,"elapsed":4.226050805300474e-06,"elapsed_instrumentation":0.00016226398292928934,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2894436,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14291120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2894437,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14291140,"value":"Cache delete: relationship:111361439700656853:111361439700656855\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2894438,"event":"return","thread_id":9160,"parent_id":2894437,"elapsed":0.0005311539862304926,"elapsed_instrumentation":0.00010984204709529877,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2894439,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14291160,"value":"Cache delete: relationship:111361439700656855:111361439700656853\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2894440,"event":"return","thread_id":9160,"parent_id":2894439,"elapsed":0.0004846350057050586,"elapsed_instrumentation":0.00012583902571350336,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2894441,"event":"return","thread_id":9160,"parent_id":2894436,"elapsed":0.001518166041933,"elapsed_instrumentation":0.00012382998829707503,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2894442,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2894443,"event":"return","thread_id":9160,"parent_id":2894442,"elapsed":8.435978088527918e-06,"elapsed_instrumentation":8.986599277704954e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894444,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2894445,"event":"return","thread_id":9160,"parent_id":2894444,"elapsed":3.7479912862181664e-06,"elapsed_instrumentation":5.760602653026581e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894446,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14291180,"value":"#<Account:0x00007fc8e15eb918>"}},{"id":2894447,"event":"return","thread_id":9160,"parent_id":2894446,"elapsed":1.1069001629948616e-05,"elapsed_instrumentation":0.0002576559782028198,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894448,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14291200,"value":"{args=>[111361439700656855, 111361439700656853], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14291220,"value":"#<Sidekiq::Client:0x00007fc9317edf68>"}},{"id":2894449,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14291240,"value":"_[&____P__8_"}},{"id":2894450,"event":"return","thread_id":9160,"parent_id":2894449,"elapsed":4.2120227590203285e-06,"elapsed_instrumentation":0.00014977902173995972,"return_value":{"class":"String","value":"8f5b2696dda4be50adc43895","object_id":14291260}},{"id":2894451,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14291280,"value":"[111361439700656855, 111361439700656853]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14291300,"value":"#<JSON::Ext::Generator::State:0x00007fc9317e8068>"}},{"id":2894452,"event":"return","thread_id":9160,"parent_id":2894451,"elapsed":5.865003913640976e-06,"elapsed_instrumentation":0.00010675803059712052,"return_value":{"class":"String","value":"[111361439700656855,111361439700656853]","object_id":14291320}},{"id":2894453,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14291340,"value":"#<JSON::Ext::Parser:0x00007fc9317e5ca0>"}},{"id":2894454,"event":"return","thread_id":9160,"parent_id":2894453,"elapsed":5.575013346970081e-06,"elapsed_instrumentation":7.26020080037415e-05,"return_value":{"class":"Array","value":"[111361439700656855, 111361439700656853]","object_id":14291360,"size":2}},{"id":2894455,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14291380,"value":"\u0007_H_L_Z_\u000bX__"}},{"id":2894456,"event":"return","thread_id":9160,"parent_id":2894455,"elapsed":3.1269737519323826e-06,"elapsed_instrumentation":8.724298095330596e-05,"return_value":{"class":"String","value":"07e248b64cc25aa10b58bd8e","object_id":14291400}},{"id":2894457,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14291420,"value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656853], class=>UnmergeWorker, jid=>8f5b2696dda4be50adc43895, created_at=>1699240719.313023, id=>07e248b64cc25aa10b58bd8e}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14291440,"value":"#<JSON::Ext::Generator::State:0x00007fc9317e2938>"}},{"id":2894458,"event":"return","thread_id":9160,"parent_id":2894457,"elapsed":2.3630971554666758e-05,"elapsed_instrumentation":0.00017658103024587035,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439700656855,111361439700656853],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14291460}},{"id":2894459,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14291480,"value":"#<JSON::Ext::Parser:0x00007fc9317feac0>"}},{"id":2894460,"event":"return","thread_id":9160,"parent_id":2894459,"elapsed":1.8964987248182297e-05,"elapsed_instrumentation":0.0002199760638177395,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656853], class=>UnmergeWorker, jid=>8f5b2696dda4be50adc43895, created_at=>1699240719.313023, id=>07e248b64cc25aa10b58bd8e}","object_id":14291500,"size":7}},{"id":2894461,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879401313711,"value":"111361439700656855","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879401313707,"value":"111361439700656853","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14291520,"value":"#<UnmergeWorker:0x00007fc9317f8c88>"}},{"id":2894462,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14291520,"value":"#<UnmergeWorker:0x00007fc9317f8c88>"}},{"id":2894463,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894464,"event":"return","thread_id":9160,"parent_id":2894463,"elapsed":0.00081342,"elapsed_instrumentation":0.00029382400680333376},{"id":2894465,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894466,"event":"return","thread_id":9160,"parent_id":2894465,"elapsed":0.000567738,"elapsed_instrumentation":8.911697659641504e-05},{"id":2894467,"event":"return","thread_id":9160,"parent_id":2894462,"elapsed":0.004210112965665758,"elapsed_instrumentation":0.00011783698573708534,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1737a88>","object_id":14291540}},{"id":2894468,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14291520,"value":"#<UnmergeWorker:0x00007fc9317f8c88>"}},{"id":2894469,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14291560,"value":"#<Account:0x00007fc8e1737bc8>","kind":"req"},{"name":"into_account","class":"Account","object_id":14291540,"value":"#<Account:0x00007fc8e1737a88>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894470,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879401313707,"value":"111361439700656853","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894471,"event":"return","thread_id":9160,"parent_id":2894470,"elapsed":7.695984095335007e-06,"elapsed_instrumentation":0.00011480296961963177,"return_value":{"class":"String","value":"feed:home:111361439700656853","object_id":14291580}},{"id":2894472,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894473,"event":"return","thread_id":9160,"parent_id":2894472,"elapsed":4.564994014799595e-06,"elapsed_instrumentation":8.371297735720873e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2894474,"event":"return","thread_id":9160,"parent_id":2894469,"elapsed":0.0030181179754436016,"elapsed_instrumentation":0.00010219501564279199},{"id":2894475,"event":"return","thread_id":9160,"parent_id":2894468,"elapsed":0.00319603702519089,"elapsed_instrumentation":0.00010154797928407788},{"id":2894476,"event":"return","thread_id":9160,"parent_id":2894461,"elapsed":0.007676261011511087,"elapsed_instrumentation":8.24049930088222e-05},{"id":2894477,"event":"return","thread_id":9160,"parent_id":2894448,"elapsed":0.008936305996030569,"elapsed_instrumentation":0.00027672306168824434,"return_value":{"class":"String","value":"8f5b2696dda4be50adc43895","object_id":14291260}},{"id":2894478,"event":"return","thread_id":9160,"parent_id":2894393,"elapsed":0.027941523992922157,"elapsed_instrumentation":0.00015365896979346871,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e173ac88>","object_id":14291100}},{"id":2894479,"event":"return","thread_id":9160,"parent_id":2894392,"elapsed":0.02811937703518197,"elapsed_instrumentation":7.711595389991999e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e173ac88>","object_id":14291100}},{"id":2894480,"event":"return","thread_id":9160,"parent_id":2894391,"elapsed":0.028227177972439677,"elapsed_instrumentation":0.00012897909618914127,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e173ac88>","object_id":14291100}},{"id":2894481,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14291600,"value":"relationship:111361439700656854:111361439700656855","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14291620,"value":"#<UnfollowService:0x00007fc8e0d7f158>"}},{"id":2894482,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14291620,"value":"#<UnfollowService:0x00007fc8e0d7f158>"}},{"id":2894483,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14291640,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14291660,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2894484,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2894485,"event":"return","thread_id":9160,"parent_id":2894484,"elapsed":3.5070115700364113e-06,"elapsed_instrumentation":0.00011674698907881975,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2894486,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14291680,"value":"$Ze____?__:W___\u0019"}},{"id":2894487,"event":"return","thread_id":9160,"parent_id":2894486,"elapsed":7.088994607329369e-06,"elapsed_instrumentation":0.000202867086045444,"return_value":{"class":"Array","value":"[609904060, 59785, 54591, 46330, 14935, 4143906329]","object_id":14291700,"size":6}},{"id":2894488,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2894489,"event":"return","thread_id":9160,"parent_id":2894488,"elapsed":0.000475697,"elapsed_instrumentation":8.873699698597193e-05},{"id":2894490,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14291720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2894491,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2894492,"event":"return","thread_id":9160,"parent_id":2894491,"elapsed":0.000453619,"elapsed_instrumentation":6.916100392118096e-05},{"id":2894493,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2894494,"event":"return","thread_id":9160,"parent_id":2894493,"elapsed":0.000471528,"elapsed_instrumentation":6.667099660262465e-05},{"id":2894495,"event":"return","thread_id":9160,"parent_id":2894490,"elapsed":0.002419064985588193,"elapsed_instrumentation":0.00015470501966774464,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2894496,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2894497,"event":"return","thread_id":9160,"parent_id":2894496,"elapsed":0.000606827,"elapsed_instrumentation":6.695598131045699e-05},{"id":2894498,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14291720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2894499,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2894500,"event":"return","thread_id":9160,"parent_id":2894499,"elapsed":0.00062057,"elapsed_instrumentation":7.061997894197702e-05},{"id":2894501,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894502,"event":"return","thread_id":9160,"parent_id":2894501,"elapsed":0.000631571,"elapsed_instrumentation":7.996696513146162e-05},{"id":2894503,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14291740,"value":"#<Account:0x00007fc8e1736548>"}},{"id":2894504,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14291740,"value":"#<Account:0x00007fc8e1736548>"}},{"id":2894505,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439700656854, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2894506,"event":"return","thread_id":9160,"parent_id":2894505,"elapsed":0.000703459,"elapsed_instrumentation":7.781299063935876e-05},{"id":2894507,"event":"return","thread_id":9160,"parent_id":2894504,"elapsed":0.0013785419869236648,"elapsed_instrumentation":9.953201515600085e-05},{"id":2894508,"event":"return","thread_id":9160,"parent_id":2894503,"elapsed":0.001506008964497596,"elapsed_instrumentation":0.00014390202704817057},{"id":2894509,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894510,"event":"return","thread_id":9160,"parent_id":2894509,"elapsed":0.000556609,"elapsed_instrumentation":6.728002335876226e-05},{"id":2894511,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14291760,"value":"#<Account:0x00007fc8e1735508>"}},{"id":2894512,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14291760,"value":"#<Account:0x00007fc8e1735508>"}},{"id":2894513,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439700656855, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2894514,"event":"return","thread_id":9160,"parent_id":2894513,"elapsed":0.000807838,"elapsed_instrumentation":0.00014778197510167956},{"id":2894515,"event":"return","thread_id":9160,"parent_id":2894512,"elapsed":0.0016038889880292118,"elapsed_instrumentation":8.309603435918689e-05},{"id":2894516,"event":"return","thread_id":9160,"parent_id":2894511,"elapsed":0.001708871976006776,"elapsed_instrumentation":0.00010990799637511373},{"id":2894517,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14291740,"value":"#<Account:0x00007fc8e1736548>"}},{"id":2894518,"event":"return","thread_id":9160,"parent_id":2894517,"elapsed":1.475802855566144e-05,"elapsed_instrumentation":9.366299491375685e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894519,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14291760,"value":"#<Account:0x00007fc8e1735508>"}},{"id":2894520,"event":"return","thread_id":9160,"parent_id":2894519,"elapsed":6.493006367236376e-06,"elapsed_instrumentation":6.59939250908792e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894521,"event":"return","thread_id":9160,"parent_id":2894498,"elapsed":0.009783499990589917,"elapsed_instrumentation":0.00014980603009462357,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2894522,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2894523,"event":"return","thread_id":9160,"parent_id":2894522,"elapsed":0.00038652,"elapsed_instrumentation":6.250699516385794e-05},{"id":2894524,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14291800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2894525,"event":"return","thread_id":9160,"parent_id":2894524,"elapsed":3.509980160742998e-06,"elapsed_instrumentation":0.00010380905587226152,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2894526,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14291800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2894527,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14291820,"value":"Cache delete: relationship:111361439700656854:111361439700656855\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2894528,"event":"return","thread_id":9160,"parent_id":2894527,"elapsed":0.0006338320090435445,"elapsed_instrumentation":0.00011118105612695217,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2894529,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14291840,"value":"Cache delete: relationship:111361439700656855:111361439700656854\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2894530,"event":"return","thread_id":9160,"parent_id":2894529,"elapsed":0.0005597029812633991,"elapsed_instrumentation":0.00012625899398699403,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2894531,"event":"return","thread_id":9160,"parent_id":2894526,"elapsed":0.0016865809448063374,"elapsed_instrumentation":0.00010148901492357254,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2894532,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2894533,"event":"return","thread_id":9160,"parent_id":2894532,"elapsed":7.127993740141392e-06,"elapsed_instrumentation":7.986003765836358e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894534,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14285120,"value":"#<Account:0x00007fc8e15ed218>"}},{"id":2894535,"event":"return","thread_id":9160,"parent_id":2894534,"elapsed":3.702007234096527e-06,"elapsed_instrumentation":5.761499051004648e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894536,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14291860,"value":"#<Account:0x00007fc8e15eb7d8>"}},{"id":2894537,"event":"return","thread_id":9160,"parent_id":2894536,"elapsed":9.051989763975143e-06,"elapsed_instrumentation":5.739199696108699e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2894538,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14291880,"value":"{args=>[111361439700656855, 111361439700656854], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14291900,"value":"#<Sidekiq::Client:0x00007fc93170c6f8>"}},{"id":2894539,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14291920,"value":"_(i|\u0014<rK6{__"}},{"id":2894540,"event":"return","thread_id":9160,"parent_id":2894539,"elapsed":4.266970790922642e-06,"elapsed_instrumentation":9.85290389508009e-05,"return_value":{"class":"String","value":"f428697c143c724b367bc5ce","object_id":14291940}},{"id":2894541,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14291960,"value":"[111361439700656855, 111361439700656854]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14291980,"value":"#<JSON::Ext::Generator::State:0x00007fc931709728>"}},{"id":2894542,"event":"return","thread_id":9160,"parent_id":2894541,"elapsed":5.383044481277466e-06,"elapsed_instrumentation":9.784800931811333e-05,"return_value":{"class":"String","value":"[111361439700656855,111361439700656854]","object_id":14292000}},{"id":2894543,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14292020,"value":"#<JSON::Ext::Parser:0x00007fc931708620>"}},{"id":2894544,"event":"return","thread_id":9160,"parent_id":2894543,"elapsed":5.7130237109959126e-06,"elapsed_instrumentation":0.00016141601372510195,"return_value":{"class":"Array","value":"[111361439700656855, 111361439700656854]","object_id":14292040,"size":2}},{"id":2894545,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14292060,"value":"6____\\___{__"}},{"id":2894546,"event":"return","thread_id":9160,"parent_id":2894545,"elapsed":3.630993887782097e-06,"elapsed_instrumentation":9.503704495728016e-05,"return_value":{"class":"String","value":"369cb483c45cbdb4c47b8cde","object_id":14292080}},{"id":2894547,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14292100,"value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656854], class=>UnmergeWorker, jid=>f428697c143c724b367bc5ce, created_at=>1699240719.3424103, id=>369cb483c45cbdb4c47b8cde}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14292120,"value":"#<JSON::Ext::Generator::State:0x00007fc931705a38>"}},{"id":2894548,"event":"return","thread_id":9160,"parent_id":2894547,"elapsed":2.367602428421378e-05,"elapsed_instrumentation":0.00017741398187354207,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439700656855,111361439700656854],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14292140}},{"id":2894549,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14292160,"value":"#<JSON::Ext::Parser:0x00007fc931701280>"}},{"id":2894550,"event":"return","thread_id":9160,"parent_id":2894549,"elapsed":1.9084021914750338e-05,"elapsed_instrumentation":0.000152906053699553,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439700656855, 111361439700656854], class=>UnmergeWorker, jid=>f428697c143c724b367bc5ce, created_at=>1699240719.3424103, id=>369cb483c45cbdb4c47b8cde}","object_id":14292180,"size":7}},{"id":2894551,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879401313711,"value":"111361439700656855","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879401313709,"value":"111361439700656854","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14292200,"value":"#<UnmergeWorker:0x00007fc9317196c8>"}},{"id":2894552,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14292200,"value":"#<UnmergeWorker:0x00007fc9317196c8>"}},{"id":2894553,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894554,"event":"return","thread_id":9160,"parent_id":2894553,"elapsed":0.000581744,"elapsed_instrumentation":8.226197678595781e-05},{"id":2894555,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894556,"event":"return","thread_id":9160,"parent_id":2894555,"elapsed":0.000588225,"elapsed_instrumentation":0.0002294899895787239},{"id":2894557,"event":"return","thread_id":9160,"parent_id":2894552,"elapsed":0.0037617370253428817,"elapsed_instrumentation":0.00012028799392282963,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1733c08>","object_id":14292220}},{"id":2894558,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14292200,"value":"#<UnmergeWorker:0x00007fc9317196c8>"}},{"id":2894559,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14292240,"value":"#<Account:0x00007fc8e1733d48>","kind":"req"},{"name":"into_account","class":"Account","object_id":14292220,"value":"#<Account:0x00007fc8e1733c08>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894560,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879401313709,"value":"111361439700656854","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894561,"event":"return","thread_id":9160,"parent_id":2894560,"elapsed":5.8549921959638596e-06,"elapsed_instrumentation":0.00010384904453530908,"return_value":{"class":"String","value":"feed:home:111361439700656854","object_id":14292260}},{"id":2894562,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2894563,"event":"return","thread_id":9160,"parent_id":2894562,"elapsed":4.232977516949177e-06,"elapsed_instrumentation":7.31370528228581e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2894564,"event":"return","thread_id":9160,"parent_id":2894559,"elapsed":0.003697031002957374,"elapsed_instrumentation":0.00010838697198778391},{"id":2894565,"event":"return","thread_id":9160,"parent_id":2894558,"elapsed":0.0038410869892686605,"elapsed_instrumentation":9.921396849676967e-05},{"id":2894566,"event":"return","thread_id":9160,"parent_id":2894551,"elapsed":0.00787132402183488,"elapsed_instrumentation":7.382093463093042e-05},{"id":2894567,"event":"return","thread_id":9160,"parent_id":2894538,"elapsed":0.009082125965505838,"elapsed_instrumentation":0.0001619081012904644,"return_value":{"class":"String","value":"f428697c143c724b367bc5ce","object_id":14291940}},{"id":2894568,"event":"return","thread_id":9160,"parent_id":2894483,"elapsed":0.029076700971927494,"elapsed_instrumentation":0.0001410759869031608,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1736f48>","object_id":14291780}},{"id":2894569,"event":"return","thread_id":9160,"parent_id":2894482,"elapsed":0.029239806986879557,"elapsed_instrumentation":7.81200360506773e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1736f48>","object_id":14291780}},{"id":2894570,"event":"return","thread_id":9160,"parent_id":2894481,"elapsed":0.02934889600146562,"elapsed_instrumentation":0.000135229027364403,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1736f48>","object_id":14291780}},{"id":2894571,"event":"return","thread_id":9160,"parent_id":2893636,"elapsed":0.37263890396570787,"elapsed_instrumentation":0.00016072002472355962,"return_value":{"class":"IO","value":"#<IO:0x00007fc94b108f80>","object_id":195040}},{"id":2894572,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894573,"event":"return","thread_id":9160,"parent_id":2894572,"elapsed":0.000705067,"elapsed_instrumentation":9.271700400859118e-05},{"id":2894574,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"account_id\" WHERE \"follows\".\"target_account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2894575,"event":"return","thread_id":9160,"parent_id":2894574,"elapsed":0.000987662,"elapsed_instrumentation":0.0001815530122257769}]}