{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --followers option resets all \"followers\" relationships from the target account","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":1492569,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":8127520,"value":"tyra_osinski3210","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8127540,"value":"#<Mastodon::CLI::Accounts:0x00007fdc08f11328>"}},{"id":1492570,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":8127560,"value":"#<AccountFinderConcern::AccountFinder:0x00007fdc066c6ee0>"}},{"id":1492571,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'tyra_osinski3210' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":1492572,"event":"return","thread_id":9160,"parent_id":1492571,"elapsed":0.001071226,"elapsed_instrumentation":9.782199049368501e-05},{"id":1492573,"event":"return","thread_id":9160,"parent_id":1492570,"elapsed":0.004981097008567303,"elapsed_instrumentation":0.00017342501087114215,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06f44748>","object_id":8127580}},{"id":1492574,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1)","database_type":"postgres"}},{"id":1492575,"event":"return","thread_id":9160,"parent_id":1492574,"elapsed":0.001331545,"elapsed_instrumentation":8.716000593267381e-05},{"id":1492576,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8127540,"value":"#<Mastodon::CLI::Accounts:0x00007fdc08f11328>"}},{"id":1492577,"event":"return","thread_id":9160,"parent_id":1492576,"elapsed":0.00011375601752661169,"elapsed_instrumentation":0.00021959800506010652,"return_value":{"class":"ProgressBar::Base","value":"","object_id":8127600}},{"id":1492578,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1492579,"event":"return","thread_id":9160,"parent_id":1492578,"elapsed":0.002815183,"elapsed_instrumentation":0.00010847699013538659},{"id":1492580,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8127620,"value":"relationship:111360522214365468:111360522214365478","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8127640,"value":"#<UnfollowService:0x00007fdc08fff910>"}},{"id":1492581,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8127640,"value":"#<UnfollowService:0x00007fdc08fff910>"}},{"id":1492582,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8127660,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8127680,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492583,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492584,"event":"return","thread_id":9160,"parent_id":1492583,"elapsed":3.5059929359704256e-06,"elapsed_instrumentation":7.773100514896214e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1492585,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8127700,"value":"a\u00139A+_\u0010_Y___=\u0016__"}},{"id":1492586,"event":"return","thread_id":9160,"parent_id":1492585,"elapsed":1.0323012247681618e-05,"elapsed_instrumentation":0.0001990000018849969,"return_value":{"class":"Array","value":"[1628649793, 11199, 4261, 22915, 63718, 1024892087]","object_id":8127720,"size":6}},{"id":1492587,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492588,"event":"return","thread_id":9160,"parent_id":1492587,"elapsed":0.000816419,"elapsed_instrumentation":8.408699068240821e-05},{"id":1492589,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8127740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492590,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492591,"event":"return","thread_id":9160,"parent_id":1492590,"elapsed":0.000679657,"elapsed_instrumentation":7.7831995440647e-05},{"id":1492592,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492593,"event":"return","thread_id":9160,"parent_id":1492592,"elapsed":0.000833407,"elapsed_instrumentation":7.756799459457397e-05},{"id":1492594,"event":"return","thread_id":9160,"parent_id":1492589,"elapsed":0.0038218879781197757,"elapsed_instrumentation":0.00021437901887111366,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1492595,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1492596,"event":"return","thread_id":9160,"parent_id":1492595,"elapsed":0.001143686,"elapsed_instrumentation":7.413598359562457e-05},{"id":1492597,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8127740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492598,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1492599,"event":"return","thread_id":9160,"parent_id":1492598,"elapsed":0.000957555,"elapsed_instrumentation":8.478900417685509e-05},{"id":1492600,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492601,"event":"return","thread_id":9160,"parent_id":1492600,"elapsed":0.000841366,"elapsed_instrumentation":8.34649836178869e-05},{"id":1492602,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8127760,"value":"#<Account:0x00007fdc06f41b88>"}},{"id":1492603,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8127760,"value":"#<Account:0x00007fdc06f41b88>"}},{"id":1492604,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522214365468, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492605,"event":"return","thread_id":9160,"parent_id":1492604,"elapsed":0.001084544,"elapsed_instrumentation":9.44680068641901e-05},{"id":1492606,"event":"return","thread_id":9160,"parent_id":1492603,"elapsed":0.001762786996550858,"elapsed_instrumentation":0.00010090999421663582},{"id":1492607,"event":"return","thread_id":9160,"parent_id":1492602,"elapsed":0.0018921660084743053,"elapsed_instrumentation":0.00015193200670182705},{"id":1492608,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492609,"event":"return","thread_id":9160,"parent_id":1492608,"elapsed":0.000838909,"elapsed_instrumentation":8.510798215866089e-05},{"id":1492610,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8127780,"value":"#<Account:0x00007fdc06f40c88>"}},{"id":1492611,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8127780,"value":"#<Account:0x00007fdc06f40c88>"}},{"id":1492612,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522214365478, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492613,"event":"return","thread_id":9160,"parent_id":1492612,"elapsed":0.001376561,"elapsed_instrumentation":9.451201185584068e-05},{"id":1492614,"event":"return","thread_id":9160,"parent_id":1492611,"elapsed":0.001913298008730635,"elapsed_instrumentation":9.226601105183363e-05},{"id":1492615,"event":"return","thread_id":9160,"parent_id":1492610,"elapsed":0.0020297419978305697,"elapsed_instrumentation":0.00012960098683834076},{"id":1492616,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127760,"value":"#<Account:0x00007fdc06f41b88>"}},{"id":1492617,"event":"return","thread_id":9160,"parent_id":1492616,"elapsed":1.7162004951387644e-05,"elapsed_instrumentation":0.00011479100794531405,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492618,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127780,"value":"#<Account:0x00007fdc06f40c88>"}},{"id":1492619,"event":"return","thread_id":9160,"parent_id":1492618,"elapsed":8.067989256232977e-06,"elapsed_instrumentation":7.996198837645352e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492620,"event":"return","thread_id":9160,"parent_id":1492597,"elapsed":0.013373252004384995,"elapsed_instrumentation":0.00017044899868778884,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1492621,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492622,"event":"return","thread_id":9160,"parent_id":1492621,"elapsed":0.000752633,"elapsed_instrumentation":9.329701424576342e-05},{"id":1492623,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8127820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492624,"event":"return","thread_id":9160,"parent_id":1492623,"elapsed":3.964989446103573e-06,"elapsed_instrumentation":0.00023423298262059689,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1492625,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8127820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492626,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8127840,"value":"Cache delete: relationship:111360522214365468:111360522214365478\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492627,"event":"return","thread_id":9160,"parent_id":1492626,"elapsed":0.0015172570128925145,"elapsed_instrumentation":0.0001467039983253926,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492628,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8127860,"value":"Cache delete: relationship:111360522214365478:111360522214365468\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492629,"event":"return","thread_id":9160,"parent_id":1492628,"elapsed":0.001702208974165842,"elapsed_instrumentation":0.0001661070273257792,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492630,"event":"return","thread_id":9160,"parent_id":1492625,"elapsed":0.003896820009686053,"elapsed_instrumentation":0.0001303069875575602,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1492631,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1492632,"event":"return","thread_id":9160,"parent_id":1492631,"elapsed":1.6642006812617183e-05,"elapsed_instrumentation":0.00010272700455971062,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492633,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1492634,"event":"return","thread_id":9160,"parent_id":1492633,"elapsed":4.473986336961389e-06,"elapsed_instrumentation":6.777897942811251e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492635,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127880,"value":"#<Account:0x00007fdc06f43848>"}},{"id":1492636,"event":"return","thread_id":9160,"parent_id":1492635,"elapsed":1.4888006262481213e-05,"elapsed_instrumentation":0.000108960026409477,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492637,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8127900,"value":"{args=>[111360522214365478, 111360522214365468], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8127920,"value":"#<Sidekiq::Client:0x00007fdc067a10e0>"}},{"id":1492638,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8127940,"value":"\t'__Y___E&_"}},{"id":1492639,"event":"return","thread_id":9160,"parent_id":1492638,"elapsed":5.919981049373746e-06,"elapsed_instrumentation":0.00044007200631313026,"return_value":{"class":"String","value":"097f27bc8a59b35fe24526da","object_id":8127960}},{"id":1492640,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8127980,"value":"[111360522214365478, 111360522214365468]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8128000,"value":"#<JSON::Ext::Generator::State:0x00007fdc067dd810>"}},{"id":1492641,"event":"return","thread_id":9160,"parent_id":1492640,"elapsed":7.280992576852441e-06,"elapsed_instrumentation":0.00012596900342032313,"return_value":{"class":"String","value":"[111360522214365478,111360522214365468]","object_id":8128020}},{"id":1492642,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8128040,"value":"#<JSON::Ext::Parser:0x00007fdc067dbfd8>"}},{"id":1492643,"event":"return","thread_id":9160,"parent_id":1492642,"elapsed":5.929003236815333e-06,"elapsed_instrumentation":8.270502439700067e-05,"return_value":{"class":"Array","value":"[111360522214365478, 111360522214365468]","object_id":8128060,"size":2}},{"id":1492644,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8128080,"value":"__K____V__U+"}},{"id":1492645,"event":"return","thread_id":9160,"parent_id":1492644,"elapsed":5.83200016990304e-06,"elapsed_instrumentation":0.00040480701136402786,"return_value":{"class":"String","value":"fcf94baae2eee556ceaa552b","object_id":8128100}},{"id":1492646,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8128120,"value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365468], class=>UnmergeWorker, jid=>097f27bc8a59b35fe24526da, created_at=>1699226719.8424923, id=>fcf94baae2eee556ceaa552b}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8128140,"value":"#<JSON::Ext::Generator::State:0x00007fdc067d9da0>"}},{"id":1492647,"event":"return","thread_id":9160,"parent_id":1492646,"elapsed":1.6066012904047966e-05,"elapsed_instrumentation":0.00030034201336093247,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522214365478,111360522214365468],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8128160}},{"id":1492648,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8128180,"value":"#<JSON::Ext::Parser:0x00007fdc067d78e8>"}},{"id":1492649,"event":"return","thread_id":9160,"parent_id":1492648,"elapsed":2.0984007278457284e-05,"elapsed_instrumentation":0.0002787309931591153,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365468], class=>UnmergeWorker, jid=>097f27bc8a59b35fe24526da, created_at=>1699226719.8424923, id=>fcf94baae2eee556ceaa552b}","object_id":8128200,"size":7}},{"id":1492650,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044428730957,"value":"111360522214365478","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044428730937,"value":"111360522214365468","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8128220,"value":"#<UnmergeWorker:0x00007fdc067d59f8>"}},{"id":1492651,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8128220,"value":"#<UnmergeWorker:0x00007fdc067d59f8>"}},{"id":1492652,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492653,"event":"return","thread_id":9160,"parent_id":1492652,"elapsed":0.000919544,"elapsed_instrumentation":9.758200030773878e-05},{"id":1492654,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492655,"event":"return","thread_id":9160,"parent_id":1492654,"elapsed":0.000714771,"elapsed_instrumentation":8.65669862832874e-05},{"id":1492656,"event":"return","thread_id":9160,"parent_id":1492651,"elapsed":0.004504790005739778,"elapsed_instrumentation":0.00011888201697729528,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06fef648>","object_id":8128240}},{"id":1492657,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8128220,"value":"#<UnmergeWorker:0x00007fdc067d59f8>"}},{"id":1492658,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8128260,"value":"#<Account:0x00007fdc06fef788>","kind":"req"},{"name":"into_account","class":"Account","object_id":8128240,"value":"#<Account:0x00007fdc06fef648>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492659,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044428730937,"value":"111360522214365468","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492660,"event":"return","thread_id":9160,"parent_id":1492659,"elapsed":8.205999620258808e-06,"elapsed_instrumentation":0.00013831700198352337,"return_value":{"class":"String","value":"feed:home:111360522214365468","object_id":8128280}},{"id":1492661,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492662,"event":"return","thread_id":9160,"parent_id":1492661,"elapsed":6.243993993848562e-06,"elapsed_instrumentation":0.0001208909961860627,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1492663,"event":"return","thread_id":9160,"parent_id":1492658,"elapsed":0.0043945709767285734,"elapsed_instrumentation":0.0003245640255045146},{"id":1492664,"event":"return","thread_id":9160,"parent_id":1492657,"elapsed":0.0047582529950886965,"elapsed_instrumentation":8.7998021626845e-05},{"id":1492665,"event":"return","thread_id":9160,"parent_id":1492650,"elapsed":0.009518212988041341,"elapsed_instrumentation":0.0001258560223504901},{"id":1492666,"event":"return","thread_id":9160,"parent_id":1492637,"elapsed":0.01190819899784401,"elapsed_instrumentation":0.00020502498955465853,"return_value":{"class":"String","value":"097f27bc8a59b35fe24526da","object_id":8127960}},{"id":1492667,"event":"return","thread_id":9160,"parent_id":1492582,"elapsed":0.04196005599806085,"elapsed_instrumentation":0.0001769700029399246,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06f42948>","object_id":8127800}},{"id":1492668,"event":"return","thread_id":9160,"parent_id":1492581,"elapsed":0.04216540799825452,"elapsed_instrumentation":0.00010143898543901742,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06f42948>","object_id":8127800}},{"id":1492669,"event":"return","thread_id":9160,"parent_id":1492580,"elapsed":0.04230374901089817,"elapsed_instrumentation":0.00019128198619000614,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06f42948>","object_id":8127800}},{"id":1492670,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8128300,"value":"relationship:111360522214365469:111360522214365478","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8128320,"value":"#<UnfollowService:0x00007fdc08ff2b20>"}},{"id":1492671,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8128320,"value":"#<UnfollowService:0x00007fdc08ff2b20>"}},{"id":1492672,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8128340,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8128360,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492673,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492674,"event":"return","thread_id":9160,"parent_id":1492673,"elapsed":5.228008376434445e-06,"elapsed_instrumentation":0.00010223701247014105,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1492675,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8128380,"value":"`6_\u0002!fD_\u001d__\u0002_)8_"}},{"id":1492676,"event":"return","thread_id":9160,"parent_id":1492675,"elapsed":7.705995813012123e-06,"elapsed_instrumentation":0.0004028129915241152,"return_value":{"class":"Array","value":"[1614203650, 8550, 17613, 7631, 45826, 2200516833]","object_id":8128400,"size":6}},{"id":1492677,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492678,"event":"return","thread_id":9160,"parent_id":1492677,"elapsed":0.000613821,"elapsed_instrumentation":0.0002974810195155442},{"id":1492679,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8128420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492680,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492681,"event":"return","thread_id":9160,"parent_id":1492680,"elapsed":0.000691776,"elapsed_instrumentation":8.678098674863577e-05},{"id":1492682,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492683,"event":"return","thread_id":9160,"parent_id":1492682,"elapsed":0.000923798,"elapsed_instrumentation":7.7045988291502e-05},{"id":1492684,"event":"return","thread_id":9160,"parent_id":1492679,"elapsed":0.0038398850010707974,"elapsed_instrumentation":0.00016844700439833105,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1492685,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1492686,"event":"return","thread_id":9160,"parent_id":1492685,"elapsed":0.00099255,"elapsed_instrumentation":7.926599937491119e-05},{"id":1492687,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8128420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492688,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1492689,"event":"return","thread_id":9160,"parent_id":1492688,"elapsed":0.001007915,"elapsed_instrumentation":0.00016462098574265838},{"id":1492690,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492691,"event":"return","thread_id":9160,"parent_id":1492690,"elapsed":0.000667598,"elapsed_instrumentation":0.00010891901911236346},{"id":1492692,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8128440,"value":"#<Account:0x00007fdc06fee748>"}},{"id":1492693,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8128440,"value":"#<Account:0x00007fdc06fee748>"}},{"id":1492694,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522214365469, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492695,"event":"return","thread_id":9160,"parent_id":1492694,"elapsed":0.001253577,"elapsed_instrumentation":7.727497722953558e-05},{"id":1492696,"event":"return","thread_id":9160,"parent_id":1492693,"elapsed":0.002390873007243499,"elapsed_instrumentation":0.00018483999883756042},{"id":1492697,"event":"return","thread_id":9160,"parent_id":1492692,"elapsed":0.0026196989929303527,"elapsed_instrumentation":0.00015535400598309934},{"id":1492698,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492699,"event":"return","thread_id":9160,"parent_id":1492698,"elapsed":0.000805588,"elapsed_instrumentation":0.00012905997573398054},{"id":1492700,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8128460,"value":"#<Account:0x00007fdc06fed488>"}},{"id":1492701,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8128460,"value":"#<Account:0x00007fdc06fed488>"}},{"id":1492702,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522214365478, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492703,"event":"return","thread_id":9160,"parent_id":1492702,"elapsed":0.001075482,"elapsed_instrumentation":7.745600305497646e-05},{"id":1492704,"event":"return","thread_id":9160,"parent_id":1492701,"elapsed":0.001844119979068637,"elapsed_instrumentation":9.570899419486523e-05},{"id":1492705,"event":"return","thread_id":9160,"parent_id":1492700,"elapsed":0.001964901020983234,"elapsed_instrumentation":0.00013667799066752195},{"id":1492706,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8128440,"value":"#<Account:0x00007fdc06fee748>"}},{"id":1492707,"event":"return","thread_id":9160,"parent_id":1492706,"elapsed":1.4488003216683865e-05,"elapsed_instrumentation":0.00010568799916654825,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492708,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8128460,"value":"#<Account:0x00007fdc06fed488>"}},{"id":1492709,"event":"return","thread_id":9160,"parent_id":1492708,"elapsed":7.391005055978894e-06,"elapsed_instrumentation":7.015399751253426e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492710,"event":"return","thread_id":9160,"parent_id":1492687,"elapsed":0.014030716993147507,"elapsed_instrumentation":0.00017037097131833434,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1492711,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492712,"event":"return","thread_id":9160,"parent_id":1492711,"elapsed":0.000600247,"elapsed_instrumentation":9.736401261761785e-05},{"id":1492713,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8128500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492714,"event":"return","thread_id":9160,"parent_id":1492713,"elapsed":5.285983206704259e-06,"elapsed_instrumentation":0.0001773269905243069,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1492715,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8128500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492716,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8128520,"value":"Cache delete: relationship:111360522214365469:111360522214365478\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492717,"event":"return","thread_id":9160,"parent_id":1492716,"elapsed":0.002019025996560231,"elapsed_instrumentation":0.00012449698988348246,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492718,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8128540,"value":"Cache delete: relationship:111360522214365478:111360522214365469\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492719,"event":"return","thread_id":9160,"parent_id":1492718,"elapsed":0.0014906100113876164,"elapsed_instrumentation":0.00018007899052463472,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492720,"event":"return","thread_id":9160,"parent_id":1492715,"elapsed":0.004406458989251405,"elapsed_instrumentation":0.00021829601610079408,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1492721,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1492722,"event":"return","thread_id":9160,"parent_id":1492721,"elapsed":7.74799264036119e-06,"elapsed_instrumentation":9.408500045537949e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492723,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1492724,"event":"return","thread_id":9160,"parent_id":1492723,"elapsed":4.269997589290142e-06,"elapsed_instrumentation":6.439402932301164e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492725,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8128560,"value":"#<Account:0x00007fdc06f435c8>"}},{"id":1492726,"event":"return","thread_id":9160,"parent_id":1492725,"elapsed":1.0421994375064969e-05,"elapsed_instrumentation":6.324599962681532e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492727,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8128580,"value":"{args=>[111360522214365478, 111360522214365469], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8128600,"value":"#<Sidekiq::Client:0x00007fdc06953b68>"}},{"id":1492728,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8128620,"value":"\b\u0017_%\nj______"}},{"id":1492729,"event":"return","thread_id":9160,"parent_id":1492728,"elapsed":5.427980795502663e-06,"elapsed_instrumentation":0.000115685019409284,"return_value":{"class":"String","value":"0817ad250a6ad08b8783ab8a","object_id":8128640}},{"id":1492730,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8128660,"value":"[111360522214365478, 111360522214365469]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8128680,"value":"#<JSON::Ext::Generator::State:0x00007fdc0698f848>"}},{"id":1492731,"event":"return","thread_id":9160,"parent_id":1492730,"elapsed":8.545001037418842e-06,"elapsed_instrumentation":0.00015450199134647846,"return_value":{"class":"String","value":"[111360522214365478,111360522214365469]","object_id":8128700}},{"id":1492732,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8128720,"value":"#<JSON::Ext::Parser:0x00007fdc0698e330>"}},{"id":1492733,"event":"return","thread_id":9160,"parent_id":1492732,"elapsed":5.293986760079861e-06,"elapsed_instrumentation":8.537597022950649e-05,"return_value":{"class":"Array","value":"[111360522214365478, 111360522214365469]","object_id":8128740,"size":2}},{"id":1492734,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8128760,"value":"___&__*In\u0007_~"}},{"id":1492735,"event":"return","thread_id":9160,"parent_id":1492734,"elapsed":3.7199934013187885e-06,"elapsed_instrumentation":0.00010551203740760684,"return_value":{"class":"String","value":"c0a8d026e3a42a496e07ea7e","object_id":8128780}},{"id":1492736,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8128800,"value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365469], class=>UnmergeWorker, jid=>0817ad250a6ad08b8783ab8a, created_at=>1699226719.885882, id=>c0a8d026e3a42a496e07ea7e}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8128820,"value":"#<JSON::Ext::Generator::State:0x00007fdc0698bf68>"}},{"id":1492737,"event":"return","thread_id":9160,"parent_id":1492736,"elapsed":1.899499329738319e-05,"elapsed_instrumentation":0.00021104398183524609,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522214365478,111360522214365469],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8128840}},{"id":1492738,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8128860,"value":"#<JSON::Ext::Parser:0x00007fdc06989128>"}},{"id":1492739,"event":"return","thread_id":9160,"parent_id":1492738,"elapsed":1.883300137706101e-05,"elapsed_instrumentation":0.00044803900527767837,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365469], class=>UnmergeWorker, jid=>0817ad250a6ad08b8783ab8a, created_at=>1699226719.885882, id=>c0a8d026e3a42a496e07ea7e}","object_id":8128880,"size":7}},{"id":1492740,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044428730957,"value":"111360522214365478","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044428730939,"value":"111360522214365469","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8128900,"value":"#<UnmergeWorker:0x00007fdc06984e70>"}},{"id":1492741,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8128900,"value":"#<UnmergeWorker:0x00007fdc06984e70>"}},{"id":1492742,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492743,"event":"return","thread_id":9160,"parent_id":1492742,"elapsed":0.00092004,"elapsed_instrumentation":9.626700193621218e-05},{"id":1492744,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492745,"event":"return","thread_id":9160,"parent_id":1492744,"elapsed":0.001148726,"elapsed_instrumentation":0.00036474299849942327},{"id":1492746,"event":"return","thread_id":9160,"parent_id":1492741,"elapsed":0.005810041009681299,"elapsed_instrumentation":0.00013376498827710748,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06feb2c8>","object_id":8128920}},{"id":1492747,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8128900,"value":"#<UnmergeWorker:0x00007fdc06984e70>"}},{"id":1492748,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8128940,"value":"#<Account:0x00007fdc06feb548>","kind":"req"},{"name":"into_account","class":"Account","object_id":8128920,"value":"#<Account:0x00007fdc06feb2c8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492749,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044428730939,"value":"111360522214365469","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492750,"event":"return","thread_id":9160,"parent_id":1492749,"elapsed":5.6670105550438166e-06,"elapsed_instrumentation":0.00011266200453974307,"return_value":{"class":"String","value":"feed:home:111360522214365469","object_id":8128960}},{"id":1492751,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492752,"event":"return","thread_id":9160,"parent_id":1492751,"elapsed":1.567899016663432e-05,"elapsed_instrumentation":0.00019272902864031494,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1492753,"event":"return","thread_id":9160,"parent_id":1492748,"elapsed":0.004780218005180359,"elapsed_instrumentation":0.00011796201579272747},{"id":1492754,"event":"return","thread_id":9160,"parent_id":1492747,"elapsed":0.004932425974402577,"elapsed_instrumentation":0.00010553098400123417},{"id":1492755,"event":"return","thread_id":9160,"parent_id":1492740,"elapsed":0.011036374024115503,"elapsed_instrumentation":0.00012099798186682165},{"id":1492756,"event":"return","thread_id":9160,"parent_id":1492727,"elapsed":0.012952038989169523,"elapsed_instrumentation":0.00017157997353933752,"return_value":{"class":"String","value":"0817ad250a6ad08b8783ab8a","object_id":8128640}},{"id":1492757,"event":"return","thread_id":9160,"parent_id":1492672,"elapsed":0.04401178000262007,"elapsed_instrumentation":0.00019774501561187208,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06fef288>","object_id":8128480}},{"id":1492758,"event":"return","thread_id":9160,"parent_id":1492671,"elapsed":0.044239999988349155,"elapsed_instrumentation":0.00013814005069434643,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06fef288>","object_id":8128480}},{"id":1492759,"event":"return","thread_id":9160,"parent_id":1492670,"elapsed":0.04442760901292786,"elapsed_instrumentation":0.0002143679594155401,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06fef288>","object_id":8128480}},{"id":1492760,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8128980,"value":"relationship:111360522214365470:111360522214365478","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8129000,"value":"#<UnfollowService:0x00007fdc09019158>"}},{"id":1492761,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8129000,"value":"#<UnfollowService:0x00007fdc09019158>"}},{"id":1492762,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8129020,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8129040,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492763,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492764,"event":"return","thread_id":9160,"parent_id":1492763,"elapsed":3.217981429770589e-06,"elapsed_instrumentation":7.807600195519626e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1492765,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8129060,"value":"_q___\u001dEhE__w_s.\u0011"}},{"id":1492766,"event":"return","thread_id":9160,"parent_id":1492765,"elapsed":6.8280205596238375e-06,"elapsed_instrumentation":0.0001446529640816152,"return_value":{"class":"Array","value":"[2641461701, 41245, 17768, 17817, 51575, 3463654929]","object_id":8129080,"size":6}},{"id":1492767,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492768,"event":"return","thread_id":9160,"parent_id":1492767,"elapsed":0.000736326,"elapsed_instrumentation":9.174100705422461e-05},{"id":1492769,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8129100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492770,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492771,"event":"return","thread_id":9160,"parent_id":1492770,"elapsed":0.001059835,"elapsed_instrumentation":9.935398702509701e-05},{"id":1492772,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492773,"event":"return","thread_id":9160,"parent_id":1492772,"elapsed":0.000951261,"elapsed_instrumentation":0.00012221001088619232},{"id":1492774,"event":"return","thread_id":9160,"parent_id":1492769,"elapsed":0.004283607006072998,"elapsed_instrumentation":0.0002049060130957514,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1492775,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1492776,"event":"return","thread_id":9160,"parent_id":1492775,"elapsed":0.001225124,"elapsed_instrumentation":8.498999522998929e-05},{"id":1492777,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8129100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492778,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1492779,"event":"return","thread_id":9160,"parent_id":1492778,"elapsed":0.000759947,"elapsed_instrumentation":0.00010975799523293972},{"id":1492780,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492781,"event":"return","thread_id":9160,"parent_id":1492780,"elapsed":0.000943585,"elapsed_instrumentation":7.815597928129137e-05},{"id":1492782,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8129120,"value":"#<Account:0x00007fdc06fea788>"}},{"id":1492783,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8129120,"value":"#<Account:0x00007fdc06fea788>"}},{"id":1492784,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522214365470, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492785,"event":"return","thread_id":9160,"parent_id":1492784,"elapsed":0.001228878,"elapsed_instrumentation":0.00010371001553721726},{"id":1492786,"event":"return","thread_id":9160,"parent_id":1492783,"elapsed":0.0019030830007977784,"elapsed_instrumentation":0.00014302501222118735},{"id":1492787,"event":"return","thread_id":9160,"parent_id":1492782,"elapsed":0.0020833309972658753,"elapsed_instrumentation":0.00018067198107019067},{"id":1492788,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492789,"event":"return","thread_id":9160,"parent_id":1492788,"elapsed":0.001141609,"elapsed_instrumentation":9.674899047240615e-05},{"id":1492790,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8129140,"value":"#<Account:0x00007fdc06fe9388>"}},{"id":1492791,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8129140,"value":"#<Account:0x00007fdc06fe9388>"}},{"id":1492792,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522214365478, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492793,"event":"return","thread_id":9160,"parent_id":1492792,"elapsed":0.001641959,"elapsed_instrumentation":0.00013738797861151397},{"id":1492794,"event":"return","thread_id":9160,"parent_id":1492791,"elapsed":0.0024699830100871623,"elapsed_instrumentation":0.00018837000243365765},{"id":1492795,"event":"return","thread_id":9160,"parent_id":1492790,"elapsed":0.0028632530011236668,"elapsed_instrumentation":0.0001503520179539919},{"id":1492796,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8129120,"value":"#<Account:0x00007fdc06fea788>"}},{"id":1492797,"event":"return","thread_id":9160,"parent_id":1492796,"elapsed":2.8389011276885867e-05,"elapsed_instrumentation":0.00016402197070419788,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492798,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8129140,"value":"#<Account:0x00007fdc06fe9388>"}},{"id":1492799,"event":"return","thread_id":9160,"parent_id":1492798,"elapsed":1.2610980775207281e-05,"elapsed_instrumentation":0.0001392390113323927,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492800,"event":"return","thread_id":9160,"parent_id":1492777,"elapsed":0.015104109013918787,"elapsed_instrumentation":0.00020742998458445072,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1492801,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492802,"event":"return","thread_id":9160,"parent_id":1492801,"elapsed":0.001001082,"elapsed_instrumentation":0.0001199349935632199},{"id":1492803,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8129180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492804,"event":"return","thread_id":9160,"parent_id":1492803,"elapsed":3.736000508069992e-06,"elapsed_instrumentation":0.00017596498946659267,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1492805,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8129180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492806,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8129200,"value":"Cache delete: relationship:111360522214365470:111360522214365478\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492807,"event":"return","thread_id":9160,"parent_id":1492806,"elapsed":0.0012468299828469753,"elapsed_instrumentation":0.00015674604219384491,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492808,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8129220,"value":"Cache delete: relationship:111360522214365478:111360522214365470\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492809,"event":"return","thread_id":9160,"parent_id":1492808,"elapsed":0.001274084992473945,"elapsed_instrumentation":0.00015899102436378598,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492810,"event":"return","thread_id":9160,"parent_id":1492805,"elapsed":0.0031988699920475483,"elapsed_instrumentation":0.0001645050069782883,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1492811,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1492812,"event":"return","thread_id":9160,"parent_id":1492811,"elapsed":8.775008609518409e-06,"elapsed_instrumentation":0.00013203296111896634,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492813,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1492814,"event":"return","thread_id":9160,"parent_id":1492813,"elapsed":4.098983481526375e-06,"elapsed_instrumentation":6.852499791420996e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492815,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8129240,"value":"#<Account:0x00007fdc06f43488>"}},{"id":1492816,"event":"return","thread_id":9160,"parent_id":1492815,"elapsed":1.0343006579205394e-05,"elapsed_instrumentation":6.394303636625409e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492817,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8129260,"value":"{args=>[111360522214365478, 111360522214365470], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8129280,"value":"#<Sidekiq::Client:0x00007fdc06af9990>"}},{"id":1492818,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8129300,"value":"!6_\u00020____h_?"}},{"id":1492819,"event":"return","thread_id":9160,"parent_id":1492818,"elapsed":4.945002729073167e-06,"elapsed_instrumentation":0.00013160298112779856,"return_value":{"class":"String","value":"2136a80230b6ab8ec168a43f","object_id":8129320}},{"id":1492820,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8129340,"value":"[111360522214365478, 111360522214365470]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8129360,"value":"#<JSON::Ext::Generator::State:0x00007fdc06af7460>"}},{"id":1492821,"event":"return","thread_id":9160,"parent_id":1492820,"elapsed":8.858012733981013e-06,"elapsed_instrumentation":0.00022828797227703035,"return_value":{"class":"String","value":"[111360522214365478,111360522214365470]","object_id":8129380}},{"id":1492822,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8129400,"value":"#<JSON::Ext::Parser:0x00007fdc06af64e8>"}},{"id":1492823,"event":"return","thread_id":9160,"parent_id":1492822,"elapsed":5.943991709500551e-06,"elapsed_instrumentation":9.766899165697396e-05,"return_value":{"class":"Array","value":"[111360522214365478, 111360522214365470]","object_id":8129420,"size":2}},{"id":1492824,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8129440,"value":"_v5z_)M#1iU_"}},{"id":1492825,"event":"return","thread_id":9160,"parent_id":1492824,"elapsed":3.994005965068936e-06,"elapsed_instrumentation":0.0001391360128764063,"return_value":{"class":"String","value":"ef76357a90294d2331695584","object_id":8129460}},{"id":1492826,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8129480,"value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365470], class=>UnmergeWorker, jid=>2136a80230b6ab8ec168a43f, created_at=>1699226719.931947, id=>ef76357a90294d2331695584}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8129500,"value":"#<JSON::Ext::Generator::State:0x00007fdc06af4760>"}},{"id":1492827,"event":"return","thread_id":9160,"parent_id":1492826,"elapsed":1.8476013792678714e-05,"elapsed_instrumentation":0.0005133159866090864,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522214365478,111360522214365470],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8129520}},{"id":1492828,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8129540,"value":"#<JSON::Ext::Parser:0x00007fdc06af1920>"}},{"id":1492829,"event":"return","thread_id":9160,"parent_id":1492828,"elapsed":2.1593004930764437e-05,"elapsed_instrumentation":0.00019475596491247416,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365470], class=>UnmergeWorker, jid=>2136a80230b6ab8ec168a43f, created_at=>1699226719.931947, id=>ef76357a90294d2331695584}","object_id":8129560,"size":7}},{"id":1492830,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044428730957,"value":"111360522214365478","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044428730941,"value":"111360522214365470","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8129580,"value":"#<UnmergeWorker:0x00007fdc06b4bb28>"}},{"id":1492831,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8129580,"value":"#<UnmergeWorker:0x00007fdc06b4bb28>"}},{"id":1492832,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492833,"event":"return","thread_id":9160,"parent_id":1492832,"elapsed":0.000891687,"elapsed_instrumentation":0.000143145996844396},{"id":1492834,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492835,"event":"return","thread_id":9160,"parent_id":1492834,"elapsed":0.000823075,"elapsed_instrumentation":0.0001307800121139735},{"id":1492836,"event":"return","thread_id":9160,"parent_id":1492831,"elapsed":0.0049692960164975375,"elapsed_instrumentation":0.00016090701683424413,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06fe7808>","object_id":8129600}},{"id":1492837,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8129580,"value":"#<UnmergeWorker:0x00007fdc06b4bb28>"}},{"id":1492838,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8129620,"value":"#<Account:0x00007fdc06fe7948>","kind":"req"},{"name":"into_account","class":"Account","object_id":8129600,"value":"#<Account:0x00007fdc06fe7808>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492839,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044428730941,"value":"111360522214365470","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492840,"event":"return","thread_id":9160,"parent_id":1492839,"elapsed":4.8756017349660397e-05,"elapsed_instrumentation":0.00036454200744628906,"return_value":{"class":"String","value":"feed:home:111360522214365470","object_id":8129640}},{"id":1492841,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492842,"event":"return","thread_id":9160,"parent_id":1492841,"elapsed":1.0482996003702283e-05,"elapsed_instrumentation":0.0002060410042759031,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1492843,"event":"return","thread_id":9160,"parent_id":1492838,"elapsed":0.005222865001996979,"elapsed_instrumentation":0.00021952399401925504},{"id":1492844,"event":"return","thread_id":9160,"parent_id":1492837,"elapsed":0.005503875989234075,"elapsed_instrumentation":0.0003728250158019364},{"id":1492845,"event":"return","thread_id":9160,"parent_id":1492830,"elapsed":0.0110798760142643,"elapsed_instrumentation":9.35340067371726e-05},{"id":1492846,"event":"return","thread_id":9160,"parent_id":1492817,"elapsed":0.013113622000673786,"elapsed_instrumentation":0.0001780760067049414,"return_value":{"class":"String","value":"2136a80230b6ab8ec168a43f","object_id":8129320}},{"id":1492847,"event":"return","thread_id":9160,"parent_id":1492762,"elapsed":0.04514440198545344,"elapsed_instrumentation":0.0002511999919079244,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06feb048>","object_id":8129160}},{"id":1492848,"event":"return","thread_id":9160,"parent_id":1492761,"elapsed":0.04542235398548655,"elapsed_instrumentation":0.0001310800143983215,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06feb048>","object_id":8129160}},{"id":1492849,"event":"return","thread_id":9160,"parent_id":1492760,"elapsed":0.04560698400018737,"elapsed_instrumentation":0.00014141498832032084,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06feb048>","object_id":8129160}},{"id":1492850,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8129660,"value":"relationship:111360522214365471:111360522214365478","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8129680,"value":"#<UnfollowService:0x00007fdc0903fab0>"}},{"id":1492851,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8129680,"value":"#<UnfollowService:0x00007fdc0903fab0>"}},{"id":1492852,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8129700,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8129720,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492853,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492854,"event":"return","thread_id":9160,"parent_id":1492853,"elapsed":3.2530224416404963e-06,"elapsed_instrumentation":7.788700168021023e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1492855,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8129740,"value":"\u0003__\u0005_8__\f\u0006__<i_1"}},{"id":1492856,"event":"return","thread_id":9160,"parent_id":1492855,"elapsed":8.217000868171453e-06,"elapsed_instrumentation":0.0003628389968071133,"return_value":{"class":"Array","value":"[65451781, 38200, 45267, 3078, 35826, 1013552945]","object_id":8129760,"size":6}},{"id":1492857,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492858,"event":"return","thread_id":9160,"parent_id":1492857,"elapsed":0.001042238,"elapsed_instrumentation":0.00010115400073118508},{"id":1492859,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8129780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492860,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492861,"event":"return","thread_id":9160,"parent_id":1492860,"elapsed":0.000755894,"elapsed_instrumentation":0.00011634398833848536},{"id":1492862,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492863,"event":"return","thread_id":9160,"parent_id":1492862,"elapsed":0.000787183,"elapsed_instrumentation":7.34659843146801e-05},{"id":1492864,"event":"return","thread_id":9160,"parent_id":1492859,"elapsed":0.0039056940004229546,"elapsed_instrumentation":0.00020379197667352855,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1492865,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1492866,"event":"return","thread_id":9160,"parent_id":1492865,"elapsed":0.001167287,"elapsed_instrumentation":0.00015514797996729612},{"id":1492867,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8129780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492868,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1492869,"event":"return","thread_id":9160,"parent_id":1492868,"elapsed":0.001118269,"elapsed_instrumentation":9.399300324730575e-05},{"id":1492870,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492871,"event":"return","thread_id":9160,"parent_id":1492870,"elapsed":0.001278334,"elapsed_instrumentation":8.801199146546423e-05},{"id":1492872,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8129800,"value":"#<Account:0x00007fdc06fe67c8>"}},{"id":1492873,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8129800,"value":"#<Account:0x00007fdc06fe67c8>"}},{"id":1492874,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522214365471, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492875,"event":"return","thread_id":9160,"parent_id":1492874,"elapsed":0.001553292,"elapsed_instrumentation":8.382598753087223e-05},{"id":1492876,"event":"return","thread_id":9160,"parent_id":1492873,"elapsed":0.002208182995673269,"elapsed_instrumentation":0.00014253199333325028},{"id":1492877,"event":"return","thread_id":9160,"parent_id":1492872,"elapsed":0.0023826760007068515,"elapsed_instrumentation":0.0001814860152080655},{"id":1492878,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492879,"event":"return","thread_id":9160,"parent_id":1492878,"elapsed":0.00062152,"elapsed_instrumentation":7.584100239910185e-05},{"id":1492880,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8129820,"value":"#<Account:0x00007fdc06fe5788>"}},{"id":1492881,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8129820,"value":"#<Account:0x00007fdc06fe5788>"}},{"id":1492882,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522214365478, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492883,"event":"return","thread_id":9160,"parent_id":1492882,"elapsed":0.000830152,"elapsed_instrumentation":0.00019146298291161656},{"id":1492884,"event":"return","thread_id":9160,"parent_id":1492881,"elapsed":0.0015016580000519753,"elapsed_instrumentation":0.00012696001795120537},{"id":1492885,"event":"return","thread_id":9160,"parent_id":1492880,"elapsed":0.001657234999584034,"elapsed_instrumentation":0.000320633000228554},{"id":1492886,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8129800,"value":"#<Account:0x00007fdc06fe67c8>"}},{"id":1492887,"event":"return","thread_id":9160,"parent_id":1492886,"elapsed":1.644200528971851e-05,"elapsed_instrumentation":0.0002703299978747964,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492888,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8129820,"value":"#<Account:0x00007fdc06fe5788>"}},{"id":1492889,"event":"return","thread_id":9160,"parent_id":1492888,"elapsed":8.7970111053437e-06,"elapsed_instrumentation":8.814196917228401e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492890,"event":"return","thread_id":9160,"parent_id":1492867,"elapsed":0.015400749020045623,"elapsed_instrumentation":0.0001892389846034348,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1492891,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492892,"event":"return","thread_id":9160,"parent_id":1492891,"elapsed":0.000869369,"elapsed_instrumentation":7.369500235654414e-05},{"id":1492893,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8129860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492894,"event":"return","thread_id":9160,"parent_id":1492893,"elapsed":3.43698775395751e-06,"elapsed_instrumentation":0.00013146302080713212,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1492895,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8129860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492896,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8129880,"value":"Cache delete: relationship:111360522214365471:111360522214365478\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492897,"event":"return","thread_id":9160,"parent_id":1492896,"elapsed":0.0009163810173049569,"elapsed_instrumentation":0.0001590109895914793,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492898,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8129900,"value":"Cache delete: relationship:111360522214365478:111360522214365471\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492899,"event":"return","thread_id":9160,"parent_id":1492898,"elapsed":0.0013387800136115402,"elapsed_instrumentation":0.00032904298859648407,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492900,"event":"return","thread_id":9160,"parent_id":1492895,"elapsed":0.003318540984764695,"elapsed_instrumentation":0.00014537997776642442,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1492901,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1492902,"event":"return","thread_id":9160,"parent_id":1492901,"elapsed":9.418989066034555e-06,"elapsed_instrumentation":0.00010908002150245011,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492903,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1492904,"event":"return","thread_id":9160,"parent_id":1492903,"elapsed":4.363013431429863e-06,"elapsed_instrumentation":6.986400694586337e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492905,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8129920,"value":"#<Account:0x00007fdc06f43348>"}},{"id":1492906,"event":"return","thread_id":9160,"parent_id":1492905,"elapsed":1.0263000149279833e-05,"elapsed_instrumentation":6.407700129784644e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492907,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8129940,"value":"{args=>[111360522214365478, 111360522214365471], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8129960,"value":"#<Sidekiq::Client:0x00007fdc06cf9b28>"}},{"id":1492908,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8129980,"value":"\u0019__a__B\f\u0011\n\\_"}},{"id":1492909,"event":"return","thread_id":9160,"parent_id":1492908,"elapsed":7.131980964913964e-06,"elapsed_instrumentation":0.00021036600810475647,"return_value":{"class":"String","value":"19c1b6619bf2420c110a5cc0","object_id":8130000}},{"id":1492910,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8130020,"value":"[111360522214365478, 111360522214365471]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8130040,"value":"#<JSON::Ext::Generator::State:0x00007fdc06cf2300>"}},{"id":1492911,"event":"return","thread_id":9160,"parent_id":1492910,"elapsed":6.830989150330424e-06,"elapsed_instrumentation":0.00014604802709072828,"return_value":{"class":"String","value":"[111360522214365478,111360522214365471]","object_id":8130060}},{"id":1492912,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8130080,"value":"#<JSON::Ext::Parser:0x00007fdc06d3e160>"}},{"id":1492913,"event":"return","thread_id":9160,"parent_id":1492912,"elapsed":5.820009391754866e-06,"elapsed_instrumentation":8.338101906701922e-05,"return_value":{"class":"Array","value":"[111360522214365478, 111360522214365471]","object_id":8130100,"size":2}},{"id":1492914,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8130120,"value":"___|_Q_A____"}},{"id":1492915,"event":"return","thread_id":9160,"parent_id":1492914,"elapsed":3.730994649231434e-06,"elapsed_instrumentation":0.00010611800826154649,"return_value":{"class":"String","value":"d4ecf27cf3519a4180bdf6c0","object_id":8130140}},{"id":1492916,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8130160,"value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365471], class=>UnmergeWorker, jid=>19c1b6619bf2420c110a5cc0, created_at=>1699226719.9781375, id=>d4ecf27cf3519a4180bdf6c0}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8130180,"value":"#<JSON::Ext::Generator::State:0x00007fdc06d38440>"}},{"id":1492917,"event":"return","thread_id":9160,"parent_id":1492916,"elapsed":1.5208992408588529e-05,"elapsed_instrumentation":0.00019686802988871932,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522214365478,111360522214365471],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8130200}},{"id":1492918,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8130220,"value":"#<JSON::Ext::Parser:0x00007fdc06d6a968>"}},{"id":1492919,"event":"return","thread_id":9160,"parent_id":1492918,"elapsed":2.2761989384889603e-05,"elapsed_instrumentation":0.00047575001372024417,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365471], class=>UnmergeWorker, jid=>19c1b6619bf2420c110a5cc0, created_at=>1699226719.9781375, id=>d4ecf27cf3519a4180bdf6c0}","object_id":8130240,"size":7}},{"id":1492920,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044428730957,"value":"111360522214365478","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044428730943,"value":"111360522214365471","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8130260,"value":"#<UnmergeWorker:0x00007fdc06d680c8>"}},{"id":1492921,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8130260,"value":"#<UnmergeWorker:0x00007fdc06d680c8>"}},{"id":1492922,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492923,"event":"return","thread_id":9160,"parent_id":1492922,"elapsed":0.000841604,"elapsed_instrumentation":8.339999476447701e-05},{"id":1492924,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492925,"event":"return","thread_id":9160,"parent_id":1492924,"elapsed":0.000836313,"elapsed_instrumentation":8.419700316153467e-05},{"id":1492926,"event":"return","thread_id":9160,"parent_id":1492921,"elapsed":0.004593618999933824,"elapsed_instrumentation":0.00016367901116609573,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06fe30c8>","object_id":8130280}},{"id":1492927,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8130260,"value":"#<UnmergeWorker:0x00007fdc06d680c8>"}},{"id":1492928,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8130300,"value":"#<Account:0x00007fdc06fe3208>","kind":"req"},{"name":"into_account","class":"Account","object_id":8130280,"value":"#<Account:0x00007fdc06fe30c8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492929,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044428730943,"value":"111360522214365471","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492930,"event":"return","thread_id":9160,"parent_id":1492929,"elapsed":6.009999196976423e-06,"elapsed_instrumentation":0.00012981100007891655,"return_value":{"class":"String","value":"feed:home:111360522214365471","object_id":8130320}},{"id":1492931,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492932,"event":"return","thread_id":9160,"parent_id":1492931,"elapsed":7.304013706743717e-06,"elapsed_instrumentation":0.00010306801414117217,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1492933,"event":"return","thread_id":9160,"parent_id":1492928,"elapsed":0.005452634009998292,"elapsed_instrumentation":0.00016038399189710617},{"id":1492934,"event":"return","thread_id":9160,"parent_id":1492927,"elapsed":0.0056700459972489625,"elapsed_instrumentation":0.00011111001367680728},{"id":1492935,"event":"return","thread_id":9160,"parent_id":1492920,"elapsed":0.010608009994029999,"elapsed_instrumentation":9.553501149639487e-05},{"id":1492936,"event":"return","thread_id":9160,"parent_id":1492907,"elapsed":0.012337397987721488,"elapsed_instrumentation":0.00020395699539221823,"return_value":{"class":"String","value":"19c1b6619bf2420c110a5cc0","object_id":8130000}},{"id":1492937,"event":"return","thread_id":9160,"parent_id":1492852,"elapsed":0.044529507984407246,"elapsed_instrumentation":0.000215450010728091,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06fe7588>","object_id":8129840}},{"id":1492938,"event":"return","thread_id":9160,"parent_id":1492851,"elapsed":0.04478152099181898,"elapsed_instrumentation":0.00023767698439769447,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06fe7588>","object_id":8129840}},{"id":1492939,"event":"return","thread_id":9160,"parent_id":1492850,"elapsed":0.04538227501325309,"elapsed_instrumentation":0.00018265401013195515,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06fe7588>","object_id":8129840}},{"id":1492940,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8130340,"value":"relationship:111360522214365472:111360522214365478","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8130360,"value":"#<UnfollowService:0x00007fdc0905ed98>"}},{"id":1492941,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8130360,"value":"#<UnfollowService:0x00007fdc0905ed98>"}},{"id":1492942,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8130380,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8130400,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492943,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492944,"event":"return","thread_id":9160,"parent_id":1492943,"elapsed":4.014989826828241e-06,"elapsed_instrumentation":0.00012179699842818081,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1492945,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8130420,"value":"____\\_S\u0007ssU____Z"}},{"id":1492946,"event":"return","thread_id":9160,"parent_id":1492945,"elapsed":1.0723015293478966e-05,"elapsed_instrumentation":0.0002610979718156159,"return_value":{"class":"Array","value":"[4141780974, 23682, 21255, 29555, 21960, 4240028506]","object_id":8130440,"size":6}},{"id":1492947,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492948,"event":"return","thread_id":9160,"parent_id":1492947,"elapsed":0.000713178,"elapsed_instrumentation":0.0001293219975195825},{"id":1492949,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8130460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492950,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492951,"event":"return","thread_id":9160,"parent_id":1492950,"elapsed":0.000639097,"elapsed_instrumentation":8.908001473173499e-05},{"id":1492952,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492953,"event":"return","thread_id":9160,"parent_id":1492952,"elapsed":0.000515722,"elapsed_instrumentation":0.00010038600885309279},{"id":1492954,"event":"return","thread_id":9160,"parent_id":1492949,"elapsed":0.003211605013348162,"elapsed_instrumentation":0.000506109994603321,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1492955,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1492956,"event":"return","thread_id":9160,"parent_id":1492955,"elapsed":0.00087976,"elapsed_instrumentation":7.658201502636075e-05},{"id":1492957,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8130460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492958,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1492959,"event":"return","thread_id":9160,"parent_id":1492958,"elapsed":0.000823906,"elapsed_instrumentation":7.922100485302508e-05},{"id":1492960,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492961,"event":"return","thread_id":9160,"parent_id":1492960,"elapsed":0.000621156,"elapsed_instrumentation":7.55299988668412e-05},{"id":1492962,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8130480,"value":"#<Account:0x00007fdc06fe2588>"}},{"id":1492963,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8130480,"value":"#<Account:0x00007fdc06fe2588>"}},{"id":1492964,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522214365472, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492965,"event":"return","thread_id":9160,"parent_id":1492964,"elapsed":0.001136224,"elapsed_instrumentation":9.800499537959695e-05},{"id":1492966,"event":"return","thread_id":9160,"parent_id":1492963,"elapsed":0.0017698169976938516,"elapsed_instrumentation":0.00010362800094299018},{"id":1492967,"event":"return","thread_id":9160,"parent_id":1492962,"elapsed":0.001902907999465242,"elapsed_instrumentation":0.00014781602658331394},{"id":1492968,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492969,"event":"return","thread_id":9160,"parent_id":1492968,"elapsed":0.000924227,"elapsed_instrumentation":0.00010110298171639442},{"id":1492970,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8130500,"value":"#<Account:0x00007fdc06fe1548>"}},{"id":1492971,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8130500,"value":"#<Account:0x00007fdc06fe1548>"}},{"id":1492972,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522214365478, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492973,"event":"return","thread_id":9160,"parent_id":1492972,"elapsed":0.001085183,"elapsed_instrumentation":9.567299275659025e-05},{"id":1492974,"event":"return","thread_id":9160,"parent_id":1492971,"elapsed":0.0019366710039321333,"elapsed_instrumentation":0.00015177298337221146},{"id":1492975,"event":"return","thread_id":9160,"parent_id":1492970,"elapsed":0.0021306730050127953,"elapsed_instrumentation":0.00029094802448526025},{"id":1492976,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8130480,"value":"#<Account:0x00007fdc06fe2588>"}},{"id":1492977,"event":"return","thread_id":9160,"parent_id":1492976,"elapsed":1.5511992387473583e-05,"elapsed_instrumentation":0.00014983501750975847,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492978,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8130500,"value":"#<Account:0x00007fdc06fe1548>"}},{"id":1492979,"event":"return","thread_id":9160,"parent_id":1492978,"elapsed":8.983974112197757e-06,"elapsed_instrumentation":9.87300300039351e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492980,"event":"return","thread_id":9160,"parent_id":1492957,"elapsed":0.013225033006165177,"elapsed_instrumentation":0.00019108495325781405,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1492981,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492982,"event":"return","thread_id":9160,"parent_id":1492981,"elapsed":0.000506249,"elapsed_instrumentation":8.022700785659254e-05},{"id":1492983,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8130540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492984,"event":"return","thread_id":9160,"parent_id":1492983,"elapsed":3.935972927138209e-06,"elapsed_instrumentation":0.00012229397543706,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1492985,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8130540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492986,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8130560,"value":"Cache delete: relationship:111360522214365472:111360522214365478\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492987,"event":"return","thread_id":9160,"parent_id":1492986,"elapsed":0.001798286015400663,"elapsed_instrumentation":0.00014359899796545506,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492988,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8130580,"value":"Cache delete: relationship:111360522214365478:111360522214365472\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492989,"event":"return","thread_id":9160,"parent_id":1492988,"elapsed":0.0022543790109921247,"elapsed_instrumentation":0.0001518439967185259,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492990,"event":"return","thread_id":9160,"parent_id":1492985,"elapsed":0.004734883987111971,"elapsed_instrumentation":0.00011530701885931194,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1492991,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1492992,"event":"return","thread_id":9160,"parent_id":1492991,"elapsed":8.749979315325618e-06,"elapsed_instrumentation":9.283202234655619e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492993,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1492994,"event":"return","thread_id":9160,"parent_id":1492993,"elapsed":4.422996426001191e-06,"elapsed_instrumentation":6.556199514307082e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492995,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8130600,"value":"#<Account:0x00007fdc06f43208>"}},{"id":1492996,"event":"return","thread_id":9160,"parent_id":1492995,"elapsed":8.003099355846643e-05,"elapsed_instrumentation":7.889600237831473e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492997,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8130620,"value":"{args=>[111360522214365478, 111360522214365472], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8130640,"value":"#<Sidekiq::Client:0x00007fdc06e80028>"}},{"id":1492998,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8130660,"value":"_M(6z|____}\\"}},{"id":1492999,"event":"return","thread_id":9160,"parent_id":1492998,"elapsed":7.577007636427879e-06,"elapsed_instrumentation":0.00019799298024736345,"return_value":{"class":"String","value":"f54d28367a7cd2bbf9877d5c","object_id":8130680}},{"id":1493000,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8130700,"value":"[111360522214365478, 111360522214365472]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8130720,"value":"#<JSON::Ext::Generator::State:0x00007fdc06f1e6d8>"}},{"id":1493001,"event":"return","thread_id":9160,"parent_id":1493000,"elapsed":9.1110123321414e-06,"elapsed_instrumentation":0.00026943100965581834,"return_value":{"class":"String","value":"[111360522214365478,111360522214365472]","object_id":8130740}},{"id":1493002,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8130760,"value":"#<JSON::Ext::Parser:0x00007fdc06f1cce8>"}},{"id":1493003,"event":"return","thread_id":9160,"parent_id":1493002,"elapsed":6.575981387868524e-06,"elapsed_instrumentation":9.598201722837985e-05,"return_value":{"class":"Array","value":"[111360522214365478, 111360522214365472]","object_id":8130780,"size":2}},{"id":1493004,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8130800,"value":"__<n__\u0001__1__"}},{"id":1493005,"event":"return","thread_id":9160,"parent_id":1493004,"elapsed":4.130997695028782e-06,"elapsed_instrumentation":0.00010349700460210443,"return_value":{"class":"String","value":"ae923c6e80f801e8ba319c84","object_id":8130820}},{"id":1493006,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8130840,"value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365472], class=>UnmergeWorker, jid=>f54d28367a7cd2bbf9877d5c, created_at=>1699226720.021786, id=>ae923c6e80f801e8ba319c84}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8130860,"value":"#<JSON::Ext::Generator::State:0x00007fdc06f177c0>"}},{"id":1493007,"event":"return","thread_id":9160,"parent_id":1493006,"elapsed":1.4088989701122046e-05,"elapsed_instrumentation":0.00019524001982063055,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522214365478,111360522214365472],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8130880}},{"id":1493008,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8130900,"value":"#<JSON::Ext::Parser:0x00007fdc06f111e0>"}},{"id":1493009,"event":"return","thread_id":9160,"parent_id":1493008,"elapsed":1.9632017938420177e-05,"elapsed_instrumentation":0.0001681300054769963,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365472], class=>UnmergeWorker, jid=>f54d28367a7cd2bbf9877d5c, created_at=>1699226720.021786, id=>ae923c6e80f801e8ba319c84}","object_id":8130920,"size":7}},{"id":1493010,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044428730957,"value":"111360522214365478","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044428730945,"value":"111360522214365472","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8130940,"value":"#<UnmergeWorker:0x00007fdc06f6c8b0>"}},{"id":1493011,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8130940,"value":"#<UnmergeWorker:0x00007fdc06f6c8b0>"}},{"id":1493012,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493013,"event":"return","thread_id":9160,"parent_id":1493012,"elapsed":0.001045413,"elapsed_instrumentation":0.00017150398343801498},{"id":1493014,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493015,"event":"return","thread_id":9160,"parent_id":1493014,"elapsed":0.000644444,"elapsed_instrumentation":9.048200445249677e-05},{"id":1493016,"event":"return","thread_id":9160,"parent_id":1493011,"elapsed":0.004663047002395615,"elapsed_instrumentation":0.0002689319953788072,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0712ed88>","object_id":8130960}},{"id":1493017,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8130940,"value":"#<UnmergeWorker:0x00007fdc06f6c8b0>"}},{"id":1493018,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8130980,"value":"#<Account:0x00007fdc0712eec8>","kind":"req"},{"name":"into_account","class":"Account","object_id":8130960,"value":"#<Account:0x00007fdc0712ed88>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493019,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044428730945,"value":"111360522214365472","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493020,"event":"return","thread_id":9160,"parent_id":1493019,"elapsed":5.559006240218878e-06,"elapsed_instrumentation":0.00010989798465743661,"return_value":{"class":"String","value":"feed:home:111360522214365472","object_id":8131000}},{"id":1493021,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493022,"event":"return","thread_id":9160,"parent_id":1493021,"elapsed":6.179994670674205e-06,"elapsed_instrumentation":7.722602458670735e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1493023,"event":"return","thread_id":9160,"parent_id":1493018,"elapsed":0.003838706004898995,"elapsed_instrumentation":0.00011059199459850788},{"id":1493024,"event":"return","thread_id":9160,"parent_id":1493017,"elapsed":0.003984203009167686,"elapsed_instrumentation":0.00011511801858432591},{"id":1493025,"event":"return","thread_id":9160,"parent_id":1493010,"elapsed":0.009091660002013668,"elapsed_instrumentation":0.0002145429898519069},{"id":1493026,"event":"return","thread_id":9160,"parent_id":1492997,"elapsed":0.010767729982035235,"elapsed_instrumentation":0.00019324201275594532,"return_value":{"class":"String","value":"f54d28367a7cd2bbf9877d5c","object_id":8130680}},{"id":1493027,"event":"return","thread_id":9160,"parent_id":1492942,"elapsed":0.04063160499208607,"elapsed_instrumentation":0.00030141198658384383,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06fe2e48>","object_id":8130520}},{"id":1493028,"event":"return","thread_id":9160,"parent_id":1492941,"elapsed":0.04096980800386518,"elapsed_instrumentation":0.00016303104348480701,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06fe2e48>","object_id":8130520}},{"id":1493029,"event":"return","thread_id":9160,"parent_id":1492940,"elapsed":0.041183956986060366,"elapsed_instrumentation":0.00021697403280995786,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06fe2e48>","object_id":8130520}},{"id":1493030,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8131020,"value":"relationship:111360522214365473:111360522214365478","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8131040,"value":"#<UnfollowService:0x00007fdc09050428>"}},{"id":1493031,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8131040,"value":"#<UnfollowService:0x00007fdc09050428>"}},{"id":1493032,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8131060,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8131080,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493033,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493034,"event":"return","thread_id":9160,"parent_id":1493033,"elapsed":3.435008693486452e-06,"elapsed_instrumentation":7.416002335958183e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1493035,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8131100,"value":"__\u0006%___S__z_\u0014__\u0016"}},{"id":1493036,"event":"return","thread_id":9160,"parent_id":1493035,"elapsed":7.11999018676579e-06,"elapsed_instrumentation":0.00014184502651914954,"return_value":{"class":"Array","value":"[2242577957, 34258, 56403, 41915, 31419, 350601750]","object_id":8131120,"size":6}},{"id":1493037,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493038,"event":"return","thread_id":9160,"parent_id":1493037,"elapsed":0.000528443,"elapsed_instrumentation":8.866298594512045e-05},{"id":1493039,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8131140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493040,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493041,"event":"return","thread_id":9160,"parent_id":1493040,"elapsed":0.000406416,"elapsed_instrumentation":7.985698175616562e-05},{"id":1493042,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493043,"event":"return","thread_id":9160,"parent_id":1493042,"elapsed":0.000768381,"elapsed_instrumentation":0.00011352798901498318},{"id":1493044,"event":"return","thread_id":9160,"parent_id":1493039,"elapsed":0.003418787004193291,"elapsed_instrumentation":0.00017998795374296606,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1493045,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1493046,"event":"return","thread_id":9160,"parent_id":1493045,"elapsed":0.000776588,"elapsed_instrumentation":0.00012292599421925843},{"id":1493047,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8131140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493048,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1493049,"event":"return","thread_id":9160,"parent_id":1493048,"elapsed":0.00124872,"elapsed_instrumentation":9.127598605118692e-05},{"id":1493050,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493051,"event":"return","thread_id":9160,"parent_id":1493050,"elapsed":0.000604664,"elapsed_instrumentation":8.518199319951236e-05},{"id":1493052,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8131160,"value":"#<Account:0x00007fdc0712dfc8>"}},{"id":1493053,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8131160,"value":"#<Account:0x00007fdc0712dfc8>"}},{"id":1493054,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522214365473, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493055,"event":"return","thread_id":9160,"parent_id":1493054,"elapsed":0.001086481,"elapsed_instrumentation":0.00010435999138280749},{"id":1493056,"event":"return","thread_id":9160,"parent_id":1493053,"elapsed":0.0018897920090239495,"elapsed_instrumentation":0.00015177499153651297},{"id":1493057,"event":"return","thread_id":9160,"parent_id":1493052,"elapsed":0.002089813002385199,"elapsed_instrumentation":0.0003037569986190647},{"id":1493058,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493059,"event":"return","thread_id":9160,"parent_id":1493058,"elapsed":0.000884841,"elapsed_instrumentation":0.00014394699246622622},{"id":1493060,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8131180,"value":"#<Account:0x00007fdc0712ce48>"}},{"id":1493061,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8131180,"value":"#<Account:0x00007fdc0712ce48>"}},{"id":1493062,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522214365478, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493063,"event":"return","thread_id":9160,"parent_id":1493062,"elapsed":0.00124719,"elapsed_instrumentation":9.862097795121372e-05},{"id":1493064,"event":"return","thread_id":9160,"parent_id":1493061,"elapsed":0.002064247993985191,"elapsed_instrumentation":0.0002124139864463359},{"id":1493065,"event":"return","thread_id":9160,"parent_id":1493060,"elapsed":0.002313779987161979,"elapsed_instrumentation":0.0004030850250273943},{"id":1493066,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8131160,"value":"#<Account:0x00007fdc0712dfc8>"}},{"id":1493067,"event":"return","thread_id":9160,"parent_id":1493066,"elapsed":1.9068975234404206e-05,"elapsed_instrumentation":0.00016882302588783205,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493068,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8131180,"value":"#<Account:0x00007fdc0712ce48>"}},{"id":1493069,"event":"return","thread_id":9160,"parent_id":1493068,"elapsed":1.1822005035355687e-05,"elapsed_instrumentation":0.00024978097644634545,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493070,"event":"return","thread_id":9160,"parent_id":1493047,"elapsed":0.014879877009661868,"elapsed_instrumentation":0.0005116689717397094,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1493071,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493072,"event":"return","thread_id":9160,"parent_id":1493071,"elapsed":0.000723979,"elapsed_instrumentation":9.652599692344666e-05},{"id":1493073,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8131220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493074,"event":"return","thread_id":9160,"parent_id":1493073,"elapsed":3.3669930417090654e-06,"elapsed_instrumentation":0.00014046402066014707,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1493075,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8131220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493076,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8131240,"value":"Cache delete: relationship:111360522214365473:111360522214365478\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493077,"event":"return","thread_id":9160,"parent_id":1493076,"elapsed":0.0193587509857025,"elapsed_instrumentation":0.0001791219983715564,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493078,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8131260,"value":"Cache delete: relationship:111360522214365478:111360522214365473\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493079,"event":"return","thread_id":9160,"parent_id":1493078,"elapsed":0.0016051319835241884,"elapsed_instrumentation":0.0002140010183211416,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493080,"event":"return","thread_id":9160,"parent_id":1493075,"elapsed":0.021771901985630393,"elapsed_instrumentation":0.00013167000724934042,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1493081,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1493082,"event":"return","thread_id":9160,"parent_id":1493081,"elapsed":1.1352996807545424e-05,"elapsed_instrumentation":0.00011113600339740515,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493083,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1493084,"event":"return","thread_id":9160,"parent_id":1493083,"elapsed":4.181987605988979e-06,"elapsed_instrumentation":6.569101242348552e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493085,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8131280,"value":"#<Account:0x00007fdc06f430c8>"}},{"id":1493086,"event":"return","thread_id":9160,"parent_id":1493085,"elapsed":1.3004988431930542e-05,"elapsed_instrumentation":6.351800402626395e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493087,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8131300,"value":"{args=>[111360522214365478, 111360522214365473], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8131320,"value":"#<Sidekiq::Client:0x00007fdc0707a158>"}},{"id":1493088,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8131340,"value":"\r_(\u0000_\u0017___\u0019#J"}},{"id":1493089,"event":"return","thread_id":9160,"parent_id":1493088,"elapsed":4.540022928267717e-06,"elapsed_instrumentation":0.00012215899187140167,"return_value":{"class":"String","value":"0dc02800cc178becc519234a","object_id":8131360}},{"id":1493090,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8131380,"value":"[111360522214365478, 111360522214365473]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8131400,"value":"#<JSON::Ext::Generator::State:0x00007fdc07076648>"}},{"id":1493091,"event":"return","thread_id":9160,"parent_id":1493090,"elapsed":6.490998202934861e-06,"elapsed_instrumentation":0.00010827399091795087,"return_value":{"class":"String","value":"[111360522214365478,111360522214365473]","object_id":8131420}},{"id":1493092,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8131440,"value":"#<JSON::Ext::Parser:0x00007fdc07074f50>"}},{"id":1493093,"event":"return","thread_id":9160,"parent_id":1493092,"elapsed":5.385023541748524e-06,"elapsed_instrumentation":8.114500087685883e-05,"return_value":{"class":"Array","value":"[111360522214365478, 111360522214365473]","object_id":8131460,"size":2}},{"id":1493094,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8131480,"value":"];u_\b[\u0004____\f"}},{"id":1493095,"event":"return","thread_id":9160,"parent_id":1493094,"elapsed":3.5209814086556435e-06,"elapsed_instrumentation":9.612401481717825e-05,"return_value":{"class":"String","value":"5d3b75dc085b048caad6df0c","object_id":8131500}},{"id":1493096,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8131520,"value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365473], class=>UnmergeWorker, jid=>0dc02800cc178becc519234a, created_at=>1699226720.0804908, id=>5d3b75dc085b048caad6df0c}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8131540,"value":"#<JSON::Ext::Generator::State:0x00007fdc07072048>"}},{"id":1493097,"event":"return","thread_id":9160,"parent_id":1493096,"elapsed":1.629398320801556e-05,"elapsed_instrumentation":0.0003110550169367343,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522214365478,111360522214365473],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8131560}},{"id":1493098,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8131580,"value":"#<JSON::Ext::Parser:0x00007fdc070aeb10>"}},{"id":1493099,"event":"return","thread_id":9160,"parent_id":1493098,"elapsed":1.9651983166113496e-05,"elapsed_instrumentation":0.0001669280172791332,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365473], class=>UnmergeWorker, jid=>0dc02800cc178becc519234a, created_at=>1699226720.0804908, id=>5d3b75dc085b048caad6df0c}","object_id":8131600,"size":7}},{"id":1493100,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044428730957,"value":"111360522214365478","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044428730947,"value":"111360522214365473","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8131620,"value":"#<UnmergeWorker:0x00007fdc070ab0c8>"}},{"id":1493101,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8131620,"value":"#<UnmergeWorker:0x00007fdc070ab0c8>"}},{"id":1493102,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493103,"event":"return","thread_id":9160,"parent_id":1493102,"elapsed":0.000659703,"elapsed_instrumentation":0.00034703899291343987},{"id":1493104,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493105,"event":"return","thread_id":9160,"parent_id":1493104,"elapsed":0.000573503,"elapsed_instrumentation":9.57669981289655e-05},{"id":1493106,"event":"return","thread_id":9160,"parent_id":1493101,"elapsed":0.004198782000457868,"elapsed_instrumentation":0.00011721000191755593,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0712b2c8>","object_id":8131640}},{"id":1493107,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8131620,"value":"#<UnmergeWorker:0x00007fdc070ab0c8>"}},{"id":1493108,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8131660,"value":"#<Account:0x00007fdc0712b408>","kind":"req"},{"name":"into_account","class":"Account","object_id":8131640,"value":"#<Account:0x00007fdc0712b2c8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493109,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044428730947,"value":"111360522214365473","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493110,"event":"return","thread_id":9160,"parent_id":1493109,"elapsed":5.156995030120015e-06,"elapsed_instrumentation":0.00010909000411629677,"return_value":{"class":"String","value":"feed:home:111360522214365473","object_id":8131680}},{"id":1493111,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493112,"event":"return","thread_id":9160,"parent_id":1493111,"elapsed":4.878005711361766e-06,"elapsed_instrumentation":7.93029903434217e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1493113,"event":"return","thread_id":9160,"parent_id":1493108,"elapsed":0.003715717000886798,"elapsed_instrumentation":0.00018626198288984597},{"id":1493114,"event":"return","thread_id":9160,"parent_id":1493107,"elapsed":0.003941192000638694,"elapsed_instrumentation":0.00011145498137921095},{"id":1493115,"event":"return","thread_id":9160,"parent_id":1493100,"elapsed":0.008472508983686566,"elapsed_instrumentation":8.396402699872851e-05},{"id":1493116,"event":"return","thread_id":9160,"parent_id":1493087,"elapsed":0.009816274978220463,"elapsed_instrumentation":0.00020584202138707042,"return_value":{"class":"String","value":"0dc02800cc178becc519234a","object_id":8131360}},{"id":1493117,"event":"return","thread_id":9160,"parent_id":1493032,"elapsed":0.05713897800887935,"elapsed_instrumentation":0.00018182900384999812,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0712eb08>","object_id":8131200}},{"id":1493118,"event":"return","thread_id":9160,"parent_id":1493031,"elapsed":0.05734550399938598,"elapsed_instrumentation":8.966497262008488e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0712eb08>","object_id":8131200}},{"id":1493119,"event":"return","thread_id":9160,"parent_id":1493030,"elapsed":0.057468588987831026,"elapsed_instrumentation":0.0001562200195621699,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0712eb08>","object_id":8131200}},{"id":1493120,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8131700,"value":"relationship:111360522214365474:111360522214365478","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8131720,"value":"#<UnfollowService:0x00007fdc09126a50>"}},{"id":1493121,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8131720,"value":"#<UnfollowService:0x00007fdc09126a50>"}},{"id":1493122,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8131740,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8131760,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493123,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493124,"event":"return","thread_id":9160,"parent_id":1493123,"elapsed":4.7559733502566814e-06,"elapsed_instrumentation":0.0001106050331145525,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1493125,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8131780,"value":"<__he}D_`_}_$t_"}},{"id":1493126,"event":"return","thread_id":9160,"parent_id":1493125,"elapsed":7.719005225226283e-06,"elapsed_instrumentation":0.00019082898506894708,"return_value":{"class":"Array","value":"[1020563304, 25981, 17535, 44384, 38269, 2955179243]","object_id":8131800,"size":6}},{"id":1493127,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493128,"event":"return","thread_id":9160,"parent_id":1493127,"elapsed":0.000643558,"elapsed_instrumentation":9.931999375112355e-05},{"id":1493129,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8131820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493130,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493131,"event":"return","thread_id":9160,"parent_id":1493130,"elapsed":0.000558062,"elapsed_instrumentation":0.00011898297816514969},{"id":1493132,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493133,"event":"return","thread_id":9160,"parent_id":1493132,"elapsed":0.000707848,"elapsed_instrumentation":0.00010592699982225895},{"id":1493134,"event":"return","thread_id":9160,"parent_id":1493129,"elapsed":0.0033560919982846826,"elapsed_instrumentation":0.00034077998134307563,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1493135,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1493136,"event":"return","thread_id":9160,"parent_id":1493135,"elapsed":0.001036302,"elapsed_instrumentation":0.00011343997903168201},{"id":1493137,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8131820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493138,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1493139,"event":"return","thread_id":9160,"parent_id":1493138,"elapsed":0.000783345,"elapsed_instrumentation":8.845300180837512e-05},{"id":1493140,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493141,"event":"return","thread_id":9160,"parent_id":1493140,"elapsed":0.000816844,"elapsed_instrumentation":9.2328991740942e-05},{"id":1493142,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8131840,"value":"#<Account:0x00007fdc07129608>"}},{"id":1493143,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8131840,"value":"#<Account:0x00007fdc07129608>"}},{"id":1493144,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522214365474, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493145,"event":"return","thread_id":9160,"parent_id":1493144,"elapsed":0.001016683,"elapsed_instrumentation":8.591901860199869e-05},{"id":1493146,"event":"return","thread_id":9160,"parent_id":1493143,"elapsed":0.0015907410124782473,"elapsed_instrumentation":9.855299140326679e-05},{"id":1493147,"event":"return","thread_id":9160,"parent_id":1493142,"elapsed":0.0017171289946418256,"elapsed_instrumentation":0.00021484101307578385},{"id":1493148,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493149,"event":"return","thread_id":9160,"parent_id":1493148,"elapsed":0.000811073,"elapsed_instrumentation":8.415800402872264e-05},{"id":1493150,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8131860,"value":"#<Account:0x00007fdc07128208>"}},{"id":1493151,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8131860,"value":"#<Account:0x00007fdc07128208>"}},{"id":1493152,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522214365478, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493153,"event":"return","thread_id":9160,"parent_id":1493152,"elapsed":0.000793868,"elapsed_instrumentation":0.0002867500006686896},{"id":1493154,"event":"return","thread_id":9160,"parent_id":1493151,"elapsed":0.0016064360097516328,"elapsed_instrumentation":9.317600051872432e-05},{"id":1493155,"event":"return","thread_id":9160,"parent_id":1493150,"elapsed":0.0017241759924218059,"elapsed_instrumentation":0.00012607101234607399},{"id":1493156,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8131840,"value":"#<Account:0x00007fdc07129608>"}},{"id":1493157,"event":"return","thread_id":9160,"parent_id":1493156,"elapsed":1.5577999874949455e-05,"elapsed_instrumentation":0.00010204501450061798,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493158,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8131860,"value":"#<Account:0x00007fdc07128208>"}},{"id":1493159,"event":"return","thread_id":9160,"parent_id":1493158,"elapsed":8.038012310862541e-06,"elapsed_instrumentation":7.059800554998219e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493160,"event":"return","thread_id":9160,"parent_id":1493137,"elapsed":0.012236361973918974,"elapsed_instrumentation":0.000205961026949808,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1493161,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493162,"event":"return","thread_id":9160,"parent_id":1493161,"elapsed":0.000597531,"elapsed_instrumentation":7.381499744951725e-05},{"id":1493163,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8131900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493164,"event":"return","thread_id":9160,"parent_id":1493163,"elapsed":3.468012437224388e-06,"elapsed_instrumentation":0.00012001499999314547,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1493165,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8131900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493166,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8131920,"value":"Cache delete: relationship:111360522214365474:111360522214365478\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493167,"event":"return","thread_id":9160,"parent_id":1493166,"elapsed":0.0007208270253613591,"elapsed_instrumentation":0.00013941898941993713,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493168,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8131940,"value":"Cache delete: relationship:111360522214365478:111360522214365474\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493169,"event":"return","thread_id":9160,"parent_id":1493168,"elapsed":0.0008218509901780635,"elapsed_instrumentation":0.00015881803119555116,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493170,"event":"return","thread_id":9160,"parent_id":1493165,"elapsed":0.00237332601682283,"elapsed_instrumentation":0.00011443198309279978,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1493171,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1493172,"event":"return","thread_id":9160,"parent_id":1493171,"elapsed":7.557013304904103e-06,"elapsed_instrumentation":9.15719720069319e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493173,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1493174,"event":"return","thread_id":9160,"parent_id":1493173,"elapsed":3.8529979065060616e-06,"elapsed_instrumentation":6.430901703424752e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493175,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8131960,"value":"#<Account:0x00007fdc06f42f88>"}},{"id":1493176,"event":"return","thread_id":9160,"parent_id":1493175,"elapsed":9.97798633761704e-06,"elapsed_instrumentation":6.107200169935822e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493177,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8131980,"value":"{args=>[111360522214365478, 111360522214365474], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8132000,"value":"#<Sidekiq::Client:0x00007fdc07ea7488>"}},{"id":1493178,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8132020,"value":"___\u0007\u0007____7D\u001f"}},{"id":1493179,"event":"return","thread_id":9160,"parent_id":1493178,"elapsed":4.2750034481287e-06,"elapsed_instrumentation":0.00011229401570744812,"return_value":{"class":"String","value":"c7f1f8070798d8f4ad37441f","object_id":8132040}},{"id":1493180,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8132060,"value":"[111360522214365478, 111360522214365474]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8132080,"value":"#<JSON::Ext::Generator::State:0x00007fdc07ea3388>"}},{"id":1493181,"event":"return","thread_id":9160,"parent_id":1493180,"elapsed":7.0480164140462875e-06,"elapsed_instrumentation":0.00014599398127757013,"return_value":{"class":"String","value":"[111360522214365478,111360522214365474]","object_id":8132100}},{"id":1493182,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8132120,"value":"#<JSON::Ext::Parser:0x00007fdc07ea1da8>"}},{"id":1493183,"event":"return","thread_id":9160,"parent_id":1493182,"elapsed":5.89000410400331e-06,"elapsed_instrumentation":8.774898014962673e-05,"return_value":{"class":"Array","value":"[111360522214365478, 111360522214365474]","object_id":8132140,"size":2}},{"id":1493184,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8132160,"value":"_yw|u\u0004___+U"}},{"id":1493185,"event":"return","thread_id":9160,"parent_id":1493184,"elapsed":4.160014213994145e-06,"elapsed_instrumentation":0.0001110339944716543,"return_value":{"class":"String","value":"9e7f79777c7504a4a65f2b55","object_id":8132180}},{"id":1493186,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8132200,"value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365474], class=>UnmergeWorker, jid=>c7f1f8070798d8f4ad37441f, created_at=>1699226720.1172273, id=>9e7f79777c7504a4a65f2b55}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8132220,"value":"#<JSON::Ext::Generator::State:0x00007fdc07fcdfd8>"}},{"id":1493187,"event":"return","thread_id":9160,"parent_id":1493186,"elapsed":0.0001544439874123782,"elapsed_instrumentation":0.00022339000133797526,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522214365478,111360522214365474],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8132240}},{"id":1493188,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8132260,"value":"#<JSON::Ext::Parser:0x00007fdc07fc9c08>"}},{"id":1493189,"event":"return","thread_id":9160,"parent_id":1493188,"elapsed":2.0737003069370985e-05,"elapsed_instrumentation":0.00020273900008760393,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365474], class=>UnmergeWorker, jid=>c7f1f8070798d8f4ad37441f, created_at=>1699226720.1172273, id=>9e7f79777c7504a4a65f2b55}","object_id":8132280,"size":7}},{"id":1493190,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044428730957,"value":"111360522214365478","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044428730949,"value":"111360522214365474","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8132300,"value":"#<UnmergeWorker:0x00007fdc07fc39c0>"}},{"id":1493191,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8132300,"value":"#<UnmergeWorker:0x00007fdc07fc39c0>"}},{"id":1493192,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493193,"event":"return","thread_id":9160,"parent_id":1493192,"elapsed":0.00064433,"elapsed_instrumentation":7.882699719630182e-05},{"id":1493194,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493195,"event":"return","thread_id":9160,"parent_id":1493194,"elapsed":0.000669646,"elapsed_instrumentation":7.402899791486561e-05},{"id":1493196,"event":"return","thread_id":9160,"parent_id":1493191,"elapsed":0.0037561350036412477,"elapsed_instrumentation":0.00011358800111338496,"return_value":{"class":"Account","value":"#<Account:0x00007fdc07125f08>","object_id":8132320}},{"id":1493197,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8132300,"value":"#<UnmergeWorker:0x00007fdc07fc39c0>"}},{"id":1493198,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8132340,"value":"#<Account:0x00007fdc07126188>","kind":"req"},{"name":"into_account","class":"Account","object_id":8132320,"value":"#<Account:0x00007fdc07125f08>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493199,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044428730949,"value":"111360522214365474","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493200,"event":"return","thread_id":9160,"parent_id":1493199,"elapsed":6.4820051193237305e-06,"elapsed_instrumentation":0.00010749200009740889,"return_value":{"class":"String","value":"feed:home:111360522214365474","object_id":8132360}},{"id":1493201,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493202,"event":"return","thread_id":9160,"parent_id":1493201,"elapsed":5.495996447280049e-06,"elapsed_instrumentation":7.703399751335382e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1493203,"event":"return","thread_id":9160,"parent_id":1493198,"elapsed":0.004417049000039697,"elapsed_instrumentation":0.00012587799574248493},{"id":1493204,"event":"return","thread_id":9160,"parent_id":1493197,"elapsed":0.0045809939911123365,"elapsed_instrumentation":8.932998753152788e-05},{"id":1493205,"event":"return","thread_id":9160,"parent_id":1493190,"elapsed":0.008587499003624544,"elapsed_instrumentation":8.896598592400551e-05},{"id":1493206,"event":"return","thread_id":9160,"parent_id":1493177,"elapsed":0.01032774499617517,"elapsed_instrumentation":0.00017315600416623056,"return_value":{"class":"String","value":"c7f1f8070798d8f4ad37441f","object_id":8132040}},{"id":1493207,"event":"return","thread_id":9160,"parent_id":1493122,"elapsed":0.03631683700950816,"elapsed_instrumentation":0.00019875599537044764,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0712b048>","object_id":8131880}},{"id":1493208,"event":"return","thread_id":9160,"parent_id":1493121,"elapsed":0.03654616602580063,"elapsed_instrumentation":0.00012877199333161116,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0712b048>","object_id":8131880}},{"id":1493209,"event":"return","thread_id":9160,"parent_id":1493120,"elapsed":0.036727384984260425,"elapsed_instrumentation":0.0002988689811900258,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0712b048>","object_id":8131880}},{"id":1493210,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8132380,"value":"relationship:111360522214365475:111360522214365478","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8132400,"value":"#<UnfollowService:0x00007fdc09148498>"}},{"id":1493211,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8132400,"value":"#<UnfollowService:0x00007fdc09148498>"}},{"id":1493212,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8132420,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8132440,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493213,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493214,"event":"return","thread_id":9160,"parent_id":1493213,"elapsed":3.1609961297363043e-06,"elapsed_instrumentation":7.290003122761846e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1493215,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8132460,"value":"_t_5\u00013K_@\u00127__h_u"}},{"id":1493216,"event":"return","thread_id":9160,"parent_id":1493215,"elapsed":7.05200363881886e-06,"elapsed_instrumentation":0.0001366760116070509,"return_value":{"class":"Array","value":"[2608111413, 307, 19391, 16402, 14293, 3848839285]","object_id":8132480,"size":6}},{"id":1493217,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493218,"event":"return","thread_id":9160,"parent_id":1493217,"elapsed":0.000764579,"elapsed_instrumentation":9.300201782025397e-05},{"id":1493219,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8132500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493220,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493221,"event":"return","thread_id":9160,"parent_id":1493220,"elapsed":0.000390895,"elapsed_instrumentation":8.04330047685653e-05},{"id":1493222,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493223,"event":"return","thread_id":9160,"parent_id":1493222,"elapsed":0.00042349,"elapsed_instrumentation":7.837399607524276e-05},{"id":1493224,"event":"return","thread_id":9160,"parent_id":1493219,"elapsed":0.002721317985560745,"elapsed_instrumentation":0.00017296100850217044,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1493225,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1493226,"event":"return","thread_id":9160,"parent_id":1493225,"elapsed":0.000746125,"elapsed_instrumentation":7.222700514830649e-05},{"id":1493227,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8132500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493228,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1493229,"event":"return","thread_id":9160,"parent_id":1493228,"elapsed":0.000565657,"elapsed_instrumentation":6.9725007051602e-05},{"id":1493230,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493231,"event":"return","thread_id":9160,"parent_id":1493230,"elapsed":0.000645189,"elapsed_instrumentation":7.412099512293935e-05},{"id":1493232,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8132520,"value":"#<Account:0x00007fdc07124c48>"}},{"id":1493233,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8132520,"value":"#<Account:0x00007fdc07124c48>"}},{"id":1493234,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522214365475, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493235,"event":"return","thread_id":9160,"parent_id":1493234,"elapsed":0.000969938,"elapsed_instrumentation":0.0001644669973757118},{"id":1493236,"event":"return","thread_id":9160,"parent_id":1493233,"elapsed":0.001967908989172429,"elapsed_instrumentation":0.00038528701406903565},{"id":1493237,"event":"return","thread_id":9160,"parent_id":1493232,"elapsed":0.0023975379881449044,"elapsed_instrumentation":0.00013844401109963655},{"id":1493238,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493239,"event":"return","thread_id":9160,"parent_id":1493238,"elapsed":0.000917744,"elapsed_instrumentation":0.0001078589993994683},{"id":1493240,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8132540,"value":"#<Account:0x00007fdc07123988>"}},{"id":1493241,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8132540,"value":"#<Account:0x00007fdc07123988>"}},{"id":1493242,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522214365478, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493243,"event":"return","thread_id":9160,"parent_id":1493242,"elapsed":0.00089113,"elapsed_instrumentation":0.000176216010004282},{"id":1493244,"event":"return","thread_id":9160,"parent_id":1493241,"elapsed":0.0018326040008105338,"elapsed_instrumentation":0.00010044401278719306},{"id":1493245,"event":"return","thread_id":9160,"parent_id":1493240,"elapsed":0.001962217007530853,"elapsed_instrumentation":0.00016161298844963312},{"id":1493246,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8132520,"value":"#<Account:0x00007fdc07124c48>"}},{"id":1493247,"event":"return","thread_id":9160,"parent_id":1493246,"elapsed":1.5062018064782023e-05,"elapsed_instrumentation":0.00010594900231808424,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493248,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8132540,"value":"#<Account:0x00007fdc07123988>"}},{"id":1493249,"event":"return","thread_id":9160,"parent_id":1493248,"elapsed":1.0110990842804313e-05,"elapsed_instrumentation":0.00013026100350543857,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493250,"event":"return","thread_id":9160,"parent_id":1493227,"elapsed":0.012550610001198947,"elapsed_instrumentation":0.00016386501374654472,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1493251,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493252,"event":"return","thread_id":9160,"parent_id":1493251,"elapsed":0.00040963,"elapsed_instrumentation":7.291499059647322e-05},{"id":1493253,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8132580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493254,"event":"return","thread_id":9160,"parent_id":1493253,"elapsed":3.2040115911513567e-06,"elapsed_instrumentation":0.00012606699601747096,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1493255,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8132580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493256,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8132600,"value":"Cache delete: relationship:111360522214365475:111360522214365478\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493257,"event":"return","thread_id":9160,"parent_id":1493256,"elapsed":0.0011798570048995316,"elapsed_instrumentation":0.00013607999426312745,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493258,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8132620,"value":"Cache delete: relationship:111360522214365478:111360522214365475\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493259,"event":"return","thread_id":9160,"parent_id":1493258,"elapsed":0.0013984760153107345,"elapsed_instrumentation":0.0001765429915394634,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493260,"event":"return","thread_id":9160,"parent_id":1493255,"elapsed":0.003407379990676418,"elapsed_instrumentation":0.00048128701746463776,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1493261,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1493262,"event":"return","thread_id":9160,"parent_id":1493261,"elapsed":1.2529984815046191e-05,"elapsed_instrumentation":0.0001586010039318353,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493263,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1493264,"event":"return","thread_id":9160,"parent_id":1493263,"elapsed":9.354989742860198e-06,"elapsed_instrumentation":0.00011431300663389266,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493265,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8132640,"value":"#<Account:0x00007fdc06f42e48>"}},{"id":1493266,"event":"return","thread_id":9160,"parent_id":1493265,"elapsed":1.674200757406652e-05,"elapsed_instrumentation":8.537099347449839e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493267,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8132660,"value":"{args=>[111360522214365478, 111360522214365475], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8132680,"value":"#<Sidekiq::Client:0x00007fdc0847f2e8>"}},{"id":1493268,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8132700,"value":"_1_!_=__d__("}},{"id":1493269,"event":"return","thread_id":9160,"parent_id":1493268,"elapsed":4.784989869222045e-06,"elapsed_instrumentation":0.0001332920219283551,"return_value":{"class":"String","value":"f831ab219c3d83ac64fed028","object_id":8132720}},{"id":1493270,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8132740,"value":"[111360522214365478, 111360522214365475]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8132760,"value":"#<JSON::Ext::Generator::State:0x00007fdc0847b7b0>"}},{"id":1493271,"event":"return","thread_id":9160,"parent_id":1493270,"elapsed":7.539987564086914e-06,"elapsed_instrumentation":0.00015701900701969862,"return_value":{"class":"String","value":"[111360522214365478,111360522214365475]","object_id":8132780}},{"id":1493272,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8132800,"value":"#<JSON::Ext::Parser:0x00007fdc0847a608>"}},{"id":1493273,"event":"return","thread_id":9160,"parent_id":1493272,"elapsed":5.590001819655299e-06,"elapsed_instrumentation":9.515701094642282e-05,"return_value":{"class":"Array","value":"[111360522214365478, 111360522214365475]","object_id":8132820,"size":2}},{"id":1493274,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8132840,"value":"____4\u0012__y#_p"}},{"id":1493275,"event":"return","thread_id":9160,"parent_id":1493274,"elapsed":3.7580030038952827e-06,"elapsed_instrumentation":0.00010079098865389824,"return_value":{"class":"String","value":"d2eeadd03412b8f17923bc70","object_id":8132860}},{"id":1493276,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8132880,"value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365475], class=>UnmergeWorker, jid=>f831ab219c3d83ac64fed028, created_at=>1699226720.1543448, id=>d2eeadd03412b8f17923bc70}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8132900,"value":"#<JSON::Ext::Generator::State:0x00007fdc08477660>"}},{"id":1493277,"event":"return","thread_id":9160,"parent_id":1493276,"elapsed":2.1490006474778056e-05,"elapsed_instrumentation":0.0004668600158765912,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522214365478,111360522214365475],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8132920}},{"id":1493278,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8132940,"value":"#<JSON::Ext::Parser:0x00007fdc08474370>"}},{"id":1493279,"event":"return","thread_id":9160,"parent_id":1493278,"elapsed":2.1504005417227745e-05,"elapsed_instrumentation":0.0004194169887341559,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365475], class=>UnmergeWorker, jid=>f831ab219c3d83ac64fed028, created_at=>1699226720.1543448, id=>d2eeadd03412b8f17923bc70}","object_id":8132960,"size":7}},{"id":1493280,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044428730957,"value":"111360522214365478","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044428730951,"value":"111360522214365475","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8132980,"value":"#<UnmergeWorker:0x00007fdc08470d10>"}},{"id":1493281,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8132980,"value":"#<UnmergeWorker:0x00007fdc08470d10>"}},{"id":1493282,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493283,"event":"return","thread_id":9160,"parent_id":1493282,"elapsed":0.001137389,"elapsed_instrumentation":0.0001402990019414574},{"id":1493284,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493285,"event":"return","thread_id":9160,"parent_id":1493284,"elapsed":0.000975528,"elapsed_instrumentation":0.00015107999206520617},{"id":1493286,"event":"return","thread_id":9160,"parent_id":1493281,"elapsed":0.0062025719962548465,"elapsed_instrumentation":0.00017923300038091838,"return_value":{"class":"Account","value":"#<Account:0x00007fdc071217c8>","object_id":8133000}},{"id":1493287,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8132980,"value":"#<UnmergeWorker:0x00007fdc08470d10>"}},{"id":1493288,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8133020,"value":"#<Account:0x00007fdc07121a48>","kind":"req"},{"name":"into_account","class":"Account","object_id":8133000,"value":"#<Account:0x00007fdc071217c8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493289,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044428730951,"value":"111360522214365475","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493290,"event":"return","thread_id":9160,"parent_id":1493289,"elapsed":5.509005859494209e-06,"elapsed_instrumentation":0.0002171189698856324,"return_value":{"class":"String","value":"feed:home:111360522214365475","object_id":8133040}},{"id":1493291,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493292,"event":"return","thread_id":9160,"parent_id":1493291,"elapsed":6.107002263888717e-06,"elapsed_instrumentation":0.00010829299571923912,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1493293,"event":"return","thread_id":9160,"parent_id":1493288,"elapsed":0.004345733002992347,"elapsed_instrumentation":0.00021366000873968005},{"id":1493294,"event":"return","thread_id":9160,"parent_id":1493287,"elapsed":0.004813503008335829,"elapsed_instrumentation":0.0001160580141004175},{"id":1493295,"event":"return","thread_id":9160,"parent_id":1493280,"elapsed":0.011378335999324918,"elapsed_instrumentation":0.00013177297660149634},{"id":1493296,"event":"return","thread_id":9160,"parent_id":1493267,"elapsed":0.013658702024258673,"elapsed_instrumentation":0.00023774296278133988,"return_value":{"class":"String","value":"f831ab219c3d83ac64fed028","object_id":8132720}},{"id":1493297,"event":"return","thread_id":9160,"parent_id":1493212,"elapsed":0.039950512000359595,"elapsed_instrumentation":0.00016514796880073845,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc07125a08>","object_id":8132560}},{"id":1493298,"event":"return","thread_id":9160,"parent_id":1493211,"elapsed":0.040141328994650394,"elapsed_instrumentation":8.751300629228354e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc07125a08>","object_id":8132560}},{"id":1493299,"event":"return","thread_id":9160,"parent_id":1493210,"elapsed":0.040266049007186666,"elapsed_instrumentation":0.00018702002125792205,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc07125a08>","object_id":8132560}},{"id":1493300,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8133060,"value":"relationship:111360522214365476:111360522214365478","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8133080,"value":"#<UnfollowService:0x00007fdc0917d490>"}},{"id":1493301,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8133080,"value":"#<UnfollowService:0x00007fdc0917d490>"}},{"id":1493302,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8133100,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8133120,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493303,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493304,"event":"return","thread_id":9160,"parent_id":1493303,"elapsed":3.24301072396338e-06,"elapsed_instrumentation":8.984300075098872e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1493305,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8133140,"value":"\\mL___5r____\u001fU__"}},{"id":1493306,"event":"return","thread_id":9160,"parent_id":1493305,"elapsed":7.067981641739607e-06,"elapsed_instrumentation":0.00014922901755198836,"return_value":{"class":"Array","value":"[1550666897, 54782, 13682, 47855, 51373, 525700736]","object_id":8133160,"size":6}},{"id":1493307,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493308,"event":"return","thread_id":9160,"parent_id":1493307,"elapsed":0.000645883,"elapsed_instrumentation":9.559400496073067e-05},{"id":1493309,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8133180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493310,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493311,"event":"return","thread_id":9160,"parent_id":1493310,"elapsed":0.000396817,"elapsed_instrumentation":8.652897668071091e-05},{"id":1493312,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493313,"event":"return","thread_id":9160,"parent_id":1493312,"elapsed":0.000464189,"elapsed_instrumentation":7.472099969163537e-05},{"id":1493314,"event":"return","thread_id":9160,"parent_id":1493309,"elapsed":0.0031810729997232556,"elapsed_instrumentation":0.0001731380179990083,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1493315,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1493316,"event":"return","thread_id":9160,"parent_id":1493315,"elapsed":0.0008309,"elapsed_instrumentation":7.471401477232575e-05},{"id":1493317,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8133180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493318,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1493319,"event":"return","thread_id":9160,"parent_id":1493318,"elapsed":0.000704588,"elapsed_instrumentation":7.60209804866463e-05},{"id":1493320,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493321,"event":"return","thread_id":9160,"parent_id":1493320,"elapsed":0.000556944,"elapsed_instrumentation":7.874201401136816e-05},{"id":1493322,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8133200,"value":"#<Account:0x00007fdc07120a08>"}},{"id":1493323,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8133200,"value":"#<Account:0x00007fdc07120a08>"}},{"id":1493324,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522214365476, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493325,"event":"return","thread_id":9160,"parent_id":1493324,"elapsed":0.000892736,"elapsed_instrumentation":7.534798351116478e-05},{"id":1493326,"event":"return","thread_id":9160,"parent_id":1493323,"elapsed":0.001408309006365016,"elapsed_instrumentation":0.0001069919962901622},{"id":1493327,"event":"return","thread_id":9160,"parent_id":1493322,"elapsed":0.0015424559824168682,"elapsed_instrumentation":0.00018283698591403663},{"id":1493328,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493329,"event":"return","thread_id":9160,"parent_id":1493328,"elapsed":0.00049951,"elapsed_instrumentation":0.0002416200004518032},{"id":1493330,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8133220,"value":"#<Account:0x00007fdc0726ec48>"}},{"id":1493331,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8133220,"value":"#<Account:0x00007fdc0726ec48>"}},{"id":1493332,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522214365478, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493333,"event":"return","thread_id":9160,"parent_id":1493332,"elapsed":0.000918759,"elapsed_instrumentation":7.881000055931509e-05},{"id":1493334,"event":"return","thread_id":9160,"parent_id":1493331,"elapsed":0.0014319860201794654,"elapsed_instrumentation":0.00012379398685880005},{"id":1493335,"event":"return","thread_id":9160,"parent_id":1493330,"elapsed":0.0015832619974389672,"elapsed_instrumentation":0.0002847450377885252},{"id":1493336,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8133200,"value":"#<Account:0x00007fdc07120a08>"}},{"id":1493337,"event":"return","thread_id":9160,"parent_id":1493336,"elapsed":1.3448996469378471e-05,"elapsed_instrumentation":0.00010296102846041322,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493338,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8133220,"value":"#<Account:0x00007fdc0726ec48>"}},{"id":1493339,"event":"return","thread_id":9160,"parent_id":1493338,"elapsed":1.3320008292794228e-05,"elapsed_instrumentation":0.00021061801817268133,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493340,"event":"return","thread_id":9160,"parent_id":1493317,"elapsed":0.010367395007051528,"elapsed_instrumentation":0.0001750909723341465,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1493341,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493342,"event":"return","thread_id":9160,"parent_id":1493341,"elapsed":0.00045431,"elapsed_instrumentation":6.931001553311944e-05},{"id":1493343,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8133260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493344,"event":"return","thread_id":9160,"parent_id":1493343,"elapsed":3.6070123314857483e-06,"elapsed_instrumentation":0.0001440919586457312,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1493345,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8133260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493346,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8133280,"value":"Cache delete: relationship:111360522214365476:111360522214365478\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493347,"event":"return","thread_id":9160,"parent_id":1493346,"elapsed":0.0010667160095181316,"elapsed_instrumentation":0.00012589601101353765,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493348,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8133300,"value":"Cache delete: relationship:111360522214365478:111360522214365476\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493349,"event":"return","thread_id":9160,"parent_id":1493348,"elapsed":0.0013550660223700106,"elapsed_instrumentation":0.0002553909725975245,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493350,"event":"return","thread_id":9160,"parent_id":1493345,"elapsed":0.003158197010634467,"elapsed_instrumentation":0.00015579297905787826,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1493351,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1493352,"event":"return","thread_id":9160,"parent_id":1493351,"elapsed":1.5192985301837325e-05,"elapsed_instrumentation":0.00028399500297382474,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493353,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1493354,"event":"return","thread_id":9160,"parent_id":1493353,"elapsed":9.519979357719421e-06,"elapsed_instrumentation":0.00012384401634335518,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493355,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8133320,"value":"#<Account:0x00007fdc06f42d08>"}},{"id":1493356,"event":"return","thread_id":9160,"parent_id":1493355,"elapsed":1.7871003365144134e-05,"elapsed_instrumentation":0.0001040570205077529,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493357,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8133340,"value":"{args=>[111360522214365478, 111360522214365476], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8133360,"value":"#<Sidekiq::Client:0x00007fdc089db188>"}},{"id":1493358,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8133380,"value":"|_o_A_______"}},{"id":1493359,"event":"return","thread_id":9160,"parent_id":1493358,"elapsed":6.866990588605404e-06,"elapsed_instrumentation":0.00013551898882724345,"return_value":{"class":"String","value":"7cf36f9241ffa6ecc3caa183","object_id":8133400}},{"id":1493360,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8133420,"value":"[111360522214365478, 111360522214365476]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8133440,"value":"#<JSON::Ext::Generator::State:0x00007fdc089d7538>"}},{"id":1493361,"event":"return","thread_id":9160,"parent_id":1493360,"elapsed":1.4671008102595806e-05,"elapsed_instrumentation":0.0003835319948848337,"return_value":{"class":"String","value":"[111360522214365478,111360522214365476]","object_id":8133460}},{"id":1493362,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8133480,"value":"#<JSON::Ext::Parser:0x00007fdc089d5580>"}},{"id":1493363,"event":"return","thread_id":9160,"parent_id":1493362,"elapsed":6.363989086821675e-06,"elapsed_instrumentation":0.00011081303819082677,"return_value":{"class":"Array","value":"[111360522214365478, 111360522214365476]","object_id":8133500,"size":2}},{"id":1493364,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8133520,"value":"z_ __!\t____!"}},{"id":1493365,"event":"return","thread_id":9160,"parent_id":1493364,"elapsed":3.940018359571695e-06,"elapsed_instrumentation":0.00011234299745410681,"return_value":{"class":"String","value":"7aa120aa9c210991f9d3f621","object_id":8133540}},{"id":1493366,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8133560,"value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365476], class=>UnmergeWorker, jid=>7cf36f9241ffa6ecc3caa183, created_at=>1699226720.1928456, id=>7aa120aa9c210991f9d3f621}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8133580,"value":"#<JSON::Ext::Generator::State:0x00007fdc089d10c0>"}},{"id":1493367,"event":"return","thread_id":9160,"parent_id":1493366,"elapsed":2.1013023797422647e-05,"elapsed_instrumentation":0.0002014119818340987,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522214365478,111360522214365476],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8133600}},{"id":1493368,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8133620,"value":"#<JSON::Ext::Parser:0x00007fdc08a4e0c0>"}},{"id":1493369,"event":"return","thread_id":9160,"parent_id":1493368,"elapsed":2.9853981686756015e-05,"elapsed_instrumentation":0.0003280990058556199,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365476], class=>UnmergeWorker, jid=>7cf36f9241ffa6ecc3caa183, created_at=>1699226720.1928456, id=>7aa120aa9c210991f9d3f621}","object_id":8133640,"size":7}},{"id":1493370,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044428730957,"value":"111360522214365478","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044428730953,"value":"111360522214365476","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8133660,"value":"#<UnmergeWorker:0x00007fdc08a49408>"}},{"id":1493371,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8133660,"value":"#<UnmergeWorker:0x00007fdc08a49408>"}},{"id":1493372,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493373,"event":"return","thread_id":9160,"parent_id":1493372,"elapsed":0.000706382,"elapsed_instrumentation":9.794201469048858e-05},{"id":1493374,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493375,"event":"return","thread_id":9160,"parent_id":1493374,"elapsed":0.000696157,"elapsed_instrumentation":8.258799789473414e-05},{"id":1493376,"event":"return","thread_id":9160,"parent_id":1493371,"elapsed":0.0045228159870021045,"elapsed_instrumentation":0.00015757401706650853,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0726cbc8>","object_id":8133680}},{"id":1493377,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8133660,"value":"#<UnmergeWorker:0x00007fdc08a49408>"}},{"id":1493378,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8133700,"value":"#<Account:0x00007fdc0726cd08>","kind":"req"},{"name":"into_account","class":"Account","object_id":8133680,"value":"#<Account:0x00007fdc0726cbc8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493379,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044428730953,"value":"111360522214365476","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493380,"event":"return","thread_id":9160,"parent_id":1493379,"elapsed":5.2549876272678375e-06,"elapsed_instrumentation":0.00010662199929356575,"return_value":{"class":"String","value":"feed:home:111360522214365476","object_id":8133720}},{"id":1493381,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493382,"event":"return","thread_id":9160,"parent_id":1493381,"elapsed":5.1670067477971315e-06,"elapsed_instrumentation":7.7791977673769e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1493383,"event":"return","thread_id":9160,"parent_id":1493378,"elapsed":0.004192263993900269,"elapsed_instrumentation":0.00011372999870218337},{"id":1493384,"event":"return","thread_id":9160,"parent_id":1493377,"elapsed":0.004341105988714844,"elapsed_instrumentation":9.493401739746332e-05},{"id":1493385,"event":"return","thread_id":9160,"parent_id":1493370,"elapsed":0.009175376006169245,"elapsed_instrumentation":0.00013009898248128593},{"id":1493386,"event":"return","thread_id":9160,"parent_id":1493357,"elapsed":0.011295417993096635,"elapsed_instrumentation":0.0003638070193119347,"return_value":{"class":"String","value":"7cf36f9241ffa6ecc3caa183","object_id":8133400}},{"id":1493387,"event":"return","thread_id":9160,"parent_id":1493302,"elapsed":0.03541154501726851,"elapsed_instrumentation":0.00034037898876704276,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc07121408>","object_id":8133240}},{"id":1493388,"event":"return","thread_id":9160,"parent_id":1493301,"elapsed":0.035782054997980595,"elapsed_instrumentation":8.060698746703565e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc07121408>","object_id":8133240}},{"id":1493389,"event":"return","thread_id":9160,"parent_id":1493300,"elapsed":0.0358948580105789,"elapsed_instrumentation":0.00013118499191477895,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc07121408>","object_id":8133240}},{"id":1493390,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8133740,"value":"relationship:111360522214365477:111360522214365478","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8133760,"value":"#<UnfollowService:0x00007fdc0919d948>"}},{"id":1493391,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8133760,"value":"#<UnfollowService:0x00007fdc0919d948>"}},{"id":1493392,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8133780,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8133800,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493393,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493394,"event":"return","thread_id":9160,"parent_id":1493393,"elapsed":3.05499997921288e-06,"elapsed_instrumentation":7.58680107537657e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1493395,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8133820,"value":"__X@\u0002\u0011\u00175~X__v6th"}},{"id":1493396,"event":"return","thread_id":9160,"parent_id":1493395,"elapsed":7.230002665892243e-06,"elapsed_instrumentation":0.0001679450215306133,"return_value":{"class":"Array","value":"[2628540480, 529, 5941, 32344, 64753, 1983280232]","object_id":8133840,"size":6}},{"id":1493397,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493398,"event":"return","thread_id":9160,"parent_id":1493397,"elapsed":0.000612834,"elapsed_instrumentation":9.902598685584962e-05},{"id":1493399,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8133860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493400,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493401,"event":"return","thread_id":9160,"parent_id":1493400,"elapsed":0.000433549,"elapsed_instrumentation":9.297201177105308e-05},{"id":1493402,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493403,"event":"return","thread_id":9160,"parent_id":1493402,"elapsed":0.000622377,"elapsed_instrumentation":0.00011396099580451846},{"id":1493404,"event":"return","thread_id":9160,"parent_id":1493399,"elapsed":0.003570775006664917,"elapsed_instrumentation":0.00021928100613877177,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1493405,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1493406,"event":"return","thread_id":9160,"parent_id":1493405,"elapsed":0.000787412,"elapsed_instrumentation":7.954399916343391e-05},{"id":1493407,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8133860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493408,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1493409,"event":"return","thread_id":9160,"parent_id":1493408,"elapsed":0.000670517,"elapsed_instrumentation":7.547799032181501e-05},{"id":1493410,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493411,"event":"return","thread_id":9160,"parent_id":1493410,"elapsed":0.00090932,"elapsed_instrumentation":7.187901064753532e-05},{"id":1493412,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8133880,"value":"#<Account:0x00007fdc0726af08>"}},{"id":1493413,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8133880,"value":"#<Account:0x00007fdc0726af08>"}},{"id":1493414,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522214365477, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493415,"event":"return","thread_id":9160,"parent_id":1493414,"elapsed":0.000959834,"elapsed_instrumentation":7.572001777589321e-05},{"id":1493416,"event":"return","thread_id":9160,"parent_id":1493413,"elapsed":0.0016842559853103012,"elapsed_instrumentation":9.495101403445005e-05},{"id":1493417,"event":"return","thread_id":9160,"parent_id":1493412,"elapsed":0.001806090003810823,"elapsed_instrumentation":0.00012391599011607468},{"id":1493418,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493419,"event":"return","thread_id":9160,"parent_id":1493418,"elapsed":0.000718629,"elapsed_instrumentation":8.232000982388854e-05},{"id":1493420,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8133900,"value":"#<Account:0x00007fdc0726a148>"}},{"id":1493421,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8133900,"value":"#<Account:0x00007fdc0726a148>"}},{"id":1493422,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522214365478, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493423,"event":"return","thread_id":9160,"parent_id":1493422,"elapsed":0.001106945,"elapsed_instrumentation":8.83519824128598e-05},{"id":1493424,"event":"return","thread_id":9160,"parent_id":1493421,"elapsed":0.0017910760070662946,"elapsed_instrumentation":0.00010003600618802011},{"id":1493425,"event":"return","thread_id":9160,"parent_id":1493420,"elapsed":0.001917401998071,"elapsed_instrumentation":0.00012888599303551018},{"id":1493426,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8133880,"value":"#<Account:0x00007fdc0726af08>"}},{"id":1493427,"event":"return","thread_id":9160,"parent_id":1493426,"elapsed":1.6242003766819835e-05,"elapsed_instrumentation":0.00012260800576768816,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493428,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8133900,"value":"#<Account:0x00007fdc0726a148>"}},{"id":1493429,"event":"return","thread_id":9160,"parent_id":1493428,"elapsed":1.0752002708613873e-05,"elapsed_instrumentation":0.000226697011385113,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493430,"event":"return","thread_id":9160,"parent_id":1493407,"elapsed":0.012218599993502721,"elapsed_instrumentation":0.00020821098587475717,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1493431,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493432,"event":"return","thread_id":9160,"parent_id":1493431,"elapsed":0.000404716,"elapsed_instrumentation":7.179300882853568e-05},{"id":1493433,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8133940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493434,"event":"return","thread_id":9160,"parent_id":1493433,"elapsed":3.2320094760507345e-06,"elapsed_instrumentation":0.00014239700976759195,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1493435,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8133940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493436,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8133960,"value":"Cache delete: relationship:111360522214365477:111360522214365478\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493437,"event":"return","thread_id":9160,"parent_id":1493436,"elapsed":0.000773991021560505,"elapsed_instrumentation":0.00012619097833521664,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493438,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8133980,"value":"Cache delete: relationship:111360522214365478:111360522214365477\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493439,"event":"return","thread_id":9160,"parent_id":1493438,"elapsed":0.0009232379961758852,"elapsed_instrumentation":0.00014420400839298964,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493440,"event":"return","thread_id":9160,"parent_id":1493435,"elapsed":0.002261941001052037,"elapsed_instrumentation":0.0001172760094050318,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1493441,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1493442,"event":"return","thread_id":9160,"parent_id":1493441,"elapsed":8.486997103318572e-06,"elapsed_instrumentation":9.011398651637137e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493443,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8127580,"value":"#<Account:0x00007fdc06f44748>"}},{"id":1493444,"event":"return","thread_id":9160,"parent_id":1493443,"elapsed":0.00018081101006828249,"elapsed_instrumentation":0.00011913001071661711,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493445,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8134000,"value":"#<Account:0x00007fdc06f42bc8>"}},{"id":1493446,"event":"return","thread_id":9160,"parent_id":1493445,"elapsed":1.1199008440598845e-05,"elapsed_instrumentation":9.95239824987948e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493447,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8134020,"value":"{args=>[111360522214365478, 111360522214365477], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8134040,"value":"#<Sidekiq::Client:0x00007fdc08e4c5a0>"}},{"id":1493448,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8134060,"value":"1(___&____-w"}},{"id":1493449,"event":"return","thread_id":9160,"parent_id":1493448,"elapsed":4.659988917410374e-06,"elapsed_instrumentation":0.0001157890073955059,"return_value":{"class":"String","value":"31288ef4ad26deee8e802d77","object_id":8134080}},{"id":1493450,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8134100,"value":"[111360522214365478, 111360522214365477]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8134120,"value":"#<JSON::Ext::Generator::State:0x00007fdc08e47708>"}},{"id":1493451,"event":"return","thread_id":9160,"parent_id":1493450,"elapsed":6.232992745935917e-06,"elapsed_instrumentation":0.00011313901632092893,"return_value":{"class":"String","value":"[111360522214365478,111360522214365477]","object_id":8134140}},{"id":1493452,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8134160,"value":"#<JSON::Ext::Parser:0x00007fdc08e46790>"}},{"id":1493453,"event":"return","thread_id":9160,"parent_id":1493452,"elapsed":0.00019864802015945315,"elapsed_instrumentation":0.00010912696598097682,"return_value":{"class":"Array","value":"[111360522214365478, 111360522214365477]","object_id":8134180,"size":2}},{"id":1493454,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8134200,"value":"}_C/b<___8J\\"}},{"id":1493455,"event":"return","thread_id":9160,"parent_id":1493454,"elapsed":3.9739825297147036e-06,"elapsed_instrumentation":0.00012737602810375392,"return_value":{"class":"String","value":"7dec432f623cb6aac1384a5c","object_id":8134220}},{"id":1493456,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8134240,"value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365477], class=>UnmergeWorker, jid=>31288ef4ad26deee8e802d77, created_at=>1699226720.2307234, id=>7dec432f623cb6aac1384a5c}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8134260,"value":"#<JSON::Ext::Generator::State:0x00007fdc08e44008>"}},{"id":1493457,"event":"return","thread_id":9160,"parent_id":1493456,"elapsed":1.534601324237883e-05,"elapsed_instrumentation":0.00019814001279883087,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522214365478,111360522214365477],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8134280}},{"id":1493458,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8134300,"value":"#<JSON::Ext::Parser:0x00007fdc08e41628>"}},{"id":1493459,"event":"return","thread_id":9160,"parent_id":1493458,"elapsed":1.8235004972666502e-05,"elapsed_instrumentation":0.00016268898616544902,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522214365478, 111360522214365477], class=>UnmergeWorker, jid=>31288ef4ad26deee8e802d77, created_at=>1699226720.2307234, id=>7dec432f623cb6aac1384a5c}","object_id":8134320,"size":7}},{"id":1493460,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044428730957,"value":"111360522214365478","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044428730955,"value":"111360522214365477","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8134340,"value":"#<UnmergeWorker:0x00007fdc08f7efb8>"}},{"id":1493461,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8134340,"value":"#<UnmergeWorker:0x00007fdc08f7efb8>"}},{"id":1493462,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493463,"event":"return","thread_id":9160,"parent_id":1493462,"elapsed":0.000781777,"elapsed_instrumentation":8.600900764577091e-05},{"id":1493464,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493465,"event":"return","thread_id":9160,"parent_id":1493464,"elapsed":0.000686097,"elapsed_instrumentation":7.973401807248592e-05},{"id":1493466,"event":"return","thread_id":9160,"parent_id":1493461,"elapsed":0.004080390004673973,"elapsed_instrumentation":0.00013769298675470054,"return_value":{"class":"Account","value":"#<Account:0x00007fdc07267a88>","object_id":8134360}},{"id":1493467,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8134340,"value":"#<UnmergeWorker:0x00007fdc08f7efb8>"}},{"id":1493468,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8134380,"value":"#<Account:0x00007fdc07267bc8>","kind":"req"},{"name":"into_account","class":"Account","object_id":8134360,"value":"#<Account:0x00007fdc07267a88>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493469,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044428730955,"value":"111360522214365477","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493470,"event":"return","thread_id":9160,"parent_id":1493469,"elapsed":5.340989446267486e-06,"elapsed_instrumentation":0.00010652901255525649,"return_value":{"class":"String","value":"feed:home:111360522214365477","object_id":8134400}},{"id":1493471,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493472,"event":"return","thread_id":9160,"parent_id":1493471,"elapsed":5.280977347865701e-06,"elapsed_instrumentation":7.917400216683745e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1493473,"event":"return","thread_id":9160,"parent_id":1493468,"elapsed":0.004143266007304192,"elapsed_instrumentation":0.00013020698679611087},{"id":1493474,"event":"return","thread_id":9160,"parent_id":1493467,"elapsed":0.004314640013035387,"elapsed_instrumentation":0.00010414799908176064},{"id":1493475,"event":"return","thread_id":9160,"parent_id":1493460,"elapsed":0.0086953470017761,"elapsed_instrumentation":0.00018785501015372574},{"id":1493476,"event":"return","thread_id":9160,"parent_id":1493447,"elapsed":0.010284065006999299,"elapsed_instrumentation":0.0001989239826798439,"return_value":{"class":"String","value":"31288ef4ad26deee8e802d77","object_id":8134080}},{"id":1493477,"event":"return","thread_id":9160,"parent_id":1493392,"elapsed":0.036049686023034155,"elapsed_instrumentation":0.00019871199037879705,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0726c808>","object_id":8133920}},{"id":1493478,"event":"return","thread_id":9160,"parent_id":1493391,"elapsed":0.03631512800347991,"elapsed_instrumentation":0.00018254501628689468,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0726c808>","object_id":8133920}},{"id":1493479,"event":"return","thread_id":9160,"parent_id":1493390,"elapsed":0.03681680202134885,"elapsed_instrumentation":0.00018469899077899754,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0726c808>","object_id":8133920}},{"id":1493480,"event":"return","thread_id":9160,"parent_id":1492569,"elapsed":0.4473575919982977,"elapsed_instrumentation":0.00020703900372609496,"return_value":{"class":"IO","value":"#<IO:0x00007fdc21298f60>","object_id":4113040}},{"id":1493481,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493482,"event":"return","thread_id":9160,"parent_id":1493481,"elapsed":0.000963373,"elapsed_instrumentation":0.0003178089973516762},{"id":1493483,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"account_id\" WHERE \"follows\".\"target_account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493484,"event":"return","thread_id":9160,"parent_id":1493483,"elapsed":0.001398529,"elapsed_instrumentation":8.595502004027367e-05}]}