{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"MediaComponentHelper render_video_component renders a react component for the video","source_location":"spec/helpers/media_component_helper_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"helpers","type":"package","children":[{"name":"MediaComponentHelper","type":"class","children":[{"name":"render_video_component","type":"function","location":"app/helpers/media_component_helper.rb:4","static":false}]},{"name":"RoutingHelper","type":"class","children":[{"name":"full_asset_url","type":"function","location":"app/helpers/routing_helper.rb:17","static":false},{"name":"use_storage?","type":"function","location":"app/helpers/routing_helper.rb:31","static":false},{"name":"asset_host","type":"function","location":"app/helpers/routing_helper.rb:23","static":false}]},{"name":"REST","type":"class","children":[{"name":"MediaAttachmentSerializer","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]},{"name":"ReactComponentHelper","type":"class","children":[{"name":"react_component","type":"function","location":"app/helpers/react_component_helper.rb:4","static":false}]},{"name":"ApplicationHelper","type":"class","children":[{"name":"fa_icon","type":"function","location":"app/helpers/application_helper.rb:108","static":false}]}]},{"name":"models","type":"package","children":[{"name":"Status","type":"class","children":[{"name":"ordered_media_attachments","type":"function","location":"app/models/status.rb:271","static":false}]},{"name":"Account","type":"class","children":[{"name":"sensitized?","type":"function","location":"app/models/account.rb:265","static":false}]},{"name":"MediaAttachment","type":"class","children":[{"name":"local?","type":"function","location":"app/models/media_attachment.rb:217","static":false},{"name":"not_processed?","type":"function","location":"app/models/media_attachment.rb:221","static":false},{"name":"needs_redownload?","type":"function","location":"app/models/media_attachment.rb:225","static":false}]}]},{"name":"serializers/rest","type":"package","children":[{"name":"REST","type":"class","children":[{"name":"MediaAttachmentSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:10","static":false},{"name":"url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:14","static":false},{"name":"preview_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:28","static":false},{"name":"remote_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:24","static":false},{"name":"preview_remote_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:38","static":false},{"name":"text_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:42","static":false},{"name":"meta","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:46","static":false}]}]}]},{"name":"views","type":"package","children":[{"name":"app_views_statuses__attachment_list_html_haml","type":"class","children":[{"name":"render","type":"function","location":"app/views/statuses/_attachment_list.html.haml","static":true,"labels":["mvc.template"]}]}]}]},{"name":"lib/paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"meta","type":"function","location":"lib/paperclip/attachment_extensions.rb:5","static":false},{"name":"storage_schema_version","type":"function","location":"lib/paperclip/attachment_extensions.rb:50","static":false}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"actionview","type":"package","children":[{"name":"ActionView","type":"class","children":[{"name":"Renderer","type":"class","children":[{"name":"render","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/renderer/renderer.rb:23","labels":["mvc.view"]}]},{"name":"PartialRenderer","type":"class","children":[{"name":"render","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/renderer/partial_renderer.rb:230","labels":["mvc.view"]}]},{"name":"Resolver","type":"class","children":[{"name":"find_all","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb:63","static":false,"labels":["mvc.template.resolver"]}]}]}]}],"events":[{"id":1095658,"event":"call","thread_id":9160,"defined_class":"MediaComponentHelper","method_id":"render_video_component","path":"app/helpers/media_component_helper.rb","lineno":4,"static":false,"parameters":[{"name":"status","class":"Status","object_id":6372260,"value":"#<Status:0x00007fc930e11530>","kind":"req"},{"name":"options","class":"Hash","object_id":6372580,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"ActionView::Base","object_id":6372560,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9317deb08>"}},{"id":1095659,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"ordered_media_attachments","path":"app/models/status.rb","lineno":271,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":6372260,"value":"#<Status:0x00007fc930e11530>"}},{"id":1095660,"event":"return","thread_id":9160,"parent_id":1095659,"elapsed":8.2395039498806e-05,"elapsed_instrumentation":0.00011885497951880097,"return_value":{"class":"ActiveRecord::Associations::CollectionProxy","value":"#<MediaAttachment::ActiveRecord_Associations_CollectionProxy:0x00007fc919ed0140>","object_id":6372600}},{"id":1095661,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"media_attachments\".* FROM \"media_attachments\" WHERE \"media_attachments\".\"status_id\" = $1 ORDER BY \"media_attachments\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1095662,"event":"return","thread_id":9160,"parent_id":1095661,"elapsed":0.000760384,"elapsed_instrumentation":0.00010573596227914095},{"id":1095663,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"meta","path":"lib/paperclip/attachment_extensions.rb","lineno":5,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6372620,"value":"/system/media_attachments/files/111/361/368/399/003/623/original/attachment.webm"}},{"id":1095664,"event":"return","thread_id":9160,"parent_id":1095663,"elapsed":3.403599839657545e-05,"elapsed_instrumentation":0.0006754679488949478},{"id":1095665,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"sensitized?","path":"app/models/account.rb","lineno":265,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6372280,"value":"#<Account:0x00007fc9317de608>"}},{"id":1095666,"event":"return","thread_id":9160,"parent_id":1095665,"elapsed":2.962100552394986e-05,"elapsed_instrumentation":9.997101733461022e-05},{"id":1095667,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6372620,"value":"/system/media_attachments/files/111/361/368/399/003/623/original/attachment.webm"}},{"id":1095668,"event":"return","thread_id":9160,"parent_id":1095667,"elapsed":3.020901931449771e-05,"elapsed_instrumentation":0.00035987701267004013,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1095669,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6372660,"value":"#<MediaAttachment:0x00007fc932875de0>"}},{"id":1095670,"event":"return","thread_id":9160,"parent_id":1095669,"elapsed":1.1759984772652388e-05,"elapsed_instrumentation":0.0002068610629066825,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1095671,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"full_asset_url","path":"app/helpers/routing_helper.rb","lineno":17,"static":false,"parameters":[{"name":"source","class":"String","object_id":6372680,"value":"/system/media_attachments/files/111/361/368/399/003/623/original/attachment.webm","kind":"req"},{"name":"options","class":"Hash","object_id":6372700,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"ActionView::Base","object_id":6372560,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9317deb08>"}},{"id":1095672,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"use_storage?","path":"app/helpers/routing_helper.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"ActionView::Base","object_id":6372560,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9317deb08>"}},{"id":1095673,"event":"return","thread_id":9160,"parent_id":1095672,"elapsed":1.893599983304739e-05,"elapsed_instrumentation":6.583897629752755e-05},{"id":1095674,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"asset_host","path":"app/helpers/routing_helper.rb","lineno":23,"static":false,"parameters":[],"receiver":{"class":"ActionView::Base","object_id":6372560,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9317deb08>"}},{"id":1095675,"event":"return","thread_id":9160,"parent_id":1095674,"elapsed":0.00042096403194591403,"elapsed_instrumentation":0.0003160619526170194,"return_value":{"class":"String","value":"http://test.host/","object_id":6372720}},{"id":1095676,"event":"return","thread_id":9160,"parent_id":1095671,"elapsed":0.0010916779865510762,"elapsed_instrumentation":0.00020418205531314015,"return_value":{"class":"String","value":"http://test.host/system/media_attachments/files/111/361/368/399/003/623/original/attachment.webm","object_id":6372740}},{"id":1095677,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6372620,"value":"/system/media_attachments/files/111/361/368/399/003/623/original/attachment.webm"}},{"id":1095678,"event":"return","thread_id":9160,"parent_id":1095677,"elapsed":1.1619995348155499e-05,"elapsed_instrumentation":0.00024954299442470074,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1095679,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6372660,"value":"#<MediaAttachment:0x00007fc932875de0>"}},{"id":1095680,"event":"return","thread_id":9160,"parent_id":1095679,"elapsed":4.69601945951581e-06,"elapsed_instrumentation":7.82289425842464e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1095681,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"full_asset_url","path":"app/helpers/routing_helper.rb","lineno":17,"static":false,"parameters":[{"name":"source","class":"String","object_id":6372760,"value":"/system/media_attachments/files/111/361/368/399/003/623/small/attachment.png","kind":"req"},{"name":"options","class":"Hash","object_id":6372780,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"ActionView::Base","object_id":6372560,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9317deb08>"}},{"id":1095682,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"use_storage?","path":"app/helpers/routing_helper.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"ActionView::Base","object_id":6372560,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9317deb08>"}},{"id":1095683,"event":"return","thread_id":9160,"parent_id":1095682,"elapsed":1.567596336826682e-05,"elapsed_instrumentation":8.513900684192777e-05},{"id":1095684,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"asset_host","path":"app/helpers/routing_helper.rb","lineno":23,"static":false,"parameters":[],"receiver":{"class":"ActionView::Base","object_id":6372560,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9317deb08>"}},{"id":1095685,"event":"return","thread_id":9160,"parent_id":1095684,"elapsed":9.948300430551171e-05,"elapsed_instrumentation":8.293899009004235e-05,"return_value":{"class":"String","value":"http://test.host/","object_id":6372800}},{"id":1095686,"event":"return","thread_id":9160,"parent_id":1095681,"elapsed":0.0004917029873467982,"elapsed_instrumentation":0.0002741979551501572,"return_value":{"class":"String","value":"http://test.host/system/media_attachments/files/111/361/368/399/003/623/small/attachment.png","object_id":6372820}},{"id":1095687,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6372840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":1095688,"event":"return","thread_id":9160,"parent_id":1095687,"elapsed":3.434019163250923e-06,"elapsed_instrumentation":9.867700282484293e-05,"return_value":{"class":"Array","value":"[]","object_id":326200,"size":0}},{"id":1095689,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6372840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":1095690,"event":"return","thread_id":9160,"parent_id":1095689,"elapsed":3.0569499358534813e-06,"elapsed_instrumentation":0.00010128197027370334,"return_value":{"class":"Array","value":"[]","object_id":326240,"size":0}},{"id":1095691,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"id","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095692,"event":"return","thread_id":9160,"parent_id":1095691,"elapsed":8.934503421187401e-05,"elapsed_instrumentation":0.00015970499953255057,"return_value":{"class":"String","value":"111361368399003623","object_id":6372880}},{"id":1095693,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095694,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"not_processed?","path":"app/models/media_attachment.rb","lineno":221,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6372660,"value":"#<MediaAttachment:0x00007fc932875de0>"}},{"id":1095695,"event":"return","thread_id":9160,"parent_id":1095694,"elapsed":6.562896305695176e-05,"elapsed_instrumentation":0.00025436904979869723},{"id":1095696,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"needs_redownload?","path":"app/models/media_attachment.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6372660,"value":"#<MediaAttachment:0x00007fc932875de0>"}},{"id":1095697,"event":"return","thread_id":9160,"parent_id":1095696,"elapsed":5.446397699415684e-05,"elapsed_instrumentation":0.00022330996580421925},{"id":1095698,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6372620,"value":"/system/media_attachments/files/111/361/368/399/003/623/original/attachment.webm"}},{"id":1095699,"event":"return","thread_id":9160,"parent_id":1095698,"elapsed":1.3975019101053476e-05,"elapsed_instrumentation":0.000507119984831661,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1095700,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6372660,"value":"#<MediaAttachment:0x00007fc932875de0>"}},{"id":1095701,"event":"return","thread_id":9160,"parent_id":1095700,"elapsed":8.414965122938156e-06,"elapsed_instrumentation":0.0001098529901355505,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1095702,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"full_asset_url","path":"app/helpers/routing_helper.rb","lineno":17,"static":false,"parameters":[{"name":"source","class":"String","object_id":6372900,"value":"/system/media_attachments/files/111/361/368/399/003/623/original/attachment.webm","kind":"req"},{"name":"options","class":"Hash","object_id":6372920,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095703,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"use_storage?","path":"app/helpers/routing_helper.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095704,"event":"return","thread_id":9160,"parent_id":1095703,"elapsed":1.6459962353110313e-05,"elapsed_instrumentation":5.396798951551318e-05},{"id":1095705,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"asset_host","path":"app/helpers/routing_helper.rb","lineno":23,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095706,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095707,"event":"return","thread_id":9160,"parent_id":1095706,"elapsed":4.571978934109211e-06,"elapsed_instrumentation":0.00029007199918851256,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":1095708,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095709,"event":"return","thread_id":9160,"parent_id":1095708,"elapsed":7.1239774115383625e-06,"elapsed_instrumentation":0.00023721001343801618,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":1095710,"event":"return","thread_id":9160,"parent_id":1095705,"elapsed":0.0007567760185338557,"elapsed_instrumentation":7.405591895803809e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/","object_id":6372940}},{"id":1095711,"event":"return","thread_id":9160,"parent_id":1095702,"elapsed":0.0011373859597370028,"elapsed_instrumentation":0.00013144296826794744,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/368/399/003/623/original/attachment (...5 more characters)","object_id":6372960}},{"id":1095712,"event":"return","thread_id":9160,"parent_id":1095693,"elapsed":0.0028518479666672647,"elapsed_instrumentation":8.81970627233386e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/368/399/003/623/original/attachment (...5 more characters)","object_id":6372960}},{"id":1095713,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"preview_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":28,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095714,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"needs_redownload?","path":"app/models/media_attachment.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6372660,"value":"#<MediaAttachment:0x00007fc932875de0>"}},{"id":1095715,"event":"return","thread_id":9160,"parent_id":1095714,"elapsed":4.671700298786163e-05,"elapsed_instrumentation":0.000263128022197634},{"id":1095716,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6372620,"value":"/system/media_attachments/files/111/361/368/399/003/623/original/attachment.webm"}},{"id":1095717,"event":"return","thread_id":9160,"parent_id":1095716,"elapsed":3.121304325759411e-05,"elapsed_instrumentation":0.00040226499550044537,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1095718,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6372660,"value":"#<MediaAttachment:0x00007fc932875de0>"}},{"id":1095719,"event":"return","thread_id":9160,"parent_id":1095718,"elapsed":1.4421006198972464e-05,"elapsed_instrumentation":0.00044475396862253547,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1095720,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"full_asset_url","path":"app/helpers/routing_helper.rb","lineno":17,"static":false,"parameters":[{"name":"source","class":"String","object_id":6372980,"value":"/system/media_attachments/files/111/361/368/399/003/623/small/attachment.png","kind":"req"},{"name":"options","class":"Hash","object_id":6373000,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095721,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"use_storage?","path":"app/helpers/routing_helper.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095722,"event":"return","thread_id":9160,"parent_id":1095721,"elapsed":1.901201903820038e-05,"elapsed_instrumentation":5.792302545160055e-05},{"id":1095723,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"asset_host","path":"app/helpers/routing_helper.rb","lineno":23,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095724,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095725,"event":"return","thread_id":9160,"parent_id":1095724,"elapsed":5.096022505313158e-06,"elapsed_instrumentation":0.00015935697592794895,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":1095726,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095727,"event":"return","thread_id":9160,"parent_id":1095726,"elapsed":3.7919962778687477e-06,"elapsed_instrumentation":0.00014231499517336488,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":1095728,"event":"return","thread_id":9160,"parent_id":1095723,"elapsed":0.0005171719822101295,"elapsed_instrumentation":0.00027050706557929516,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/","object_id":6373020}},{"id":1095729,"event":"return","thread_id":9160,"parent_id":1095720,"elapsed":0.0014903739793226123,"elapsed_instrumentation":0.00015892699593678117,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/368/399/003/623/small/attachment.pn (...1 more characters)","object_id":6373040}},{"id":1095730,"event":"return","thread_id":9160,"parent_id":1095713,"elapsed":0.003327190992422402,"elapsed_instrumentation":8.803792297840118e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/368/399/003/623/small/attachment.pn (...1 more characters)","object_id":6373040}},{"id":1095731,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"remote_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":24,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095732,"event":"return","thread_id":9160,"parent_id":1095731,"elapsed":1.3653014320880175e-05,"elapsed_instrumentation":7.258408004418015e-05},{"id":1095733,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"preview_remote_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":38,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095734,"event":"return","thread_id":9160,"parent_id":1095733,"elapsed":2.3987027816474438e-05,"elapsed_instrumentation":5.533901276066899e-05},{"id":1095735,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"text_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":42,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095736,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6372660,"value":"#<MediaAttachment:0x00007fc932875de0>"}},{"id":1095737,"event":"return","thread_id":9160,"parent_id":1095736,"elapsed":1.0557007044553757e-05,"elapsed_instrumentation":0.00012017396511510015,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1095738,"event":"return","thread_id":9160,"parent_id":1095735,"elapsed":0.00018328201258555055,"elapsed_instrumentation":9.576498996466398e-05},{"id":1095739,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"meta","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":46,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":6372860,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931e8a5b0>"}},{"id":1095740,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"meta","path":"lib/paperclip/attachment_extensions.rb","lineno":5,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6372620,"value":"/system/media_attachments/files/111/361/368/399/003/623/original/attachment.webm"}},{"id":1095741,"event":"return","thread_id":9160,"parent_id":1095740,"elapsed":1.4839984942227602e-05,"elapsed_instrumentation":0.00036230002297088504},{"id":1095742,"event":"return","thread_id":9160,"parent_id":1095739,"elapsed":0.0004070190479978919,"elapsed_instrumentation":9.803596185520291e-05},{"id":1095743,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6372840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":1095744,"event":"return","thread_id":9160,"parent_id":1095743,"elapsed":3.976980224251747e-06,"elapsed_instrumentation":0.00013904098886996508,"return_value":{"class":"Array","value":"[]","object_id":328060,"size":0}},{"id":1095745,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6372840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":1095746,"event":"return","thread_id":9160,"parent_id":1095745,"elapsed":2.662010956555605e-06,"elapsed_instrumentation":8.635298581793904e-05,"return_value":{"class":"Array","value":"[]","object_id":328080,"size":0}},{"id":1095747,"event":"call","thread_id":9160,"defined_class":"ReactComponentHelper","method_id":"react_component","path":"app/helpers/react_component_helper.rb","lineno":4,"static":false,"parameters":[{"name":"name","class":"Symbol","object_id":6423708,"value":":video","kind":"req"},{"name":"props","class":"Hash","object_id":6373060,"value":"{:sensitive=>false, :src=>http://test.host/system/media_attachments/files/111/361/368/399/003/623/original/attachment.webm, :preview=>http://test.host/system/media_attachments/files/111/361/368/399/003/623/small/attachment.png, :alt=>, :blurhash=>, :frameRate=>, :inline=>true, :aspectRatio=> / , :media=>[{:id=>111361368399003623, :type=>video, :url=>https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/368/399/003/623/original/attachment (...5 more characters), :preview_url=>https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/368/399/003/623/small/attachment.pn (...1 more characters), :remote_url=>, :preview_remote_url=>, :text_url=>, :meta=>, :description=>, :blurhash=>}]}","kind":"opt","size":9},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ActionView::Base","object_id":6372560,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9317deb08>"}},{"id":1095748,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"ordered_media_attachments","path":"app/models/status.rb","lineno":271,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":6372260,"value":"#<Status:0x00007fc930e11530>"}},{"id":1095749,"event":"return","thread_id":9160,"parent_id":1095748,"elapsed":3.7420017179101706e-05,"elapsed_instrumentation":0.00020029599545523524,"return_value":{"class":"ActiveRecord::Associations::CollectionProxy","value":"#<MediaAttachment::ActiveRecord_Associations_CollectionProxy:0x00007fc919ed0140>","object_id":6372600}},{"id":1095750,"event":"call","thread_id":9160,"defined_class":"inline_template","method_id":"render","static":true,"parameters":[],"receiver":{"class":"ActionView::Renderer","object_id":6373240,"value":"#<ActionView::Renderer:0x00007fc930e98800>"}},{"id":1095751,"event":"call","thread_id":9160,"defined_class":"app_views_statuses__attachment_list_html_haml","method_id":"render","path":"app/views/statuses/_attachment_list.html.haml","static":true,"parameters":[],"receiver":{"class":"ActionView::PartialRenderer","object_id":6373260,"value":"#<ActionView::PartialRenderer:0x00007fc931e86730>"}},{"id":1095752,"event":"call","thread_id":9160,"defined_class":"ActionView::Resolver","method_id":"find_all","path":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb","lineno":63,"static":false,"parameters":[{"name":"name","class":"String","object_id":6373080,"value":"attachment_list","kind":"req"},{"name":"prefix","class":"String","object_id":6373100,"value":"statuses","kind":"opt"},{"name":"partial","class":"TrueClass","object_id":20,"value":"true","kind":"opt"},{"name":"details","class":"Hash","object_id":6373120,"value":"{:locale=>[:en], :formats=>[:html, :text, :js, :css, :ics, :csv, :vcf, :vtt, :png, :jpeg (...27 more items)], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :haml]}","kind":"opt","size":4},{"name":"key","class":"ActionView::TemplateDetails::Requested","object_id":1352920,"value":"#<ActionView::TemplateDetails::Requested:0x00007fc937b2b3c8>","kind":"opt"},{"name":"locals","class":"Array","object_id":6373140,"value":"[:attachments]","kind":"opt","size":1}],"receiver":{"class":"ActionView::FileSystemResolver","object_id":209280,"value":"/workspaces/mastodon/app/views"}},{"id":1095753,"event":"return","thread_id":9160,"parent_id":1095752,"elapsed":3.0436960514634848e-05,"elapsed_instrumentation":0.00047081406228244305,"return_value":{"class":"Array","value":"[#<ActionView::Template:0x00007fc919e81cc0>]","object_id":6373160,"size":1}},{"id":1095754,"event":"call","thread_id":9160,"defined_class":"ApplicationHelper","method_id":"fa_icon","path":"app/helpers/application_helper.rb","lineno":108,"static":false,"parameters":[{"name":"icon","class":"String","object_id":6373180,"value":"link","kind":"req"},{"name":"attributes","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActionView::Base","object_id":6372560,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9317deb08>"}},{"id":1095755,"event":"return","thread_id":9160,"parent_id":1095754,"elapsed":7.212202763184905e-05,"elapsed_instrumentation":0.0004002639907412231,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<i class=\"fa fa-link\"></i>","object_id":6373200}},{"id":1095756,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"media_attachments\".* FROM \"media_attachments\" WHERE \"media_attachments\".\"status_id\" = $1 ORDER BY \"media_attachments\".\"id\" ASC","database_type":"postgres"}},{"id":1095757,"event":"return","thread_id":9160,"parent_id":1095756,"elapsed":0.000661111,"elapsed_instrumentation":0.0001085330150090158},{"id":1095758,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6372340,"value":"/system/media_attachments/files/111/361/368/399/003/623/original/attachment.webm"}},{"id":1095759,"event":"return","thread_id":9160,"parent_id":1095758,"elapsed":3.641197690740228e-05,"elapsed_instrumentation":0.0005772020667791367,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1095760,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":6372500,"value":"#<MediaAttachment:0x00007fc93287d860>"}},{"id":1095761,"event":"return","thread_id":9160,"parent_id":1095760,"elapsed":7.5830030255019665e-06,"elapsed_instrumentation":0.0001163430861197412,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1095762,"event":"return","thread_id":9160,"parent_id":1095751,"elapsed":0.0060897780349478126,"elapsed_instrumentation":7.128802826628089e-05},{"id":1095763,"event":"return","thread_id":9160,"parent_id":1095750,"elapsed":0.006220811977982521,"elapsed_instrumentation":0.0002943679573945701},{"id":1095764,"event":"return","thread_id":9160,"parent_id":1095747,"elapsed":0.007378601003438234,"elapsed_instrumentation":0.0006110440590418875,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<div data-component=\"Video\" data-props=\"{&quot;sensitive&quot;:false,&quot;src&quot;:&quot;http://te (...1177 more characters)","object_id":6373220}},{"id":1095765,"event":"return","thread_id":9160,"parent_id":1095658,"elapsed":0.02591358800418675,"elapsed_instrumentation":0.00039431301411241293,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"<div data-component=\"Video\" data-props=\"{&quot;sensitive&quot;:false,&quot;src&quot;:&quot;http://te (...1177 more characters)","object_id":6373220}}]}