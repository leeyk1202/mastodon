{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"StatusThreadingConcern #descendants does not return replies from muted users","source_location":"spec/models/concerns/status_threading_concern_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountInteractions","type":"class","children":[{"name":"mute!","type":"function","location":"app/models/concerns/account_interactions.rb:151","static":false},{"name":"relations_map","type":"function","location":"app/models/concerns/account_interactions.rb:302","static":false}]},{"name":"Mute","type":"class","children":[{"name":"expires_in=","type":"function","location":"app/models/concerns/expireable.rb:19","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"StatusThreadingConcern","type":"class","children":[{"name":"descendants","type":"function","location":"app/models/concerns/status_threading_concern.rb:10","static":false}]}]},{"name":"Status","type":"class","children":[{"name":"account_domain","type":"function","location":"app/models/status.rb:168","static":false}]},{"name":"Account","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false},{"name":"silenced?","type":"function","location":"app/models/account.rb:225","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"PotentialFriendshipTracker","type":"class","children":[{"name":"remove","type":"function","location":"app/lib/potential_friendship_tracker.rb:27","static":true}]},{"name":"StatusFilter","type":"class","children":[{"name":"filtered?","type":"function","location":"app/lib/status_filter.rb:12","static":false}]}]},{"name":"policies","type":"package","children":[{"name":"StatusPolicy","type":"class","children":[{"name":"show?","type":"function","location":"app/policies/status_policy.rb:10","static":false}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":1149900,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"mute!","path":"app/models/concerns/account_interactions.rb","lineno":151,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":6366480,"value":"#<Account:0x00007fdc071226c8>","kind":"req"},{"name":"notifications","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"duration","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":6366660,"value":"#<Account:0x00007fdc07278360>"}},{"id":1149901,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"mutes\".* FROM \"mutes\" WHERE \"mutes\".\"account_id\" = $1 AND \"mutes\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1149902,"event":"return","thread_id":9160,"parent_id":1149901,"elapsed":0.000925563,"elapsed_instrumentation":0.000148940016515553},{"id":1149903,"event":"call","thread_id":9160,"defined_class":"Mute","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Mute","object_id":6366700,"value":"#<Mute:0x00007fdc082af648>"}},{"id":1149904,"event":"return","thread_id":9160,"parent_id":1149903,"elapsed":3.083300543949008e-05,"elapsed_instrumentation":0.00015686103142797947},{"id":1149905,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6366720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":1149906,"event":"return","thread_id":9160,"parent_id":1149905,"elapsed":2.1921005100011826e-05,"elapsed_instrumentation":0.00014659797307103872,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":1149907,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6366740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1074960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a4d890>"}},{"id":1149908,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1149909,"event":"return","thread_id":9160,"parent_id":1149908,"elapsed":0.000725773,"elapsed_instrumentation":0.00014155599637888372},{"id":1149910,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"mutes\" WHERE \"mutes\".\"account_id\" = $1 AND \"mutes\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1149911,"event":"return","thread_id":9160,"parent_id":1149910,"elapsed":0.002235074,"elapsed_instrumentation":0.0001220960111822933},{"id":1149912,"event":"return","thread_id":9160,"parent_id":1149907,"elapsed":0.005718050990253687,"elapsed_instrumentation":0.0002013449848163873,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc062dc960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc062dcb18 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc062dccf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc062dced8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1075000,"size":4}},{"id":1149913,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6366740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1074960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a4d890>"}},{"id":1149914,"event":"return","thread_id":9160,"parent_id":1149913,"elapsed":5.731009878218174e-06,"elapsed_instrumentation":0.0004774469998665154,"return_value":{"class":"Array","value":"[]","object_id":1075020,"size":0}},{"id":1149915,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6366720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":1149916,"event":"return","thread_id":9160,"parent_id":1149915,"elapsed":7.072987500578165e-06,"elapsed_instrumentation":0.000273479032330215,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":1149917,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6366760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1075060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a4cd00>"}},{"id":1149918,"event":"return","thread_id":9160,"parent_id":1149917,"elapsed":0.0004639670078177005,"elapsed_instrumentation":0.0002498719550203532,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc062d8540 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc062d8680 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1075080,"size":2}},{"id":1149919,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"mutes\" (\"created_at\", \"updated_at\", \"hide_notifications\", \"account_id\", \"target_account_id\", \"expires_at\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":1149920,"event":"return","thread_id":9160,"parent_id":1149919,"elapsed":0.002417953,"elapsed_instrumentation":0.00012246001278981566},{"id":1149921,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6366760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1075060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a4cd00>"}},{"id":1149922,"event":"return","thread_id":9160,"parent_id":1149921,"elapsed":6.340997060760856e-06,"elapsed_instrumentation":0.0001702209992799908,"return_value":{"class":"Array","value":"[]","object_id":1075100,"size":0}},{"id":1149923,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1149924,"event":"return","thread_id":9160,"parent_id":1149923,"elapsed":0.000633461,"elapsed_instrumentation":9.1767986305058e-05},{"id":1149925,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6366780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1075140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a4c300>"}},{"id":1149926,"event":"return","thread_id":9160,"parent_id":1149925,"elapsed":4.597008228302002e-06,"elapsed_instrumentation":0.00013876199955120683,"return_value":{"class":"Array","value":"[]","object_id":1075160,"size":0}},{"id":1149927,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6366780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1075140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a4c300>"}},{"id":1149928,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":6366800,"value":"Cache delete: exclude_account_ids_for:111360501859733432\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1149929,"event":"return","thread_id":9160,"parent_id":1149928,"elapsed":0.00143169000511989,"elapsed_instrumentation":0.00043309101602062583,"return_value":{"class":"Integer","value":"57","object_id":115}},{"id":1149930,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":6366820,"value":"Cache delete: relationship:111360501859733432:111360501859733431\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1149931,"event":"return","thread_id":9160,"parent_id":1149930,"elapsed":0.0018375919898971915,"elapsed_instrumentation":0.0003977430169470608,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1149932,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":6366840,"value":"Cache delete: relationship:111360501859733431:111360501859733432\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1149933,"event":"return","thread_id":9160,"parent_id":1149932,"elapsed":0.002231107995612547,"elapsed_instrumentation":0.00019705199520103633,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1149934,"event":"return","thread_id":9160,"parent_id":1149927,"elapsed":0.007382220996078104,"elapsed_instrumentation":0.0002221129834651947,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc062d4990 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc062d4850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1075240,"size":2}},{"id":1149935,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222721003719466865,"value":"111360501859733432","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222721003719466863,"value":"111360501859733431","kind":"req"}],"receiver":{"class":"Class","object_id":824880,"value":"PotentialFriendshipTracker"}},{"id":1149936,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":824880,"value":"PotentialFriendshipTracker"}},{"id":1149937,"event":"return","thread_id":9160,"parent_id":1149936,"elapsed":1.157898805104196e-05,"elapsed_instrumentation":0.0003995030128862709,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1149938,"event":"return","thread_id":9160,"parent_id":1149935,"elapsed":0.0010368289949838072,"elapsed_instrumentation":0.0001860910269897431},{"id":1149939,"event":"return","thread_id":9160,"parent_id":1149900,"elapsed":0.028909317014040425,"elapsed_instrumentation":0.0003490929666440934,"return_value":{"class":"Mute","value":"#<Mute:0x00007fdc082af648>","object_id":6366700}},{"id":1149940,"event":"call","thread_id":9160,"defined_class":"StatusThreadingConcern","method_id":"descendants","path":"app/models/concerns/status_threading_concern.rb","lineno":10,"static":false,"parameters":[{"name":"limit","class":"Integer","object_id":9,"value":"4","kind":"req"},{"name":"account","class":"Account","object_id":6366660,"value":"#<Account:0x00007fdc07278360>","kind":"opt"},{"name":"depth","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Status","object_id":6366520,"value":"#<Status:0x00007fdc08a5b6f8>"}},{"id":1149941,"event":"call","thread_id":9160,"sql_query":{"sql":"WITH RECURSIVE search_tree(id, path) AS ( SELECT id, ARRAY[id] FROM statuses WHERE id = 111360501859713527 UNION ALL SELECT statuses.id, path || statuses.id FROM search_tree JOIN statuses ON statuses.in_reply_to_id = search_tree.id WHERE COALESCE(array_length(path, 1) < NULL, TRUE) AND NOT statuses.id = ANY(path) ) SELECT id FROM search_tree ORDER BY path LIMIT 5","database_type":"postgres"}},{"id":1149942,"event":"return","thread_id":9160,"parent_id":1149941,"elapsed":0.00174941,"elapsed_instrumentation":0.000119454984087497},{"id":1149943,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"statuses\".* FROM \"statuses\" WHERE \"statuses\".\"deleted_at\" IS NULL AND \"statuses\".\"id\" IN ($1, $2, $3) ORDER BY \"statuses\".\"id\" DESC","database_type":"postgres"}},{"id":1149944,"event":"return","thread_id":9160,"parent_id":1149943,"elapsed":0.001394172,"elapsed_instrumentation":0.00013811999815516174},{"id":1149945,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN ($1, $2, $3)","database_type":"postgres"}},{"id":1149946,"event":"return","thread_id":9160,"parent_id":1149945,"elapsed":0.001739336,"elapsed_instrumentation":0.00012506198254413903},{"id":1149947,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":6366920,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":6366940,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":6366860,"value":"#<Status:0x00007fdc150e65c0>"}},{"id":1149948,"event":"return","thread_id":9160,"parent_id":1149947,"elapsed":4.772702232003212e-05,"elapsed_instrumentation":0.000452977983513847},{"id":1149949,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":6366960,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":6366980,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":6366880,"value":"#<Status:0x00007fdc150e6110>"}},{"id":1149950,"event":"return","thread_id":9160,"parent_id":1149949,"elapsed":3.7955003790557384e-05,"elapsed_instrumentation":0.0002242020273115486,"return_value":{"class":"String","value":"example.com","object_id":6367000}},{"id":1149951,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":6367020,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":6367040,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":6366900,"value":"#<Status:0x00007fdc150e4fb8>"}},{"id":1149952,"event":"return","thread_id":9160,"parent_id":1149951,"elapsed":2.177199348807335e-05,"elapsed_instrumentation":0.00013922201469540596},{"id":1149953,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"relations_map","path":"app/models/concerns/account_interactions.rb","lineno":302,"static":false,"parameters":[{"name":"account_ids","class":"Array","object_id":6367060,"value":"[111360501859733431, 111360501859733430, 111360501859733429]","kind":"req","size":3},{"name":"domains","class":"Array","object_id":6367080,"value":"[example.com]","kind":"opt","size":1},{"name":"options","class":"Hash","object_id":6367100,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"Account","object_id":6366660,"value":"#<Account:0x00007fdc07278360>"}},{"id":1149954,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"blocks\".\"account_id\" FROM \"blocks\" WHERE \"blocks\".\"account_id\" IN ($1, $2, $3) AND \"blocks\".\"target_account_id\" = $4","database_type":"postgres"}},{"id":1149955,"event":"return","thread_id":9160,"parent_id":1149954,"elapsed":0.001259899,"elapsed_instrumentation":0.00024104700423777103},{"id":1149956,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"target_account_id\" IN ($1, $2, $3) AND \"follows\".\"account_id\" = $4","database_type":"postgres"}},{"id":1149957,"event":"return","thread_id":9160,"parent_id":1149956,"elapsed":0.001234136,"elapsed_instrumentation":0.00013403399498201907},{"id":1149958,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"blocks\".\"target_account_id\" FROM \"blocks\" WHERE \"blocks\".\"target_account_id\" IN ($1, $2, $3) AND \"blocks\".\"account_id\" = $4","database_type":"postgres"}},{"id":1149959,"event":"return","thread_id":9160,"parent_id":1149958,"elapsed":0.001019644,"elapsed_instrumentation":0.00014614200335927308},{"id":1149960,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"mutes\".* FROM \"mutes\" WHERE \"mutes\".\"target_account_id\" IN ($1, $2, $3) AND \"mutes\".\"account_id\" = $4","database_type":"postgres"}},{"id":1149961,"event":"return","thread_id":9160,"parent_id":1149960,"elapsed":0.000727931,"elapsed_instrumentation":0.00030518497806042433},{"id":1149962,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_domain_blocks\".\"domain\" FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" = $2","database_type":"postgres"}},{"id":1149963,"event":"return","thread_id":9160,"parent_id":1149962,"elapsed":0.000877051,"elapsed_instrumentation":8.156400872394443e-05},{"id":1149964,"event":"return","thread_id":9160,"parent_id":1149953,"elapsed":0.013485934992786497,"elapsed_instrumentation":0.0006032179808244109,"return_value":{"class":"Hash","value":"{:blocked_by=>{}, :following=>{}, :blocking=>{}, :muting=>{111360501859733431=>{:notifications=>true}}, :domain_blocking_by_domain=>{}}","object_id":6367120,"size":5}},{"id":1149965,"event":"call","thread_id":9160,"defined_class":"StatusFilter","method_id":"filtered?","path":"app/lib/status_filter.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"StatusFilter","object_id":6367140,"value":"#<StatusFilter:0x00007fdc143282f8>"}},{"id":1149966,"event":"call","thread_id":9160,"defined_class":"StatusPolicy","method_id":"show?","path":"app/policies/status_policy.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"StatusPolicy","object_id":6367160,"value":"#<StatusPolicy:0x00007fdc14320530>"}},{"id":1149967,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6367180,"value":"#<Account:0x00007fdc082adac8>"}},{"id":1149968,"event":"return","thread_id":9160,"parent_id":1149967,"elapsed":0.0002723440120462328,"elapsed_instrumentation":0.0005317639734130353},{"id":1149969,"event":"return","thread_id":9160,"parent_id":1149966,"elapsed":0.0009645079844631255,"elapsed_instrumentation":0.00010710902279242873,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1149970,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":6367200,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":6367220,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":6366860,"value":"#<Status:0x00007fdc150e65c0>"}},{"id":1149971,"event":"return","thread_id":9160,"parent_id":1149970,"elapsed":2.019299427047372e-05,"elapsed_instrumentation":0.00018734700279310346},{"id":1149972,"event":"return","thread_id":9160,"parent_id":1149965,"elapsed":0.001373286999296397,"elapsed_instrumentation":0.00032777199521660805,"return_value":{"class":"Hash","value":"{:notifications=>true}","object_id":6367240,"size":1}},{"id":1149973,"event":"call","thread_id":9160,"defined_class":"StatusFilter","method_id":"filtered?","path":"app/lib/status_filter.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"StatusFilter","object_id":6367260,"value":"#<StatusFilter:0x00007fdc0fa959c8>"}},{"id":1149974,"event":"call","thread_id":9160,"defined_class":"StatusPolicy","method_id":"show?","path":"app/policies/status_policy.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"StatusPolicy","object_id":6367280,"value":"#<StatusPolicy:0x00007fdc0faa3410>"}},{"id":1149975,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6367300,"value":"#<Account:0x00007fdc082adc08>"}},{"id":1149976,"event":"return","thread_id":9160,"parent_id":1149975,"elapsed":2.1079991711303592e-05,"elapsed_instrumentation":6.649998249486089e-05},{"id":1149977,"event":"return","thread_id":9160,"parent_id":1149974,"elapsed":0.00043198998901061714,"elapsed_instrumentation":0.00010888301767408848,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1149978,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":6367320,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":6367340,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":6366880,"value":"#<Status:0x00007fdc150e6110>"}},{"id":1149979,"event":"return","thread_id":9160,"parent_id":1149978,"elapsed":1.629799953661859e-05,"elapsed_instrumentation":0.00016566296108067036,"return_value":{"class":"String","value":"example.com","object_id":6367000}},{"id":1149980,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6366660,"value":"#<Account:0x00007fdc07278360>"}},{"id":1149981,"event":"return","thread_id":9160,"parent_id":1149980,"elapsed":2.348099951632321e-05,"elapsed_instrumentation":6.970300455577672e-05},{"id":1149982,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6367300,"value":"#<Account:0x00007fdc082adc08>"}},{"id":1149983,"event":"return","thread_id":9160,"parent_id":1149982,"elapsed":1.526600681245327e-05,"elapsed_instrumentation":6.130203837528825e-05},{"id":1149984,"event":"return","thread_id":9160,"parent_id":1149973,"elapsed":0.0010165279963985085,"elapsed_instrumentation":6.850803038105369e-05},{"id":1149985,"event":"call","thread_id":9160,"defined_class":"StatusFilter","method_id":"filtered?","path":"app/lib/status_filter.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"StatusFilter","object_id":6367360,"value":"#<StatusFilter:0x00007fdc0fb445b8>"}},{"id":1149986,"event":"call","thread_id":9160,"defined_class":"StatusPolicy","method_id":"show?","path":"app/policies/status_policy.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"StatusPolicy","object_id":6367380,"value":"#<StatusPolicy:0x00007fdc0fb5e198>"}},{"id":1149987,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6367400,"value":"#<Account:0x00007fdc082add48>"}},{"id":1149988,"event":"return","thread_id":9160,"parent_id":1149987,"elapsed":2.743699587881565e-05,"elapsed_instrumentation":0.0003440680156927556},{"id":1149989,"event":"return","thread_id":9160,"parent_id":1149986,"elapsed":0.0005144000169821084,"elapsed_instrumentation":9.090898674912751e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1149990,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":6367420,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":6367440,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":6366900,"value":"#<Status:0x00007fdc150e4fb8>"}},{"id":1149991,"event":"return","thread_id":9160,"parent_id":1149990,"elapsed":2.3303000489249825e-05,"elapsed_instrumentation":0.00014789501437917352},{"id":1149992,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6366660,"value":"#<Account:0x00007fdc07278360>"}},{"id":1149993,"event":"return","thread_id":9160,"parent_id":1149992,"elapsed":1.5388999599963427e-05,"elapsed_instrumentation":0.00011987000470981002},{"id":1149994,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6367400,"value":"#<Account:0x00007fdc082add48>"}},{"id":1149995,"event":"return","thread_id":9160,"parent_id":1149994,"elapsed":3.966601798310876e-05,"elapsed_instrumentation":0.00010375698911957443},{"id":1149996,"event":"return","thread_id":9160,"parent_id":1149985,"elapsed":0.0013861909974366426,"elapsed_instrumentation":6.247000419534743e-05},{"id":1149997,"event":"return","thread_id":9160,"parent_id":1149940,"elapsed":0.03397437100647949,"elapsed_instrumentation":0.00046188602573238313,"return_value":{"class":"Array","value":"[#<Status:0x00007fdc150e4fb8>, #<Status:0x00007fdc150e6110>]","object_id":6367460,"size":2}}]}