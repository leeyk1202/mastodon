{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"BulkImportService #call when importing blocks blocks all the listed users once the workers have run","source_location":"spec/services/bulk_import_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]},{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]},{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"workers/import","type":"package","children":[{"name":"Import","type":"class","children":[{"name":"RowWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/import/row_worker.rb:16","static":false}]}]}]},{"name":"services","type":"package","children":[{"name":"BulkImportRowService","type":"class","children":[{"name":"domain","type":"function","location":"app/services/bulk_import_row_service.rb:49","static":false},{"name":"stoplight_wrap_request","type":"function","location":"app/services/bulk_import_row_service.rb:54","static":false}]},{"name":"concerns","type":"package","children":[{"name":"Payloadable","type":"class","children":[{"name":"serialize_payload","type":"function","location":"app/services/concerns/payloadable.rb:13","static":false}]}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"local_domain?","type":"function","location":"app/lib/tag_manager.rb:13","static":false},{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"PotentialFriendshipTracker","type":"class","children":[{"name":"remove","type":"function","location":"app/lib/potential_friendship_tracker.rb:27","static":true}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"generate_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:61","static":false},{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false}]},{"name":"Adapter","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/adapter.rb:14","static":false},{"name":"transform_key_casing!","type":"function","location":"app/lib/activitypub/adapter.rb:10","static":true}]},{"name":"Serializer","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/serializer.rb:31","static":false}]},{"name":"CaseTransform","type":"class","children":[{"name":"camel_lower","type":"function","location":"app/lib/activitypub/case_transform.rb:9","static":true},{"name":"camel_lower_cache","type":"function","location":"app/lib/activitypub/case_transform.rb:5","static":true}]}]}]}]},{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"object_type","type":"function","location":"app/models/account.rb:385","static":false},{"name":"instance_actor?","type":"function","location":"app/models/account.rb:175","static":false},{"name":"to_param","type":"function","location":"app/models/account.rb:389","static":false},{"name":"acct","type":"function","location":"app/models/account.rb:191","static":false}]},{"name":"concerns","type":"package","children":[{"name":"DomainMaterializable","type":"class","children":[{"name":"refresh_instances_view","type":"function","location":"app/models/concerns/domain_materializable.rb:12","static":false},{"name":"count_unique_subdomains!","type":"function","location":"app/models/concerns/domain_materializable.rb:19","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountInteractions","type":"class","children":[{"name":"following?","type":"function","location":"app/models/concerns/account_interactions.rb:198","static":false},{"name":"requested?","type":"function","location":"app/models/concerns/account_interactions.rb:238","static":false},{"name":"block!","type":"function","location":"app/models/concerns/account_interactions.rb:145","static":false}]}]},{"name":"Instance","type":"class","children":[{"name":"refresh","type":"function","location":"app/models/instance.rb:28","static":true}]},{"name":"Block","type":"class","children":[{"name":"local?","type":"function","location":"app/models/block.rb:24","static":false}]},{"name":"BulkImport","type":"class","children":[{"name":"progress!","type":"function","location":"app/models/bulk_import.rb:45","static":true}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]},{"name":"ContextHelper","type":"class","children":[{"name":"serialized_context","type":"function","location":"app/helpers/context_helper.rb:41","static":false}]}]},{"name":"serializers/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"BlockSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/activitypub/block_serializer.rb:7","static":false},{"name":"type","type":"function","location":"app/serializers/activitypub/block_serializer.rb:11","static":false},{"name":"actor","type":"function","location":"app/serializers/activitypub/block_serializer.rb:15","static":false},{"name":"virtual_object","type":"function","location":"app/serializers/activitypub/block_serializer.rb:19","static":false}]}]}]}]},{"name":"lib/paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]}],"events":[{"id":397132,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"bulk_import_rows\".* FROM \"bulk_import_rows\" WHERE \"bulk_import_rows\".\"bulk_import_id\" = $1","database_type":"postgres"}},{"id":397133,"event":"return","thread_id":9160,"parent_id":397132,"elapsed":0.000867403,"elapsed_instrumentation":0.00012550002429634333},{"id":397134,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2828960,"value":"#<JSON::Ext::Parser:0x00007fc932c0da70>"}},{"id":397135,"event":"return","thread_id":9160,"parent_id":397134,"elapsed":8.425966370850801e-06,"elapsed_instrumentation":0.0001913299784064293,"return_value":{"class":"Hash","value":"{acct=>user@foo.bar}","object_id":2828980,"size":1}},{"id":397136,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2829000,"value":"#<JSON::Ext::Parser:0x00007fc932c0c7b0>"}},{"id":397137,"event":"return","thread_id":9160,"parent_id":397136,"elapsed":6.293994374573231e-06,"elapsed_instrumentation":0.00017371203284710646,"return_value":{"class":"Hash","value":"{acct=>unknown@unknown.bar}","object_id":2829020,"size":1}},{"id":397138,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":2829040,"value":"{acct=>user@foo.bar}","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2829060,"value":"#<JSON::Ext::Generator::State:0x00007fc932c0b608>"}},{"id":397139,"event":"return","thread_id":9160,"parent_id":397138,"elapsed":1.3168028090149164e-05,"elapsed_instrumentation":0.00017598399426788092,"return_value":{"class":"String","value":"{\"acct\":\"user@foo.bar\"}","object_id":2829080}},{"id":397140,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2829100,"value":"#<JSON::Ext::Parser:0x00007fc932c0a618>"}},{"id":397141,"event":"return","thread_id":9160,"parent_id":397140,"elapsed":7.668975740671158e-06,"elapsed_instrumentation":0.00022359401918947697,"return_value":{"class":"Hash","value":"{acct=>user@foo.bar}","object_id":2829120,"size":1}},{"id":397142,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":2829140,"value":"{acct=>unknown@unknown.bar}","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2829160,"value":"#<JSON::Ext::Generator::State:0x00007fc932c096f0>"}},{"id":397143,"event":"return","thread_id":9160,"parent_id":397142,"elapsed":8.557981345802546e-06,"elapsed_instrumentation":0.00017238198779523373,"return_value":{"class":"String","value":"{\"acct\":\"unknown@unknown.bar\"}","object_id":2829180}},{"id":397144,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2829200,"value":"#<JSON::Ext::Parser:0x00007fc932c08700>"}},{"id":397145,"event":"return","thread_id":9160,"parent_id":397144,"elapsed":7.458031177520752e-06,"elapsed_instrumentation":0.0001061199582181871,"return_value":{"class":"Hash","value":"{acct=>unknown@unknown.bar}","object_id":2829220,"size":1}},{"id":397146,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":2829240,"value":"Y____\u0001_xi5fM"}},{"id":397147,"event":"return","thread_id":9160,"parent_id":397146,"elapsed":5.362031515687704e-06,"elapsed_instrumentation":0.00015727494610473514,"return_value":{"class":"String","value":"59c2e4f4cd019f786935664d","object_id":2829260}},{"id":397148,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":2829280,"value":"_Z__!___i_@\u001e"}},{"id":397149,"event":"return","thread_id":9160,"parent_id":397148,"elapsed":3.669003490358591e-06,"elapsed_instrumentation":0.00019062001956626773,"return_value":{"class":"String","value":"ac5af8cb21f6b19669b7401e","object_id":2829300}},{"id":397150,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":2829320,"value":"[1804]","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2829340,"value":"#<JSON::Ext::Generator::State:0x00007fc932c05410>"}},{"id":397151,"event":"return","thread_id":9160,"parent_id":397150,"elapsed":6.0130259953439236e-06,"elapsed_instrumentation":0.00011854595504701138,"return_value":{"class":"String","value":"[1804]","object_id":2829360}},{"id":397152,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2829380,"value":"#<JSON::Ext::Parser:0x00007fc932c045d8>"}},{"id":397153,"event":"return","thread_id":9160,"parent_id":397152,"elapsed":4.672969225794077e-06,"elapsed_instrumentation":7.83750438131392e-05,"return_value":{"class":"Array","value":"[1804]","object_id":2829400,"size":1}},{"id":397154,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":2829420,"value":"k__Jr___U___"}},{"id":397155,"event":"return","thread_id":9160,"parent_id":397154,"elapsed":3.33995558321476e-06,"elapsed_instrumentation":9.354599751532078e-05,"return_value":{"class":"String","value":"6bde9e4a72efef8155a1b6ff","object_id":2829440}},{"id":397156,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":2829460,"value":"[1805]","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2829480,"value":"#<JSON::Ext::Generator::State:0x00007fc932c029e0>"}},{"id":397157,"event":"return","thread_id":9160,"parent_id":397156,"elapsed":5.700974725186825e-06,"elapsed_instrumentation":9.454897372052073e-05,"return_value":{"class":"String","value":"[1805]","object_id":2829500}},{"id":397158,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2829520,"value":"#<JSON::Ext::Parser:0x00007fc932c01b08>"}},{"id":397159,"event":"return","thread_id":9160,"parent_id":397158,"elapsed":3.4869881346821785e-06,"elapsed_instrumentation":7.062801159918308e-05,"return_value":{"class":"Array","value":"[1805]","object_id":2829540,"size":1}},{"id":397160,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":2829560,"value":"{retry=>6, queue=>pull, dead=>false, class=>Import::RowWorker, args=>[1804], jid=>ac5af8cb21f6b19669b7401e, created_at=>1699239196.1181414}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2829580,"value":"#<JSON::Ext::Generator::State:0x00007fc932c00e60>"}},{"id":397161,"event":"return","thread_id":9160,"parent_id":397160,"elapsed":1.2914009857922792e-05,"elapsed_instrumentation":0.0006470720400102437,"return_value":{"class":"String","value":"{\"retry\":6,\"queue\":\"pull\",\"dead\":false,\"class\":\"Import::RowWorker\",\"args\":[1804],\"jid\":\"ac5af8cb21f6 (...46 more characters)","object_id":2829600}},{"id":397162,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2829620,"value":"#<JSON::Ext::Parser:0x00007fc932bbed58>"}},{"id":397163,"event":"return","thread_id":9160,"parent_id":397162,"elapsed":2.1970015950500965e-05,"elapsed_instrumentation":0.00019202602561563253,"return_value":{"class":"Hash","value":"{retry=>6, queue=>pull, dead=>false, class=>Import::RowWorker, args=>[1804], jid=>ac5af8cb21f6b19669b7401e, created_at=>1699239196.1181414}","object_id":2829640,"size":7}},{"id":397164,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":2829660,"value":"{retry=>6, queue=>pull, dead=>false, class=>Import::RowWorker, args=>[1805], jid=>6bde9e4a72efef8155a1b6ff, created_at=>1699239196.1181414}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2829680,"value":"#<JSON::Ext::Generator::State:0x00007fc932bbcbe8>"}},{"id":397165,"event":"return","thread_id":9160,"parent_id":397164,"elapsed":1.3572978787124157e-05,"elapsed_instrumentation":0.00035345397191122174,"return_value":{"class":"String","value":"{\"retry\":6,\"queue\":\"pull\",\"dead\":false,\"class\":\"Import::RowWorker\",\"args\":[1805],\"jid\":\"6bde9e4a72ef (...46 more characters)","object_id":2829700}},{"id":397166,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2829720,"value":"#<JSON::Ext::Parser:0x00007fc932bba8e8>"}},{"id":397167,"event":"return","thread_id":9160,"parent_id":397166,"elapsed":1.8490012735128403e-05,"elapsed_instrumentation":0.000174498010892421,"return_value":{"class":"Hash","value":"{retry=>6, queue=>pull, dead=>false, class=>Import::RowWorker, args=>[1805], jid=>6bde9e4a72efef8155a1b6ff, created_at=>1699239196.1181414}","object_id":2829740,"size":7}},{"id":397168,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2829760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f880>"}},{"id":397169,"event":"return","thread_id":9160,"parent_id":397168,"elapsed":2.9176007956266403e-05,"elapsed_instrumentation":0.0002689529792405665,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933289750 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2826140,"size":1}},{"id":397170,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2829780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f830>"}},{"id":397171,"event":"return","thread_id":9160,"parent_id":397170,"elapsed":0.00013669300824403763,"elapsed_instrumentation":0.00014825596008449793,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933288800 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9332889b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933288b98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933288cd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2826200,"size":4}},{"id":397172,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2829780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f830>"}},{"id":397173,"event":"return","thread_id":9160,"parent_id":397172,"elapsed":3.8460129871964455e-06,"elapsed_instrumentation":8.001498645171523e-05,"return_value":{"class":"Array","value":"[]","object_id":2826220,"size":0}},{"id":397174,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2829760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f880>"}},{"id":397175,"event":"return","thread_id":9160,"parent_id":397174,"elapsed":1.1339958291500807e-05,"elapsed_instrumentation":9.131903061643243e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933289610 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2826240,"size":1}},{"id":397176,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2829800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f5b0>"}},{"id":397177,"event":"return","thread_id":9160,"parent_id":397176,"elapsed":0.00010076997568830848,"elapsed_instrumentation":0.0002579440479166806,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933286de8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2826300,"size":1}},{"id":397178,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2829800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f600>"}},{"id":397179,"event":"return","thread_id":9160,"parent_id":397178,"elapsed":3.4460099413990974e-06,"elapsed_instrumentation":0.00010622601257637143,"return_value":{"class":"Array","value":"[]","object_id":2826340,"size":0}},{"id":397180,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2829820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826380,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c64570>"}},{"id":397181,"event":"return","thread_id":9160,"parent_id":397180,"elapsed":3.356020897626877e-06,"elapsed_instrumentation":0.00011794595047831535,"return_value":{"class":"Array","value":"[]","object_id":2826400,"size":0}},{"id":397182,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397183,"event":"return","thread_id":9160,"parent_id":397182,"elapsed":0.000446164,"elapsed_instrumentation":9.621999925002456e-05},{"id":397184,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"bulk_imports\" SET \"state\" = $1, \"finished_at\" = $2, \"updated_at\" = $3 WHERE \"bulk_imports\".\"id\" = $4","database_type":"postgres"}},{"id":397185,"event":"return","thread_id":9160,"parent_id":397184,"elapsed":0.002078835,"elapsed_instrumentation":8.923799032345414e-05},{"id":397186,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2829820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826380,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c64570>"}},{"id":397187,"event":"return","thread_id":9160,"parent_id":397186,"elapsed":0.00022627500584349036,"elapsed_instrumentation":0.0002658360172063112,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933256918 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2826420,"size":1}},{"id":397188,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2829800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f600>"}},{"id":397189,"event":"return","thread_id":9160,"parent_id":397188,"elapsed":3.6160345189273357e-06,"elapsed_instrumentation":0.00010800891323015094,"return_value":{"class":"Array","value":"[]","object_id":2826440,"size":0}},{"id":397190,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2829800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f5b0>"}},{"id":397191,"event":"return","thread_id":9160,"parent_id":397190,"elapsed":2.8240028768777847e-06,"elapsed_instrumentation":7.725902833044529e-05,"return_value":{"class":"Array","value":"[]","object_id":2826460,"size":0}},{"id":397192,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397193,"event":"return","thread_id":9160,"parent_id":397192,"elapsed":0.000502975,"elapsed_instrumentation":8.265499491244555e-05},{"id":397194,"event":"call","thread_id":9160,"defined_class":"Import::RowWorker","method_id":"perform","path":"app/workers/import/row_worker.rb","lineno":16,"static":false,"parameters":[{"name":"row_id","class":"Integer","object_id":3609,"value":"1804","kind":"req"}],"receiver":{"class":"Import::RowWorker","object_id":2829860,"value":"#<Import::RowWorker:0x00007fc932bc5cc0>"}},{"id":397195,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"bulk_import_rows\".\"id\" AS t0_r0, \"bulk_import_rows\".\"bulk_import_id\" AS t0_r1, \"bulk_import_rows\".\"data\" AS t0_r2, \"bulk_import_rows\".\"created_at\" AS t0_r3, \"bulk_import_rows\".\"updated_at\" AS t0_r4, \"bulk_imports\".\"id\" AS t1_r0, \"bulk_imports\".\"type\" AS t1_r1, \"bulk_imports\".\"state\" AS t1_r2, \"bulk_imports\".\"total_items\" AS t1_r3, \"bulk_imports\".\"imported_items\" AS t1_r4, \"bulk_imports\".\"processed_items\" AS t1_r5, \"bulk_imports\".\"finished_at\" AS t1_r6, \"bulk_imports\".\"overwrite\" AS t1_r7, \"bulk_imports\".\"likely_mismatched\" AS t1_r8, \"bulk_imports\".\"original_filename\" AS t1_r9, \"bulk_imports\".\"account_id\" AS t1_r10, \"bulk_imports\".\"created_at\" AS t1_r11, \"bulk_imports\".\"updated_at\" AS t1_r12, \"accounts\".\"id\" AS t2_r0, \"accounts\".\"username\" AS t2_r1, \"accounts\".\"domain\" AS t2_r2, \"accounts\".\"private_key\" AS t2_r3, \"accounts\".\"public_key\" AS t2_r4, \"accounts\".\"created_at\" AS t2_r5, \"accounts\".\"updated_at\" AS t2_r6, \"accounts\".\"note\" AS t2_r7, \"accounts\".\"display_name\" AS t2_r8, \"accounts\".\"uri\" AS t2_r9, \"accounts\".\"url\" AS t2_r10, \"accounts\".\"avatar_file_name\" AS t2_r11, \"accounts\".\"avatar_content_type\" AS t2_r12, \"accounts\".\"avatar_file_size\" AS t2_r13, \"accounts\".\"avatar_updated_at\" AS t2_r14, \"accounts\".\"header_file_name\" AS t2_r15, \"accounts\".\"header_content_type\" AS t2_r16, \"accounts\".\"header_file_size\" AS t2_r17, \"accounts\".\"header_updated_at\" AS t2_r18, \"accounts\".\"avatar_remote_url\" AS t2_r19, \"accounts\".\"locked\" AS t2_r20, \"accounts\".\"header_remote_url\" AS t2_r21, \"accounts\".\"last_webfingered_at\" AS t2_r22, \"accounts\".\"inbox_url\" AS t2_r23, \"accounts\".\"outbox_url\" AS t2_r24, \"accounts\".\"shared_inbox_url\" AS t2_r25, \"accounts\".\"followers_url\" AS t2_r26, \"accounts\".\"protocol\" AS t2_r27, \"accounts\".\"memorial\" AS t2_r28, \"accounts\".\"moved_to_account_id\" AS t2_r29, \"accounts\".\"featured_collection_url\" AS t2_r30, \"accounts\".\"fields\" AS t2_r31, \"accounts\".\"actor_type\" AS t2_r32, \"accounts\".\"discoverable\" AS t2_r33, \"accounts\".\"also_known_as\" AS t2_r34, \"accounts\".\"silenced_at\" AS t2_r35, \"accounts\".\"suspended_at\" AS t2_r36, \"accounts\".\"hide_collections\" AS t2_r37, \"accounts\".\"avatar_storage_schema_version\" AS t2_r38, \"accounts\".\"header_storage_schema_version\" AS t2_r39, \"accounts\".\"devices_url\" AS t2_r40, \"accounts\".\"suspension_origin\" AS t2_r41, \"accounts\".\"sensitized_at\" AS t2_r42, \"accounts\".\"trendable\" AS t2_r43, \"accounts\".\"reviewed_at\" AS t2_r44, \"accounts\".\"requested_review_at\" AS t2_r45, \"accounts\".\"indexable\" AS t2_r46 FROM \"bulk_import_rows\" LEFT OUTER JOIN \"bulk_imports\" ON \"bulk_imports\".\"id\" = \"bulk_import_rows\".\"bulk_import_id\" LEFT OUTER JOIN \"accounts\" ON \"accounts\".\"id\" = \"bulk_imports\".\"account_id\" WHERE \"bulk_import_rows\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":397196,"event":"return","thread_id":9160,"parent_id":397195,"elapsed":0.002712044,"elapsed_instrumentation":0.00013902800856158137},{"id":397197,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2829980,"value":"#<JSON::Ext::Parser:0x00007fc932b22a70>"}},{"id":397198,"event":"return","thread_id":9160,"parent_id":397197,"elapsed":1.1447991710156202e-05,"elapsed_instrumentation":0.00021745701087638736,"return_value":{"class":"Hash","value":"{acct=>user@foo.bar}","object_id":2830000,"size":1}},{"id":397199,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"domain","path":"app/services/bulk_import_row_service.rb","lineno":49,"static":false,"parameters":[{"name":"uri","class":"String","object_id":2830020,"value":"user@foo.bar","kind":"req"}],"receiver":{"class":"BulkImportRowService","object_id":2830040,"value":"#<BulkImportRowService:0x00007fc932b22b88>"}},{"id":397200,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":2830060,"value":"foo.bar","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":397201,"event":"return","thread_id":9160,"parent_id":397200,"elapsed":2.082402352243662e-05,"elapsed_instrumentation":8.851196616888046e-05},{"id":397202,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":2830060,"value":"foo.bar","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":397203,"event":"return","thread_id":9160,"parent_id":397202,"elapsed":0.00010237802052870393,"elapsed_instrumentation":0.00011626194464042783,"return_value":{"class":"String","value":"foo.bar","object_id":2830080}},{"id":397204,"event":"return","thread_id":9160,"parent_id":397199,"elapsed":0.000385240011382848,"elapsed_instrumentation":0.0003999800537712872,"return_value":{"class":"String","value":"foo.bar","object_id":2830080}},{"id":397205,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"stoplight_wrap_request","path":"app/services/bulk_import_row_service.rb","lineno":54,"static":false,"parameters":[{"name":"domain","class":"String","object_id":2830080,"value":"foo.bar","kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"BulkImportRowService","object_id":2830040,"value":"#<BulkImportRowService:0x00007fc932b22b88>"}},{"id":397206,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":397207,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397208,"event":"return","thread_id":9160,"parent_id":397207,"elapsed":2.0038976799696684e-05,"elapsed_instrumentation":8.388503920286894e-05},{"id":397209,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":2830140,"value":"foo.bar","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":397210,"event":"return","thread_id":9160,"parent_id":397209,"elapsed":9.82809578999877e-05,"elapsed_instrumentation":0.0002779369824565947,"return_value":{"class":"String","value":"foo.bar","object_id":2830160}},{"id":397211,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397212,"event":"return","thread_id":9160,"parent_id":397211,"elapsed":1.824204809963703e-05,"elapsed_instrumentation":0.0001715269754640758},{"id":397213,"event":"return","thread_id":9160,"parent_id":397206,"elapsed":0.0008849470177665353,"elapsed_instrumentation":0.0002470940235070884,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28e78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b2b5d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323140,"size":4}},{"id":397214,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":397215,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":323320,"value":"#<UniqueUsernameValidator:0x00007fc9402767b0>"}},{"id":397216,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397217,"event":"return","thread_id":9160,"parent_id":397216,"elapsed":0.000626894,"elapsed_instrumentation":0.00021918496349826455},{"id":397218,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'user' AND LOWER(\"accounts\".\"domain\") = 'foo.bar' LIMIT $1","database_type":"postgres"}},{"id":397219,"event":"return","thread_id":9160,"parent_id":397218,"elapsed":0.001964142,"elapsed_instrumentation":0.0001658330438658595},{"id":397220,"event":"return","thread_id":9160,"parent_id":397215,"elapsed":0.0032977149821817875,"elapsed_instrumentation":0.00015996501315385103},{"id":397221,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397222,"event":"return","thread_id":9160,"parent_id":397221,"elapsed":1.28219835460186e-05,"elapsed_instrumentation":0.00012594100553542376},{"id":397223,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397224,"event":"return","thread_id":9160,"parent_id":397223,"elapsed":4.677975084632635e-06,"elapsed_instrumentation":6.619602208957076e-05},{"id":397225,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397226,"event":"return","thread_id":9160,"parent_id":397225,"elapsed":6.260990630835295e-06,"elapsed_instrumentation":9.216298349201679e-05},{"id":397227,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397228,"event":"return","thread_id":9160,"parent_id":397227,"elapsed":8.064031135290861e-06,"elapsed_instrumentation":8.110998896881938e-05},{"id":397229,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397230,"event":"return","thread_id":9160,"parent_id":397229,"elapsed":1.0429008398205042e-05,"elapsed_instrumentation":0.0003577520255930722},{"id":397231,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397232,"event":"return","thread_id":9160,"parent_id":397231,"elapsed":6.360001862049103e-06,"elapsed_instrumentation":9.040406439453363e-05},{"id":397233,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397234,"event":"return","thread_id":9160,"parent_id":397233,"elapsed":4.607019945979118e-06,"elapsed_instrumentation":5.5800017435103655e-05},{"id":397235,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397236,"event":"return","thread_id":9160,"parent_id":397235,"elapsed":4.635204095393419e-05,"elapsed_instrumentation":6.056495476514101e-05},{"id":397237,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397238,"event":"return","thread_id":9160,"parent_id":397237,"elapsed":4.931003786623478e-06,"elapsed_instrumentation":6.848503835499287e-05},{"id":397239,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397240,"event":"return","thread_id":9160,"parent_id":397239,"elapsed":4.357018042355776e-06,"elapsed_instrumentation":5.160499131307006e-05},{"id":397241,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397242,"event":"return","thread_id":9160,"parent_id":397241,"elapsed":4.2639439925551414e-06,"elapsed_instrumentation":4.9502006731927395e-05},{"id":397243,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397244,"event":"return","thread_id":9160,"parent_id":397243,"elapsed":4.059984348714352e-06,"elapsed_instrumentation":4.9083027988672256e-05},{"id":397245,"event":"return","thread_id":9160,"parent_id":397214,"elapsed":0.006750584987457842,"elapsed_instrumentation":0.00026284006889909506,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939c310e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c31f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c320d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32468 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c325f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32a08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c337f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":323620,"size":71}},{"id":397246,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":397247,"event":"return","thread_id":9160,"parent_id":397246,"elapsed":4.0110317058861256e-06,"elapsed_instrumentation":9.281595703214407e-05,"return_value":{"class":"Array","value":"[]","object_id":323640,"size":0}},{"id":397248,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":397249,"event":"return","thread_id":9160,"parent_id":397248,"elapsed":1.342699397355318e-05,"elapsed_instrumentation":8.862902177497745e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28b08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323660,"size":1}},{"id":397250,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":397251,"event":"return","thread_id":9160,"parent_id":397250,"elapsed":2.6308000087738037e-05,"elapsed_instrumentation":9.434798266738653e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93912dae0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323720,"size":1}},{"id":397252,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":397253,"event":"return","thread_id":9160,"parent_id":397252,"elapsed":3.8060243241488934e-06,"elapsed_instrumentation":0.0001485479879193008,"return_value":{"class":"Array","value":"[]","object_id":323760,"size":0}},{"id":397254,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":397255,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397256,"event":"return","thread_id":9160,"parent_id":397255,"elapsed":6.8559893406927586e-06,"elapsed_instrumentation":6.515096174553037e-05},{"id":397257,"event":"return","thread_id":9160,"parent_id":397254,"elapsed":0.0001039839698933065,"elapsed_instrumentation":0.00012325204443186522,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939190c58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323820,"size":1}},{"id":397258,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":397259,"event":"return","thread_id":9160,"parent_id":397258,"elapsed":0.002543867,"elapsed_instrumentation":0.00015847303438931704},{"id":397260,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":397261,"event":"return","thread_id":9160,"parent_id":397260,"elapsed":0.0005667809746228158,"elapsed_instrumentation":0.00039169896626845,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93920f3f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920eea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e540 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920dff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920d140 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920c448 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920adf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":325440,"size":53}},{"id":397262,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":397263,"event":"return","thread_id":9160,"parent_id":397262,"elapsed":4.514993634074926e-06,"elapsed_instrumentation":0.00015328900190070271,"return_value":{"class":"Array","value":"[]","object_id":325460,"size":0}},{"id":397264,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":397265,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":2830240,"value":"/avatars/original/missing.png"}},{"id":397266,"event":"return","thread_id":9160,"parent_id":397265,"elapsed":4.558399086818099e-05,"elapsed_instrumentation":0.0004720010329037905,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397267,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":2830260,"value":"/headers/original/missing.png"}},{"id":397268,"event":"return","thread_id":9160,"parent_id":397267,"elapsed":2.4498032871633768e-05,"elapsed_instrumentation":0.00019286299357190728,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397269,"event":"return","thread_id":9160,"parent_id":397264,"elapsed":0.000984791957307607,"elapsed_instrumentation":0.00013946497347205877,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939129148 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939125ef8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939121470 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939120b88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":325520,"size":4}},{"id":397270,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397271,"event":"return","thread_id":9160,"parent_id":397270,"elapsed":0.00058981,"elapsed_instrumentation":0.00038579601095989347},{"id":397272,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":397273,"event":"return","thread_id":9160,"parent_id":397272,"elapsed":4.42104646936059e-06,"elapsed_instrumentation":0.00015989493113011122,"return_value":{"class":"Array","value":"[]","object_id":328300,"size":0}},{"id":397274,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":397275,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397276,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":397277,"event":"return","thread_id":9160,"parent_id":397276,"elapsed":0.001025333,"elapsed_instrumentation":0.0001306000049225986},{"id":397278,"event":"call","thread_id":9160,"defined_class":"Instance","method_id":"refresh","path":"app/models/instance.rb","lineno":28,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":52400,"value":"Instance"}},{"id":397279,"event":"call","thread_id":9160,"sql_query":{"sql":"REFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";","database_type":"postgres"}},{"id":397280,"event":"return","thread_id":9160,"parent_id":397279,"elapsed":0.018178139,"elapsed_instrumentation":0.00013617199147120118},{"id":397281,"event":"return","thread_id":9160,"parent_id":397278,"elapsed":0.018873604014515877,"elapsed_instrumentation":0.00024911598302423954,"return_value":{"class":"PG::Result","value":"#<PG::Result:0x00007fc932aba218>","object_id":2830300}},{"id":397282,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"count_unique_subdomains!","path":"app/models/concerns/domain_materializable.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397283,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397284,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":2830320,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":2830340,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":397285,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":397286,"event":"return","thread_id":9160,"parent_id":397285,"elapsed":3.197987098246813e-06,"elapsed_instrumentation":8.749304106459022e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":397287,"event":"return","thread_id":9160,"parent_id":397284,"elapsed":0.0012458200217224658,"elapsed_instrumentation":0.00019039097242057323,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397288,"event":"return","thread_id":9160,"parent_id":397283,"elapsed":0.0014670690288767219,"elapsed_instrumentation":0.00014777795877307653,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397289,"event":"return","thread_id":9160,"parent_id":397282,"elapsed":0.0018096999847330153,"elapsed_instrumentation":0.00011177896521985531,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397290,"event":"return","thread_id":9160,"parent_id":397275,"elapsed":0.023524027958046645,"elapsed_instrumentation":7.467798423022032e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397291,"event":"return","thread_id":9160,"parent_id":397274,"elapsed":0.023674032010603696,"elapsed_instrumentation":0.0007886529783718288,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc938945850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc938942a10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855fba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855f0b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855ebb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855de40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":328320,"size":6}},{"id":397292,"event":"return","thread_id":9160,"parent_id":397205,"elapsed":0.04694548103725538,"elapsed_instrumentation":0.0001466319663450122,"return_value":{"class":"Account","value":"#<Account:0x00007fc91a3b34a0>","object_id":2830120}},{"id":397293,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>","kind":"req"}],"receiver":{"class":"Account","object_id":2830360,"value":"#<Account:0x00007fc91a3b39a0>"}},{"id":397294,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":397295,"event":"return","thread_id":9160,"parent_id":397294,"elapsed":0.000813343,"elapsed_instrumentation":9.652797598391771e-05},{"id":397296,"event":"return","thread_id":9160,"parent_id":397293,"elapsed":0.002936942968517542,"elapsed_instrumentation":0.00019858102314174175},{"id":397297,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":2830360,"value":"#<Account:0x00007fc91a3b39a0>","kind":"req"}],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397298,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":397299,"event":"return","thread_id":9160,"parent_id":397298,"elapsed":0.000746247,"elapsed_instrumentation":8.397898636758327e-05},{"id":397300,"event":"return","thread_id":9160,"parent_id":397297,"elapsed":0.0021623499924317002,"elapsed_instrumentation":0.00011358899064362049},{"id":397301,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"requested?","path":"app/models/concerns/account_interactions.rb","lineno":238,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":2830360,"value":"#<Account:0x00007fc91a3b39a0>","kind":"req"}],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397302,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":397303,"event":"return","thread_id":9160,"parent_id":397302,"elapsed":0.000721421,"elapsed_instrumentation":7.455801824107766e-05},{"id":397304,"event":"return","thread_id":9160,"parent_id":397301,"elapsed":0.0020890270243398845,"elapsed_instrumentation":0.00010674097575247288},{"id":397305,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"block!","path":"app/models/concerns/account_interactions.rb","lineno":145,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>","kind":"req"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":2830360,"value":"#<Account:0x00007fc91a3b39a0>"}},{"id":397306,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222722679892318493,"value":"111361339946159246","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222722679892318497,"value":"111361339946159248","kind":"req"}],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":397307,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":397308,"event":"return","thread_id":9160,"parent_id":397307,"elapsed":4.727044142782688e-06,"elapsed_instrumentation":9.281095117330551e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":397309,"event":"return","thread_id":9160,"parent_id":397306,"elapsed":0.0006020670407451689,"elapsed_instrumentation":0.00015264900866895914},{"id":397310,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"blocks\".* FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":397311,"event":"return","thread_id":9160,"parent_id":397310,"elapsed":0.000457258,"elapsed_instrumentation":0.00024598499294370413},{"id":397312,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1054700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9309572b0>"}},{"id":397313,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"generate_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":61,"static":false,"parameters":[{"name":"_target","class":"Block","object_id":2830400,"value":"#<Block:0x00007fc91a3b1e20>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397314,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397315,"event":"return","thread_id":9160,"parent_id":397314,"elapsed":5.559006240218878e-06,"elapsed_instrumentation":0.00011957099195569754,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":397316,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397317,"event":"return","thread_id":9160,"parent_id":397316,"elapsed":2.963002771139145e-06,"elapsed_instrumentation":9.719800436869264e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":397318,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":2830420,"value":"___O3_P__\"_/__%m"}},{"id":397319,"event":"return","thread_id":9160,"parent_id":397318,"elapsed":7.160997483879328e-06,"elapsed_instrumentation":0.000154022010974586,"return_value":{"class":"Array","value":"[3330785615, 13189, 20622, 45602, 55343, 2496669037]","object_id":2830440,"size":6}},{"id":397320,"event":"return","thread_id":9160,"parent_id":397313,"elapsed":0.0009090920211747289,"elapsed_instrumentation":0.00013371004024520516,"return_value":{"class":"URI::HTTPS","value":"https://cb6e6126.ngrok.io/c687c14f-3385-408e-b222-d82f94d0256d","object_id":2830460}},{"id":397321,"event":"return","thread_id":9160,"parent_id":397312,"elapsed":0.0011136239627376199,"elapsed_instrumentation":0.00015396601520478725,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9337b4860 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9337b49c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1054800,"size":2}},{"id":397322,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1054840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930956900>"}},{"id":397323,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397324,"event":"return","thread_id":9160,"parent_id":397323,"elapsed":0.000422349,"elapsed_instrumentation":8.004996925592422e-05},{"id":397325,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":397326,"event":"return","thread_id":9160,"parent_id":397325,"elapsed":0.001194567,"elapsed_instrumentation":7.231102790683508e-05},{"id":397327,"event":"return","thread_id":9160,"parent_id":397322,"elapsed":0.00244331598514691,"elapsed_instrumentation":0.00016106001567095518,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93376d050 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93376d398 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93376d6e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93376d9b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1054860,"size":4}},{"id":397328,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1054840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930956900>"}},{"id":397329,"event":"return","thread_id":9160,"parent_id":397328,"elapsed":3.7539866752922535e-06,"elapsed_instrumentation":0.00010464200749993324,"return_value":{"class":"Array","value":"[]","object_id":1054880,"size":0}},{"id":397330,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1054700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9309572b0>"}},{"id":397331,"event":"return","thread_id":9160,"parent_id":397330,"elapsed":2.5189947336912155e-06,"elapsed_instrumentation":7.820507744327188e-05,"return_value":{"class":"Array","value":"[]","object_id":1054900,"size":0}},{"id":397332,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1054940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9309561d0>"}},{"id":397333,"event":"return","thread_id":9160,"parent_id":397332,"elapsed":9.335996583104134e-05,"elapsed_instrumentation":0.00011111900676041842,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93377f750 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93377f9f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1056560,"size":2}},{"id":397334,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"blocks\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"uri\") VALUES ($1, $2, $3, $4, $5) RETURNING \"id\"","database_type":"postgres"}},{"id":397335,"event":"return","thread_id":9160,"parent_id":397334,"elapsed":0.001025778,"elapsed_instrumentation":0.00029017601627856493},{"id":397336,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1054940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9309561d0>"}},{"id":397337,"event":"return","thread_id":9160,"parent_id":397336,"elapsed":4.317029379308224e-06,"elapsed_instrumentation":0.00012200500350445509,"return_value":{"class":"Array","value":"[]","object_id":1056580,"size":0}},{"id":397338,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397339,"event":"return","thread_id":9160,"parent_id":397338,"elapsed":0.000552186,"elapsed_instrumentation":7.533503230661154e-05},{"id":397340,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1056620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930961af8>"}},{"id":397341,"event":"return","thread_id":9160,"parent_id":397340,"elapsed":4.028028342872858e-06,"elapsed_instrumentation":0.00011756195453926921,"return_value":{"class":"Array","value":"[]","object_id":1056640,"size":0}},{"id":397342,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1056620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930961af8>"}},{"id":397343,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":2830540,"value":"Cache delete: exclude_account_ids_for:111361339946159246\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":397344,"event":"return","thread_id":9160,"parent_id":397343,"elapsed":0.0008275799918919802,"elapsed_instrumentation":0.00018276297487318516,"return_value":{"class":"Integer","value":"57","object_id":115}},{"id":397345,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":2830560,"value":"Cache delete: exclude_account_ids_for:111361339946159248\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":397346,"event":"return","thread_id":9160,"parent_id":397345,"elapsed":0.0007562829996459186,"elapsed_instrumentation":0.00030128395883366466,"return_value":{"class":"Integer","value":"57","object_id":115}},{"id":397347,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":2830580,"value":"Cache delete: relationship:111361339946159246:111361339946159248\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":397348,"event":"return","thread_id":9160,"parent_id":397347,"elapsed":0.001127192983403802,"elapsed_instrumentation":0.00013698404654860497,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":397349,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":2830600,"value":"Cache delete: relationship:111361339946159248:111361339946159246\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":397350,"event":"return","thread_id":9160,"parent_id":397349,"elapsed":0.0008172789821401238,"elapsed_instrumentation":0.00013631797628477216,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":397351,"event":"return","thread_id":9160,"parent_id":397342,"elapsed":0.0048642639885656536,"elapsed_instrumentation":0.00013090996071696281,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9336479a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9336477e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1056740,"size":2}},{"id":397352,"event":"return","thread_id":9160,"parent_id":397305,"elapsed":0.017724907025694847,"elapsed_instrumentation":0.0001400369219481945,"return_value":{"class":"Block","value":"#<Block:0x00007fc91a3b1e20>","object_id":2830400}},{"id":397353,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":2830620,"value":"{args=>[111361339946159246, 111361339946159248], class=>BlockWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":2830640,"value":"#<Sidekiq::Client:0x00007fc932a80dd8>"}},{"id":397354,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":2830660,"value":"9K'PYD_x\u001aN__"}},{"id":397355,"event":"return","thread_id":9160,"parent_id":397354,"elapsed":5.883979611098766e-06,"elapsed_instrumentation":0.0001641439739614725,"return_value":{"class":"String","value":"394b27505944e2781a4eb1e6","object_id":2830680}},{"id":397356,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":2830700,"value":"[111361339946159246, 111361339946159248]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2830720,"value":"#<JSON::Ext::Generator::State:0x00007fc932a2cf30>"}},{"id":397357,"event":"return","thread_id":9160,"parent_id":397356,"elapsed":9.457988198846579e-06,"elapsed_instrumentation":0.00011644000187516212,"return_value":{"class":"String","value":"[111361339946159246,111361339946159248]","object_id":2830740}},{"id":397358,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2830760,"value":"#<JSON::Ext::Parser:0x00007fc932a2bb58>"}},{"id":397359,"event":"return","thread_id":9160,"parent_id":397358,"elapsed":7.645983714610338e-06,"elapsed_instrumentation":0.00023451104061678052,"return_value":{"class":"Array","value":"[111361339946159246, 111361339946159248]","object_id":2830780,"size":2}},{"id":397360,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":2830800,"value":"{retry=>true, queue=>default, args=>[111361339946159246, 111361339946159248], class=>BlockWorker, jid=>394b27505944e2781a4eb1e6, created_at=>1699239196.212931}","kind":"req","size":6}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2830820,"value":"#<JSON::Ext::Generator::State:0x00007fc932a2ae88>"}},{"id":397361,"event":"return","thread_id":9160,"parent_id":397360,"elapsed":2.1482992451637983e-05,"elapsed_instrumentation":0.00021910399664193392,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111361339946159246,111361339946159248],\"class\":\"BlockWorker\" (...65 more characters)","object_id":2830840}},{"id":397362,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2830860,"value":"#<JSON::Ext::Parser:0x00007fc932a290b0>"}},{"id":397363,"event":"return","thread_id":9160,"parent_id":397362,"elapsed":1.939799403771758e-05,"elapsed_instrumentation":0.0001750170486047864,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111361339946159246, 111361339946159248], class=>BlockWorker, jid=>394b27505944e2781a4eb1e6, created_at=>1699239196.212931}","object_id":2830880,"size":6}},{"id":397364,"event":"return","thread_id":9160,"parent_id":397353,"elapsed":0.0013787630014121532,"elapsed_instrumentation":0.0006551999831572175,"return_value":{"class":"String","value":"394b27505944e2781a4eb1e6","object_id":2830680}},{"id":397365,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397366,"event":"return","thread_id":9160,"parent_id":397365,"elapsed":1.3907032553106546e-05,"elapsed_instrumentation":0.00032071792520582676},{"id":397367,"event":"call","thread_id":9160,"defined_class":"Payloadable","method_id":"serialize_payload","path":"app/services/concerns/payloadable.rb","lineno":13,"static":false,"parameters":[{"name":"record","class":"Block","object_id":2830400,"value":"#<Block:0x00007fc91a3b1e20>","kind":"req"},{"name":"serializer","class":"Class","object_id":2286260,"value":"ActivityPub::BlockSerializer","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"BlockService","object_id":2830900,"value":"#<BlockService:0x00007fc932ab2db0>"}},{"id":397368,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":397369,"event":"return","thread_id":9160,"parent_id":397368,"elapsed":3.5599805414676666e-06,"elapsed_instrumentation":9.881699224933982e-05,"return_value":{"class":"Array","value":"[]","object_id":326200,"size":0}},{"id":397370,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":397371,"event":"return","thread_id":9160,"parent_id":397370,"elapsed":2.9939692467451096e-06,"elapsed_instrumentation":8.838297799229622e-05,"return_value":{"class":"Array","value":"[]","object_id":326240,"size":0}},{"id":397372,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"serializable_hash","path":"app/lib/activitypub/adapter.rb","lineno":14,"static":false,"parameters":[{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::Adapter","object_id":2830940,"value":"#<ActivityPub::Adapter:0x00007fc932a24088>"}},{"id":397373,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Serializer","method_id":"serializable_hash","path":"app/lib/activitypub/serializer.rb","lineno":31,"static":false,"parameters":[{"name":"adapter_options","class":"Hash","object_id":2830960,"value":"{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}}","kind":"opt","size":2},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"adapter_instance","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":2830980,"value":"#<ActivityPub::BlockSerializer:0x00007fc930d5a740>"}},{"id":397374,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"id","path":"app/serializers/activitypub/block_serializer.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":2830980,"value":"#<ActivityPub::BlockSerializer:0x00007fc930d5a740>"}},{"id":397375,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Block","object_id":2830400,"value":"#<Block:0x00007fc91a3b1e20>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397376,"event":"call","thread_id":9160,"defined_class":"Block","method_id":"local?","path":"app/models/block.rb","lineno":24,"static":false,"parameters":[],"receiver":{"class":"Block","object_id":2830400,"value":"#<Block:0x00007fc91a3b1e20>"}},{"id":397377,"event":"return","thread_id":9160,"parent_id":397376,"elapsed":3.563007339835167e-06,"elapsed_instrumentation":8.153601083904505e-05},{"id":397378,"event":"return","thread_id":9160,"parent_id":397375,"elapsed":0.000149877043440938,"elapsed_instrumentation":0.00013603601837530732,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/c687c14f-3385-408e-b222-d82f94d0256d","object_id":2831000}},{"id":397379,"event":"return","thread_id":9160,"parent_id":397374,"elapsed":0.00032560195541009307,"elapsed_instrumentation":0.000155890011228621,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/c687c14f-3385-408e-b222-d82f94d0256d","object_id":2831000}},{"id":397380,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"type","path":"app/serializers/activitypub/block_serializer.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":2830980,"value":"#<ActivityPub::BlockSerializer:0x00007fc930d5a740>"}},{"id":397381,"event":"return","thread_id":9160,"parent_id":397380,"elapsed":6.794987712055445e-06,"elapsed_instrumentation":0.0002571320510469377,"return_value":{"class":"String","value":"Block","object_id":2831020}},{"id":397382,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"actor","path":"app/serializers/activitypub/block_serializer.rb","lineno":15,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":2830980,"value":"#<ActivityPub::BlockSerializer:0x00007fc930d5a740>"}},{"id":397383,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":2830360,"value":"#<Account:0x00007fc91a3b39a0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397384,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830360,"value":"#<Account:0x00007fc91a3b39a0>"}},{"id":397385,"event":"return","thread_id":9160,"parent_id":397384,"elapsed":1.7712998669594526e-05,"elapsed_instrumentation":7.105706026777625e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397386,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830360,"value":"#<Account:0x00007fc91a3b39a0>"}},{"id":397387,"event":"return","thread_id":9160,"parent_id":397386,"elapsed":3.0070077627897263e-06,"elapsed_instrumentation":7.531006122007966e-05,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":397388,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830360,"value":"#<Account:0x00007fc91a3b39a0>"}},{"id":397389,"event":"return","thread_id":9160,"parent_id":397388,"elapsed":8.392962627112865e-06,"elapsed_instrumentation":5.2348943427205086e-05},{"id":397390,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397391,"event":"return","thread_id":9160,"parent_id":397390,"elapsed":5.607027560472488e-06,"elapsed_instrumentation":0.00011673104017972946,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":397392,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397393,"event":"return","thread_id":9160,"parent_id":397392,"elapsed":3.2570096664130688e-06,"elapsed_instrumentation":0.00010099296923726797,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":397394,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830360,"value":"#<Account:0x00007fc91a3b39a0>"}},{"id":397395,"event":"return","thread_id":9160,"parent_id":397394,"elapsed":1.637596869841218e-05,"elapsed_instrumentation":0.00010635203216224909,"return_value":{"class":"String","value":"claire1780","object_id":2831040}},{"id":397396,"event":"return","thread_id":9160,"parent_id":397383,"elapsed":0.001080046989955008,"elapsed_instrumentation":0.00011461903341114521,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/claire1780","object_id":2831060}},{"id":397397,"event":"return","thread_id":9160,"parent_id":397382,"elapsed":0.0012522389879450202,"elapsed_instrumentation":0.00010411400580778718,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/claire1780","object_id":2831060}},{"id":397398,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"virtual_object","path":"app/serializers/activitypub/block_serializer.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":2830980,"value":"#<ActivityPub::BlockSerializer:0x00007fc930d5a740>"}},{"id":397399,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397400,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2830120,"value":"#<Account:0x00007fc91a3b34a0>"}},{"id":397401,"event":"return","thread_id":9160,"parent_id":397400,"elapsed":7.754017133265734e-06,"elapsed_instrumentation":5.643302574753761e-05},{"id":397402,"event":"return","thread_id":9160,"parent_id":397399,"elapsed":9.862700244411826e-05,"elapsed_instrumentation":0.00010301498696208,"return_value":{"class":"String","value":"https://foo.bar/users/user","object_id":2831080}},{"id":397403,"event":"return","thread_id":9160,"parent_id":397398,"elapsed":0.00024905602913349867,"elapsed_instrumentation":9.37220174819231e-05,"return_value":{"class":"String","value":"https://foo.bar/users/user","object_id":2831080}},{"id":397404,"event":"return","thread_id":9160,"parent_id":397373,"elapsed":0.002652451046742499,"elapsed_instrumentation":0.0005420649540610611,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/c687c14f-3385-408e-b222-d82f94d0256d, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://foo.bar/users/user}","object_id":2831100,"size":4}},{"id":397405,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"transform_key_casing!","path":"app/lib/activitypub/adapter.rb","lineno":10,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":2831100,"value":"{:id=>https://cb6e6126.ngrok.io/c687c14f-3385-408e-b222-d82f94d0256d, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://foo.bar/users/user}","kind":"req","size":4},{"name":"_options","class":"Hash","object_id":2831120,"value":"{}","kind":"req","size":0}],"receiver":{"class":"Class","object_id":51220,"value":"ActivityPub::Adapter"}},{"id":397406,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":2831100,"value":"{:id=>https://cb6e6126.ngrok.io/c687c14f-3385-408e-b222-d82f94d0256d, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://foo.bar/users/user}","kind":"req","size":4}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397407,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":679388,"value":":id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397408,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":2831140,"value":"id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397409,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397410,"event":"return","thread_id":9160,"parent_id":397409,"elapsed":2.7150381356477737e-06,"elapsed_instrumentation":0.0001718459534458816,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...37 more entries)}","object_id":1463200,"size":47}},{"id":397411,"event":"return","thread_id":9160,"parent_id":397408,"elapsed":0.0001931150327436626,"elapsed_instrumentation":7.064599776640534e-05,"return_value":{"class":"String","value":"id","object_id":1463220}},{"id":397412,"event":"return","thread_id":9160,"parent_id":397407,"elapsed":0.00028142903465777636,"elapsed_instrumentation":6.865395698696375e-05,"return_value":{"class":"Symbol","value":":id","object_id":679388}},{"id":397413,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":688668,"value":":type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397414,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":2831160,"value":"type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397415,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397416,"event":"return","thread_id":9160,"parent_id":397415,"elapsed":2.8629438020288944e-06,"elapsed_instrumentation":0.00019379000877961516,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...37 more entries)}","object_id":1463200,"size":47}},{"id":397417,"event":"return","thread_id":9160,"parent_id":397414,"elapsed":0.00022005400387570262,"elapsed_instrumentation":0.0002963500446639955,"return_value":{"class":"String","value":"type","object_id":1463260}},{"id":397418,"event":"return","thread_id":9160,"parent_id":397413,"elapsed":0.0005372070008888841,"elapsed_instrumentation":7.108499994501472e-05,"return_value":{"class":"Symbol","value":":type","object_id":688668}},{"id":397419,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":17461788,"value":":actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397420,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":2831180,"value":"actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397421,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397422,"event":"return","thread_id":9160,"parent_id":397421,"elapsed":2.155022229999304e-06,"elapsed_instrumentation":0.00017148797633126378,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...37 more entries)}","object_id":1463200,"size":47}},{"id":397423,"event":"return","thread_id":9160,"parent_id":397420,"elapsed":0.00021797302179038525,"elapsed_instrumentation":7.327704224735498e-05,"return_value":{"class":"String","value":"actor","object_id":1463300}},{"id":397424,"event":"return","thread_id":9160,"parent_id":397419,"elapsed":0.00030936498660594225,"elapsed_instrumentation":7.377000292763114e-05,"return_value":{"class":"Symbol","value":":actor","object_id":17461788}},{"id":397425,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":703388,"value":":object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397426,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":2831200,"value":"object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397427,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397428,"event":"return","thread_id":9160,"parent_id":397427,"elapsed":2.5840126909315586e-06,"elapsed_instrumentation":0.00017615797696635127,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...37 more entries)}","object_id":1463200,"size":47}},{"id":397429,"event":"return","thread_id":9160,"parent_id":397426,"elapsed":0.00019699300173670053,"elapsed_instrumentation":7.43070850148797e-05,"return_value":{"class":"String","value":"object","object_id":1463340}},{"id":397430,"event":"return","thread_id":9160,"parent_id":397425,"elapsed":0.0002913319622166455,"elapsed_instrumentation":0.0003092619590461254,"return_value":{"class":"Symbol","value":":object","object_id":703388}},{"id":397431,"event":"return","thread_id":9160,"parent_id":397406,"elapsed":0.002025129972025752,"elapsed_instrumentation":0.0001665880554355681,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/c687c14f-3385-408e-b222-d82f94d0256d, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://foo.bar/users/user}","object_id":2831100,"size":4}},{"id":397432,"event":"return","thread_id":9160,"parent_id":397405,"elapsed":0.002211269980762154,"elapsed_instrumentation":0.00019035203149542212,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/c687c14f-3385-408e-b222-d82f94d0256d, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://foo.bar/users/user}","object_id":2831100,"size":4}},{"id":397433,"event":"call","thread_id":9160,"defined_class":"ContextHelper","method_id":"serialized_context","path":"app/helpers/context_helper.rb","lineno":41,"static":false,"parameters":[{"name":"named_contexts_map","class":"Hash","object_id":2831220,"value":"{:activitystreams=>}","kind":"req","size":1},{"name":"context_extensions_map","class":"Hash","object_id":2831240,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActivityPub::Adapter","object_id":2830940,"value":"#<ActivityPub::Adapter:0x00007fc932a24088>"}},{"id":397434,"event":"return","thread_id":9160,"parent_id":397433,"elapsed":1.0192976333200932e-05,"elapsed_instrumentation":0.00011201697634533048,"return_value":{"class":"String","value":"https://www.w3.org/ns/activitystreams","object_id":1463480}},{"id":397435,"event":"return","thread_id":9160,"parent_id":397372,"elapsed":0.005903173005208373,"elapsed_instrumentation":0.00013558397768065333,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/c687c14f-3385-408e-b222-d82f94d0256d, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://foo.bar/users/user}","object_id":2831260,"size":5}},{"id":397436,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":397437,"event":"return","thread_id":9160,"parent_id":397436,"elapsed":4.690955393016338e-06,"elapsed_instrumentation":0.0002736879978328943,"return_value":{"class":"Array","value":"[]","object_id":328060,"size":0}},{"id":397438,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2830920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":397439,"event":"return","thread_id":9160,"parent_id":397438,"elapsed":2.635992132127285e-06,"elapsed_instrumentation":8.136295946314931e-05,"return_value":{"class":"Array","value":"[]","object_id":328080,"size":0}},{"id":397440,"event":"return","thread_id":9160,"parent_id":397367,"elapsed":0.006929886003490537,"elapsed_instrumentation":0.00026159995468333364,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/c687c14f-3385-408e-b222-d82f94d0256d, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://foo.bar/users/user}","object_id":2831260,"size":5}},{"id":397441,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":2831280,"value":"{args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/c687c14f-3385-40 (...128 more characters), 111361339946159246, ], class=>ActivityPub::DeliveryWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":2831300,"value":"#<Sidekiq::Client:0x00007fc9329e0b08>"}},{"id":397442,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":2831320,"value":"Ij__L_____@_"}},{"id":397443,"event":"return","thread_id":9160,"parent_id":397442,"elapsed":5.041016265749931e-06,"elapsed_instrumentation":0.00026740902103483677,"return_value":{"class":"String","value":"496ac88b4ca3d7bd98a140d1","object_id":2831340}},{"id":397444,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":2831360,"value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/c687c14f-3385-40 (...128 more characters), 111361339946159246, ]","kind":"req","size":3}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2831380,"value":"#<JSON::Ext::Generator::State:0x00007fc93297de68>"}},{"id":397445,"event":"return","thread_id":9160,"parent_id":397444,"elapsed":9.314040653407574e-06,"elapsed_instrumentation":0.00012445898028090596,"return_value":{"class":"String","value":"[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystreams\\\",\\\"id\\\":\\\"https://cb6e6126.ngrok.io/c687c14 (...174 more characters)","object_id":2831400}},{"id":397446,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2831420,"value":"#<JSON::Ext::Parser:0x00007fc93297cce8>"}},{"id":397447,"event":"return","thread_id":9160,"parent_id":397446,"elapsed":8.17497493699193e-06,"elapsed_instrumentation":8.978100959211588e-05,"return_value":{"class":"Array","value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/c687c14f-3385-40 (...128 more characters), 111361339946159246, ]","object_id":2831440,"size":3}},{"id":397448,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":2831460,"value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/c687c14f-3385-40 (...128 more characters), 111361339946159246, ], class=>ActivityPub::DeliveryWorker, jid=>496ac88b4ca3d7bd98a140d1, created_at=>1699239196.2224772}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2831480,"value":"#<JSON::Ext::Generator::State:0x00007fc93297bc30>"}},{"id":397449,"event":"return","thread_id":9160,"parent_id":397448,"elapsed":1.551496097818017e-05,"elapsed_instrumentation":0.00019141403026878834,"return_value":{"class":"String","value":"{\"retry\":16,\"queue\":\"push\",\"dead\":false,\"args\":[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystrea (...325 more characters)","object_id":2831500}},{"id":397450,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2831520,"value":"#<JSON::Ext::Parser:0x00007fc9329799a8>"}},{"id":397451,"event":"return","thread_id":9160,"parent_id":397450,"elapsed":2.311798743903637e-05,"elapsed_instrumentation":0.00034655799390748143,"return_value":{"class":"Hash","value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/c687c14f-3385-40 (...128 more characters), 111361339946159246, ], class=>ActivityPub::DeliveryWorker, jid=>496ac88b4ca3d7bd98a140d1, created_at=>1699239196.2224772}","object_id":2831540,"size":7}},{"id":397452,"event":"return","thread_id":9160,"parent_id":397441,"elapsed":0.0013643479906022549,"elapsed_instrumentation":0.0003322270349599421,"return_value":{"class":"String","value":"496ac88b4ca3d7bd98a140d1","object_id":2831340}},{"id":397453,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397454,"event":"return","thread_id":9160,"parent_id":397453,"elapsed":0.000458247,"elapsed_instrumentation":9.903998579829931e-05},{"id":397455,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"bulk_import_rows\" WHERE \"bulk_import_rows\".\"id\" = $1","database_type":"postgres"}},{"id":397456,"event":"return","thread_id":9160,"parent_id":397455,"elapsed":0.001488124,"elapsed_instrumentation":8.222501492127776e-05},{"id":397457,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397458,"event":"return","thread_id":9160,"parent_id":397457,"elapsed":0.000421467,"elapsed_instrumentation":7.723201997578144e-05},{"id":397459,"event":"call","thread_id":9160,"defined_class":"BulkImport","method_id":"progress!","path":"app/models/bulk_import.rb","lineno":45,"static":true,"parameters":[{"name":"bulk_import_id","class":"Integer","object_id":1991,"value":"995","kind":"req"},{"name":"imported","class":"TrueClass","object_id":20,"value":"true","kind":"key"}],"receiver":{"class":"Class","object_id":2260160,"value":"BulkImport"}},{"id":397460,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"bulk_imports\" SET \"processed_items\" = COALESCE(\"processed_items\", 0) + $1 WHERE \"bulk_imports\".\"id\" = $2","database_type":"postgres"}},{"id":397461,"event":"return","thread_id":9160,"parent_id":397460,"elapsed":0.000852654,"elapsed_instrumentation":8.074799552559853e-05},{"id":397462,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"bulk_imports\" SET \"imported_items\" = COALESCE(\"imported_items\", 0) + $1 WHERE \"bulk_imports\".\"id\" = $2","database_type":"postgres"}},{"id":397463,"event":"return","thread_id":9160,"parent_id":397462,"elapsed":0.001051146,"elapsed_instrumentation":0.00011066399747505784},{"id":397464,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"bulk_imports\".* FROM \"bulk_imports\" WHERE \"bulk_imports\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":397465,"event":"return","thread_id":9160,"parent_id":397464,"elapsed":0.000570546,"elapsed_instrumentation":8.558499393984675e-05},{"id":397466,"event":"return","thread_id":9160,"parent_id":397459,"elapsed":0.0070350709720514715,"elapsed_instrumentation":0.00045205099740996957},{"id":397467,"event":"return","thread_id":9160,"parent_id":397194,"elapsed":0.10484925896162167,"elapsed_instrumentation":0.00014958798419684172},{"id":397468,"event":"call","thread_id":9160,"defined_class":"Import::RowWorker","method_id":"perform","path":"app/workers/import/row_worker.rb","lineno":16,"static":false,"parameters":[{"name":"row_id","class":"Integer","object_id":3611,"value":"1805","kind":"req"}],"receiver":{"class":"Import::RowWorker","object_id":2831580,"value":"#<Import::RowWorker:0x00007fc9329aa940>"}},{"id":397469,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"bulk_import_rows\".\"id\" AS t0_r0, \"bulk_import_rows\".\"bulk_import_id\" AS t0_r1, \"bulk_import_rows\".\"data\" AS t0_r2, \"bulk_import_rows\".\"created_at\" AS t0_r3, \"bulk_import_rows\".\"updated_at\" AS t0_r4, \"bulk_imports\".\"id\" AS t1_r0, \"bulk_imports\".\"type\" AS t1_r1, \"bulk_imports\".\"state\" AS t1_r2, \"bulk_imports\".\"total_items\" AS t1_r3, \"bulk_imports\".\"imported_items\" AS t1_r4, \"bulk_imports\".\"processed_items\" AS t1_r5, \"bulk_imports\".\"finished_at\" AS t1_r6, \"bulk_imports\".\"overwrite\" AS t1_r7, \"bulk_imports\".\"likely_mismatched\" AS t1_r8, \"bulk_imports\".\"original_filename\" AS t1_r9, \"bulk_imports\".\"account_id\" AS t1_r10, \"bulk_imports\".\"created_at\" AS t1_r11, \"bulk_imports\".\"updated_at\" AS t1_r12, \"accounts\".\"id\" AS t2_r0, \"accounts\".\"username\" AS t2_r1, \"accounts\".\"domain\" AS t2_r2, \"accounts\".\"private_key\" AS t2_r3, \"accounts\".\"public_key\" AS t2_r4, \"accounts\".\"created_at\" AS t2_r5, \"accounts\".\"updated_at\" AS t2_r6, \"accounts\".\"note\" AS t2_r7, \"accounts\".\"display_name\" AS t2_r8, \"accounts\".\"uri\" AS t2_r9, \"accounts\".\"url\" AS t2_r10, \"accounts\".\"avatar_file_name\" AS t2_r11, \"accounts\".\"avatar_content_type\" AS t2_r12, \"accounts\".\"avatar_file_size\" AS t2_r13, \"accounts\".\"avatar_updated_at\" AS t2_r14, \"accounts\".\"header_file_name\" AS t2_r15, \"accounts\".\"header_content_type\" AS t2_r16, \"accounts\".\"header_file_size\" AS t2_r17, \"accounts\".\"header_updated_at\" AS t2_r18, \"accounts\".\"avatar_remote_url\" AS t2_r19, \"accounts\".\"locked\" AS t2_r20, \"accounts\".\"header_remote_url\" AS t2_r21, \"accounts\".\"last_webfingered_at\" AS t2_r22, \"accounts\".\"inbox_url\" AS t2_r23, \"accounts\".\"outbox_url\" AS t2_r24, \"accounts\".\"shared_inbox_url\" AS t2_r25, \"accounts\".\"followers_url\" AS t2_r26, \"accounts\".\"protocol\" AS t2_r27, \"accounts\".\"memorial\" AS t2_r28, \"accounts\".\"moved_to_account_id\" AS t2_r29, \"accounts\".\"featured_collection_url\" AS t2_r30, \"accounts\".\"fields\" AS t2_r31, \"accounts\".\"actor_type\" AS t2_r32, \"accounts\".\"discoverable\" AS t2_r33, \"accounts\".\"also_known_as\" AS t2_r34, \"accounts\".\"silenced_at\" AS t2_r35, \"accounts\".\"suspended_at\" AS t2_r36, \"accounts\".\"hide_collections\" AS t2_r37, \"accounts\".\"avatar_storage_schema_version\" AS t2_r38, \"accounts\".\"header_storage_schema_version\" AS t2_r39, \"accounts\".\"devices_url\" AS t2_r40, \"accounts\".\"suspension_origin\" AS t2_r41, \"accounts\".\"sensitized_at\" AS t2_r42, \"accounts\".\"trendable\" AS t2_r43, \"accounts\".\"reviewed_at\" AS t2_r44, \"accounts\".\"requested_review_at\" AS t2_r45, \"accounts\".\"indexable\" AS t2_r46 FROM \"bulk_import_rows\" LEFT OUTER JOIN \"bulk_imports\" ON \"bulk_imports\".\"id\" = \"bulk_import_rows\".\"bulk_import_id\" LEFT OUTER JOIN \"accounts\" ON \"accounts\".\"id\" = \"bulk_imports\".\"account_id\" WHERE \"bulk_import_rows\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":397470,"event":"return","thread_id":9160,"parent_id":397469,"elapsed":0.00198518,"elapsed_instrumentation":9.754998609423637e-05},{"id":397471,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2831660,"value":"#<JSON::Ext::Parser:0x00007fc93292b7a8>"}},{"id":397472,"event":"return","thread_id":9160,"parent_id":397471,"elapsed":2.1647021640092134e-05,"elapsed_instrumentation":0.0002038810052908957,"return_value":{"class":"Hash","value":"{acct=>unknown@unknown.bar}","object_id":2831680,"size":1}},{"id":397473,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"domain","path":"app/services/bulk_import_row_service.rb","lineno":49,"static":false,"parameters":[{"name":"uri","class":"String","object_id":2831700,"value":"unknown@unknown.bar","kind":"req"}],"receiver":{"class":"BulkImportRowService","object_id":2831720,"value":"#<BulkImportRowService:0x00007fc930d54930>"}},{"id":397474,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":2831740,"value":"unknown.bar","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":397475,"event":"return","thread_id":9160,"parent_id":397474,"elapsed":1.945404801517725e-05,"elapsed_instrumentation":7.930397987365723e-05},{"id":397476,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":2831740,"value":"unknown.bar","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":397477,"event":"return","thread_id":9160,"parent_id":397476,"elapsed":0.00029418704798445106,"elapsed_instrumentation":0.00010120298247784376,"return_value":{"class":"String","value":"unknown.bar","object_id":2831760}},{"id":397478,"event":"return","thread_id":9160,"parent_id":397473,"elapsed":0.0005399010260589421,"elapsed_instrumentation":0.00010912801371887326,"return_value":{"class":"String","value":"unknown.bar","object_id":2831760}},{"id":397479,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"stoplight_wrap_request","path":"app/services/bulk_import_row_service.rb","lineno":54,"static":false,"parameters":[{"name":"domain","class":"String","object_id":2831760,"value":"unknown.bar","kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"BulkImportRowService","object_id":2831720,"value":"#<BulkImportRowService:0x00007fc930d54930>"}},{"id":397480,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2831780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":397481,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397482,"event":"return","thread_id":9160,"parent_id":397481,"elapsed":1.77280162461102e-05,"elapsed_instrumentation":7.46839796192944e-05},{"id":397483,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":2831820,"value":"unknown.bar","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":397484,"event":"return","thread_id":9160,"parent_id":397483,"elapsed":8.342799264937639e-05,"elapsed_instrumentation":9.983300697058439e-05,"return_value":{"class":"String","value":"unknown.bar","object_id":2831840}},{"id":397485,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397486,"event":"return","thread_id":9160,"parent_id":397485,"elapsed":8.116010576486588e-06,"elapsed_instrumentation":6.068398943170905e-05},{"id":397487,"event":"return","thread_id":9160,"parent_id":397480,"elapsed":0.0004810109967365861,"elapsed_instrumentation":0.00040098204044625163,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28e78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b2b5d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323140,"size":4}},{"id":397488,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2831860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":397489,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":323320,"value":"#<UniqueUsernameValidator:0x00007fc9402767b0>"}},{"id":397490,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397491,"event":"return","thread_id":9160,"parent_id":397490,"elapsed":0.000740999,"elapsed_instrumentation":0.00012097699800506234},{"id":397492,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'unknown' AND LOWER(\"accounts\".\"domain\") = 'unknown.bar' LIMIT $1","database_type":"postgres"}},{"id":397493,"event":"return","thread_id":9160,"parent_id":397492,"elapsed":0.00189604,"elapsed_instrumentation":7.920502685010433e-05},{"id":397494,"event":"return","thread_id":9160,"parent_id":397489,"elapsed":0.003193270997144282,"elapsed_instrumentation":0.00016355200204998255},{"id":397495,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397496,"event":"return","thread_id":9160,"parent_id":397495,"elapsed":1.0481046047061682e-05,"elapsed_instrumentation":0.00010673498036339879},{"id":397497,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397498,"event":"return","thread_id":9160,"parent_id":397497,"elapsed":4.703004378825426e-06,"elapsed_instrumentation":6.406096508726478e-05},{"id":397499,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397500,"event":"return","thread_id":9160,"parent_id":397499,"elapsed":4.225003067404032e-06,"elapsed_instrumentation":5.446199793368578e-05},{"id":397501,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397502,"event":"return","thread_id":9160,"parent_id":397501,"elapsed":4.148983862251043e-06,"elapsed_instrumentation":5.1543000154197216e-05},{"id":397503,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397504,"event":"return","thread_id":9160,"parent_id":397503,"elapsed":4.137982614338398e-06,"elapsed_instrumentation":5.0177040975540876e-05},{"id":397505,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397506,"event":"return","thread_id":9160,"parent_id":397505,"elapsed":3.7450226955115795e-06,"elapsed_instrumentation":4.7851004637777805e-05},{"id":397507,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397508,"event":"return","thread_id":9160,"parent_id":397507,"elapsed":3.889959771186113e-06,"elapsed_instrumentation":4.887004615738988e-05},{"id":397509,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397510,"event":"return","thread_id":9160,"parent_id":397509,"elapsed":9.503972250968218e-06,"elapsed_instrumentation":0.0007900929776951671},{"id":397511,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397512,"event":"return","thread_id":9160,"parent_id":397511,"elapsed":4.742003511637449e-06,"elapsed_instrumentation":6.613001460209489e-05},{"id":397513,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397514,"event":"return","thread_id":9160,"parent_id":397513,"elapsed":4.403002094477415e-06,"elapsed_instrumentation":5.46790543012321e-05},{"id":397515,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397516,"event":"return","thread_id":9160,"parent_id":397515,"elapsed":3.960041794925928e-06,"elapsed_instrumentation":5.043495912104845e-05},{"id":397517,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397518,"event":"return","thread_id":9160,"parent_id":397517,"elapsed":9.142037015408278e-06,"elapsed_instrumentation":0.00020261795725673437},{"id":397519,"event":"return","thread_id":9160,"parent_id":397488,"elapsed":0.006756155053153634,"elapsed_instrumentation":0.00048598897410556674,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939c310e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c31f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c320d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32468 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c325f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32a08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c337f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":323620,"size":71}},{"id":397520,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2831860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":397521,"event":"return","thread_id":9160,"parent_id":397520,"elapsed":3.6580022424459457e-06,"elapsed_instrumentation":0.00011022394755855203,"return_value":{"class":"Array","value":"[]","object_id":323640,"size":0}},{"id":397522,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2831780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":397523,"event":"return","thread_id":9160,"parent_id":397522,"elapsed":1.3144977856427431e-05,"elapsed_instrumentation":9.379303082823753e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28b08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323660,"size":1}},{"id":397524,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2831880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":397525,"event":"return","thread_id":9160,"parent_id":397524,"elapsed":2.7107016649097204e-05,"elapsed_instrumentation":9.957695147022605e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93912dae0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323720,"size":1}},{"id":397526,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2831880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":397527,"event":"return","thread_id":9160,"parent_id":397526,"elapsed":3.810971975326538e-06,"elapsed_instrumentation":0.00014526501763612032,"return_value":{"class":"Array","value":"[]","object_id":323760,"size":0}},{"id":397528,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2831900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":397529,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397530,"event":"return","thread_id":9160,"parent_id":397529,"elapsed":6.9150119088590145e-06,"elapsed_instrumentation":6.32900046184659e-05},{"id":397531,"event":"return","thread_id":9160,"parent_id":397528,"elapsed":0.00010302697774022818,"elapsed_instrumentation":0.00011821702355518937,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939190c58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323820,"size":1}},{"id":397532,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":397533,"event":"return","thread_id":9160,"parent_id":397532,"elapsed":0.001604591,"elapsed_instrumentation":9.291002061218023e-05},{"id":397534,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2831900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":397535,"event":"return","thread_id":9160,"parent_id":397534,"elapsed":0.0006619170308113098,"elapsed_instrumentation":0.00027748895809054375,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93920f3f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920eea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e540 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920dff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920d140 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920c448 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920adf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":325440,"size":53}},{"id":397536,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2831880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":397537,"event":"return","thread_id":9160,"parent_id":397536,"elapsed":3.8060243241488934e-06,"elapsed_instrumentation":0.00010040897177532315,"return_value":{"class":"Array","value":"[]","object_id":325460,"size":0}},{"id":397538,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2831880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":397539,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":2831920,"value":"/avatars/original/missing.png"}},{"id":397540,"event":"return","thread_id":9160,"parent_id":397539,"elapsed":3.0333001632243395e-05,"elapsed_instrumentation":0.00020926701836287975,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397541,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":2831940,"value":"/headers/original/missing.png"}},{"id":397542,"event":"return","thread_id":9160,"parent_id":397541,"elapsed":2.3499014787375927e-05,"elapsed_instrumentation":0.0002152139786630869,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397543,"event":"return","thread_id":9160,"parent_id":397538,"elapsed":0.0007057100301608443,"elapsed_instrumentation":0.00013095594476908445,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939129148 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939125ef8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939121470 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939120b88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":325520,"size":4}},{"id":397544,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397545,"event":"return","thread_id":9160,"parent_id":397544,"elapsed":0.000632565,"elapsed_instrumentation":8.512201020494103e-05},{"id":397546,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2831960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":397547,"event":"return","thread_id":9160,"parent_id":397546,"elapsed":3.6860001273453236e-06,"elapsed_instrumentation":0.00010861095506697893,"return_value":{"class":"Array","value":"[]","object_id":328300,"size":0}},{"id":397548,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2831960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":397549,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397550,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":397551,"event":"return","thread_id":9160,"parent_id":397550,"elapsed":0.000954027,"elapsed_instrumentation":7.936399197205901e-05},{"id":397552,"event":"call","thread_id":9160,"defined_class":"Instance","method_id":"refresh","path":"app/models/instance.rb","lineno":28,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":52400,"value":"Instance"}},{"id":397553,"event":"call","thread_id":9160,"sql_query":{"sql":"REFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";","database_type":"postgres"}},{"id":397554,"event":"return","thread_id":9160,"parent_id":397553,"elapsed":0.018853031,"elapsed_instrumentation":0.0001645030570216477},{"id":397555,"event":"return","thread_id":9160,"parent_id":397552,"elapsed":0.01960078300908208,"elapsed_instrumentation":0.00017481599934399128,"return_value":{"class":"PG::Result","value":"#<PG::Result:0x00007fc9328f14e0>","object_id":2831980}},{"id":397556,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"count_unique_subdomains!","path":"app/models/concerns/domain_materializable.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397557,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397558,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":2832000,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":2832020,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":397559,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":397560,"event":"return","thread_id":9160,"parent_id":397559,"elapsed":2.9539805836975574e-06,"elapsed_instrumentation":7.261597784236073e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":397561,"event":"return","thread_id":9160,"parent_id":397558,"elapsed":0.0011478649685159326,"elapsed_instrumentation":0.00014272599946707487,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397562,"event":"return","thread_id":9160,"parent_id":397557,"elapsed":0.0013182589900679886,"elapsed_instrumentation":0.00010564900003373623,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397563,"event":"return","thread_id":9160,"parent_id":397556,"elapsed":0.0018767979927361012,"elapsed_instrumentation":0.00011481897672638297,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397564,"event":"return","thread_id":9160,"parent_id":397549,"elapsed":0.023973657051101327,"elapsed_instrumentation":6.483995821326971e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397565,"event":"return","thread_id":9160,"parent_id":397548,"elapsed":0.02410168800270185,"elapsed_instrumentation":0.0001634039799682796,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc938945850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc938942a10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855fba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855f0b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855ebb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855de40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":328320,"size":6}},{"id":397566,"event":"return","thread_id":9160,"parent_id":397479,"elapsed":0.04404619598062709,"elapsed_instrumentation":0.00014567503239959478,"return_value":{"class":"Account","value":"#<Account:0x00007fc91a3db2c0>","object_id":2831800}},{"id":397567,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>","kind":"req"}],"receiver":{"class":"Account","object_id":2832040,"value":"#<Account:0x00007fc91a3db900>"}},{"id":397568,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":397569,"event":"return","thread_id":9160,"parent_id":397568,"elapsed":0.000765142,"elapsed_instrumentation":9.176897583529353e-05},{"id":397570,"event":"return","thread_id":9160,"parent_id":397567,"elapsed":0.0027172769769094884,"elapsed_instrumentation":0.00011338002514094114},{"id":397571,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":2832040,"value":"#<Account:0x00007fc91a3db900>","kind":"req"}],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397572,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":397573,"event":"return","thread_id":9160,"parent_id":397572,"elapsed":0.000620362,"elapsed_instrumentation":8.25260067358613e-05},{"id":397574,"event":"return","thread_id":9160,"parent_id":397571,"elapsed":0.0019337529665790498,"elapsed_instrumentation":0.00010579003719612956},{"id":397575,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"requested?","path":"app/models/concerns/account_interactions.rb","lineno":238,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":2832040,"value":"#<Account:0x00007fc91a3db900>","kind":"req"}],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397576,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":397577,"event":"return","thread_id":9160,"parent_id":397576,"elapsed":0.000672756,"elapsed_instrumentation":7.476203609257936e-05},{"id":397578,"event":"return","thread_id":9160,"parent_id":397575,"elapsed":0.0021760720410384238,"elapsed_instrumentation":0.00010968395508825779},{"id":397579,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"block!","path":"app/models/concerns/account_interactions.rb","lineno":145,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>","kind":"req"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":2832040,"value":"#<Account:0x00007fc91a3db900>"}},{"id":397580,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222722679892318493,"value":"111361339946159246","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222722679892318499,"value":"111361339946159249","kind":"req"}],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":397581,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":397582,"event":"return","thread_id":9160,"parent_id":397581,"elapsed":4.851957783102989e-06,"elapsed_instrumentation":8.138595148921013e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":397583,"event":"return","thread_id":9160,"parent_id":397580,"elapsed":0.0005530029884539545,"elapsed_instrumentation":0.0001203379943035543},{"id":397584,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"blocks\".* FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":397585,"event":"return","thread_id":9160,"parent_id":397584,"elapsed":0.000416453,"elapsed_instrumentation":7.73330102674663e-05},{"id":397586,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2832060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1054700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9309572b0>"}},{"id":397587,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"generate_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":61,"static":false,"parameters":[{"name":"_target","class":"Block","object_id":2832080,"value":"#<Block:0x00007fc91a3d9c40>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397588,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397589,"event":"return","thread_id":9160,"parent_id":397588,"elapsed":5.837995558977127e-06,"elapsed_instrumentation":0.00014508794993162155,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":397590,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397591,"event":"return","thread_id":9160,"parent_id":397590,"elapsed":2.866028808057308e-06,"elapsed_instrumentation":0.0003284239792264998,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":397592,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":2832100,"value":"t\u0012_&_g___\u000biN_M__"}},{"id":397593,"event":"return","thread_id":9160,"parent_id":397592,"elapsed":6.937945727258921e-06,"elapsed_instrumentation":0.0002067660680040717,"return_value":{"class":"Array","value":"[1947395878, 58215, 39613, 36875, 26958, 2454554497]","object_id":2832120,"size":6}},{"id":397594,"event":"return","thread_id":9160,"parent_id":397587,"elapsed":0.0014252479886636138,"elapsed_instrumentation":0.0001438550534658134,"return_value":{"class":"URI::HTTPS","value":"https://cb6e6126.ngrok.io/7412e726-e367-4abd-900b-694e924d8781","object_id":2832140}},{"id":397595,"event":"return","thread_id":9160,"parent_id":397586,"elapsed":0.0016434539575129747,"elapsed_instrumentation":0.000155590008944273,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9337b4860 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9337b49c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1054800,"size":2}},{"id":397596,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2832160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1054840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930956900>"}},{"id":397597,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397598,"event":"return","thread_id":9160,"parent_id":397597,"elapsed":0.000502887,"elapsed_instrumentation":0.00010947400005534291},{"id":397599,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":397600,"event":"return","thread_id":9160,"parent_id":397599,"elapsed":0.001527954,"elapsed_instrumentation":8.01540445536375e-05},{"id":397601,"event":"return","thread_id":9160,"parent_id":397596,"elapsed":0.0027471359935589135,"elapsed_instrumentation":0.0001749189686961472,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93376d050 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93376d398 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93376d6e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93376d9b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1054860,"size":4}},{"id":397602,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2832160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1054840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930956900>"}},{"id":397603,"event":"return","thread_id":9160,"parent_id":397602,"elapsed":3.832974471151829e-06,"elapsed_instrumentation":0.00010254798689857125,"return_value":{"class":"Array","value":"[]","object_id":1054880,"size":0}},{"id":397604,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2832060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1054700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9309572b0>"}},{"id":397605,"event":"return","thread_id":9160,"parent_id":397604,"elapsed":2.476968802511692e-06,"elapsed_instrumentation":7.755897240713239e-05,"return_value":{"class":"Array","value":"[]","object_id":1054900,"size":0}},{"id":397606,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2832180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1054940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9309561d0>"}},{"id":397607,"event":"return","thread_id":9160,"parent_id":397606,"elapsed":9.601999772712588e-05,"elapsed_instrumentation":0.000210511963814497,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93377f750 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93377f9f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1056560,"size":2}},{"id":397608,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"blocks\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"uri\") VALUES ($1, $2, $3, $4, $5) RETURNING \"id\"","database_type":"postgres"}},{"id":397609,"event":"return","thread_id":9160,"parent_id":397608,"elapsed":0.0009797,"elapsed_instrumentation":0.00020629999926313758},{"id":397610,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2832180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1054940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9309561d0>"}},{"id":397611,"event":"return","thread_id":9160,"parent_id":397610,"elapsed":4.0110317058861256e-06,"elapsed_instrumentation":0.00011559901759028435,"return_value":{"class":"Array","value":"[]","object_id":1056580,"size":0}},{"id":397612,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397613,"event":"return","thread_id":9160,"parent_id":397612,"elapsed":0.000437738,"elapsed_instrumentation":7.094000466167927e-05},{"id":397614,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2832200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1056620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930961af8>"}},{"id":397615,"event":"return","thread_id":9160,"parent_id":397614,"elapsed":3.3850083127617836e-06,"elapsed_instrumentation":0.00010897702304646373,"return_value":{"class":"Array","value":"[]","object_id":1056640,"size":0}},{"id":397616,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2832200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1056620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930961af8>"}},{"id":397617,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":2832220,"value":"Cache delete: exclude_account_ids_for:111361339946159246\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":397618,"event":"return","thread_id":9160,"parent_id":397617,"elapsed":0.0008821430383250117,"elapsed_instrumentation":0.00012556998990476131,"return_value":{"class":"Integer","value":"57","object_id":115}},{"id":397619,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":2832240,"value":"Cache delete: exclude_account_ids_for:111361339946159249\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":397620,"event":"return","thread_id":9160,"parent_id":397619,"elapsed":0.0008534970111213624,"elapsed_instrumentation":0.00013029796537011862,"return_value":{"class":"Integer","value":"57","object_id":115}},{"id":397621,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":2832260,"value":"Cache delete: relationship:111361339946159246:111361339946159249\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":397622,"event":"return","thread_id":9160,"parent_id":397621,"elapsed":0.0007566899876110256,"elapsed_instrumentation":0.0002862730179913342,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":397623,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":2832280,"value":"Cache delete: relationship:111361339946159249:111361339946159246\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":397624,"event":"return","thread_id":9160,"parent_id":397623,"elapsed":0.0008069989853538573,"elapsed_instrumentation":0.00013640703400596976,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":397625,"event":"return","thread_id":9160,"parent_id":397616,"elapsed":0.004664556996431202,"elapsed_instrumentation":0.00011965999146923423,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9336479a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9336477e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1056740,"size":2}},{"id":397626,"event":"return","thread_id":9160,"parent_id":397579,"elapsed":0.017160727991722524,"elapsed_instrumentation":0.00013848801609128714,"return_value":{"class":"Block","value":"#<Block:0x00007fc91a3d9c40>","object_id":2832080}},{"id":397627,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":2832300,"value":"{args=>[111361339946159246, 111361339946159249], class=>BlockWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":2832320,"value":"#<Sidekiq::Client:0x00007fc932848e30>"}},{"id":397628,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":2832340,"value":"\t+_\r^5#_7_'\u000f"}},{"id":397629,"event":"return","thread_id":9160,"parent_id":397628,"elapsed":4.152010660618544e-06,"elapsed_instrumentation":0.00011105602607131004,"return_value":{"class":"String","value":"092baf0d5e3523c037ca270f","object_id":2832360}},{"id":397630,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":2832380,"value":"[111361339946159246, 111361339946159249]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2832400,"value":"#<JSON::Ext::Generator::State:0x00007fc932844f60>"}},{"id":397631,"event":"return","thread_id":9160,"parent_id":397630,"elapsed":6.3730403780937195e-06,"elapsed_instrumentation":0.00011315097799524665,"return_value":{"class":"String","value":"[111361339946159246,111361339946159249]","object_id":2832420}},{"id":397632,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2832440,"value":"#<JSON::Ext::Parser:0x00007fc932843d40>"}},{"id":397633,"event":"return","thread_id":9160,"parent_id":397632,"elapsed":8.105998858809471e-06,"elapsed_instrumentation":0.00027792504988610744,"return_value":{"class":"Array","value":"[111361339946159246, 111361339946159249]","object_id":2832460,"size":2}},{"id":397634,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":2832480,"value":"{retry=>true, queue=>default, args=>[111361339946159246, 111361339946159249], class=>BlockWorker, jid=>092baf0d5e3523c037ca270f, created_at=>1699239196.3129127}","kind":"req","size":6}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2832500,"value":"#<JSON::Ext::Generator::State:0x00007fc932842dc8>"}},{"id":397635,"event":"return","thread_id":9160,"parent_id":397634,"elapsed":1.5719968359917402e-05,"elapsed_instrumentation":0.0002084940206259489,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111361339946159246,111361339946159249],\"class\":\"BlockWorker\" (...66 more characters)","object_id":2832520}},{"id":397636,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2832540,"value":"#<JSON::Ext::Parser:0x00007fc932840e38>"}},{"id":397637,"event":"return","thread_id":9160,"parent_id":397636,"elapsed":2.0381994545459747e-05,"elapsed_instrumentation":0.00034741003764793277,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111361339946159246, 111361339946159249], class=>BlockWorker, jid=>092baf0d5e3523c037ca270f, created_at=>1699239196.3129127}","object_id":2832560,"size":6}},{"id":397638,"event":"return","thread_id":9160,"parent_id":397627,"elapsed":0.0013874550350010395,"elapsed_instrumentation":0.0001579279196448624,"return_value":{"class":"String","value":"092baf0d5e3523c037ca270f","object_id":2832360}},{"id":397639,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397640,"event":"return","thread_id":9160,"parent_id":397639,"elapsed":1.0815972927957773e-05,"elapsed_instrumentation":0.0002936600358225405},{"id":397641,"event":"call","thread_id":9160,"defined_class":"Payloadable","method_id":"serialize_payload","path":"app/services/concerns/payloadable.rb","lineno":13,"static":false,"parameters":[{"name":"record","class":"Block","object_id":2832080,"value":"#<Block:0x00007fc91a3d9c40>","kind":"req"},{"name":"serializer","class":"Class","object_id":2286260,"value":"ActivityPub::BlockSerializer","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"BlockService","object_id":2832580,"value":"#<BlockService:0x00007fc93288a100>"}},{"id":397642,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2832600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":397643,"event":"return","thread_id":9160,"parent_id":397642,"elapsed":3.0500232242047787e-06,"elapsed_instrumentation":8.45759641379118e-05,"return_value":{"class":"Array","value":"[]","object_id":326200,"size":0}},{"id":397644,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2832600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":397645,"event":"return","thread_id":9160,"parent_id":397644,"elapsed":2.6840134523808956e-06,"elapsed_instrumentation":8.036498911678791e-05,"return_value":{"class":"Array","value":"[]","object_id":326240,"size":0}},{"id":397646,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"serializable_hash","path":"app/lib/activitypub/adapter.rb","lineno":14,"static":false,"parameters":[{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::Adapter","object_id":2832620,"value":"#<ActivityPub::Adapter:0x00007fc9327ec130>"}},{"id":397647,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Serializer","method_id":"serializable_hash","path":"app/lib/activitypub/serializer.rb","lineno":31,"static":false,"parameters":[{"name":"adapter_options","class":"Hash","object_id":2832640,"value":"{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}}","kind":"opt","size":2},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"adapter_instance","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":2832660,"value":"#<ActivityPub::BlockSerializer:0x00007fc930d60e10>"}},{"id":397648,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"id","path":"app/serializers/activitypub/block_serializer.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":2832660,"value":"#<ActivityPub::BlockSerializer:0x00007fc930d60e10>"}},{"id":397649,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Block","object_id":2832080,"value":"#<Block:0x00007fc91a3d9c40>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397650,"event":"call","thread_id":9160,"defined_class":"Block","method_id":"local?","path":"app/models/block.rb","lineno":24,"static":false,"parameters":[],"receiver":{"class":"Block","object_id":2832080,"value":"#<Block:0x00007fc91a3d9c40>"}},{"id":397651,"event":"return","thread_id":9160,"parent_id":397650,"elapsed":3.1529925763607025e-06,"elapsed_instrumentation":5.427701398730278e-05},{"id":397652,"event":"return","thread_id":9160,"parent_id":397649,"elapsed":0.00010103901149705052,"elapsed_instrumentation":0.00010001100599765778,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/7412e726-e367-4abd-900b-694e924d8781","object_id":2832680}},{"id":397653,"event":"return","thread_id":9160,"parent_id":397648,"elapsed":0.0002230949467048049,"elapsed_instrumentation":8.102902211248875e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/7412e726-e367-4abd-900b-694e924d8781","object_id":2832680}},{"id":397654,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"type","path":"app/serializers/activitypub/block_serializer.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":2832660,"value":"#<ActivityPub::BlockSerializer:0x00007fc930d60e10>"}},{"id":397655,"event":"return","thread_id":9160,"parent_id":397654,"elapsed":3.089022357016802e-06,"elapsed_instrumentation":6.742600817233324e-05,"return_value":{"class":"String","value":"Block","object_id":2831020}},{"id":397656,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"actor","path":"app/serializers/activitypub/block_serializer.rb","lineno":15,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":2832660,"value":"#<ActivityPub::BlockSerializer:0x00007fc930d60e10>"}},{"id":397657,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":2832040,"value":"#<Account:0x00007fc91a3db900>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397658,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2832040,"value":"#<Account:0x00007fc91a3db900>"}},{"id":397659,"event":"return","thread_id":9160,"parent_id":397658,"elapsed":1.3691023923456669e-05,"elapsed_instrumentation":6.226100958883762e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":397660,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2832040,"value":"#<Account:0x00007fc91a3db900>"}},{"id":397661,"event":"return","thread_id":9160,"parent_id":397660,"elapsed":3.0989758670330048e-06,"elapsed_instrumentation":6.465002661570907e-05,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":397662,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2832040,"value":"#<Account:0x00007fc91a3db900>"}},{"id":397663,"event":"return","thread_id":9160,"parent_id":397662,"elapsed":6.677000783383846e-06,"elapsed_instrumentation":5.033193156123161e-05},{"id":397664,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397665,"event":"return","thread_id":9160,"parent_id":397664,"elapsed":5.904003046452999e-06,"elapsed_instrumentation":0.00023641804000362754,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":397666,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397667,"event":"return","thread_id":9160,"parent_id":397666,"elapsed":2.662010956555605e-06,"elapsed_instrumentation":0.00010200502583757043,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":397668,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2832040,"value":"#<Account:0x00007fc91a3db900>"}},{"id":397669,"event":"return","thread_id":9160,"parent_id":397668,"elapsed":1.3418029993772507e-05,"elapsed_instrumentation":7.43489945307374e-05,"return_value":{"class":"String","value":"claire1780","object_id":2832700}},{"id":397670,"event":"return","thread_id":9160,"parent_id":397657,"elapsed":0.0009198089828714728,"elapsed_instrumentation":9.437702829018235e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/claire1780","object_id":2832720}},{"id":397671,"event":"return","thread_id":9160,"parent_id":397656,"elapsed":0.00105588004225865,"elapsed_instrumentation":5.9808953665196896e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/claire1780","object_id":2832720}},{"id":397672,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"virtual_object","path":"app/serializers/activitypub/block_serializer.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":2832660,"value":"#<ActivityPub::BlockSerializer:0x00007fc930d60e10>"}},{"id":397673,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":397674,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2831800,"value":"#<Account:0x00007fc91a3db2c0>"}},{"id":397675,"event":"return","thread_id":9160,"parent_id":397674,"elapsed":6.402959115803242e-06,"elapsed_instrumentation":5.0857022870332e-05},{"id":397676,"event":"return","thread_id":9160,"parent_id":397673,"elapsed":8.565600728616118e-05,"elapsed_instrumentation":8.95520206540823e-05,"return_value":{"class":"String","value":"https://unknown.bar/users/unknown","object_id":2832740}},{"id":397677,"event":"return","thread_id":9160,"parent_id":397672,"elapsed":0.00020968698663637042,"elapsed_instrumentation":6.706098793074489e-05,"return_value":{"class":"String","value":"https://unknown.bar/users/unknown","object_id":2832740}},{"id":397678,"event":"return","thread_id":9160,"parent_id":397647,"elapsed":0.002002858032938093,"elapsed_instrumentation":0.00034494296414777637,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/7412e726-e367-4abd-900b-694e924d8781, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://unknown.bar/users/unknown}","object_id":2832760,"size":4}},{"id":397679,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"transform_key_casing!","path":"app/lib/activitypub/adapter.rb","lineno":10,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":2832760,"value":"{:id=>https://cb6e6126.ngrok.io/7412e726-e367-4abd-900b-694e924d8781, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://unknown.bar/users/unknown}","kind":"req","size":4},{"name":"_options","class":"Hash","object_id":2832780,"value":"{}","kind":"req","size":0}],"receiver":{"class":"Class","object_id":51220,"value":"ActivityPub::Adapter"}},{"id":397680,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":2832760,"value":"{:id=>https://cb6e6126.ngrok.io/7412e726-e367-4abd-900b-694e924d8781, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://unknown.bar/users/unknown}","kind":"req","size":4}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397681,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":679388,"value":":id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397682,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":2832800,"value":"id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397683,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397684,"event":"return","thread_id":9160,"parent_id":397683,"elapsed":2.8080539777874947e-06,"elapsed_instrumentation":0.00017463101539760828,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...37 more entries)}","object_id":1463200,"size":47}},{"id":397685,"event":"return","thread_id":9160,"parent_id":397682,"elapsed":0.00019577197963371873,"elapsed_instrumentation":6.885203765705228e-05,"return_value":{"class":"String","value":"id","object_id":1463220}},{"id":397686,"event":"return","thread_id":9160,"parent_id":397681,"elapsed":0.0002813760074786842,"elapsed_instrumentation":6.793200736865401e-05,"return_value":{"class":"Symbol","value":":id","object_id":679388}},{"id":397687,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":688668,"value":":type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397688,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":2832820,"value":"type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397689,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397690,"event":"return","thread_id":9160,"parent_id":397689,"elapsed":2.888031303882599e-06,"elapsed_instrumentation":0.000336061988491565,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...37 more entries)}","object_id":1463200,"size":47}},{"id":397691,"event":"return","thread_id":9160,"parent_id":397688,"elapsed":0.0003581200144253671,"elapsed_instrumentation":9.559199679642916e-05,"return_value":{"class":"String","value":"type","object_id":1463260}},{"id":397692,"event":"return","thread_id":9160,"parent_id":397687,"elapsed":0.000565407972317189,"elapsed_instrumentation":6.800302071496844e-05,"return_value":{"class":"Symbol","value":":type","object_id":688668}},{"id":397693,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":17461788,"value":":actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397694,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":2832840,"value":"actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397695,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397696,"event":"return","thread_id":9160,"parent_id":397695,"elapsed":2.2370368242263794e-06,"elapsed_instrumentation":0.00016408198280259967,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...37 more entries)}","object_id":1463200,"size":47}},{"id":397697,"event":"return","thread_id":9160,"parent_id":397694,"elapsed":0.00018246698891744018,"elapsed_instrumentation":6.745202699676156e-05,"return_value":{"class":"String","value":"actor","object_id":1463300}},{"id":397698,"event":"return","thread_id":9160,"parent_id":397693,"elapsed":0.0002667789813131094,"elapsed_instrumentation":6.854196544736624e-05,"return_value":{"class":"Symbol","value":":actor","object_id":17461788}},{"id":397699,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":703388,"value":":object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397700,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":2832860,"value":"object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397701,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":397702,"event":"return","thread_id":9160,"parent_id":397701,"elapsed":2.61794775724411e-06,"elapsed_instrumentation":0.00018623401410877705,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...37 more entries)}","object_id":1463200,"size":47}},{"id":397703,"event":"return","thread_id":9160,"parent_id":397700,"elapsed":0.00020840100478380919,"elapsed_instrumentation":8.558697300031781e-05,"return_value":{"class":"String","value":"object","object_id":1463340}},{"id":397704,"event":"return","thread_id":9160,"parent_id":397699,"elapsed":0.00031686597503721714,"elapsed_instrumentation":0.00026693195104599,"return_value":{"class":"Symbol","value":":object","object_id":703388}},{"id":397705,"event":"return","thread_id":9160,"parent_id":397680,"elapsed":0.0019783860188908875,"elapsed_instrumentation":0.00016927102115005255,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/7412e726-e367-4abd-900b-694e924d8781, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://unknown.bar/users/unknown}","object_id":2832760,"size":4}},{"id":397706,"event":"return","thread_id":9160,"parent_id":397679,"elapsed":0.0021678550401702523,"elapsed_instrumentation":0.00022576894843950868,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/7412e726-e367-4abd-900b-694e924d8781, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://unknown.bar/users/unknown}","object_id":2832760,"size":4}},{"id":397707,"event":"call","thread_id":9160,"defined_class":"ContextHelper","method_id":"serialized_context","path":"app/helpers/context_helper.rb","lineno":41,"static":false,"parameters":[{"name":"named_contexts_map","class":"Hash","object_id":2832880,"value":"{:activitystreams=>}","kind":"req","size":1},{"name":"context_extensions_map","class":"Hash","object_id":2832900,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActivityPub::Adapter","object_id":2832620,"value":"#<ActivityPub::Adapter:0x00007fc9327ec130>"}},{"id":397708,"event":"return","thread_id":9160,"parent_id":397707,"elapsed":9.866023901849985e-06,"elapsed_instrumentation":0.00012908101780340075,"return_value":{"class":"String","value":"https://www.w3.org/ns/activitystreams","object_id":1463480}},{"id":397709,"event":"return","thread_id":9160,"parent_id":397646,"elapsed":0.004966615000739694,"elapsed_instrumentation":0.00015495502157136798,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/7412e726-e367-4abd-900b-694e924d8781, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://unknown.bar/users/unknown}","object_id":2832920,"size":5}},{"id":397710,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2832600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":397711,"event":"return","thread_id":9160,"parent_id":397710,"elapsed":3.7259887903928757e-06,"elapsed_instrumentation":0.00029313896084204316,"return_value":{"class":"Array","value":"[]","object_id":328060,"size":0}},{"id":397712,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2832600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":397713,"event":"return","thread_id":9160,"parent_id":397712,"elapsed":2.678949385881424e-06,"elapsed_instrumentation":7.922400254756212e-05,"return_value":{"class":"Array","value":"[]","object_id":328080,"size":0}},{"id":397714,"event":"return","thread_id":9160,"parent_id":397641,"elapsed":0.005928075988776982,"elapsed_instrumentation":0.0002036229707300663,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/7412e726-e367-4abd-900b-694e924d8781, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/claire1780, :object=>https://unknown.bar/users/unknown}","object_id":2832920,"size":5}},{"id":397715,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":2832940,"value":"{args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/7412e726-e367-4a (...135 more characters), 111361339946159246, ], class=>ActivityPub::DeliveryWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":2832960,"value":"#<Sidekiq::Client:0x00007fc9327aa550>"}},{"id":397716,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":2832980,"value":"Qt+_$0,_D__\b"}},{"id":397717,"event":"return","thread_id":9160,"parent_id":397716,"elapsed":4.64398181065917e-06,"elapsed_instrumentation":0.00018129305681213737,"return_value":{"class":"String","value":"51742b8d24302cab44d5a108","object_id":2833000}},{"id":397718,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":2833020,"value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/7412e726-e367-4a (...135 more characters), 111361339946159246, ]","kind":"req","size":3}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2833040,"value":"#<JSON::Ext::Generator::State:0x00007fc9327a7c10>"}},{"id":397719,"event":"return","thread_id":9160,"parent_id":397718,"elapsed":8.584989700466394e-06,"elapsed_instrumentation":0.00017877400387078524,"return_value":{"class":"String","value":"[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystreams\\\",\\\"id\\\":\\\"https://cb6e6126.ngrok.io/7412e72 (...181 more characters)","object_id":2833060}},{"id":397720,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2833080,"value":"#<JSON::Ext::Parser:0x00007fc9327a6a18>"}},{"id":397721,"event":"return","thread_id":9160,"parent_id":397720,"elapsed":7.897033356130123e-06,"elapsed_instrumentation":0.00012283300748094916,"return_value":{"class":"Array","value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/7412e726-e367-4a (...135 more characters), 111361339946159246, ]","object_id":2833100,"size":3}},{"id":397722,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":2833120,"value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/7412e726-e367-4a (...135 more characters), 111361339946159246, ], class=>ActivityPub::DeliveryWorker, jid=>51742b8d24302cab44d5a108, created_at=>1699239196.3211315}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":2833140,"value":"#<JSON::Ext::Generator::State:0x00007fc9327a5b40>"}},{"id":397723,"event":"return","thread_id":9160,"parent_id":397722,"elapsed":1.5523051843047142e-05,"elapsed_instrumentation":0.00020760198822245002,"return_value":{"class":"String","value":"{\"retry\":16,\"queue\":\"push\",\"dead\":false,\"args\":[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystrea (...332 more characters)","object_id":2833160}},{"id":397724,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":2833180,"value":"#<JSON::Ext::Parser:0x00007fc9327a1e28>"}},{"id":397725,"event":"return","thread_id":9160,"parent_id":397724,"elapsed":2.2877007722854614e-05,"elapsed_instrumentation":0.000577704980969429,"return_value":{"class":"Hash","value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/7412e726-e367-4a (...135 more characters), 111361339946159246, ], class=>ActivityPub::DeliveryWorker, jid=>51742b8d24302cab44d5a108, created_at=>1699239196.3211315}","object_id":2833200,"size":7}},{"id":397726,"event":"return","thread_id":9160,"parent_id":397715,"elapsed":0.0018746050191111863,"elapsed_instrumentation":0.00015431595966219902,"return_value":{"class":"String","value":"51742b8d24302cab44d5a108","object_id":2833000}},{"id":397727,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397728,"event":"return","thread_id":9160,"parent_id":397727,"elapsed":0.000794617,"elapsed_instrumentation":9.251601295545697e-05},{"id":397729,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"bulk_import_rows\" WHERE \"bulk_import_rows\".\"id\" = $1","database_type":"postgres"}},{"id":397730,"event":"return","thread_id":9160,"parent_id":397729,"elapsed":0.001739271,"elapsed_instrumentation":8.179404539987445e-05},{"id":397731,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":397732,"event":"return","thread_id":9160,"parent_id":397731,"elapsed":0.000557512,"elapsed_instrumentation":0.0001832900452427566},{"id":397733,"event":"call","thread_id":9160,"defined_class":"BulkImport","method_id":"progress!","path":"app/models/bulk_import.rb","lineno":45,"static":true,"parameters":[{"name":"bulk_import_id","class":"Integer","object_id":1991,"value":"995","kind":"req"},{"name":"imported","class":"TrueClass","object_id":20,"value":"true","kind":"key"}],"receiver":{"class":"Class","object_id":2260160,"value":"BulkImport"}},{"id":397734,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"bulk_imports\" SET \"processed_items\" = COALESCE(\"processed_items\", 0) + $1 WHERE \"bulk_imports\".\"id\" = $2","database_type":"postgres"}},{"id":397735,"event":"return","thread_id":9160,"parent_id":397734,"elapsed":0.001017591,"elapsed_instrumentation":8.116103708744049e-05},{"id":397736,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"bulk_imports\" SET \"imported_items\" = COALESCE(\"imported_items\", 0) + $1 WHERE \"bulk_imports\".\"id\" = $2","database_type":"postgres"}},{"id":397737,"event":"return","thread_id":9160,"parent_id":397736,"elapsed":0.000780305,"elapsed_instrumentation":7.378601003438234e-05},{"id":397738,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"bulk_imports\".* FROM \"bulk_imports\" WHERE \"bulk_imports\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":397739,"event":"return","thread_id":9160,"parent_id":397738,"elapsed":0.000765451,"elapsed_instrumentation":7.815996650606394e-05},{"id":397740,"event":"return","thread_id":9160,"parent_id":397733,"elapsed":0.005597699026111513,"elapsed_instrumentation":0.00021619501058012247},{"id":397741,"event":"return","thread_id":9160,"parent_id":397468,"elapsed":0.09751987003255635,"elapsed_instrumentation":0.00013136095367372036},{"id":397742,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" INNER JOIN \"blocks\" ON \"accounts\".\"id\" = \"blocks\".\"target_account_id\" WHERE \"blocks\".\"account_id\" = $1 ORDER BY blocks.id desc","database_type":"postgres"}},{"id":397743,"event":"return","thread_id":9160,"parent_id":397742,"elapsed":0.001792489,"elapsed_instrumentation":9.243801468983293e-05},{"id":397744,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"acct","path":"app/models/account.rb","lineno":191,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2833240,"value":"#<Account:0x00007fc91a3d4100>"}},{"id":397745,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2833240,"value":"#<Account:0x00007fc91a3d4100>"}},{"id":397746,"event":"return","thread_id":9160,"parent_id":397745,"elapsed":2.841802779585123e-05,"elapsed_instrumentation":0.00010361394379287958},{"id":397747,"event":"return","thread_id":9160,"parent_id":397744,"elapsed":0.0001711410004645586,"elapsed_instrumentation":0.00037146202521398664,"return_value":{"class":"String","value":"unknown@unknown.bar","object_id":2833260}},{"id":397748,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"acct","path":"app/models/account.rb","lineno":191,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2833280,"value":"#<Account:0x00007fc91a3d3fc0>"}},{"id":397749,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2833280,"value":"#<Account:0x00007fc91a3d3fc0>"}},{"id":397750,"event":"return","thread_id":9160,"parent_id":397749,"elapsed":9.101990144699812e-06,"elapsed_instrumentation":5.3104013204574585e-05},{"id":397751,"event":"return","thread_id":9160,"parent_id":397748,"elapsed":8.41930159367621e-05,"elapsed_instrumentation":7.877300959080458e-05,"return_value":{"class":"String","value":"user@foo.bar","object_id":2833300}},{"id":397752,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"acct","path":"app/models/account.rb","lineno":191,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2833320,"value":"#<Account:0x00007fc91a3d3e80>"}},{"id":397753,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":2833320,"value":"#<Account:0x00007fc91a3d3e80>"}},{"id":397754,"event":"return","thread_id":9160,"parent_id":397753,"elapsed":7.928989361971617e-06,"elapsed_instrumentation":4.8363988753408194e-05},{"id":397755,"event":"return","thread_id":9160,"parent_id":397752,"elapsed":7.674901280552149e-05,"elapsed_instrumentation":6.766105070710182e-05,"return_value":{"class":"String","value":"already_blocked@remote.org","object_id":2833340}}]}