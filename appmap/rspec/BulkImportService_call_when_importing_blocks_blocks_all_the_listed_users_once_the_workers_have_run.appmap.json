{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"BulkImportService #call when importing blocks blocks all the listed users once the workers have run","source_location":"spec/services/bulk_import_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]},{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]},{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"workers/import","type":"package","children":[{"name":"Import","type":"class","children":[{"name":"RowWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/import/row_worker.rb:16","static":false}]}]}]},{"name":"services","type":"package","children":[{"name":"BulkImportRowService","type":"class","children":[{"name":"domain","type":"function","location":"app/services/bulk_import_row_service.rb:49","static":false},{"name":"stoplight_wrap_request","type":"function","location":"app/services/bulk_import_row_service.rb:54","static":false}]},{"name":"concerns","type":"package","children":[{"name":"Payloadable","type":"class","children":[{"name":"serialize_payload","type":"function","location":"app/services/concerns/payloadable.rb:13","static":false}]}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"local_domain?","type":"function","location":"app/lib/tag_manager.rb:13","static":false},{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"PotentialFriendshipTracker","type":"class","children":[{"name":"remove","type":"function","location":"app/lib/potential_friendship_tracker.rb:27","static":true}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"generate_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:61","static":false},{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false}]},{"name":"Serializer","type":"class","children":[{"name":"inherited","type":"function","location":"app/lib/activitypub/serializer.rb:12","static":true},{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/serializer.rb:31","static":false}]},{"name":"Adapter","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/adapter.rb:14","static":false},{"name":"transform_key_casing!","type":"function","location":"app/lib/activitypub/adapter.rb:10","static":true}]},{"name":"CaseTransform","type":"class","children":[{"name":"camel_lower","type":"function","location":"app/lib/activitypub/case_transform.rb:9","static":true},{"name":"camel_lower_cache","type":"function","location":"app/lib/activitypub/case_transform.rb:5","static":true}]}]}]}]},{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"object_type","type":"function","location":"app/models/account.rb:385","static":false},{"name":"instance_actor?","type":"function","location":"app/models/account.rb:175","static":false},{"name":"to_param","type":"function","location":"app/models/account.rb:389","static":false},{"name":"acct","type":"function","location":"app/models/account.rb:191","static":false}]},{"name":"concerns","type":"package","children":[{"name":"DomainMaterializable","type":"class","children":[{"name":"refresh_instances_view","type":"function","location":"app/models/concerns/domain_materializable.rb:12","static":false},{"name":"count_unique_subdomains!","type":"function","location":"app/models/concerns/domain_materializable.rb:19","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountInteractions","type":"class","children":[{"name":"following?","type":"function","location":"app/models/concerns/account_interactions.rb:198","static":false},{"name":"requested?","type":"function","location":"app/models/concerns/account_interactions.rb:238","static":false},{"name":"block!","type":"function","location":"app/models/concerns/account_interactions.rb:145","static":false}]}]},{"name":"Instance","type":"class","children":[{"name":"refresh","type":"function","location":"app/models/instance.rb:28","static":true}]},{"name":"Block","type":"class","children":[{"name":"local?","type":"function","location":"app/models/block.rb:24","static":false}]},{"name":"BulkImport","type":"class","children":[{"name":"progress!","type":"function","location":"app/models/bulk_import.rb:45","static":true}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]},{"name":"ContextHelper","type":"class","children":[{"name":"serialized_context","type":"function","location":"app/helpers/context_helper.rb:41","static":false}]}]},{"name":"serializers/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"BlockSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/activitypub/block_serializer.rb:7","static":false},{"name":"type","type":"function","location":"app/serializers/activitypub/block_serializer.rb:11","static":false},{"name":"actor","type":"function","location":"app/serializers/activitypub/block_serializer.rb:15","static":false},{"name":"virtual_object","type":"function","location":"app/serializers/activitypub/block_serializer.rb:19","static":false}]}]}]}]},{"name":"lib/paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]}],"events":[{"id":116686,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"bulk_import_rows\".* FROM \"bulk_import_rows\" WHERE \"bulk_import_rows\".\"bulk_import_id\" = $1","database_type":"postgres"}},{"id":116687,"event":"return","thread_id":9160,"parent_id":116686,"elapsed":0.000534592,"elapsed_instrumentation":0.000147407001350075},{"id":116688,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1028960,"value":"#<JSON::Ext::Parser:0x00007fdc09090410>"}},{"id":116689,"event":"return","thread_id":9160,"parent_id":116688,"elapsed":6.412010407075286e-06,"elapsed_instrumentation":0.00014416899648495018,"return_value":{"class":"Hash","value":"{acct=>user@foo.bar}","object_id":1028980,"size":1}},{"id":116690,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1029000,"value":"#<JSON::Ext::Parser:0x00007fdc090ce9b8>"}},{"id":116691,"event":"return","thread_id":9160,"parent_id":116690,"elapsed":5.89000410400331e-06,"elapsed_instrumentation":0.00012852399959228933,"return_value":{"class":"Hash","value":"{acct=>unknown@unknown.bar}","object_id":1029020,"size":1}},{"id":116692,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":1029040,"value":"{acct=>user@foo.bar}","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1029060,"value":"#<JSON::Ext::Generator::State:0x00007fdc090cd3b0>"}},{"id":116693,"event":"return","thread_id":9160,"parent_id":116692,"elapsed":6.779999239370227e-06,"elapsed_instrumentation":0.00010209000902250409,"return_value":{"class":"String","value":"{\"acct\":\"user@foo.bar\"}","object_id":1029080}},{"id":116694,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1029100,"value":"#<JSON::Ext::Parser:0x00007fdc090cb010>"}},{"id":116695,"event":"return","thread_id":9160,"parent_id":116694,"elapsed":4.1330058593302965e-06,"elapsed_instrumentation":7.452600402757525e-05,"return_value":{"class":"Hash","value":"{acct=>user@foo.bar}","object_id":1029120,"size":1}},{"id":116696,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":1029140,"value":"{acct=>unknown@unknown.bar}","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1029160,"value":"#<JSON::Ext::Generator::State:0x00007fdc090c9d50>"}},{"id":116697,"event":"return","thread_id":9160,"parent_id":116696,"elapsed":4.577974323183298e-06,"elapsed_instrumentation":8.62890447024256e-05,"return_value":{"class":"String","value":"{\"acct\":\"unknown@unknown.bar\"}","object_id":1029180}},{"id":116698,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1029200,"value":"#<JSON::Ext::Parser:0x00007fdc090c6fb0>"}},{"id":116699,"event":"return","thread_id":9160,"parent_id":116698,"elapsed":3.7409772630780935e-06,"elapsed_instrumentation":6.962500629015267e-05,"return_value":{"class":"Hash","value":"{acct=>unknown@unknown.bar}","object_id":1029220,"size":1}},{"id":116700,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":1029240,"value":"q_r_C_\u0013_W\u0004k_"}},{"id":116701,"event":"return","thread_id":9160,"parent_id":116700,"elapsed":4.040019121021032e-06,"elapsed_instrumentation":0.00011164700845256448,"return_value":{"class":"String","value":"719172c543e0139057046ba8","object_id":1029260}},{"id":116702,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":1029280,"value":"______k\u0004____"}},{"id":116703,"event":"return","thread_id":9160,"parent_id":116702,"elapsed":2.610002411529422e-06,"elapsed_instrumentation":8.54829850140959e-05,"return_value":{"class":"String","value":"fd9a85cbfffe6b04c686ad95","object_id":1029300}},{"id":116704,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":1029320,"value":"[17]","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1029340,"value":"#<JSON::Ext::Generator::State:0x00007fdc090c2028>"}},{"id":116705,"event":"return","thread_id":9160,"parent_id":116704,"elapsed":4.747998900711536e-06,"elapsed_instrumentation":9.14699921850115e-05,"return_value":{"class":"String","value":"[17]","object_id":1029360}},{"id":116706,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1029380,"value":"#<JSON::Ext::Parser:0x00007fdc090c0bd8>"}},{"id":116707,"event":"return","thread_id":9160,"parent_id":116706,"elapsed":3.7749996408820152e-06,"elapsed_instrumentation":6.2583974795416e-05,"return_value":{"class":"Array","value":"[17]","object_id":1029400,"size":1}},{"id":116708,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":1029420,"value":"__\u001d_\t____h__"}},{"id":116709,"event":"return","thread_id":9160,"parent_id":116708,"elapsed":2.9840157367289066e-06,"elapsed_instrumentation":7.740900036878884e-05,"return_value":{"class":"String","value":"b4bf1db809d8c19ef768f29f","object_id":1029440}},{"id":116710,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":1029460,"value":"[18]","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1029480,"value":"#<JSON::Ext::Generator::State:0x00007fdc0911e558>"}},{"id":116711,"event":"return","thread_id":9160,"parent_id":116710,"elapsed":3.7800054997205734e-06,"elapsed_instrumentation":7.824401836842299e-05,"return_value":{"class":"String","value":"[18]","object_id":1029500}},{"id":116712,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1029520,"value":"#<JSON::Ext::Parser:0x00007fdc0911c618>"}},{"id":116713,"event":"return","thread_id":9160,"parent_id":116712,"elapsed":2.729997504502535e-06,"elapsed_instrumentation":5.909200990572572e-05,"return_value":{"class":"Array","value":"[18]","object_id":1029540,"size":1}},{"id":116714,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":1029560,"value":"{retry=>6, queue=>pull, dead=>false, class=>Import::RowWorker, args=>[17], jid=>fd9a85cbfffe6b04c686ad95, created_at=>1699225381.8520505}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1029580,"value":"#<JSON::Ext::Generator::State:0x00007fdc0911b628>"}},{"id":116715,"event":"return","thread_id":9160,"parent_id":116714,"elapsed":1.1129013728350401e-05,"elapsed_instrumentation":0.00027447499451227486,"return_value":{"class":"String","value":"{\"retry\":6,\"queue\":\"pull\",\"dead\":false,\"class\":\"Import::RowWorker\",\"args\":[17],\"jid\":\"fd9a85cbfffe6b (...44 more characters)","object_id":1029600}},{"id":116716,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1029620,"value":"#<JSON::Ext::Parser:0x00007fdc09118c70>"}},{"id":116717,"event":"return","thread_id":9160,"parent_id":116716,"elapsed":1.646997407078743e-05,"elapsed_instrumentation":0.0001340620219707489,"return_value":{"class":"Hash","value":"{retry=>6, queue=>pull, dead=>false, class=>Import::RowWorker, args=>[17], jid=>fd9a85cbfffe6b04c686ad95, created_at=>1699225381.8520505}","object_id":1029640,"size":7}},{"id":116718,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":1029660,"value":"{retry=>6, queue=>pull, dead=>false, class=>Import::RowWorker, args=>[18], jid=>b4bf1db809d8c19ef768f29f, created_at=>1699225381.8520505}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1029680,"value":"#<JSON::Ext::Generator::State:0x00007fdc09115e80>"}},{"id":116719,"event":"return","thread_id":9160,"parent_id":116718,"elapsed":3.098798333667219e-05,"elapsed_instrumentation":0.0001545289997011423,"return_value":{"class":"String","value":"{\"retry\":6,\"queue\":\"pull\",\"dead\":false,\"class\":\"Import::RowWorker\",\"args\":[18],\"jid\":\"b4bf1db809d8c1 (...44 more characters)","object_id":1029700}},{"id":116720,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1029720,"value":"#<JSON::Ext::Parser:0x00007fdc09112c30>"}},{"id":116721,"event":"return","thread_id":9160,"parent_id":116720,"elapsed":1.793599221855402e-05,"elapsed_instrumentation":0.000279903004411608,"return_value":{"class":"Hash","value":"{retry=>6, queue=>pull, dead=>false, class=>Import::RowWorker, args=>[18], jid=>b4bf1db809d8c19ef768f29f, created_at=>1699225381.8520505}","object_id":1029740,"size":7}},{"id":116722,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1029760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976e020>"}},{"id":116723,"event":"return","thread_id":9160,"parent_id":116722,"elapsed":1.842400524765253e-05,"elapsed_instrumentation":0.00014259200543165207,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069cf6a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1014300,"size":1}},{"id":116724,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1029780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976dfd0>"}},{"id":116725,"event":"return","thread_id":9160,"parent_id":116724,"elapsed":0.00013277502148412168,"elapsed_instrumentation":0.00015079797594808042,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ce8b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069cea98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069cec78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069cedb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1014360,"size":4}},{"id":116726,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1029780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976dfd0>"}},{"id":116727,"event":"return","thread_id":9160,"parent_id":116726,"elapsed":3.028020728379488e-06,"elapsed_instrumentation":0.00019023899221792817,"return_value":{"class":"Array","value":"[]","object_id":1014380,"size":0}},{"id":116728,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1029760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976e020>"}},{"id":116729,"event":"return","thread_id":9160,"parent_id":116728,"elapsed":1.0060000931844115e-05,"elapsed_instrumentation":8.501100819557905e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069cf538 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1014400,"size":1}},{"id":116730,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1029800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014440,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976de90>"}},{"id":116731,"event":"return","thread_id":9160,"parent_id":116730,"elapsed":0.00010313797974959016,"elapsed_instrumentation":0.00010447000386193395,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069cd490 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1014460,"size":1}},{"id":116732,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1029800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976dee0>"}},{"id":116733,"event":"return","thread_id":9160,"parent_id":116732,"elapsed":2.0799925550818443e-06,"elapsed_instrumentation":8.327601244673133e-05,"return_value":{"class":"Array","value":"[]","object_id":1014500,"size":0}},{"id":116734,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1029820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09768940>"}},{"id":116735,"event":"return","thread_id":9160,"parent_id":116734,"elapsed":3.410008503124118e-06,"elapsed_instrumentation":9.350499021820724e-05,"return_value":{"class":"Array","value":"[]","object_id":1014560,"size":0}},{"id":116736,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":116737,"event":"return","thread_id":9160,"parent_id":116736,"elapsed":0.000477878,"elapsed_instrumentation":0.00011590099893510342},{"id":116738,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"bulk_imports\" SET \"state\" = $1, \"finished_at\" = $2, \"updated_at\" = $3 WHERE \"bulk_imports\".\"id\" = $4","database_type":"postgres"}},{"id":116739,"event":"return","thread_id":9160,"parent_id":116738,"elapsed":0.001933675,"elapsed_instrumentation":8.011201862245798e-05},{"id":116740,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1029820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09768940>"}},{"id":116741,"event":"return","thread_id":9160,"parent_id":116740,"elapsed":4.237500252202153e-05,"elapsed_instrumentation":0.00024116100394167006,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069d3cf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1014580,"size":1}},{"id":116742,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1029800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976dee0>"}},{"id":116743,"event":"return","thread_id":9160,"parent_id":116742,"elapsed":2.640997990965843e-06,"elapsed_instrumentation":9.3937007477507e-05,"return_value":{"class":"Array","value":"[]","object_id":1014600,"size":0}},{"id":116744,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1029800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014440,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976de90>"}},{"id":116745,"event":"return","thread_id":9160,"parent_id":116744,"elapsed":1.9980070646852255e-06,"elapsed_instrumentation":6.540497997775674e-05,"return_value":{"class":"Array","value":"[]","object_id":1014620,"size":0}},{"id":116746,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":116747,"event":"return","thread_id":9160,"parent_id":116746,"elapsed":0.000327853,"elapsed_instrumentation":6.740697426721454e-05},{"id":116748,"event":"call","thread_id":9160,"defined_class":"Import::RowWorker","method_id":"perform","path":"app/workers/import/row_worker.rb","lineno":16,"static":false,"parameters":[{"name":"row_id","class":"Integer","object_id":35,"value":"17","kind":"req"}],"receiver":{"class":"Import::RowWorker","object_id":1029860,"value":"#<Import::RowWorker:0x00007fdc091c5ba0>"}},{"id":116749,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"bulk_import_rows\".\"id\" AS t0_r0, \"bulk_import_rows\".\"bulk_import_id\" AS t0_r1, \"bulk_import_rows\".\"data\" AS t0_r2, \"bulk_import_rows\".\"created_at\" AS t0_r3, \"bulk_import_rows\".\"updated_at\" AS t0_r4, \"bulk_imports\".\"id\" AS t1_r0, \"bulk_imports\".\"type\" AS t1_r1, \"bulk_imports\".\"state\" AS t1_r2, \"bulk_imports\".\"total_items\" AS t1_r3, \"bulk_imports\".\"imported_items\" AS t1_r4, \"bulk_imports\".\"processed_items\" AS t1_r5, \"bulk_imports\".\"finished_at\" AS t1_r6, \"bulk_imports\".\"overwrite\" AS t1_r7, \"bulk_imports\".\"likely_mismatched\" AS t1_r8, \"bulk_imports\".\"original_filename\" AS t1_r9, \"bulk_imports\".\"account_id\" AS t1_r10, \"bulk_imports\".\"created_at\" AS t1_r11, \"bulk_imports\".\"updated_at\" AS t1_r12, \"accounts\".\"id\" AS t2_r0, \"accounts\".\"username\" AS t2_r1, \"accounts\".\"domain\" AS t2_r2, \"accounts\".\"private_key\" AS t2_r3, \"accounts\".\"public_key\" AS t2_r4, \"accounts\".\"created_at\" AS t2_r5, \"accounts\".\"updated_at\" AS t2_r6, \"accounts\".\"note\" AS t2_r7, \"accounts\".\"display_name\" AS t2_r8, \"accounts\".\"uri\" AS t2_r9, \"accounts\".\"url\" AS t2_r10, \"accounts\".\"avatar_file_name\" AS t2_r11, \"accounts\".\"avatar_content_type\" AS t2_r12, \"accounts\".\"avatar_file_size\" AS t2_r13, \"accounts\".\"avatar_updated_at\" AS t2_r14, \"accounts\".\"header_file_name\" AS t2_r15, \"accounts\".\"header_content_type\" AS t2_r16, \"accounts\".\"header_file_size\" AS t2_r17, \"accounts\".\"header_updated_at\" AS t2_r18, \"accounts\".\"avatar_remote_url\" AS t2_r19, \"accounts\".\"locked\" AS t2_r20, \"accounts\".\"header_remote_url\" AS t2_r21, \"accounts\".\"last_webfingered_at\" AS t2_r22, \"accounts\".\"inbox_url\" AS t2_r23, \"accounts\".\"outbox_url\" AS t2_r24, \"accounts\".\"shared_inbox_url\" AS t2_r25, \"accounts\".\"followers_url\" AS t2_r26, \"accounts\".\"protocol\" AS t2_r27, \"accounts\".\"memorial\" AS t2_r28, \"accounts\".\"moved_to_account_id\" AS t2_r29, \"accounts\".\"featured_collection_url\" AS t2_r30, \"accounts\".\"fields\" AS t2_r31, \"accounts\".\"actor_type\" AS t2_r32, \"accounts\".\"discoverable\" AS t2_r33, \"accounts\".\"also_known_as\" AS t2_r34, \"accounts\".\"silenced_at\" AS t2_r35, \"accounts\".\"suspended_at\" AS t2_r36, \"accounts\".\"hide_collections\" AS t2_r37, \"accounts\".\"avatar_storage_schema_version\" AS t2_r38, \"accounts\".\"header_storage_schema_version\" AS t2_r39, \"accounts\".\"devices_url\" AS t2_r40, \"accounts\".\"suspension_origin\" AS t2_r41, \"accounts\".\"sensitized_at\" AS t2_r42, \"accounts\".\"trendable\" AS t2_r43, \"accounts\".\"reviewed_at\" AS t2_r44, \"accounts\".\"requested_review_at\" AS t2_r45, \"accounts\".\"indexable\" AS t2_r46 FROM \"bulk_import_rows\" LEFT OUTER JOIN \"bulk_imports\" ON \"bulk_imports\".\"id\" = \"bulk_import_rows\".\"bulk_import_id\" LEFT OUTER JOIN \"accounts\" ON \"accounts\".\"id\" = \"bulk_imports\".\"account_id\" WHERE \"bulk_import_rows\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":116750,"event":"return","thread_id":9160,"parent_id":116749,"elapsed":0.001452186,"elapsed_instrumentation":6.88099826220423e-05},{"id":116751,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1029940,"value":"#<JSON::Ext::Parser:0x00007fdc09215038>"}},{"id":116752,"event":"return","thread_id":9160,"parent_id":116751,"elapsed":9.897019481286407e-06,"elapsed_instrumentation":0.00015426400932483375,"return_value":{"class":"Hash","value":"{acct=>user@foo.bar}","object_id":1029960,"size":1}},{"id":116753,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"domain","path":"app/services/bulk_import_row_service.rb","lineno":49,"static":false,"parameters":[{"name":"uri","class":"String","object_id":1029980,"value":"user@foo.bar","kind":"req"}],"receiver":{"class":"BulkImportRowService","object_id":1030000,"value":"#<BulkImportRowService:0x00007fdc0a833ef0>"}},{"id":116754,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":1030020,"value":"foo.bar","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":116755,"event":"return","thread_id":9160,"parent_id":116754,"elapsed":1.7483020201325417e-05,"elapsed_instrumentation":6.45380059722811e-05},{"id":116756,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":1030020,"value":"foo.bar","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":116757,"event":"return","thread_id":9160,"parent_id":116756,"elapsed":8.95489938557148e-05,"elapsed_instrumentation":9.138899622485042e-05,"return_value":{"class":"String","value":"foo.bar","object_id":1030040}},{"id":116758,"event":"return","thread_id":9160,"parent_id":116753,"elapsed":0.000305540015688166,"elapsed_instrumentation":0.00011581697617657483,"return_value":{"class":"String","value":"foo.bar","object_id":1030040}},{"id":116759,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"stoplight_wrap_request","path":"app/services/bulk_import_row_service.rb","lineno":54,"static":false,"parameters":[{"name":"domain","class":"String","object_id":1030040,"value":"foo.bar","kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"BulkImportRowService","object_id":1030000,"value":"#<BulkImportRowService:0x00007fdc0a833ef0>"}},{"id":116760,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59d48>"}},{"id":116761,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116762,"event":"return","thread_id":9160,"parent_id":116761,"elapsed":1.4983001165091991e-05,"elapsed_instrumentation":5.5423995945602655e-05},{"id":116763,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":1030120,"value":"foo.bar","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":116764,"event":"return","thread_id":9160,"parent_id":116763,"elapsed":6.83350081089884e-05,"elapsed_instrumentation":8.310197154060006e-05,"return_value":{"class":"String","value":"foo.bar","object_id":1030140}},{"id":116765,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116766,"event":"return","thread_id":9160,"parent_id":116765,"elapsed":1.0380987077951431e-05,"elapsed_instrumentation":8.503600838594139e-05},{"id":116767,"event":"return","thread_id":9160,"parent_id":116760,"elapsed":0.0005430830060504377,"elapsed_instrumentation":0.00014905101852491498,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa3ac30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b040 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b1f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b4c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":208720,"size":4}},{"id":116768,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59898>"}},{"id":116769,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":208780,"value":"#<UniqueUsernameValidator:0x00007fdc16b80188>"}},{"id":116770,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":116771,"event":"return","thread_id":9160,"parent_id":116770,"elapsed":0.000576673,"elapsed_instrumentation":0.00010024401126429439},{"id":116772,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'user' AND LOWER(\"accounts\".\"domain\") = 'foo.bar' LIMIT $1","database_type":"postgres"}},{"id":116773,"event":"return","thread_id":9160,"parent_id":116772,"elapsed":0.001684553,"elapsed_instrumentation":0.00012755300849676132},{"id":116774,"event":"return","thread_id":9160,"parent_id":116769,"elapsed":0.0029963880078867078,"elapsed_instrumentation":0.0001238000113517046},{"id":116775,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116776,"event":"return","thread_id":9160,"parent_id":116775,"elapsed":1.2311007594689727e-05,"elapsed_instrumentation":0.00011473201448097825},{"id":116777,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116778,"event":"return","thread_id":9160,"parent_id":116777,"elapsed":4.314992111176252e-06,"elapsed_instrumentation":6.002999725751579e-05},{"id":116779,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116780,"event":"return","thread_id":9160,"parent_id":116779,"elapsed":3.535998985171318e-06,"elapsed_instrumentation":4.7950976295396686e-05},{"id":116781,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116782,"event":"return","thread_id":9160,"parent_id":116781,"elapsed":3.4190015867352486e-06,"elapsed_instrumentation":4.161000833846629e-05},{"id":116783,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116784,"event":"return","thread_id":9160,"parent_id":116783,"elapsed":9.804003639146686e-06,"elapsed_instrumentation":0.00016882899217307568},{"id":116785,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116786,"event":"return","thread_id":9160,"parent_id":116785,"elapsed":4.416011506691575e-06,"elapsed_instrumentation":7.265698513947427e-05},{"id":116787,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116788,"event":"return","thread_id":9160,"parent_id":116787,"elapsed":3.777997335419059e-06,"elapsed_instrumentation":4.847798845730722e-05},{"id":116789,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116790,"event":"return","thread_id":9160,"parent_id":116789,"elapsed":3.6999990697950125e-06,"elapsed_instrumentation":4.5769993448629975e-05},{"id":116791,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116792,"event":"return","thread_id":9160,"parent_id":116791,"elapsed":3.4079712349921465e-06,"elapsed_instrumentation":4.4618034735322e-05},{"id":116793,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116794,"event":"return","thread_id":9160,"parent_id":116793,"elapsed":3.4850090742111206e-06,"elapsed_instrumentation":4.300897126086056e-05},{"id":116795,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116796,"event":"return","thread_id":9160,"parent_id":116795,"elapsed":3.4570111893117428e-06,"elapsed_instrumentation":4.1311985114589334e-05},{"id":116797,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116798,"event":"return","thread_id":9160,"parent_id":116797,"elapsed":4.097993951290846e-06,"elapsed_instrumentation":4.212497151456773e-05},{"id":116799,"event":"return","thread_id":9160,"parent_id":116768,"elapsed":0.0051985699974466115,"elapsed_instrumentation":0.0001749820075929165,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa57768 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57920 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57ab0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57cb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58050 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58370 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58e10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa590e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa59360 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":209280,"size":71}},{"id":116800,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59898>"}},{"id":116801,"event":"return","thread_id":9160,"parent_id":116800,"elapsed":2.488988684490323e-06,"elapsed_instrumentation":7.778499275445938e-05,"return_value":{"class":"Array","value":"[]","object_id":209300,"size":0}},{"id":116802,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59d48>"}},{"id":116803,"event":"return","thread_id":9160,"parent_id":116802,"elapsed":9.962008334696293e-06,"elapsed_instrumentation":7.518898928537965e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa3a730 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209320,"size":1}},{"id":116804,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db532b8>"}},{"id":116805,"event":"return","thread_id":9160,"parent_id":116804,"elapsed":2.693900023587048e-05,"elapsed_instrumentation":0.00013489401317201555,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a933440 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209380,"size":1}},{"id":116806,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db533f8>"}},{"id":116807,"event":"return","thread_id":9160,"parent_id":116806,"elapsed":2.387008862569928e-06,"elapsed_instrumentation":7.47139856684953e-05,"return_value":{"class":"Array","value":"[]","object_id":209420,"size":0}},{"id":116808,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db52f48>"}},{"id":116809,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116810,"event":"return","thread_id":9160,"parent_id":116809,"elapsed":5.56299346499145e-06,"elapsed_instrumentation":5.121299182064831e-05},{"id":116811,"event":"return","thread_id":9160,"parent_id":116808,"elapsed":8.16189858596772e-05,"elapsed_instrumentation":9.104300988838077e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a89dcb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209480,"size":1}},{"id":116812,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":116813,"event":"return","thread_id":9160,"parent_id":116812,"elapsed":0.00162999,"elapsed_instrumentation":0.0001206550223287195},{"id":116814,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db52f48>"}},{"id":116815,"event":"return","thread_id":9160,"parent_id":116814,"elapsed":0.0006231610022950917,"elapsed_instrumentation":0.00034347097971476614,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a89daf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d940 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d788 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d418 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d1e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89cf68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89cdb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89cbd0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89c798 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":210380,"size":53}},{"id":116816,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db533f8>"}},{"id":116817,"event":"return","thread_id":9160,"parent_id":116816,"elapsed":4.129018634557724e-06,"elapsed_instrumentation":0.0001352050167042762,"return_value":{"class":"Array","value":"[]","object_id":210400,"size":0}},{"id":116818,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db532b8>"}},{"id":116819,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":1030220,"value":"/avatars/original/missing.png"}},{"id":116820,"event":"return","thread_id":9160,"parent_id":116819,"elapsed":4.376599099487066e-05,"elapsed_instrumentation":0.0004081189981661737,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":116821,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":1030240,"value":"/headers/original/missing.png"}},{"id":116822,"event":"return","thread_id":9160,"parent_id":116821,"elapsed":2.9807997634634376e-05,"elapsed_instrumentation":0.0002495789958629757,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":116823,"event":"return","thread_id":9160,"parent_id":116818,"elapsed":0.0010220039985142648,"elapsed_instrumentation":0.00019266200251877308,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a932f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932cc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932a18 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932798 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":210580,"size":4}},{"id":116824,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":116825,"event":"return","thread_id":9160,"parent_id":116824,"elapsed":0.000568092,"elapsed_instrumentation":0.00011545300367288291},{"id":116826,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":210620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db933e0>"}},{"id":116827,"event":"return","thread_id":9160,"parent_id":116826,"elapsed":4.881992936134338e-06,"elapsed_instrumentation":0.00014809402637183666,"return_value":{"class":"Array","value":"[]","object_id":210640,"size":0}},{"id":116828,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":210620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db933e0>"}},{"id":116829,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116830,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":116831,"event":"return","thread_id":9160,"parent_id":116830,"elapsed":0.000815545,"elapsed_instrumentation":0.00011158597772009671},{"id":116832,"event":"call","thread_id":9160,"defined_class":"Instance","method_id":"refresh","path":"app/models/instance.rb","lineno":28,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":52400,"value":"Instance"}},{"id":116833,"event":"call","thread_id":9160,"sql_query":{"sql":"REFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";","database_type":"postgres"}},{"id":116834,"event":"return","thread_id":9160,"parent_id":116833,"elapsed":0.01581897,"elapsed_instrumentation":0.00012834000517614186},{"id":116835,"event":"return","thread_id":9160,"parent_id":116832,"elapsed":0.016381827008444816,"elapsed_instrumentation":0.0002661980106495321,"return_value":{"class":"PG::Result","value":"#<PG::Result:0x00007fdc09395cc8>","object_id":1030280}},{"id":116836,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"count_unique_subdomains!","path":"app/models/concerns/domain_materializable.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116837,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116838,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1030300,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1030320,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":116839,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":116840,"event":"return","thread_id":9160,"parent_id":116839,"elapsed":3.04199056699872e-06,"elapsed_instrumentation":0.0002017639926634729,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":116841,"event":"return","thread_id":9160,"parent_id":116838,"elapsed":0.001175401994260028,"elapsed_instrumentation":0.00013845000648871064,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":116842,"event":"return","thread_id":9160,"parent_id":116837,"elapsed":0.0013984690012875944,"elapsed_instrumentation":9.924601181410253e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":116843,"event":"return","thread_id":9160,"parent_id":116836,"elapsed":0.0016403110057581216,"elapsed_instrumentation":9.970701648853719e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":116844,"event":"return","thread_id":9160,"parent_id":116829,"elapsed":0.02061403400148265,"elapsed_instrumentation":7.744302274659276e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":116845,"event":"return","thread_id":9160,"parent_id":116828,"elapsed":0.02076095700613223,"elapsed_instrumentation":0.00018553997506387532,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a5b4850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b44e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b40f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b39c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b2e88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b2618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":210660,"size":6}},{"id":116846,"event":"return","thread_id":9160,"parent_id":116759,"elapsed":0.039369546982925385,"elapsed_instrumentation":0.0001128030417021364,"return_value":{"class":"Account","value":"#<Account:0x00007fdc072d9610>","object_id":1030100}},{"id":116847,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>","kind":"req"}],"receiver":{"class":"Account","object_id":1030340,"value":"#<Account:0x00007fdc072d9b10>"}},{"id":116848,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":116849,"event":"return","thread_id":9160,"parent_id":116848,"elapsed":0.000857495,"elapsed_instrumentation":8.545600576326251e-05},{"id":116850,"event":"return","thread_id":9160,"parent_id":116847,"elapsed":0.0026936379726976156,"elapsed_instrumentation":0.00013404400669969618},{"id":116851,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":1030340,"value":"#<Account:0x00007fdc072d9b10>","kind":"req"}],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116852,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":116853,"event":"return","thread_id":9160,"parent_id":116852,"elapsed":0.000593304,"elapsed_instrumentation":7.839701720513403e-05},{"id":116854,"event":"return","thread_id":9160,"parent_id":116851,"elapsed":0.0018851679924409837,"elapsed_instrumentation":0.00011215999256819487},{"id":116855,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"requested?","path":"app/models/concerns/account_interactions.rb","lineno":238,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":1030340,"value":"#<Account:0x00007fdc072d9b10>","kind":"req"}],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116856,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":116857,"event":"return","thread_id":9160,"parent_id":116856,"elapsed":0.000555058,"elapsed_instrumentation":6.59709912724793e-05},{"id":116858,"event":"return","thread_id":9160,"parent_id":116855,"elapsed":0.0019159569928888232,"elapsed_instrumentation":0.00010753897367976606},{"id":116859,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"block!","path":"app/models/concerns/account_interactions.rb","lineno":145,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>","kind":"req"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":1030340,"value":"#<Account:0x00007fdc072d9b10>"}},{"id":116860,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222720869232088237,"value":"111360434616044118","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222720869232088241,"value":"111360434616044120","kind":"req"}],"receiver":{"class":"Class","object_id":824880,"value":"PotentialFriendshipTracker"}},{"id":116861,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":824880,"value":"PotentialFriendshipTracker"}},{"id":116862,"event":"return","thread_id":9160,"parent_id":116861,"elapsed":4.464003723114729e-06,"elapsed_instrumentation":6.43499952275306e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":116863,"event":"return","thread_id":9160,"parent_id":116860,"elapsed":0.00038921600207686424,"elapsed_instrumentation":8.295298903249204e-05},{"id":116864,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"blocks\".* FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":116865,"event":"return","thread_id":9160,"parent_id":116864,"elapsed":0.000496151,"elapsed_instrumentation":6.553201819770038e-05},{"id":116866,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030380,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09038260>"}},{"id":116867,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"generate_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":61,"static":false,"parameters":[{"name":"_target","class":"Block","object_id":1030400,"value":"#<Block:0x00007fdc072d8990>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":116868,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":116869,"event":"return","thread_id":9160,"parent_id":116868,"elapsed":4.09697531722486e-06,"elapsed_instrumentation":0.00010264603770337999,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":116870,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":116871,"event":"return","thread_id":9160,"parent_id":116870,"elapsed":2.474000211805105e-06,"elapsed_instrumentation":8.294000872410834e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":116872,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":1030420,"value":"___+@___\u0013_______"}},{"id":116873,"event":"return","thread_id":9160,"parent_id":116872,"elapsed":6.0810125432908535e-06,"elapsed_instrumentation":0.00014303700299933553,"return_value":{"class":"Array","value":"[4107244331, 16531, 52910, 5119, 56806, 3919969203]","object_id":1030440,"size":6}},{"id":116874,"event":"return","thread_id":9160,"parent_id":116867,"elapsed":0.0007929760031402111,"elapsed_instrumentation":0.00012703001266345382,"return_value":{"class":"URI::HTTPS","value":"https://cb6e6126.ngrok.io/f4cf932b-4093-4eae-93ff-dde6e9a5fbb3","object_id":1030460}},{"id":116875,"event":"return","thread_id":9160,"parent_id":116866,"elapsed":0.0009773829951882362,"elapsed_instrumentation":0.00012960800086148083,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08d6eae8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d6ec28 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1030480,"size":2}},{"id":116876,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030520,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09037f90>"}},{"id":116877,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":116878,"event":"return","thread_id":9160,"parent_id":116877,"elapsed":0.000363256,"elapsed_instrumentation":6.508998922072351e-05},{"id":116879,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":116880,"event":"return","thread_id":9160,"parent_id":116879,"elapsed":0.001135503,"elapsed_instrumentation":5.961101851426065e-05},{"id":116881,"event":"return","thread_id":9160,"parent_id":116876,"elapsed":0.002055839984677732,"elapsed_instrumentation":0.0001301600132137537,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08d6beb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d6c068 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d6c248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d6c630 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1030540,"size":4}},{"id":116882,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030520,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09037f90>"}},{"id":116883,"event":"return","thread_id":9160,"parent_id":116882,"elapsed":2.6400084607303143e-06,"elapsed_instrumentation":7.986297714523971e-05,"return_value":{"class":"Array","value":"[]","object_id":1030560,"size":0}},{"id":116884,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030380,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09038260>"}},{"id":116885,"event":"return","thread_id":9160,"parent_id":116884,"elapsed":2.35598417930305e-06,"elapsed_instrumentation":6.722501711919904e-05,"return_value":{"class":"Array","value":"[]","object_id":1030580,"size":0}},{"id":116886,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09037900>"}},{"id":116887,"event":"return","thread_id":9160,"parent_id":116886,"elapsed":9.701799717731774e-05,"elapsed_instrumentation":0.00017328502144664526,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08d680a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d681e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1030640,"size":2}},{"id":116888,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"blocks\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"uri\") VALUES ($1, $2, $3, $4, $5) RETURNING \"id\"","database_type":"postgres"}},{"id":116889,"event":"return","thread_id":9160,"parent_id":116888,"elapsed":0.001428759,"elapsed_instrumentation":0.00011472299229353666},{"id":116890,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09037900>"}},{"id":116891,"event":"return","thread_id":9160,"parent_id":116890,"elapsed":4.140019882470369e-06,"elapsed_instrumentation":0.00015605799853801727,"return_value":{"class":"Array","value":"[]","object_id":1030660,"size":0}},{"id":116892,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":116893,"event":"return","thread_id":9160,"parent_id":116892,"elapsed":0.000460647,"elapsed_instrumentation":6.608699914067984e-05},{"id":116894,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09036e60>"}},{"id":116895,"event":"return","thread_id":9160,"parent_id":116894,"elapsed":3.154011210426688e-06,"elapsed_instrumentation":9.943798067979515e-05,"return_value":{"class":"Array","value":"[]","object_id":1030720,"size":0}},{"id":116896,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1030680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09036e60>"}},{"id":116897,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1030740,"value":"Cache delete: exclude_account_ids_for:111360434616044118\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":116898,"event":"return","thread_id":9160,"parent_id":116897,"elapsed":0.0005931509949732572,"elapsed_instrumentation":0.00011155803804285824,"return_value":{"class":"Integer","value":"57","object_id":115}},{"id":116899,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1030760,"value":"Cache delete: exclude_account_ids_for:111360434616044120\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":116900,"event":"return","thread_id":9160,"parent_id":116899,"elapsed":0.0006868730124551803,"elapsed_instrumentation":0.0001294479880016297,"return_value":{"class":"Integer","value":"57","object_id":115}},{"id":116901,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1030780,"value":"Cache delete: relationship:111360434616044118:111360434616044120\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":116902,"event":"return","thread_id":9160,"parent_id":116901,"elapsed":0.0006774989888072014,"elapsed_instrumentation":0.0001175740035250783,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":116903,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1030800,"value":"Cache delete: relationship:111360434616044120:111360434616044118\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":116904,"event":"return","thread_id":9160,"parent_id":116903,"elapsed":0.0008969520276878029,"elapsed_instrumentation":0.00011379699571989477,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":116905,"event":"return","thread_id":9160,"parent_id":116896,"elapsed":0.003787329012993723,"elapsed_instrumentation":0.00010911101708188653,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08d64250 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d64110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1030820,"size":2}},{"id":116906,"event":"return","thread_id":9160,"parent_id":116859,"elapsed":0.015390873013529927,"elapsed_instrumentation":0.0001535929914098233,"return_value":{"class":"Block","value":"#<Block:0x00007fdc072d8990>","object_id":1030400}},{"id":116907,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":1030840,"value":"{args=>[111360434616044118, 111360434616044120], class=>BlockWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":1030860,"value":"#<Sidekiq::Client:0x00007fdc094b2408>"}},{"id":116908,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":1030880,"value":">_\u001b_!}v_D__I"}},{"id":116909,"event":"return","thread_id":9160,"parent_id":116908,"elapsed":7.039983756840229e-06,"elapsed_instrumentation":0.00016195702482946217,"return_value":{"class":"String","value":"3eca1bb2217d76f044e1cb49","object_id":1030900}},{"id":116910,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":1030920,"value":"[111360434616044118, 111360434616044120]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1030940,"value":"#<JSON::Ext::Generator::State:0x00007fdc0950e0c8>"}},{"id":116911,"event":"return","thread_id":9160,"parent_id":116910,"elapsed":8.742994396016002e-06,"elapsed_instrumentation":0.00015307002468034625,"return_value":{"class":"String","value":"[111360434616044118,111360434616044120]","object_id":1030960}},{"id":116912,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1030980,"value":"#<JSON::Ext::Parser:0x00007fdc0950d0b0>"}},{"id":116913,"event":"return","thread_id":9160,"parent_id":116912,"elapsed":7.15599162504077e-06,"elapsed_instrumentation":0.00010963002569042146,"return_value":{"class":"Array","value":"[111360434616044118, 111360434616044120]","object_id":1031000,"size":2}},{"id":116914,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":1031020,"value":"{retry=>true, queue=>default, args=>[111360434616044118, 111360434616044120], class=>BlockWorker, jid=>3eca1bb2217d76f044e1cb49, created_at=>1699225381.930151}","kind":"req","size":6}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1031040,"value":"#<JSON::Ext::Generator::State:0x00007fdc0950bf80>"}},{"id":116915,"event":"return","thread_id":9160,"parent_id":116914,"elapsed":1.2822012649849057e-05,"elapsed_instrumentation":0.0003114459686912596,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111360434616044118,111360434616044120],\"class\":\"BlockWorker\" (...65 more characters)","object_id":1031060}},{"id":116916,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1031080,"value":"#<JSON::Ext::Parser:0x00007fdc09509e38>"}},{"id":116917,"event":"return","thread_id":9160,"parent_id":116916,"elapsed":1.7403013771399856e-05,"elapsed_instrumentation":0.0001691390061751008,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111360434616044118, 111360434616044120], class=>BlockWorker, jid=>3eca1bb2217d76f044e1cb49, created_at=>1699225381.930151}","object_id":1031100,"size":6}},{"id":116918,"event":"return","thread_id":9160,"parent_id":116907,"elapsed":0.0013864669890608639,"elapsed_instrumentation":0.00021096598356962204,"return_value":{"class":"String","value":"3eca1bb2217d76f044e1cb49","object_id":1030900}},{"id":116919,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116920,"event":"return","thread_id":9160,"parent_id":116919,"elapsed":1.2392993085086346e-05,"elapsed_instrumentation":8.97209974937141e-05},{"id":116921,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Serializer","method_id":"inherited","path":"app/lib/activitypub/serializer.rb","lineno":12,"static":true,"parameters":[{"name":"base","class":"Class","object_id":1031120,"value":"ActivityPub::BlockSerializer","kind":"req"}],"receiver":{"class":"Class","object_id":79800,"value":"ActivityPub::Serializer"}},{"id":116922,"event":"return","thread_id":9160,"parent_id":116921,"elapsed":0.00028380300500430167,"elapsed_instrumentation":0.000244181981543079,"return_value":{"class":"Hash","value":"{}","object_id":1031140,"size":0}},{"id":116923,"event":"call","thread_id":9160,"defined_class":"Payloadable","method_id":"serialize_payload","path":"app/services/concerns/payloadable.rb","lineno":13,"static":false,"parameters":[{"name":"record","class":"Block","object_id":1030400,"value":"#<Block:0x00007fdc072d8990>","kind":"req"},{"name":"serializer","class":"Class","object_id":1031120,"value":"ActivityPub::BlockSerializer","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"BlockService","object_id":1031180,"value":"#<BlockService:0x00007fdc093d6f70>"}},{"id":116924,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1031200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":116925,"event":"return","thread_id":9160,"parent_id":116924,"elapsed":2.487009624019265e-06,"elapsed_instrumentation":9.32469847612083e-05,"return_value":{"class":"Array","value":"[]","object_id":211300,"size":0}},{"id":116926,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1031200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":116927,"event":"return","thread_id":9160,"parent_id":116926,"elapsed":2.322020009160042e-06,"elapsed_instrumentation":7.522298255935311e-05,"return_value":{"class":"Array","value":"[]","object_id":211340,"size":0}},{"id":116928,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"serializable_hash","path":"app/lib/activitypub/adapter.rb","lineno":14,"static":false,"parameters":[{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::Adapter","object_id":1031220,"value":"#<ActivityPub::Adapter:0x00007fdc095892c8>"}},{"id":116929,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Serializer","method_id":"serializable_hash","path":"app/lib/activitypub/serializer.rb","lineno":31,"static":false,"parameters":[{"name":"adapter_options","class":"Hash","object_id":1031240,"value":"{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}}","kind":"opt","size":2},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"adapter_instance","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":1031260,"value":"#<ActivityPub::BlockSerializer:0x00007fdc09589480>"}},{"id":116930,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"id","path":"app/serializers/activitypub/block_serializer.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":1031260,"value":"#<ActivityPub::BlockSerializer:0x00007fdc09589480>"}},{"id":116931,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Block","object_id":1030400,"value":"#<Block:0x00007fdc072d8990>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":116932,"event":"call","thread_id":9160,"defined_class":"Block","method_id":"local?","path":"app/models/block.rb","lineno":24,"static":false,"parameters":[],"receiver":{"class":"Block","object_id":1030400,"value":"#<Block:0x00007fdc072d8990>"}},{"id":116933,"event":"return","thread_id":9160,"parent_id":116932,"elapsed":2.717977622523904e-06,"elapsed_instrumentation":7.679403643123806e-05},{"id":116934,"event":"return","thread_id":9160,"parent_id":116931,"elapsed":0.00013382098404690623,"elapsed_instrumentation":0.0001220900157932192,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/f4cf932b-4093-4eae-93ff-dde6e9a5fbb3","object_id":1031280}},{"id":116935,"event":"return","thread_id":9160,"parent_id":116930,"elapsed":0.00028896398725919425,"elapsed_instrumentation":0.0002534769882913679,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/f4cf932b-4093-4eae-93ff-dde6e9a5fbb3","object_id":1031280}},{"id":116936,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"type","path":"app/serializers/activitypub/block_serializer.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":1031260,"value":"#<ActivityPub::BlockSerializer:0x00007fdc09589480>"}},{"id":116937,"event":"return","thread_id":9160,"parent_id":116936,"elapsed":3.1199888326227665e-06,"elapsed_instrumentation":7.735399412922561e-05,"return_value":{"class":"String","value":"Block","object_id":1031300}},{"id":116938,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"actor","path":"app/serializers/activitypub/block_serializer.rb","lineno":15,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":1031260,"value":"#<ActivityPub::BlockSerializer:0x00007fdc09589480>"}},{"id":116939,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":1030340,"value":"#<Account:0x00007fdc072d9b10>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":116940,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030340,"value":"#<Account:0x00007fdc072d9b10>"}},{"id":116941,"event":"return","thread_id":9160,"parent_id":116940,"elapsed":1.387501833960414e-05,"elapsed_instrumentation":6.062400643713772e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":116942,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030340,"value":"#<Account:0x00007fdc072d9b10>"}},{"id":116943,"event":"return","thread_id":9160,"parent_id":116942,"elapsed":2.508983016014099e-06,"elapsed_instrumentation":5.804499960504472e-05,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":116944,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030340,"value":"#<Account:0x00007fdc072d9b10>"}},{"id":116945,"event":"return","thread_id":9160,"parent_id":116944,"elapsed":7.785012712702155e-06,"elapsed_instrumentation":4.37989947386086e-05},{"id":116946,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":116947,"event":"return","thread_id":9160,"parent_id":116946,"elapsed":4.505011020228267e-06,"elapsed_instrumentation":0.0001642339921090752,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":116948,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":116949,"event":"return","thread_id":9160,"parent_id":116948,"elapsed":2.4850014597177505e-06,"elapsed_instrumentation":8.595001418143511e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":116950,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030340,"value":"#<Account:0x00007fdc072d9b10>"}},{"id":116951,"event":"return","thread_id":9160,"parent_id":116950,"elapsed":1.0899006156250834e-05,"elapsed_instrumentation":6.468500941991806e-05,"return_value":{"class":"String","value":"simona269","object_id":1031320}},{"id":116952,"event":"return","thread_id":9160,"parent_id":116939,"elapsed":0.0007839050085749477,"elapsed_instrumentation":8.865000563673675e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/simona269","object_id":1031340}},{"id":116953,"event":"return","thread_id":9160,"parent_id":116938,"elapsed":0.0009164949879050255,"elapsed_instrumentation":7.93730141595006e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/simona269","object_id":1031340}},{"id":116954,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"virtual_object","path":"app/serializers/activitypub/block_serializer.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":1031260,"value":"#<ActivityPub::BlockSerializer:0x00007fdc09589480>"}},{"id":116955,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":116956,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1030100,"value":"#<Account:0x00007fdc072d9610>"}},{"id":116957,"event":"return","thread_id":9160,"parent_id":116956,"elapsed":6.200018106028438e-06,"elapsed_instrumentation":4.691298818215728e-05},{"id":116958,"event":"return","thread_id":9160,"parent_id":116955,"elapsed":8.139299461618066e-05,"elapsed_instrumentation":8.390602306462824e-05,"return_value":{"class":"String","value":"https://foo.bar/users/user","object_id":1031360}},{"id":116959,"event":"return","thread_id":9160,"parent_id":116954,"elapsed":0.0002007120056077838,"elapsed_instrumentation":8.842500392347574e-05,"return_value":{"class":"String","value":"https://foo.bar/users/user","object_id":1031360}},{"id":116960,"event":"return","thread_id":9160,"parent_id":116929,"elapsed":0.0020719860040117055,"elapsed_instrumentation":0.00038880499778315425,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/f4cf932b-4093-4eae-93ff-dde6e9a5fbb3, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://foo.bar/users/user}","object_id":1031380,"size":4}},{"id":116961,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"transform_key_casing!","path":"app/lib/activitypub/adapter.rb","lineno":10,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":1031380,"value":"{:id=>https://cb6e6126.ngrok.io/f4cf932b-4093-4eae-93ff-dde6e9a5fbb3, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://foo.bar/users/user}","kind":"req","size":4},{"name":"_options","class":"Hash","object_id":1031400,"value":"{}","kind":"req","size":0}],"receiver":{"class":"Class","object_id":51220,"value":"ActivityPub::Adapter"}},{"id":116962,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":1031380,"value":"{:id=>https://cb6e6126.ngrok.io/f4cf932b-4093-4eae-93ff-dde6e9a5fbb3, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://foo.bar/users/user}","kind":"req","size":4}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":116963,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":679388,"value":":id","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":116964,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1031460,"value":"id","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":116965,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":116966,"event":"return","thread_id":9160,"parent_id":116965,"elapsed":6.808986654505134e-06,"elapsed_instrumentation":0.00017340801423415542,"return_value":{"class":"Hash","value":"{}","object_id":1031480,"size":0}},{"id":116967,"event":"return","thread_id":9160,"parent_id":116964,"elapsed":0.0005424109986051917,"elapsed_instrumentation":0.0001663450093474239,"return_value":{"class":"String","value":"id","object_id":1031500}},{"id":116968,"event":"return","thread_id":9160,"parent_id":116963,"elapsed":0.0007514939934480935,"elapsed_instrumentation":0.00015819701366126537,"return_value":{"class":"Symbol","value":":id","object_id":679388}},{"id":116969,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":688668,"value":":type","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":116970,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1031520,"value":"type","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":116971,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":116972,"event":"return","thread_id":9160,"parent_id":116971,"elapsed":4.985980922356248e-06,"elapsed_instrumentation":0.0002699350006878376,"return_value":{"class":"Hash","value":"{id=>id}","object_id":1031480,"size":1}},{"id":116973,"event":"return","thread_id":9160,"parent_id":116970,"elapsed":0.00037264300044626,"elapsed_instrumentation":0.00020544097060337663,"return_value":{"class":"String","value":"type","object_id":1031540}},{"id":116974,"event":"return","thread_id":9160,"parent_id":116969,"elapsed":0.0006485910271294415,"elapsed_instrumentation":0.0002452879853080958,"return_value":{"class":"Symbol","value":":type","object_id":688668}},{"id":116975,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":17461788,"value":":actor","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":116976,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1031560,"value":"actor","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":116977,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":116978,"event":"return","thread_id":9160,"parent_id":116977,"elapsed":5.01598697155714e-06,"elapsed_instrumentation":0.00035200099227949977,"return_value":{"class":"Hash","value":"{id=>id, type=>type}","object_id":1031480,"size":2}},{"id":116979,"event":"return","thread_id":9160,"parent_id":116976,"elapsed":0.0005163149908185005,"elapsed_instrumentation":0.00017018502694554627,"return_value":{"class":"String","value":"actor","object_id":1031580}},{"id":116980,"event":"return","thread_id":9160,"parent_id":116975,"elapsed":0.0007223029970191419,"elapsed_instrumentation":0.0001718010171316564,"return_value":{"class":"Symbol","value":":actor","object_id":17461788}},{"id":116981,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":703388,"value":":object","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":116982,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1031600,"value":"object","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":116983,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":116984,"event":"return","thread_id":9160,"parent_id":116983,"elapsed":4.4349872041493654e-06,"elapsed_instrumentation":0.00014821701915934682,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor}","object_id":1031480,"size":3}},{"id":116985,"event":"return","thread_id":9160,"parent_id":116982,"elapsed":0.00024703898816369474,"elapsed_instrumentation":0.00013437803136184812,"return_value":{"class":"String","value":"object","object_id":1031620}},{"id":116986,"event":"return","thread_id":9160,"parent_id":116981,"elapsed":0.0004130610032007098,"elapsed_instrumentation":0.00017380801727995276,"return_value":{"class":"Symbol","value":":object","object_id":703388}},{"id":116987,"event":"return","thread_id":9160,"parent_id":116962,"elapsed":0.003518889017868787,"elapsed_instrumentation":0.000870944990310818,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/f4cf932b-4093-4eae-93ff-dde6e9a5fbb3, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://foo.bar/users/user}","object_id":1031380,"size":4}},{"id":116988,"event":"return","thread_id":9160,"parent_id":116961,"elapsed":0.025841519003733993,"elapsed_instrumentation":0.0002305799862369895,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/f4cf932b-4093-4eae-93ff-dde6e9a5fbb3, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://foo.bar/users/user}","object_id":1031380,"size":4}},{"id":116989,"event":"call","thread_id":9160,"defined_class":"ContextHelper","method_id":"serialized_context","path":"app/helpers/context_helper.rb","lineno":41,"static":false,"parameters":[{"name":"named_contexts_map","class":"Hash","object_id":1031640,"value":"{:activitystreams=>}","kind":"req","size":1},{"name":"context_extensions_map","class":"Hash","object_id":1031660,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActivityPub::Adapter","object_id":1031220,"value":"#<ActivityPub::Adapter:0x00007fdc095892c8>"}},{"id":116990,"event":"return","thread_id":9160,"parent_id":116989,"elapsed":1.4819990610703826e-05,"elapsed_instrumentation":0.0001729740179143846,"return_value":{"class":"String","value":"https://www.w3.org/ns/activitystreams","object_id":1031680}},{"id":116991,"event":"return","thread_id":9160,"parent_id":116928,"elapsed":0.02881062001688406,"elapsed_instrumentation":0.00031782599398866296,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/f4cf932b-4093-4eae-93ff-dde6e9a5fbb3, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://foo.bar/users/user}","object_id":1031700,"size":5}},{"id":116992,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1031200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":116993,"event":"return","thread_id":9160,"parent_id":116992,"elapsed":3.896013367921114e-06,"elapsed_instrumentation":0.00013905999367125332,"return_value":{"class":"Array","value":"[]","object_id":215680,"size":0}},{"id":116994,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1031200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":116995,"event":"return","thread_id":9160,"parent_id":116994,"elapsed":5.372014129534364e-06,"elapsed_instrumentation":0.00025951798306778073,"return_value":{"class":"Array","value":"[]","object_id":215700,"size":0}},{"id":116996,"event":"return","thread_id":9160,"parent_id":116923,"elapsed":0.030123859003651887,"elapsed_instrumentation":0.0002935870143119246,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/f4cf932b-4093-4eae-93ff-dde6e9a5fbb3, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://foo.bar/users/user}","object_id":1031700,"size":5}},{"id":116997,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":1031720,"value":"{args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/f4cf932b-4093-4e (...127 more characters), 111360434616044118, ], class=>ActivityPub::DeliveryWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":1031740,"value":"#<Sidekiq::Client:0x00007fdc096b16f0>"}},{"id":116998,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":1031760,"value":"*_?_\u0017zzT____"}},{"id":116999,"event":"return","thread_id":9160,"parent_id":116998,"elapsed":4.265981260687113e-06,"elapsed_instrumentation":9.377600508742034e-05,"return_value":{"class":"String","value":"2a8c3feb177a7a54fcf283d6","object_id":1031780}},{"id":117000,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":1031800,"value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/f4cf932b-4093-4e (...127 more characters), 111360434616044118, ]","kind":"req","size":3}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1031820,"value":"#<JSON::Ext::Generator::State:0x00007fdc0970d540>"}},{"id":117001,"event":"return","thread_id":9160,"parent_id":117000,"elapsed":8.625996997579932e-06,"elapsed_instrumentation":0.0001258040138054639,"return_value":{"class":"String","value":"[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystreams\\\",\\\"id\\\":\\\"https://cb6e6126.ngrok.io/f4cf932 (...173 more characters)","object_id":1031840}},{"id":117002,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1031860,"value":"#<JSON::Ext::Parser:0x00007fdc0970bc90>"}},{"id":117003,"event":"return","thread_id":9160,"parent_id":117002,"elapsed":1.436000457033515e-05,"elapsed_instrumentation":8.354199235327542e-05,"return_value":{"class":"Array","value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/f4cf932b-4093-4e (...127 more characters), 111360434616044118, ]","object_id":1031880,"size":3}},{"id":117004,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":1031900,"value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/f4cf932b-4093-4e (...127 more characters), 111360434616044118, ], class=>ActivityPub::DeliveryWorker, jid=>2a8c3feb177a7a54fcf283d6, created_at=>1699225381.993735}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1031920,"value":"#<JSON::Ext::Generator::State:0x00007fdc0970a9a8>"}},{"id":117005,"event":"return","thread_id":9160,"parent_id":117004,"elapsed":1.1752010323107243e-05,"elapsed_instrumentation":0.00017020298400893807,"return_value":{"class":"String","value":"{\"retry\":16,\"queue\":\"push\",\"dead\":false,\"args\":[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystrea (...323 more characters)","object_id":1031940}},{"id":117006,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1031960,"value":"#<JSON::Ext::Parser:0x00007fdc09707758>"}},{"id":117007,"event":"return","thread_id":9160,"parent_id":117006,"elapsed":1.8978986190631986e-05,"elapsed_instrumentation":0.00014588001067750156,"return_value":{"class":"Hash","value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/f4cf932b-4093-4e (...127 more characters), 111360434616044118, ], class=>ActivityPub::DeliveryWorker, jid=>2a8c3feb177a7a54fcf283d6, created_at=>1699225381.993735}","object_id":1031980,"size":7}},{"id":117008,"event":"return","thread_id":9160,"parent_id":116997,"elapsed":0.0009907639760058373,"elapsed_instrumentation":0.00015417201211676002,"return_value":{"class":"String","value":"2a8c3feb177a7a54fcf283d6","object_id":1031780}},{"id":117009,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":117010,"event":"return","thread_id":9160,"parent_id":117009,"elapsed":0.000675559,"elapsed_instrumentation":9.201199281960726e-05},{"id":117011,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"bulk_import_rows\" WHERE \"bulk_import_rows\".\"id\" = $1","database_type":"postgres"}},{"id":117012,"event":"return","thread_id":9160,"parent_id":117011,"elapsed":0.001597337,"elapsed_instrumentation":7.334901602007449e-05},{"id":117013,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":117014,"event":"return","thread_id":9160,"parent_id":117013,"elapsed":0.000465606,"elapsed_instrumentation":6.611799472011626e-05},{"id":117015,"event":"call","thread_id":9160,"defined_class":"BulkImport","method_id":"progress!","path":"app/models/bulk_import.rb","lineno":45,"static":true,"parameters":[{"name":"bulk_import_id","class":"Integer","object_id":13,"value":"6","kind":"req"},{"name":"imported","class":"TrueClass","object_id":20,"value":"true","kind":"key"}],"receiver":{"class":"Class","object_id":1008800,"value":"BulkImport"}},{"id":117016,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"bulk_imports\" SET \"processed_items\" = COALESCE(\"processed_items\", 0) + $1 WHERE \"bulk_imports\".\"id\" = $2","database_type":"postgres"}},{"id":117017,"event":"return","thread_id":9160,"parent_id":117016,"elapsed":0.000824403,"elapsed_instrumentation":6.79299992043525e-05},{"id":117018,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"bulk_imports\" SET \"imported_items\" = COALESCE(\"imported_items\", 0) + $1 WHERE \"bulk_imports\".\"id\" = $2","database_type":"postgres"}},{"id":117019,"event":"return","thread_id":9160,"parent_id":117018,"elapsed":0.000680821,"elapsed_instrumentation":7.308999192900956e-05},{"id":117020,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"bulk_imports\".* FROM \"bulk_imports\" WHERE \"bulk_imports\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":117021,"event":"return","thread_id":9160,"parent_id":117020,"elapsed":0.000561367,"elapsed_instrumentation":6.46720000077039e-05},{"id":117022,"event":"return","thread_id":9160,"parent_id":117015,"elapsed":0.004291691991966218,"elapsed_instrumentation":0.000147818005643785},{"id":117023,"event":"return","thread_id":9160,"parent_id":116748,"elapsed":0.14069246299914084,"elapsed_instrumentation":9.718001820147038e-05},{"id":117024,"event":"call","thread_id":9160,"defined_class":"Import::RowWorker","method_id":"perform","path":"app/workers/import/row_worker.rb","lineno":16,"static":false,"parameters":[{"name":"row_id","class":"Integer","object_id":37,"value":"18","kind":"req"}],"receiver":{"class":"Import::RowWorker","object_id":1032020,"value":"#<Import::RowWorker:0x00007fdc09755688>"}},{"id":117025,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"bulk_import_rows\".\"id\" AS t0_r0, \"bulk_import_rows\".\"bulk_import_id\" AS t0_r1, \"bulk_import_rows\".\"data\" AS t0_r2, \"bulk_import_rows\".\"created_at\" AS t0_r3, \"bulk_import_rows\".\"updated_at\" AS t0_r4, \"bulk_imports\".\"id\" AS t1_r0, \"bulk_imports\".\"type\" AS t1_r1, \"bulk_imports\".\"state\" AS t1_r2, \"bulk_imports\".\"total_items\" AS t1_r3, \"bulk_imports\".\"imported_items\" AS t1_r4, \"bulk_imports\".\"processed_items\" AS t1_r5, \"bulk_imports\".\"finished_at\" AS t1_r6, \"bulk_imports\".\"overwrite\" AS t1_r7, \"bulk_imports\".\"likely_mismatched\" AS t1_r8, \"bulk_imports\".\"original_filename\" AS t1_r9, \"bulk_imports\".\"account_id\" AS t1_r10, \"bulk_imports\".\"created_at\" AS t1_r11, \"bulk_imports\".\"updated_at\" AS t1_r12, \"accounts\".\"id\" AS t2_r0, \"accounts\".\"username\" AS t2_r1, \"accounts\".\"domain\" AS t2_r2, \"accounts\".\"private_key\" AS t2_r3, \"accounts\".\"public_key\" AS t2_r4, \"accounts\".\"created_at\" AS t2_r5, \"accounts\".\"updated_at\" AS t2_r6, \"accounts\".\"note\" AS t2_r7, \"accounts\".\"display_name\" AS t2_r8, \"accounts\".\"uri\" AS t2_r9, \"accounts\".\"url\" AS t2_r10, \"accounts\".\"avatar_file_name\" AS t2_r11, \"accounts\".\"avatar_content_type\" AS t2_r12, \"accounts\".\"avatar_file_size\" AS t2_r13, \"accounts\".\"avatar_updated_at\" AS t2_r14, \"accounts\".\"header_file_name\" AS t2_r15, \"accounts\".\"header_content_type\" AS t2_r16, \"accounts\".\"header_file_size\" AS t2_r17, \"accounts\".\"header_updated_at\" AS t2_r18, \"accounts\".\"avatar_remote_url\" AS t2_r19, \"accounts\".\"locked\" AS t2_r20, \"accounts\".\"header_remote_url\" AS t2_r21, \"accounts\".\"last_webfingered_at\" AS t2_r22, \"accounts\".\"inbox_url\" AS t2_r23, \"accounts\".\"outbox_url\" AS t2_r24, \"accounts\".\"shared_inbox_url\" AS t2_r25, \"accounts\".\"followers_url\" AS t2_r26, \"accounts\".\"protocol\" AS t2_r27, \"accounts\".\"memorial\" AS t2_r28, \"accounts\".\"moved_to_account_id\" AS t2_r29, \"accounts\".\"featured_collection_url\" AS t2_r30, \"accounts\".\"fields\" AS t2_r31, \"accounts\".\"actor_type\" AS t2_r32, \"accounts\".\"discoverable\" AS t2_r33, \"accounts\".\"also_known_as\" AS t2_r34, \"accounts\".\"silenced_at\" AS t2_r35, \"accounts\".\"suspended_at\" AS t2_r36, \"accounts\".\"hide_collections\" AS t2_r37, \"accounts\".\"avatar_storage_schema_version\" AS t2_r38, \"accounts\".\"header_storage_schema_version\" AS t2_r39, \"accounts\".\"devices_url\" AS t2_r40, \"accounts\".\"suspension_origin\" AS t2_r41, \"accounts\".\"sensitized_at\" AS t2_r42, \"accounts\".\"trendable\" AS t2_r43, \"accounts\".\"reviewed_at\" AS t2_r44, \"accounts\".\"requested_review_at\" AS t2_r45, \"accounts\".\"indexable\" AS t2_r46 FROM \"bulk_import_rows\" LEFT OUTER JOIN \"bulk_imports\" ON \"bulk_imports\".\"id\" = \"bulk_import_rows\".\"bulk_import_id\" LEFT OUTER JOIN \"accounts\" ON \"accounts\".\"id\" = \"bulk_imports\".\"account_id\" WHERE \"bulk_import_rows\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":117026,"event":"return","thread_id":9160,"parent_id":117025,"elapsed":0.002671208,"elapsed_instrumentation":0.00015852300566621125},{"id":117027,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1032100,"value":"#<JSON::Ext::Parser:0x00007fdc097a0548>"}},{"id":117028,"event":"return","thread_id":9160,"parent_id":117027,"elapsed":1.0918010957539082e-05,"elapsed_instrumentation":0.0002870139724109322,"return_value":{"class":"Hash","value":"{acct=>unknown@unknown.bar}","object_id":1032120,"size":1}},{"id":117029,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"domain","path":"app/services/bulk_import_row_service.rb","lineno":49,"static":false,"parameters":[{"name":"uri","class":"String","object_id":1032140,"value":"unknown@unknown.bar","kind":"req"}],"receiver":{"class":"BulkImportRowService","object_id":1032160,"value":"#<BulkImportRowService:0x00007fdc0b588268>"}},{"id":117030,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":1032180,"value":"unknown.bar","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":117031,"event":"return","thread_id":9160,"parent_id":117030,"elapsed":1.973399776034057e-05,"elapsed_instrumentation":7.089701830409467e-05},{"id":117032,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":1032180,"value":"unknown.bar","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":117033,"event":"return","thread_id":9160,"parent_id":117032,"elapsed":9.655201574787498e-05,"elapsed_instrumentation":7.543698302470148e-05,"return_value":{"class":"String","value":"unknown.bar","object_id":1032200}},{"id":117034,"event":"return","thread_id":9160,"parent_id":117029,"elapsed":0.0003011960070580244,"elapsed_instrumentation":0.00010219999239780009,"return_value":{"class":"String","value":"unknown.bar","object_id":1032200}},{"id":117035,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"stoplight_wrap_request","path":"app/services/bulk_import_row_service.rb","lineno":54,"static":false,"parameters":[{"name":"domain","class":"String","object_id":1032200,"value":"unknown.bar","kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"BulkImportRowService","object_id":1032160,"value":"#<BulkImportRowService:0x00007fdc0b588268>"}},{"id":117036,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59d48>"}},{"id":117037,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117038,"event":"return","thread_id":9160,"parent_id":117037,"elapsed":1.5981000615283847e-05,"elapsed_instrumentation":6.233202293515205e-05},{"id":117039,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":1032260,"value":"unknown.bar","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":117040,"event":"return","thread_id":9160,"parent_id":117039,"elapsed":9.0837012976408e-05,"elapsed_instrumentation":8.948898175731301e-05,"return_value":{"class":"String","value":"unknown.bar","object_id":1032280}},{"id":117041,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117042,"event":"return","thread_id":9160,"parent_id":117041,"elapsed":7.141992682591081e-06,"elapsed_instrumentation":5.5894022807478905e-05},{"id":117043,"event":"return","thread_id":9160,"parent_id":117036,"elapsed":0.0004384279891382903,"elapsed_instrumentation":0.0002479270042385906,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa3ac30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b040 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b1f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b4c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":208720,"size":4}},{"id":117044,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59898>"}},{"id":117045,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":208780,"value":"#<UniqueUsernameValidator:0x00007fdc16b80188>"}},{"id":117046,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":117047,"event":"return","thread_id":9160,"parent_id":117046,"elapsed":0.000723598,"elapsed_instrumentation":8.939998224377632e-05},{"id":117048,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'unknown' AND LOWER(\"accounts\".\"domain\") = 'unknown.bar' LIMIT $1","database_type":"postgres"}},{"id":117049,"event":"return","thread_id":9160,"parent_id":117048,"elapsed":0.00183522,"elapsed_instrumentation":7.254499359987676e-05},{"id":117050,"event":"return","thread_id":9160,"parent_id":117045,"elapsed":0.0026747490046545863,"elapsed_instrumentation":0.000271047989372164},{"id":117051,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117052,"event":"return","thread_id":9160,"parent_id":117051,"elapsed":1.0463001672178507e-05,"elapsed_instrumentation":0.00030152700492180884},{"id":117053,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117054,"event":"return","thread_id":9160,"parent_id":117053,"elapsed":5.6340068113058805e-06,"elapsed_instrumentation":8.548400364816189e-05},{"id":117055,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117056,"event":"return","thread_id":9160,"parent_id":117055,"elapsed":7.63099524192512e-06,"elapsed_instrumentation":8.647996583022177e-05},{"id":117057,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117058,"event":"return","thread_id":9160,"parent_id":117057,"elapsed":3.764987923204899e-06,"elapsed_instrumentation":5.396900814957917e-05},{"id":117059,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117060,"event":"return","thread_id":9160,"parent_id":117059,"elapsed":5.790003342553973e-06,"elapsed_instrumentation":0.00021032997756265104},{"id":117061,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117062,"event":"return","thread_id":9160,"parent_id":117061,"elapsed":4.275992978364229e-06,"elapsed_instrumentation":5.1528011681512e-05},{"id":117063,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117064,"event":"return","thread_id":9160,"parent_id":117063,"elapsed":2.002902328968048e-05,"elapsed_instrumentation":6.344198482111096e-05},{"id":117065,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117066,"event":"return","thread_id":9160,"parent_id":117065,"elapsed":5.503010470420122e-06,"elapsed_instrumentation":9.392801439389586e-05},{"id":117067,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117068,"event":"return","thread_id":9160,"parent_id":117067,"elapsed":5.319016054272652e-06,"elapsed_instrumentation":6.170297274366021e-05},{"id":117069,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117070,"event":"return","thread_id":9160,"parent_id":117069,"elapsed":3.874010872095823e-06,"elapsed_instrumentation":4.8444984713569283e-05},{"id":117071,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117072,"event":"return","thread_id":9160,"parent_id":117071,"elapsed":3.6809942685067654e-06,"elapsed_instrumentation":4.4522021198645234e-05},{"id":117073,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117074,"event":"return","thread_id":9160,"parent_id":117073,"elapsed":3.7660065572708845e-06,"elapsed_instrumentation":4.3337029637768865e-05},{"id":117075,"event":"return","thread_id":9160,"parent_id":117044,"elapsed":0.005417953012511134,"elapsed_instrumentation":0.00023264798801392317,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa57768 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57920 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57ab0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57cb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58050 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58370 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58e10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa590e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa59360 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":209280,"size":71}},{"id":117076,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59898>"}},{"id":117077,"event":"return","thread_id":9160,"parent_id":117076,"elapsed":2.909975592046976e-06,"elapsed_instrumentation":8.854802581481636e-05,"return_value":{"class":"Array","value":"[]","object_id":209300,"size":0}},{"id":117078,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59d48>"}},{"id":117079,"event":"return","thread_id":9160,"parent_id":117078,"elapsed":1.0247022146359086e-05,"elapsed_instrumentation":8.124098530970514e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa3a730 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209320,"size":1}},{"id":117080,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db532b8>"}},{"id":117081,"event":"return","thread_id":9160,"parent_id":117080,"elapsed":7.575098425149918e-05,"elapsed_instrumentation":0.0001523240061942488,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a933440 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209380,"size":1}},{"id":117082,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db533f8>"}},{"id":117083,"event":"return","thread_id":9160,"parent_id":117082,"elapsed":2.4329929146915674e-06,"elapsed_instrumentation":8.361297659575939e-05,"return_value":{"class":"Array","value":"[]","object_id":209420,"size":0}},{"id":117084,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db52f48>"}},{"id":117085,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117086,"event":"return","thread_id":9160,"parent_id":117085,"elapsed":9.124982170760632e-06,"elapsed_instrumentation":8.423102553933859e-05},{"id":117087,"event":"return","thread_id":9160,"parent_id":117084,"elapsed":0.00012555200373753905,"elapsed_instrumentation":0.0002000790263991803,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a89dcb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209480,"size":1}},{"id":117088,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":117089,"event":"return","thread_id":9160,"parent_id":117088,"elapsed":0.001626315,"elapsed_instrumentation":0.00013058999320492148},{"id":117090,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db52f48>"}},{"id":117091,"event":"return","thread_id":9160,"parent_id":117090,"elapsed":0.0004754939873237163,"elapsed_instrumentation":0.00030770598095841706,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a89daf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d940 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d788 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d418 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d1e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89cf68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89cdb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89cbd0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89c798 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":210380,"size":53}},{"id":117092,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db533f8>"}},{"id":117093,"event":"return","thread_id":9160,"parent_id":117092,"elapsed":3.980996552854776e-06,"elapsed_instrumentation":8.557000546716154e-05,"return_value":{"class":"Array","value":"[]","object_id":210400,"size":0}},{"id":117094,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db532b8>"}},{"id":117095,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":1032360,"value":"/avatars/original/missing.png"}},{"id":117096,"event":"return","thread_id":9160,"parent_id":117095,"elapsed":2.97210062853992e-05,"elapsed_instrumentation":0.00030300000798888505,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":117097,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":1032380,"value":"/headers/original/missing.png"}},{"id":117098,"event":"return","thread_id":9160,"parent_id":117097,"elapsed":1.5447993064299226e-05,"elapsed_instrumentation":0.0001358390145469457,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":117099,"event":"return","thread_id":9160,"parent_id":117094,"elapsed":0.0006932470132596791,"elapsed_instrumentation":0.00013349400251172483,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a932f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932cc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932a18 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932798 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":210580,"size":4}},{"id":117100,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":117101,"event":"return","thread_id":9160,"parent_id":117100,"elapsed":0.000420359,"elapsed_instrumentation":8.155801333487034e-05},{"id":117102,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":210620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db933e0>"}},{"id":117103,"event":"return","thread_id":9160,"parent_id":117102,"elapsed":2.854998456314206e-06,"elapsed_instrumentation":9.934001718647778e-05,"return_value":{"class":"Array","value":"[]","object_id":210640,"size":0}},{"id":117104,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":210620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db933e0>"}},{"id":117105,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117106,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":117107,"event":"return","thread_id":9160,"parent_id":117106,"elapsed":0.000799653,"elapsed_instrumentation":0.00011404600809328258},{"id":117108,"event":"call","thread_id":9160,"defined_class":"Instance","method_id":"refresh","path":"app/models/instance.rb","lineno":28,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":52400,"value":"Instance"}},{"id":117109,"event":"call","thread_id":9160,"sql_query":{"sql":"REFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";","database_type":"postgres"}},{"id":117110,"event":"return","thread_id":9160,"parent_id":117109,"elapsed":0.021208162,"elapsed_instrumentation":0.00013766600750386715},{"id":117111,"event":"return","thread_id":9160,"parent_id":117108,"elapsed":0.022014632006175816,"elapsed_instrumentation":0.000210776983294636,"return_value":{"class":"PG::Result","value":"#<PG::Result:0x00007fdc098b9e48>","object_id":1032420}},{"id":117112,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"count_unique_subdomains!","path":"app/models/concerns/domain_materializable.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117113,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117114,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1032440,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1032460,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":117115,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":117116,"event":"return","thread_id":9160,"parent_id":117115,"elapsed":3.9009901229292154e-06,"elapsed_instrumentation":0.00010779799777083099,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":117117,"event":"return","thread_id":9160,"parent_id":117114,"elapsed":0.0015905440086498857,"elapsed_instrumentation":0.0001652530045248568,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":117118,"event":"return","thread_id":9160,"parent_id":117113,"elapsed":0.0017933330091182142,"elapsed_instrumentation":0.000140791991725564,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":117119,"event":"return","thread_id":9160,"parent_id":117112,"elapsed":0.002115474984748289,"elapsed_instrumentation":0.00025674799690023065,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":117120,"event":"return","thread_id":9160,"parent_id":117105,"elapsed":0.0268219199788291,"elapsed_instrumentation":6.805299199186265e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":117121,"event":"return","thread_id":9160,"parent_id":117104,"elapsed":0.026947039004880935,"elapsed_instrumentation":0.00015430798521265388,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a5b4850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b44e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b40f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b39c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b2e88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b2618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":210660,"size":6}},{"id":117122,"event":"return","thread_id":9160,"parent_id":117035,"elapsed":0.04668116400716826,"elapsed_instrumentation":0.00015278198407031596,"return_value":{"class":"Account","value":"#<Account:0x00007fdc072d35d0>","object_id":1032240}},{"id":117123,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>","kind":"req"}],"receiver":{"class":"Account","object_id":1032480,"value":"#<Account:0x00007fdc072d3ad0>"}},{"id":117124,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":117125,"event":"return","thread_id":9160,"parent_id":117124,"elapsed":0.000979725,"elapsed_instrumentation":0.00010486299288459122},{"id":117126,"event":"return","thread_id":9160,"parent_id":117123,"elapsed":0.003169865987729281,"elapsed_instrumentation":0.00015933101531118155},{"id":117127,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":1032480,"value":"#<Account:0x00007fdc072d3ad0>","kind":"req"}],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117128,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":117129,"event":"return","thread_id":9160,"parent_id":117128,"elapsed":0.001160045,"elapsed_instrumentation":0.0002215659769717604},{"id":117130,"event":"return","thread_id":9160,"parent_id":117127,"elapsed":0.0030463160073850304,"elapsed_instrumentation":0.00028171800659038126},{"id":117131,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"requested?","path":"app/models/concerns/account_interactions.rb","lineno":238,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":1032480,"value":"#<Account:0x00007fdc072d3ad0>","kind":"req"}],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117132,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":117133,"event":"return","thread_id":9160,"parent_id":117132,"elapsed":0.000598629,"elapsed_instrumentation":0.00010058801854029298},{"id":117134,"event":"return","thread_id":9160,"parent_id":117131,"elapsed":0.002657987002748996,"elapsed_instrumentation":0.0001338549773208797},{"id":117135,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"block!","path":"app/models/concerns/account_interactions.rb","lineno":145,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>","kind":"req"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":1032480,"value":"#<Account:0x00007fdc072d3ad0>"}},{"id":117136,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222720869232088237,"value":"111360434616044118","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222720869232088243,"value":"111360434616044121","kind":"req"}],"receiver":{"class":"Class","object_id":824880,"value":"PotentialFriendshipTracker"}},{"id":117137,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":824880,"value":"PotentialFriendshipTracker"}},{"id":117138,"event":"return","thread_id":9160,"parent_id":117137,"elapsed":4.307017661631107e-06,"elapsed_instrumentation":7.639898103661835e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":117139,"event":"return","thread_id":9160,"parent_id":117136,"elapsed":0.0009736839856486768,"elapsed_instrumentation":0.0001401300251018256},{"id":117140,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"blocks\".* FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":117141,"event":"return","thread_id":9160,"parent_id":117140,"elapsed":0.000583069,"elapsed_instrumentation":0.0003117980086244643},{"id":117142,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030380,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09038260>"}},{"id":117143,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"generate_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":61,"static":false,"parameters":[{"name":"_target","class":"Block","object_id":1032520,"value":"#<Block:0x00007fdc072d2950>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":117144,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":117145,"event":"return","thread_id":9160,"parent_id":117144,"elapsed":5.512003554031253e-06,"elapsed_instrumentation":0.00021392101189121604,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":117146,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":117147,"event":"return","thread_id":9160,"parent_id":117146,"elapsed":5.052977940067649e-06,"elapsed_instrumentation":0.00012632602010853589,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":117148,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":1032540,"value":"_____S_!75?\u0014c___"}},{"id":117149,"event":"return","thread_id":9160,"parent_id":117148,"elapsed":3.996898885816336e-05,"elapsed_instrumentation":0.0003303420089650899,"return_value":{"class":"Array","value":"[3854144647, 58963, 45089, 14133, 16148, 1670957264]","object_id":1032560,"size":6}},{"id":117150,"event":"return","thread_id":9160,"parent_id":117143,"elapsed":0.0014240430027712137,"elapsed_instrumentation":0.00016019202303141356,"return_value":{"class":"URI::HTTPS","value":"https://cb6e6126.ngrok.io/e5b99487-e653-4021-b735-3f146398c8d0","object_id":1032580}},{"id":117151,"event":"return","thread_id":9160,"parent_id":117142,"elapsed":0.0016567729762755334,"elapsed_instrumentation":0.0002046970184892416,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08d6eae8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d6ec28 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1030480,"size":2}},{"id":117152,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030520,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09037f90>"}},{"id":117153,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":117154,"event":"return","thread_id":9160,"parent_id":117153,"elapsed":0.000556673,"elapsed_instrumentation":9.737999062053859e-05},{"id":117155,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":117156,"event":"return","thread_id":9160,"parent_id":117155,"elapsed":0.002849249,"elapsed_instrumentation":0.00016190402675420046},{"id":117157,"event":"return","thread_id":9160,"parent_id":117152,"elapsed":0.00553853900055401,"elapsed_instrumentation":0.0003816290118265897,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08d6beb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d6c068 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d6c248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d6c630 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1030540,"size":4}},{"id":117158,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030520,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09037f90>"}},{"id":117159,"event":"return","thread_id":9160,"parent_id":117158,"elapsed":5.984999006614089e-06,"elapsed_instrumentation":0.00032134100911207497,"return_value":{"class":"Array","value":"[]","object_id":1030560,"size":0}},{"id":117160,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030380,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09038260>"}},{"id":117161,"event":"return","thread_id":9160,"parent_id":117160,"elapsed":6.752001354470849e-06,"elapsed_instrumentation":0.0002852919860742986,"return_value":{"class":"Array","value":"[]","object_id":1030580,"size":0}},{"id":117162,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09037900>"}},{"id":117163,"event":"return","thread_id":9160,"parent_id":117162,"elapsed":0.00016070797573775053,"elapsed_instrumentation":0.00044530900777317584,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08d680a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d681e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1030640,"size":2}},{"id":117164,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"blocks\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"uri\") VALUES ($1, $2, $3, $4, $5) RETURNING \"id\"","database_type":"postgres"}},{"id":117165,"event":"return","thread_id":9160,"parent_id":117164,"elapsed":0.001380966,"elapsed_instrumentation":0.0001502920058555901},{"id":117166,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09037900>"}},{"id":117167,"event":"return","thread_id":9160,"parent_id":117166,"elapsed":6.566988304257393e-06,"elapsed_instrumentation":0.0002354320022277534,"return_value":{"class":"Array","value":"[]","object_id":1030660,"size":0}},{"id":117168,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":117169,"event":"return","thread_id":9160,"parent_id":117168,"elapsed":0.000444493,"elapsed_instrumentation":0.00023798001348040998},{"id":117170,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09036e60>"}},{"id":117171,"event":"return","thread_id":9160,"parent_id":117170,"elapsed":5.063018761575222e-06,"elapsed_instrumentation":0.00022376596461981535,"return_value":{"class":"Array","value":"[]","object_id":1030720,"size":0}},{"id":117172,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1032640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09036e60>"}},{"id":117173,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1032660,"value":"Cache delete: exclude_account_ids_for:111360434616044118\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":117174,"event":"return","thread_id":9160,"parent_id":117173,"elapsed":0.0012815689842682332,"elapsed_instrumentation":0.00025074402219615877,"return_value":{"class":"Integer","value":"57","object_id":115}},{"id":117175,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1032680,"value":"Cache delete: exclude_account_ids_for:111360434616044121\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":117176,"event":"return","thread_id":9160,"parent_id":117175,"elapsed":0.0021694269962608814,"elapsed_instrumentation":0.0003310519678052515,"return_value":{"class":"Integer","value":"57","object_id":115}},{"id":117177,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1032700,"value":"Cache delete: relationship:111360434616044118:111360434616044121\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":117178,"event":"return","thread_id":9160,"parent_id":117177,"elapsed":0.0008440959791187197,"elapsed_instrumentation":0.00022981403162702918,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":117179,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1032720,"value":"Cache delete: relationship:111360434616044121:111360434616044118\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":117180,"event":"return","thread_id":9160,"parent_id":117179,"elapsed":0.000837806990602985,"elapsed_instrumentation":0.00018893199739977717,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":117181,"event":"return","thread_id":9160,"parent_id":117172,"elapsed":0.007745123992208391,"elapsed_instrumentation":0.00023154899827204645,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08d64250 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d64110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1030820,"size":2}},{"id":117182,"event":"return","thread_id":9160,"parent_id":117135,"elapsed":0.028590770991286263,"elapsed_instrumentation":0.00016205300926230848,"return_value":{"class":"Block","value":"#<Block:0x00007fdc072d2950>","object_id":1032520}},{"id":117183,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":1032740,"value":"{args=>[111360434616044118, 111360434616044121], class=>BlockWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":1032760,"value":"#<Sidekiq::Client:0x00007fdc09a3d530>"}},{"id":117184,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":1032780,"value":"@\u0018__t_\r____a"}},{"id":117185,"event":"return","thread_id":9160,"parent_id":117184,"elapsed":1.0933988960459828e-05,"elapsed_instrumentation":0.00041142001282423735,"return_value":{"class":"String","value":"4018cbbd74e60d92e99c8961","object_id":1032800}},{"id":117186,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":1032820,"value":"[111360434616044118, 111360434616044121]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1032840,"value":"#<JSON::Ext::Generator::State:0x00007fdc09a3a6a0>"}},{"id":117187,"event":"return","thread_id":9160,"parent_id":117186,"elapsed":1.2795004295185208e-05,"elapsed_instrumentation":0.0003055750275962055,"return_value":{"class":"String","value":"[111360434616044118,111360434616044121]","object_id":1032860}},{"id":117188,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1032880,"value":"#<JSON::Ext::Parser:0x00007fdc09a38b20>"}},{"id":117189,"event":"return","thread_id":9160,"parent_id":117188,"elapsed":5.161011358723044e-06,"elapsed_instrumentation":0.00010239597759209573,"return_value":{"class":"Array","value":"[111360434616044118, 111360434616044121]","object_id":1032900,"size":2}},{"id":117190,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":1032920,"value":"{retry=>true, queue=>default, args=>[111360434616044118, 111360434616044121], class=>BlockWorker, jid=>4018cbbd74e60d92e99c8961, created_at=>1699225382.0970237}","kind":"req","size":6}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1032940,"value":"#<JSON::Ext::Generator::State:0x00007fdc09a37b58>"}},{"id":117191,"event":"return","thread_id":9160,"parent_id":117190,"elapsed":1.3623997801914811e-05,"elapsed_instrumentation":0.00019278601394034922,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111360434616044118,111360434616044121],\"class\":\"BlockWorker\" (...66 more characters)","object_id":1032960}},{"id":117192,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1032980,"value":"#<JSON::Ext::Parser:0x00007fdc09a35600>"}},{"id":117193,"event":"return","thread_id":9160,"parent_id":117192,"elapsed":1.7082988051697612e-05,"elapsed_instrumentation":0.00035599598777480423,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111360434616044118, 111360434616044121], class=>BlockWorker, jid=>4018cbbd74e60d92e99c8961, created_at=>1699225382.0970237}","object_id":1033000,"size":6}},{"id":117194,"event":"return","thread_id":9160,"parent_id":117183,"elapsed":0.001831281988415867,"elapsed_instrumentation":0.0006302229885477573,"return_value":{"class":"String","value":"4018cbbd74e60d92e99c8961","object_id":1032800}},{"id":117195,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117196,"event":"return","thread_id":9160,"parent_id":117195,"elapsed":1.5604979125782847e-05,"elapsed_instrumentation":8.305700612254441e-05},{"id":117197,"event":"call","thread_id":9160,"defined_class":"Payloadable","method_id":"serialize_payload","path":"app/services/concerns/payloadable.rb","lineno":13,"static":false,"parameters":[{"name":"record","class":"Block","object_id":1032520,"value":"#<Block:0x00007fdc072d2950>","kind":"req"},{"name":"serializer","class":"Class","object_id":1031120,"value":"ActivityPub::BlockSerializer","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"BlockService","object_id":1033020,"value":"#<BlockService:0x00007fdc098ed360>"}},{"id":117198,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1033040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":117199,"event":"return","thread_id":9160,"parent_id":117198,"elapsed":5.292007699608803e-06,"elapsed_instrumentation":0.0003403320151846856,"return_value":{"class":"Array","value":"[]","object_id":211300,"size":0}},{"id":117200,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1033040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":117201,"event":"return","thread_id":9160,"parent_id":117200,"elapsed":1.2055010301992297e-05,"elapsed_instrumentation":0.00010793699766509235,"return_value":{"class":"Array","value":"[]","object_id":211340,"size":0}},{"id":117202,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"serializable_hash","path":"app/lib/activitypub/adapter.rb","lineno":14,"static":false,"parameters":[{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::Adapter","object_id":1033060,"value":"#<ActivityPub::Adapter:0x00007fdc09a8f448>"}},{"id":117203,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Serializer","method_id":"serializable_hash","path":"app/lib/activitypub/serializer.rb","lineno":31,"static":false,"parameters":[{"name":"adapter_options","class":"Hash","object_id":1033080,"value":"{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}}","kind":"opt","size":2},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"adapter_instance","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":1033100,"value":"#<ActivityPub::BlockSerializer:0x00007fdc0db9af00>"}},{"id":117204,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"id","path":"app/serializers/activitypub/block_serializer.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":1033100,"value":"#<ActivityPub::BlockSerializer:0x00007fdc0db9af00>"}},{"id":117205,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Block","object_id":1032520,"value":"#<Block:0x00007fdc072d2950>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":117206,"event":"call","thread_id":9160,"defined_class":"Block","method_id":"local?","path":"app/models/block.rb","lineno":24,"static":false,"parameters":[],"receiver":{"class":"Block","object_id":1032520,"value":"#<Block:0x00007fdc072d2950>"}},{"id":117207,"event":"return","thread_id":9160,"parent_id":117206,"elapsed":2.8279901016503572e-06,"elapsed_instrumentation":6.722801481373608e-05},{"id":117208,"event":"return","thread_id":9160,"parent_id":117205,"elapsed":0.00012768799206241965,"elapsed_instrumentation":0.00025059000472538173,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/e5b99487-e653-4021-b735-3f146398c8d0","object_id":1033120}},{"id":117209,"event":"return","thread_id":9160,"parent_id":117204,"elapsed":0.00041404800140298903,"elapsed_instrumentation":0.00040247998549602926,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/e5b99487-e653-4021-b735-3f146398c8d0","object_id":1033120}},{"id":117210,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"type","path":"app/serializers/activitypub/block_serializer.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":1033100,"value":"#<ActivityPub::BlockSerializer:0x00007fdc0db9af00>"}},{"id":117211,"event":"return","thread_id":9160,"parent_id":117210,"elapsed":4.7879875637590885e-06,"elapsed_instrumentation":0.00011589602218009531,"return_value":{"class":"String","value":"Block","object_id":1031300}},{"id":117212,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"actor","path":"app/serializers/activitypub/block_serializer.rb","lineno":15,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":1033100,"value":"#<ActivityPub::BlockSerializer:0x00007fdc0db9af00>"}},{"id":117213,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":1032480,"value":"#<Account:0x00007fdc072d3ad0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":117214,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032480,"value":"#<Account:0x00007fdc072d3ad0>"}},{"id":117215,"event":"return","thread_id":9160,"parent_id":117214,"elapsed":1.696698018349707e-05,"elapsed_instrumentation":9.977200534194708e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":117216,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032480,"value":"#<Account:0x00007fdc072d3ad0>"}},{"id":117217,"event":"return","thread_id":9160,"parent_id":117216,"elapsed":2.508983016014099e-06,"elapsed_instrumentation":6.639299681410193e-05,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":117218,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032480,"value":"#<Account:0x00007fdc072d3ad0>"}},{"id":117219,"event":"return","thread_id":9160,"parent_id":117218,"elapsed":1.0935007594525814e-05,"elapsed_instrumentation":5.3176016081124544e-05},{"id":117220,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":117221,"event":"return","thread_id":9160,"parent_id":117220,"elapsed":6.834015948697925e-06,"elapsed_instrumentation":0.00015780000831000507,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":117222,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":117223,"event":"return","thread_id":9160,"parent_id":117222,"elapsed":2.3909960873425007e-06,"elapsed_instrumentation":8.934701327234507e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":117224,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032480,"value":"#<Account:0x00007fdc072d3ad0>"}},{"id":117225,"event":"return","thread_id":9160,"parent_id":117224,"elapsed":2.307200338691473e-05,"elapsed_instrumentation":0.0001984899863600731,"return_value":{"class":"String","value":"simona269","object_id":1033140}},{"id":117226,"event":"return","thread_id":9160,"parent_id":117213,"elapsed":0.0011609650100581348,"elapsed_instrumentation":0.00022150599397718906,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/simona269","object_id":1033160}},{"id":117227,"event":"return","thread_id":9160,"parent_id":117212,"elapsed":0.001522484002634883,"elapsed_instrumentation":0.00011957998503930867,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/simona269","object_id":1033160}},{"id":117228,"event":"call","thread_id":9160,"defined_class":"ActivityPub::BlockSerializer","method_id":"virtual_object","path":"app/serializers/activitypub/block_serializer.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::BlockSerializer","object_id":1033100,"value":"#<ActivityPub::BlockSerializer:0x00007fdc0db9af00>"}},{"id":117229,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":117230,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1032240,"value":"#<Account:0x00007fdc072d35d0>"}},{"id":117231,"event":"return","thread_id":9160,"parent_id":117230,"elapsed":1.1500989785417914e-05,"elapsed_instrumentation":0.00031417899299412966},{"id":117232,"event":"return","thread_id":9160,"parent_id":117229,"elapsed":0.0003835979732684791,"elapsed_instrumentation":0.00019860002794303,"return_value":{"class":"String","value":"https://unknown.bar/users/unknown","object_id":1033180}},{"id":117233,"event":"return","thread_id":9160,"parent_id":117228,"elapsed":0.0006438470154535025,"elapsed_instrumentation":0.0001080149959307164,"return_value":{"class":"String","value":"https://unknown.bar/users/unknown","object_id":1033180}},{"id":117234,"event":"return","thread_id":9160,"parent_id":117203,"elapsed":0.0036172459949739277,"elapsed_instrumentation":0.0002417390060145408,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/e5b99487-e653-4021-b735-3f146398c8d0, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://unknown.bar/users/unknown}","object_id":1033200,"size":4}},{"id":117235,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"transform_key_casing!","path":"app/lib/activitypub/adapter.rb","lineno":10,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":1033200,"value":"{:id=>https://cb6e6126.ngrok.io/e5b99487-e653-4021-b735-3f146398c8d0, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://unknown.bar/users/unknown}","kind":"req","size":4},{"name":"_options","class":"Hash","object_id":1033220,"value":"{}","kind":"req","size":0}],"receiver":{"class":"Class","object_id":51220,"value":"ActivityPub::Adapter"}},{"id":117236,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":1033200,"value":"{:id=>https://cb6e6126.ngrok.io/e5b99487-e653-4021-b735-3f146398c8d0, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://unknown.bar/users/unknown}","kind":"req","size":4}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":117237,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":679388,"value":":id","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":117238,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1033240,"value":"id","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":117239,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":117240,"event":"return","thread_id":9160,"parent_id":117239,"elapsed":2.7059868443757296e-06,"elapsed_instrumentation":0.00012250003055669367,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object}","object_id":1031480,"size":4}},{"id":117241,"event":"return","thread_id":9160,"parent_id":117238,"elapsed":0.00014576801913790405,"elapsed_instrumentation":0.0001930610160343349,"return_value":{"class":"String","value":"id","object_id":1031500}},{"id":117242,"event":"return","thread_id":9160,"parent_id":117237,"elapsed":0.00035852400469593704,"elapsed_instrumentation":0.00010200997348874807,"return_value":{"class":"Symbol","value":":id","object_id":679388}},{"id":117243,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":688668,"value":":type","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":117244,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1033260,"value":"type","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":117245,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":117246,"event":"return","thread_id":9160,"parent_id":117245,"elapsed":3.2390234991908073e-06,"elapsed_instrumentation":0.00014235801063477993,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object}","object_id":1031480,"size":4}},{"id":117247,"event":"return","thread_id":9160,"parent_id":117244,"elapsed":0.00023052701726555824,"elapsed_instrumentation":0.00018951401580125093,"return_value":{"class":"String","value":"type","object_id":1031540}},{"id":117248,"event":"return","thread_id":9160,"parent_id":117243,"elapsed":0.0004445610102266073,"elapsed_instrumentation":0.00010133901378139853,"return_value":{"class":"Symbol","value":":type","object_id":688668}},{"id":117249,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":17461788,"value":":actor","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":117250,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1033280,"value":"actor","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":117251,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":117252,"event":"return","thread_id":9160,"parent_id":117251,"elapsed":3.0240043997764587e-06,"elapsed_instrumentation":0.00011907500447705388,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object}","object_id":1031480,"size":4}},{"id":117253,"event":"return","thread_id":9160,"parent_id":117250,"elapsed":0.00013999201473779976,"elapsed_instrumentation":9.104999480769038e-05,"return_value":{"class":"String","value":"actor","object_id":1031580}},{"id":117254,"event":"return","thread_id":9160,"parent_id":117249,"elapsed":0.00025270800688304007,"elapsed_instrumentation":0.0002491939812898636,"return_value":{"class":"Symbol","value":":actor","object_id":17461788}},{"id":117255,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":703388,"value":":object","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":117256,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":1033300,"value":"object","kind":"req"}],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":117257,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1031440,"value":"ActivityPub::CaseTransform"}},{"id":117258,"event":"return","thread_id":9160,"parent_id":117257,"elapsed":2.3600005079060793e-06,"elapsed_instrumentation":9.326598956249654e-05,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object}","object_id":1031480,"size":4}},{"id":117259,"event":"return","thread_id":9160,"parent_id":117256,"elapsed":0.00011081199045293033,"elapsed_instrumentation":5.945400334894657e-05,"return_value":{"class":"String","value":"object","object_id":1031620}},{"id":117260,"event":"return","thread_id":9160,"parent_id":117255,"elapsed":0.00018532498506829143,"elapsed_instrumentation":6.294998456723988e-05,"return_value":{"class":"Symbol","value":":object","object_id":703388}},{"id":117261,"event":"return","thread_id":9160,"parent_id":117236,"elapsed":0.0018585789948701859,"elapsed_instrumentation":0.00021281398949213326,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/e5b99487-e653-4021-b735-3f146398c8d0, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://unknown.bar/users/unknown}","object_id":1033200,"size":4}},{"id":117262,"event":"return","thread_id":9160,"parent_id":117235,"elapsed":0.0020976540108677,"elapsed_instrumentation":0.00023051199968904257,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/e5b99487-e653-4021-b735-3f146398c8d0, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://unknown.bar/users/unknown}","object_id":1033200,"size":4}},{"id":117263,"event":"call","thread_id":9160,"defined_class":"ContextHelper","method_id":"serialized_context","path":"app/helpers/context_helper.rb","lineno":41,"static":false,"parameters":[{"name":"named_contexts_map","class":"Hash","object_id":1033320,"value":"{:activitystreams=>}","kind":"req","size":1},{"name":"context_extensions_map","class":"Hash","object_id":1033340,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActivityPub::Adapter","object_id":1033060,"value":"#<ActivityPub::Adapter:0x00007fdc09a8f448>"}},{"id":117264,"event":"return","thread_id":9160,"parent_id":117263,"elapsed":1.5564990462735295e-05,"elapsed_instrumentation":0.00033008502214215696,"return_value":{"class":"String","value":"https://www.w3.org/ns/activitystreams","object_id":1031680}},{"id":117265,"event":"return","thread_id":9160,"parent_id":117202,"elapsed":0.006616227008635178,"elapsed_instrumentation":0.00014011500752530992,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/e5b99487-e653-4021-b735-3f146398c8d0, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://unknown.bar/users/unknown}","object_id":1033360,"size":5}},{"id":117266,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1033040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":117267,"event":"return","thread_id":9160,"parent_id":117266,"elapsed":3.1740055419504642e-06,"elapsed_instrumentation":8.898999658413231e-05,"return_value":{"class":"Array","value":"[]","object_id":215680,"size":0}},{"id":117268,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1033040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":117269,"event":"return","thread_id":9160,"parent_id":117268,"elapsed":2.2139865905046463e-06,"elapsed_instrumentation":0.00011531400377862155,"return_value":{"class":"Array","value":"[]","object_id":215700,"size":0}},{"id":117270,"event":"return","thread_id":9160,"parent_id":117197,"elapsed":0.007786225993186235,"elapsed_instrumentation":0.0003575930022634566,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/e5b99487-e653-4021-b735-3f146398c8d0, :type=>Block, :actor=>https://cb6e6126.ngrok.io/users/simona269, :object=>https://unknown.bar/users/unknown}","object_id":1033360,"size":5}},{"id":117271,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":1033380,"value":"{args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/e5b99487-e653-40 (...134 more characters), 111360434616044118, ], class=>ActivityPub::DeliveryWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":1033400,"value":"#<Sidekiq::Client:0x00007fdc09b983a8>"}},{"id":117272,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":1033420,"value":" o_sGx____S_"}},{"id":117273,"event":"return","thread_id":9160,"parent_id":117272,"elapsed":6.245012627914548e-06,"elapsed_instrumentation":0.0001946680131368339,"return_value":{"class":"String","value":"206faf7347788aadbbad539b","object_id":1033440}},{"id":117274,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":1033460,"value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/e5b99487-e653-40 (...134 more characters), 111360434616044118, ]","kind":"req","size":3}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1033480,"value":"#<JSON::Ext::Generator::State:0x00007fdc09b94b18>"}},{"id":117275,"event":"return","thread_id":9160,"parent_id":117274,"elapsed":9.426992619410157e-06,"elapsed_instrumentation":0.0001945860276464373,"return_value":{"class":"String","value":"[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystreams\\\",\\\"id\\\":\\\"https://cb6e6126.ngrok.io/e5b9948 (...180 more characters)","object_id":1033500}},{"id":117276,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1033520,"value":"#<JSON::Ext::Parser:0x00007fdc09b930d8>"}},{"id":117277,"event":"return","thread_id":9160,"parent_id":117276,"elapsed":7.78300454840064e-06,"elapsed_instrumentation":8.961700950749218e-05,"return_value":{"class":"Array","value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/e5b99487-e653-40 (...134 more characters), 111360434616044118, ]","object_id":1033540,"size":3}},{"id":117278,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":1033560,"value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/e5b99487-e653-40 (...134 more characters), 111360434616044118, ], class=>ActivityPub::DeliveryWorker, jid=>206faf7347788aadbbad539b, created_at=>1699225382.1076705}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1033580,"value":"#<JSON::Ext::Generator::State:0x00007fdc09b918a0>"}},{"id":117279,"event":"return","thread_id":9160,"parent_id":117278,"elapsed":1.6398989828303456e-05,"elapsed_instrumentation":0.0006842130096629262,"return_value":{"class":"String","value":"{\"retry\":16,\"queue\":\"push\",\"dead\":false,\"args\":[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystrea (...331 more characters)","object_id":1033600}},{"id":117280,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":1033620,"value":"#<JSON::Ext::Parser:0x00007fdc09bde740>"}},{"id":117281,"event":"return","thread_id":9160,"parent_id":117280,"elapsed":2.4486012989655137e-05,"elapsed_instrumentation":0.00030690900166518986,"return_value":{"class":"Hash","value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/e5b99487-e653-40 (...134 more characters), 111360434616044118, ], class=>ActivityPub::DeliveryWorker, jid=>206faf7347788aadbbad539b, created_at=>1699225382.1076705}","object_id":1033640,"size":7}},{"id":117282,"event":"return","thread_id":9160,"parent_id":117271,"elapsed":0.0020566009916365147,"elapsed_instrumentation":0.0005971990176476538,"return_value":{"class":"String","value":"206faf7347788aadbbad539b","object_id":1033440}},{"id":117283,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":117284,"event":"return","thread_id":9160,"parent_id":117283,"elapsed":0.000419418,"elapsed_instrumentation":9.30829846765846e-05},{"id":117285,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"bulk_import_rows\" WHERE \"bulk_import_rows\".\"id\" = $1","database_type":"postgres"}},{"id":117286,"event":"return","thread_id":9160,"parent_id":117285,"elapsed":0.001802267,"elapsed_instrumentation":7.51409970689565e-05},{"id":117287,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":117288,"event":"return","thread_id":9160,"parent_id":117287,"elapsed":0.00041736,"elapsed_instrumentation":6.898900028318167e-05},{"id":117289,"event":"call","thread_id":9160,"defined_class":"BulkImport","method_id":"progress!","path":"app/models/bulk_import.rb","lineno":45,"static":true,"parameters":[{"name":"bulk_import_id","class":"Integer","object_id":13,"value":"6","kind":"req"},{"name":"imported","class":"TrueClass","object_id":20,"value":"true","kind":"key"}],"receiver":{"class":"Class","object_id":1008800,"value":"BulkImport"}},{"id":117290,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"bulk_imports\" SET \"processed_items\" = COALESCE(\"processed_items\", 0) + $1 WHERE \"bulk_imports\".\"id\" = $2","database_type":"postgres"}},{"id":117291,"event":"return","thread_id":9160,"parent_id":117290,"elapsed":0.001033951,"elapsed_instrumentation":9.723397670313716e-05},{"id":117292,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"bulk_imports\" SET \"imported_items\" = COALESCE(\"imported_items\", 0) + $1 WHERE \"bulk_imports\".\"id\" = $2","database_type":"postgres"}},{"id":117293,"event":"return","thread_id":9160,"parent_id":117292,"elapsed":0.000952408,"elapsed_instrumentation":9.511900134384632e-05},{"id":117294,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"bulk_imports\".* FROM \"bulk_imports\" WHERE \"bulk_imports\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":117295,"event":"return","thread_id":9160,"parent_id":117294,"elapsed":0.000420833,"elapsed_instrumentation":7.677098619751632e-05},{"id":117296,"event":"return","thread_id":9160,"parent_id":117289,"elapsed":0.005776753008831292,"elapsed_instrumentation":0.00016825998318381608},{"id":117297,"event":"return","thread_id":9160,"parent_id":117024,"elapsed":0.1165818170120474,"elapsed_instrumentation":0.00012042699381709099},{"id":117298,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" INNER JOIN \"blocks\" ON \"accounts\".\"id\" = \"blocks\".\"target_account_id\" WHERE \"blocks\".\"account_id\" = $1 ORDER BY blocks.id desc","database_type":"postgres"}},{"id":117299,"event":"return","thread_id":9160,"parent_id":117298,"elapsed":0.002747757,"elapsed_instrumentation":0.00020684502669610083},{"id":117300,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"acct","path":"app/models/account.rb","lineno":191,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1033680,"value":"#<Account:0x00007fdc072edfc0>"}},{"id":117301,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1033680,"value":"#<Account:0x00007fdc072edfc0>"}},{"id":117302,"event":"return","thread_id":9160,"parent_id":117301,"elapsed":2.2822991013526917e-05,"elapsed_instrumentation":6.12960138823837e-05},{"id":117303,"event":"return","thread_id":9160,"parent_id":117300,"elapsed":0.00011242899927310646,"elapsed_instrumentation":0.0001483060186728835,"return_value":{"class":"String","value":"unknown@unknown.bar","object_id":1033700}},{"id":117304,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"acct","path":"app/models/account.rb","lineno":191,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1033720,"value":"#<Account:0x00007fdc072ede80>"}},{"id":117305,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1033720,"value":"#<Account:0x00007fdc072ede80>"}},{"id":117306,"event":"return","thread_id":9160,"parent_id":117305,"elapsed":1.6104982933029532e-05,"elapsed_instrumentation":9.236703044734895e-05},{"id":117307,"event":"return","thread_id":9160,"parent_id":117304,"elapsed":0.00014469699817709625,"elapsed_instrumentation":0.00033833898487500846,"return_value":{"class":"String","value":"user@foo.bar","object_id":1033740}},{"id":117308,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"acct","path":"app/models/account.rb","lineno":191,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1033760,"value":"#<Account:0x00007fdc072edd40>"}},{"id":117309,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1033760,"value":"#<Account:0x00007fdc072edd40>"}},{"id":117310,"event":"return","thread_id":9160,"parent_id":117309,"elapsed":8.397008059546351e-06,"elapsed_instrumentation":7.875199662521482e-05},{"id":117311,"event":"return","thread_id":9160,"parent_id":117308,"elapsed":0.0001104460097849369,"elapsed_instrumentation":6.911501986905932e-05,"return_value":{"class":"String","value":"already_blocked@remote.org","object_id":1033780}}]}