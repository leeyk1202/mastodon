{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --followers option displays a successful message","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]},{"name":"RequestPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/request_pool.rb:114","static":false}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:13","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:51","static":false}]}]}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":2892706,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":14277260,"value":"ludie6702","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14277280,"value":"#<Mastodon::CLI::Accounts:0x00007fc931e88cb0>"}},{"id":2892707,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":14277300,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc932cd3158>"}},{"id":2892708,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'ludie6702' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2892709,"event":"return","thread_id":9160,"parent_id":2892708,"elapsed":0.000805256,"elapsed_instrumentation":9.43210325203836e-05},{"id":2892710,"event":"return","thread_id":9160,"parent_id":2892707,"elapsed":0.0035810389672406018,"elapsed_instrumentation":0.00011530006304383278,"return_value":{"class":"Account","value":"#<Account:0x00007fc919acd700>","object_id":14277320}},{"id":2892711,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1)","database_type":"postgres"}},{"id":2892712,"event":"return","thread_id":9160,"parent_id":2892711,"elapsed":0.000869256,"elapsed_instrumentation":8.17480031400919e-05},{"id":2892713,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14277280,"value":"#<Mastodon::CLI::Accounts:0x00007fc931e88cb0>"}},{"id":2892714,"event":"return","thread_id":9160,"parent_id":2892713,"elapsed":0.00010931200813502073,"elapsed_instrumentation":0.00036496197571977973,"return_value":{"class":"ProgressBar::Base","value":"","object_id":14277340}},{"id":2892715,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2892716,"event":"return","thread_id":9160,"parent_id":2892715,"elapsed":0.001844083,"elapsed_instrumentation":8.306896779686213e-05},{"id":2892717,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14277360,"value":"relationship:111361439619801090:111361439619801100","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14277380,"value":"#<UnfollowService:0x00007fc931e86640>"}},{"id":2892718,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14277380,"value":"#<UnfollowService:0x00007fc931e86640>"}},{"id":2892719,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14277400,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14277420,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2892720,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2892721,"event":"return","thread_id":9160,"parent_id":2892720,"elapsed":2.7440255507826805e-06,"elapsed_instrumentation":6.433593807742e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2892722,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14277440,"value":"\u0004__?__b__H_\b_K)"}},{"id":2892723,"event":"return","thread_id":9160,"parent_id":2892722,"elapsed":6.354006472975016e-06,"elapsed_instrumentation":0.00012741400860249996,"return_value":{"class":"Array","value":"[75802175, 48331, 32610, 60895, 18593, 146623273]","object_id":14277460,"size":6}},{"id":2892724,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2892725,"event":"return","thread_id":9160,"parent_id":2892724,"elapsed":0.000382768,"elapsed_instrumentation":7.77440145611763e-05},{"id":2892726,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14277480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2892727,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2892728,"event":"return","thread_id":9160,"parent_id":2892727,"elapsed":0.000395588,"elapsed_instrumentation":7.20599782653153e-05},{"id":2892729,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2892730,"event":"return","thread_id":9160,"parent_id":2892729,"elapsed":0.000507317,"elapsed_instrumentation":8.56249826028943e-05},{"id":2892731,"event":"return","thread_id":9160,"parent_id":2892726,"elapsed":0.00225994799984619,"elapsed_instrumentation":0.00026332197012379766,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2892732,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2892733,"event":"return","thread_id":9160,"parent_id":2892732,"elapsed":0.000603028,"elapsed_instrumentation":6.628100527450442e-05},{"id":2892734,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14277480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2892735,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2892736,"event":"return","thread_id":9160,"parent_id":2892735,"elapsed":0.000490704,"elapsed_instrumentation":7.275503594428301e-05},{"id":2892737,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2892738,"event":"return","thread_id":9160,"parent_id":2892737,"elapsed":0.00050479,"elapsed_instrumentation":6.43579987809062e-05},{"id":2892739,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14277500,"value":"#<Account:0x00007fc919ac7a80>"}},{"id":2892740,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14277500,"value":"#<Account:0x00007fc919ac7a80>"}},{"id":2892741,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439619801090, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2892742,"event":"return","thread_id":9160,"parent_id":2892741,"elapsed":0.000749283,"elapsed_instrumentation":6.783701246604323e-05},{"id":2892743,"event":"return","thread_id":9160,"parent_id":2892740,"elapsed":0.0012095340061932802,"elapsed_instrumentation":8.286500815302134e-05},{"id":2892744,"event":"return","thread_id":9160,"parent_id":2892739,"elapsed":0.001318172027822584,"elapsed_instrumentation":0.00011144805466756225},{"id":2892745,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2892746,"event":"return","thread_id":9160,"parent_id":2892745,"elapsed":0.00046617,"elapsed_instrumentation":9.047397179529071e-05},{"id":2892747,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14277520,"value":"#<Account:0x00007fc919ac5780>"}},{"id":2892748,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14277520,"value":"#<Account:0x00007fc919ac5780>"}},{"id":2892749,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439619801100, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2892750,"event":"return","thread_id":9160,"parent_id":2892749,"elapsed":0.000625873,"elapsed_instrumentation":0.0001396570005454123},{"id":2892751,"event":"return","thread_id":9160,"parent_id":2892748,"elapsed":0.0011919239768758416,"elapsed_instrumentation":7.883005309849977e-05},{"id":2892752,"event":"return","thread_id":9160,"parent_id":2892747,"elapsed":0.001291430031415075,"elapsed_instrumentation":0.00010493496665731072},{"id":2892753,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277500,"value":"#<Account:0x00007fc919ac7a80>"}},{"id":2892754,"event":"return","thread_id":9160,"parent_id":2892753,"elapsed":1.412699930369854e-05,"elapsed_instrumentation":8.606299525126815e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892755,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277520,"value":"#<Account:0x00007fc919ac5780>"}},{"id":2892756,"event":"return","thread_id":9160,"parent_id":2892755,"elapsed":6.360001862049103e-06,"elapsed_instrumentation":6.368901813402772e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892757,"event":"return","thread_id":9160,"parent_id":2892734,"elapsed":0.008599442022386938,"elapsed_instrumentation":0.00014341901987791061,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2892758,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2892759,"event":"return","thread_id":9160,"parent_id":2892758,"elapsed":0.00034564,"elapsed_instrumentation":6.800901610404253e-05},{"id":2892760,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14277560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2892761,"event":"return","thread_id":9160,"parent_id":2892760,"elapsed":3.5790144465863705e-06,"elapsed_instrumentation":0.00010311102960258722,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2892762,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14277560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2892763,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14277580,"value":"Cache delete: relationship:111361439619801090:111361439619801100\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2892764,"event":"return","thread_id":9160,"parent_id":2892763,"elapsed":0.0006786229787394404,"elapsed_instrumentation":0.00012735399650409818,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2892765,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14277600,"value":"Cache delete: relationship:111361439619801100:111361439619801090\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2892766,"event":"return","thread_id":9160,"parent_id":2892765,"elapsed":0.0005314789596013725,"elapsed_instrumentation":0.00017335399752482772,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2892767,"event":"return","thread_id":9160,"parent_id":2892762,"elapsed":0.0018343970295973122,"elapsed_instrumentation":0.00010960298823192716,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2892768,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2892769,"event":"return","thread_id":9160,"parent_id":2892768,"elapsed":1.7477956134825945e-05,"elapsed_instrumentation":9.342003613710403e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892770,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2892771,"event":"return","thread_id":9160,"parent_id":2892770,"elapsed":4.352012183517218e-06,"elapsed_instrumentation":5.988695193082094e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892772,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277620,"value":"#<Account:0x00007fc919acca80>"}},{"id":2892773,"event":"return","thread_id":9160,"parent_id":2892772,"elapsed":7.767986971884966e-06,"elapsed_instrumentation":5.927198799327016e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892774,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14277640,"value":"{args=>[111361439619801100, 111361439619801090], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14277660,"value":"#<Sidekiq::Client:0x00007fc933093090>"}},{"id":2892775,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14277680,"value":"_/QJ__KZrV_t"}},{"id":2892776,"event":"return","thread_id":9160,"parent_id":2892775,"elapsed":5.641020834445953e-06,"elapsed_instrumentation":0.00026095600333064795,"return_value":{"class":"String","value":"b22f514a8f834b5a7256da74","object_id":14277700}},{"id":2892777,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14277720,"value":"[111361439619801100, 111361439619801090]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14277740,"value":"#<JSON::Ext::Generator::State:0x00007fc93319b2d0>"}},{"id":2892778,"event":"return","thread_id":9160,"parent_id":2892777,"elapsed":9.857001714408398e-06,"elapsed_instrumentation":0.00011139595881104469,"return_value":{"class":"String","value":"[111361439619801100,111361439619801090]","object_id":14277760}},{"id":2892779,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14277780,"value":"#<JSON::Ext::Parser:0x00007fc9331988f0>"}},{"id":2892780,"event":"return","thread_id":9160,"parent_id":2892779,"elapsed":5.3130206651985645e-06,"elapsed_instrumentation":7.105799159035087e-05,"return_value":{"class":"Array","value":"[111361439619801100, 111361439619801090]","object_id":14277800,"size":2}},{"id":2892781,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14277820,"value":"s_P_Gnd2\u0001+_ "}},{"id":2892782,"event":"return","thread_id":9160,"parent_id":2892781,"elapsed":3.5460107028484344e-06,"elapsed_instrumentation":9.392999345436692e-05,"return_value":{"class":"String","value":"738f509d476e6432012bbd20","object_id":14277840}},{"id":2892783,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14277860,"value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801090], class=>UnmergeWorker, jid=>b22f514a8f834b5a7256da74, created_at=>1699240717.674797, id=>738f509d476e6432012bbd20}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14277880,"value":"#<JSON::Ext::Generator::State:0x00007fc933194228>"}},{"id":2892784,"event":"return","thread_id":9160,"parent_id":2892783,"elapsed":1.1257012374699116e-05,"elapsed_instrumentation":0.00017411395674571395,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439619801100,111361439619801090],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14277900}},{"id":2892785,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14277920,"value":"#<JSON::Ext::Parser:0x00007fc93320a270>"}},{"id":2892786,"event":"return","thread_id":9160,"parent_id":2892785,"elapsed":1.8203980289399624e-05,"elapsed_instrumentation":0.00019637099467217922,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801090], class=>UnmergeWorker, jid=>b22f514a8f834b5a7256da74, created_at=>1699240717.674797, id=>738f509d476e6432012bbd20}","object_id":14277940,"size":7}},{"id":2892787,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879239602201,"value":"111361439619801100","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879239602181,"value":"111361439619801090","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14277960,"value":"#<UnmergeWorker:0x00007fc933206cb0>"}},{"id":2892788,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14277960,"value":"#<UnmergeWorker:0x00007fc933206cb0>"}},{"id":2892789,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2892790,"event":"return","thread_id":9160,"parent_id":2892789,"elapsed":0.000564495,"elapsed_instrumentation":8.786603575572371e-05},{"id":2892791,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2892792,"event":"return","thread_id":9160,"parent_id":2892791,"elapsed":0.000519356,"elapsed_instrumentation":8.234998676925898e-05},{"id":2892793,"event":"return","thread_id":9160,"parent_id":2892788,"elapsed":0.0033073200029321015,"elapsed_instrumentation":0.00010262499563395977,"return_value":{"class":"Account","value":"#<Account:0x00007fc919ac2580>","object_id":14277980}},{"id":2892794,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14277960,"value":"#<UnmergeWorker:0x00007fc933206cb0>"}},{"id":2892795,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14278000,"value":"#<Account:0x00007fc919ac26c0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14277980,"value":"#<Account:0x00007fc919ac2580>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2892796,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879239602181,"value":"111361439619801090","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2892797,"event":"return","thread_id":9160,"parent_id":2892796,"elapsed":5.8299629017710686e-06,"elapsed_instrumentation":0.00020555302035063505,"return_value":{"class":"String","value":"feed:home:111361439619801090","object_id":14278020}},{"id":2892798,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2892799,"event":"return","thread_id":9160,"parent_id":2892798,"elapsed":4.865054506808519e-06,"elapsed_instrumentation":7.453496800735593e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2892800,"event":"return","thread_id":9160,"parent_id":2892795,"elapsed":0.0029985689907334745,"elapsed_instrumentation":0.0001287860213778913},{"id":2892801,"event":"return","thread_id":9160,"parent_id":2892794,"elapsed":0.0031600709771737456,"elapsed_instrumentation":0.00010705506429076195},{"id":2892802,"event":"return","thread_id":9160,"parent_id":2892787,"elapsed":0.006721801997628063,"elapsed_instrumentation":0.00011984503362327814},{"id":2892803,"event":"return","thread_id":9160,"parent_id":2892774,"elapsed":0.008170957036782056,"elapsed_instrumentation":0.0001539359800517559,"return_value":{"class":"String","value":"b22f514a8f834b5a7256da74","object_id":14277700}},{"id":2892804,"event":"return","thread_id":9160,"parent_id":2892719,"elapsed":0.02650124003412202,"elapsed_instrumentation":0.00013579195365309715,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919aca3c0>","object_id":14277540}},{"id":2892805,"event":"return","thread_id":9160,"parent_id":2892718,"elapsed":0.02665891603101045,"elapsed_instrumentation":7.162295514717698e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919aca3c0>","object_id":14277540}},{"id":2892806,"event":"return","thread_id":9160,"parent_id":2892717,"elapsed":0.02676223695743829,"elapsed_instrumentation":0.0001552140456624329,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919aca3c0>","object_id":14277540}},{"id":2892807,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14278040,"value":"relationship:111361439619801091:111361439619801100","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14278060,"value":"#<UnfollowService:0x00007fc931eddee0>"}},{"id":2892808,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14278060,"value":"#<UnfollowService:0x00007fc931eddee0>"}},{"id":2892809,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14278080,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14278100,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2892810,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2892811,"event":"return","thread_id":9160,"parent_id":2892810,"elapsed":2.468004822731018e-06,"elapsed_instrumentation":6.177998147904873e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2892812,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14278120,"value":"_\u0003___*W__p\u0016_^_\u000e\u000f"}},{"id":2892813,"event":"return","thread_id":9160,"parent_id":2892812,"elapsed":5.698995664715767e-06,"elapsed_instrumentation":0.0001339920563623309,"return_value":{"class":"Array","value":"[2248402868, 41514, 22437, 44144, 5790, 1591676431]","object_id":14278140,"size":6}},{"id":2892814,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2892815,"event":"return","thread_id":9160,"parent_id":2892814,"elapsed":0.000454072,"elapsed_instrumentation":7.297098636627197e-05},{"id":2892816,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14278160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2892817,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2892818,"event":"return","thread_id":9160,"parent_id":2892817,"elapsed":0.000307877,"elapsed_instrumentation":6.931496318429708e-05},{"id":2892819,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2892820,"event":"return","thread_id":9160,"parent_id":2892819,"elapsed":0.000313618,"elapsed_instrumentation":6.294203922152519e-05},{"id":2892821,"event":"return","thread_id":9160,"parent_id":2892816,"elapsed":0.0019570899894461036,"elapsed_instrumentation":0.00013762497110292315,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2892822,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2892823,"event":"return","thread_id":9160,"parent_id":2892822,"elapsed":0.000554236,"elapsed_instrumentation":0.0001411839621141553},{"id":2892824,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14278160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2892825,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2892826,"event":"return","thread_id":9160,"parent_id":2892825,"elapsed":0.000523018,"elapsed_instrumentation":6.427202606573701e-05},{"id":2892827,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2892828,"event":"return","thread_id":9160,"parent_id":2892827,"elapsed":0.000438512,"elapsed_instrumentation":6.911304080858827e-05},{"id":2892829,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14278180,"value":"#<Account:0x00007fc919ac0780>"}},{"id":2892830,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14278180,"value":"#<Account:0x00007fc919ac0780>"}},{"id":2892831,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439619801091, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2892832,"event":"return","thread_id":9160,"parent_id":2892831,"elapsed":0.000756759,"elapsed_instrumentation":7.015897426754236e-05},{"id":2892833,"event":"return","thread_id":9160,"parent_id":2892830,"elapsed":0.001223976956680417,"elapsed_instrumentation":8.172303205356002e-05},{"id":2892834,"event":"return","thread_id":9160,"parent_id":2892829,"elapsed":0.001330316998064518,"elapsed_instrumentation":9.951996617019176e-05},{"id":2892835,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2892836,"event":"return","thread_id":9160,"parent_id":2892835,"elapsed":0.000509083,"elapsed_instrumentation":7.5369025580585e-05},{"id":2892837,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14278200,"value":"#<Account:0x00007fc91a39ed98>"}},{"id":2892838,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14278200,"value":"#<Account:0x00007fc91a39ed98>"}},{"id":2892839,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439619801100, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2892840,"event":"return","thread_id":9160,"parent_id":2892839,"elapsed":0.000656236,"elapsed_instrumentation":6.74600014463067e-05},{"id":2892841,"event":"return","thread_id":9160,"parent_id":2892838,"elapsed":0.0010973919997923076,"elapsed_instrumentation":0.00016372202662751079},{"id":2892842,"event":"return","thread_id":9160,"parent_id":2892837,"elapsed":0.00128498999401927,"elapsed_instrumentation":9.616697207093239e-05},{"id":2892843,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14278180,"value":"#<Account:0x00007fc919ac0780>"}},{"id":2892844,"event":"return","thread_id":9160,"parent_id":2892843,"elapsed":1.3614015188068151e-05,"elapsed_instrumentation":8.587894262745976e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892845,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14278200,"value":"#<Account:0x00007fc91a39ed98>"}},{"id":2892846,"event":"return","thread_id":9160,"parent_id":2892845,"elapsed":6.8479566834867e-06,"elapsed_instrumentation":6.219797069206834e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892847,"event":"return","thread_id":9160,"parent_id":2892824,"elapsed":0.008283970004413277,"elapsed_instrumentation":0.0001341959577985108,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2892848,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2892849,"event":"return","thread_id":9160,"parent_id":2892848,"elapsed":0.000350382,"elapsed_instrumentation":7.286597974598408e-05},{"id":2892850,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14278240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2892851,"event":"return","thread_id":9160,"parent_id":2892850,"elapsed":3.4850090742111206e-06,"elapsed_instrumentation":0.00010713096708059311,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2892852,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14278240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2892853,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14278260,"value":"Cache delete: relationship:111361439619801091:111361439619801100\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2892854,"event":"return","thread_id":9160,"parent_id":2892853,"elapsed":0.0006464619655162096,"elapsed_instrumentation":0.00011949398322030902,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2892855,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14278280,"value":"Cache delete: relationship:111361439619801100:111361439619801091\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2892856,"event":"return","thread_id":9160,"parent_id":2892855,"elapsed":0.0005382669623941183,"elapsed_instrumentation":0.00012626498937606812,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2892857,"event":"return","thread_id":9160,"parent_id":2892852,"elapsed":0.0017108680331148207,"elapsed_instrumentation":0.0001064739772118628,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2892858,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2892859,"event":"return","thread_id":9160,"parent_id":2892858,"elapsed":7.539987564086914e-06,"elapsed_instrumentation":8.390098810195923e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892860,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2892861,"event":"return","thread_id":9160,"parent_id":2892860,"elapsed":3.6239507608115673e-06,"elapsed_instrumentation":5.8401026763021946e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892862,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14278300,"value":"#<Account:0x00007fc919acc940>"}},{"id":2892863,"event":"return","thread_id":9160,"parent_id":2892862,"elapsed":1.0496994946151972e-05,"elapsed_instrumentation":5.569803761318326e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892864,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14278320,"value":"{args=>[111361439619801100, 111361439619801091], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14278340,"value":"#<Sidekiq::Client:0x00007fc93349e130>"}},{"id":2892865,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14278360,"value":"l_\\__v_l____"}},{"id":2892866,"event":"return","thread_id":9160,"parent_id":2892865,"elapsed":4.7559733502566814e-06,"elapsed_instrumentation":9.612902067601681e-05,"return_value":{"class":"String","value":"6cab5cffe676a66cd8e799e5","object_id":14278380}},{"id":2892867,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14278400,"value":"[111361439619801100, 111361439619801091]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14278420,"value":"#<JSON::Ext::Generator::State:0x00007fc9334dfe78>"}},{"id":2892868,"event":"return","thread_id":9160,"parent_id":2892867,"elapsed":6.371003109961748e-06,"elapsed_instrumentation":0.00020124204456806183,"return_value":{"class":"String","value":"[111361439619801100,111361439619801091]","object_id":14278440}},{"id":2892869,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14278460,"value":"#<JSON::Ext::Parser:0x00007fc9334d0a40>"}},{"id":2892870,"event":"return","thread_id":9160,"parent_id":2892869,"elapsed":5.203008186072111e-06,"elapsed_instrumentation":7.61690316721797e-05,"return_value":{"class":"Array","value":"[111361439619801100, 111361439619801091]","object_id":14278480,"size":2}},{"id":2892871,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14278500,"value":"l_\u0013,\u000b_D_w___"}},{"id":2892872,"event":"return","thread_id":9160,"parent_id":2892871,"elapsed":3.037974238395691e-06,"elapsed_instrumentation":8.878298103809357e-05,"return_value":{"class":"String","value":"6c9d132c0bf4449a77e6b9e7","object_id":14278520}},{"id":2892873,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14278540,"value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801091], class=>UnmergeWorker, jid=>6cab5cffe676a66cd8e799e5, created_at=>1699240717.7005453, id=>6c9d132c0bf4449a77e6b9e7}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14278560,"value":"#<JSON::Ext::Generator::State:0x00007fc93352a1d0>"}},{"id":2892874,"event":"return","thread_id":9160,"parent_id":2892873,"elapsed":1.0952993761748075e-05,"elapsed_instrumentation":0.0001677779946476221,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439619801100,111361439619801091],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14278580}},{"id":2892875,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14278600,"value":"#<JSON::Ext::Parser:0x00007fc933524988>"}},{"id":2892876,"event":"return","thread_id":9160,"parent_id":2892875,"elapsed":1.6977021005004644e-05,"elapsed_instrumentation":0.00014514802023768425,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801091], class=>UnmergeWorker, jid=>6cab5cffe676a66cd8e799e5, created_at=>1699240717.7005453, id=>6c9d132c0bf4449a77e6b9e7}","object_id":14278620,"size":7}},{"id":2892877,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879239602201,"value":"111361439619801100","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879239602183,"value":"111361439619801091","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14278640,"value":"#<UnmergeWorker:0x00007fc93356f8e8>"}},{"id":2892878,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14278640,"value":"#<UnmergeWorker:0x00007fc93356f8e8>"}},{"id":2892879,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2892880,"event":"return","thread_id":9160,"parent_id":2892879,"elapsed":0.000456886,"elapsed_instrumentation":6.693898467347026e-05},{"id":2892881,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2892882,"event":"return","thread_id":9160,"parent_id":2892881,"elapsed":0.000501602,"elapsed_instrumentation":6.644200766459107e-05},{"id":2892883,"event":"return","thread_id":9160,"parent_id":2892878,"elapsed":0.0027359239757061005,"elapsed_instrumentation":0.00016055599553510547,"return_value":{"class":"Account","value":"#<Account:0x00007fc91a39d5d8>","object_id":14278660}},{"id":2892884,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14278640,"value":"#<UnmergeWorker:0x00007fc93356f8e8>"}},{"id":2892885,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14278680,"value":"#<Account:0x00007fc91a39d718>","kind":"req"},{"name":"into_account","class":"Account","object_id":14278660,"value":"#<Account:0x00007fc91a39d5d8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2892886,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879239602183,"value":"111361439619801091","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2892887,"event":"return","thread_id":9160,"parent_id":2892886,"elapsed":5.776993930339813e-06,"elapsed_instrumentation":0.00018973398255184293,"return_value":{"class":"String","value":"feed:home:111361439619801091","object_id":14278700}},{"id":2892888,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2892889,"event":"return","thread_id":9160,"parent_id":2892888,"elapsed":4.992005415260792e-06,"elapsed_instrumentation":8.799100760370493e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2892890,"event":"return","thread_id":9160,"parent_id":2892885,"elapsed":0.002923697989899665,"elapsed_instrumentation":0.00010230502812191844},{"id":2892891,"event":"return","thread_id":9160,"parent_id":2892884,"elapsed":0.003055988985579461,"elapsed_instrumentation":7.474201265722513e-05},{"id":2892892,"event":"return","thread_id":9160,"parent_id":2892877,"elapsed":0.006070472009014338,"elapsed_instrumentation":7.236597593873739e-05},{"id":2892893,"event":"return","thread_id":9160,"parent_id":2892864,"elapsed":0.007253100979141891,"elapsed_instrumentation":0.00017586100148037076,"return_value":{"class":"String","value":"6cab5cffe676a66cd8e799e5","object_id":14278380}},{"id":2892894,"event":"return","thread_id":9160,"parent_id":2892809,"elapsed":0.024653062981087714,"elapsed_instrumentation":0.0001354200066998601,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919ac1040>","object_id":14278220}},{"id":2892895,"event":"return","thread_id":9160,"parent_id":2892808,"elapsed":0.024810833972878754,"elapsed_instrumentation":7.236108649522066e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919ac1040>","object_id":14278220}},{"id":2892896,"event":"return","thread_id":9160,"parent_id":2892807,"elapsed":0.024913641973398626,"elapsed_instrumentation":0.00011622300371527672,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919ac1040>","object_id":14278220}},{"id":2892897,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14278720,"value":"relationship:111361439619801092:111361439619801100","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14278740,"value":"#<UnfollowService:0x00007fc931ff7128>"}},{"id":2892898,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14278740,"value":"#<UnfollowService:0x00007fc931ff7128>"}},{"id":2892899,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14278760,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14278780,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2892900,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2892901,"event":"return","thread_id":9160,"parent_id":2892900,"elapsed":2.6240013539791107e-06,"elapsed_instrumentation":6.258499342948198e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2892902,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14278800,"value":"_G_=R_._\u0003\u000e___C+_"}},{"id":2892903,"event":"return","thread_id":9160,"parent_id":2892902,"elapsed":5.932990461587906e-06,"elapsed_instrumentation":0.00013007194502279162,"return_value":{"class":"Array","value":"[3611800893, 21204, 11938, 782, 37854, 3745721225]","object_id":14278820,"size":6}},{"id":2892904,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2892905,"event":"return","thread_id":9160,"parent_id":2892904,"elapsed":0.000423304,"elapsed_instrumentation":7.417402230203152e-05},{"id":2892906,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14278840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2892907,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2892908,"event":"return","thread_id":9160,"parent_id":2892907,"elapsed":0.000324488,"elapsed_instrumentation":6.744201527908444e-05},{"id":2892909,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2892910,"event":"return","thread_id":9160,"parent_id":2892909,"elapsed":0.000314018,"elapsed_instrumentation":0.00014179199934005737},{"id":2892911,"event":"return","thread_id":9160,"parent_id":2892906,"elapsed":0.0020185260218568146,"elapsed_instrumentation":0.00014579197159036994,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2892912,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2892913,"event":"return","thread_id":9160,"parent_id":2892912,"elapsed":0.000622039,"elapsed_instrumentation":6.061699241399765e-05},{"id":2892914,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14278840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2892915,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2892916,"event":"return","thread_id":9160,"parent_id":2892915,"elapsed":0.000564457,"elapsed_instrumentation":6.023101741448045e-05},{"id":2892917,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2892918,"event":"return","thread_id":9160,"parent_id":2892917,"elapsed":0.000489538,"elapsed_instrumentation":6.531603867188096e-05},{"id":2892919,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14278860,"value":"#<Account:0x00007fc91a39ac98>"}},{"id":2892920,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14278860,"value":"#<Account:0x00007fc91a39ac98>"}},{"id":2892921,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439619801092, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2892922,"event":"return","thread_id":9160,"parent_id":2892921,"elapsed":0.000717847,"elapsed_instrumentation":7.575302151963115e-05},{"id":2892923,"event":"return","thread_id":9160,"parent_id":2892920,"elapsed":0.0013447150122374296,"elapsed_instrumentation":8.60230065882206e-05},{"id":2892924,"event":"return","thread_id":9160,"parent_id":2892919,"elapsed":0.0014548340113833547,"elapsed_instrumentation":0.00011485896538943052},{"id":2892925,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2892926,"event":"return","thread_id":9160,"parent_id":2892925,"elapsed":0.00051169,"elapsed_instrumentation":6.912398384884e-05},{"id":2892927,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14278880,"value":"#<Account:0x00007fc91a399398>"}},{"id":2892928,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14278880,"value":"#<Account:0x00007fc91a399398>"}},{"id":2892929,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439619801100, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2892930,"event":"return","thread_id":9160,"parent_id":2892929,"elapsed":0.000712952,"elapsed_instrumentation":7.542700041085482e-05},{"id":2892931,"event":"return","thread_id":9160,"parent_id":2892928,"elapsed":0.0011595819960348308,"elapsed_instrumentation":7.898901822045445e-05},{"id":2892932,"event":"return","thread_id":9160,"parent_id":2892927,"elapsed":0.0012603370123542845,"elapsed_instrumentation":0.00010202900739386678},{"id":2892933,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14278860,"value":"#<Account:0x00007fc91a39ac98>"}},{"id":2892934,"event":"return","thread_id":9160,"parent_id":2892933,"elapsed":1.5186029486358166e-05,"elapsed_instrumentation":9.244796819984913e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892935,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14278880,"value":"#<Account:0x00007fc91a399398>"}},{"id":2892936,"event":"return","thread_id":9160,"parent_id":2892935,"elapsed":6.968039087951183e-06,"elapsed_instrumentation":0.00014271697727963328,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892937,"event":"return","thread_id":9160,"parent_id":2892914,"elapsed":0.008589236997067928,"elapsed_instrumentation":0.00014254398411139846,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2892938,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2892939,"event":"return","thread_id":9160,"parent_id":2892938,"elapsed":0.000328034,"elapsed_instrumentation":6.094505079090595e-05},{"id":2892940,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14278920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2892941,"event":"return","thread_id":9160,"parent_id":2892940,"elapsed":3.6980491131544113e-06,"elapsed_instrumentation":0.00010071694850921631,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2892942,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14278920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2892943,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14278940,"value":"Cache delete: relationship:111361439619801092:111361439619801100\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2892944,"event":"return","thread_id":9160,"parent_id":2892943,"elapsed":0.0005686389631591737,"elapsed_instrumentation":0.00014867802383378148,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2892945,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14278960,"value":"Cache delete: relationship:111361439619801100:111361439619801092\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2892946,"event":"return","thread_id":9160,"parent_id":2892945,"elapsed":0.00042837701039388776,"elapsed_instrumentation":0.00013209995813667774,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2892947,"event":"return","thread_id":9160,"parent_id":2892942,"elapsed":0.0017164110322482884,"elapsed_instrumentation":0.00010037398897111416,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2892948,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2892949,"event":"return","thread_id":9160,"parent_id":2892948,"elapsed":8.510949555784464e-06,"elapsed_instrumentation":8.018402149900794e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892950,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2892951,"event":"return","thread_id":9160,"parent_id":2892950,"elapsed":5.5559794418513775e-06,"elapsed_instrumentation":0.00016942399088293314,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892952,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14278980,"value":"#<Account:0x00007fc919acc800>"}},{"id":2892953,"event":"return","thread_id":9160,"parent_id":2892952,"elapsed":9.26898792386055e-06,"elapsed_instrumentation":6.959197344258428e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2892954,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14279000,"value":"{args=>[111361439619801100, 111361439619801092], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14279020,"value":"#<Sidekiq::Client:0x00007fc9338a5058>"}},{"id":2892955,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14279040,"value":"___A\u001b____N8_"}},{"id":2892956,"event":"return","thread_id":9160,"parent_id":2892955,"elapsed":4.088971763849258e-06,"elapsed_instrumentation":9.619805496186018e-05,"return_value":{"class":"String","value":"8e97fc411bd6cfa0b34e388e","object_id":14279060}},{"id":2892957,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14279080,"value":"[111361439619801100, 111361439619801092]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14279100,"value":"#<JSON::Ext::Generator::State:0x00007fc9338fc920>"}},{"id":2892958,"event":"return","thread_id":9160,"parent_id":2892957,"elapsed":5.383044481277466e-06,"elapsed_instrumentation":9.796302765607834e-05,"return_value":{"class":"String","value":"[111361439619801100,111361439619801092]","object_id":14279120}},{"id":2892959,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14279140,"value":"#<JSON::Ext::Parser:0x00007fc9338faee0>"}},{"id":2892960,"event":"return","thread_id":9160,"parent_id":2892959,"elapsed":5.495967343449593e-06,"elapsed_instrumentation":7.1368005592376e-05,"return_value":{"class":"Array","value":"[111361439619801100, 111361439619801092]","object_id":14279160,"size":2}},{"id":2892961,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14279180,"value":"Y_u__}!_s_\u0007_"}},{"id":2892962,"event":"return","thread_id":9160,"parent_id":2892961,"elapsed":3.3460091799497604e-06,"elapsed_instrumentation":8.661195170134306e-05,"return_value":{"class":"String","value":"59c675e6927d21d573b10793","object_id":14279200}},{"id":2892963,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14279220,"value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801092], class=>UnmergeWorker, jid=>8e97fc411bd6cfa0b34e388e, created_at=>1699240717.7261665, id=>59c675e6927d21d573b10793}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14279240,"value":"#<JSON::Ext::Generator::State:0x00007fc9338f6bb0>"}},{"id":2892964,"event":"return","thread_id":9160,"parent_id":2892963,"elapsed":9.48219676502049e-05,"elapsed_instrumentation":0.0001814219867810607,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439619801100,111361439619801092],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14279260}},{"id":2892965,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14279280,"value":"#<JSON::Ext::Parser:0x00007fc9338f2330>"}},{"id":2892966,"event":"return","thread_id":9160,"parent_id":2892965,"elapsed":1.8610036931931973e-05,"elapsed_instrumentation":0.00015821796841919422,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801092], class=>UnmergeWorker, jid=>8e97fc411bd6cfa0b34e388e, created_at=>1699240717.7261665, id=>59c675e6927d21d573b10793}","object_id":14279300,"size":7}},{"id":2892967,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879239602201,"value":"111361439619801100","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879239602185,"value":"111361439619801092","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14279320,"value":"#<UnmergeWorker:0x00007fc93393c890>"}},{"id":2892968,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14279320,"value":"#<UnmergeWorker:0x00007fc93393c890>"}},{"id":2892969,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2892970,"event":"return","thread_id":9160,"parent_id":2892969,"elapsed":0.000539488,"elapsed_instrumentation":8.00779671408236e-05},{"id":2892971,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2892972,"event":"return","thread_id":9160,"parent_id":2892971,"elapsed":0.000550083,"elapsed_instrumentation":6.735802162438631e-05},{"id":2892973,"event":"return","thread_id":9160,"parent_id":2892968,"elapsed":0.0032493440085090697,"elapsed_instrumentation":0.00010705995373427868,"return_value":{"class":"Account","value":"#<Account:0x00007fc91a397818>","object_id":14279340}},{"id":2892974,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14279320,"value":"#<UnmergeWorker:0x00007fc93393c890>"}},{"id":2892975,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14279360,"value":"#<Account:0x00007fc91a397958>","kind":"req"},{"name":"into_account","class":"Account","object_id":14279340,"value":"#<Account:0x00007fc91a397818>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2892976,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879239602185,"value":"111361439619801092","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2892977,"event":"return","thread_id":9160,"parent_id":2892976,"elapsed":5.8559817261993885e-06,"elapsed_instrumentation":0.00014102703426033258,"return_value":{"class":"String","value":"feed:home:111361439619801092","object_id":14279380}},{"id":2892978,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2892979,"event":"return","thread_id":9160,"parent_id":2892978,"elapsed":4.442001227289438e-06,"elapsed_instrumentation":7.810204988345504e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2892980,"event":"return","thread_id":9160,"parent_id":2892975,"elapsed":0.0031405300251208246,"elapsed_instrumentation":0.00020231300732120872},{"id":2892981,"event":"return","thread_id":9160,"parent_id":2892974,"elapsed":0.003378159017302096,"elapsed_instrumentation":8.879898814484477e-05},{"id":2892982,"event":"return","thread_id":9160,"parent_id":2892967,"elapsed":0.006868713011499494,"elapsed_instrumentation":7.375399582087994e-05},{"id":2892983,"event":"return","thread_id":9160,"parent_id":2892954,"elapsed":0.008053810975980014,"elapsed_instrumentation":0.0001512260059826076,"return_value":{"class":"String","value":"8e97fc411bd6cfa0b34e388e","object_id":14279060}},{"id":2892984,"event":"return","thread_id":9160,"parent_id":2892899,"elapsed":0.025880148983560503,"elapsed_instrumentation":0.0001429530093446374,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91a39c958>","object_id":14278900}},{"id":2892985,"event":"return","thread_id":9160,"parent_id":2892898,"elapsed":0.026045745995361358,"elapsed_instrumentation":7.454503793269396e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91a39c958>","object_id":14278900}},{"id":2892986,"event":"return","thread_id":9160,"parent_id":2892897,"elapsed":0.026151609024964273,"elapsed_instrumentation":0.00011890300083905458,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91a39c958>","object_id":14278900}},{"id":2892987,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14279400,"value":"relationship:111361439619801093:111361439619801100","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14279420,"value":"#<UnfollowService:0x00007fc93204e9c8>"}},{"id":2892988,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14279420,"value":"#<UnfollowService:0x00007fc93204e9c8>"}},{"id":2892989,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14279440,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14279460,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2892990,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2892991,"event":"return","thread_id":9160,"parent_id":2892990,"elapsed":2.9259826987981796e-06,"elapsed_instrumentation":6.261095404624939e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2892992,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14279480,"value":"[_!\u001f4HlT_\u001b\u0018____Y"}},{"id":2892993,"event":"return","thread_id":9160,"parent_id":2892992,"elapsed":5.965004675090313e-06,"elapsed_instrumentation":0.00011412298772484064,"return_value":{"class":"Array","value":"[1540366623, 13384, 27732, 52507, 6349, 3421041753]","object_id":14279500,"size":6}},{"id":2892994,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2892995,"event":"return","thread_id":9160,"parent_id":2892994,"elapsed":0.000352899,"elapsed_instrumentation":7.264898158609867e-05},{"id":2892996,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14279520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2892997,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14279540,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14279560,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2892998,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14279580,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14279600,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2892999,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2893000,"event":"return","thread_id":13276700,"parent_id":2892999,"elapsed":5.574023816734552e-06,"elapsed_instrumentation":6.30510039627552e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2893001,"event":"return","thread_id":13276700,"parent_id":2892998,"elapsed":8.68040369823575e-05,"elapsed_instrumentation":9.269698057323694e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2893002,"event":"return","thread_id":13276700,"parent_id":2892997,"elapsed":0.00019821798196062446,"elapsed_instrumentation":0.00014348502736538649,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2893003,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893004,"event":"return","thread_id":9160,"parent_id":2893003,"elapsed":0.000607638,"elapsed_instrumentation":6.266101263463497e-05},{"id":2893005,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893006,"event":"return","thread_id":9160,"parent_id":2893005,"elapsed":0.000307526,"elapsed_instrumentation":6.565800867974758e-05},{"id":2893007,"event":"return","thread_id":9160,"parent_id":2892996,"elapsed":0.0023651159717701375,"elapsed_instrumentation":0.00014656904386356473,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2893008,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2893009,"event":"return","thread_id":9160,"parent_id":2893008,"elapsed":0.000536681,"elapsed_instrumentation":7.015001028776169e-05},{"id":2893010,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14279520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893011,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2893012,"event":"return","thread_id":9160,"parent_id":2893011,"elapsed":0.00052842,"elapsed_instrumentation":6.89009902998805e-05},{"id":2893013,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893014,"event":"return","thread_id":9160,"parent_id":2893013,"elapsed":0.000529268,"elapsed_instrumentation":7.311895024031401e-05},{"id":2893015,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14279620,"value":"#<Account:0x00007fc91a396058>"}},{"id":2893016,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14279620,"value":"#<Account:0x00007fc91a396058>"}},{"id":2893017,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439619801093, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893018,"event":"return","thread_id":9160,"parent_id":2893017,"elapsed":0.000793881,"elapsed_instrumentation":7.80340051278472e-05},{"id":2893019,"event":"return","thread_id":9160,"parent_id":2893016,"elapsed":0.0013643790152855217,"elapsed_instrumentation":8.494098437950015e-05},{"id":2893020,"event":"return","thread_id":9160,"parent_id":2893015,"elapsed":0.0014736030134372413,"elapsed_instrumentation":0.00010729499626904726},{"id":2893021,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893022,"event":"return","thread_id":9160,"parent_id":2893021,"elapsed":0.000551965,"elapsed_instrumentation":7.212499622255564e-05},{"id":2893023,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14279640,"value":"#<Account:0x00007fc91a394b18>"}},{"id":2893024,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14279640,"value":"#<Account:0x00007fc91a394b18>"}},{"id":2893025,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439619801100, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893026,"event":"return","thread_id":9160,"parent_id":2893025,"elapsed":0.000746587,"elapsed_instrumentation":6.547803059220314e-05},{"id":2893027,"event":"return","thread_id":9160,"parent_id":2893024,"elapsed":0.0011928650201298296,"elapsed_instrumentation":8.266395889222622e-05},{"id":2893028,"event":"return","thread_id":9160,"parent_id":2893023,"elapsed":0.0012979190214537084,"elapsed_instrumentation":0.00010904402006417513},{"id":2893029,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14279620,"value":"#<Account:0x00007fc91a396058>"}},{"id":2893030,"event":"return","thread_id":9160,"parent_id":2893029,"elapsed":1.4215998817235231e-05,"elapsed_instrumentation":0.00016364495968446136,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893031,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14279640,"value":"#<Account:0x00007fc91a394b18>"}},{"id":2893032,"event":"return","thread_id":9160,"parent_id":2893031,"elapsed":8.38900450617075e-06,"elapsed_instrumentation":8.272402919828892e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893033,"event":"return","thread_id":9160,"parent_id":2893010,"elapsed":0.009129427024163306,"elapsed_instrumentation":0.00014533696230500937,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2893034,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893035,"event":"return","thread_id":9160,"parent_id":2893034,"elapsed":0.000435798,"elapsed_instrumentation":6.841099821031094e-05},{"id":2893036,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14279680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893037,"event":"return","thread_id":9160,"parent_id":2893036,"elapsed":4.277972038835287e-06,"elapsed_instrumentation":0.00015916605480015278,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2893038,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14279680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893039,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14279700,"value":"Cache delete: relationship:111361439619801093:111361439619801100\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893040,"event":"return","thread_id":9160,"parent_id":2893039,"elapsed":0.0004396130098029971,"elapsed_instrumentation":0.00011237303260713816,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893041,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14279720,"value":"Cache delete: relationship:111361439619801100:111361439619801093\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893042,"event":"return","thread_id":9160,"parent_id":2893041,"elapsed":0.00044450501445680857,"elapsed_instrumentation":0.00013669003965333104,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893043,"event":"return","thread_id":9160,"parent_id":2893038,"elapsed":0.001542561047244817,"elapsed_instrumentation":0.00011418497888371348,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2893044,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893045,"event":"return","thread_id":9160,"parent_id":2893044,"elapsed":9.768991731107235e-06,"elapsed_instrumentation":0.00025928602553904057,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893046,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893047,"event":"return","thread_id":9160,"parent_id":2893046,"elapsed":3.804976586252451e-06,"elapsed_instrumentation":6.621802458539605e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893048,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14279740,"value":"#<Account:0x00007fc919acc6c0>"}},{"id":2893049,"event":"return","thread_id":9160,"parent_id":2893048,"elapsed":1.1147989425808191e-05,"elapsed_instrumentation":5.887501174584031e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893050,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14279760,"value":"{args=>[111361439619801100, 111361439619801093], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14279780,"value":"#<Sidekiq::Client:0x00007fc933d60f48>"}},{"id":2893051,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14279800,"value":"\u0004'z_zK_H_=__"}},{"id":2893052,"event":"return","thread_id":9160,"parent_id":2893051,"elapsed":4.448986146599054e-06,"elapsed_instrumentation":0.00010071101132780313,"return_value":{"class":"String","value":"04277afa7a4bc848883ddba6","object_id":14279820}},{"id":2893053,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14279840,"value":"[111361439619801100, 111361439619801093]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14279860,"value":"#<JSON::Ext::Generator::State:0x00007fc933dfd6b8>"}},{"id":2893054,"event":"return","thread_id":9160,"parent_id":2893053,"elapsed":5.9229787439107895e-06,"elapsed_instrumentation":9.938201401382685e-05,"return_value":{"class":"String","value":"[111361439619801100,111361439619801093]","object_id":14279880}},{"id":2893055,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14279900,"value":"#<JSON::Ext::Parser:0x00007fc933dfc3f8>"}},{"id":2893056,"event":"return","thread_id":9160,"parent_id":2893055,"elapsed":6.127986125648022e-06,"elapsed_instrumentation":0.000191868981346488,"return_value":{"class":"Array","value":"[111361439619801100, 111361439619801093]","object_id":14279920,"size":2}},{"id":2893057,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14279940,"value":"____:f__!___"}},{"id":2893058,"event":"return","thread_id":9160,"parent_id":2893057,"elapsed":3.777968231588602e-06,"elapsed_instrumentation":9.530805982649326e-05,"return_value":{"class":"String","value":"cbb3ddf43a668c822183c9f0","object_id":14279960}},{"id":2893059,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14279980,"value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801093], class=>UnmergeWorker, jid=>04277afa7a4bc848883ddba6, created_at=>1699240717.7533915, id=>cbb3ddf43a668c822183c9f0}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14280000,"value":"#<JSON::Ext::Generator::State:0x00007fc933df9428>"}},{"id":2893060,"event":"return","thread_id":9160,"parent_id":2893059,"elapsed":1.689000055193901e-05,"elapsed_instrumentation":0.00017296505393460393,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439619801100,111361439619801093],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14280020}},{"id":2893061,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14280040,"value":"#<JSON::Ext::Parser:0x00007fc933df3e88>"}},{"id":2893062,"event":"return","thread_id":9160,"parent_id":2893061,"elapsed":1.7299025785177946e-05,"elapsed_instrumentation":0.00014854792971163988,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801093], class=>UnmergeWorker, jid=>04277afa7a4bc848883ddba6, created_at=>1699240717.7533915, id=>cbb3ddf43a668c822183c9f0}","object_id":14280060,"size":7}},{"id":2893063,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879239602201,"value":"111361439619801100","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879239602187,"value":"111361439619801093","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14280080,"value":"#<UnmergeWorker:0x00007fc933e9dde8>"}},{"id":2893064,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14280080,"value":"#<UnmergeWorker:0x00007fc933e9dde8>"}},{"id":2893065,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893066,"event":"return","thread_id":9160,"parent_id":2893065,"elapsed":0.00054217,"elapsed_instrumentation":8.232303662225604e-05},{"id":2893067,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893068,"event":"return","thread_id":9160,"parent_id":2893067,"elapsed":0.000518801,"elapsed_instrumentation":7.340096635743976e-05},{"id":2893069,"event":"return","thread_id":9160,"parent_id":2893064,"elapsed":0.003564015030860901,"elapsed_instrumentation":0.00010640500113368034,"return_value":{"class":"Account","value":"#<Account:0x00007fc91a393358>","object_id":14280100}},{"id":2893070,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14280080,"value":"#<UnmergeWorker:0x00007fc933e9dde8>"}},{"id":2893071,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14280120,"value":"#<Account:0x00007fc91a393498>","kind":"req"},{"name":"into_account","class":"Account","object_id":14280100,"value":"#<Account:0x00007fc91a393358>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893072,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879239602187,"value":"111361439619801093","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893073,"event":"return","thread_id":9160,"parent_id":2893072,"elapsed":5.442998372018337e-06,"elapsed_instrumentation":9.806297020986676e-05,"return_value":{"class":"String","value":"feed:home:111361439619801093","object_id":14280140}},{"id":2893074,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893075,"event":"return","thread_id":9160,"parent_id":2893074,"elapsed":4.159985110163689e-06,"elapsed_instrumentation":7.085397373884916e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2893076,"event":"return","thread_id":9160,"parent_id":2893071,"elapsed":0.003143690002616495,"elapsed_instrumentation":0.00010151293827220798},{"id":2893077,"event":"return","thread_id":9160,"parent_id":2893070,"elapsed":0.0032787039526738226,"elapsed_instrumentation":8.602504385635257e-05},{"id":2893078,"event":"return","thread_id":9160,"parent_id":2893063,"elapsed":0.0070799799868837,"elapsed_instrumentation":7.489003473892808e-05},{"id":2893079,"event":"return","thread_id":9160,"parent_id":2893050,"elapsed":0.008314414008054882,"elapsed_instrumentation":0.00015462201554328203,"return_value":{"class":"String","value":"04277afa7a4bc848883ddba6","object_id":14279820}},{"id":2893080,"event":"return","thread_id":9160,"parent_id":2892989,"elapsed":0.027060397958848625,"elapsed_instrumentation":0.00014187803026288748,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91a396b98>","object_id":14279660}},{"id":2893081,"event":"return","thread_id":9160,"parent_id":2892988,"elapsed":0.02722469303989783,"elapsed_instrumentation":7.581198588013649e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91a396b98>","object_id":14279660}},{"id":2893082,"event":"return","thread_id":9160,"parent_id":2892987,"elapsed":0.02733140398049727,"elapsed_instrumentation":0.00013385905185714364,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91a396b98>","object_id":14279660}},{"id":2893083,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14280160,"value":"relationship:111361439619801094:111361439619801100","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14280180,"value":"#<UnfollowService:0x00007fc9320416d8>"}},{"id":2893084,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14280180,"value":"#<UnfollowService:0x00007fc9320416d8>"}},{"id":2893085,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14280200,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14280220,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893086,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893087,"event":"return","thread_id":9160,"parent_id":2893086,"elapsed":4.344969056546688e-06,"elapsed_instrumentation":0.00024769699666649103,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2893088,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14280240,"value":"w__g\u001f'X______\u0010/j"}},{"id":2893089,"event":"return","thread_id":9160,"parent_id":2893088,"elapsed":7.375958375632763e-06,"elapsed_instrumentation":0.00013044103980064392,"return_value":{"class":"Array","value":"[2011560039, 7975, 22775, 61156, 43921, 3541053290]","object_id":14280260,"size":6}},{"id":2893090,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893091,"event":"return","thread_id":9160,"parent_id":2893090,"elapsed":0.000472414,"elapsed_instrumentation":0.00012892897939309478},{"id":2893092,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14280280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893093,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893094,"event":"return","thread_id":9160,"parent_id":2893093,"elapsed":0.000411432,"elapsed_instrumentation":8.556502871215343e-05},{"id":2893095,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893096,"event":"return","thread_id":9160,"parent_id":2893095,"elapsed":0.000325233,"elapsed_instrumentation":6.977899465709925e-05},{"id":2893097,"event":"return","thread_id":9160,"parent_id":2893092,"elapsed":0.0025710019981488585,"elapsed_instrumentation":0.00018363597337156534,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2893098,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2893099,"event":"return","thread_id":9160,"parent_id":2893098,"elapsed":0.000612553,"elapsed_instrumentation":6.60669757053256e-05},{"id":2893100,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14280280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893101,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2893102,"event":"return","thread_id":9160,"parent_id":2893101,"elapsed":0.000417966,"elapsed_instrumentation":6.069202208891511e-05},{"id":2893103,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893104,"event":"return","thread_id":9160,"parent_id":2893103,"elapsed":0.000515056,"elapsed_instrumentation":6.318697705864906e-05},{"id":2893105,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14280300,"value":"#<Account:0x00007fc91a391918>"}},{"id":2893106,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14280300,"value":"#<Account:0x00007fc91a391918>"}},{"id":2893107,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439619801094, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893108,"event":"return","thread_id":9160,"parent_id":2893107,"elapsed":0.00075422,"elapsed_instrumentation":7.041799835860729e-05},{"id":2893109,"event":"return","thread_id":9160,"parent_id":2893106,"elapsed":0.0012656819890253246,"elapsed_instrumentation":0.0002287210081703961},{"id":2893110,"event":"return","thread_id":9160,"parent_id":2893105,"elapsed":0.001522935985121876,"elapsed_instrumentation":0.00010338297579437494},{"id":2893111,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893112,"event":"return","thread_id":9160,"parent_id":2893111,"elapsed":0.00041928,"elapsed_instrumentation":6.707798456773162e-05},{"id":2893113,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14280320,"value":"#<Account:0x00007fc9324afdc8>"}},{"id":2893114,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14280320,"value":"#<Account:0x00007fc9324afdc8>"}},{"id":2893115,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439619801100, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893116,"event":"return","thread_id":9160,"parent_id":2893115,"elapsed":0.000872915,"elapsed_instrumentation":0.00018198398174718022},{"id":2893117,"event":"return","thread_id":9160,"parent_id":2893114,"elapsed":0.0016481420025229454,"elapsed_instrumentation":8.955900557339191e-05},{"id":2893118,"event":"return","thread_id":9160,"parent_id":2893113,"elapsed":0.001764206972438842,"elapsed_instrumentation":0.00015540304593741894},{"id":2893119,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14280300,"value":"#<Account:0x00007fc91a391918>"}},{"id":2893120,"event":"return","thread_id":9160,"parent_id":2893119,"elapsed":1.7095997463911772e-05,"elapsed_instrumentation":9.771197801455855e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893121,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14280320,"value":"#<Account:0x00007fc9324afdc8>"}},{"id":2893122,"event":"return","thread_id":9160,"parent_id":2893121,"elapsed":7.066002581268549e-06,"elapsed_instrumentation":6.624695379287004e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893123,"event":"return","thread_id":9160,"parent_id":2893100,"elapsed":0.06896773603511974,"elapsed_instrumentation":0.00014434097101911902,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2893124,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14280340,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14280360,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2893125,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14280380,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14280400,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2893126,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2893127,"event":"return","thread_id":13276700,"parent_id":2893126,"elapsed":6.48602144792676e-06,"elapsed_instrumentation":6.910099182277918e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2893128,"event":"return","thread_id":13276700,"parent_id":2893125,"elapsed":9.592995047569275e-05,"elapsed_instrumentation":0.00010219303658232093,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2893129,"event":"return","thread_id":13276700,"parent_id":2893124,"elapsed":0.0002193680265918374,"elapsed_instrumentation":0.00018733099568635225,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2893130,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893131,"event":"return","thread_id":9160,"parent_id":2893130,"elapsed":0.000860916,"elapsed_instrumentation":0.00012044300092384219},{"id":2893132,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14280440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893133,"event":"return","thread_id":9160,"parent_id":2893132,"elapsed":4.380999598652124e-06,"elapsed_instrumentation":0.00013401999603956938,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2893134,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14280440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893135,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14280460,"value":"Cache delete: relationship:111361439619801094:111361439619801100\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893136,"event":"return","thread_id":9160,"parent_id":2893135,"elapsed":0.0005665189819410443,"elapsed_instrumentation":0.00011622603051364422,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893137,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14280480,"value":"Cache delete: relationship:111361439619801100:111361439619801094\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893138,"event":"return","thread_id":9160,"parent_id":2893137,"elapsed":0.0004138289950788021,"elapsed_instrumentation":0.00011600001016631722,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893139,"event":"return","thread_id":9160,"parent_id":2893134,"elapsed":0.0014885400305502117,"elapsed_instrumentation":0.00010773696703836322,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2893140,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893141,"event":"return","thread_id":9160,"parent_id":2893140,"elapsed":1.001398777589202e-05,"elapsed_instrumentation":0.00018137303413823247,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893142,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893143,"event":"return","thread_id":9160,"parent_id":2893142,"elapsed":4.662026185542345e-06,"elapsed_instrumentation":6.34369789622724e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893144,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14280500,"value":"#<Account:0x00007fc919acc580>"}},{"id":2893145,"event":"return","thread_id":9160,"parent_id":2893144,"elapsed":1.3270007912069559e-05,"elapsed_instrumentation":5.8511970564723015e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893146,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14280520,"value":"{args=>[111361439619801100, 111361439619801094], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14280540,"value":"#<Sidekiq::Client:0x00007fc938a63d40>"}},{"id":2893147,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14280560,"value":"_K`_\u0014_%__KTK"}},{"id":2893148,"event":"return","thread_id":9160,"parent_id":2893147,"elapsed":4.76097920909524e-06,"elapsed_instrumentation":9.966798825189471e-05,"return_value":{"class":"String","value":"a44b60ec14ee25fdf94b544b","object_id":14280580}},{"id":2893149,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14280600,"value":"[111361439619801100, 111361439619801094]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14280620,"value":"#<JSON::Ext::Generator::State:0x00007fc938d6abd8>"}},{"id":2893150,"event":"return","thread_id":9160,"parent_id":2893149,"elapsed":6.465008482336998e-06,"elapsed_instrumentation":0.00010196404764428735,"return_value":{"class":"String","value":"[111361439619801100,111361439619801094]","object_id":14280640}},{"id":2893151,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14280660,"value":"#<JSON::Ext::Parser:0x00007fc938e4c330>"}},{"id":2893152,"event":"return","thread_id":9160,"parent_id":2893151,"elapsed":9.208975825458765e-06,"elapsed_instrumentation":7.877999451011419e-05,"return_value":{"class":"Array","value":"[111361439619801100, 111361439619801094]","object_id":14280680,"size":2}},{"id":2893153,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14280700,"value":"s___(>>\u000e_\u0007H_"}},{"id":2893154,"event":"return","thread_id":9160,"parent_id":2893153,"elapsed":3.4989789128303528e-06,"elapsed_instrumentation":0.00016622495604678988,"return_value":{"class":"String","value":"73f0c5ba283e3e0eb80748ee","object_id":14280720}},{"id":2893155,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14280740,"value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801094], class=>UnmergeWorker, jid=>a44b60ec14ee25fdf94b544b, created_at=>1699240717.8423426, id=>73f0c5ba283e3e0eb80748ee}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14280760,"value":"#<JSON::Ext::Generator::State:0x00007fc93948b3b8>"}},{"id":2893156,"event":"return","thread_id":9160,"parent_id":2893155,"elapsed":2.0527979359030724e-05,"elapsed_instrumentation":0.00020297395531088114,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439619801100,111361439619801094],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14280780}},{"id":2893157,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14280800,"value":"#<JSON::Ext::Parser:0x00007fc939fd4d00>"}},{"id":2893158,"event":"return","thread_id":9160,"parent_id":2893157,"elapsed":2.195098204538226e-05,"elapsed_instrumentation":0.00018060003640130162,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801094], class=>UnmergeWorker, jid=>a44b60ec14ee25fdf94b544b, created_at=>1699240717.8423426, id=>73f0c5ba283e3e0eb80748ee}","object_id":14280820,"size":7}},{"id":2893159,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879239602201,"value":"111361439619801100","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879239602189,"value":"111361439619801094","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14280840,"value":"#<UnmergeWorker:0x00007fc9402abe38>"}},{"id":2893160,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14280840,"value":"#<UnmergeWorker:0x00007fc9402abe38>"}},{"id":2893161,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893162,"event":"return","thread_id":9160,"parent_id":2893161,"elapsed":0.000650159,"elapsed_instrumentation":0.00010424596257507801},{"id":2893163,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893164,"event":"return","thread_id":9160,"parent_id":2893163,"elapsed":0.000475751,"elapsed_instrumentation":6.76700146868825e-05},{"id":2893165,"event":"return","thread_id":9160,"parent_id":2893160,"elapsed":0.0038786050281487405,"elapsed_instrumentation":0.0010474250302650034,"return_value":{"class":"Account","value":"#<Account:0x00007fc9324ae4c8>","object_id":14280860}},{"id":2893166,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14280840,"value":"#<UnmergeWorker:0x00007fc9402abe38>"}},{"id":2893167,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14280880,"value":"#<Account:0x00007fc9324ae608>","kind":"req"},{"name":"into_account","class":"Account","object_id":14280860,"value":"#<Account:0x00007fc9324ae4c8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893168,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879239602189,"value":"111361439619801094","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893169,"event":"return","thread_id":9160,"parent_id":2893168,"elapsed":7.626018486917019e-06,"elapsed_instrumentation":0.00023171602515503764,"return_value":{"class":"String","value":"feed:home:111361439619801094","object_id":14280900}},{"id":2893170,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893171,"event":"return","thread_id":9160,"parent_id":2893170,"elapsed":5.137000698596239e-06,"elapsed_instrumentation":8.092803182080388e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2893172,"event":"return","thread_id":9160,"parent_id":2893167,"elapsed":0.003226009022910148,"elapsed_instrumentation":0.00010920496424660087},{"id":2893173,"event":"return","thread_id":9160,"parent_id":2893166,"elapsed":0.0033697240287438035,"elapsed_instrumentation":8.916895603761077e-05},{"id":2893174,"event":"return","thread_id":9160,"parent_id":2893159,"elapsed":0.008441379002761096,"elapsed_instrumentation":8.029700256884098e-05},{"id":2893175,"event":"return","thread_id":9160,"parent_id":2893146,"elapsed":0.009741799032781273,"elapsed_instrumentation":0.0001635219668969512,"return_value":{"class":"String","value":"a44b60ec14ee25fdf94b544b","object_id":14280580}},{"id":2893176,"event":"return","thread_id":9160,"parent_id":2893085,"elapsed":0.08980735199293122,"elapsed_instrumentation":0.0001502569648437202,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91a392818>","object_id":14280420}},{"id":2893177,"event":"return","thread_id":9160,"parent_id":2893084,"elapsed":0.08998172299470752,"elapsed_instrumentation":7.796601857990026e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91a392818>","object_id":14280420}},{"id":2893178,"event":"return","thread_id":9160,"parent_id":2893083,"elapsed":0.09009110298939049,"elapsed_instrumentation":0.0001307620550505817,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91a392818>","object_id":14280420}},{"id":2893179,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14280920,"value":"relationship:111361439619801095:111361439619801100","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14280940,"value":"#<UnfollowService:0x00007fc937f3ef78>"}},{"id":2893180,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14280940,"value":"#<UnfollowService:0x00007fc937f3ef78>"}},{"id":2893181,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14280960,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14280980,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893182,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893183,"event":"return","thread_id":9160,"parent_id":2893182,"elapsed":3.1520030461251736e-06,"elapsed_instrumentation":6.756599759683013e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2893184,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14281000,"value":"u__C_c3l\"_\u0016__>\u001a\u0015"}},{"id":2893185,"event":"return","thread_id":9160,"parent_id":2893184,"elapsed":7.031019777059555e-06,"elapsed_instrumentation":0.00012286193668842316,"return_value":{"class":"Array","value":"[1972946243, 58723, 13164, 8910, 5857, 3594394133]","object_id":14281020,"size":6}},{"id":2893186,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893187,"event":"return","thread_id":9160,"parent_id":2893186,"elapsed":0.000371962,"elapsed_instrumentation":7.623003330081701e-05},{"id":2893188,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14281040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893189,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893190,"event":"return","thread_id":9160,"parent_id":2893189,"elapsed":0.000369354,"elapsed_instrumentation":7.350603118538857e-05},{"id":2893191,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893192,"event":"return","thread_id":9160,"parent_id":2893191,"elapsed":0.000745303,"elapsed_instrumentation":6.750301690772176e-05},{"id":2893193,"event":"return","thread_id":9160,"parent_id":2893188,"elapsed":0.0036011080374009907,"elapsed_instrumentation":0.00026336393784731627,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2893194,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2893195,"event":"return","thread_id":9160,"parent_id":2893194,"elapsed":0.000581636,"elapsed_instrumentation":6.86330022290349e-05},{"id":2893196,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14281040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893197,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2893198,"event":"return","thread_id":9160,"parent_id":2893197,"elapsed":0.000530859,"elapsed_instrumentation":7.938302587717772e-05},{"id":2893199,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893200,"event":"return","thread_id":9160,"parent_id":2893199,"elapsed":0.000579929,"elapsed_instrumentation":7.276603719219565e-05},{"id":2893201,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14281060,"value":"#<Account:0x00007fc9324ac948>"}},{"id":2893202,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14281060,"value":"#<Account:0x00007fc9324ac948>"}},{"id":2893203,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439619801095, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893204,"event":"return","thread_id":9160,"parent_id":2893203,"elapsed":0.00082517,"elapsed_instrumentation":7.580203237012029e-05},{"id":2893205,"event":"return","thread_id":9160,"parent_id":2893202,"elapsed":0.0013468569959513843,"elapsed_instrumentation":8.948001777753234e-05},{"id":2893206,"event":"return","thread_id":9160,"parent_id":2893201,"elapsed":0.0014620199799537659,"elapsed_instrumentation":0.00012645701644942164},{"id":2893207,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893208,"event":"return","thread_id":9160,"parent_id":2893207,"elapsed":0.000505373,"elapsed_instrumentation":7.211096817627549e-05},{"id":2893209,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14281080,"value":"#<Account:0x00007fc9324ab548>"}},{"id":2893210,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14281080,"value":"#<Account:0x00007fc9324ab548>"}},{"id":2893211,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439619801100, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893212,"event":"return","thread_id":9160,"parent_id":2893211,"elapsed":0.00066312,"elapsed_instrumentation":6.720999954268336e-05},{"id":2893213,"event":"return","thread_id":9160,"parent_id":2893210,"elapsed":0.0011324059450998902,"elapsed_instrumentation":0.00017300399485975504},{"id":2893214,"event":"return","thread_id":9160,"parent_id":2893209,"elapsed":0.0013297530240379274,"elapsed_instrumentation":0.00010898499749600887},{"id":2893215,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14281060,"value":"#<Account:0x00007fc9324ac948>"}},{"id":2893216,"event":"return","thread_id":9160,"parent_id":2893215,"elapsed":1.3325014151632786e-05,"elapsed_instrumentation":9.031104855239391e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893217,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14281080,"value":"#<Account:0x00007fc9324ab548>"}},{"id":2893218,"event":"return","thread_id":9160,"parent_id":2893217,"elapsed":6.443005986511707e-06,"elapsed_instrumentation":6.288901204243302e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893219,"event":"return","thread_id":9160,"parent_id":2893196,"elapsed":0.009187569026835263,"elapsed_instrumentation":0.00013950496213510633,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2893220,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893221,"event":"return","thread_id":9160,"parent_id":2893220,"elapsed":0.00037966,"elapsed_instrumentation":6.638100603595376e-05},{"id":2893222,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14281120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893223,"event":"return","thread_id":9160,"parent_id":2893222,"elapsed":3.6659766919910908e-06,"elapsed_instrumentation":0.00010763196041807532,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2893224,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14281120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893225,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14281140,"value":"Cache delete: relationship:111361439619801095:111361439619801100\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893226,"event":"return","thread_id":9160,"parent_id":2893225,"elapsed":0.0006034789839759469,"elapsed_instrumentation":0.00010889599798247218,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893227,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14281160,"value":"Cache delete: relationship:111361439619801100:111361439619801095\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893228,"event":"return","thread_id":9160,"parent_id":2893227,"elapsed":0.0005544399609789252,"elapsed_instrumentation":0.00013414508430287242,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893229,"event":"return","thread_id":9160,"parent_id":2893224,"elapsed":0.00270954699954018,"elapsed_instrumentation":0.00012315704952925444,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2893230,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893231,"event":"return","thread_id":9160,"parent_id":2893230,"elapsed":1.0554969776421785e-05,"elapsed_instrumentation":0.0001615800429135561,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893232,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893233,"event":"return","thread_id":9160,"parent_id":2893232,"elapsed":3.6740093491971493e-06,"elapsed_instrumentation":6.339605897665024e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893234,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14281180,"value":"#<Account:0x00007fc919acc1c0>"}},{"id":2893235,"event":"return","thread_id":9160,"parent_id":2893234,"elapsed":5.713599966838956e-05,"elapsed_instrumentation":0.00016410299576818943,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893236,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14281200,"value":"{args=>[111361439619801100, 111361439619801095], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14281220,"value":"#<Sidekiq::Client:0x00007fc937d33238>"}},{"id":2893237,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14281240,"value":"___9\u000ep___V__"}},{"id":2893238,"event":"return","thread_id":9160,"parent_id":2893237,"elapsed":5.976995453238487e-06,"elapsed_instrumentation":0.0005231539835222065,"return_value":{"class":"String","value":"81bebe390e70b2818a56afe2","object_id":14281260}},{"id":2893239,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14281280,"value":"[111361439619801100, 111361439619801095]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14281300,"value":"#<JSON::Ext::Generator::State:0x00007fc937d43890>"}},{"id":2893240,"event":"return","thread_id":9160,"parent_id":2893239,"elapsed":6.966991350054741e-06,"elapsed_instrumentation":0.00012063502799719572,"return_value":{"class":"String","value":"[111361439619801100,111361439619801095]","object_id":14281320}},{"id":2893241,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14281340,"value":"#<JSON::Ext::Parser:0x00007fc937d7e940>"}},{"id":2893242,"event":"return","thread_id":9160,"parent_id":2893241,"elapsed":5.711044650524855e-06,"elapsed_instrumentation":7.549894507974386e-05,"return_value":{"class":"Array","value":"[111361439619801100, 111361439619801095]","object_id":14281360,"size":2}},{"id":2893243,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14281380,"value":"_____\\z_Fl__"}},{"id":2893244,"event":"return","thread_id":9160,"parent_id":2893243,"elapsed":3.125052899122238e-06,"elapsed_instrumentation":9.379500988870859e-05,"return_value":{"class":"String","value":"add7a1addf5c7a98466c939b","object_id":14281400}},{"id":2893245,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14281420,"value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801095], class=>UnmergeWorker, jid=>81bebe390e70b2818a56afe2, created_at=>1699240717.874608, id=>add7a1addf5c7a98466c939b}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14281440,"value":"#<JSON::Ext::Generator::State:0x00007fc937d70e08>"}},{"id":2893246,"event":"return","thread_id":9160,"parent_id":2893245,"elapsed":1.2301024980843067e-05,"elapsed_instrumentation":0.00017805298557505012,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439619801100,111361439619801095],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14281460}},{"id":2893247,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14281480,"value":"#<JSON::Ext::Parser:0x00007fc937db5800>"}},{"id":2893248,"event":"return","thread_id":9160,"parent_id":2893247,"elapsed":1.974496990442276e-05,"elapsed_instrumentation":0.00014606205513700843,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801095], class=>UnmergeWorker, jid=>81bebe390e70b2818a56afe2, created_at=>1699240717.874608, id=>add7a1addf5c7a98466c939b}","object_id":14281500,"size":7}},{"id":2893249,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879239602201,"value":"111361439619801100","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879239602191,"value":"111361439619801095","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14281520,"value":"#<UnmergeWorker:0x00007fc937dd83c8>"}},{"id":2893250,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14281520,"value":"#<UnmergeWorker:0x00007fc937dd83c8>"}},{"id":2893251,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893252,"event":"return","thread_id":9160,"parent_id":2893251,"elapsed":0.000587159,"elapsed_instrumentation":9.103195043280721e-05},{"id":2893253,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893254,"event":"return","thread_id":9160,"parent_id":2893253,"elapsed":0.000480847,"elapsed_instrumentation":6.636203033849597e-05},{"id":2893255,"event":"return","thread_id":9160,"parent_id":2893250,"elapsed":0.0032147919991984963,"elapsed_instrumentation":0.00011321896454319358,"return_value":{"class":"Account","value":"#<Account:0x00007fc9324a8e88>","object_id":14281540}},{"id":2893256,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14281520,"value":"#<UnmergeWorker:0x00007fc937dd83c8>"}},{"id":2893257,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14281560,"value":"#<Account:0x00007fc9324a9108>","kind":"req"},{"name":"into_account","class":"Account","object_id":14281540,"value":"#<Account:0x00007fc9324a8e88>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893258,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879239602191,"value":"111361439619801095","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893259,"event":"return","thread_id":9160,"parent_id":2893258,"elapsed":5.396024789661169e-06,"elapsed_instrumentation":9.889696957543492e-05,"return_value":{"class":"String","value":"feed:home:111361439619801095","object_id":14281580}},{"id":2893260,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893261,"event":"return","thread_id":9160,"parent_id":2893260,"elapsed":4.519009962677956e-06,"elapsed_instrumentation":7.32970074750483e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2893262,"event":"return","thread_id":9160,"parent_id":2893257,"elapsed":0.0038459660136140883,"elapsed_instrumentation":0.00010445096995681524},{"id":2893263,"event":"return","thread_id":9160,"parent_id":2893256,"elapsed":0.0039822880062274635,"elapsed_instrumentation":7.884000660851598e-05},{"id":2893264,"event":"return","thread_id":9160,"parent_id":2893249,"elapsed":0.0074346280307509005,"elapsed_instrumentation":0.00012194295413792133},{"id":2893265,"event":"return","thread_id":9160,"parent_id":2893236,"elapsed":0.009133373969234526,"elapsed_instrumentation":0.00029478000942617655,"return_value":{"class":"String","value":"81bebe390e70b2818a56afe2","object_id":14281260}},{"id":2893266,"event":"return","thread_id":9160,"parent_id":2893181,"elapsed":0.030683015007525682,"elapsed_instrumentation":0.00015048700151965022,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9324ad488>","object_id":14281100}},{"id":2893267,"event":"return","thread_id":9160,"parent_id":2893180,"elapsed":0.030858366983011365,"elapsed_instrumentation":8.163100574165583e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9324ad488>","object_id":14281100}},{"id":2893268,"event":"return","thread_id":9160,"parent_id":2893179,"elapsed":0.03097445599269122,"elapsed_instrumentation":0.000261034001596272,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9324ad488>","object_id":14281100}},{"id":2893269,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14281600,"value":"relationship:111361439619801096:111361439619801100","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14281620,"value":"#<UnfollowService:0x00007fc937f34bb8>"}},{"id":2893270,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14281620,"value":"#<UnfollowService:0x00007fc937f34bb8>"}},{"id":2893271,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14281640,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14281660,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893272,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893273,"event":"return","thread_id":9160,"parent_id":2893272,"elapsed":3.0790106393396854e-06,"elapsed_instrumentation":6.362394196912646e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2893274,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14281680,"value":"_f___a\u000b_\u001bq___cA\u001a"}},{"id":2893275,"event":"return","thread_id":9160,"parent_id":2893274,"elapsed":7.627008017152548e-06,"elapsed_instrumentation":0.000634796975646168,"return_value":{"class":"Array","value":"[2489747633, 39777, 3046, 7025, 58838, 4200808730]","object_id":14281700,"size":6}},{"id":2893276,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893277,"event":"return","thread_id":9160,"parent_id":2893276,"elapsed":0.00044852,"elapsed_instrumentation":0.0001023679506033659},{"id":2893278,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14281720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893279,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893280,"event":"return","thread_id":9160,"parent_id":2893279,"elapsed":0.000412906,"elapsed_instrumentation":7.856398588046432e-05},{"id":2893281,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893282,"event":"return","thread_id":9160,"parent_id":2893281,"elapsed":0.000294005,"elapsed_instrumentation":6.86009880155325e-05},{"id":2893283,"event":"return","thread_id":9160,"parent_id":2893278,"elapsed":0.002183131000492722,"elapsed_instrumentation":0.0001552809844724834,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2893284,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2893285,"event":"return","thread_id":9160,"parent_id":2893284,"elapsed":0.000454805,"elapsed_instrumentation":6.306299474090338e-05},{"id":2893286,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14281720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893287,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2893288,"event":"return","thread_id":9160,"parent_id":2893287,"elapsed":0.000441675,"elapsed_instrumentation":6.311899051070213e-05},{"id":2893289,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893290,"event":"return","thread_id":9160,"parent_id":2893289,"elapsed":0.000538209,"elapsed_instrumentation":6.953498814254999e-05},{"id":2893291,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14281740,"value":"#<Account:0x00007fc9324a7808>"}},{"id":2893292,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14281740,"value":"#<Account:0x00007fc9324a7808>"}},{"id":2893293,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439619801096, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893294,"event":"return","thread_id":9160,"parent_id":2893293,"elapsed":0.001086103,"elapsed_instrumentation":7.905199890956283e-05},{"id":2893295,"event":"return","thread_id":9160,"parent_id":2893292,"elapsed":0.0023008689749985933,"elapsed_instrumentation":8.35680402815342e-05},{"id":2893296,"event":"return","thread_id":9160,"parent_id":2893291,"elapsed":0.0024079160066321492,"elapsed_instrumentation":0.00010375899728387594},{"id":2893297,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893298,"event":"return","thread_id":9160,"parent_id":2893297,"elapsed":0.000486714,"elapsed_instrumentation":7.594696944579482e-05},{"id":2893299,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14281760,"value":"#<Account:0x00007fc9324a6688>"}},{"id":2893300,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14281760,"value":"#<Account:0x00007fc9324a6688>"}},{"id":2893301,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439619801100, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893302,"event":"return","thread_id":9160,"parent_id":2893301,"elapsed":0.000773075,"elapsed_instrumentation":6.59520155750215e-05},{"id":2893303,"event":"return","thread_id":9160,"parent_id":2893300,"elapsed":0.0012490960070863366,"elapsed_instrumentation":0.00010402197949588299},{"id":2893304,"event":"return","thread_id":9160,"parent_id":2893299,"elapsed":0.001380275993142277,"elapsed_instrumentation":0.0002068429603241384},{"id":2893305,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14281740,"value":"#<Account:0x00007fc9324a7808>"}},{"id":2893306,"event":"return","thread_id":9160,"parent_id":2893305,"elapsed":1.34530127979815e-05,"elapsed_instrumentation":8.556299144402146e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893307,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14281760,"value":"#<Account:0x00007fc9324a6688>"}},{"id":2893308,"event":"return","thread_id":9160,"parent_id":2893307,"elapsed":6.7569781094789505e-06,"elapsed_instrumentation":6.337900413200259e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893309,"event":"return","thread_id":9160,"parent_id":2893286,"elapsed":0.00967547099571675,"elapsed_instrumentation":0.00014443701365962625,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2893310,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893311,"event":"return","thread_id":9160,"parent_id":2893310,"elapsed":0.000317307,"elapsed_instrumentation":6.0744001530110836e-05},{"id":2893312,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14281800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893313,"event":"return","thread_id":9160,"parent_id":2893312,"elapsed":3.893976099789143e-06,"elapsed_instrumentation":9.89310210570693e-05,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2893314,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14281800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893315,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14281820,"value":"Cache delete: relationship:111361439619801096:111361439619801100\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893316,"event":"return","thread_id":9160,"parent_id":2893315,"elapsed":0.0005780659848824143,"elapsed_instrumentation":0.00010641099652275443,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893317,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14281840,"value":"Cache delete: relationship:111361439619801100:111361439619801096\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893318,"event":"return","thread_id":9160,"parent_id":2893317,"elapsed":0.0005157059640623629,"elapsed_instrumentation":0.00011511502088978887,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893319,"event":"return","thread_id":9160,"parent_id":2893314,"elapsed":0.0015579890459775925,"elapsed_instrumentation":9.700295049697161e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2893320,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893321,"event":"return","thread_id":9160,"parent_id":2893320,"elapsed":7.100054062902927e-06,"elapsed_instrumentation":7.687194738537073e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893322,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893323,"event":"return","thread_id":9160,"parent_id":2893322,"elapsed":3.94799280911684e-06,"elapsed_instrumentation":5.774304736405611e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893324,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14281860,"value":"#<Account:0x00007fc919acb540>"}},{"id":2893325,"event":"return","thread_id":9160,"parent_id":2893324,"elapsed":9.148032404482365e-06,"elapsed_instrumentation":5.7488970924168825e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893326,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14281880,"value":"{args=>[111361439619801100, 111361439619801096], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14281900,"value":"#<Sidekiq::Client:0x00007fc937a372c8>"}},{"id":2893327,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14281920,"value":"\\_>_Np_____="}},{"id":2893328,"event":"return","thread_id":9160,"parent_id":2893327,"elapsed":4.159053787589073e-06,"elapsed_instrumentation":9.641895303502679e-05,"return_value":{"class":"String","value":"5cce3ea34e70ccdaef9cb23d","object_id":14281940}},{"id":2893329,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14281960,"value":"[111361439619801100, 111361439619801096]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14281980,"value":"#<JSON::Ext::Generator::State:0x00007fc937a65100>"}},{"id":2893330,"event":"return","thread_id":9160,"parent_id":2893329,"elapsed":6.902031600475311e-06,"elapsed_instrumentation":0.00023797096218913794,"return_value":{"class":"String","value":"[111361439619801100,111361439619801096]","object_id":14282000}},{"id":2893331,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14282020,"value":"#<JSON::Ext::Parser:0x00007fc937a7bc20>"}},{"id":2893332,"event":"return","thread_id":9160,"parent_id":2893331,"elapsed":6.52798917144537e-06,"elapsed_instrumentation":8.645898196846247e-05,"return_value":{"class":"Array","value":"[111361439619801100, 111361439619801096]","object_id":14282040,"size":2}},{"id":2893333,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14282060,"value":"]\t=_wd1_l__F"}},{"id":2893334,"event":"return","thread_id":9160,"parent_id":2893333,"elapsed":3.723020199686289e-06,"elapsed_instrumentation":8.991302456706762e-05,"return_value":{"class":"String","value":"5d093de3776431826ce7db46","object_id":14282080}},{"id":2893335,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14282100,"value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801096], class=>UnmergeWorker, jid=>5cce3ea34e70ccdaef9cb23d, created_at=>1699240717.9035218, id=>5d093de3776431826ce7db46}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14282120,"value":"#<JSON::Ext::Generator::State:0x00007fc937a97998>"}},{"id":2893336,"event":"return","thread_id":9160,"parent_id":2893335,"elapsed":1.1714990250766277e-05,"elapsed_instrumentation":0.00017158302944153547,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439619801100,111361439619801096],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14282140}},{"id":2893337,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14282160,"value":"#<JSON::Ext::Parser:0x00007fc937ab4660>"}},{"id":2893338,"event":"return","thread_id":9160,"parent_id":2893337,"elapsed":1.9553001038730145e-05,"elapsed_instrumentation":0.0008944050641730428,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801096], class=>UnmergeWorker, jid=>5cce3ea34e70ccdaef9cb23d, created_at=>1699240717.9035218, id=>5d093de3776431826ce7db46}","object_id":14282180,"size":7}},{"id":2893339,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879239602201,"value":"111361439619801100","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879239602193,"value":"111361439619801096","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14282200,"value":"#<UnmergeWorker:0x00007fc9376afa88>"}},{"id":2893340,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14282200,"value":"#<UnmergeWorker:0x00007fc9376afa88>"}},{"id":2893341,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893342,"event":"return","thread_id":9160,"parent_id":2893341,"elapsed":0.000616255,"elapsed_instrumentation":7.824599742889404e-05},{"id":2893343,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893344,"event":"return","thread_id":9160,"parent_id":2893343,"elapsed":0.000576695,"elapsed_instrumentation":7.660395931452513e-05},{"id":2893345,"event":"return","thread_id":9160,"parent_id":2893340,"elapsed":0.0035273940302431583,"elapsed_instrumentation":0.00011479802196845412,"return_value":{"class":"Account","value":"#<Account:0x00007fc9324a4c48>","object_id":14282220}},{"id":2893346,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14282200,"value":"#<UnmergeWorker:0x00007fc9376afa88>"}},{"id":2893347,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14282240,"value":"#<Account:0x00007fc9324a4d88>","kind":"req"},{"name":"into_account","class":"Account","object_id":14282220,"value":"#<Account:0x00007fc9324a4c48>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893348,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879239602193,"value":"111361439619801096","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893349,"event":"return","thread_id":9160,"parent_id":2893348,"elapsed":6.179965566843748e-06,"elapsed_instrumentation":0.00010538700735196471,"return_value":{"class":"String","value":"feed:home:111361439619801096","object_id":14282260}},{"id":2893350,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893351,"event":"return","thread_id":9160,"parent_id":2893350,"elapsed":5.1959650591015816e-06,"elapsed_instrumentation":7.447903044521809e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2893352,"event":"return","thread_id":9160,"parent_id":2893347,"elapsed":0.0031316120293922722,"elapsed_instrumentation":0.00010561995441094041},{"id":2893353,"event":"return","thread_id":9160,"parent_id":2893346,"elapsed":0.00327212898992002,"elapsed_instrumentation":9.370100451633334e-05},{"id":2893354,"event":"return","thread_id":9160,"parent_id":2893339,"elapsed":0.007056155998725444,"elapsed_instrumentation":0.00012825493467971683},{"id":2893355,"event":"return","thread_id":9160,"parent_id":2893326,"elapsed":0.009112983010709286,"elapsed_instrumentation":0.00015300000086426735,"return_value":{"class":"String","value":"5cce3ea34e70ccdaef9cb23d","object_id":14281940}},{"id":2893356,"event":"return","thread_id":9160,"parent_id":2893271,"elapsed":0.02880245097912848,"elapsed_instrumentation":0.0001484170206822455,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9324a8348>","object_id":14281780}},{"id":2893357,"event":"return","thread_id":9160,"parent_id":2893270,"elapsed":0.028974233951885253,"elapsed_instrumentation":7.64559954404831e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9324a8348>","object_id":14281780}},{"id":2893358,"event":"return","thread_id":9160,"parent_id":2893269,"elapsed":0.02908244403079152,"elapsed_instrumentation":0.00013053097063675523,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9324a8348>","object_id":14281780}},{"id":2893359,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14282280,"value":"relationship:111361439619801097:111361439619801100","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14282300,"value":"#<UnfollowService:0x00007fc93527b310>"}},{"id":2893360,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14282300,"value":"#<UnfollowService:0x00007fc93527b310>"}},{"id":2893361,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14282320,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14282340,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893362,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893363,"event":"return","thread_id":9160,"parent_id":2893362,"elapsed":3.958004526793957e-06,"elapsed_instrumentation":6.911897799000144e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2893364,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14282360,"value":"_,__o__3\u0019YAS-K_\u0003"}},{"id":2893365,"event":"return","thread_id":9160,"parent_id":2893364,"elapsed":6.163027137517929e-06,"elapsed_instrumentation":0.0001437920145690441,"return_value":{"class":"Array","value":"[3576478185, 28636, 63283, 6489, 16723, 759951875]","object_id":14282380,"size":6}},{"id":2893366,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893367,"event":"return","thread_id":9160,"parent_id":2893366,"elapsed":0.000452333,"elapsed_instrumentation":8.028699085116386e-05},{"id":2893368,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14282400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893369,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893370,"event":"return","thread_id":9160,"parent_id":2893369,"elapsed":0.000391812,"elapsed_instrumentation":7.927702972665429e-05},{"id":2893371,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893372,"event":"return","thread_id":9160,"parent_id":2893371,"elapsed":0.000619714,"elapsed_instrumentation":6.620900239795446e-05},{"id":2893373,"event":"return","thread_id":9160,"parent_id":2893368,"elapsed":0.0025203449768014252,"elapsed_instrumentation":0.00015228497795760632,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2893374,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2893375,"event":"return","thread_id":9160,"parent_id":2893374,"elapsed":0.000634405,"elapsed_instrumentation":7.691001519560814e-05},{"id":2893376,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14282400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893377,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2893378,"event":"return","thread_id":9160,"parent_id":2893377,"elapsed":0.000590284,"elapsed_instrumentation":7.119897054508328e-05},{"id":2893379,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893380,"event":"return","thread_id":9160,"parent_id":2893379,"elapsed":0.000513904,"elapsed_instrumentation":7.380801253020763e-05},{"id":2893381,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14282420,"value":"#<Account:0x00007fc9324a2448>"}},{"id":2893382,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14282420,"value":"#<Account:0x00007fc9324a2448>"}},{"id":2893383,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439619801097, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893384,"event":"return","thread_id":9160,"parent_id":2893383,"elapsed":0.000740652,"elapsed_instrumentation":7.10620079189539e-05},{"id":2893385,"event":"return","thread_id":9160,"parent_id":2893382,"elapsed":0.0012397299869917333,"elapsed_instrumentation":8.561299182474613e-05},{"id":2893386,"event":"return","thread_id":9160,"parent_id":2893381,"elapsed":0.0013525099493563175,"elapsed_instrumentation":0.0001212370116263628},{"id":2893387,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893388,"event":"return","thread_id":9160,"parent_id":2893387,"elapsed":0.000520612,"elapsed_instrumentation":6.882898742333055e-05},{"id":2893389,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14282440,"value":"#<Account:0x00007fc9324a1048>"}},{"id":2893390,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14282440,"value":"#<Account:0x00007fc9324a1048>"}},{"id":2893391,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439619801100, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893392,"event":"return","thread_id":9160,"parent_id":2893391,"elapsed":0.000675955,"elapsed_instrumentation":7.441401248797774e-05},{"id":2893393,"event":"return","thread_id":9160,"parent_id":2893390,"elapsed":0.00122253003064543,"elapsed_instrumentation":0.00014998996630311012},{"id":2893394,"event":"return","thread_id":9160,"parent_id":2893389,"elapsed":0.001400415028911084,"elapsed_instrumentation":9.958702139556408e-05},{"id":2893395,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14282420,"value":"#<Account:0x00007fc9324a2448>"}},{"id":2893396,"event":"return","thread_id":9160,"parent_id":2893395,"elapsed":1.521699596196413e-05,"elapsed_instrumentation":0.00010109803406521678,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893397,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14282440,"value":"#<Account:0x00007fc9324a1048>"}},{"id":2893398,"event":"return","thread_id":9160,"parent_id":2893397,"elapsed":7.492024451494217e-06,"elapsed_instrumentation":6.736000068485737e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893399,"event":"return","thread_id":9160,"parent_id":2893376,"elapsed":0.008747807994950563,"elapsed_instrumentation":0.00020276603754609823,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2893400,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893401,"event":"return","thread_id":9160,"parent_id":2893400,"elapsed":0.000402109,"elapsed_instrumentation":0.0005275639705359936},{"id":2893402,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14282480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893403,"event":"return","thread_id":9160,"parent_id":2893402,"elapsed":3.7249992601573467e-06,"elapsed_instrumentation":0.00011753896251320839,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2893404,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14282480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893405,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14282500,"value":"Cache delete: relationship:111361439619801097:111361439619801100\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893406,"event":"return","thread_id":9160,"parent_id":2893405,"elapsed":0.0006109170499257743,"elapsed_instrumentation":0.00017732300329953432,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893407,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14282520,"value":"Cache delete: relationship:111361439619801100:111361439619801097\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893408,"event":"return","thread_id":9160,"parent_id":2893407,"elapsed":0.0004786750068888068,"elapsed_instrumentation":0.0001392809790559113,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893409,"event":"return","thread_id":9160,"parent_id":2893404,"elapsed":0.0018349819583818316,"elapsed_instrumentation":0.00010305206524208188,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2893410,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893411,"event":"return","thread_id":9160,"parent_id":2893410,"elapsed":1.1747993994504213e-05,"elapsed_instrumentation":9.212404256686568e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893412,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893413,"event":"return","thread_id":9160,"parent_id":2893412,"elapsed":4.134024493396282e-06,"elapsed_instrumentation":7.173896301537752e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893414,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14282540,"value":"#<Account:0x00007fc919acb180>"}},{"id":2893415,"event":"return","thread_id":9160,"parent_id":2893414,"elapsed":1.0252988431602716e-05,"elapsed_instrumentation":5.763093940913677e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893416,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14282560,"value":"{args=>[111361439619801100, 111361439619801097], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14282580,"value":"#<Sidekiq::Client:0x00007fc934dd1f30>"}},{"id":2893417,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14282600,"value":"#\u001a_sc__6fF=_"}},{"id":2893418,"event":"return","thread_id":9160,"parent_id":2893417,"elapsed":5.4380507208406925e-06,"elapsed_instrumentation":0.0001962590031325817,"return_value":{"class":"String","value":"231a9b7363f0f13666463de6","object_id":14282620}},{"id":2893419,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14282640,"value":"[111361439619801100, 111361439619801097]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14282660,"value":"#<JSON::Ext::Generator::State:0x00007fc934e2aa68>"}},{"id":2893420,"event":"return","thread_id":9160,"parent_id":2893419,"elapsed":6.111979018896818e-06,"elapsed_instrumentation":0.00010513403685763478,"return_value":{"class":"String","value":"[111361439619801100,111361439619801097]","object_id":14282680}},{"id":2893421,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14282700,"value":"#<JSON::Ext::Parser:0x00007fc934e5d558>"}},{"id":2893422,"event":"return","thread_id":9160,"parent_id":2893421,"elapsed":5.862035322934389e-06,"elapsed_instrumentation":0.00011154101230204105,"return_value":{"class":"Array","value":"[111361439619801100, 111361439619801097]","object_id":14282720,"size":2}},{"id":2893423,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14282740,"value":"_o+_+_\u0004__&_Z"}},{"id":2893424,"event":"return","thread_id":9160,"parent_id":2893423,"elapsed":3.715045750141144e-06,"elapsed_instrumentation":0.00010504102101549506,"return_value":{"class":"String","value":"ed6f2b912bc604c4c526935a","object_id":14282760}},{"id":2893425,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14282780,"value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801097], class=>UnmergeWorker, jid=>231a9b7363f0f13666463de6, created_at=>1699240717.9334173, id=>ed6f2b912bc604c4c526935a}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14282800,"value":"#<JSON::Ext::Generator::State:0x00007fc934e7a360>"}},{"id":2893426,"event":"return","thread_id":9160,"parent_id":2893425,"elapsed":1.3131997548043728e-05,"elapsed_instrumentation":0.0001816739677451551,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439619801100,111361439619801097],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14282820}},{"id":2893427,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14282840,"value":"#<JSON::Ext::Parser:0x00007fc934ea5c68>"}},{"id":2893428,"event":"return","thread_id":9160,"parent_id":2893427,"elapsed":1.9692000932991505e-05,"elapsed_instrumentation":0.0001546659623272717,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801097], class=>UnmergeWorker, jid=>231a9b7363f0f13666463de6, created_at=>1699240717.9334173, id=>ed6f2b912bc604c4c526935a}","object_id":14282860,"size":7}},{"id":2893429,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879239602201,"value":"111361439619801100","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879239602195,"value":"111361439619801097","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14282880,"value":"#<UnmergeWorker:0x00007fc934eee0a8>"}},{"id":2893430,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14282880,"value":"#<UnmergeWorker:0x00007fc934eee0a8>"}},{"id":2893431,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893432,"event":"return","thread_id":9160,"parent_id":2893431,"elapsed":0.000534899,"elapsed_instrumentation":7.835100404918194e-05},{"id":2893433,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893434,"event":"return","thread_id":9160,"parent_id":2893433,"elapsed":0.000511425,"elapsed_instrumentation":6.65800180286169e-05},{"id":2893435,"event":"return","thread_id":9160,"parent_id":2893430,"elapsed":0.0031952179851941764,"elapsed_instrumentation":0.00011305499356240034,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e002f7a0>","object_id":14282900}},{"id":2893436,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14282880,"value":"#<UnmergeWorker:0x00007fc934eee0a8>"}},{"id":2893437,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14282920,"value":"#<Account:0x00007fc8e002f8e0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14282900,"value":"#<Account:0x00007fc8e002f7a0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893438,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879239602195,"value":"111361439619801097","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893439,"event":"return","thread_id":9160,"parent_id":2893438,"elapsed":5.141017027199268e-06,"elapsed_instrumentation":9.691802551969886e-05,"return_value":{"class":"String","value":"feed:home:111361439619801097","object_id":14282940}},{"id":2893440,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893441,"event":"return","thread_id":9160,"parent_id":2893440,"elapsed":4.337984137237072e-06,"elapsed_instrumentation":7.11259781382978e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2893442,"event":"return","thread_id":9160,"parent_id":2893437,"elapsed":0.00346392800565809,"elapsed_instrumentation":0.00010061397915706038},{"id":2893443,"event":"return","thread_id":9160,"parent_id":2893436,"elapsed":0.0035965400165878236,"elapsed_instrumentation":7.635995279997587e-05},{"id":2893444,"event":"return","thread_id":9160,"parent_id":2893429,"elapsed":0.007026724983006716,"elapsed_instrumentation":7.355399429798126e-05},{"id":2893445,"event":"return","thread_id":9160,"parent_id":2893416,"elapsed":0.008319966029375792,"elapsed_instrumentation":0.00019769399659708142,"return_value":{"class":"String","value":"231a9b7363f0f13666463de6","object_id":14282620}},{"id":2893446,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14282960,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14282980,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2893447,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14283000,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14283020,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2893448,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2893449,"event":"return","thread_id":13276700,"parent_id":2893448,"elapsed":6.10999995842576e-06,"elapsed_instrumentation":6.526696961373091e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2893450,"event":"return","thread_id":13276700,"parent_id":2893447,"elapsed":9.013403905555606e-05,"elapsed_instrumentation":9.706598939374089e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2893451,"event":"return","thread_id":13276700,"parent_id":2893446,"elapsed":0.0002065269509330392,"elapsed_instrumentation":0.00016013701679185033,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2893452,"event":"return","thread_id":9160,"parent_id":2893361,"elapsed":0.02885480399709195,"elapsed_instrumentation":0.00014983507571741939,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9324a3c08>","object_id":14282460}},{"id":2893453,"event":"return","thread_id":9160,"parent_id":2893360,"elapsed":0.029028199962340295,"elapsed_instrumentation":7.603404810652137e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9324a3c08>","object_id":14282460}},{"id":2893454,"event":"return","thread_id":9160,"parent_id":2893359,"elapsed":0.029137156961951405,"elapsed_instrumentation":0.00013238098472356796,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9324a3c08>","object_id":14282460}},{"id":2893455,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14283040,"value":"relationship:111361439619801098:111361439619801100","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14283060,"value":"#<UnfollowService:0x00007fc935270820>"}},{"id":2893456,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14283060,"value":"#<UnfollowService:0x00007fc935270820>"}},{"id":2893457,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14283080,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14283100,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893458,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893459,"event":"return","thread_id":9160,"parent_id":2893458,"elapsed":2.8720241971313953e-06,"elapsed_instrumentation":6.614596350118518e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2893460,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14283120,"value":"_____I;_d_____l"}},{"id":2893461,"event":"return","thread_id":9160,"parent_id":2893460,"elapsed":6.92903995513916e-06,"elapsed_instrumentation":0.00022896297741681337,"return_value":{"class":"Array","value":"[3263610323, 54857, 15317, 25727, 63440, 3386551916]","object_id":14283140,"size":6}},{"id":2893462,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893463,"event":"return","thread_id":9160,"parent_id":2893462,"elapsed":0.000374298,"elapsed_instrumentation":7.56559893488884e-05},{"id":2893464,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14283160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893465,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893466,"event":"return","thread_id":9160,"parent_id":2893465,"elapsed":0.000328981,"elapsed_instrumentation":7.518799975514412e-05},{"id":2893467,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893468,"event":"return","thread_id":9160,"parent_id":2893467,"elapsed":0.000350715,"elapsed_instrumentation":6.280298111960292e-05},{"id":2893469,"event":"return","thread_id":9160,"parent_id":2893464,"elapsed":0.0020761910127475858,"elapsed_instrumentation":0.00015848793555051088,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2893470,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2893471,"event":"return","thread_id":9160,"parent_id":2893470,"elapsed":0.000534333,"elapsed_instrumentation":6.600900087505579e-05},{"id":2893472,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14283160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893473,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2893474,"event":"return","thread_id":9160,"parent_id":2893473,"elapsed":0.000953337,"elapsed_instrumentation":6.747001316398382e-05},{"id":2893475,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893476,"event":"return","thread_id":9160,"parent_id":2893475,"elapsed":0.000606139,"elapsed_instrumentation":7.311400258913636e-05},{"id":2893477,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14283180,"value":"#<Account:0x00007fc8e002e260>"}},{"id":2893478,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14283180,"value":"#<Account:0x00007fc8e002e260>"}},{"id":2893479,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439619801098, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893480,"event":"return","thread_id":9160,"parent_id":2893479,"elapsed":0.000700352,"elapsed_instrumentation":7.276097312569618e-05},{"id":2893481,"event":"return","thread_id":9160,"parent_id":2893478,"elapsed":0.0012921399902552366,"elapsed_instrumentation":8.894101483747363e-05},{"id":2893482,"event":"return","thread_id":9160,"parent_id":2893477,"elapsed":0.0014062910340726376,"elapsed_instrumentation":0.00011202000314369798},{"id":2893483,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893484,"event":"return","thread_id":9160,"parent_id":2893483,"elapsed":0.000496352,"elapsed_instrumentation":7.092603482306004e-05},{"id":2893485,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14283200,"value":"#<Account:0x00007fc8e002d4a0>"}},{"id":2893486,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14283200,"value":"#<Account:0x00007fc8e002d4a0>"}},{"id":2893487,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439619801100, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893488,"event":"return","thread_id":9160,"parent_id":2893487,"elapsed":0.000794806,"elapsed_instrumentation":8.575303945690393e-05},{"id":2893489,"event":"return","thread_id":9160,"parent_id":2893486,"elapsed":0.001331628009211272,"elapsed_instrumentation":8.560303831472993e-05},{"id":2893490,"event":"return","thread_id":9160,"parent_id":2893485,"elapsed":0.0014429109869524837,"elapsed_instrumentation":0.00011990399798378348},{"id":2893491,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14283180,"value":"#<Account:0x00007fc8e002e260>"}},{"id":2893492,"event":"return","thread_id":9160,"parent_id":2893491,"elapsed":1.6758975107222795e-05,"elapsed_instrumentation":0.00010608404409140348,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893493,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14283200,"value":"#<Account:0x00007fc8e002d4a0>"}},{"id":2893494,"event":"return","thread_id":9160,"parent_id":2893493,"elapsed":6.57298369333148e-06,"elapsed_instrumentation":6.407999899238348e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893495,"event":"return","thread_id":9160,"parent_id":2893472,"elapsed":0.009567242988850921,"elapsed_instrumentation":0.0001443970249965787,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2893496,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893497,"event":"return","thread_id":9160,"parent_id":2893496,"elapsed":0.000311668,"elapsed_instrumentation":7.280200952664018e-05},{"id":2893498,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14283240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893499,"event":"return","thread_id":9160,"parent_id":2893498,"elapsed":4.349974915385246e-06,"elapsed_instrumentation":0.00010716798715293407,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2893500,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14283240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893501,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14283260,"value":"Cache delete: relationship:111361439619801098:111361439619801100\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893502,"event":"return","thread_id":9160,"parent_id":2893501,"elapsed":0.0005611769738607109,"elapsed_instrumentation":0.00010205997386947274,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893503,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14283280,"value":"Cache delete: relationship:111361439619801100:111361439619801098\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893504,"event":"return","thread_id":9160,"parent_id":2893503,"elapsed":0.00040193600580096245,"elapsed_instrumentation":0.00010739295976236463,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893505,"event":"return","thread_id":9160,"parent_id":2893500,"elapsed":0.0014155919780023396,"elapsed_instrumentation":9.626301471143961e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2893506,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893507,"event":"return","thread_id":9160,"parent_id":2893506,"elapsed":7.170019671320915e-06,"elapsed_instrumentation":7.264397572726011e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893508,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893509,"event":"return","thread_id":9160,"parent_id":2893508,"elapsed":4.380999598652124e-06,"elapsed_instrumentation":0.00012452993541955948,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893510,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14283300,"value":"#<Account:0x00007fc919acadc0>"}},{"id":2893511,"event":"return","thread_id":9160,"parent_id":2893510,"elapsed":1.0107993148267269e-05,"elapsed_instrumentation":7.348897634074092e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893512,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14283320,"value":"{args=>[111361439619801100, 111361439619801098], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14283340,"value":"#<Sidekiq::Client:0x00007fc934ac4a90>"}},{"id":2893513,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14283360,"value":"U_4______>\u0017Q"}},{"id":2893514,"event":"return","thread_id":9160,"parent_id":2893513,"elapsed":4.341010935604572e-06,"elapsed_instrumentation":9.861699072644114e-05,"return_value":{"class":"String","value":"559b3487e995f7e3c13e1751","object_id":14283380}},{"id":2893515,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14283400,"value":"[111361439619801100, 111361439619801098]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14283420,"value":"#<JSON::Ext::Generator::State:0x00007fc934af0ca8>"}},{"id":2893516,"event":"return","thread_id":9160,"parent_id":2893515,"elapsed":6.849993951618671e-06,"elapsed_instrumentation":0.0001767450012266636,"return_value":{"class":"String","value":"[111361439619801100,111361439619801098]","object_id":14283440}},{"id":2893517,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14283460,"value":"#<JSON::Ext::Parser:0x00007fc9346fabd0>"}},{"id":2893518,"event":"return","thread_id":9160,"parent_id":2893517,"elapsed":5.755049642175436e-06,"elapsed_instrumentation":7.559900404885411e-05,"return_value":{"class":"Array","value":"[111361439619801100, 111361439619801098]","object_id":14283480,"size":2}},{"id":2893519,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14283500,"value":"___Seb___\u0000_q"}},{"id":2893520,"event":"return","thread_id":9160,"parent_id":2893519,"elapsed":4.265981260687113e-06,"elapsed_instrumentation":0.00017039000522345304,"return_value":{"class":"String","value":"e6cac35365628892bf00bd71","object_id":14283520}},{"id":2893521,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14283540,"value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801098], class=>UnmergeWorker, jid=>559b3487e995f7e3c13e1751, created_at=>1699240717.9611044, id=>e6cac35365628892bf00bd71}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14283560,"value":"#<JSON::Ext::Generator::State:0x00007fc93472ecf0>"}},{"id":2893522,"event":"return","thread_id":9160,"parent_id":2893521,"elapsed":1.751899253576994e-05,"elapsed_instrumentation":0.00030613300623372197,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439619801100,111361439619801098],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14283580}},{"id":2893523,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14283600,"value":"#<JSON::Ext::Parser:0x00007fc93474b288>"}},{"id":2893524,"event":"return","thread_id":9160,"parent_id":2893523,"elapsed":2.1274026948958635e-05,"elapsed_instrumentation":0.0001751959789544344,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801098], class=>UnmergeWorker, jid=>559b3487e995f7e3c13e1751, created_at=>1699240717.9611044, id=>e6cac35365628892bf00bd71}","object_id":14283620,"size":7}},{"id":2893525,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879239602201,"value":"111361439619801100","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879239602197,"value":"111361439619801098","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14283640,"value":"#<UnmergeWorker:0x00007fc934759450>"}},{"id":2893526,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14283640,"value":"#<UnmergeWorker:0x00007fc934759450>"}},{"id":2893527,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893528,"event":"return","thread_id":9160,"parent_id":2893527,"elapsed":0.000601784,"elapsed_instrumentation":9.15509881451726e-05},{"id":2893529,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893530,"event":"return","thread_id":9160,"parent_id":2893529,"elapsed":0.000592483,"elapsed_instrumentation":8.094694931060076e-05},{"id":2893531,"event":"return","thread_id":9160,"parent_id":2893526,"elapsed":0.0034853920224122703,"elapsed_instrumentation":0.00021568592637777328,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e002bce0>","object_id":14283660}},{"id":2893532,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14283640,"value":"#<UnmergeWorker:0x00007fc934759450>"}},{"id":2893533,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14283680,"value":"#<Account:0x00007fc8e002be20>","kind":"req"},{"name":"into_account","class":"Account","object_id":14283660,"value":"#<Account:0x00007fc8e002bce0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893534,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879239602197,"value":"111361439619801098","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893535,"event":"return","thread_id":9160,"parent_id":2893534,"elapsed":5.694979336112738e-06,"elapsed_instrumentation":0.00011499202810227871,"return_value":{"class":"String","value":"feed:home:111361439619801098","object_id":14283700}},{"id":2893536,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893537,"event":"return","thread_id":9160,"parent_id":2893536,"elapsed":4.325993359088898e-06,"elapsed_instrumentation":7.25890276953578e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2893538,"event":"return","thread_id":9160,"parent_id":2893533,"elapsed":0.0028403069591149688,"elapsed_instrumentation":0.00015019206330180168},{"id":2893539,"event":"return","thread_id":9160,"parent_id":2893532,"elapsed":0.00302425300469622,"elapsed_instrumentation":8.953898213803768e-05},{"id":2893540,"event":"return","thread_id":9160,"parent_id":2893525,"elapsed":0.006903911009430885,"elapsed_instrumentation":0.00010568002471700311},{"id":2893541,"event":"return","thread_id":9160,"parent_id":2893512,"elapsed":0.008794740017037839,"elapsed_instrumentation":0.00015045097097754478,"return_value":{"class":"String","value":"559b3487e995f7e3c13e1751","object_id":14283380}},{"id":2893542,"event":"return","thread_id":9160,"parent_id":2893457,"elapsed":0.027274254010990262,"elapsed_instrumentation":0.00014464196283370256,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e002ec60>","object_id":14283220}},{"id":2893543,"event":"return","thread_id":9160,"parent_id":2893456,"elapsed":0.02744403196265921,"elapsed_instrumentation":0.00015635997988283634,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e002ec60>","object_id":14283220}},{"id":2893544,"event":"return","thread_id":9160,"parent_id":2893455,"elapsed":0.0276335789822042,"elapsed_instrumentation":0.00012057507410645485,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e002ec60>","object_id":14283220}},{"id":2893545,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14283720,"value":"relationship:111361439619801099:111361439619801100","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14283740,"value":"#<UnfollowService:0x00007fc932e97e58>"}},{"id":2893546,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14283740,"value":"#<UnfollowService:0x00007fc932e97e58>"}},{"id":2893547,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14283760,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14283780,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893548,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2893549,"event":"return","thread_id":9160,"parent_id":2893548,"elapsed":2.939952537417412e-06,"elapsed_instrumentation":6.549700628966093e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2893550,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14283800,"value":"\u0002___l!_&___\u0015____"}},{"id":2893551,"event":"return","thread_id":9160,"parent_id":2893550,"elapsed":7.260998245328665e-06,"elapsed_instrumentation":0.00020201696315780282,"return_value":{"class":"Array","value":"[43560442, 27681, 53798, 51334, 33045, 4093280665]","object_id":14283820,"size":6}},{"id":2893552,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893553,"event":"return","thread_id":9160,"parent_id":2893552,"elapsed":0.000381217,"elapsed_instrumentation":9.872595546767116e-05},{"id":2893554,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14283840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893555,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893556,"event":"return","thread_id":9160,"parent_id":2893555,"elapsed":0.000301943,"elapsed_instrumentation":7.11229513399303e-05},{"id":2893557,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2893558,"event":"return","thread_id":9160,"parent_id":2893557,"elapsed":0.000267261,"elapsed_instrumentation":5.8033037930727005e-05},{"id":2893559,"event":"return","thread_id":9160,"parent_id":2893554,"elapsed":0.0020484220003709197,"elapsed_instrumentation":0.00015417893882840872,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2893560,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2893561,"event":"return","thread_id":9160,"parent_id":2893560,"elapsed":0.000458843,"elapsed_instrumentation":6.831600330770016e-05},{"id":2893562,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14283840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2893563,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2893564,"event":"return","thread_id":9160,"parent_id":2893563,"elapsed":0.000505982,"elapsed_instrumentation":6.614398444071412e-05},{"id":2893565,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893566,"event":"return","thread_id":9160,"parent_id":2893565,"elapsed":0.000431208,"elapsed_instrumentation":6.553297862410545e-05},{"id":2893567,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14283860,"value":"#<Account:0x00007fc8e002a660>"}},{"id":2893568,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14283860,"value":"#<Account:0x00007fc8e002a660>"}},{"id":2893569,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439619801099, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893570,"event":"return","thread_id":9160,"parent_id":2893569,"elapsed":0.000672623,"elapsed_instrumentation":7.244304288178682e-05},{"id":2893571,"event":"return","thread_id":9160,"parent_id":2893568,"elapsed":0.001179323997348547,"elapsed_instrumentation":8.807895937934518e-05},{"id":2893572,"event":"return","thread_id":9160,"parent_id":2893567,"elapsed":0.001293331035412848,"elapsed_instrumentation":0.00010843604104593396},{"id":2893573,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893574,"event":"return","thread_id":9160,"parent_id":2893573,"elapsed":0.000552988,"elapsed_instrumentation":7.651903433725238e-05},{"id":2893575,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14283880,"value":"#<Account:0x00007fc8e00298a0>"}},{"id":2893576,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14283880,"value":"#<Account:0x00007fc8e00298a0>"}},{"id":2893577,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439619801100, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2893578,"event":"return","thread_id":9160,"parent_id":2893577,"elapsed":0.001135108,"elapsed_instrumentation":8.980598067864776e-05},{"id":2893579,"event":"return","thread_id":9160,"parent_id":2893576,"elapsed":0.0019506849930621684,"elapsed_instrumentation":9.890599176287651e-05},{"id":2893580,"event":"return","thread_id":9160,"parent_id":2893575,"elapsed":0.0020776669844053686,"elapsed_instrumentation":0.0006427000043913722},{"id":2893581,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14283860,"value":"#<Account:0x00007fc8e002a660>"}},{"id":2893582,"event":"return","thread_id":9160,"parent_id":2893581,"elapsed":1.6722013242542744e-05,"elapsed_instrumentation":0.00011023698607459664,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893583,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14283880,"value":"#<Account:0x00007fc8e00298a0>"}},{"id":2893584,"event":"return","thread_id":9160,"parent_id":2893583,"elapsed":7.131020538508892e-06,"elapsed_instrumentation":6.728892913088202e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893585,"event":"return","thread_id":9160,"parent_id":2893562,"elapsed":0.009907690982799977,"elapsed_instrumentation":0.00014903000555932522,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2893586,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2893587,"event":"return","thread_id":9160,"parent_id":2893586,"elapsed":0.000449944,"elapsed_instrumentation":7.175502832978964e-05},{"id":2893588,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14283920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893589,"event":"return","thread_id":9160,"parent_id":2893588,"elapsed":3.7899590097367764e-06,"elapsed_instrumentation":0.00010894099250435829,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2893590,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14283920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2893591,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14283940,"value":"Cache delete: relationship:111361439619801099:111361439619801100\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893592,"event":"return","thread_id":9160,"parent_id":2893591,"elapsed":0.0007273490191437304,"elapsed_instrumentation":0.0001275049289688468,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893593,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14283960,"value":"Cache delete: relationship:111361439619801100:111361439619801099\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2893594,"event":"return","thread_id":9160,"parent_id":2893593,"elapsed":0.0007539810030721128,"elapsed_instrumentation":0.0001457550097256899,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2893595,"event":"return","thread_id":9160,"parent_id":2893590,"elapsed":0.0022595509653910995,"elapsed_instrumentation":0.00015618797624483705,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2893596,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893597,"event":"return","thread_id":9160,"parent_id":2893596,"elapsed":7.626018486917019e-06,"elapsed_instrumentation":8.278392488136888e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893598,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14277320,"value":"#<Account:0x00007fc919acd700>"}},{"id":2893599,"event":"return","thread_id":9160,"parent_id":2893598,"elapsed":4.167028237134218e-06,"elapsed_instrumentation":5.815998883917928e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893600,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14283980,"value":"#<Account:0x00007fc919aca8c0>"}},{"id":2893601,"event":"return","thread_id":9160,"parent_id":2893600,"elapsed":9.079987648874521e-06,"elapsed_instrumentation":5.880999378859997e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2893602,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14284000,"value":"{args=>[111361439619801100, 111361439619801099], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14284020,"value":"#<Sidekiq::Client:0x00007fc93443e658>"}},{"id":2893603,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14284040,"value":"V_b_\u0018__C__o_"}},{"id":2893604,"event":"return","thread_id":9160,"parent_id":2893603,"elapsed":4.85801137983799e-06,"elapsed_instrumentation":0.0001006079837679863,"return_value":{"class":"String","value":"56e562d91887f1438e846fe2","object_id":14284060}},{"id":2893605,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14284080,"value":"[111361439619801100, 111361439619801099]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14284100,"value":"#<JSON::Ext::Generator::State:0x00007fc934436368>"}},{"id":2893606,"event":"return","thread_id":9160,"parent_id":2893605,"elapsed":5.94498123973608e-06,"elapsed_instrumentation":0.00011321599595248699,"return_value":{"class":"String","value":"[111361439619801100,111361439619801099]","object_id":14284120}},{"id":2893607,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14284140,"value":"#<JSON::Ext::Parser:0x00007fc9344345e0>"}},{"id":2893608,"event":"return","thread_id":9160,"parent_id":2893607,"elapsed":5.73496799916029e-06,"elapsed_instrumentation":7.60449911467731e-05,"return_value":{"class":"Array","value":"[111361439619801100, 111361439619801099]","object_id":14284160,"size":2}},{"id":2893609,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14284180,"value":"_\u0015v\r_b____B"}},{"id":2893610,"event":"return","thread_id":9160,"parent_id":2893609,"elapsed":3.4430413506925106e-06,"elapsed_instrumentation":9.039900032803416e-05,"return_value":{"class":"String","value":"dc15760dd662fc7ffcbe9d42","object_id":14284200}},{"id":2893611,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14284220,"value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801099], class=>UnmergeWorker, jid=>56e562d91887f1438e846fe2, created_at=>1699240717.99059, id=>dc15760dd662fc7ffcbe9d42}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14284240,"value":"#<JSON::Ext::Generator::State:0x00007fc93444d888>"}},{"id":2893612,"event":"return","thread_id":9160,"parent_id":2893611,"elapsed":1.696503022685647e-05,"elapsed_instrumentation":0.00017354596639052033,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439619801100,111361439619801099],\"class\":\"UnmergeWorker\", (...95 more characters)","object_id":14284260}},{"id":2893613,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14284280,"value":"#<JSON::Ext::Parser:0x00007fc934445250>"}},{"id":2893614,"event":"return","thread_id":9160,"parent_id":2893613,"elapsed":1.763098407536745e-05,"elapsed_instrumentation":0.0002606830094009638,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439619801100, 111361439619801099], class=>UnmergeWorker, jid=>56e562d91887f1438e846fe2, created_at=>1699240717.99059, id=>dc15760dd662fc7ffcbe9d42}","object_id":14284300,"size":7}},{"id":2893615,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879239602201,"value":"111361439619801100","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879239602199,"value":"111361439619801099","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14284320,"value":"#<UnmergeWorker:0x00007fc93445db48>"}},{"id":2893616,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14284320,"value":"#<UnmergeWorker:0x00007fc93445db48>"}},{"id":2893617,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893618,"event":"return","thread_id":9160,"parent_id":2893617,"elapsed":0.000578253,"elapsed_instrumentation":7.94849474914372e-05},{"id":2893619,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2893620,"event":"return","thread_id":9160,"parent_id":2893619,"elapsed":0.000562499,"elapsed_instrumentation":7.030402775853872e-05},{"id":2893621,"event":"return","thread_id":9160,"parent_id":2893616,"elapsed":0.004250510013662279,"elapsed_instrumentation":0.00011255097342655063,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e0028360>","object_id":14284340}},{"id":2893622,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14284320,"value":"#<UnmergeWorker:0x00007fc93445db48>"}},{"id":2893623,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14284360,"value":"#<Account:0x00007fc8e00284a0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14284340,"value":"#<Account:0x00007fc8e0028360>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893624,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879239602199,"value":"111361439619801099","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893625,"event":"return","thread_id":9160,"parent_id":2893624,"elapsed":6.102025508880615e-06,"elapsed_instrumentation":0.0002164669567719102,"return_value":{"class":"String","value":"feed:home:111361439619801099","object_id":14284380}},{"id":2893626,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2893627,"event":"return","thread_id":9160,"parent_id":2893626,"elapsed":5.25300856679678e-06,"elapsed_instrumentation":0.00020024401601403952,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2893628,"event":"return","thread_id":9160,"parent_id":2893623,"elapsed":0.0036792290047742426,"elapsed_instrumentation":0.00011113501386716962},{"id":2893629,"event":"return","thread_id":9160,"parent_id":2893622,"elapsed":0.003827637992799282,"elapsed_instrumentation":9.196600876748562e-05},{"id":2893630,"event":"return","thread_id":9160,"parent_id":2893615,"elapsed":0.008330304990522563,"elapsed_instrumentation":8.48910422064364e-05},{"id":2893631,"event":"return","thread_id":9160,"parent_id":2893602,"elapsed":0.009764058981090784,"elapsed_instrumentation":0.00015764200361445546,"return_value":{"class":"String","value":"56e562d91887f1438e846fe2","object_id":14284060}},{"id":2893632,"event":"return","thread_id":9160,"parent_id":2893547,"elapsed":0.029593267012387514,"elapsed_instrumentation":0.00014979293337091804,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e002af20>","object_id":14283900}},{"id":2893633,"event":"return","thread_id":9160,"parent_id":2893546,"elapsed":0.029769174987450242,"elapsed_instrumentation":0.00010957301128655672,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e002af20>","object_id":14283900}},{"id":2893634,"event":"return","thread_id":9160,"parent_id":2893545,"elapsed":0.03044053295161575,"elapsed_instrumentation":0.00011970801278948784,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e002af20>","object_id":14283900}},{"id":2893635,"event":"return","thread_id":9160,"parent_id":2892706,"elapsed":0.35669777198927477,"elapsed_instrumentation":0.00018417701357975602,"return_value":{"class":"StringIO","value":"#<StringIO:0x00007fc932cda4f8>","object_id":14284400}}]}