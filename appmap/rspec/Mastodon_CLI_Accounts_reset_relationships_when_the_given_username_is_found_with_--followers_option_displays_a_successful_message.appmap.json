{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --followers option displays a successful message","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":1493485,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":8135060,"value":"jayson3221","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8135080,"value":"#<Mastodon::CLI::Accounts:0x00007fdc0737b690>"}},{"id":1493486,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":8135100,"value":"#<AccountFinderConcern::AccountFinder:0x00007fdc098fa678>"}},{"id":1493487,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'jayson3221' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":1493488,"event":"return","thread_id":9160,"parent_id":1493487,"elapsed":0.00147869,"elapsed_instrumentation":0.00013052299618721008},{"id":1493489,"event":"return","thread_id":9160,"parent_id":1493486,"elapsed":0.005780225008493289,"elapsed_instrumentation":0.0001746460038702935,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64ce3a0>","object_id":8135120}},{"id":1493490,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1)","database_type":"postgres"}},{"id":1493491,"event":"return","thread_id":9160,"parent_id":1493490,"elapsed":0.00137044,"elapsed_instrumentation":0.00011479700333438814},{"id":1493492,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8135080,"value":"#<Mastodon::CLI::Accounts:0x00007fdc0737b690>"}},{"id":1493493,"event":"return","thread_id":9160,"parent_id":1493492,"elapsed":0.00012338400119915605,"elapsed_instrumentation":0.00045255699660629034,"return_value":{"class":"ProgressBar::Base","value":"","object_id":8135140}},{"id":1493494,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1493495,"event":"return","thread_id":9160,"parent_id":1493494,"elapsed":0.003197795,"elapsed_instrumentation":0.00013456001761369407},{"id":1493496,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8135160,"value":"relationship:111360522343259874:111360522343259884","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8135180,"value":"#<UnfollowService:0x00007fdc07378ee0>"}},{"id":1493497,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8135180,"value":"#<UnfollowService:0x00007fdc07378ee0>"}},{"id":1493498,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8135200,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8135220,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493499,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493500,"event":"return","thread_id":9160,"parent_id":1493499,"elapsed":3.1990057323127985e-06,"elapsed_instrumentation":7.394395652227104e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1493501,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8135240,"value":"]=N\u0017___;_-_Mu\u001d0_"}},{"id":1493502,"event":"return","thread_id":9160,"parent_id":1493501,"elapsed":6.733986083418131e-06,"elapsed_instrumentation":0.00014187401393428445,"return_value":{"class":"Array","value":"[1564298775, 50600, 24379, 57901, 52557, 1964847320]","object_id":8135260,"size":6}},{"id":1493503,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493504,"event":"return","thread_id":9160,"parent_id":1493503,"elapsed":0.000650702,"elapsed_instrumentation":8.613101090304554e-05},{"id":1493505,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8135280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493506,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493507,"event":"return","thread_id":9160,"parent_id":1493506,"elapsed":0.00053064,"elapsed_instrumentation":0.0002481139963492751},{"id":1493508,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493509,"event":"return","thread_id":9160,"parent_id":1493508,"elapsed":0.000461116,"elapsed_instrumentation":7.597199873998761e-05},{"id":1493510,"event":"return","thread_id":9160,"parent_id":1493505,"elapsed":0.003692850994411856,"elapsed_instrumentation":0.00020450601004995406,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1493511,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1493512,"event":"return","thread_id":9160,"parent_id":1493511,"elapsed":0.000761027,"elapsed_instrumentation":0.0003920330200344324},{"id":1493513,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8135280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493514,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1493515,"event":"return","thread_id":9160,"parent_id":1493514,"elapsed":0.00081015,"elapsed_instrumentation":7.483200170099735e-05},{"id":1493516,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493517,"event":"return","thread_id":9160,"parent_id":1493516,"elapsed":0.000809921,"elapsed_instrumentation":7.591000758111477e-05},{"id":1493518,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8135300,"value":"#<Account:0x00007fdbf64cba60>"}},{"id":1493519,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8135300,"value":"#<Account:0x00007fdbf64cba60>"}},{"id":1493520,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522343259874, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493521,"event":"return","thread_id":9160,"parent_id":1493520,"elapsed":0.001540236,"elapsed_instrumentation":0.0001436749880667776},{"id":1493522,"event":"return","thread_id":9160,"parent_id":1493519,"elapsed":0.0028445750067476183,"elapsed_instrumentation":0.00022663502022624016},{"id":1493523,"event":"return","thread_id":9160,"parent_id":1493518,"elapsed":0.0031284989963751286,"elapsed_instrumentation":0.00016977699124254286},{"id":1493524,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493525,"event":"return","thread_id":9160,"parent_id":1493524,"elapsed":0.00090865,"elapsed_instrumentation":9.059999138116837e-05},{"id":1493526,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8135320,"value":"#<Account:0x00007fdbf64ca660>"}},{"id":1493527,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8135320,"value":"#<Account:0x00007fdbf64ca660>"}},{"id":1493528,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522343259884, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493529,"event":"return","thread_id":9160,"parent_id":1493528,"elapsed":0.000732538,"elapsed_instrumentation":8.546598837710917e-05},{"id":1493530,"event":"return","thread_id":9160,"parent_id":1493527,"elapsed":0.001593229011632502,"elapsed_instrumentation":9.520899038761854e-05},{"id":1493531,"event":"return","thread_id":9160,"parent_id":1493526,"elapsed":0.00171515200054273,"elapsed_instrumentation":0.0001472699805162847},{"id":1493532,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135300,"value":"#<Account:0x00007fdbf64cba60>"}},{"id":1493533,"event":"return","thread_id":9160,"parent_id":1493532,"elapsed":1.5653000446036458e-05,"elapsed_instrumentation":0.00010680998093448579,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493534,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135320,"value":"#<Account:0x00007fdbf64ca660>"}},{"id":1493535,"event":"return","thread_id":9160,"parent_id":1493534,"elapsed":7.771013770252466e-06,"elapsed_instrumentation":7.290500798262656e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493536,"event":"return","thread_id":9160,"parent_id":1493513,"elapsed":0.013947332015959546,"elapsed_instrumentation":0.00018314097542315722,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1493537,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493538,"event":"return","thread_id":9160,"parent_id":1493537,"elapsed":0.000561308,"elapsed_instrumentation":7.397201261483133e-05},{"id":1493539,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8135360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493540,"event":"return","thread_id":9160,"parent_id":1493539,"elapsed":3.1799718271940947e-06,"elapsed_instrumentation":0.00012326700380071998,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1493541,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8135360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493542,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8135380,"value":"Cache delete: relationship:111360522343259874:111360522343259884\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493543,"event":"return","thread_id":9160,"parent_id":1493542,"elapsed":0.0013291689974721521,"elapsed_instrumentation":0.00012212301953695714,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493544,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8135400,"value":"Cache delete: relationship:111360522343259884:111360522343259874\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493545,"event":"return","thread_id":9160,"parent_id":1493544,"elapsed":0.001202301005832851,"elapsed_instrumentation":0.00016089100972749293,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493546,"event":"return","thread_id":9160,"parent_id":1493541,"elapsed":0.0031971230055205524,"elapsed_instrumentation":0.00021682502119801939,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1493547,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1493548,"event":"return","thread_id":9160,"parent_id":1493547,"elapsed":1.375499414280057e-05,"elapsed_instrumentation":0.00012506599887274206,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493549,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1493550,"event":"return","thread_id":9160,"parent_id":1493549,"elapsed":4.438974428921938e-06,"elapsed_instrumentation":7.51409970689565e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493551,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135420,"value":"#<Account:0x00007fdbf64cd860>"}},{"id":1493552,"event":"return","thread_id":9160,"parent_id":1493551,"elapsed":1.2954988051205873e-05,"elapsed_instrumentation":0.00010322500020265579,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493553,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8135440,"value":"{args=>[111360522343259884, 111360522343259874], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8135460,"value":"#<Sidekiq::Client:0x00007fdc09866360>"}},{"id":1493554,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8135480,"value":"\u001b\u0004\n__\u000fs\u0006\u001dA\tz"}},{"id":1493555,"event":"return","thread_id":9160,"parent_id":1493554,"elapsed":5.142006557434797e-06,"elapsed_instrumentation":0.00015809599426575005,"return_value":{"class":"String","value":"1b040a9d9b0f73061d41097a","object_id":8135500}},{"id":1493556,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8135520,"value":"[111360522343259884, 111360522343259874]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8135540,"value":"#<JSON::Ext::Generator::State:0x00007fdc09861c20>"}},{"id":1493557,"event":"return","thread_id":9160,"parent_id":1493556,"elapsed":7.753988029435277e-06,"elapsed_instrumentation":0.0001883460208773613,"return_value":{"class":"String","value":"[111360522343259884,111360522343259874]","object_id":8135560}},{"id":1493558,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8135580,"value":"#<JSON::Ext::Parser:0x00007fdc0987f9a0>"}},{"id":1493559,"event":"return","thread_id":9160,"parent_id":1493558,"elapsed":5.532987415790558e-06,"elapsed_instrumentation":9.710900485515594e-05,"return_value":{"class":"Array","value":"[111360522343259884, 111360522343259874]","object_id":8135600,"size":2}},{"id":1493560,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8135620,"value":"___\u0013_\\#_R___"}},{"id":1493561,"event":"return","thread_id":9160,"parent_id":1493560,"elapsed":3.821012796834111e-06,"elapsed_instrumentation":0.00011544200242497027,"return_value":{"class":"String","value":"fb8ee713ae5c23b852c482f3","object_id":8135640}},{"id":1493562,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8135660,"value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259874], class=>UnmergeWorker, jid=>1b040a9d9b0f73061d41097a, created_at=>1699226721.60299, id=>fb8ee713ae5c23b852c482f3}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8135680,"value":"#<JSON::Ext::Generator::State:0x00007fdc0987b2d8>"}},{"id":1493563,"event":"return","thread_id":9160,"parent_id":1493562,"elapsed":1.325600896961987e-05,"elapsed_instrumentation":0.00028271597693674266,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522343259884,111360522343259874],\"class\":\"UnmergeWorker\", (...95 more characters)","object_id":8135700}},{"id":1493564,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8135720,"value":"#<JSON::Ext::Parser:0x00007fdc09875f90>"}},{"id":1493565,"event":"return","thread_id":9160,"parent_id":1493564,"elapsed":1.9992003217339516e-05,"elapsed_instrumentation":0.00018472899682819843,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259874], class=>UnmergeWorker, jid=>1b040a9d9b0f73061d41097a, created_at=>1699226721.60299, id=>fb8ee713ae5c23b852c482f3}","object_id":8135740,"size":7}},{"id":1493566,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044686519769,"value":"111360522343259884","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044686519749,"value":"111360522343259874","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8135760,"value":"#<UnmergeWorker:0x00007fdc098704a0>"}},{"id":1493567,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8135760,"value":"#<UnmergeWorker:0x00007fdc098704a0>"}},{"id":1493568,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493569,"event":"return","thread_id":9160,"parent_id":1493568,"elapsed":0.000920386,"elapsed_instrumentation":0.000379148026695475},{"id":1493570,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493571,"event":"return","thread_id":9160,"parent_id":1493570,"elapsed":0.000673265,"elapsed_instrumentation":9.439999121241271e-05},{"id":1493572,"event":"return","thread_id":9160,"parent_id":1493567,"elapsed":0.004821295995498076,"elapsed_instrumentation":0.00012890502694062889,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64c9120>","object_id":8135780}},{"id":1493573,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8135760,"value":"#<UnmergeWorker:0x00007fdc098704a0>"}},{"id":1493574,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8135800,"value":"#<Account:0x00007fdbf64c9260>","kind":"req"},{"name":"into_account","class":"Account","object_id":8135780,"value":"#<Account:0x00007fdbf64c9120>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493575,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044686519749,"value":"111360522343259874","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493576,"event":"return","thread_id":9160,"parent_id":1493575,"elapsed":9.146984666585922e-06,"elapsed_instrumentation":0.0003211450239177793,"return_value":{"class":"String","value":"feed:home:111360522343259874","object_id":8135820}},{"id":1493577,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493578,"event":"return","thread_id":9160,"parent_id":1493577,"elapsed":5.861977115273476e-06,"elapsed_instrumentation":9.65320214163512e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1493579,"event":"return","thread_id":9160,"parent_id":1493574,"elapsed":0.0040709559980314225,"elapsed_instrumentation":0.00012437201803550124},{"id":1493580,"event":"return","thread_id":9160,"parent_id":1493573,"elapsed":0.004435909999301657,"elapsed_instrumentation":0.00010812800610437989},{"id":1493581,"event":"return","thread_id":9160,"parent_id":1493566,"elapsed":0.009546946996124461,"elapsed_instrumentation":0.0002520729904063046},{"id":1493582,"event":"return","thread_id":9160,"parent_id":1493553,"elapsed":0.011437053995905444,"elapsed_instrumentation":0.00018616701709106565,"return_value":{"class":"String","value":"1b040a9d9b0f73061d41097a","object_id":8135500}},{"id":1493583,"event":"return","thread_id":9160,"parent_id":1493498,"elapsed":0.04010471497895196,"elapsed_instrumentation":0.00015818100655451417,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64cc320>","object_id":8135340}},{"id":1493584,"event":"return","thread_id":9160,"parent_id":1493497,"elapsed":0.04028791098971851,"elapsed_instrumentation":8.347799303010106e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64cc320>","object_id":8135340}},{"id":1493585,"event":"return","thread_id":9160,"parent_id":1493496,"elapsed":0.04040590100339614,"elapsed_instrumentation":0.00018246896797791123,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64cc320>","object_id":8135340}},{"id":1493586,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8135840,"value":"relationship:111360522343259875:111360522343259884","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8135860,"value":"#<UnfollowService:0x00007fdc07371550>"}},{"id":1493587,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8135860,"value":"#<UnfollowService:0x00007fdc07371550>"}},{"id":1493588,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8135880,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8135900,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493589,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493590,"event":"return","thread_id":9160,"parent_id":1493589,"elapsed":3.2449897844344378e-06,"elapsed_instrumentation":7.242898573167622e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1493591,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8135920,"value":"s_\u0001|N\u0001u___e_\u0006Cp\u0012"}},{"id":1493592,"event":"return","thread_id":9160,"parent_id":1493591,"elapsed":6.5610220190137625e-06,"elapsed_instrumentation":0.0001546899729873985,"return_value":{"class":"Array","value":"[1937834364, 19969, 30141, 24474, 26034, 105082898]","object_id":8135940,"size":6}},{"id":1493593,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493594,"event":"return","thread_id":9160,"parent_id":1493593,"elapsed":0.00059071,"elapsed_instrumentation":8.63370078150183e-05},{"id":1493595,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8135960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493596,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493597,"event":"return","thread_id":9160,"parent_id":1493596,"elapsed":0.000568314,"elapsed_instrumentation":8.540702401660383e-05},{"id":1493598,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493599,"event":"return","thread_id":9160,"parent_id":1493598,"elapsed":0.000408717,"elapsed_instrumentation":7.303699385374784e-05},{"id":1493600,"event":"return","thread_id":9160,"parent_id":1493595,"elapsed":0.002951935020973906,"elapsed_instrumentation":0.00019770200015045702,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1493601,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1493602,"event":"return","thread_id":9160,"parent_id":1493601,"elapsed":0.000707946,"elapsed_instrumentation":7.551399176009e-05},{"id":1493603,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8135960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493604,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1493605,"event":"return","thread_id":9160,"parent_id":1493604,"elapsed":0.000893315,"elapsed_instrumentation":8.712499402463436e-05},{"id":1493606,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493607,"event":"return","thread_id":9160,"parent_id":1493606,"elapsed":0.000849217,"elapsed_instrumentation":0.0001233140064869076},{"id":1493608,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8135980,"value":"#<Account:0x00007fdbf64c85e0>"}},{"id":1493609,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8135980,"value":"#<Account:0x00007fdbf64c85e0>"}},{"id":1493610,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522343259875, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493611,"event":"return","thread_id":9160,"parent_id":1493610,"elapsed":0.000968815,"elapsed_instrumentation":8.115198579616845e-05},{"id":1493612,"event":"return","thread_id":9160,"parent_id":1493609,"elapsed":0.001776536024408415,"elapsed_instrumentation":9.906297782436013e-05},{"id":1493613,"event":"return","thread_id":9160,"parent_id":1493608,"elapsed":0.0019027870148420334,"elapsed_instrumentation":0.00016012301784940064},{"id":1493614,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493615,"event":"return","thread_id":9160,"parent_id":1493614,"elapsed":0.000569933,"elapsed_instrumentation":7.187100709415972e-05},{"id":1493616,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8136000,"value":"#<Account:0x00007fdbf64c7820>"}},{"id":1493617,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8136000,"value":"#<Account:0x00007fdbf64c7820>"}},{"id":1493618,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522343259884, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493619,"event":"return","thread_id":9160,"parent_id":1493618,"elapsed":0.000970614,"elapsed_instrumentation":7.666900637559593e-05},{"id":1493620,"event":"return","thread_id":9160,"parent_id":1493617,"elapsed":0.0016310159990098327,"elapsed_instrumentation":9.715495980344713e-05},{"id":1493621,"event":"return","thread_id":9160,"parent_id":1493616,"elapsed":0.0017532180063426495,"elapsed_instrumentation":0.00012274700566194952},{"id":1493622,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135980,"value":"#<Account:0x00007fdbf64c85e0>"}},{"id":1493623,"event":"return","thread_id":9160,"parent_id":1493622,"elapsed":1.405499642714858e-05,"elapsed_instrumentation":0.00011216299026273191,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493624,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8136000,"value":"#<Account:0x00007fdbf64c7820>"}},{"id":1493625,"event":"return","thread_id":9160,"parent_id":1493624,"elapsed":7.500988431274891e-06,"elapsed_instrumentation":7.12329929228872e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493626,"event":"return","thread_id":9160,"parent_id":1493603,"elapsed":0.013203857000917196,"elapsed_instrumentation":0.0001705300237517804,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1493627,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493628,"event":"return","thread_id":9160,"parent_id":1493627,"elapsed":0.000552547,"elapsed_instrumentation":7.666301098652184e-05},{"id":1493629,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8136040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493630,"event":"return","thread_id":9160,"parent_id":1493629,"elapsed":3.1730160117149353e-06,"elapsed_instrumentation":0.00012109297676943243,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1493631,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8136040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493632,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8136060,"value":"Cache delete: relationship:111360522343259875:111360522343259884\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493633,"event":"return","thread_id":9160,"parent_id":1493632,"elapsed":0.0010187430016230792,"elapsed_instrumentation":0.00013739897985942662,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493634,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8136080,"value":"Cache delete: relationship:111360522343259884:111360522343259875\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493635,"event":"return","thread_id":9160,"parent_id":1493634,"elapsed":0.0010709479975048453,"elapsed_instrumentation":0.00016872002743184566,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493636,"event":"return","thread_id":9160,"parent_id":1493631,"elapsed":0.0028999869828112423,"elapsed_instrumentation":0.00012260902440175414,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1493637,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1493638,"event":"return","thread_id":9160,"parent_id":1493637,"elapsed":9.151000995188951e-06,"elapsed_instrumentation":0.00010384499910287559,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493639,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1493640,"event":"return","thread_id":9160,"parent_id":1493639,"elapsed":4.164990969002247e-06,"elapsed_instrumentation":6.44900428596884e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493641,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8136100,"value":"#<Account:0x00007fdbf64cd720>"}},{"id":1493642,"event":"return","thread_id":9160,"parent_id":1493641,"elapsed":1.1738011380657554e-05,"elapsed_instrumentation":6.071999086998403e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493643,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8136120,"value":"{args=>[111360522343259884, 111360522343259875], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8136140,"value":"#<Sidekiq::Client:0x00007fdc097d1c60>"}},{"id":1493644,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8136160,"value":"Y__v_\u0001?\u001c_=\u0005\u0000"}},{"id":1493645,"event":"return","thread_id":9160,"parent_id":1493644,"elapsed":4.5339984353631735e-06,"elapsed_instrumentation":0.00011590000940486789,"return_value":{"class":"String","value":"59c4fe76dc013f1cd73d0500","object_id":8136180}},{"id":1493646,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8136200,"value":"[111360522343259884, 111360522343259875]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8136220,"value":"#<JSON::Ext::Generator::State:0x00007fdc097eb2f0>"}},{"id":1493647,"event":"return","thread_id":9160,"parent_id":1493646,"elapsed":7.057999027892947e-06,"elapsed_instrumentation":0.00011406600242480636,"return_value":{"class":"String","value":"[111360522343259884,111360522343259875]","object_id":8136240}},{"id":1493648,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8136260,"value":"#<JSON::Ext::Parser:0x00007fdc097e98d8>"}},{"id":1493649,"event":"return","thread_id":9160,"parent_id":1493648,"elapsed":5.884008714929223e-06,"elapsed_instrumentation":8.047997835092247e-05,"return_value":{"class":"Array","value":"[111360522343259884, 111360522343259875]","object_id":8136280,"size":2}},{"id":1493650,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8136300,"value":"_E_&_\r_E\u0010\u001f_w"}},{"id":1493651,"event":"return","thread_id":9160,"parent_id":1493650,"elapsed":3.221997758373618e-06,"elapsed_instrumentation":0.0001146620197687298,"return_value":{"class":"String","value":"fe45cf26f60d9e45101fdd77","object_id":8136320}},{"id":1493652,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8136340,"value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259875], class=>UnmergeWorker, jid=>59c4fe76dc013f1cd73d0500, created_at=>1699226721.6413763, id=>fe45cf26f60d9e45101fdd77}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8136360,"value":"#<JSON::Ext::Generator::State:0x00007fdc097e64a8>"}},{"id":1493653,"event":"return","thread_id":9160,"parent_id":1493652,"elapsed":1.4940014807507396e-05,"elapsed_instrumentation":0.0004076469922438264,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522343259884,111360522343259875],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8136380}},{"id":1493654,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8136400,"value":"#<JSON::Ext::Parser:0x00007fdc097e3078>"}},{"id":1493655,"event":"return","thread_id":9160,"parent_id":1493654,"elapsed":2.335899625904858e-05,"elapsed_instrumentation":0.00018053999519906938,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259875], class=>UnmergeWorker, jid=>59c4fe76dc013f1cd73d0500, created_at=>1699226721.6413763, id=>fe45cf26f60d9e45101fdd77}","object_id":8136420,"size":7}},{"id":1493656,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044686519769,"value":"111360522343259884","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044686519751,"value":"111360522343259875","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8136440,"value":"#<UnmergeWorker:0x00007fdc097e0008>"}},{"id":1493657,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8136440,"value":"#<UnmergeWorker:0x00007fdc097e0008>"}},{"id":1493658,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493659,"event":"return","thread_id":9160,"parent_id":1493658,"elapsed":0.000795975,"elapsed_instrumentation":0.00010357701103202999},{"id":1493660,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493661,"event":"return","thread_id":9160,"parent_id":1493660,"elapsed":0.000810986,"elapsed_instrumentation":8.548202458769083e-05},{"id":1493662,"event":"return","thread_id":9160,"parent_id":1493657,"elapsed":0.004545640986179933,"elapsed_instrumentation":0.0001260779972653836,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64c5f20>","object_id":8136460}},{"id":1493663,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8136440,"value":"#<UnmergeWorker:0x00007fdc097e0008>"}},{"id":1493664,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8136480,"value":"#<Account:0x00007fdbf64c6060>","kind":"req"},{"name":"into_account","class":"Account","object_id":8136460,"value":"#<Account:0x00007fdbf64c5f20>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493665,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044686519751,"value":"111360522343259875","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493666,"event":"return","thread_id":9160,"parent_id":1493665,"elapsed":4.975998308509588e-06,"elapsed_instrumentation":0.0001289770007133484,"return_value":{"class":"String","value":"feed:home:111360522343259875","object_id":8136500}},{"id":1493667,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493668,"event":"return","thread_id":9160,"parent_id":1493667,"elapsed":5.656009307131171e-06,"elapsed_instrumentation":0.0001333109976258129,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1493669,"event":"return","thread_id":9160,"parent_id":1493664,"elapsed":0.0038872010190971196,"elapsed_instrumentation":0.00011208499199710786},{"id":1493670,"event":"return","thread_id":9160,"parent_id":1493663,"elapsed":0.004032119002658874,"elapsed_instrumentation":9.647899423725903e-05},{"id":1493671,"event":"return","thread_id":9160,"parent_id":1493656,"elapsed":0.00885041302535683,"elapsed_instrumentation":9.939397568814456e-05},{"id":1493672,"event":"return","thread_id":9160,"parent_id":1493643,"elapsed":0.010555690008914098,"elapsed_instrumentation":0.00019134700414724648,"return_value":{"class":"String","value":"59c4fe76dc013f1cd73d0500","object_id":8136180}},{"id":1493673,"event":"return","thread_id":9160,"parent_id":1493588,"elapsed":0.0370126309862826,"elapsed_instrumentation":0.0001610670005902648,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c8ea0>","object_id":8136020}},{"id":1493674,"event":"return","thread_id":9160,"parent_id":1493587,"elapsed":0.037198403995716944,"elapsed_instrumentation":8.701300248503685e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c8ea0>","object_id":8136020}},{"id":1493675,"event":"return","thread_id":9160,"parent_id":1493586,"elapsed":0.037320491013815627,"elapsed_instrumentation":0.0003054369881283492,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c8ea0>","object_id":8136020}},{"id":1493676,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8136520,"value":"relationship:111360522343259876:111360522343259884","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8136540,"value":"#<UnfollowService:0x00007fdc07386770>"}},{"id":1493677,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8136540,"value":"#<UnfollowService:0x00007fdc07386770>"}},{"id":1493678,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8136560,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8136580,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493679,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493680,"event":"return","thread_id":9160,"parent_id":1493679,"elapsed":3.4260156098753214e-06,"elapsed_instrumentation":0.0001039360067807138,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1493681,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8136600,"value":"__Zju\b__\fz]_~>\u0004-"}},{"id":1493682,"event":"return","thread_id":9160,"parent_id":1493681,"elapsed":7.395981810986996e-06,"elapsed_instrumentation":0.00015673600137233734,"return_value":{"class":"Array","value":"[2734643818, 29960, 39149, 3194, 23994, 2117993517]","object_id":8136620,"size":6}},{"id":1493683,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493684,"event":"return","thread_id":9160,"parent_id":1493683,"elapsed":0.000651603,"elapsed_instrumentation":8.786600665189326e-05},{"id":1493685,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8136640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493686,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493687,"event":"return","thread_id":9160,"parent_id":1493686,"elapsed":0.000658716,"elapsed_instrumentation":8.59640131238848e-05},{"id":1493688,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493689,"event":"return","thread_id":9160,"parent_id":1493688,"elapsed":0.000755755,"elapsed_instrumentation":7.407699013128877e-05},{"id":1493690,"event":"return","thread_id":9160,"parent_id":1493685,"elapsed":0.003577135008526966,"elapsed_instrumentation":0.0001754509867168963,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1493691,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1493692,"event":"return","thread_id":9160,"parent_id":1493691,"elapsed":0.000744083,"elapsed_instrumentation":7.489798008464277e-05},{"id":1493693,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8136640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493694,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1493695,"event":"return","thread_id":9160,"parent_id":1493694,"elapsed":0.000600728,"elapsed_instrumentation":0.00011469301534816623},{"id":1493696,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493697,"event":"return","thread_id":9160,"parent_id":1493696,"elapsed":0.000568485,"elapsed_instrumentation":7.532400195486844e-05},{"id":1493698,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8136660,"value":"#<Account:0x00007fdbf64c53e0>"}},{"id":1493699,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8136660,"value":"#<Account:0x00007fdbf64c53e0>"}},{"id":1493700,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522343259876, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493701,"event":"return","thread_id":9160,"parent_id":1493700,"elapsed":0.001002613,"elapsed_instrumentation":7.753400132060051e-05},{"id":1493702,"event":"return","thread_id":9160,"parent_id":1493699,"elapsed":0.0015596110024489462,"elapsed_instrumentation":0.00020006499835290015},{"id":1493703,"event":"return","thread_id":9160,"parent_id":1493698,"elapsed":0.0017897920042742044,"elapsed_instrumentation":0.00012732300092466176},{"id":1493704,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493705,"event":"return","thread_id":9160,"parent_id":1493704,"elapsed":0.000577329,"elapsed_instrumentation":7.788100629113615e-05},{"id":1493706,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8136680,"value":"#<Account:0x00007fdbf64c4260>"}},{"id":1493707,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8136680,"value":"#<Account:0x00007fdbf64c4260>"}},{"id":1493708,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522343259884, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493709,"event":"return","thread_id":9160,"parent_id":1493708,"elapsed":0.000796482,"elapsed_instrumentation":7.063700468279421e-05},{"id":1493710,"event":"return","thread_id":9160,"parent_id":1493707,"elapsed":0.0013007640081923455,"elapsed_instrumentation":9.750699973665178e-05},{"id":1493711,"event":"return","thread_id":9160,"parent_id":1493706,"elapsed":0.0014262799813877791,"elapsed_instrumentation":0.00013171500177122653},{"id":1493712,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8136660,"value":"#<Account:0x00007fdbf64c53e0>"}},{"id":1493713,"event":"return","thread_id":9160,"parent_id":1493712,"elapsed":1.663900911808014e-05,"elapsed_instrumentation":0.00014610899961553514,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493714,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8136680,"value":"#<Account:0x00007fdbf64c4260>"}},{"id":1493715,"event":"return","thread_id":9160,"parent_id":1493714,"elapsed":1.2390984920784831e-05,"elapsed_instrumentation":8.411498856730759e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493716,"event":"return","thread_id":9160,"parent_id":1493693,"elapsed":0.010782861994812265,"elapsed_instrumentation":0.00017816098988987505,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1493717,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493718,"event":"return","thread_id":9160,"parent_id":1493717,"elapsed":0.000699487,"elapsed_instrumentation":8.027401054278016e-05},{"id":1493719,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8136720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493720,"event":"return","thread_id":9160,"parent_id":1493719,"elapsed":3.1149829737842083e-06,"elapsed_instrumentation":0.00013062902144156396,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1493721,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8136720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493722,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8136740,"value":"Cache delete: relationship:111360522343259876:111360522343259884\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493723,"event":"return","thread_id":9160,"parent_id":1493722,"elapsed":0.0009686659905128181,"elapsed_instrumentation":0.00018373303464613855,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493724,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8136760,"value":"Cache delete: relationship:111360522343259884:111360522343259876\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493725,"event":"return","thread_id":9160,"parent_id":1493724,"elapsed":0.0008478070085402578,"elapsed_instrumentation":0.00019346398767083883,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493726,"event":"return","thread_id":9160,"parent_id":1493721,"elapsed":0.0028494840080384165,"elapsed_instrumentation":0.00011946397717110813,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1493727,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1493728,"event":"return","thread_id":9160,"parent_id":1493727,"elapsed":9.390001650899649e-06,"elapsed_instrumentation":9.645801037549973e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493729,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1493730,"event":"return","thread_id":9160,"parent_id":1493729,"elapsed":3.983004717156291e-06,"elapsed_instrumentation":6.696998025290668e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493731,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8136780,"value":"#<Account:0x00007fdbf64cd5e0>"}},{"id":1493732,"event":"return","thread_id":9160,"parent_id":1493731,"elapsed":1.1305994121357799e-05,"elapsed_instrumentation":6.204700912348926e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493733,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8136800,"value":"{args=>[111360522343259884, 111360522343259876], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8136820,"value":"#<Sidekiq::Client:0x00007fdc09747808>"}},{"id":1493734,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8136840,"value":"__?____W___3"}},{"id":1493735,"event":"return","thread_id":9160,"parent_id":1493734,"elapsed":4.4470070861279964e-06,"elapsed_instrumentation":0.00011481699766591191,"return_value":{"class":"String","value":"d9ef3f8ec0939b57a2fdc533","object_id":8136860}},{"id":1493736,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8136880,"value":"[111360522343259884, 111360522343259876]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8136900,"value":"#<JSON::Ext::Generator::State:0x00007fdc09743d70>"}},{"id":1493737,"event":"return","thread_id":9160,"parent_id":1493736,"elapsed":7.140013622120023e-06,"elapsed_instrumentation":0.00011443498078733683,"return_value":{"class":"String","value":"[111360522343259884,111360522343259876]","object_id":8136920}},{"id":1493738,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8136940,"value":"#<JSON::Ext::Parser:0x00007fdc09742150>"}},{"id":1493739,"event":"return","thread_id":9160,"parent_id":1493738,"elapsed":7.62200215831399e-06,"elapsed_instrumentation":0.00013097102055326104,"return_value":{"class":"Array","value":"[111360522343259884, 111360522343259876]","object_id":8136960,"size":2}},{"id":1493740,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8136980,"value":"a__\u0001Ee_E-__|"}},{"id":1493741,"event":"return","thread_id":9160,"parent_id":1493740,"elapsed":4.890986019745469e-06,"elapsed_instrumentation":0.0005946030141785741,"return_value":{"class":"String","value":"61c1af014565e2452ddd967c","object_id":8137000}},{"id":1493742,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8137020,"value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259876], class=>UnmergeWorker, jid=>d9ef3f8ec0939b57a2fdc533, created_at=>1699226721.6774092, id=>61c1af014565e2452ddd967c}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8137040,"value":"#<JSON::Ext::Generator::State:0x00007fdc096af0f8>"}},{"id":1493743,"event":"return","thread_id":9160,"parent_id":1493742,"elapsed":1.4098011888563633e-05,"elapsed_instrumentation":0.00021128999651409686,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522343259884,111360522343259876],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8137060}},{"id":1493744,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8137080,"value":"#<JSON::Ext::Parser:0x00007fdc096abea8>"}},{"id":1493745,"event":"return","thread_id":9160,"parent_id":1493744,"elapsed":2.0463980035856366e-05,"elapsed_instrumentation":0.00016921799397096038,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259876], class=>UnmergeWorker, jid=>d9ef3f8ec0939b57a2fdc533, created_at=>1699226721.6774092, id=>61c1af014565e2452ddd967c}","object_id":8137100,"size":7}},{"id":1493746,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044686519769,"value":"111360522343259884","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044686519753,"value":"111360522343259876","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8137120,"value":"#<UnmergeWorker:0x00007fdc096a9b58>"}},{"id":1493747,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8137120,"value":"#<UnmergeWorker:0x00007fdc096a9b58>"}},{"id":1493748,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493749,"event":"return","thread_id":9160,"parent_id":1493748,"elapsed":0.000828318,"elapsed_instrumentation":9.185101953335106e-05},{"id":1493750,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493751,"event":"return","thread_id":9160,"parent_id":1493750,"elapsed":0.000702043,"elapsed_instrumentation":8.068999159149826e-05},{"id":1493752,"event":"return","thread_id":9160,"parent_id":1493747,"elapsed":0.004007602023193613,"elapsed_instrumentation":0.00011585099855437875,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64c2820>","object_id":8137140}},{"id":1493753,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8137120,"value":"#<UnmergeWorker:0x00007fdc096a9b58>"}},{"id":1493754,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8137160,"value":"#<Account:0x00007fdbf64c2960>","kind":"req"},{"name":"into_account","class":"Account","object_id":8137140,"value":"#<Account:0x00007fdbf64c2820>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493755,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044686519753,"value":"111360522343259876","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493756,"event":"return","thread_id":9160,"parent_id":1493755,"elapsed":5.452020559459925e-06,"elapsed_instrumentation":0.0001041400246322155,"return_value":{"class":"String","value":"feed:home:111360522343259876","object_id":8137180}},{"id":1493757,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493758,"event":"return","thread_id":9160,"parent_id":1493757,"elapsed":5.305017111822963e-06,"elapsed_instrumentation":7.60990078561008e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1493759,"event":"return","thread_id":9160,"parent_id":1493754,"elapsed":0.0039139850123319775,"elapsed_instrumentation":0.00011206101044081151},{"id":1493760,"event":"return","thread_id":9160,"parent_id":1493753,"elapsed":0.004057606012793258,"elapsed_instrumentation":8.296800660900772e-05},{"id":1493761,"event":"return","thread_id":9160,"parent_id":1493746,"elapsed":0.00830967101501301,"elapsed_instrumentation":0.0001278039999306202},{"id":1493762,"event":"return","thread_id":9160,"parent_id":1493733,"elapsed":0.010387246002210304,"elapsed_instrumentation":0.0002566539915278554,"return_value":{"class":"String","value":"d9ef3f8ec0939b57a2fdc533","object_id":8136860}},{"id":1493763,"event":"return","thread_id":9160,"parent_id":1493678,"elapsed":0.035143405984854326,"elapsed_instrumentation":0.0003856800030916929,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c5ca0>","object_id":8136700}},{"id":1493764,"event":"return","thread_id":9160,"parent_id":1493677,"elapsed":0.035564916994189844,"elapsed_instrumentation":9.93089925032109e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c5ca0>","object_id":8136700}},{"id":1493765,"event":"return","thread_id":9160,"parent_id":1493676,"elapsed":0.03570105001563206,"elapsed_instrumentation":0.00013354900875128806,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c5ca0>","object_id":8136700}},{"id":1493766,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8137200,"value":"relationship:111360522343259877:111360522343259884","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8137220,"value":"#<UnfollowService:0x00007fdc0739e7f8>"}},{"id":1493767,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8137220,"value":"#<UnfollowService:0x00007fdc0739e7f8>"}},{"id":1493768,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8137240,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8137260,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493769,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493770,"event":"return","thread_id":9160,"parent_id":1493769,"elapsed":4.649016773328185e-06,"elapsed_instrumentation":0.0002293210127390921,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1493771,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8137280,"value":"\u0010n__8\u0018__[aNJ6__e"}},{"id":1493772,"event":"return","thread_id":9160,"parent_id":1493771,"elapsed":8.484988939017057e-06,"elapsed_instrumentation":0.00021031199139542878,"return_value":{"class":"Array","value":"[275707127, 14360, 44936, 23393, 20042, 920577381]","object_id":8137300,"size":6}},{"id":1493773,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493774,"event":"return","thread_id":9160,"parent_id":1493773,"elapsed":0.000690171,"elapsed_instrumentation":9.509798837825656e-05},{"id":1493775,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8137320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493776,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493777,"event":"return","thread_id":9160,"parent_id":1493776,"elapsed":0.000623106,"elapsed_instrumentation":8.472302579320967e-05},{"id":1493778,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493779,"event":"return","thread_id":9160,"parent_id":1493778,"elapsed":0.000646095,"elapsed_instrumentation":7.08900042809546e-05},{"id":1493780,"event":"return","thread_id":9160,"parent_id":1493775,"elapsed":0.0032248609932139516,"elapsed_instrumentation":0.00018223404185846448,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1493781,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1493782,"event":"return","thread_id":9160,"parent_id":1493781,"elapsed":0.000578673,"elapsed_instrumentation":7.099099457263947e-05},{"id":1493783,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8137320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493784,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1493785,"event":"return","thread_id":9160,"parent_id":1493784,"elapsed":0.000540365,"elapsed_instrumentation":7.096200715750456e-05},{"id":1493786,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493787,"event":"return","thread_id":9160,"parent_id":1493786,"elapsed":0.000498724,"elapsed_instrumentation":7.14130001142621e-05},{"id":1493788,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8137340,"value":"#<Account:0x00007fdbf64c1920>"}},{"id":1493789,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8137340,"value":"#<Account:0x00007fdbf64c1920>"}},{"id":1493790,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522343259877, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493791,"event":"return","thread_id":9160,"parent_id":1493790,"elapsed":0.001073803,"elapsed_instrumentation":9.843299631029367e-05},{"id":1493792,"event":"return","thread_id":9160,"parent_id":1493789,"elapsed":0.00198593401000835,"elapsed_instrumentation":0.00010853100684471428},{"id":1493793,"event":"return","thread_id":9160,"parent_id":1493788,"elapsed":0.0021235460008028895,"elapsed_instrumentation":0.00013826400390826166},{"id":1493794,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493795,"event":"return","thread_id":9160,"parent_id":1493794,"elapsed":0.000759481,"elapsed_instrumentation":0.00011744999210350215},{"id":1493796,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8137360,"value":"#<Account:0x00007fdbf64c0b60>"}},{"id":1493797,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8137360,"value":"#<Account:0x00007fdbf64c0b60>"}},{"id":1493798,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522343259884, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493799,"event":"return","thread_id":9160,"parent_id":1493798,"elapsed":0.001068144,"elapsed_instrumentation":9.398901602253318e-05},{"id":1493800,"event":"return","thread_id":9160,"parent_id":1493797,"elapsed":0.0018249810091219842,"elapsed_instrumentation":0.0001085139811038971},{"id":1493801,"event":"return","thread_id":9160,"parent_id":1493796,"elapsed":0.001962153008207679,"elapsed_instrumentation":0.00016343299648724496},{"id":1493802,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8137340,"value":"#<Account:0x00007fdbf64c1920>"}},{"id":1493803,"event":"return","thread_id":9160,"parent_id":1493802,"elapsed":1.5797006199136376e-05,"elapsed_instrumentation":0.00012003898154944181,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493804,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8137360,"value":"#<Account:0x00007fdbf64c0b60>"}},{"id":1493805,"event":"return","thread_id":9160,"parent_id":1493804,"elapsed":8.147006155923009e-06,"elapsed_instrumentation":7.146899588406086e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493806,"event":"return","thread_id":9160,"parent_id":1493783,"elapsed":0.012673308985540643,"elapsed_instrumentation":0.0002894180070143193,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1493807,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493808,"event":"return","thread_id":9160,"parent_id":1493807,"elapsed":0.000446838,"elapsed_instrumentation":7.159801316447556e-05},{"id":1493809,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8137400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493810,"event":"return","thread_id":9160,"parent_id":1493809,"elapsed":3.6739802453666925e-06,"elapsed_instrumentation":0.0003408510237932205,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1493811,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8137400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493812,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8137420,"value":"Cache delete: relationship:111360522343259877:111360522343259884\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493813,"event":"return","thread_id":9160,"parent_id":1493812,"elapsed":0.0008921760017983615,"elapsed_instrumentation":0.0001383169728796929,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493814,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8137440,"value":"Cache delete: relationship:111360522343259884:111360522343259877\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493815,"event":"return","thread_id":9160,"parent_id":1493814,"elapsed":0.0007764619949739426,"elapsed_instrumentation":0.00014914301573298872,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493816,"event":"return","thread_id":9160,"parent_id":1493811,"elapsed":0.0022613430046476424,"elapsed_instrumentation":0.00013013597344979644,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1493817,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1493818,"event":"return","thread_id":9160,"parent_id":1493817,"elapsed":8.763978257775307e-06,"elapsed_instrumentation":9.581499034538865e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493819,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1493820,"event":"return","thread_id":9160,"parent_id":1493819,"elapsed":4.238012479618192e-06,"elapsed_instrumentation":6.648097769357264e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493821,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8137460,"value":"#<Account:0x00007fdbf64cd4a0>"}},{"id":1493822,"event":"return","thread_id":9160,"parent_id":1493821,"elapsed":1.4196004485711455e-05,"elapsed_instrumentation":0.00028004799969494343,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493823,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8137480,"value":"{args=>[111360522343259884, 111360522343259877], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8137500,"value":"#<Sidekiq::Client:0x00007fdc09661628>"}},{"id":1493824,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8137520,"value":"_]!_\f3_\u0007_Fe"}},{"id":1493825,"event":"return","thread_id":9160,"parent_id":1493824,"elapsed":4.972011083737016e-06,"elapsed_instrumentation":0.00011339198681525886,"return_value":{"class":"String","value":"fb5d7f21cc0c33c407974665","object_id":8137540}},{"id":1493826,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8137560,"value":"[111360522343259884, 111360522343259877]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8137580,"value":"#<JSON::Ext::Generator::State:0x00007fdc0967e610>"}},{"id":1493827,"event":"return","thread_id":9160,"parent_id":1493826,"elapsed":6.843009032309055e-06,"elapsed_instrumentation":0.00011079901014454663,"return_value":{"class":"String","value":"[111360522343259884,111360522343259877]","object_id":8137600}},{"id":1493828,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8137620,"value":"#<JSON::Ext::Parser:0x00007fdc0967af60>"}},{"id":1493829,"event":"return","thread_id":9160,"parent_id":1493828,"elapsed":5.947978934273124e-06,"elapsed_instrumentation":0.00030656001763418317,"return_value":{"class":"Array","value":"[111360522343259884, 111360522343259877]","object_id":8137640,"size":2}},{"id":1493830,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8137660,"value":"a_\\:__W\"__H_"}},{"id":1493831,"event":"return","thread_id":9160,"parent_id":1493830,"elapsed":7.166003342717886e-06,"elapsed_instrumentation":0.0002017770311795175,"return_value":{"class":"String","value":"61845c3af0f25722e48748bf","object_id":8137680}},{"id":1493832,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8137700,"value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259877], class=>UnmergeWorker, jid=>fb5d7f21cc0c33c407974665, created_at=>1699226721.7146375, id=>61845c3af0f25722e48748bf}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8137720,"value":"#<JSON::Ext::Generator::State:0x00007fdc09676aa0>"}},{"id":1493833,"event":"return","thread_id":9160,"parent_id":1493832,"elapsed":1.5077006537467241e-05,"elapsed_instrumentation":0.0003444609756115824,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522343259884,111360522343259877],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8137740}},{"id":1493834,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8137760,"value":"#<JSON::Ext::Parser:0x00007fdc09670ab0>"}},{"id":1493835,"event":"return","thread_id":9160,"parent_id":1493834,"elapsed":3.0880008125677705e-05,"elapsed_instrumentation":0.00021614599972963333,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259877], class=>UnmergeWorker, jid=>fb5d7f21cc0c33c407974665, created_at=>1699226721.7146375, id=>61845c3af0f25722e48748bf}","object_id":8137780,"size":7}},{"id":1493836,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044686519769,"value":"111360522343259884","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044686519755,"value":"111360522343259877","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8137800,"value":"#<UnmergeWorker:0x00007fdc095fde20>"}},{"id":1493837,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8137800,"value":"#<UnmergeWorker:0x00007fdc095fde20>"}},{"id":1493838,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493839,"event":"return","thread_id":9160,"parent_id":1493838,"elapsed":0.000747158,"elapsed_instrumentation":8.863999391905963e-05},{"id":1493840,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493841,"event":"return","thread_id":9160,"parent_id":1493840,"elapsed":0.000872221,"elapsed_instrumentation":9.06409986782819e-05},{"id":1493842,"event":"return","thread_id":9160,"parent_id":1493837,"elapsed":0.004844371025683358,"elapsed_instrumentation":0.00012868098565377295,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0602e600>","object_id":8137820}},{"id":1493843,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8137800,"value":"#<UnmergeWorker:0x00007fdc095fde20>"}},{"id":1493844,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8137840,"value":"#<Account:0x00007fdc0602e880>","kind":"req"},{"name":"into_account","class":"Account","object_id":8137820,"value":"#<Account:0x00007fdc0602e600>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493845,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044686519755,"value":"111360522343259877","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493846,"event":"return","thread_id":9160,"parent_id":1493845,"elapsed":9.351002518087626e-06,"elapsed_instrumentation":0.0002841079840436578,"return_value":{"class":"String","value":"feed:home:111360522343259877","object_id":8137860}},{"id":1493847,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493848,"event":"return","thread_id":9160,"parent_id":1493847,"elapsed":5.740002961829305e-06,"elapsed_instrumentation":0.00011071201879531145,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1493849,"event":"return","thread_id":9160,"parent_id":1493844,"elapsed":0.004714826995041221,"elapsed_instrumentation":0.00011818698840215802},{"id":1493850,"event":"return","thread_id":9160,"parent_id":1493843,"elapsed":0.004870506993029267,"elapsed_instrumentation":0.00010358099825680256},{"id":1493851,"event":"return","thread_id":9160,"parent_id":1493836,"elapsed":0.010002218012232333,"elapsed_instrumentation":0.00010433100396767259},{"id":1493852,"event":"return","thread_id":9160,"parent_id":1493823,"elapsed":0.012278726004296914,"elapsed_instrumentation":0.00019283901201561093,"return_value":{"class":"String","value":"fb5d7f21cc0c33c407974665","object_id":8137540}},{"id":1493853,"event":"return","thread_id":9160,"parent_id":1493768,"elapsed":0.038597962993662804,"elapsed_instrumentation":0.000253859005169943,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c2460>","object_id":8137380}},{"id":1493854,"event":"return","thread_id":9160,"parent_id":1493767,"elapsed":0.03888020999147557,"elapsed_instrumentation":0.00017257299623452127,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c2460>","object_id":8137380}},{"id":1493855,"event":"return","thread_id":9160,"parent_id":1493766,"elapsed":0.039098267996450886,"elapsed_instrumentation":0.00023398399935103953,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64c2460>","object_id":8137380}},{"id":1493856,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8137880,"value":"relationship:111360522343259878:111360522343259884","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8137900,"value":"#<UnfollowService:0x00007fdc07397368>"}},{"id":1493857,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8137900,"value":"#<UnfollowService:0x00007fdc07397368>"}},{"id":1493858,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8137920,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8137940,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493859,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493860,"event":"return","thread_id":9160,"parent_id":1493859,"elapsed":2.996006514877081e-06,"elapsed_instrumentation":7.493299199268222e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1493861,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8137960,"value":"_]__\u001a&_i\u0018\\U_\u000b_^\u0011"}},{"id":1493862,"event":"return","thread_id":9160,"parent_id":1493861,"elapsed":7.121008820831776e-06,"elapsed_instrumentation":0.00016198400408029556,"return_value":{"class":"Array","value":"[2623376808, 6694, 41577, 6236, 22004, 196173329]","object_id":8137980,"size":6}},{"id":1493863,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493864,"event":"return","thread_id":9160,"parent_id":1493863,"elapsed":0.000819926,"elapsed_instrumentation":0.00010431301780045033},{"id":1493865,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8138000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493866,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493867,"event":"return","thread_id":9160,"parent_id":1493866,"elapsed":0.000482867,"elapsed_instrumentation":7.737800478935242e-05},{"id":1493868,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493869,"event":"return","thread_id":9160,"parent_id":1493868,"elapsed":0.000471135,"elapsed_instrumentation":7.658201502636075e-05},{"id":1493870,"event":"return","thread_id":9160,"parent_id":1493865,"elapsed":0.003428917989367619,"elapsed_instrumentation":0.0001952580059878528,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1493871,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1493872,"event":"return","thread_id":9160,"parent_id":1493871,"elapsed":0.000759434,"elapsed_instrumentation":7.366901263594627e-05},{"id":1493873,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8138000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493874,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1493875,"event":"return","thread_id":9160,"parent_id":1493874,"elapsed":0.000970617,"elapsed_instrumentation":7.62200215831399e-05},{"id":1493876,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493877,"event":"return","thread_id":9160,"parent_id":1493876,"elapsed":0.000693916,"elapsed_instrumentation":0.00010235598892904818},{"id":1493878,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8138020,"value":"#<Account:0x00007fdc0602d340>"}},{"id":1493879,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8138020,"value":"#<Account:0x00007fdc0602d340>"}},{"id":1493880,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522343259878, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493881,"event":"return","thread_id":9160,"parent_id":1493880,"elapsed":0.001174892,"elapsed_instrumentation":8.075902587734163e-05},{"id":1493882,"event":"return","thread_id":9160,"parent_id":1493879,"elapsed":0.0019206870056223124,"elapsed_instrumentation":0.00011791498400270939},{"id":1493883,"event":"return","thread_id":9160,"parent_id":1493878,"elapsed":0.0020705810165964067,"elapsed_instrumentation":0.00019984098616987467},{"id":1493884,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493885,"event":"return","thread_id":9160,"parent_id":1493884,"elapsed":0.000510454,"elapsed_instrumentation":7.65340228099376e-05},{"id":1493886,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8138040,"value":"#<Account:0x00007fdc0602c080>"}},{"id":1493887,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8138040,"value":"#<Account:0x00007fdc0602c080>"}},{"id":1493888,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522343259884, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493889,"event":"return","thread_id":9160,"parent_id":1493888,"elapsed":0.000884077,"elapsed_instrumentation":7.196000660769641e-05},{"id":1493890,"event":"return","thread_id":9160,"parent_id":1493887,"elapsed":0.0015362949925474823,"elapsed_instrumentation":9.373400826007128e-05},{"id":1493891,"event":"return","thread_id":9160,"parent_id":1493886,"elapsed":0.0016540280194021761,"elapsed_instrumentation":0.00011697097215801477},{"id":1493892,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8138020,"value":"#<Account:0x00007fdc0602d340>"}},{"id":1493893,"event":"return","thread_id":9160,"parent_id":1493892,"elapsed":1.4327000826597214e-05,"elapsed_instrumentation":9.982401388697326e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493894,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8138040,"value":"#<Account:0x00007fdc0602c080>"}},{"id":1493895,"event":"return","thread_id":9160,"parent_id":1493894,"elapsed":7.386988727375865e-06,"elapsed_instrumentation":6.808701436966658e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493896,"event":"return","thread_id":9160,"parent_id":1493873,"elapsed":0.011762541980715469,"elapsed_instrumentation":0.00016100401990115643,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1493897,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493898,"event":"return","thread_id":9160,"parent_id":1493897,"elapsed":0.000596577,"elapsed_instrumentation":7.01569952070713e-05},{"id":1493899,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8138080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493900,"event":"return","thread_id":9160,"parent_id":1493899,"elapsed":3.5589910112321377e-06,"elapsed_instrumentation":0.00012071902165189385,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1493901,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8138080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493902,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8138100,"value":"Cache delete: relationship:111360522343259878:111360522343259884\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493903,"event":"return","thread_id":9160,"parent_id":1493902,"elapsed":0.0009316880023106933,"elapsed_instrumentation":0.00016870498075149953,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493904,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8138120,"value":"Cache delete: relationship:111360522343259884:111360522343259878\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493905,"event":"return","thread_id":9160,"parent_id":1493904,"elapsed":0.0013331430091056973,"elapsed_instrumentation":0.00023032401804812253,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493906,"event":"return","thread_id":9160,"parent_id":1493901,"elapsed":0.003469421004410833,"elapsed_instrumentation":0.0001785180065780878,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1493907,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1493908,"event":"return","thread_id":9160,"parent_id":1493907,"elapsed":1.4407007256522775e-05,"elapsed_instrumentation":0.00012732899631373584,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493909,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1493910,"event":"return","thread_id":9160,"parent_id":1493909,"elapsed":4.794012056663632e-06,"elapsed_instrumentation":8.4633007645607e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493911,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8138140,"value":"#<Account:0x00007fdbf64cd360>"}},{"id":1493912,"event":"return","thread_id":9160,"parent_id":1493911,"elapsed":1.092898310162127e-05,"elapsed_instrumentation":6.40230136923492e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493913,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8138160,"value":"{args=>[111360522343259884, 111360522343259878], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8138180,"value":"#<Sidekiq::Client:0x00007fdc0954ad98>"}},{"id":1493914,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8138200,"value":"___^Py7___#"}},{"id":1493915,"event":"return","thread_id":9160,"parent_id":1493914,"elapsed":5.323003279045224e-06,"elapsed_instrumentation":0.0002763850206974894,"return_value":{"class":"String","value":"7fe8adb75e507937abffb723","object_id":8138220}},{"id":1493916,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8138240,"value":"[111360522343259884, 111360522343259878]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8138260,"value":"#<JSON::Ext::Generator::State:0x00007fdc09547710>"}},{"id":1493917,"event":"return","thread_id":9160,"parent_id":1493916,"elapsed":9.664014214649796e-06,"elapsed_instrumentation":0.0003074399719480425,"return_value":{"class":"String","value":"[111360522343259884,111360522343259878]","object_id":8138280}},{"id":1493918,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8138300,"value":"#<JSON::Ext::Parser:0x00007fdc09545c08>"}},{"id":1493919,"event":"return","thread_id":9160,"parent_id":1493918,"elapsed":6.041984306648374e-06,"elapsed_instrumentation":0.00010560802184045315,"return_value":{"class":"Array","value":"[111360522343259884, 111360522343259878]","object_id":8138320,"size":2}},{"id":1493920,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8138340,"value":"Q^__2_\u0007_D___"}},{"id":1493921,"event":"return","thread_id":9160,"parent_id":1493920,"elapsed":4.346977220848203e-06,"elapsed_instrumentation":0.00010995901538990438,"return_value":{"class":"String","value":"515e98a632df07c24495bbd6","object_id":8138360}},{"id":1493922,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8138380,"value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259878], class=>UnmergeWorker, jid=>7fe8adb75e507937abffb723, created_at=>1699226721.7547767, id=>515e98a632df07c24495bbd6}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8138400,"value":"#<JSON::Ext::Generator::State:0x00007fdc09543250>"}},{"id":1493923,"event":"return","thread_id":9160,"parent_id":1493922,"elapsed":1.5452009392902255e-05,"elapsed_instrumentation":0.00023968596360646188,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522343259884,111360522343259878],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8138420}},{"id":1493924,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8138440,"value":"#<JSON::Ext::Parser:0x00007fdc09540af0>"}},{"id":1493925,"event":"return","thread_id":9160,"parent_id":1493924,"elapsed":2.1426996681839228e-05,"elapsed_instrumentation":0.000369241985026747,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259878], class=>UnmergeWorker, jid=>7fe8adb75e507937abffb723, created_at=>1699226721.7547767, id=>515e98a632df07c24495bbd6}","object_id":8138460,"size":7}},{"id":1493926,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044686519769,"value":"111360522343259884","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044686519757,"value":"111360522343259878","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8138480,"value":"#<UnmergeWorker:0x00007fdc0955d808>"}},{"id":1493927,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8138480,"value":"#<UnmergeWorker:0x00007fdc0955d808>"}},{"id":1493928,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493929,"event":"return","thread_id":9160,"parent_id":1493928,"elapsed":0.000943597,"elapsed_instrumentation":0.0001006669772323221},{"id":1493930,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493931,"event":"return","thread_id":9160,"parent_id":1493930,"elapsed":0.000765085,"elapsed_instrumentation":9.076899732463062e-05},{"id":1493932,"event":"return","thread_id":9160,"parent_id":1493927,"elapsed":0.00474321300862357,"elapsed_instrumentation":0.0001292209781240672,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0602a500>","object_id":8138500}},{"id":1493933,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8138480,"value":"#<UnmergeWorker:0x00007fdc0955d808>"}},{"id":1493934,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8138520,"value":"#<Account:0x00007fdc0602a640>","kind":"req"},{"name":"into_account","class":"Account","object_id":8138500,"value":"#<Account:0x00007fdc0602a500>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493935,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044686519757,"value":"111360522343259878","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493936,"event":"return","thread_id":9160,"parent_id":1493935,"elapsed":5.118985427543521e-06,"elapsed_instrumentation":0.00015717302449047565,"return_value":{"class":"String","value":"feed:home:111360522343259878","object_id":8138540}},{"id":1493937,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1493938,"event":"return","thread_id":9160,"parent_id":1493937,"elapsed":6.076006684452295e-06,"elapsed_instrumentation":0.00012303798575885594,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1493939,"event":"return","thread_id":9160,"parent_id":1493934,"elapsed":0.003753002005396411,"elapsed_instrumentation":0.00011378800263628364},{"id":1493940,"event":"return","thread_id":9160,"parent_id":1493933,"elapsed":0.003899536997778341,"elapsed_instrumentation":9.538099402561784e-05},{"id":1493941,"event":"return","thread_id":9160,"parent_id":1493926,"elapsed":0.008919497020542622,"elapsed_instrumentation":0.0001006399979814887},{"id":1493942,"event":"return","thread_id":9160,"parent_id":1493913,"elapsed":0.01087617699522525,"elapsed_instrumentation":0.0005248609813861549,"return_value":{"class":"String","value":"7fe8adb75e507937abffb723","object_id":8138220}},{"id":1493943,"event":"return","thread_id":9160,"parent_id":1493858,"elapsed":0.03718058700906113,"elapsed_instrumentation":0.00016288901679217815,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0602e380>","object_id":8138060}},{"id":1493944,"event":"return","thread_id":9160,"parent_id":1493857,"elapsed":0.03736893198220059,"elapsed_instrumentation":8.987300680018961e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0602e380>","object_id":8138060}},{"id":1493945,"event":"return","thread_id":9160,"parent_id":1493856,"elapsed":0.037497943005291745,"elapsed_instrumentation":0.0001983019756153226,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0602e380>","object_id":8138060}},{"id":1493946,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8138560,"value":"relationship:111360522343259879:111360522343259884","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8138580,"value":"#<UnfollowService:0x00007fdc073bea30>"}},{"id":1493947,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8138580,"value":"#<UnfollowService:0x00007fdc073bea30>"}},{"id":1493948,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8138600,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8138620,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493949,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1493950,"event":"return","thread_id":9160,"parent_id":1493949,"elapsed":3.602996002882719e-06,"elapsed_instrumentation":7.417600136250257e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1493951,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8138640,"value":"vA_1]___r\n_\u001ek\t__"}},{"id":1493952,"event":"return","thread_id":9160,"parent_id":1493951,"elapsed":6.931019015610218e-06,"elapsed_instrumentation":0.00014069199096411467,"return_value":{"class":"Array","value":"[1984024369, 23996, 39347, 29194, 41758, 1795794898]","object_id":8138660,"size":6}},{"id":1493953,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493954,"event":"return","thread_id":9160,"parent_id":1493953,"elapsed":0.000516243,"elapsed_instrumentation":8.480099495500326e-05},{"id":1493955,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8138680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493956,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493957,"event":"return","thread_id":9160,"parent_id":1493956,"elapsed":0.000355558,"elapsed_instrumentation":7.769299554638565e-05},{"id":1493958,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1493959,"event":"return","thread_id":9160,"parent_id":1493958,"elapsed":0.000740682,"elapsed_instrumentation":7.17699876986444e-05},{"id":1493960,"event":"return","thread_id":9160,"parent_id":1493955,"elapsed":0.002962058992125094,"elapsed_instrumentation":0.00033186000655405223,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1493961,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1493962,"event":"return","thread_id":9160,"parent_id":1493961,"elapsed":0.000866336,"elapsed_instrumentation":7.218099199235439e-05},{"id":1493963,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8138680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1493964,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1493965,"event":"return","thread_id":9160,"parent_id":1493964,"elapsed":0.000638277,"elapsed_instrumentation":7.380300667136908e-05},{"id":1493966,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493967,"event":"return","thread_id":9160,"parent_id":1493966,"elapsed":0.000861378,"elapsed_instrumentation":9.389600018039346e-05},{"id":1493968,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8138700,"value":"#<Account:0x00007fdc06028fc0>"}},{"id":1493969,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8138700,"value":"#<Account:0x00007fdc06028fc0>"}},{"id":1493970,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522343259879, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493971,"event":"return","thread_id":9160,"parent_id":1493970,"elapsed":0.000924634,"elapsed_instrumentation":7.491101860068738e-05},{"id":1493972,"event":"return","thread_id":9160,"parent_id":1493969,"elapsed":0.0014433730102609843,"elapsed_instrumentation":9.38700104597956e-05},{"id":1493973,"event":"return","thread_id":9160,"parent_id":1493968,"elapsed":0.001683304988546297,"elapsed_instrumentation":0.0001280739961657673},{"id":1493974,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1493975,"event":"return","thread_id":9160,"parent_id":1493974,"elapsed":0.000802703,"elapsed_instrumentation":7.914099842309952e-05},{"id":1493976,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8138720,"value":"#<Account:0x00007fdc06027bc0>"}},{"id":1493977,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8138720,"value":"#<Account:0x00007fdc06027bc0>"}},{"id":1493978,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522343259884, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1493979,"event":"return","thread_id":9160,"parent_id":1493978,"elapsed":0.000747377,"elapsed_instrumentation":0.00019547698320820928},{"id":1493980,"event":"return","thread_id":9160,"parent_id":1493977,"elapsed":0.0015557699953205884,"elapsed_instrumentation":9.115098509937525e-05},{"id":1493981,"event":"return","thread_id":9160,"parent_id":1493976,"elapsed":0.0016709509945940226,"elapsed_instrumentation":0.00011594398529268801},{"id":1493982,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8138700,"value":"#<Account:0x00007fdc06028fc0>"}},{"id":1493983,"event":"return","thread_id":9160,"parent_id":1493982,"elapsed":1.3743003364652395e-05,"elapsed_instrumentation":0.00010288902558386326,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493984,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8138720,"value":"#<Account:0x00007fdc06027bc0>"}},{"id":1493985,"event":"return","thread_id":9160,"parent_id":1493984,"elapsed":8.45699105411768e-06,"elapsed_instrumentation":7.099797949194908e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493986,"event":"return","thread_id":9160,"parent_id":1493963,"elapsed":0.010678655002266169,"elapsed_instrumentation":0.00044582400005310774,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1493987,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1493988,"event":"return","thread_id":9160,"parent_id":1493987,"elapsed":0.000435884,"elapsed_instrumentation":7.116500637494028e-05},{"id":1493989,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8138760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493990,"event":"return","thread_id":9160,"parent_id":1493989,"elapsed":3.595021553337574e-06,"elapsed_instrumentation":0.0001208689936902374,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1493991,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8138760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1493992,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8138780,"value":"Cache delete: relationship:111360522343259879:111360522343259884\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493993,"event":"return","thread_id":9160,"parent_id":1493992,"elapsed":0.000609019014518708,"elapsed_instrumentation":0.00039165097405202687,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493994,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8138800,"value":"Cache delete: relationship:111360522343259884:111360522343259879\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1493995,"event":"return","thread_id":9160,"parent_id":1493994,"elapsed":0.0007577019860036671,"elapsed_instrumentation":0.00014537700917571783,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1493996,"event":"return","thread_id":9160,"parent_id":1493991,"elapsed":0.0023762679775245488,"elapsed_instrumentation":0.00011435002670623362,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1493997,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1493998,"event":"return","thread_id":9160,"parent_id":1493997,"elapsed":7.738999556750059e-06,"elapsed_instrumentation":9.036000119522214e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1493999,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1494000,"event":"return","thread_id":9160,"parent_id":1493999,"elapsed":4.17200499214232e-06,"elapsed_instrumentation":6.578801549039781e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494001,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8138820,"value":"#<Account:0x00007fdbf64cd220>"}},{"id":1494002,"event":"return","thread_id":9160,"parent_id":1494001,"elapsed":1.0045012459158897e-05,"elapsed_instrumentation":6.169802509248257e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494003,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8138840,"value":"{args=>[111360522343259884, 111360522343259879], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8138860,"value":"#<Sidekiq::Client:0x00007fdc09496e60>"}},{"id":1494004,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8138880,"value":"__%r;__u_k_B"}},{"id":1494005,"event":"return","thread_id":9160,"parent_id":1494004,"elapsed":5.824986146762967e-06,"elapsed_instrumentation":0.0004774810222443193,"return_value":{"class":"String","value":"9cb325723bfaa675b76b8642","object_id":8138900}},{"id":1494006,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8138920,"value":"[111360522343259884, 111360522343259879]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8138940,"value":"#<JSON::Ext::Generator::State:0x00007fdc09493e18>"}},{"id":1494007,"event":"return","thread_id":9160,"parent_id":1494006,"elapsed":6.963004125282168e-06,"elapsed_instrumentation":0.00012457798584364355,"return_value":{"class":"String","value":"[111360522343259884,111360522343259879]","object_id":8138960}},{"id":1494008,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8138980,"value":"#<JSON::Ext::Parser:0x00007fdc09491fc8>"}},{"id":1494009,"event":"return","thread_id":9160,"parent_id":1494008,"elapsed":5.596986738964915e-06,"elapsed_instrumentation":8.11089703347534e-05,"return_value":{"class":"Array","value":"[111360522343259884, 111360522343259879]","object_id":8139000,"size":2}},{"id":1494010,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8139020,"value":"2_h_%(_ET_\r_"}},{"id":1494011,"event":"return","thread_id":9160,"parent_id":1494010,"elapsed":3.984983777627349e-06,"elapsed_instrumentation":0.00010726301115937531,"return_value":{"class":"String","value":"32a868b42528ed4554940dba","object_id":8139040}},{"id":1494012,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8139060,"value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259879], class=>UnmergeWorker, jid=>9cb325723bfaa675b76b8642, created_at=>1699226721.7894511, id=>32a868b42528ed4554940dba}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8139080,"value":"#<JSON::Ext::Generator::State:0x00007fdc09490178>"}},{"id":1494013,"event":"return","thread_id":9160,"parent_id":1494012,"elapsed":1.8974998965859413e-05,"elapsed_instrumentation":0.0004282729933038354,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522343259884,111360522343259879],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8139100}},{"id":1494014,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8139120,"value":"#<JSON::Ext::Parser:0x00007fdc094bd218>"}},{"id":1494015,"event":"return","thread_id":9160,"parent_id":1494014,"elapsed":2.0961975678801537e-05,"elapsed_instrumentation":0.00018227603868581355,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259879], class=>UnmergeWorker, jid=>9cb325723bfaa675b76b8642, created_at=>1699226721.7894511, id=>32a868b42528ed4554940dba}","object_id":8139140,"size":7}},{"id":1494016,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044686519769,"value":"111360522343259884","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044686519759,"value":"111360522343259879","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8139160,"value":"#<UnmergeWorker:0x00007fdc094ba658>"}},{"id":1494017,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8139160,"value":"#<UnmergeWorker:0x00007fdc094ba658>"}},{"id":1494018,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494019,"event":"return","thread_id":9160,"parent_id":1494018,"elapsed":0.000947144,"elapsed_instrumentation":9.45270003285259e-05},{"id":1494020,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494021,"event":"return","thread_id":9160,"parent_id":1494020,"elapsed":0.000978013,"elapsed_instrumentation":0.0001019469927996397},{"id":1494022,"event":"return","thread_id":9160,"parent_id":1494017,"elapsed":0.00487721199169755,"elapsed_instrumentation":0.00012682599481195211,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06025a00>","object_id":8139180}},{"id":1494023,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8139160,"value":"#<UnmergeWorker:0x00007fdc094ba658>"}},{"id":1494024,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8139200,"value":"#<Account:0x00007fdc06025b40>","kind":"req"},{"name":"into_account","class":"Account","object_id":8139180,"value":"#<Account:0x00007fdc06025a00>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494025,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044686519759,"value":"111360522343259879","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494026,"event":"return","thread_id":9160,"parent_id":1494025,"elapsed":5.253998097032309e-06,"elapsed_instrumentation":0.0001208940229844302,"return_value":{"class":"String","value":"feed:home:111360522343259879","object_id":8139220}},{"id":1494027,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494028,"event":"return","thread_id":9160,"parent_id":1494027,"elapsed":5.4480042308568954e-06,"elapsed_instrumentation":8.934095967561007e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1494029,"event":"return","thread_id":9160,"parent_id":1494024,"elapsed":0.004907176014967263,"elapsed_instrumentation":0.0001592799962963909},{"id":1494030,"event":"return","thread_id":9160,"parent_id":1494023,"elapsed":0.005113332998007536,"elapsed_instrumentation":0.00035898599890060723},{"id":1494031,"event":"return","thread_id":9160,"parent_id":1494016,"elapsed":0.010533822001889348,"elapsed_instrumentation":0.0001229059707839042},{"id":1494032,"event":"return","thread_id":9160,"parent_id":1494003,"elapsed":0.012477038981160149,"elapsed_instrumentation":0.00017162301810458302,"return_value":{"class":"String","value":"9cb325723bfaa675b76b8642","object_id":8138900}},{"id":1494033,"event":"return","thread_id":9160,"parent_id":1493948,"elapsed":0.03560118400491774,"elapsed_instrumentation":0.00018286597332917154,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06029c40>","object_id":8138740}},{"id":1494034,"event":"return","thread_id":9160,"parent_id":1493947,"elapsed":0.03581202100031078,"elapsed_instrumentation":9.538300218991935e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06029c40>","object_id":8138740}},{"id":1494035,"event":"return","thread_id":9160,"parent_id":1493946,"elapsed":0.03594242699909955,"elapsed_instrumentation":0.00015765801072120667,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06029c40>","object_id":8138740}},{"id":1494036,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8139240,"value":"relationship:111360522343259880:111360522343259884","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8139260,"value":"#<UnfollowService:0x00007fdc073b7730>"}},{"id":1494037,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8139260,"value":"#<UnfollowService:0x00007fdc073b7730>"}},{"id":1494038,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8139280,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8139300,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494039,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494040,"event":"return","thread_id":9160,"parent_id":1494039,"elapsed":3.595021553337574e-06,"elapsed_instrumentation":0.0004715659888461232,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1494041,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8139320,"value":"__i__K?___\">____"}},{"id":1494042,"event":"return","thread_id":9160,"parent_id":1494041,"elapsed":7.198017556220293e-06,"elapsed_instrumentation":0.00019214098574593663,"return_value":{"class":"Array","value":"[1605396965, 38219, 16373, 49811, 8766, 3652960679]","object_id":8139340,"size":6}},{"id":1494043,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494044,"event":"return","thread_id":9160,"parent_id":1494043,"elapsed":0.000986821,"elapsed_instrumentation":0.0001421690103597939},{"id":1494045,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8139360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494046,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494047,"event":"return","thread_id":9160,"parent_id":1494046,"elapsed":0.000822709,"elapsed_instrumentation":0.0001751879754010588},{"id":1494048,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494049,"event":"return","thread_id":9160,"parent_id":1494048,"elapsed":0.00059609,"elapsed_instrumentation":0.00010779700824059546},{"id":1494050,"event":"return","thread_id":9160,"parent_id":1494045,"elapsed":0.004885898990323767,"elapsed_instrumentation":0.00035846600076183677,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1494051,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1494052,"event":"return","thread_id":9160,"parent_id":1494051,"elapsed":0.001091875,"elapsed_instrumentation":9.440301801078022e-05},{"id":1494053,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8139360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494054,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1494055,"event":"return","thread_id":9160,"parent_id":1494054,"elapsed":0.000823705,"elapsed_instrumentation":8.406900451518595e-05},{"id":1494056,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494057,"event":"return","thread_id":9160,"parent_id":1494056,"elapsed":0.001152887,"elapsed_instrumentation":0.00010223299614153802},{"id":1494058,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8139380,"value":"#<Account:0x00007fdc06024c40>"}},{"id":1494059,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8139380,"value":"#<Account:0x00007fdc06024c40>"}},{"id":1494060,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522343259880, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494061,"event":"return","thread_id":9160,"parent_id":1494060,"elapsed":0.00104785,"elapsed_instrumentation":8.541601710021496e-05},{"id":1494062,"event":"return","thread_id":9160,"parent_id":1494059,"elapsed":0.0018378540116827935,"elapsed_instrumentation":0.00010624498827382922},{"id":1494063,"event":"return","thread_id":9160,"parent_id":1494058,"elapsed":0.0019739319977816194,"elapsed_instrumentation":0.00016812601825222373},{"id":1494064,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494065,"event":"return","thread_id":9160,"parent_id":1494064,"elapsed":0.000813405,"elapsed_instrumentation":0.000284464011201635},{"id":1494066,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8139400,"value":"#<Account:0x00007fdc060235c0>"}},{"id":1494067,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8139400,"value":"#<Account:0x00007fdc060235c0>"}},{"id":1494068,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522343259884, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494069,"event":"return","thread_id":9160,"parent_id":1494068,"elapsed":0.001055731,"elapsed_instrumentation":0.0003991090052295476},{"id":1494070,"event":"return","thread_id":9160,"parent_id":1494067,"elapsed":0.0019344259926583618,"elapsed_instrumentation":9.604901424609125e-05},{"id":1494071,"event":"return","thread_id":9160,"parent_id":1494066,"elapsed":0.0020551350025925785,"elapsed_instrumentation":0.000149309984408319},{"id":1494072,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8139380,"value":"#<Account:0x00007fdc06024c40>"}},{"id":1494073,"event":"return","thread_id":9160,"parent_id":1494072,"elapsed":1.4557997928932309e-05,"elapsed_instrumentation":0.00011583601008169353,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494074,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8139400,"value":"#<Account:0x00007fdc060235c0>"}},{"id":1494075,"event":"return","thread_id":9160,"parent_id":1494074,"elapsed":7.105001714080572e-06,"elapsed_instrumentation":6.964700878597796e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494076,"event":"return","thread_id":9160,"parent_id":1494053,"elapsed":0.014281198004027829,"elapsed_instrumentation":0.00021127102081663907,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1494077,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494078,"event":"return","thread_id":9160,"parent_id":1494077,"elapsed":0.000540935,"elapsed_instrumentation":0.0001018670154735446},{"id":1494079,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8139440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494080,"event":"return","thread_id":9160,"parent_id":1494079,"elapsed":4.625995643436909e-06,"elapsed_instrumentation":0.00014447400462813675,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1494081,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8139440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494082,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8139460,"value":"Cache delete: relationship:111360522343259880:111360522343259884\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494083,"event":"return","thread_id":9160,"parent_id":1494082,"elapsed":0.0008653989934828132,"elapsed_instrumentation":0.00018554701819084585,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494084,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8139480,"value":"Cache delete: relationship:111360522343259884:111360522343259880\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494085,"event":"return","thread_id":9160,"parent_id":1494084,"elapsed":0.0009005689935293049,"elapsed_instrumentation":0.00014563801232725382,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494086,"event":"return","thread_id":9160,"parent_id":1494081,"elapsed":0.0026553439965937287,"elapsed_instrumentation":0.00014817799092270434,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1494087,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1494088,"event":"return","thread_id":9160,"parent_id":1494087,"elapsed":8.859991794452071e-06,"elapsed_instrumentation":0.0001129180018324405,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494089,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1494090,"event":"return","thread_id":9160,"parent_id":1494089,"elapsed":4.06499020755291e-06,"elapsed_instrumentation":6.551903788931668e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494091,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8139500,"value":"#<Account:0x00007fdbf64cd0e0>"}},{"id":1494092,"event":"return","thread_id":9160,"parent_id":1494091,"elapsed":1.7211015801876783e-05,"elapsed_instrumentation":0.0001924599928315729,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494093,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8139520,"value":"{args=>[111360522343259884, 111360522343259880], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8139540,"value":"#<Sidekiq::Client:0x00007fdc093f3210>"}},{"id":1494094,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8139560,"value":"}__,_\u001e\r__\u000f^_"}},{"id":1494095,"event":"return","thread_id":9160,"parent_id":1494094,"elapsed":4.578992957249284e-06,"elapsed_instrumentation":0.00015209399862214923,"return_value":{"class":"String","value":"7d9dfb2c9a1e0d86dd0f5e9b","object_id":8139580}},{"id":1494096,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8139600,"value":"[111360522343259884, 111360522343259880]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8139620,"value":"#<JSON::Ext::Generator::State:0x00007fdc093f0290>"}},{"id":1494097,"event":"return","thread_id":9160,"parent_id":1494096,"elapsed":5.971989594399929e-06,"elapsed_instrumentation":0.00012612700811587274,"return_value":{"class":"String","value":"[111360522343259884,111360522343259880]","object_id":8139640}},{"id":1494098,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8139660,"value":"#<JSON::Ext::Parser:0x00007fdc0941f360>"}},{"id":1494099,"event":"return","thread_id":9160,"parent_id":1494098,"elapsed":6.279005901888013e-06,"elapsed_instrumentation":8.243200136348605e-05,"return_value":{"class":"Array","value":"[111360522343259884, 111360522343259880]","object_id":8139680,"size":2}},{"id":1494100,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8139700,"value":"__ \u0004W__B_ZdJ"}},{"id":1494101,"event":"return","thread_id":9160,"parent_id":1494100,"elapsed":5.4229749366641045e-06,"elapsed_instrumentation":0.00037512899143621325,"return_value":{"class":"String","value":"d599200457f3f5428a5a644a","object_id":8139720}},{"id":1494102,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8139740,"value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259880], class=>UnmergeWorker, jid=>7d9dfb2c9a1e0d86dd0f5e9b, created_at=>1699226721.8335917, id=>d599200457f3f5428a5a644a}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8139760,"value":"#<JSON::Ext::Generator::State:0x00007fdc0941d060>"}},{"id":1494103,"event":"return","thread_id":9160,"parent_id":1494102,"elapsed":2.2781023290008307e-05,"elapsed_instrumentation":0.00022933099535293877,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522343259884,111360522343259880],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8139780}},{"id":1494104,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8139800,"value":"#<JSON::Ext::Parser:0x00007fdc09418588>"}},{"id":1494105,"event":"return","thread_id":9160,"parent_id":1494104,"elapsed":2.8284004656597972e-05,"elapsed_instrumentation":0.0005151910008862615,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259880], class=>UnmergeWorker, jid=>7d9dfb2c9a1e0d86dd0f5e9b, created_at=>1699226721.8335917, id=>d599200457f3f5428a5a644a}","object_id":8139820,"size":7}},{"id":1494106,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044686519769,"value":"111360522343259884","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044686519761,"value":"111360522343259880","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8139840,"value":"#<UnmergeWorker:0x00007fdc094135d8>"}},{"id":1494107,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8139840,"value":"#<UnmergeWorker:0x00007fdc094135d8>"}},{"id":1494108,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494109,"event":"return","thread_id":9160,"parent_id":1494108,"elapsed":0.000826645,"elapsed_instrumentation":0.00010017800377681851},{"id":1494110,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494111,"event":"return","thread_id":9160,"parent_id":1494110,"elapsed":0.000518393,"elapsed_instrumentation":0.0004746289923787117},{"id":1494112,"event":"return","thread_id":9160,"parent_id":1494107,"elapsed":0.004855677019804716,"elapsed_instrumentation":0.00017077598022297025,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06021f40>","object_id":8139860}},{"id":1494113,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8139840,"value":"#<UnmergeWorker:0x00007fdc094135d8>"}},{"id":1494114,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8139880,"value":"#<Account:0x00007fdc06022080>","kind":"req"},{"name":"into_account","class":"Account","object_id":8139860,"value":"#<Account:0x00007fdc06021f40>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494115,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044686519761,"value":"111360522343259880","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494116,"event":"return","thread_id":9160,"parent_id":1494115,"elapsed":7.213006028905511e-06,"elapsed_instrumentation":0.00011553600779734552,"return_value":{"class":"String","value":"feed:home:111360522343259880","object_id":8139900}},{"id":1494117,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494118,"event":"return","thread_id":9160,"parent_id":1494117,"elapsed":8.418981451541185e-06,"elapsed_instrumentation":0.00027498602867126465,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1494119,"event":"return","thread_id":9160,"parent_id":1494114,"elapsed":0.005311999993864447,"elapsed_instrumentation":0.00013181701069697738},{"id":1494120,"event":"return","thread_id":9160,"parent_id":1494113,"elapsed":0.0054867269936949015,"elapsed_instrumentation":0.00013241800479590893},{"id":1494121,"event":"return","thread_id":9160,"parent_id":1494106,"elapsed":0.010712129005696625,"elapsed_instrumentation":0.00012393301585689187},{"id":1494122,"event":"return","thread_id":9160,"parent_id":1494093,"elapsed":0.012757124000927433,"elapsed_instrumentation":0.00020133997895754874,"return_value":{"class":"String","value":"7d9dfb2c9a1e0d86dd0f5e9b","object_id":8139580}},{"id":1494123,"event":"return","thread_id":9160,"parent_id":1494038,"elapsed":0.044047256000339985,"elapsed_instrumentation":0.00016929401317611337,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06025780>","object_id":8139420}},{"id":1494124,"event":"return","thread_id":9160,"parent_id":1494037,"elapsed":0.04424207299598493,"elapsed_instrumentation":8.432898903265595e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06025780>","object_id":8139420}},{"id":1494125,"event":"return","thread_id":9160,"parent_id":1494036,"elapsed":0.044361544016283005,"elapsed_instrumentation":0.00015578899183310568,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06025780>","object_id":8139420}},{"id":1494126,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8139920,"value":"relationship:111360522343259881:111360522343259884","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8139940,"value":"#<UnfollowService:0x00007fdc073cff60>"}},{"id":1494127,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8139940,"value":"#<UnfollowService:0x00007fdc073cff60>"}},{"id":1494128,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8139960,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8139980,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494129,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494130,"event":"return","thread_id":9160,"parent_id":1494129,"elapsed":3.2249954529106617e-06,"elapsed_instrumentation":7.477495819330215e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1494131,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8140000,"value":"_T\u0018_e__7\u0011B1_\u001a(_D"}},{"id":1494132,"event":"return","thread_id":9160,"parent_id":1494131,"elapsed":7.218011887744069e-06,"elapsed_instrumentation":0.00023372899158857763,"return_value":{"class":"Array","value":"[2840860896, 26023, 59191, 4418, 12739, 438865732]","object_id":8140020,"size":6}},{"id":1494133,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494134,"event":"return","thread_id":9160,"parent_id":1494133,"elapsed":0.000548077,"elapsed_instrumentation":9.525398490950465e-05},{"id":1494135,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8140040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494136,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494137,"event":"return","thread_id":9160,"parent_id":1494136,"elapsed":0.000642132,"elapsed_instrumentation":9.75139846559614e-05},{"id":1494138,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494139,"event":"return","thread_id":9160,"parent_id":1494138,"elapsed":0.000411843,"elapsed_instrumentation":8.344100206159055e-05},{"id":1494140,"event":"return","thread_id":9160,"parent_id":1494135,"elapsed":0.0036650100082624704,"elapsed_instrumentation":0.0001858710020314902,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1494141,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1494142,"event":"return","thread_id":9160,"parent_id":1494141,"elapsed":0.000775726,"elapsed_instrumentation":8.132800576277077e-05},{"id":1494143,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8140040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494144,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1494145,"event":"return","thread_id":9160,"parent_id":1494144,"elapsed":0.000676929,"elapsed_instrumentation":8.365098619833589e-05},{"id":1494146,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494147,"event":"return","thread_id":9160,"parent_id":1494146,"elapsed":0.000814836,"elapsed_instrumentation":9.794899960979819e-05},{"id":1494148,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8140060,"value":"#<Account:0x00007fdc06021040>"}},{"id":1494149,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8140060,"value":"#<Account:0x00007fdc06021040>"}},{"id":1494150,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522343259881, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494151,"event":"return","thread_id":9160,"parent_id":1494150,"elapsed":0.001299751,"elapsed_instrumentation":0.0001410739787388593},{"id":1494152,"event":"return","thread_id":9160,"parent_id":1494149,"elapsed":0.0021459549898281693,"elapsed_instrumentation":0.00043993600411340594},{"id":1494153,"event":"return","thread_id":9160,"parent_id":1494148,"elapsed":0.002627417998155579,"elapsed_instrumentation":0.00020876602502539754},{"id":1494154,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494155,"event":"return","thread_id":9160,"parent_id":1494154,"elapsed":0.001138759,"elapsed_instrumentation":0.00013656399096362293},{"id":1494156,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8140080,"value":"#<Account:0x00007fdc06020140>"}},{"id":1494157,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8140080,"value":"#<Account:0x00007fdc06020140>"}},{"id":1494158,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522343259884, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494159,"event":"return","thread_id":9160,"parent_id":1494158,"elapsed":0.001220434,"elapsed_instrumentation":0.0002865009882953018},{"id":1494160,"event":"return","thread_id":9160,"parent_id":1494157,"elapsed":0.0020668509823735803,"elapsed_instrumentation":0.00011435500346124172},{"id":1494161,"event":"return","thread_id":9160,"parent_id":1494156,"elapsed":0.002210459002526477,"elapsed_instrumentation":0.00017468302394263446},{"id":1494162,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8140060,"value":"#<Account:0x00007fdc06021040>"}},{"id":1494163,"event":"return","thread_id":9160,"parent_id":1494162,"elapsed":1.5775993233546615e-05,"elapsed_instrumentation":0.00011945900041610003,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494164,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8140080,"value":"#<Account:0x00007fdc06020140>"}},{"id":1494165,"event":"return","thread_id":9160,"parent_id":1494164,"elapsed":9.534007403999567e-06,"elapsed_instrumentation":9.466501069255173e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494166,"event":"return","thread_id":9160,"parent_id":1494143,"elapsed":0.015658257994800806,"elapsed_instrumentation":0.0002489169710315764,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1494167,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494168,"event":"return","thread_id":9160,"parent_id":1494167,"elapsed":0.000907538,"elapsed_instrumentation":0.00012638000771403313},{"id":1494169,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8140120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494170,"event":"return","thread_id":9160,"parent_id":1494169,"elapsed":4.748988430947065e-06,"elapsed_instrumentation":0.00019685699953697622,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1494171,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8140120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494172,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8140140,"value":"Cache delete: relationship:111360522343259881:111360522343259884\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494173,"event":"return","thread_id":9160,"parent_id":1494172,"elapsed":0.0008099430124275386,"elapsed_instrumentation":0.00014488300075754523,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494174,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8140160,"value":"Cache delete: relationship:111360522343259884:111360522343259881\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494175,"event":"return","thread_id":9160,"parent_id":1494174,"elapsed":0.0008459630189463496,"elapsed_instrumentation":0.00018983602058142424,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494176,"event":"return","thread_id":9160,"parent_id":1494171,"elapsed":0.0023392889997921884,"elapsed_instrumentation":0.000346267013810575,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1494177,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1494178,"event":"return","thread_id":9160,"parent_id":1494177,"elapsed":1.0270974598824978e-05,"elapsed_instrumentation":9.699899237602949e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494179,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1494180,"event":"return","thread_id":9160,"parent_id":1494179,"elapsed":6.403017323464155e-06,"elapsed_instrumentation":7.908701081760228e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494181,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8140180,"value":"#<Account:0x00007fdbf64ccfa0>"}},{"id":1494182,"event":"return","thread_id":9160,"parent_id":1494181,"elapsed":1.5511002857238054e-05,"elapsed_instrumentation":0.0003107879892922938,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494183,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8140200,"value":"{args=>[111360522343259884, 111360522343259881], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8140220,"value":"#<Sidekiq::Client:0x00007fdc093475f0>"}},{"id":1494184,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8140240,"value":"___M__}S__\\\u0001"}},{"id":1494185,"event":"return","thread_id":9160,"parent_id":1494184,"elapsed":4.664005246013403e-06,"elapsed_instrumentation":0.00011632899986580014,"return_value":{"class":"String","value":"9f8aeb4db9c47d53b7a95c01","object_id":8140260}},{"id":1494186,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8140280,"value":"[111360522343259884, 111360522343259881]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8140300,"value":"#<JSON::Ext::Generator::State:0x00007fdc09342c30>"}},{"id":1494187,"event":"return","thread_id":9160,"parent_id":1494186,"elapsed":6.42400118522346e-06,"elapsed_instrumentation":0.00011235600686632097,"return_value":{"class":"String","value":"[111360522343259884,111360522343259881]","object_id":8140320}},{"id":1494188,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8140340,"value":"#<JSON::Ext::Parser:0x00007fdc093409a8>"}},{"id":1494189,"event":"return","thread_id":9160,"parent_id":1494188,"elapsed":5.476002115756273e-06,"elapsed_instrumentation":8.08810000307858e-05,"return_value":{"class":"Array","value":"[111360522343259884, 111360522343259881]","object_id":8140360,"size":2}},{"id":1494190,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8140380,"value":"Y4B\u0013____'_ _"}},{"id":1494191,"event":"return","thread_id":9160,"parent_id":1494190,"elapsed":4.269008059054613e-06,"elapsed_instrumentation":0.00014696101425215602,"return_value":{"class":"String","value":"59344213c597cad227cf2093","object_id":8140400}},{"id":1494192,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8140420,"value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259881], class=>UnmergeWorker, jid=>9f8aeb4db9c47d53b7a95c01, created_at=>1699226721.8776999, id=>59344213c597cad227cf2093}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8140440,"value":"#<JSON::Ext::Generator::State:0x00007fdc0936def8>"}},{"id":1494193,"event":"return","thread_id":9160,"parent_id":1494192,"elapsed":1.8888007616624236e-05,"elapsed_instrumentation":0.00021359097445383668,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522343259884,111360522343259881],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8140460}},{"id":1494194,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8140480,"value":"#<JSON::Ext::Parser:0x00007fdc0936b130>"}},{"id":1494195,"event":"return","thread_id":9160,"parent_id":1494194,"elapsed":2.2494990844279528e-05,"elapsed_instrumentation":0.0001683020091149956,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259881], class=>UnmergeWorker, jid=>9f8aeb4db9c47d53b7a95c01, created_at=>1699226721.8776999, id=>59344213c597cad227cf2093}","object_id":8140500,"size":7}},{"id":1494196,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044686519769,"value":"111360522343259884","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044686519763,"value":"111360522343259881","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8140520,"value":"#<UnmergeWorker:0x00007fdc09368e58>"}},{"id":1494197,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8140520,"value":"#<UnmergeWorker:0x00007fdc09368e58>"}},{"id":1494198,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494199,"event":"return","thread_id":9160,"parent_id":1494198,"elapsed":0.001309648,"elapsed_instrumentation":0.0001765750057529658},{"id":1494200,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494201,"event":"return","thread_id":9160,"parent_id":1494200,"elapsed":0.000708043,"elapsed_instrumentation":8.857800276018679e-05},{"id":1494202,"event":"return","thread_id":9160,"parent_id":1494197,"elapsed":0.0053123399848118424,"elapsed_instrumentation":0.00042017700616270304,"return_value":{"class":"Account","value":"#<Account:0x00007fdc060ce380>","object_id":8140540}},{"id":1494203,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8140520,"value":"#<UnmergeWorker:0x00007fdc09368e58>"}},{"id":1494204,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8140560,"value":"#<Account:0x00007fdc060ce4c0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8140540,"value":"#<Account:0x00007fdc060ce380>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494205,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044686519763,"value":"111360522343259881","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494206,"event":"return","thread_id":9160,"parent_id":1494205,"elapsed":5.4140109568834305e-06,"elapsed_instrumentation":0.0001251629728358239,"return_value":{"class":"String","value":"feed:home:111360522343259881","object_id":8140580}},{"id":1494207,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494208,"event":"return","thread_id":9160,"parent_id":1494207,"elapsed":5.3019903134554625e-06,"elapsed_instrumentation":8.236599387601018e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1494209,"event":"return","thread_id":9160,"parent_id":1494204,"elapsed":0.00406311999540776,"elapsed_instrumentation":0.00023661201703362167},{"id":1494210,"event":"return","thread_id":9160,"parent_id":1494203,"elapsed":0.00435672199819237,"elapsed_instrumentation":0.00023233599495142698},{"id":1494211,"event":"return","thread_id":9160,"parent_id":1494196,"elapsed":0.010383196990005672,"elapsed_instrumentation":0.00020757500897161663},{"id":1494212,"event":"return","thread_id":9160,"parent_id":1494183,"elapsed":0.012061813002219424,"elapsed_instrumentation":0.00018725197878666222,"return_value":{"class":"String","value":"9f8aeb4db9c47d53b7a95c01","object_id":8140260}},{"id":1494213,"event":"return","thread_id":9160,"parent_id":1494128,"elapsed":0.04292378498939797,"elapsed_instrumentation":0.000191013008588925,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06021cc0>","object_id":8140100}},{"id":1494214,"event":"return","thread_id":9160,"parent_id":1494127,"elapsed":0.04314267300651409,"elapsed_instrumentation":0.00010588899021968246,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06021cc0>","object_id":8140100}},{"id":1494215,"event":"return","thread_id":9160,"parent_id":1494126,"elapsed":0.04329117000452243,"elapsed_instrumentation":0.0003332439810037613,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06021cc0>","object_id":8140100}},{"id":1494216,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8140600,"value":"relationship:111360522343259882:111360522343259884","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8140620,"value":"#<UnfollowService:0x00007fdc073c8170>"}},{"id":1494217,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8140620,"value":"#<UnfollowService:0x00007fdc073c8170>"}},{"id":1494218,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8140640,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8140660,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494219,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494220,"event":"return","thread_id":9160,"parent_id":1494219,"elapsed":3.3030228223651648e-06,"elapsed_instrumentation":0.0001072229933924973,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1494221,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8140680,"value":"____A_m____\u001f_A__"}},{"id":1494222,"event":"return","thread_id":9160,"parent_id":1494221,"elapsed":9.186012903228402e-06,"elapsed_instrumentation":0.0004971800080966204,"return_value":{"class":"Array","value":"[2263858888, 16792, 28057, 57772, 33823, 3695282308]","object_id":8140700,"size":6}},{"id":1494223,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494224,"event":"return","thread_id":9160,"parent_id":1494223,"elapsed":0.001036733,"elapsed_instrumentation":0.00023154501104727387},{"id":1494225,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8140720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494226,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494227,"event":"return","thread_id":9160,"parent_id":1494226,"elapsed":0.000665973,"elapsed_instrumentation":0.00026940100360661745},{"id":1494228,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494229,"event":"return","thread_id":9160,"parent_id":1494228,"elapsed":0.000587463,"elapsed_instrumentation":0.00039084398304112256},{"id":1494230,"event":"return","thread_id":9160,"parent_id":1494225,"elapsed":0.003848005988402292,"elapsed_instrumentation":0.0002364040119573474,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1494231,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1494232,"event":"return","thread_id":9160,"parent_id":1494231,"elapsed":0.001145042,"elapsed_instrumentation":8.7135995272547e-05},{"id":1494233,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8140720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494234,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1494235,"event":"return","thread_id":9160,"parent_id":1494234,"elapsed":0.001377564,"elapsed_instrumentation":9.14919946808368e-05},{"id":1494236,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494237,"event":"return","thread_id":9160,"parent_id":1494236,"elapsed":0.000837631,"elapsed_instrumentation":8.400599472224712e-05},{"id":1494238,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8140740,"value":"#<Account:0x00007fdc060ccd00>"}},{"id":1494239,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8140740,"value":"#<Account:0x00007fdc060ccd00>"}},{"id":1494240,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522343259882, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494241,"event":"return","thread_id":9160,"parent_id":1494240,"elapsed":0.00120717,"elapsed_instrumentation":9.53779963310808e-05},{"id":1494242,"event":"return","thread_id":9160,"parent_id":1494239,"elapsed":0.0025672250194475055,"elapsed_instrumentation":0.00010573299368843436},{"id":1494243,"event":"return","thread_id":9160,"parent_id":1494238,"elapsed":0.0027032170037273318,"elapsed_instrumentation":0.0001595130015630275},{"id":1494244,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494245,"event":"return","thread_id":9160,"parent_id":1494244,"elapsed":0.00060481,"elapsed_instrumentation":0.0003716879873536527},{"id":1494246,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8140760,"value":"#<Account:0x00007fdc060cbb80>"}},{"id":1494247,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8140760,"value":"#<Account:0x00007fdc060cbb80>"}},{"id":1494248,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522343259884, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494249,"event":"return","thread_id":9160,"parent_id":1494248,"elapsed":0.001140094,"elapsed_instrumentation":9.250800940208137e-05},{"id":1494250,"event":"return","thread_id":9160,"parent_id":1494247,"elapsed":0.001714548998279497,"elapsed_instrumentation":9.789102477952838e-05},{"id":1494251,"event":"return","thread_id":9160,"parent_id":1494246,"elapsed":0.0018395080114714801,"elapsed_instrumentation":0.00014656400890089571},{"id":1494252,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8140740,"value":"#<Account:0x00007fdc060ccd00>"}},{"id":1494253,"event":"return","thread_id":9160,"parent_id":1494252,"elapsed":1.4878984075039625e-05,"elapsed_instrumentation":0.00019634200725704432,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494254,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8140760,"value":"#<Account:0x00007fdc060cbb80>"}},{"id":1494255,"event":"return","thread_id":9160,"parent_id":1494254,"elapsed":1.1223979527130723e-05,"elapsed_instrumentation":0.00011309402179904282,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494256,"event":"return","thread_id":9160,"parent_id":1494233,"elapsed":0.014604755997424945,"elapsed_instrumentation":0.00043249697773717344,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1494257,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494258,"event":"return","thread_id":9160,"parent_id":1494257,"elapsed":0.000467061,"elapsed_instrumentation":8.683800115250051e-05},{"id":1494259,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8140800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494260,"event":"return","thread_id":9160,"parent_id":1494259,"elapsed":4.872999852523208e-06,"elapsed_instrumentation":0.00041312299435958266,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1494261,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8140800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494262,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8140820,"value":"Cache delete: relationship:111360522343259882:111360522343259884\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494263,"event":"return","thread_id":9160,"parent_id":1494262,"elapsed":0.00124463698011823,"elapsed_instrumentation":0.00016295199748128653,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494264,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8140840,"value":"Cache delete: relationship:111360522343259884:111360522343259882\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494265,"event":"return","thread_id":9160,"parent_id":1494264,"elapsed":0.0011450409947428852,"elapsed_instrumentation":0.0001528410066384822,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494266,"event":"return","thread_id":9160,"parent_id":1494261,"elapsed":0.0034181310038547963,"elapsed_instrumentation":0.00014675100101158023,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1494267,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1494268,"event":"return","thread_id":9160,"parent_id":1494267,"elapsed":8.241011528298259e-06,"elapsed_instrumentation":0.00025178398936986923,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494269,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1494270,"event":"return","thread_id":9160,"parent_id":1494269,"elapsed":6.979011232033372e-06,"elapsed_instrumentation":9.574400610290468e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494271,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8140860,"value":"#<Account:0x00007fdbf64cce60>"}},{"id":1494272,"event":"return","thread_id":9160,"parent_id":1494271,"elapsed":1.0877993190661073e-05,"elapsed_instrumentation":6.681802915409207e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494273,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8140880,"value":"{args=>[111360522343259884, 111360522343259882], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8140900,"value":"#<Sidekiq::Client:0x00007fdc09250818>"}},{"id":1494274,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8140920,"value":"?___U__C_N__"}},{"id":1494275,"event":"return","thread_id":9160,"parent_id":1494274,"elapsed":4.514993634074926e-06,"elapsed_instrumentation":0.00011439001536928117,"return_value":{"class":"String","value":"3fca5faa55b182438a4ee880","object_id":8140940}},{"id":1494276,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8140960,"value":"[111360522343259884, 111360522343259882]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8140980,"value":"#<JSON::Ext::Generator::State:0x00007fdc0927cf30>"}},{"id":1494277,"event":"return","thread_id":9160,"parent_id":1494276,"elapsed":6.640009814873338e-06,"elapsed_instrumentation":0.00011719000758603215,"return_value":{"class":"String","value":"[111360522343259884,111360522343259882]","object_id":8141000}},{"id":1494278,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8141020,"value":"#<JSON::Ext::Parser:0x00007fdc0927b5b8>"}},{"id":1494279,"event":"return","thread_id":9160,"parent_id":1494278,"elapsed":8.77401907928288e-06,"elapsed_instrumentation":0.00028851599199697375,"return_value":{"class":"Array","value":"[111360522343259884, 111360522343259882]","object_id":8141040,"size":2}},{"id":1494280,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8141060,"value":"_/_c__W!__=_"}},{"id":1494281,"event":"return","thread_id":9160,"parent_id":1494280,"elapsed":3.8330035749822855e-06,"elapsed_instrumentation":0.00013892899733036757,"return_value":{"class":"String","value":"912fa063a4e65721cfc53da3","object_id":8141080}},{"id":1494282,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8141100,"value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259882], class=>UnmergeWorker, jid=>3fca5faa55b182438a4ee880, created_at=>1699226721.9227786, id=>912fa063a4e65721cfc53da3}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8141120,"value":"#<JSON::Ext::Generator::State:0x00007fdc09277760>"}},{"id":1494283,"event":"return","thread_id":9160,"parent_id":1494282,"elapsed":1.347699435427785e-05,"elapsed_instrumentation":0.00020160098210908473,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522343259884,111360522343259882],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8141140}},{"id":1494284,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8141160,"value":"#<JSON::Ext::Parser:0x00007fdc092739f8>"}},{"id":1494285,"event":"return","thread_id":9160,"parent_id":1494284,"elapsed":2.1283020032569766e-05,"elapsed_instrumentation":0.0007953229651320726,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259882], class=>UnmergeWorker, jid=>3fca5faa55b182438a4ee880, created_at=>1699226721.9227786, id=>912fa063a4e65721cfc53da3}","object_id":8141180,"size":7}},{"id":1494286,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044686519769,"value":"111360522343259884","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044686519765,"value":"111360522343259882","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8141200,"value":"#<UnmergeWorker:0x00007fdc091dfe10>"}},{"id":1494287,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8141200,"value":"#<UnmergeWorker:0x00007fdc091dfe10>"}},{"id":1494288,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494289,"event":"return","thread_id":9160,"parent_id":1494288,"elapsed":0.000922002,"elapsed_instrumentation":0.0001024650118779391},{"id":1494290,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494291,"event":"return","thread_id":9160,"parent_id":1494290,"elapsed":0.001027345,"elapsed_instrumentation":0.00029852500301785767},{"id":1494292,"event":"return","thread_id":9160,"parent_id":1494287,"elapsed":0.005369490012526512,"elapsed_instrumentation":0.00016203400446102023,"return_value":{"class":"Account","value":"#<Account:0x00007fdc060ca640>","object_id":8141220}},{"id":1494293,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8141200,"value":"#<UnmergeWorker:0x00007fdc091dfe10>"}},{"id":1494294,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8141240,"value":"#<Account:0x00007fdc060ca780>","kind":"req"},{"name":"into_account","class":"Account","object_id":8141220,"value":"#<Account:0x00007fdc060ca640>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494295,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044686519765,"value":"111360522343259882","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494296,"event":"return","thread_id":9160,"parent_id":1494295,"elapsed":5.563982995226979e-06,"elapsed_instrumentation":0.00013473400031216443,"return_value":{"class":"String","value":"feed:home:111360522343259882","object_id":8141260}},{"id":1494297,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494298,"event":"return","thread_id":9160,"parent_id":1494297,"elapsed":7.985974662005901e-06,"elapsed_instrumentation":0.00021564902272075415,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1494299,"event":"return","thread_id":9160,"parent_id":1494294,"elapsed":0.004043296008603647,"elapsed_instrumentation":0.00017691499670036137},{"id":1494300,"event":"return","thread_id":9160,"parent_id":1494293,"elapsed":0.004270550009096041,"elapsed_instrumentation":0.0001261750003322959},{"id":1494301,"event":"return","thread_id":9160,"parent_id":1494286,"elapsed":0.009999641013564542,"elapsed_instrumentation":0.00016552399029023945},{"id":1494302,"event":"return","thread_id":9160,"parent_id":1494273,"elapsed":0.01225657798931934,"elapsed_instrumentation":0.00017587601905688643,"return_value":{"class":"String","value":"3fca5faa55b182438a4ee880","object_id":8140940}},{"id":1494303,"event":"return","thread_id":9160,"parent_id":1494218,"elapsed":0.04397253799834289,"elapsed_instrumentation":0.000247062009293586,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc060cdfc0>","object_id":8140780}},{"id":1494304,"event":"return","thread_id":9160,"parent_id":1494217,"elapsed":0.044260434980969876,"elapsed_instrumentation":0.0005010509921703488,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc060cdfc0>","object_id":8140780}},{"id":1494305,"event":"return","thread_id":9160,"parent_id":1494216,"elapsed":0.04481198400026187,"elapsed_instrumentation":0.00023693300317972898,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc060cdfc0>","object_id":8140780}},{"id":1494306,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8141280,"value":"relationship:111360522343259883:111360522343259884","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8141300,"value":"#<UnfollowService:0x00007fdc073c0240>"}},{"id":1494307,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8141300,"value":"#<UnfollowService:0x00007fdc073c0240>"}},{"id":1494308,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8141320,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8141340,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494309,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494310,"event":"return","thread_id":9160,"parent_id":1494309,"elapsed":3.2400130294263363e-06,"elapsed_instrumentation":8.414598414674401e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1494311,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8141360,"value":"_i___a>w_LL3:'__"}},{"id":1494312,"event":"return","thread_id":9160,"parent_id":1494311,"elapsed":6.738991942256689e-06,"elapsed_instrumentation":0.0001462030049879104,"return_value":{"class":"Array","value":"[3932784103, 38753, 15991, 63308, 19507, 975677074]","object_id":8141380,"size":6}},{"id":1494313,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494314,"event":"return","thread_id":9160,"parent_id":1494313,"elapsed":0.000738058,"elapsed_instrumentation":0.00010640302207320929},{"id":1494315,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8141400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494316,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494317,"event":"return","thread_id":9160,"parent_id":1494316,"elapsed":0.000775246,"elapsed_instrumentation":0.00012467699707485735},{"id":1494318,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494319,"event":"return","thread_id":9160,"parent_id":1494318,"elapsed":0.000534805,"elapsed_instrumentation":7.212301716208458e-05},{"id":1494320,"event":"return","thread_id":9160,"parent_id":1494315,"elapsed":0.003948869998566806,"elapsed_instrumentation":0.00021374499192461371,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1494321,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1494322,"event":"return","thread_id":9160,"parent_id":1494321,"elapsed":0.000905873,"elapsed_instrumentation":7.547499262727797e-05},{"id":1494323,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8141400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494324,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1494325,"event":"return","thread_id":9160,"parent_id":1494324,"elapsed":0.000829281,"elapsed_instrumentation":8.190199150703847e-05},{"id":1494326,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494327,"event":"return","thread_id":9160,"parent_id":1494326,"elapsed":0.000747345,"elapsed_instrumentation":7.762198220007122e-05},{"id":1494328,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8141420,"value":"#<Account:0x00007fdc060c99c0>"}},{"id":1494329,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8141420,"value":"#<Account:0x00007fdc060c99c0>"}},{"id":1494330,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522343259883, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494331,"event":"return","thread_id":9160,"parent_id":1494330,"elapsed":0.001525685,"elapsed_instrumentation":8.178898133337498e-05},{"id":1494332,"event":"return","thread_id":9160,"parent_id":1494329,"elapsed":0.0020806970132980496,"elapsed_instrumentation":9.90299740806222e-05},{"id":1494333,"event":"return","thread_id":9160,"parent_id":1494328,"elapsed":0.0022074420121498406,"elapsed_instrumentation":0.00014485701103694737},{"id":1494334,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494335,"event":"return","thread_id":9160,"parent_id":1494334,"elapsed":0.000832721,"elapsed_instrumentation":8.126001921482384e-05},{"id":1494336,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8141440,"value":"#<Account:0x00007fdc060c8340>"}},{"id":1494337,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8141440,"value":"#<Account:0x00007fdc060c8340>"}},{"id":1494338,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522343259884, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494339,"event":"return","thread_id":9160,"parent_id":1494338,"elapsed":0.001460995,"elapsed_instrumentation":0.00011938399984501302},{"id":1494340,"event":"return","thread_id":9160,"parent_id":1494337,"elapsed":0.0024039510171860456,"elapsed_instrumentation":9.966001380234957e-05},{"id":1494341,"event":"return","thread_id":9160,"parent_id":1494336,"elapsed":0.002530353027395904,"elapsed_instrumentation":0.00013637097436003387},{"id":1494342,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8141420,"value":"#<Account:0x00007fdc060c99c0>"}},{"id":1494343,"event":"return","thread_id":9160,"parent_id":1494342,"elapsed":1.493000308983028e-05,"elapsed_instrumentation":0.0001199380203615874,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494344,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8141440,"value":"#<Account:0x00007fdc060c8340>"}},{"id":1494345,"event":"return","thread_id":9160,"parent_id":1494344,"elapsed":2.0736013539135456e-05,"elapsed_instrumentation":9.427798795513809e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494346,"event":"return","thread_id":9160,"parent_id":1494323,"elapsed":0.01419209101004526,"elapsed_instrumentation":0.00020177499391138554,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1494347,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494348,"event":"return","thread_id":9160,"parent_id":1494347,"elapsed":0.00052611,"elapsed_instrumentation":7.88360193837434e-05},{"id":1494349,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8141480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494350,"event":"return","thread_id":9160,"parent_id":1494349,"elapsed":4.0320155676454306e-06,"elapsed_instrumentation":0.0003796179953496903,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1494351,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8141480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494352,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8141500,"value":"Cache delete: relationship:111360522343259883:111360522343259884\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494353,"event":"return","thread_id":9160,"parent_id":1494352,"elapsed":0.0010923700174316764,"elapsed_instrumentation":0.00013211098848842084,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494354,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8141520,"value":"Cache delete: relationship:111360522343259884:111360522343259883\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494355,"event":"return","thread_id":9160,"parent_id":1494354,"elapsed":0.0009954650013241917,"elapsed_instrumentation":0.0001466789690311998,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494356,"event":"return","thread_id":9160,"parent_id":1494351,"elapsed":0.002878957020584494,"elapsed_instrumentation":0.0001412909768987447,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1494357,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1494358,"event":"return","thread_id":9160,"parent_id":1494357,"elapsed":7.747003110125661e-06,"elapsed_instrumentation":9.643699740990996e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494359,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8135120,"value":"#<Account:0x00007fdbf64ce3a0>"}},{"id":1494360,"event":"return","thread_id":9160,"parent_id":1494359,"elapsed":4.025001544505358e-06,"elapsed_instrumentation":6.408398621715605e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494361,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8141540,"value":"#<Account:0x00007fdbf64ccd20>"}},{"id":1494362,"event":"return","thread_id":9160,"parent_id":1494361,"elapsed":9.971001418307424e-06,"elapsed_instrumentation":6.268997094593942e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494363,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8141560,"value":"{args=>[111360522343259884, 111360522343259883], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8141580,"value":"#<Sidekiq::Client:0x00007fdc091819f0>"}},{"id":1494364,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8141600,"value":"_\n_P__(|____"}},{"id":1494365,"event":"return","thread_id":9160,"parent_id":1494364,"elapsed":6.3689949456602335e-06,"elapsed_instrumentation":0.0003859779972117394,"return_value":{"class":"String","value":"eb0ae550f690287ce5a7d9a9","object_id":8141620}},{"id":1494366,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8141640,"value":"[111360522343259884, 111360522343259883]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8141660,"value":"#<JSON::Ext::Generator::State:0x00007fdc091ade88>"}},{"id":1494367,"event":"return","thread_id":9160,"parent_id":1494366,"elapsed":6.743008270859718e-06,"elapsed_instrumentation":0.00013769499491900206,"return_value":{"class":"String","value":"[111360522343259884,111360522343259883]","object_id":8141680}},{"id":1494368,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8141700,"value":"#<JSON::Ext::Parser:0x00007fdc091acfd8>"}},{"id":1494369,"event":"return","thread_id":9160,"parent_id":1494368,"elapsed":5.812995368614793e-06,"elapsed_instrumentation":8.733998402021825e-05,"return_value":{"class":"Array","value":"[111360522343259884, 111360522343259883]","object_id":8141720,"size":2}},{"id":1494370,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8141740,"value":"n_`i,<S\b_\r__"}},{"id":1494371,"event":"return","thread_id":9160,"parent_id":1494370,"elapsed":4.01597935706377e-06,"elapsed_instrumentation":0.00012271603918634355,"return_value":{"class":"String","value":"6eff60692c3c5308ef0dba80","object_id":8141760}},{"id":1494372,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8141780,"value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259883], class=>UnmergeWorker, jid=>eb0ae550f690287ce5a7d9a9, created_at=>1699226721.9652946, id=>6eff60692c3c5308ef0dba80}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8141800,"value":"#<JSON::Ext::Generator::State:0x00007fdc091aaf80>"}},{"id":1494373,"event":"return","thread_id":9160,"parent_id":1494372,"elapsed":1.7076003132387996e-05,"elapsed_instrumentation":0.0004756760026793927,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522343259884,111360522343259883],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8141820}},{"id":1494374,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8141840,"value":"#<JSON::Ext::Parser:0x00007fdc091a8960>"}},{"id":1494375,"event":"return","thread_id":9160,"parent_id":1494374,"elapsed":2.0589999621734023e-05,"elapsed_instrumentation":0.00018156899022869766,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522343259884, 111360522343259883], class=>UnmergeWorker, jid=>eb0ae550f690287ce5a7d9a9, created_at=>1699226721.9652946, id=>6eff60692c3c5308ef0dba80}","object_id":8141860,"size":7}},{"id":1494376,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044686519769,"value":"111360522343259884","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044686519767,"value":"111360522343259883","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8141880,"value":"#<UnmergeWorker:0x00007fdc091a52d8>"}},{"id":1494377,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8141880,"value":"#<UnmergeWorker:0x00007fdc091a52d8>"}},{"id":1494378,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494379,"event":"return","thread_id":9160,"parent_id":1494378,"elapsed":0.000851777,"elapsed_instrumentation":8.752100984565914e-05},{"id":1494380,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494381,"event":"return","thread_id":9160,"parent_id":1494380,"elapsed":0.000760077,"elapsed_instrumentation":8.460099343210459e-05},{"id":1494382,"event":"return","thread_id":9160,"parent_id":1494377,"elapsed":0.004987066989997402,"elapsed_instrumentation":0.0001224679872393608,"return_value":{"class":"Account","value":"#<Account:0x00007fdc060c6400>","object_id":8141900}},{"id":1494383,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8141880,"value":"#<UnmergeWorker:0x00007fdc091a52d8>"}},{"id":1494384,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8141920,"value":"#<Account:0x00007fdc060c6540>","kind":"req"},{"name":"into_account","class":"Account","object_id":8141900,"value":"#<Account:0x00007fdc060c6400>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494385,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044686519767,"value":"111360522343259883","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494386,"event":"return","thread_id":9160,"parent_id":1494385,"elapsed":5.259993486106396e-06,"elapsed_instrumentation":0.00013992202002555132,"return_value":{"class":"String","value":"feed:home:111360522343259883","object_id":8141940}},{"id":1494387,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494388,"event":"return","thread_id":9160,"parent_id":1494387,"elapsed":7.686991011723876e-06,"elapsed_instrumentation":0.00012066998169757426,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1494389,"event":"return","thread_id":9160,"parent_id":1494384,"elapsed":0.004033099015941843,"elapsed_instrumentation":0.00031280500115826726},{"id":1494390,"event":"return","thread_id":9160,"parent_id":1494383,"elapsed":0.0043837449920829386,"elapsed_instrumentation":9.140704059973359e-05},{"id":1494391,"event":"return","thread_id":9160,"parent_id":1494376,"elapsed":0.009631649998482317,"elapsed_instrumentation":8.522800635546446e-05},{"id":1494392,"event":"return","thread_id":9160,"parent_id":1494363,"elapsed":0.011528733011800796,"elapsed_instrumentation":0.00017042300896719098,"return_value":{"class":"String","value":"eb0ae550f690287ce5a7d9a9","object_id":8141620}},{"id":1494393,"event":"return","thread_id":9160,"parent_id":1494308,"elapsed":0.04097989300498739,"elapsed_instrumentation":0.0002451340260449797,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc060ca280>","object_id":8141460}},{"id":1494394,"event":"return","thread_id":9160,"parent_id":1494307,"elapsed":0.04125892199226655,"elapsed_instrumentation":0.00019691599300131202,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc060ca280>","object_id":8141460}},{"id":1494395,"event":"return","thread_id":9160,"parent_id":1494306,"elapsed":0.04149393201805651,"elapsed_instrumentation":0.00013850396499037743,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc060ca280>","object_id":8141460}},{"id":1494396,"event":"return","thread_id":9160,"parent_id":1493485,"elapsed":0.4231581680069212,"elapsed_instrumentation":0.0002099639968946576,"return_value":{"class":"StringIO","value":"#<StringIO:0x00007fdc098fdf08>","object_id":8141960}}]}