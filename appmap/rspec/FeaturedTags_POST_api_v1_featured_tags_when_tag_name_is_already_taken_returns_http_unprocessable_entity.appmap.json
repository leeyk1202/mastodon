{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"FeaturedTags POST /api/v1/featured_tags when tag name is already taken returns http unprocessable entity","source_location":"spec/requests/api/v1/featured_tags_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]},{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]}]},{"name":"app","type":"package","children":[{"name":"lib","type":"package","children":[{"name":"AccessTokenExtension","type":"class","children":[{"name":"push_to_streaming_api","type":"function","location":"app/lib/access_token_extension.rb:20","static":false},{"name":"update_last_used","type":"function","location":"app/lib/access_token_extension.rb:16","static":false}]},{"name":"HashtagNormalizer","type":"class","children":[{"name":"normalize","type":"function","location":"app/lib/hashtag_normalizer.rb:4","static":false}]},{"name":"ASCIIFolding","type":"class","children":[{"name":"fold","type":"function","location":"app/lib/ascii_folding.rb:7","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true},{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true}]}]},{"name":"controllers","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"Localized","type":"class","children":[{"name":"set_locale","type":"function","location":"app/controllers/concerns/localized.rb:10","static":false}]}]},{"name":"api","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"BaseController","type":"class","children":[{"name":"current_user","type":"function","location":"app/controllers/api/base_controller.rb:116","static":false},{"name":"current_resource_owner","type":"function","location":"app/controllers/api/base_controller.rb:112","static":false},{"name":"disallow_unauthenticated_api_access?","type":"function","location":"app/controllers/api/base_controller.rb:152","static":false},{"name":"require_not_suspended!","type":"function","location":"app/controllers/api/base_controller.rb:126","static":false},{"name":"require_user!","type":"function","location":"app/controllers/api/base_controller.rb:130","static":false}]}]},{"name":"v1","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"V1","type":"class","children":[{"name":"FeaturedTagsController","type":"class","children":[{"name":"create","type":"function","location":"app/controllers/api/v1/featured_tags_controller.rb:15","static":false}]}]}]}]}]},{"name":"ApplicationController","type":"class","children":[{"name":"current_session","type":"function","location":"app/controllers/application_controller.rb:153","static":false},{"name":"check_self_destruct!","type":"function","location":"app/controllers/application_controller.rb:176","static":false},{"name":"set_cache_control_defaults","type":"function","location":"app/controllers/application_controller.rb:185","static":false},{"name":"current_account","type":"function","location":"app/controllers/application_controller.rb:147","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"SelfDestructHelper","type":"class","children":[{"name":"self_destruct?","type":"function","location":"app/helpers/self_destruct_helper.rb:11","static":false}]},{"name":"DomainControlHelper","type":"class","children":[{"name":"limited_federation_mode?","type":"function","location":"app/helpers/domain_control_helper.rb:20","static":false}]}]},{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false},{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"User","type":"class","children":[{"name":"confirmed?","type":"function","location":"app/models/user.rb:161","static":false},{"name":"functional?","type":"function","location":"app/models/user.rb:248","static":false},{"name":"functional_or_moved?","type":"function","location":"app/models/user.rb:252","static":false}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]},{"name":"ActionController","type":"class","children":[{"name":"Renderers","type":"class","children":[{"name":"render_to_body","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb:140","static":false,"labels":["mvc.render"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]}]}]}]},{"name":"lib/chewy/strategy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"Strategy","type":"class","children":[{"name":"Mastodon","type":"class","children":[{"name":"leave","type":"function","location":"lib/chewy/strategy/mastodon.rb:16","static":false}]}]}]}]}],"events":[{"id":1864340,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10067940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a07228>"}},{"id":1864341,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":337880,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":10067960,"value":"[\bD_I^_=\"f_GQ_\bW____v\u001b\u0002o,y\u0004_:]7_\r]"}},{"id":1864342,"event":"return","thread_id":9160,"parent_id":1864341,"elapsed":2.8534996090456843e-05,"elapsed_instrumentation":0.0004032570286653936,"return_value":{"class":"String","value":"CETGSV7JPSJmkUdRsghXlYeigHYbAm8seQSgOl03jA0=","object_id":10067980}},{"id":1864343,"event":"return","thread_id":9160,"parent_id":1864340,"elapsed":0.0009839219856075943,"elapsed_instrumentation":0.00047372200060635805,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099e4b60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099e4ca0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099e4e58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345700,"size":3}},{"id":1864344,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05e78>"}},{"id":1864345,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1864346,"event":"return","thread_id":9160,"parent_id":1864345,"elapsed":0.000886627,"elapsed_instrumentation":0.00015893802628852427},{"id":1864347,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1864348,"event":"return","thread_id":9160,"parent_id":1864347,"elapsed":0.002626053,"elapsed_instrumentation":0.00012007899931631982},{"id":1864349,"event":"return","thread_id":9160,"parent_id":1864344,"elapsed":0.004134538001380861,"elapsed_instrumentation":0.00032018200727179646,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099dc7a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dc960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dcb40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dcd20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345760,"size":4}},{"id":1864350,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05e78>"}},{"id":1864351,"event":"return","thread_id":9160,"parent_id":1864350,"elapsed":0.00034680002136155963,"elapsed_instrumentation":0.00033135199919342995,"return_value":{"class":"Array","value":"[]","object_id":345780,"size":0}},{"id":1864352,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10067940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a07228>"}},{"id":1864353,"event":"return","thread_id":9160,"parent_id":1864352,"elapsed":4.751025699079037e-06,"elapsed_instrumentation":0.00014195495168678463,"return_value":{"class":"Array","value":"[]","object_id":345800,"size":0}},{"id":1864354,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05928>"}},{"id":1864355,"event":"return","thread_id":9160,"parent_id":1864354,"elapsed":0.00028092600405216217,"elapsed_instrumentation":0.00016778201097622514,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099d8ea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345860,"size":1}},{"id":1864356,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"oauth_access_tokens\" (\"token\", \"refresh_token\", \"expires_in\", \"revoked_at\", \"created_at\", \"scopes\", \"application_id\", \"resource_owner_id\", \"last_used_at\", \"last_used_ip\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING \"id\"","database_type":"postgres"}},{"id":1864357,"event":"return","thread_id":9160,"parent_id":1864356,"elapsed":0.001221471,"elapsed_instrumentation":9.289299487136304e-05},{"id":1864358,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05928>"}},{"id":1864359,"event":"return","thread_id":9160,"parent_id":1864358,"elapsed":3.849010681733489e-06,"elapsed_instrumentation":0.000130886968690902,"return_value":{"class":"Array","value":"[]","object_id":345880,"size":0}},{"id":1864360,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1864361,"event":"return","thread_id":9160,"parent_id":1864360,"elapsed":0.000754459,"elapsed_instrumentation":9.880299330689013e-05},{"id":1864362,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a045c8>"}},{"id":1864363,"event":"return","thread_id":9160,"parent_id":1864362,"elapsed":3.9790174923837185e-06,"elapsed_instrumentation":0.0002944710140582174,"return_value":{"class":"Array","value":"[]","object_id":345960,"size":0}},{"id":1864364,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a045c8>"}},{"id":1864365,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":10068040,"value":"#<Doorkeeper::AccessToken:0x00007fdbbd6fd498>"}},{"id":1864366,"event":"return","thread_id":9160,"parent_id":1864365,"elapsed":2.3954984499141574e-05,"elapsed_instrumentation":6.217701593413949e-05},{"id":1864367,"event":"return","thread_id":9160,"parent_id":1864364,"elapsed":0.00010883700451813638,"elapsed_instrumentation":0.00011624098988249898,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099d1a38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345980,"size":1}},{"id":1864368,"event":"call","thread_id":9160,"http_server_request":{"request_method":"POST","path_info":"/api/v1/featured_tags","normalized_path_info":"/api/v1/featured_tags","headers":{"Version":"HTTP/1.0","Host":"www.example.com","Accept":"text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5","Authorization":"Bearer CETGSV7JPSJmkUdRsghXlYeigHYbAm8seQSgOl03jA0","Content-Type":"application/x-www-form-urlencoded","Content-Length":"8"}},"message":[{"name":"name","class":"String","value":"tag","object_id":10069020}]},{"id":1864369,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":1864370,"event":"return","thread_id":9160,"parent_id":1864369,"elapsed":0.00011085500591434538,"elapsed_instrumentation":0.00019899100880138576,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0fb602e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60808 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60fd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":231360,"size":4}},{"id":1864371,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":1864372,"event":"return","thread_id":9160,"parent_id":1864371,"elapsed":2.680026227608323e-06,"elapsed_instrumentation":8.407598943449557e-05,"return_value":{"class":"Array","value":"[]","object_id":231380,"size":0}},{"id":1864373,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":10068100,"value":"Nc____@\n_UO\u00119\u0019__"}},{"id":1864374,"event":"return","thread_id":9160,"parent_id":1864373,"elapsed":6.701011443510652e-06,"elapsed_instrumentation":0.0004432800051290542,"return_value":{"class":"Array","value":"[1315152081, 36082, 16394, 51029, 20241, 957990891]","object_id":10068120,"size":6}},{"id":1864375,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10068160,"value":"Processing by Api::V1::FeaturedTagsController#create as HTML\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1864376,"event":"return","thread_id":9160,"parent_id":1864375,"elapsed":0.0012253299937583506,"elapsed_instrumentation":0.0001587129954714328,"return_value":{"class":"Integer","value":"61","object_id":123}},{"id":1864377,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10068180,"value":"  Parameters: {\"name\"=>\"tag\"}\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1864378,"event":"return","thread_id":9160,"parent_id":1864377,"elapsed":0.001182798994705081,"elapsed_instrumentation":0.0003806989989243448,"return_value":{"class":"Integer","value":"30","object_id":61}},{"id":1864379,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":10041640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09e14ed8>"}},{"id":1864380,"event":"return","thread_id":9160,"parent_id":1864379,"elapsed":5.459005478769541e-06,"elapsed_instrumentation":0.00015584100037813187,"return_value":{"class":"Array","value":"[]","object_id":10041660,"size":0}},{"id":1864381,"event":"call","thread_id":9160,"defined_class":"Localized","method_id":"set_locale","path":"app/controllers/concerns/localized.rb","lineno":10,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864382,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864383,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864384,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"oauth_access_tokens\".* FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1864385,"event":"return","thread_id":9160,"parent_id":1864384,"elapsed":0.001235518,"elapsed_instrumentation":0.00013885399675928056},{"id":1864386,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1864387,"event":"return","thread_id":9160,"parent_id":1864386,"elapsed":0.001270916,"elapsed_instrumentation":0.0001105639967136085},{"id":1864388,"event":"return","thread_id":9160,"parent_id":1864383,"elapsed":0.005734378006309271,"elapsed_instrumentation":0.0003034039691556245,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864389,"event":"return","thread_id":9160,"parent_id":1864382,"elapsed":0.00608374597504735,"elapsed_instrumentation":0.00014989401097409427,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864390,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864391,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864392,"event":"return","thread_id":9160,"parent_id":1864391,"elapsed":1.1841999366879463e-05,"elapsed_instrumentation":0.0002818840148393065,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864393,"event":"return","thread_id":9160,"parent_id":1864390,"elapsed":0.00033610398531891406,"elapsed_instrumentation":0.0001597460068296641,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864394,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":10041720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09e14f28>"}},{"id":1864395,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864396,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864397,"event":"return","thread_id":9160,"parent_id":1864396,"elapsed":5.1349925342947245e-06,"elapsed_instrumentation":7.352599641308188e-05,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864398,"event":"return","thread_id":9160,"parent_id":1864395,"elapsed":9.73530113697052e-05,"elapsed_instrumentation":8.699297904968262e-05,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864399,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864400,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864401,"event":"return","thread_id":9160,"parent_id":1864400,"elapsed":5.214998964220285e-06,"elapsed_instrumentation":9.118497837334871e-05,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864402,"event":"return","thread_id":9160,"parent_id":1864399,"elapsed":0.00011553900549188256,"elapsed_instrumentation":6.961199687793851e-05,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864403,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864404,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864405,"event":"return","thread_id":9160,"parent_id":1864404,"elapsed":3.636989276856184e-06,"elapsed_instrumentation":7.665701559744775e-05,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864406,"event":"return","thread_id":9160,"parent_id":1864403,"elapsed":9.876201511360705e-05,"elapsed_instrumentation":0.00011198499123565853,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864407,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_session","path":"app/controllers/application_controller.rb","lineno":153,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864408,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":10068260,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10068280,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc076f9fb0>"}},{"id":1864409,"event":"return","thread_id":9160,"parent_id":1864408,"elapsed":5.744019290432334e-06,"elapsed_instrumentation":0.00011825098772533238,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc076f9fb0>","object_id":10068280}},{"id":1864410,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10068280,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc076f9fb0>"}},{"id":1864411,"event":"return","thread_id":9160,"parent_id":1864410,"elapsed":7.950002327561378e-06,"elapsed_instrumentation":0.00011024301056750119},{"id":1864412,"event":"return","thread_id":9160,"parent_id":1864407,"elapsed":0.0005787670088466257,"elapsed_instrumentation":7.101698429323733e-05},{"id":1864413,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"check_self_destruct!","path":"app/controllers/application_controller.rb","lineno":176,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864414,"event":"call","thread_id":9160,"defined_class":"SelfDestructHelper","method_id":"self_destruct?","path":"app/helpers/self_destruct_helper.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864415,"event":"return","thread_id":9160,"parent_id":1864414,"elapsed":9.733979823067784e-06,"elapsed_instrumentation":5.758999031968415e-05},{"id":1864416,"event":"return","thread_id":9160,"parent_id":1864413,"elapsed":8.96190176717937e-05,"elapsed_instrumentation":8.716998854652047e-05},{"id":1864417,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864418,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864419,"event":"return","thread_id":9160,"parent_id":1864418,"elapsed":6.0359889175742865e-06,"elapsed_instrumentation":0.00011611200170591474,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864420,"event":"return","thread_id":9160,"parent_id":1864417,"elapsed":0.00014294899301603436,"elapsed_instrumentation":9.699701331555843e-05,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864421,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864422,"event":"return","thread_id":9160,"parent_id":1864421,"elapsed":1.936600892804563e-05,"elapsed_instrumentation":6.811798084527254e-05},{"id":1864423,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"set_cache_control_defaults","path":"app/controllers/application_controller.rb","lineno":185,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864424,"event":"return","thread_id":9160,"parent_id":1864423,"elapsed":4.522997187450528e-06,"elapsed_instrumentation":0.00010729598579928279,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":10068300,"size":2}},{"id":1864425,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"update_last_used","path":"app/lib/access_token_extension.rb","lineno":16,"static":false,"parameters":[{"name":"request","class":"ActionDispatch::Request","object_id":10068320,"value":"#<ActionDispatch::Request:0x00007fdc04053998>","kind":"req"},{"name":"clock","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Doorkeeper::AccessToken","object_id":10068340,"value":"#<Doorkeeper::AccessToken:0x00007fdbbd6fc818>"}},{"id":1864426,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a07228>"}},{"id":1864427,"event":"return","thread_id":9160,"parent_id":1864426,"elapsed":2.8843001928180456e-05,"elapsed_instrumentation":0.00015498598804697394,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099e4b60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099e4ca0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099e4e58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345700,"size":3}},{"id":1864428,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05e78>"}},{"id":1864429,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1864430,"event":"return","thread_id":9160,"parent_id":1864429,"elapsed":0.00054571,"elapsed_instrumentation":0.0003893619868904352},{"id":1864431,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 AND \"oauth_access_tokens\".\"id\" != $2 LIMIT $3","database_type":"postgres"}},{"id":1864432,"event":"return","thread_id":9160,"parent_id":1864431,"elapsed":0.002029818,"elapsed_instrumentation":0.00044842198258265853},{"id":1864433,"event":"return","thread_id":9160,"parent_id":1864428,"elapsed":0.004085424006916583,"elapsed_instrumentation":0.0003976839652750641,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099dc7a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dc960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dcb40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dcd20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345760,"size":4}},{"id":1864434,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05e78>"}},{"id":1864435,"event":"return","thread_id":9160,"parent_id":1864434,"elapsed":3.2859970815479755e-06,"elapsed_instrumentation":0.00011902701226063073,"return_value":{"class":"Array","value":"[]","object_id":345780,"size":0}},{"id":1864436,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a07228>"}},{"id":1864437,"event":"return","thread_id":9160,"parent_id":1864436,"elapsed":2.8819777071475983e-06,"elapsed_instrumentation":0.00012214001617394388,"return_value":{"class":"Array","value":"[]","object_id":345800,"size":0}},{"id":1864438,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05928>"}},{"id":1864439,"event":"return","thread_id":9160,"parent_id":1864438,"elapsed":2.3409025743603706e-05,"elapsed_instrumentation":9.602197678759694e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099d8ea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345860,"size":1}},{"id":1864440,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"oauth_access_tokens\" SET \"last_used_at\" = $1, \"last_used_ip\" = $2 WHERE \"oauth_access_tokens\".\"id\" = $3","database_type":"postgres"}},{"id":1864441,"event":"return","thread_id":9160,"parent_id":1864440,"elapsed":0.001002519,"elapsed_instrumentation":0.00020029998268000782},{"id":1864442,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05928>"}},{"id":1864443,"event":"return","thread_id":9160,"parent_id":1864442,"elapsed":3.249995643272996e-06,"elapsed_instrumentation":0.00012041701120324433,"return_value":{"class":"Array","value":"[]","object_id":345880,"size":0}},{"id":1864444,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1864445,"event":"return","thread_id":9160,"parent_id":1864444,"elapsed":0.000612848,"elapsed_instrumentation":6.812700303271413e-05},{"id":1864446,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a045c8>"}},{"id":1864447,"event":"return","thread_id":9160,"parent_id":1864446,"elapsed":3.529014065861702e-06,"elapsed_instrumentation":0.00011081199045293033,"return_value":{"class":"Array","value":"[]","object_id":345960,"size":0}},{"id":1864448,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a045c8>"}},{"id":1864449,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":10068340,"value":"#<Doorkeeper::AccessToken:0x00007fdbbd6fc818>"}},{"id":1864450,"event":"return","thread_id":9160,"parent_id":1864449,"elapsed":2.1996995201334357e-05,"elapsed_instrumentation":5.8429985074326396e-05},{"id":1864451,"event":"return","thread_id":9160,"parent_id":1864448,"elapsed":0.00010320599540136755,"elapsed_instrumentation":9.875401156023145e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099d1a38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345980,"size":1}},{"id":1864452,"event":"return","thread_id":9160,"parent_id":1864425,"elapsed":0.009589980996679515,"elapsed_instrumentation":0.00021519701112993062,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1864453,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"disallow_unauthenticated_api_access?","path":"app/controllers/api/base_controller.rb","lineno":152,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864454,"event":"return","thread_id":9160,"parent_id":1864453,"elapsed":1.838000025600195e-05,"elapsed_instrumentation":5.923898424953222e-05},{"id":1864455,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"require_not_suspended!","path":"app/controllers/api/base_controller.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864456,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864457,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864458,"event":"return","thread_id":9160,"parent_id":1864457,"elapsed":4.99701127409935e-06,"elapsed_instrumentation":0.00010180799290537834,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864459,"event":"return","thread_id":9160,"parent_id":1864456,"elapsed":0.000126521015772596,"elapsed_instrumentation":7.646298035979271e-05,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864460,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1864461,"event":"return","thread_id":9160,"parent_id":1864460,"elapsed":0.00081139,"elapsed_instrumentation":8.658101432956755e-05},{"id":1864462,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10068440,"value":"#<Account:0x00007fdbbd6fbb98>"}},{"id":1864463,"event":"return","thread_id":9160,"parent_id":1864462,"elapsed":1.9422004697844386e-05,"elapsed_instrumentation":0.0001099279907066375},{"id":1864464,"event":"return","thread_id":9160,"parent_id":1864455,"elapsed":0.004358866019174457,"elapsed_instrumentation":0.0002498729736544192},{"id":1864465,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"require_user!","path":"app/controllers/api/base_controller.rb","lineno":130,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864466,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864467,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864468,"event":"return","thread_id":9160,"parent_id":1864467,"elapsed":4.160014213994145e-06,"elapsed_instrumentation":7.926399121060967e-05,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864469,"event":"return","thread_id":9160,"parent_id":1864466,"elapsed":0.0001033080043271184,"elapsed_instrumentation":0.00012211900320835412,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864470,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864471,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864472,"event":"return","thread_id":9160,"parent_id":1864471,"elapsed":4.91601531393826e-06,"elapsed_instrumentation":0.00010267397738061845,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864473,"event":"return","thread_id":9160,"parent_id":1864470,"elapsed":0.00013016999582760036,"elapsed_instrumentation":8.099598926492035e-05,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864474,"event":"call","thread_id":9160,"defined_class":"User","method_id":"confirmed?","path":"app/models/user.rb","lineno":161,"static":false,"parameters":[],"receiver":{"class":"User","object_id":10068240,"value":"#<User:0x00007fdbbd6fc318>"}},{"id":1864475,"event":"return","thread_id":9160,"parent_id":1864474,"elapsed":7.056898903101683e-05,"elapsed_instrumentation":0.0001032330037560314,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1864476,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864477,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864478,"event":"return","thread_id":9160,"parent_id":1864477,"elapsed":5.06499782204628e-06,"elapsed_instrumentation":0.00030791599419899285,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864479,"event":"return","thread_id":9160,"parent_id":1864476,"elapsed":0.0003474790137261152,"elapsed_instrumentation":0.00012658399646170437,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864480,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864481,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864482,"event":"return","thread_id":9160,"parent_id":1864481,"elapsed":6.129004759714007e-06,"elapsed_instrumentation":0.0005273990100249648,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864483,"event":"return","thread_id":9160,"parent_id":1864480,"elapsed":0.0006284639821387827,"elapsed_instrumentation":0.0001639460097067058,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864484,"event":"call","thread_id":9160,"defined_class":"User","method_id":"functional?","path":"app/models/user.rb","lineno":248,"static":false,"parameters":[],"receiver":{"class":"User","object_id":10068240,"value":"#<User:0x00007fdbbd6fc318>"}},{"id":1864485,"event":"call","thread_id":9160,"defined_class":"User","method_id":"functional_or_moved?","path":"app/models/user.rb","lineno":252,"static":false,"parameters":[],"receiver":{"class":"User","object_id":10068240,"value":"#<User:0x00007fdbbd6fc318>"}},{"id":1864486,"event":"call","thread_id":9160,"defined_class":"User","method_id":"confirmed?","path":"app/models/user.rb","lineno":161,"static":false,"parameters":[],"receiver":{"class":"User","object_id":10068240,"value":"#<User:0x00007fdbbd6fc318>"}},{"id":1864487,"event":"return","thread_id":9160,"parent_id":1864486,"elapsed":1.4766992535442114e-05,"elapsed_instrumentation":8.871100726537406e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1864488,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10068440,"value":"#<Account:0x00007fdbbd6fbb98>"}},{"id":1864489,"event":"return","thread_id":9160,"parent_id":1864488,"elapsed":1.4477991499006748e-05,"elapsed_instrumentation":0.00012115598656237125},{"id":1864490,"event":"return","thread_id":9160,"parent_id":1864485,"elapsed":0.0004184620047453791,"elapsed_instrumentation":8.512000204063952e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1864491,"event":"return","thread_id":9160,"parent_id":1864484,"elapsed":0.0005485090077854693,"elapsed_instrumentation":0.00012070997036062181,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1864492,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864493,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864494,"event":"return","thread_id":9160,"parent_id":1864493,"elapsed":6.564980139955878e-06,"elapsed_instrumentation":0.0001253460068255663,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864495,"event":"return","thread_id":9160,"parent_id":1864492,"elapsed":0.00016082898946478963,"elapsed_instrumentation":0.00046009899233467877,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864496,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864497,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864498,"event":"return","thread_id":9160,"parent_id":1864497,"elapsed":6.997986929491162e-06,"elapsed_instrumentation":0.0001925349934026599,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864499,"event":"return","thread_id":9160,"parent_id":1864496,"elapsed":0.00023445897386409342,"elapsed_instrumentation":0.00015712401363998652,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864500,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864501,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864502,"event":"return","thread_id":9160,"parent_id":1864501,"elapsed":5.314999725669622e-06,"elapsed_instrumentation":0.00013145498814992607,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864503,"event":"return","thread_id":9160,"parent_id":1864500,"elapsed":0.00016715700621716678,"elapsed_instrumentation":0.0001625909935683012,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864504,"event":"return","thread_id":9160,"parent_id":1864465,"elapsed":0.004595858015818521,"elapsed_instrumentation":0.00021749595180153847},{"id":1864505,"event":"return","thread_id":9160,"parent_id":1864394,"elapsed":0.022307917999569327,"elapsed_instrumentation":0.0007409749960061163,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdbf4b48d68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdbf4b48ea8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdbf4b49150 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdbf4b49330 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdbf4b496a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdbf4b49948 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdbf4b49ab0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdbf4b49c68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdbf4b49da8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdbf4b49f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...8 more items)]","object_id":10041940,"size":18}},{"id":1864506,"event":"call","thread_id":9160,"defined_class":"Api::V1::FeaturedTagsController","method_id":"create","path":"app/controllers/api/v1/featured_tags_controller.rb","lineno":15,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864507,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_account","path":"app/controllers/application_controller.rb","lineno":147,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864508,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864509,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864510,"event":"return","thread_id":9160,"parent_id":1864509,"elapsed":4.214991349726915e-06,"elapsed_instrumentation":0.00010111802839674056,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864511,"event":"return","thread_id":9160,"parent_id":1864508,"elapsed":0.00012890799553133547,"elapsed_instrumentation":0.00010306897456757724,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864512,"event":"return","thread_id":9160,"parent_id":1864507,"elapsed":0.0002887450100388378,"elapsed_instrumentation":0.00011024600826203823,"return_value":{"class":"Account","value":"#<Account:0x00007fdbbd6fbb98>","object_id":10068440}},{"id":1864513,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":1864514,"event":"return","thread_id":9160,"parent_id":1864513,"elapsed":5.325302481651306e-05,"elapsed_instrumentation":0.0003251439775340259,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":1864515,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6276620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc073e8e98>"}},{"id":1864516,"event":"call","thread_id":9160,"defined_class":"HashtagNormalizer","method_id":"normalize","path":"app/lib/hashtag_normalizer.rb","lineno":4,"static":false,"parameters":[{"name":"str","class":"String","object_id":10068500,"value":"tag","kind":"req"}],"receiver":{"class":"HashtagNormalizer","object_id":10068520,"value":"#<HashtagNormalizer:0x00007fdc09133e30>"}},{"id":1864517,"event":"call","thread_id":9160,"defined_class":"ASCIIFolding","method_id":"fold","path":"app/lib/ascii_folding.rb","lineno":7,"static":false,"parameters":[{"name":"str","class":"String","object_id":10068540,"value":"tag","kind":"req"}],"receiver":{"class":"ASCIIFolding","object_id":10068560,"value":"#<ASCIIFolding:0x00007fdc09132fd0>"}},{"id":1864518,"event":"return","thread_id":9160,"parent_id":1864517,"elapsed":5.649300874210894e-05,"elapsed_instrumentation":0.00025865097995847464,"return_value":{"class":"String","value":"tag","object_id":10068580}},{"id":1864519,"event":"return","thread_id":9160,"parent_id":1864516,"elapsed":0.000396409013774246,"elapsed_instrumentation":0.00014920398825779557,"return_value":{"class":"String","value":"tag","object_id":10068600}},{"id":1864520,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1864521,"event":"return","thread_id":9160,"parent_id":1864520,"elapsed":0.000597919,"elapsed_instrumentation":0.00012357899686321616},{"id":1864522,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"featured_tags\" INNER JOIN \"tags\" \"tag\" ON \"tag\".\"id\" = \"featured_tags\".\"tag_id\" WHERE \"tag\".\"name\" = $1 AND \"featured_tags\".\"account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1864523,"event":"return","thread_id":9160,"parent_id":1864522,"elapsed":0.002291501,"elapsed_instrumentation":7.81410199124366e-05},{"id":1864524,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10068440,"value":"#<Account:0x00007fdbbd6fbb98>"}},{"id":1864525,"event":"return","thread_id":9160,"parent_id":1864524,"elapsed":1.6713020158931613e-05,"elapsed_instrumentation":0.00012369800242595375,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1864526,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"featured_tags\" WHERE \"featured_tags\".\"account_id\" = $1","database_type":"postgres"}},{"id":1864527,"event":"return","thread_id":9160,"parent_id":1864526,"elapsed":0.000767392,"elapsed_instrumentation":7.450400153174996e-05},{"id":1864528,"event":"return","thread_id":9160,"parent_id":1864515,"elapsed":0.008411173010244966,"elapsed_instrumentation":0.00020186899928376079,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0994f5d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0994f7e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0994fa38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0994fd30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09910018 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09910220 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":6276760,"size":6}},{"id":1864529,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6276620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc073e8e98>"}},{"id":1864530,"event":"return","thread_id":9160,"parent_id":1864529,"elapsed":4.294997779652476e-06,"elapsed_instrumentation":0.00036095199175179005,"return_value":{"class":"Array","value":"[]","object_id":6276780,"size":0}},{"id":1864531,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":1864532,"event":"return","thread_id":9160,"parent_id":1864531,"elapsed":2.775981556624174e-06,"elapsed_instrumentation":0.00011163201997987926,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":1864533,"event":"call","thread_id":9160,"sql_query":{"sql":"ROLLBACK TO SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1864534,"event":"return","thread_id":9160,"parent_id":1864533,"elapsed":0.000909265,"elapsed_instrumentation":8.841100498102605e-05},{"id":1864535,"event":"return","thread_id":9160,"parent_id":1864506,"elapsed":0.01512925498536788,"elapsed_instrumentation":0.0006158020114526153,"exceptions":[{"class":"NoMethodError","message":"undefined method `is_a' for #<ActiveRecord::RecordInvalid: Validation failed: Name has already been  (...6 more characters)","object_id":10068640,"path":"/workspaces/mastodon/app/services/create_featured_tag_service.rb","lineno":13},{"class":"ActiveRecord::RecordInvalid","message":"Validation failed: Name has already been taken","object_id":10068660,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/validations.rb","lineno":84}]},{"id":1864536,"event":"return","thread_id":9160,"parent_id":1864381,"elapsed":0.04635149199748412,"elapsed_instrumentation":0.0001624590076971799,"exceptions":[{"class":"NoMethodError","message":"undefined method `is_a' for #<ActiveRecord::RecordInvalid: Validation failed: Name has already been  (...6 more characters)","object_id":10068640,"path":"/workspaces/mastodon/app/services/create_featured_tag_service.rb","lineno":13},{"class":"ActiveRecord::RecordInvalid","message":"Validation failed: Name has already been taken","object_id":10068660,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/validations.rb","lineno":84}]},{"id":1864537,"event":"call","thread_id":9160,"defined_class":"ActionController::Renderers","method_id":"render_to_body","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb","lineno":140,"static":false,"parameters":[{"name":"options","class":"Hash","object_id":10068680,"value":"{:json=>{:error=>Validation failed: Name has already been taken}, :status=>422, :prefixes=>[api/v1/featured_tags, api/base, application], :template=>create, :layout=>#<Proc:0x00007fdc090cd720 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/ac}","kind":"req","size":5}],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864538,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864539,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::FeaturedTagsController","object_id":10068220,"value":"#<Api::V1::FeaturedTagsController:0x00007fdbbd6fca98>"}},{"id":1864540,"event":"return","thread_id":9160,"parent_id":1864539,"elapsed":5.542999133467674e-06,"elapsed_instrumentation":8.936697850003839e-05,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864541,"event":"return","thread_id":9160,"parent_id":1864538,"elapsed":0.00011520800762809813,"elapsed_instrumentation":0.00011159598943777382,"return_value":{"class":"User","value":"#<User:0x00007fdbbd6fc318>","object_id":10068240}},{"id":1864542,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1864543,"event":"return","thread_id":9160,"parent_id":1864542,"elapsed":3.838998964056373e-06,"elapsed_instrumentation":0.0002472519699949771,"return_value":{"class":"Array","value":"[]","object_id":211300,"size":0}},{"id":1864544,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1864545,"event":"return","thread_id":9160,"parent_id":1864544,"elapsed":2.936983946710825e-06,"elapsed_instrumentation":0.00012137799058109522,"return_value":{"class":"Array","value":"[]","object_id":211340,"size":0}},{"id":1864546,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":10068720,"value":"{error=>Validation failed: Name has already been taken}","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":10068740,"value":"#<JSON::Ext::Generator::State:0x00007fdc090c2aa0>"}},{"id":1864547,"event":"return","thread_id":9160,"parent_id":1864546,"elapsed":6.900983862578869e-06,"elapsed_instrumentation":0.00011798899504356086,"return_value":{"class":"String","value":"{\"error\":\"Validation failed: Name has already been taken\"}","object_id":10068760}},{"id":1864548,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1864549,"event":"return","thread_id":9160,"parent_id":1864548,"elapsed":2.9809889383614063e-06,"elapsed_instrumentation":8.195400005206466e-05,"return_value":{"class":"Array","value":"[]","object_id":215680,"size":0}},{"id":1864550,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1864551,"event":"return","thread_id":9160,"parent_id":1864550,"elapsed":2.2779859136790037e-06,"elapsed_instrumentation":7.326097693294287e-05,"return_value":{"class":"Array","value":"[]","object_id":215700,"size":0}},{"id":1864552,"event":"return","thread_id":9160,"parent_id":1864537,"elapsed":0.001843124016886577,"elapsed_instrumentation":0.0002839340013451874,"return_value":{"class":"String","value":"{\"error\":\"Validation failed: Name has already been taken\"}","object_id":10068760}},{"id":1864553,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10068780,"value":"Completed 422 Unprocessable Entity in 51ms (Views: 2.2ms | ActiveRecord: 12.0ms | Allocations: 10094 (...2 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1864554,"event":"return","thread_id":9160,"parent_id":1864553,"elapsed":0.0017350740090478212,"elapsed_instrumentation":0.0001503140083514154,"return_value":{"class":"Integer","value":"102","object_id":205}},{"id":1864555,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1864556,"event":"return","thread_id":9160,"parent_id":1864555,"elapsed":3.1500239856541157e-06,"elapsed_instrumentation":0.00010631198529154062,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1864557,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":337880,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":10068800,"value":"[__\u0011K____<___2__-]"}},{"id":1864558,"event":"return","thread_id":9160,"parent_id":1864557,"elapsed":1.6981997760012746e-05,"elapsed_instrumentation":0.00013498400221578777,"return_value":{"class":"String","value":"j8cRS8y8/Jw8j86YMv6kLQ==","object_id":10068820}},{"id":1864559,"event":"call","thread_id":9160,"defined_class":"Chewy::Strategy::Mastodon","method_id":"leave","path":"lib/chewy/strategy/mastodon.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Chewy::Strategy::Mastodon","object_id":10068840,"value":"#<Chewy::Strategy::Mastodon:0x00007fdc092c93d0>"}},{"id":1864560,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10068860,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10068880,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1864561,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1864562,"event":"return","thread_id":9160,"parent_id":1864561,"elapsed":2.5850022211670876e-06,"elapsed_instrumentation":7.63380085118115e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1864563,"event":"return","thread_id":9160,"parent_id":1864560,"elapsed":0.0001713800011202693,"elapsed_instrumentation":0.00015729101141914725,"return_value":{"class":"Array","value":"[]","object_id":10068900,"size":0}},{"id":1864564,"event":"return","thread_id":9160,"parent_id":1864559,"elapsed":0.0006985549989622086,"elapsed_instrumentation":8.038600208237767e-05,"return_value":{"class":"Array","value":"[]","object_id":10068900,"size":0}},{"id":1864565,"event":"return","thread_id":9160,"parent_id":1864368,"elapsed":0.06074889900628477,"elapsed_instrumentation":0.0011126360041089356,"return_value":{"class":"Hash","value":"{error=>Validation failed: Name has already been taken}","object_id":10068940,"size":1,"properties":[{"name":"error","class":"String"}]},"http_server_response":{"status_code":422,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Vary":"Authorization","Content-Type":"application/json; charset=utf-8","Cache-Control":"private, no-store","Content-Security-Policy":"default-src 'none'; frame-ancestors 'none'; form-action 'none'","X-Request-Id":"4e63a0d1-8cf2-400a-8755-4f113919c7eb","X-Runtime":"0.060193"}}},{"id":1864566,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":1864567,"event":"return","thread_id":9160,"parent_id":1864566,"elapsed":0.00016021699411794543,"elapsed_instrumentation":0.0006493889959529042,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca3bb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3cf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3f00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca48b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":338500,"size":4}},{"id":1864568,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10068960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":1864569,"event":"return","thread_id":9160,"parent_id":1864568,"elapsed":3.2380048651248217e-06,"elapsed_instrumentation":0.00012499501463025808,"return_value":{"class":"Array","value":"[]","object_id":338520,"size":0}}]}