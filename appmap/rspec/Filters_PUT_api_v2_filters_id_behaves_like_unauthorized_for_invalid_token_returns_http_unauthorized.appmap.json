{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Filters PUT /api/v2/filters/:id behaves like unauthorized for invalid token returns http unauthorized","source_location":"spec/requests/api/v2/filters/filters_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]},{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"app","type":"package","children":[{"name":"controllers","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"Localized","type":"class","children":[{"name":"set_locale","type":"function","location":"app/controllers/concerns/localized.rb:10","static":false}]}]},{"name":"api","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"BaseController","type":"class","children":[{"name":"current_user","type":"function","location":"app/controllers/api/base_controller.rb:116","static":false},{"name":"current_resource_owner","type":"function","location":"app/controllers/api/base_controller.rb:112","static":false},{"name":"disallow_unauthenticated_api_access?","type":"function","location":"app/controllers/api/base_controller.rb:152","static":false},{"name":"require_not_suspended!","type":"function","location":"app/controllers/api/base_controller.rb:126","static":false},{"name":"doorkeeper_unauthorized_render_options","type":"function","location":"app/controllers/api/base_controller.rb:85","static":false}]}]}]},{"name":"ApplicationController","type":"class","children":[{"name":"current_session","type":"function","location":"app/controllers/application_controller.rb:153","static":false},{"name":"check_self_destruct!","type":"function","location":"app/controllers/application_controller.rb:176","static":false},{"name":"set_cache_control_defaults","type":"function","location":"app/controllers/application_controller.rb:185","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"SelfDestructHelper","type":"class","children":[{"name":"self_destruct?","type":"function","location":"app/helpers/self_destruct_helper.rb:11","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true},{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true}]}]}]},{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Request","type":"class","children":[{"name":"Session","type":"class","children":[{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/request/session.rb:112","static":false,"labels":["http.session.read"]}]}]},{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]},{"name":"ActionController","type":"class","children":[{"name":"Renderers","type":"class","children":[{"name":"render_to_body","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb:140","static":false,"labels":["mvc.render"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]}]}]}]},{"name":"lib/chewy/strategy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"Strategy","type":"class","children":[{"name":"Mastodon","type":"class","children":[{"name":"leave","type":"function","location":"lib/chewy/strategy/mastodon.rb:16","static":false}]}]}]}]}],"events":[{"id":16029,"event":"call","thread_id":9160,"http_server_request":{"request_method":"PUT","path_info":"/api/v2/filters/280","normalized_path_info":"/api/v2/filters/{id}","headers":{"Version":"HTTP/1.0","Host":"www.example.com","Accept":"text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5","Content-Type":"application/x-www-form-urlencoded","Content-Length":"0"}}},{"id":16030,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":418720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":222040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93803c8a8>"}},{"id":16031,"event":"return","thread_id":9160,"parent_id":16030,"elapsed":0.00011159700807183981,"elapsed_instrumentation":0.00019810296362265944,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc934226eb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934226ff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934227158 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934227310 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":222060,"size":4}},{"id":16032,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":418720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":222040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93803c8a8>"}},{"id":16033,"event":"return","thread_id":9160,"parent_id":16032,"elapsed":3.797991666942835e-06,"elapsed_instrumentation":0.0003179420018568635,"return_value":{"class":"Array","value":"[]","object_id":222080,"size":0}},{"id":16034,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":418740,"value":"Y_I_\u0010&y__\n2\u0002\u0014M_y"}},{"id":16035,"event":"return","thread_id":9160,"parent_id":16034,"elapsed":6.1219907365739346e-06,"elapsed_instrumentation":0.00012648594565689564,"return_value":{"class":"Array","value":"[1505184199, 4134, 31145, 60938, 12802, 340653945]","object_id":418760,"size":6}},{"id":16036,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":418800,"value":"Processing by Api::V2::FiltersController#update as HTML\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":16037,"event":"return","thread_id":9160,"parent_id":16036,"elapsed":0.0014252020046114922,"elapsed_instrumentation":0.0002896109945140779,"return_value":{"class":"Integer","value":"56","object_id":113}},{"id":16038,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":418820,"value":"  Parameters: {\"id\"=>\"280\"}\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":16039,"event":"return","thread_id":9160,"parent_id":16038,"elapsed":0.0011403130483813584,"elapsed_instrumentation":0.0001533270115032792,"return_value":{"class":"Integer","value":"28","object_id":57}},{"id":16040,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":418840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":381460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934855660>"}},{"id":16041,"event":"return","thread_id":9160,"parent_id":16040,"elapsed":4.125991836190224e-06,"elapsed_instrumentation":0.0005243190098553896,"return_value":{"class":"Array","value":"[]","object_id":381480,"size":0}},{"id":16042,"event":"call","thread_id":9160,"defined_class":"Localized","method_id":"set_locale","path":"app/controllers/concerns/localized.rb","lineno":10,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16043,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16044,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16045,"event":"return","thread_id":9160,"parent_id":16044,"elapsed":5.35570434294641e-05,"elapsed_instrumentation":4.7144945710897446e-05},{"id":16046,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Request::Session","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/request/session.rb","lineno":112,"static":false,"parameters":[{"name":"key","class":"String","object_id":418880,"value":"warden.user.user.key","kind":"req"}],"receiver":{"class":"ActionDispatch::Request::Session","object_id":418900,"value":"#<ActionDispatch::Request::Session:0x00007fc935279510>"}},{"id":16047,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":418920,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":418940,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc935277f80>"}},{"id":16048,"event":"return","thread_id":9160,"parent_id":16047,"elapsed":5.601963493973017e-06,"elapsed_instrumentation":0.00013651204062625766,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc935277f80>","object_id":418940}},{"id":16049,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":386580,"value":"_mastodon_session","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":418940,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc935277f80>"}},{"id":16050,"event":"return","thread_id":9160,"parent_id":16049,"elapsed":4.794972483068705e-06,"elapsed_instrumentation":0.0002972770598717034},{"id":16051,"event":"return","thread_id":9160,"parent_id":16046,"elapsed":0.000680837023537606,"elapsed_instrumentation":7.845897926017642e-05},{"id":16052,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":418940,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc935277f80>"}},{"id":16053,"event":"return","thread_id":9160,"parent_id":16052,"elapsed":3.276974894106388e-06,"elapsed_instrumentation":8.819397771731019e-05},{"id":16054,"event":"return","thread_id":9160,"parent_id":16043,"elapsed":0.0013701770221814513,"elapsed_instrumentation":5.538197001442313e-05},{"id":16055,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":418840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":381540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934855700>"}},{"id":16056,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16057,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16058,"event":"return","thread_id":9160,"parent_id":16057,"elapsed":5.488499300554395e-05,"elapsed_instrumentation":5.315098678693175e-05},{"id":16059,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":418940,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc935277f80>"}},{"id":16060,"event":"return","thread_id":9160,"parent_id":16059,"elapsed":3.5110278986394405e-06,"elapsed_instrumentation":7.951195584610105e-05},{"id":16061,"event":"return","thread_id":9160,"parent_id":16056,"elapsed":0.00036722602089866996,"elapsed_instrumentation":8.459202945232391e-05},{"id":16062,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_session","path":"app/controllers/application_controller.rb","lineno":153,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16063,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":418940,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc935277f80>"}},{"id":16064,"event":"return","thread_id":9160,"parent_id":16063,"elapsed":2.5560148060321808e-06,"elapsed_instrumentation":6.291898898780346e-05},{"id":16065,"event":"return","thread_id":9160,"parent_id":16062,"elapsed":8.757901377975941e-05,"elapsed_instrumentation":5.1727984100580215e-05},{"id":16066,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"check_self_destruct!","path":"app/controllers/application_controller.rb","lineno":176,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16067,"event":"call","thread_id":9160,"defined_class":"SelfDestructHelper","method_id":"self_destruct?","path":"app/helpers/self_destruct_helper.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16068,"event":"return","thread_id":9160,"parent_id":16067,"elapsed":7.801980245858431e-06,"elapsed_instrumentation":4.463002551347017e-05},{"id":16069,"event":"return","thread_id":9160,"parent_id":16066,"elapsed":6.924901390448213e-05,"elapsed_instrumentation":4.748598439618945e-05},{"id":16070,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16071,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16072,"event":"return","thread_id":9160,"parent_id":16071,"elapsed":3.7788006011396646e-05,"elapsed_instrumentation":5.468894960358739e-05},{"id":16073,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":418940,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc935277f80>"}},{"id":16074,"event":"return","thread_id":9160,"parent_id":16073,"elapsed":2.730987034738064e-06,"elapsed_instrumentation":7.174699567258358e-05},{"id":16075,"event":"return","thread_id":9160,"parent_id":16070,"elapsed":0.00031318399123847485,"elapsed_instrumentation":0.00014117802493274212},{"id":16076,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"set_cache_control_defaults","path":"app/controllers/application_controller.rb","lineno":185,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16077,"event":"return","thread_id":9160,"parent_id":16076,"elapsed":3.4830300137400627e-06,"elapsed_instrumentation":9.424297604709864e-05,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":418960,"size":2}},{"id":16078,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"disallow_unauthenticated_api_access?","path":"app/controllers/api/base_controller.rb","lineno":152,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16079,"event":"return","thread_id":9160,"parent_id":16078,"elapsed":1.7798040062189102e-05,"elapsed_instrumentation":5.432195030152798e-05},{"id":16080,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"require_not_suspended!","path":"app/controllers/api/base_controller.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16081,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16082,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16083,"event":"return","thread_id":9160,"parent_id":16082,"elapsed":2.738996408879757e-05,"elapsed_instrumentation":4.3204985558986664e-05},{"id":16084,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":418940,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc935277f80>"}},{"id":16085,"event":"return","thread_id":9160,"parent_id":16084,"elapsed":5.3629628382623196e-06,"elapsed_instrumentation":0.000126487051602453},{"id":16086,"event":"return","thread_id":9160,"parent_id":16081,"elapsed":0.0005609560175798833,"elapsed_instrumentation":4.8667017836123705e-05},{"id":16087,"event":"return","thread_id":9160,"parent_id":16080,"elapsed":0.0006257870118133724,"elapsed_instrumentation":4.395702853798866e-05},{"id":16088,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"doorkeeper_unauthorized_render_options","path":"app/controllers/api/base_controller.rb","lineno":85,"static":false,"parameters":[{"name":"error","class":"Doorkeeper::OAuth::InvalidTokenResponse","object_id":418980,"value":"#<Doorkeeper::OAuth::InvalidTokenResponse:0x00007fc9352752d0>","kind":"key"}],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16089,"event":"return","thread_id":9160,"parent_id":16088,"elapsed":1.1017953511327505e-05,"elapsed_instrumentation":0.00025187002029269934,"return_value":{"class":"Hash","value":"{:json=>{:error=>The access token is invalid}}","object_id":419000,"size":1}},{"id":16090,"event":"call","thread_id":9160,"defined_class":"ActionController::Renderers","method_id":"render_to_body","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb","lineno":140,"static":false,"parameters":[{"name":"options","class":"Hash","object_id":419000,"value":"{:json=>{:error=>The access token is invalid}, :status=>401, :prefixes=>[api/v2/filters, api/base, application], :template=>update, :layout=>}","kind":"req","size":5}],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16091,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16092,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":418860,"value":"#<Api::V2::FiltersController:0x00007fc93b966048>"}},{"id":16093,"event":"return","thread_id":9160,"parent_id":16092,"elapsed":4.654203075915575e-05,"elapsed_instrumentation":5.85650559514761e-05},{"id":16094,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":418940,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc935277f80>"}},{"id":16095,"event":"return","thread_id":9160,"parent_id":16094,"elapsed":3.2910029403865337e-06,"elapsed_instrumentation":8.193403482437134e-05},{"id":16096,"event":"return","thread_id":9160,"parent_id":16091,"elapsed":0.0003702660324051976,"elapsed_instrumentation":0.0001967469579540193},{"id":16097,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":419020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":16098,"event":"return","thread_id":9160,"parent_id":16097,"elapsed":3.554043360054493e-06,"elapsed_instrumentation":0.00011903501581400633,"return_value":{"class":"Array","value":"[]","object_id":326200,"size":0}},{"id":16099,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":419020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":16100,"event":"return","thread_id":9160,"parent_id":16099,"elapsed":3.569992259144783e-06,"elapsed_instrumentation":0.0001456430763937533,"return_value":{"class":"Array","value":"[]","object_id":326240,"size":0}},{"id":16101,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":419040,"value":"{error=>The access token is invalid}","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":419060,"value":"#<JSON::Ext::Generator::State:0x00007fc932a4fe90>"}},{"id":16102,"event":"return","thread_id":9160,"parent_id":16101,"elapsed":1.1779018677771091e-05,"elapsed_instrumentation":0.0002740899217315018,"return_value":{"class":"String","value":"{\"error\":\"The access token is invalid\"}","object_id":419080}},{"id":16103,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":419020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":16104,"event":"return","thread_id":9160,"parent_id":16103,"elapsed":5.737005267292261e-06,"elapsed_instrumentation":0.000139787036459893,"return_value":{"class":"Array","value":"[]","object_id":328060,"size":0}},{"id":16105,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":419020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":16106,"event":"return","thread_id":9160,"parent_id":16105,"elapsed":3.6919955164194107e-06,"elapsed_instrumentation":0.00024234800366684794,"return_value":{"class":"Array","value":"[]","object_id":328080,"size":0}},{"id":16107,"event":"return","thread_id":9160,"parent_id":16090,"elapsed":0.0027367069851607084,"elapsed_instrumentation":0.000336066004820168,"return_value":{"class":"String","value":"{\"error\":\"The access token is invalid\"}","object_id":419080}},{"id":16108,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":419100,"value":"Filter chain halted as #<Proc:0x00007fc932f441a8 /workspaces/mastodon/app/controllers/api/v2/filters (...50 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":16109,"event":"return","thread_id":9160,"parent_id":16108,"elapsed":0.0008417909848503768,"elapsed_instrumentation":0.00012599804904311895,"return_value":{"class":"Integer","value":"150","object_id":301}},{"id":16110,"event":"return","thread_id":9160,"parent_id":16055,"elapsed":0.007477838022168726,"elapsed_instrumentation":0.0004341129679232836,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f2c0f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f2c238 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f2c4b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f2c5f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f2c8a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f2cad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f2cc10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f2cdc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f2cf08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f2d0c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...8 more items)]","object_id":381760,"size":18}},{"id":16111,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":418840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":381540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934855700>"}},{"id":16112,"event":"return","thread_id":9160,"parent_id":16111,"elapsed":7.027992978692055e-06,"elapsed_instrumentation":0.00012320198584347963,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f2d480 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f2c378 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":386760,"size":2}},{"id":16113,"event":"return","thread_id":9160,"parent_id":16042,"elapsed":0.009904982056468725,"elapsed_instrumentation":0.00010405998909845948},{"id":16114,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":418840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":381460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934855660>"}},{"id":16115,"event":"return","thread_id":9160,"parent_id":16114,"elapsed":3.337976522743702e-06,"elapsed_instrumentation":0.00011573301162570715,"return_value":{"class":"Array","value":"[]","object_id":386780,"size":0}},{"id":16116,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":419120,"value":"Completed 401 Unauthorized in 11ms (Views: 3.2ms | ActiveRecord: 0.0ms | Allocations: 3866)\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":16117,"event":"return","thread_id":9160,"parent_id":16116,"elapsed":0.0010740789584815502,"elapsed_instrumentation":0.0001498520141467452,"return_value":{"class":"Integer","value":"92","object_id":185}},{"id":16118,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":16119,"event":"return","thread_id":9160,"parent_id":16118,"elapsed":3.278953954577446e-06,"elapsed_instrumentation":0.0001831400441005826,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":16120,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":343760,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":419140,"value":"[_\u0013\u000f_|___P1_>\u0007D__]"}},{"id":16121,"event":"return","thread_id":9160,"parent_id":16120,"elapsed":6.095971912145615e-06,"elapsed_instrumentation":0.00011852302122861147,"return_value":{"class":"String","value":"vhMP4Hy35stQMcs+B0Sa1w==","object_id":419160}},{"id":16122,"event":"call","thread_id":9160,"defined_class":"Chewy::Strategy::Mastodon","method_id":"leave","path":"lib/chewy/strategy/mastodon.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Chewy::Strategy::Mastodon","object_id":419180,"value":"#<Chewy::Strategy::Mastodon:0x00007fc932ae5af8>"}},{"id":16123,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":419200,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":419220,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":16124,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":16125,"event":"return","thread_id":9160,"parent_id":16124,"elapsed":2.2120075300335884e-06,"elapsed_instrumentation":6.25759712420404e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":16126,"event":"return","thread_id":9160,"parent_id":16123,"elapsed":0.00015321100363507867,"elapsed_instrumentation":9.971100371330976e-05,"return_value":{"class":"Array","value":"[]","object_id":419240,"size":0}},{"id":16127,"event":"return","thread_id":9160,"parent_id":16122,"elapsed":0.0002713240101002157,"elapsed_instrumentation":6.759498501196504e-05,"return_value":{"class":"Array","value":"[]","object_id":419240,"size":0}},{"id":16128,"event":"return","thread_id":9160,"parent_id":16029,"elapsed":0.019687459978740662,"elapsed_instrumentation":0.0009735299972817302,"return_value":{"class":"Hash","value":"{error=>The access token is invalid}","object_id":419280,"size":1,"properties":[{"name":"error","class":"String"}]},"http_server_response":{"status_code":401,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Vary":"Authorization","Cache-Control":"private, no-store","WWW-Authenticate":"Bearer realm=\"Doorkeeper\", error=\"invalid_token\", error_description=\"The access token is invalid\"","Content-Type":"application/json; charset=utf-8","Content-Security-Policy":"default-src 'none'; frame-ancestors 'none'; form-action 'none'","X-Request-Id":"59b749c7-1026-49a9-ae0a-3202144df779","X-Runtime":"0.018948"}}},{"id":16129,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":419300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934c37c10>"}},{"id":16130,"event":"return","thread_id":9160,"parent_id":16129,"elapsed":0.00011774705490097404,"elapsed_instrumentation":0.00015544291818514466,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933f1f4d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f758 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f910 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318440,"size":4}},{"id":16131,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":419300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934c37c10>"}},{"id":16132,"event":"return","thread_id":9160,"parent_id":16131,"elapsed":3.174995072185993e-06,"elapsed_instrumentation":0.0001053359592333436,"return_value":{"class":"Array","value":"[]","object_id":318460,"size":0}}]}