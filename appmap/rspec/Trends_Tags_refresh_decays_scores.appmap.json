{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Trends::Tags #refresh decays scores","source_location":"spec/models/trends/tags_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"trends","type":"package","children":[{"name":"Trends","type":"class","children":[{"name":"Tags","type":"class","children":[{"name":"refresh","type":"function","location":"app/models/trends/tags.rb:27","static":false},{"name":"key_prefix","type":"function","location":"app/models/trends/tags.rb:45","static":false}]},{"name":"Base","type":"class","children":[{"name":"recently_used_ids","type":"function","location":"app/models/trends/base.rb:58","static":false},{"name":"currently_trending_ids","type":"function","location":"app/models/trends/base.rb:48","static":false},{"name":"replace_items","type":"function","location":"app/models/trends/base.rb:71","static":false},{"name":"score","type":"function","location":"app/models/trends/base.rb:40","static":false}]},{"name":"History","type":"class","children":[{"name":"get","type":"function","location":"app/models/trends/history.rb:77","static":false},{"name":"Day","type":"class","children":[{"name":"accounts","type":"function","location":"app/models/trends/history.rb:35","static":false},{"name":"key_for","type":"function","location":"app/models/trends/history.rb:58","static":false},{"name":"key_prefix","type":"function","location":"app/models/trends/history.rb:67","static":false}]}]}]}]},{"name":"concerns","type":"package","children":[{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false},{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false}]}]},{"name":"Tag","type":"class","children":[{"name":"history","type":"function","location":"app/models/tag.rb:109","static":false},{"name":"trendable?","type":"function","location":"app/models/tag.rb:83","static":false}]},{"name":"Setting","type":"class","children":[{"name":"[]","type":"function","location":"app/models/setting.rb:24","static":true},{"name":"default_settings","type":"function","location":"app/models/setting.rb:55","static":true}]},{"name":"ApplicationRecord","type":"class","children":[{"name":"boolean_with_default","type":"function","location":"app/models/application_record.rb:16","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Marshal","type":"class","children":[{"name":"dump","type":"function","location":"Marshal.dump","static":true,"labels":["serialize"]}]}]}],"events":[{"id":222559,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"refresh","path":"app/models/trends/tags.rb","lineno":27,"static":false,"parameters":[{"name":"at_time","class":"DateTime","object_id":1753780,"value":"2021-11-13T22:15:00+00:00","kind":"opt"}],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222560,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"recently_used_ids","path":"app/models/trends/base.rb","lineno":58,"static":false,"parameters":[{"name":"at_time","class":"DateTime","object_id":1753780,"value":"2021-11-13T22:15:00+00:00","kind":"opt"}],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222561,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222562,"event":"return","thread_id":9160,"parent_id":222561,"elapsed":3.5339617170393467e-06,"elapsed_instrumentation":8.01250571385026e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":222563,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222564,"event":"return","thread_id":9160,"parent_id":222563,"elapsed":4.044035449624062e-06,"elapsed_instrumentation":0.00011712295236065984,"return_value":{"class":"String","value":"trending_tags","object_id":1753820}},{"id":222565,"event":"return","thread_id":9160,"parent_id":222560,"elapsed":0.0007479380001313984,"elapsed_instrumentation":0.00015349604655057192,"return_value":{"class":"Array","value":"[1194, 1196]","object_id":1753840,"size":2}},{"id":222566,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"currently_trending_ids","path":"app/models/trends/base.rb","lineno":48,"static":false,"parameters":[{"name":"allowed","class":"FalseClass","object_id":0,"value":"false","kind":"req"},{"name":"limit","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222567,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222568,"event":"return","thread_id":9160,"parent_id":222567,"elapsed":0.00024717801716178656,"elapsed_instrumentation":7.56689696572721e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":222569,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222570,"event":"return","thread_id":9160,"parent_id":222569,"elapsed":2.4149776436388493e-06,"elapsed_instrumentation":6.699503865092993e-05,"return_value":{"class":"String","value":"trending_tags","object_id":1753820}},{"id":222571,"event":"return","thread_id":9160,"parent_id":222566,"elapsed":0.0009033269598148763,"elapsed_instrumentation":0.00017007702263072133,"return_value":{"class":"Array","value":"[]","object_id":1753860,"size":0}},{"id":222572,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"tags\".* FROM \"tags\" WHERE \"tags\".\"id\" IN ($1, $2)","database_type":"postgres"}},{"id":222573,"event":"return","thread_id":9160,"parent_id":222572,"elapsed":0.000956205,"elapsed_instrumentation":0.0001033750013448298},{"id":222574,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1753880,"value":"#<Tag:0x00007fc91a486418>"}},{"id":222575,"event":"return","thread_id":9160,"parent_id":222574,"elapsed":2.2122054360806942e-05,"elapsed_instrumentation":0.00013323198072612286,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fc931fbbba0>","object_id":1753900}},{"id":222576,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":1753920,"value":"2021-11-12T22:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":1753900,"value":"#<Trends::History:0x00007fc931fbbba0>"}},{"id":222577,"event":"return","thread_id":9160,"parent_id":222576,"elapsed":1.4924036804586649e-05,"elapsed_instrumentation":0.00012093700934201479,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fc931fba778>","object_id":1753940}},{"id":222578,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1753940,"value":"#<Trends::History::Day:0x00007fc931fba778>"}},{"id":222579,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":1753940,"value":"#<Trends::History::Day:0x00007fc931fba778>"}},{"id":222580,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1753960,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1753980,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222581,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222582,"event":"return","thread_id":9160,"parent_id":222581,"elapsed":2.6130001060664654e-06,"elapsed_instrumentation":5.9357029385864735e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":222583,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":1753940,"value":"#<Trends::History::Day:0x00007fc931fba778>"}},{"id":222584,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1753940,"value":"#<Trends::History::Day:0x00007fc931fba778>"}},{"id":222585,"event":"return","thread_id":9160,"parent_id":222584,"elapsed":1.0626972652971745e-05,"elapsed_instrumentation":5.775300087407231e-05,"return_value":{"class":"String","value":"activity:tags:1194:1636675200","object_id":1754000}},{"id":222586,"event":"return","thread_id":9160,"parent_id":222583,"elapsed":8.642900502309203e-05,"elapsed_instrumentation":6.945099448785186e-05,"return_value":{"class":"String","value":"activity:tags:1194:1636675200:accounts","object_id":1754020}},{"id":222587,"event":"return","thread_id":9160,"parent_id":222580,"elapsed":0.0006564999930560589,"elapsed_instrumentation":0.00011793099110946059,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":222588,"event":"return","thread_id":9160,"parent_id":222579,"elapsed":0.0007962760282680392,"elapsed_instrumentation":8.529797196388245e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":222589,"event":"return","thread_id":9160,"parent_id":222578,"elapsed":0.0008987259934656322,"elapsed_instrumentation":8.02050344645977e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":222590,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1753880,"value":"#<Tag:0x00007fc91a486418>"}},{"id":222591,"event":"return","thread_id":9160,"parent_id":222590,"elapsed":2.9819784685969353e-06,"elapsed_instrumentation":9.923602920025587e-05,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fc931fbbba0>","object_id":1753900}},{"id":222592,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":1753780,"value":"2021-11-13T22:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":1753900,"value":"#<Trends::History:0x00007fc931fbbba0>"}},{"id":222593,"event":"return","thread_id":9160,"parent_id":222592,"elapsed":1.9488041289150715e-05,"elapsed_instrumentation":9.172700811177492e-05,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fc931fb3f40>","object_id":1754040}},{"id":222594,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1754040,"value":"#<Trends::History::Day:0x00007fc931fb3f40>"}},{"id":222595,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":1754040,"value":"#<Trends::History::Day:0x00007fc931fb3f40>"}},{"id":222596,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1754060,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1754080,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222597,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222598,"event":"return","thread_id":9160,"parent_id":222597,"elapsed":2.5189947336912155e-06,"elapsed_instrumentation":5.954899825155735e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":222599,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":1754040,"value":"#<Trends::History::Day:0x00007fc931fb3f40>"}},{"id":222600,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1754040,"value":"#<Trends::History::Day:0x00007fc931fb3f40>"}},{"id":222601,"event":"return","thread_id":9160,"parent_id":222600,"elapsed":9.734008926898241e-06,"elapsed_instrumentation":5.759298801422119e-05,"return_value":{"class":"String","value":"activity:tags:1194:1636761600","object_id":1754100}},{"id":222602,"event":"return","thread_id":9160,"parent_id":222599,"elapsed":8.572603110224009e-05,"elapsed_instrumentation":7.059599738568068e-05,"return_value":{"class":"String","value":"activity:tags:1194:1636761600:accounts","object_id":1754120}},{"id":222603,"event":"return","thread_id":9160,"parent_id":222596,"elapsed":0.0007677240064367652,"elapsed_instrumentation":0.00010863400530070066,"return_value":{"class":"Integer","value":"2","object_id":5}},{"id":222604,"event":"return","thread_id":9160,"parent_id":222595,"elapsed":0.0008963819709606469,"elapsed_instrumentation":5.9265061281621456e-05,"return_value":{"class":"Integer","value":"2","object_id":5}},{"id":222605,"event":"return","thread_id":9160,"parent_id":222594,"elapsed":0.0009716339991427958,"elapsed_instrumentation":4.8886926379054785e-05,"return_value":{"class":"Integer","value":"2","object_id":5}},{"id":222606,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1754140,"value":"#<Tag:0x00007fc91a4862d8>"}},{"id":222607,"event":"return","thread_id":9160,"parent_id":222606,"elapsed":1.3587996363639832e-05,"elapsed_instrumentation":9.333598427474499e-05,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fc931fce2a0>","object_id":1754160}},{"id":222608,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":1754180,"value":"2021-11-12T22:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":1754160,"value":"#<Trends::History:0x00007fc931fce2a0>"}},{"id":222609,"event":"return","thread_id":9160,"parent_id":222608,"elapsed":1.2464995961636305e-05,"elapsed_instrumentation":9.04320040717721e-05,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fc931fccdd8>","object_id":1754200}},{"id":222610,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1754200,"value":"#<Trends::History::Day:0x00007fc931fccdd8>"}},{"id":222611,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":1754200,"value":"#<Trends::History::Day:0x00007fc931fccdd8>"}},{"id":222612,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1754220,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1754240,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222613,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222614,"event":"return","thread_id":9160,"parent_id":222613,"elapsed":2.4269684217870235e-06,"elapsed_instrumentation":5.737401079386473e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":222615,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":1754200,"value":"#<Trends::History::Day:0x00007fc931fccdd8>"}},{"id":222616,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1754200,"value":"#<Trends::History::Day:0x00007fc931fccdd8>"}},{"id":222617,"event":"return","thread_id":9160,"parent_id":222616,"elapsed":8.884002454578876e-06,"elapsed_instrumentation":5.5525044444948435e-05,"return_value":{"class":"String","value":"activity:tags:1196:1636675200","object_id":1754260}},{"id":222618,"event":"return","thread_id":9160,"parent_id":222615,"elapsed":8.140201680362225e-05,"elapsed_instrumentation":6.986095104366541e-05,"return_value":{"class":"String","value":"activity:tags:1196:1636675200:accounts","object_id":1754280}},{"id":222619,"event":"return","thread_id":9160,"parent_id":222612,"elapsed":0.0006561609916388988,"elapsed_instrumentation":0.00010478094918653369,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":222620,"event":"return","thread_id":9160,"parent_id":222611,"elapsed":0.000782173010520637,"elapsed_instrumentation":0.00020840199431404471,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":222621,"event":"return","thread_id":9160,"parent_id":222610,"elapsed":0.0010079829953610897,"elapsed_instrumentation":4.8728950787335634e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":222622,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1754140,"value":"#<Tag:0x00007fc91a4862d8>"}},{"id":222623,"event":"return","thread_id":9160,"parent_id":222622,"elapsed":3.2229581847786903e-06,"elapsed_instrumentation":0.00024769396986812353,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fc931fce2a0>","object_id":1754160}},{"id":222624,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":1753780,"value":"2021-11-13T22:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":1754160,"value":"#<Trends::History:0x00007fc931fce2a0>"}},{"id":222625,"event":"return","thread_id":9160,"parent_id":222624,"elapsed":2.355698961764574e-05,"elapsed_instrumentation":0.00012821797281503677,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fc931fc66e0>","object_id":1754300}},{"id":222626,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1754300,"value":"#<Trends::History::Day:0x00007fc931fc66e0>"}},{"id":222627,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":1754300,"value":"#<Trends::History::Day:0x00007fc931fc66e0>"}},{"id":222628,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1754320,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1754340,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222629,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222630,"event":"return","thread_id":9160,"parent_id":222629,"elapsed":2.2859894670546055e-06,"elapsed_instrumentation":6.017100531607866e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":222631,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":1754300,"value":"#<Trends::History::Day:0x00007fc931fc66e0>"}},{"id":222632,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1754300,"value":"#<Trends::History::Day:0x00007fc931fc66e0>"}},{"id":222633,"event":"return","thread_id":9160,"parent_id":222632,"elapsed":9.347975719720125e-06,"elapsed_instrumentation":5.481200059875846e-05,"return_value":{"class":"String","value":"activity:tags:1196:1636761600","object_id":1754360}},{"id":222634,"event":"return","thread_id":9160,"parent_id":222631,"elapsed":8.07630131021142e-05,"elapsed_instrumentation":7.123802788555622e-05,"return_value":{"class":"String","value":"activity:tags:1196:1636761600:accounts","object_id":1754380}},{"id":222635,"event":"return","thread_id":9160,"parent_id":222628,"elapsed":0.0005227500223554671,"elapsed_instrumentation":0.00010968802962452173,"return_value":{"class":"Integer","value":"13","object_id":27}},{"id":222636,"event":"return","thread_id":9160,"parent_id":222627,"elapsed":0.0006523290066979825,"elapsed_instrumentation":6.154499715194106e-05,"return_value":{"class":"Integer","value":"13","object_id":27}},{"id":222637,"event":"return","thread_id":9160,"parent_id":222626,"elapsed":0.0007295020041055977,"elapsed_instrumentation":5.450198659673333e-05,"return_value":{"class":"Integer","value":"13","object_id":27}},{"id":222638,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"tags\" SET \"max_score\" = $1, \"max_score_at\" = $2 WHERE \"tags\".\"id\" = $3","database_type":"postgres"}},{"id":222639,"event":"return","thread_id":9160,"parent_id":222638,"elapsed":0.000698427,"elapsed_instrumentation":9.122502524405718e-05},{"id":222640,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"replace_items","path":"app/models/trends/base.rb","lineno":71,"static":false,"parameters":[{"name":"suffix","class":"String","object_id":904380,"value":"","kind":"req"},{"name":"items","class":"Array","object_id":1754420,"value":"[{:score=>144.0, :item=>#<Tag:0x00007fc91a4862d8>}]","kind":"req","size":1}],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222641,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222642,"event":"return","thread_id":9160,"parent_id":222641,"elapsed":3.1879753805696964e-06,"elapsed_instrumentation":6.305298302322626e-05,"return_value":{"class":"String","value":"trending_tags","object_id":1753820}},{"id":222643,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"trendable?","path":"app/models/tag.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1754140,"value":"#<Tag:0x00007fc91a4862d8>"}},{"id":222644,"event":"call","thread_id":9160,"defined_class":"Setting","method_id":"[]","path":"app/models/setting.rb","lineno":24,"static":true,"parameters":[{"name":"key","class":"String","object_id":1754440,"value":"trendable_by_default","kind":"req"}],"receiver":{"class":"Class","object_id":61700,"value":"Setting"}},{"id":222645,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1754460,"value":"Cache read: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:compress= (...36 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":222646,"event":"return","thread_id":9160,"parent_id":222645,"elapsed":0.0012720719678327441,"elapsed_instrumentation":9.898305870592594e-05,"return_value":{"class":"Integer","value":"136","object_id":273}},{"id":222647,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1754480,"value":"Cache generate: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:compr (...40 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":222648,"event":"return","thread_id":9160,"parent_id":222647,"elapsed":0.0007914009620435536,"elapsed_instrumentation":0.00011301902122795582,"return_value":{"class":"Integer","value":"140","object_id":281}},{"id":222649,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"settings\".* FROM \"settings\" WHERE (thing_type is NULL and thing_id is NULL) AND \"settings\".\"var\" = $1 ORDER BY \"settings\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":222650,"event":"return","thread_id":9160,"parent_id":222649,"elapsed":0.00079725,"elapsed_instrumentation":0.0002260049805045128},{"id":222651,"event":"call","thread_id":9160,"defined_class":"Setting","method_id":"default_settings","path":"app/models/setting.rb","lineno":55,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":61700,"value":"Setting"}},{"id":222652,"event":"return","thread_id":9160,"parent_id":222651,"elapsed":3.405800089240074e-05,"elapsed_instrumentation":0.0002363690291531384,"return_value":{"class":"RailsSettings::Default","value":"{site_title=>Mastodon, site_short_description=>, site_description=>, site_extended_description=>, site_terms=>, site_contact_username=>, site_contact_email=>, registrations_mode=>open, profile_directory=>true, closed_registrations_message=> (...18 more entries)}","object_id":323420,"size":28}},{"id":222653,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1754500,"value":"Cache write: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:compress (...37 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":222654,"event":"return","thread_id":9160,"parent_id":222653,"elapsed":0.0005195130361244082,"elapsed_instrumentation":0.00011052197078242898,"return_value":{"class":"Integer","value":"137","object_id":275}},{"id":222655,"event":"call","thread_id":9160,"defined_class":"Marshal","method_id":"dump","path":"Marshal.dump","static":true,"parameters":[{"name":"arg","class":"Array","object_id":1754520,"value":"[false]","kind":"rest","size":1}],"receiver":{"class":"Module","object_id":318180,"value":"Marshal"}},{"id":222656,"event":"return","thread_id":9160,"parent_id":222655,"elapsed":5.585025064647198e-06,"elapsed_instrumentation":0.0001158079830929637,"return_value":{"class":"String","value":"\u0004\bF","object_id":1754540}},{"id":222657,"event":"return","thread_id":9160,"parent_id":222644,"elapsed":0.00600676896283403,"elapsed_instrumentation":7.545301923528314e-05},{"id":222658,"event":"call","thread_id":9160,"defined_class":"ApplicationRecord","method_id":"boolean_with_default","path":"app/models/application_record.rb","lineno":16,"static":false,"parameters":[{"name":"key","class":"String","object_id":1754560,"value":"trendable","kind":"req"},{"name":"default_value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Tag","object_id":1754140,"value":"#<Tag:0x00007fc91a4862d8>"}},{"id":222659,"event":"return","thread_id":9160,"parent_id":222658,"elapsed":0.0003389440244063735,"elapsed_instrumentation":0.0001521059894002974,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":222660,"event":"return","thread_id":9160,"parent_id":222643,"elapsed":0.006690123991575092,"elapsed_instrumentation":7.635203655809164e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":222661,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222662,"event":"return","thread_id":9160,"parent_id":222661,"elapsed":5.164998583495617e-06,"elapsed_instrumentation":9.005801985040307e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":222663,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222664,"event":"return","thread_id":9160,"parent_id":222663,"elapsed":3.397988621145487e-06,"elapsed_instrumentation":6.631098221987486e-05,"return_value":{"class":"String","value":"trending_tags","object_id":1753820}},{"id":222665,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222666,"event":"return","thread_id":9160,"parent_id":222665,"elapsed":2.025044523179531e-06,"elapsed_instrumentation":5.6569988373667e-05,"return_value":{"class":"String","value":"trending_tags","object_id":1753820}},{"id":222667,"event":"return","thread_id":9160,"parent_id":222640,"elapsed":0.007862357015255839,"elapsed_instrumentation":0.0004043959779664874,"return_value":{"class":"Array","value":"[true, true, OK, OK]","object_id":1754580,"size":4}},{"id":222668,"event":"return","thread_id":9160,"parent_id":222559,"elapsed":0.019891396979801357,"elapsed_instrumentation":0.0011947560124099255,"return_value":{"class":"Array","value":"[true, true, OK, OK]","object_id":1754580,"size":4}},{"id":222669,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"score","path":"app/models/trends/base.rb","lineno":40,"static":false,"parameters":[{"name":"id","class":"Integer","object_id":2393,"value":"1196","kind":"req"},{"name":"locale","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222670,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222671,"event":"return","thread_id":9160,"parent_id":222670,"elapsed":4.072033334523439e-06,"elapsed_instrumentation":6.975297583267093e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":222672,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222673,"event":"return","thread_id":9160,"parent_id":222672,"elapsed":3.5479897633194923e-06,"elapsed_instrumentation":5.5848038755357265e-05,"return_value":{"class":"String","value":"trending_tags","object_id":1753820}},{"id":222674,"event":"return","thread_id":9160,"parent_id":222669,"elapsed":0.0004981399979442358,"elapsed_instrumentation":0.00014576705871149898,"return_value":{"class":"Float","value":"144.0","object_id":220676381741154306}},{"id":222675,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"refresh","path":"app/models/trends/tags.rb","lineno":27,"static":false,"parameters":[{"name":"at_time","class":"DateTime","object_id":1754600,"value":"2021-11-14T02:15:00+00:00","kind":"opt"}],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222676,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"recently_used_ids","path":"app/models/trends/base.rb","lineno":58,"static":false,"parameters":[{"name":"at_time","class":"DateTime","object_id":1754600,"value":"2021-11-14T02:15:00+00:00","kind":"opt"}],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222677,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222678,"event":"return","thread_id":9160,"parent_id":222677,"elapsed":3.814988303929567e-06,"elapsed_instrumentation":6.279797526076436e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":222679,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222680,"event":"return","thread_id":9160,"parent_id":222679,"elapsed":2.2510066628456116e-06,"elapsed_instrumentation":5.5935001000761986e-05,"return_value":{"class":"String","value":"trending_tags","object_id":1753820}},{"id":222681,"event":"return","thread_id":9160,"parent_id":222676,"elapsed":0.000461835996247828,"elapsed_instrumentation":9.886699263006449e-05,"return_value":{"class":"Array","value":"[1194, 1195]","object_id":1754620,"size":2}},{"id":222682,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"currently_trending_ids","path":"app/models/trends/base.rb","lineno":48,"static":false,"parameters":[{"name":"allowed","class":"FalseClass","object_id":0,"value":"false","kind":"req"},{"name":"limit","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222683,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222684,"event":"return","thread_id":9160,"parent_id":222683,"elapsed":4.147994332015514e-06,"elapsed_instrumentation":0.00013580196537077427,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":222685,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222686,"event":"return","thread_id":9160,"parent_id":222685,"elapsed":2.289016265422106e-06,"elapsed_instrumentation":5.8789970353245735e-05,"return_value":{"class":"String","value":"trending_tags","object_id":1753820}},{"id":222687,"event":"return","thread_id":9160,"parent_id":222682,"elapsed":0.00048209604574367404,"elapsed_instrumentation":0.00011468498269096017,"return_value":{"class":"Array","value":"[1196]","object_id":1754640,"size":1}},{"id":222688,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"tags\".* FROM \"tags\" WHERE \"tags\".\"id\" IN ($1, $2, $3)","database_type":"postgres"}},{"id":222689,"event":"return","thread_id":9160,"parent_id":222688,"elapsed":0.000564007,"elapsed_instrumentation":8.376303594559431e-05},{"id":222690,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1754660,"value":"#<Tag:0x00007fc91a484c58>"}},{"id":222691,"event":"return","thread_id":9160,"parent_id":222690,"elapsed":1.8430990166962147e-05,"elapsed_instrumentation":0.00010733597446233034,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fc931f76a50>","object_id":1754680}},{"id":222692,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":1754700,"value":"2021-11-13T02:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":1754680,"value":"#<Trends::History:0x00007fc931f76a50>"}},{"id":222693,"event":"return","thread_id":9160,"parent_id":222692,"elapsed":1.4441029634326696e-05,"elapsed_instrumentation":9.70409600995481e-05,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fc931f75948>","object_id":1754720}},{"id":222694,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1754720,"value":"#<Trends::History::Day:0x00007fc931f75948>"}},{"id":222695,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":1754720,"value":"#<Trends::History::Day:0x00007fc931f75948>"}},{"id":222696,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1754740,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1754760,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222697,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222698,"event":"return","thread_id":9160,"parent_id":222697,"elapsed":4.147994332015514e-06,"elapsed_instrumentation":0.000199121015612036,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":222699,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":1754720,"value":"#<Trends::History::Day:0x00007fc931f75948>"}},{"id":222700,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1754720,"value":"#<Trends::History::Day:0x00007fc931f75948>"}},{"id":222701,"event":"return","thread_id":9160,"parent_id":222700,"elapsed":1.3242010027170181e-05,"elapsed_instrumentation":0.0002664030180312693,"return_value":{"class":"String","value":"activity:tags:1194:1636761600","object_id":1754780}},{"id":222702,"event":"return","thread_id":9160,"parent_id":222699,"elapsed":0.00030124897602945566,"elapsed_instrumentation":9.129400132223964e-05,"return_value":{"class":"String","value":"activity:tags:1194:1636761600:accounts","object_id":1754800}},{"id":222703,"event":"return","thread_id":9160,"parent_id":222696,"elapsed":0.0009184309747070074,"elapsed_instrumentation":0.00010617700172588229,"return_value":{"class":"Integer","value":"2","object_id":5}},{"id":222704,"event":"return","thread_id":9160,"parent_id":222695,"elapsed":0.0010444949730299413,"elapsed_instrumentation":5.7908997405320406e-05,"return_value":{"class":"Integer","value":"2","object_id":5}},{"id":222705,"event":"return","thread_id":9160,"parent_id":222694,"elapsed":0.0011185890180058777,"elapsed_instrumentation":5.0057016778737307e-05,"return_value":{"class":"Integer","value":"2","object_id":5}},{"id":222706,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1754660,"value":"#<Tag:0x00007fc91a484c58>"}},{"id":222707,"event":"return","thread_id":9160,"parent_id":222706,"elapsed":0.00010228698374703526,"elapsed_instrumentation":0.00010370498057454824,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fc931f76a50>","object_id":1754680}},{"id":222708,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":1754600,"value":"2021-11-14T02:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":1754680,"value":"#<Trends::History:0x00007fc931f76a50>"}},{"id":222709,"event":"return","thread_id":9160,"parent_id":222708,"elapsed":1.761200837790966e-05,"elapsed_instrumentation":8.871598402038217e-05,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fc931f0d6e0>","object_id":1754820}},{"id":222710,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1754820,"value":"#<Trends::History::Day:0x00007fc931f0d6e0>"}},{"id":222711,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":1754820,"value":"#<Trends::History::Day:0x00007fc931f0d6e0>"}},{"id":222712,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1754840,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1754860,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222713,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222714,"event":"return","thread_id":9160,"parent_id":222713,"elapsed":2.3510074242949486e-06,"elapsed_instrumentation":5.502806743606925e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":222715,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":1754820,"value":"#<Trends::History::Day:0x00007fc931f0d6e0>"}},{"id":222716,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1754820,"value":"#<Trends::History::Day:0x00007fc931f0d6e0>"}},{"id":222717,"event":"return","thread_id":9160,"parent_id":222716,"elapsed":9.145995136350393e-06,"elapsed_instrumentation":5.294498987495899e-05,"return_value":{"class":"String","value":"activity:tags:1194:1636848000","object_id":1754880}},{"id":222718,"event":"return","thread_id":9160,"parent_id":222715,"elapsed":7.873302092775702e-05,"elapsed_instrumentation":6.668298738077283e-05,"return_value":{"class":"String","value":"activity:tags:1194:1636848000:accounts","object_id":1754900}},{"id":222719,"event":"return","thread_id":9160,"parent_id":222712,"elapsed":0.0005096030072309077,"elapsed_instrumentation":0.00016996398335322738,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":222720,"event":"return","thread_id":9160,"parent_id":222711,"elapsed":0.0007002270431257784,"elapsed_instrumentation":6.0094986110925674e-05,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":222721,"event":"return","thread_id":9160,"parent_id":222710,"elapsed":0.0007753329700790346,"elapsed_instrumentation":4.69390070065856e-05,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":222722,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"tags\" SET \"max_score\" = $1, \"max_score_at\" = $2 WHERE \"tags\".\"id\" = $3","database_type":"postgres"}},{"id":222723,"event":"return","thread_id":9160,"parent_id":222722,"elapsed":0.000533002,"elapsed_instrumentation":7.659097900614142e-05},{"id":222724,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1754920,"value":"#<Tag:0x00007fc91a484b18>"}},{"id":222725,"event":"return","thread_id":9160,"parent_id":222724,"elapsed":1.8140010070055723e-05,"elapsed_instrumentation":0.00012690207222476602,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fc931f05d00>","object_id":1754940}},{"id":222726,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":1754960,"value":"2021-11-13T02:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":1754940,"value":"#<Trends::History:0x00007fc931f05d00>"}},{"id":222727,"event":"return","thread_id":9160,"parent_id":222726,"elapsed":1.2792006600648165e-05,"elapsed_instrumentation":9.672000305727124e-05,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fc931f04298>","object_id":1754980}},{"id":222728,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1754980,"value":"#<Trends::History::Day:0x00007fc931f04298>"}},{"id":222729,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":1754980,"value":"#<Trends::History::Day:0x00007fc931f04298>"}},{"id":222730,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1755000,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1755020,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222731,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222732,"event":"return","thread_id":9160,"parent_id":222731,"elapsed":4.18099807575345e-06,"elapsed_instrumentation":0.00014450302114710212,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":222733,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":1754980,"value":"#<Trends::History::Day:0x00007fc931f04298>"}},{"id":222734,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1754980,"value":"#<Trends::History::Day:0x00007fc931f04298>"}},{"id":222735,"event":"return","thread_id":9160,"parent_id":222734,"elapsed":9.812996722757816e-06,"elapsed_instrumentation":5.957199027761817e-05,"return_value":{"class":"String","value":"activity:tags:1195:1636761600","object_id":1755040}},{"id":222736,"event":"return","thread_id":9160,"parent_id":222733,"elapsed":8.747802348807454e-05,"elapsed_instrumentation":7.861893391236663e-05,"return_value":{"class":"String","value":"activity:tags:1195:1636761600:accounts","object_id":1755060}},{"id":222737,"event":"return","thread_id":9160,"parent_id":222730,"elapsed":0.0006635310128331184,"elapsed_instrumentation":0.0001046470133587718,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":222738,"event":"return","thread_id":9160,"parent_id":222729,"elapsed":0.0007882610079832375,"elapsed_instrumentation":5.87150570936501e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":222739,"event":"return","thread_id":9160,"parent_id":222728,"elapsed":0.0008632910321466625,"elapsed_instrumentation":5.057599628344178e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":222740,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1754920,"value":"#<Tag:0x00007fc91a484b18>"}},{"id":222741,"event":"return","thread_id":9160,"parent_id":222740,"elapsed":2.9400107450783253e-06,"elapsed_instrumentation":8.573394734412432e-05,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fc931f05d00>","object_id":1754940}},{"id":222742,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":1754600,"value":"2021-11-14T02:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":1754940,"value":"#<Trends::History:0x00007fc931f05d00>"}},{"id":222743,"event":"return","thread_id":9160,"parent_id":222742,"elapsed":1.6812002286314964e-05,"elapsed_instrumentation":8.255400462076068e-05,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fc931f2b230>","object_id":1755080}},{"id":222744,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1755080,"value":"#<Trends::History::Day:0x00007fc931f2b230>"}},{"id":222745,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":1755080,"value":"#<Trends::History::Day:0x00007fc931f2b230>"}},{"id":222746,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1755100,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1755120,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222747,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222748,"event":"return","thread_id":9160,"parent_id":222747,"elapsed":2.17795604839921e-06,"elapsed_instrumentation":6.905000191181898e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":222749,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":1755080,"value":"#<Trends::History::Day:0x00007fc931f2b230>"}},{"id":222750,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1755080,"value":"#<Trends::History::Day:0x00007fc931f2b230>"}},{"id":222751,"event":"return","thread_id":9160,"parent_id":222750,"elapsed":1.0064046364277601e-05,"elapsed_instrumentation":5.63119538128376e-05,"return_value":{"class":"String","value":"activity:tags:1195:1636848000","object_id":1755140}},{"id":222752,"event":"return","thread_id":9160,"parent_id":222749,"elapsed":8.369400165975094e-05,"elapsed_instrumentation":7.333699613809586e-05,"return_value":{"class":"String","value":"activity:tags:1195:1636848000:accounts","object_id":1755160}},{"id":222753,"event":"return","thread_id":9160,"parent_id":222746,"elapsed":0.0006205219542607665,"elapsed_instrumentation":0.00012902606977149844,"return_value":{"class":"Integer","value":"4","object_id":9}},{"id":222754,"event":"return","thread_id":9160,"parent_id":222745,"elapsed":0.000773239997215569,"elapsed_instrumentation":0.0001688299817033112,"return_value":{"class":"Integer","value":"4","object_id":9}},{"id":222755,"event":"return","thread_id":9160,"parent_id":222744,"elapsed":0.0009597840253263712,"elapsed_instrumentation":5.0130009185522795e-05,"return_value":{"class":"Integer","value":"4","object_id":9}},{"id":222756,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1755180,"value":"#<Tag:0x00007fc91a4849d8>"}},{"id":222757,"event":"return","thread_id":9160,"parent_id":222756,"elapsed":1.54040171764791e-05,"elapsed_instrumentation":0.0001521759550087154,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fc931f23490>","object_id":1755200}},{"id":222758,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":1755220,"value":"2021-11-13T02:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":1755200,"value":"#<Trends::History:0x00007fc931f23490>"}},{"id":222759,"event":"return","thread_id":9160,"parent_id":222758,"elapsed":1.2052012607455254e-05,"elapsed_instrumentation":8.839298970997334e-05,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fc931f224a0>","object_id":1755240}},{"id":222760,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1755240,"value":"#<Trends::History::Day:0x00007fc931f224a0>"}},{"id":222761,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":1755240,"value":"#<Trends::History::Day:0x00007fc931f224a0>"}},{"id":222762,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1755260,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1755280,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222763,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222764,"event":"return","thread_id":9160,"parent_id":222763,"elapsed":2.140994183719158e-06,"elapsed_instrumentation":6.621499778702855e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":222765,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":1755240,"value":"#<Trends::History::Day:0x00007fc931f224a0>"}},{"id":222766,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1755240,"value":"#<Trends::History::Day:0x00007fc931f224a0>"}},{"id":222767,"event":"return","thread_id":9160,"parent_id":222766,"elapsed":8.956005331128836e-06,"elapsed_instrumentation":5.4574920795857906e-05,"return_value":{"class":"String","value":"activity:tags:1196:1636761600","object_id":1755300}},{"id":222768,"event":"return","thread_id":9160,"parent_id":222765,"elapsed":7.99469999037683e-05,"elapsed_instrumentation":0.00015703297685831785,"return_value":{"class":"String","value":"activity:tags:1196:1636761600:accounts","object_id":1755320}},{"id":222769,"event":"return","thread_id":9160,"parent_id":222762,"elapsed":0.000853310979437083,"elapsed_instrumentation":9.621796198189259e-05,"return_value":{"class":"Integer","value":"13","object_id":27}},{"id":222770,"event":"return","thread_id":9160,"parent_id":222761,"elapsed":0.0009673479944467545,"elapsed_instrumentation":5.666801007464528e-05,"return_value":{"class":"Integer","value":"13","object_id":27}},{"id":222771,"event":"return","thread_id":9160,"parent_id":222760,"elapsed":0.0010391830001026392,"elapsed_instrumentation":4.841596819460392e-05,"return_value":{"class":"Integer","value":"13","object_id":27}},{"id":222772,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1755180,"value":"#<Tag:0x00007fc91a4849d8>"}},{"id":222773,"event":"return","thread_id":9160,"parent_id":222772,"elapsed":2.689019311219454e-06,"elapsed_instrumentation":8.306396193802357e-05,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fc931f23490>","object_id":1755200}},{"id":222774,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":1754600,"value":"2021-11-14T02:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":1755200,"value":"#<Trends::History:0x00007fc931f23490>"}},{"id":222775,"event":"return","thread_id":9160,"parent_id":222774,"elapsed":1.567596336826682e-05,"elapsed_instrumentation":8.034100756049156e-05,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fc931ebbe58>","object_id":1755340}},{"id":222776,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1755340,"value":"#<Trends::History::Day:0x00007fc931ebbe58>"}},{"id":222777,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":1755340,"value":"#<Trends::History::Day:0x00007fc931ebbe58>"}},{"id":222778,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1755360,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1755380,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222779,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":222780,"event":"return","thread_id":9160,"parent_id":222779,"elapsed":2.036977093666792e-06,"elapsed_instrumentation":5.984498420730233e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":222781,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":1755340,"value":"#<Trends::History::Day:0x00007fc931ebbe58>"}},{"id":222782,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":1755340,"value":"#<Trends::History::Day:0x00007fc931ebbe58>"}},{"id":222783,"event":"return","thread_id":9160,"parent_id":222782,"elapsed":9.134004358202219e-06,"elapsed_instrumentation":7.761397864669561e-05,"return_value":{"class":"String","value":"activity:tags:1196:1636848000","object_id":1755400}},{"id":222784,"event":"return","thread_id":9160,"parent_id":222781,"elapsed":0.00011186097981408238,"elapsed_instrumentation":6.857200060039759e-05,"return_value":{"class":"String","value":"activity:tags:1196:1636848000:accounts","object_id":1755420}},{"id":222785,"event":"return","thread_id":9160,"parent_id":222778,"elapsed":0.0006172999856062233,"elapsed_instrumentation":0.00013142399257048965,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":222786,"event":"return","thread_id":9160,"parent_id":222777,"elapsed":0.0007673259824514389,"elapsed_instrumentation":5.5823009461164474e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":222787,"event":"return","thread_id":9160,"parent_id":222776,"elapsed":0.0008375369943678379,"elapsed_instrumentation":4.784500924870372e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":222788,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"replace_items","path":"app/models/trends/base.rb","lineno":71,"static":false,"parameters":[{"name":"suffix","class":"String","object_id":904380,"value":"","kind":"req"},{"name":"items","class":"Array","object_id":1755440,"value":"[{:score=>98.0, :item=>#<Tag:0x00007fc91a484c58>}, {:score=>72.0, :item=>#<Tag:0x00007fc91a4849d8>}]","kind":"req","size":2}],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222789,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222790,"event":"return","thread_id":9160,"parent_id":222789,"elapsed":3.445951733738184e-06,"elapsed_instrumentation":5.80710475333035e-05,"return_value":{"class":"String","value":"trending_tags","object_id":1753820}},{"id":222791,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"trendable?","path":"app/models/tag.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1754660,"value":"#<Tag:0x00007fc91a484c58>"}},{"id":222792,"event":"call","thread_id":9160,"defined_class":"Setting","method_id":"[]","path":"app/models/setting.rb","lineno":24,"static":true,"parameters":[{"name":"key","class":"String","object_id":1755460,"value":"trendable_by_default","kind":"req"}],"receiver":{"class":"Class","object_id":61700,"value":"Setting"}},{"id":222793,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1755480,"value":"Cache read: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:compress= (...36 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":222794,"event":"return","thread_id":9160,"parent_id":222793,"elapsed":0.0005137879634276032,"elapsed_instrumentation":0.00010254001244902611,"return_value":{"class":"Integer","value":"136","object_id":273}},{"id":222795,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1755500,"value":"Cache fetch_hit: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:comp (...41 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":222796,"event":"return","thread_id":9160,"parent_id":222795,"elapsed":0.0004724509781226516,"elapsed_instrumentation":0.00012175797019153833,"return_value":{"class":"Integer","value":"141","object_id":283}},{"id":222797,"event":"return","thread_id":9160,"parent_id":222792,"elapsed":0.0015196320018731058,"elapsed_instrumentation":9.20199672691524e-05},{"id":222798,"event":"call","thread_id":9160,"defined_class":"ApplicationRecord","method_id":"boolean_with_default","path":"app/models/application_record.rb","lineno":16,"static":false,"parameters":[{"name":"key","class":"String","object_id":1754560,"value":"trendable","kind":"req"},{"name":"default_value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Tag","object_id":1754660,"value":"#<Tag:0x00007fc91a484c58>"}},{"id":222799,"event":"return","thread_id":9160,"parent_id":222798,"elapsed":0.00018090498633682728,"elapsed_instrumentation":0.00019701599376276135,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":222800,"event":"return","thread_id":9160,"parent_id":222791,"elapsed":0.00216943200211972,"elapsed_instrumentation":7.764191832393408e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":222801,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"trendable?","path":"app/models/tag.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":1755180,"value":"#<Tag:0x00007fc91a4849d8>"}},{"id":222802,"event":"call","thread_id":9160,"defined_class":"Setting","method_id":"[]","path":"app/models/setting.rb","lineno":24,"static":true,"parameters":[{"name":"key","class":"String","object_id":1755520,"value":"trendable_by_default","kind":"req"}],"receiver":{"class":"Class","object_id":61700,"value":"Setting"}},{"id":222803,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1755540,"value":"Cache read: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:compress= (...36 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":222804,"event":"return","thread_id":9160,"parent_id":222803,"elapsed":0.0005703390343114734,"elapsed_instrumentation":9.98239847831428e-05,"return_value":{"class":"Integer","value":"136","object_id":273}},{"id":222805,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1755560,"value":"Cache fetch_hit: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:comp (...41 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":222806,"event":"return","thread_id":9160,"parent_id":222805,"elapsed":0.0005941520212218165,"elapsed_instrumentation":0.00012108299415558577,"return_value":{"class":"Integer","value":"141","object_id":283}},{"id":222807,"event":"return","thread_id":9160,"parent_id":222802,"elapsed":0.0016219039680436254,"elapsed_instrumentation":8.019199594855309e-05},{"id":222808,"event":"call","thread_id":9160,"defined_class":"ApplicationRecord","method_id":"boolean_with_default","path":"app/models/application_record.rb","lineno":16,"static":false,"parameters":[{"name":"key","class":"String","object_id":1754560,"value":"trendable","kind":"req"},{"name":"default_value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Tag","object_id":1755180,"value":"#<Tag:0x00007fc91a4849d8>"}},{"id":222809,"event":"return","thread_id":9160,"parent_id":222808,"elapsed":0.00012599502224475145,"elapsed_instrumentation":0.00011164706666022539,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":222810,"event":"return","thread_id":9160,"parent_id":222801,"elapsed":0.0020160889835096896,"elapsed_instrumentation":6.60190125927329e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":222811,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222812,"event":"return","thread_id":9160,"parent_id":222811,"elapsed":5.314999725669622e-06,"elapsed_instrumentation":8.355599129572511e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":222813,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222814,"event":"return","thread_id":9160,"parent_id":222813,"elapsed":3.167020622640848e-06,"elapsed_instrumentation":6.675993790850043e-05,"return_value":{"class":"String","value":"trending_tags","object_id":1753820}},{"id":222815,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222816,"event":"return","thread_id":9160,"parent_id":222815,"elapsed":2.163986209779978e-06,"elapsed_instrumentation":5.608703941106796e-05,"return_value":{"class":"String","value":"trending_tags","object_id":1753820}},{"id":222817,"event":"return","thread_id":9160,"parent_id":222788,"elapsed":0.005465049995109439,"elapsed_instrumentation":0.00022642704425379634,"return_value":{"class":"Array","value":"[true, true, true, true, OK, OK]","object_id":1755580,"size":6}},{"id":222818,"event":"return","thread_id":9160,"parent_id":222675,"elapsed":0.018110395991243422,"elapsed_instrumentation":0.00012964900815859437,"return_value":{"class":"Array","value":"[true, true, true, true, OK, OK]","object_id":1755580,"size":6}},{"id":222819,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"score","path":"app/models/trends/base.rb","lineno":40,"static":false,"parameters":[{"name":"id","class":"Integer","object_id":2393,"value":"1196","kind":"req"},{"name":"locale","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222820,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222821,"event":"return","thread_id":9160,"parent_id":222820,"elapsed":4.48198989033699e-06,"elapsed_instrumentation":7.404503412544727e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":222822,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":1753800,"value":"#<Trends::Tags:0x00007fc9322ee6d8>"}},{"id":222823,"event":"return","thread_id":9160,"parent_id":222822,"elapsed":2.4139881134033203e-06,"elapsed_instrumentation":5.533709190785885e-05,"return_value":{"class":"String","value":"trending_tags","object_id":1753820}},{"id":222824,"event":"return","thread_id":9160,"parent_id":222819,"elapsed":0.0007597389630973339,"elapsed_instrumentation":0.00010955403558909893,"return_value":{"class":"Float","value":"72.0","object_id":184647584722190338}}]}