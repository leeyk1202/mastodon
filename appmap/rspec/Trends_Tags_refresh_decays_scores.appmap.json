{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Trends::Tags #refresh decays scores","source_location":"spec/models/trends/tags_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"trends","type":"package","children":[{"name":"Trends","type":"class","children":[{"name":"Tags","type":"class","children":[{"name":"refresh","type":"function","location":"app/models/trends/tags.rb:27","static":false},{"name":"key_prefix","type":"function","location":"app/models/trends/tags.rb:45","static":false}]},{"name":"Base","type":"class","children":[{"name":"recently_used_ids","type":"function","location":"app/models/trends/base.rb:58","static":false},{"name":"currently_trending_ids","type":"function","location":"app/models/trends/base.rb:48","static":false},{"name":"replace_items","type":"function","location":"app/models/trends/base.rb:71","static":false},{"name":"score","type":"function","location":"app/models/trends/base.rb:40","static":false}]},{"name":"History","type":"class","children":[{"name":"get","type":"function","location":"app/models/trends/history.rb:77","static":false},{"name":"Day","type":"class","children":[{"name":"accounts","type":"function","location":"app/models/trends/history.rb:35","static":false},{"name":"key_for","type":"function","location":"app/models/trends/history.rb:58","static":false},{"name":"key_prefix","type":"function","location":"app/models/trends/history.rb:67","static":false}]}]}]}]},{"name":"concerns","type":"package","children":[{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false},{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false}]}]},{"name":"Tag","type":"class","children":[{"name":"history","type":"function","location":"app/models/tag.rb:109","static":false},{"name":"trendable?","type":"function","location":"app/models/tag.rb:83","static":false}]},{"name":"Setting","type":"class","children":[{"name":"[]","type":"function","location":"app/models/setting.rb:24","static":true},{"name":"default_settings","type":"function","location":"app/models/setting.rb:55","static":true}]},{"name":"ApplicationRecord","type":"class","children":[{"name":"boolean_with_default","type":"function","location":"app/models/application_record.rb:16","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Marshal","type":"class","children":[{"name":"dump","type":"function","location":"Marshal.dump","static":true,"labels":["serialize"]}]}]}],"events":[{"id":1969317,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"refresh","path":"app/models/trends/tags.rb","lineno":27,"static":false,"parameters":[{"name":"at_time","class":"DateTime","object_id":10585400,"value":"2021-11-13T22:15:00+00:00","kind":"opt"}],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969318,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"recently_used_ids","path":"app/models/trends/base.rb","lineno":58,"static":false,"parameters":[{"name":"at_time","class":"DateTime","object_id":10585400,"value":"2021-11-13T22:15:00+00:00","kind":"opt"}],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969319,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969320,"event":"return","thread_id":9160,"parent_id":1969319,"elapsed":4.353001713752747e-06,"elapsed_instrumentation":8.672397234477103e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1969321,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969322,"event":"return","thread_id":9160,"parent_id":1969321,"elapsed":2.9360235203057528e-06,"elapsed_instrumentation":6.870299694128335e-05,"return_value":{"class":"String","value":"trending_tags","object_id":8875560}},{"id":1969323,"event":"return","thread_id":9160,"parent_id":1969318,"elapsed":0.0006810119957663119,"elapsed_instrumentation":0.000170312006957829,"return_value":{"class":"Array","value":"[132, 134]","object_id":10585440,"size":2}},{"id":1969324,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"currently_trending_ids","path":"app/models/trends/base.rb","lineno":48,"static":false,"parameters":[{"name":"allowed","class":"FalseClass","object_id":0,"value":"false","kind":"req"},{"name":"limit","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969325,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969326,"event":"return","thread_id":9160,"parent_id":1969325,"elapsed":5.3810072131454945e-06,"elapsed_instrumentation":0.00011616002302616835,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1969327,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969328,"event":"return","thread_id":9160,"parent_id":1969327,"elapsed":2.6919879019260406e-06,"elapsed_instrumentation":7.792902761138976e-05,"return_value":{"class":"String","value":"trending_tags","object_id":8875560}},{"id":1969329,"event":"return","thread_id":9160,"parent_id":1969324,"elapsed":0.000756121997255832,"elapsed_instrumentation":0.00019061201601289213,"return_value":{"class":"Array","value":"[]","object_id":10585460,"size":0}},{"id":1969330,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"tags\".* FROM \"tags\" WHERE \"tags\".\"id\" IN ($1, $2)","database_type":"postgres"}},{"id":1969331,"event":"return","thread_id":9160,"parent_id":1969330,"elapsed":0.000804684,"elapsed_instrumentation":0.00010908098192885518},{"id":1969332,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10585480,"value":"#<Tag:0x00007fdbf407b7c8>"}},{"id":1969333,"event":"return","thread_id":9160,"parent_id":1969332,"elapsed":2.5285000447183847e-05,"elapsed_instrumentation":0.00012750999303534627,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fdc094610f8>","object_id":10585500}},{"id":1969334,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":10585520,"value":"2021-11-12T22:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":10585500,"value":"#<Trends::History:0x00007fdc094610f8>"}},{"id":1969335,"event":"return","thread_id":9160,"parent_id":1969334,"elapsed":1.877400791272521e-05,"elapsed_instrumentation":0.00015513598918914795,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fdc09460f68>","object_id":10585540}},{"id":1969336,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10585540,"value":"#<Trends::History::Day:0x00007fdc09460f68>"}},{"id":1969337,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":10585540,"value":"#<Trends::History::Day:0x00007fdc09460f68>"}},{"id":1969338,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10585560,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10585580,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969339,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969340,"event":"return","thread_id":9160,"parent_id":1969339,"elapsed":3.016000846400857e-06,"elapsed_instrumentation":6.963900523260236e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1969341,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":10585540,"value":"#<Trends::History::Day:0x00007fdc09460f68>"}},{"id":1969342,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10585540,"value":"#<Trends::History::Day:0x00007fdc09460f68>"}},{"id":1969343,"event":"return","thread_id":9160,"parent_id":1969342,"elapsed":1.1526979506015778e-05,"elapsed_instrumentation":6.677099736407399e-05,"return_value":{"class":"String","value":"activity:tags:132:1636675200","object_id":10585600}},{"id":1969344,"event":"return","thread_id":9160,"parent_id":1969341,"elapsed":0.00010228800238110125,"elapsed_instrumentation":8.596701081842184e-05,"return_value":{"class":"String","value":"activity:tags:132:1636675200:accounts","object_id":10585620}},{"id":1969345,"event":"return","thread_id":9160,"parent_id":1969338,"elapsed":0.000792934006312862,"elapsed_instrumentation":0.0001357769942842424,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1969346,"event":"return","thread_id":9160,"parent_id":1969337,"elapsed":0.0009541420149616897,"elapsed_instrumentation":9.729398880153894e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1969347,"event":"return","thread_id":9160,"parent_id":1969336,"elapsed":0.001071904000127688,"elapsed_instrumentation":6.295301136560738e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1969348,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10585480,"value":"#<Tag:0x00007fdbf407b7c8>"}},{"id":1969349,"event":"return","thread_id":9160,"parent_id":1969348,"elapsed":3.6259880289435387e-06,"elapsed_instrumentation":0.00011530501069501042,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fdc094610f8>","object_id":10585500}},{"id":1969350,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":10585400,"value":"2021-11-13T22:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":10585500,"value":"#<Trends::History:0x00007fdc094610f8>"}},{"id":1969351,"event":"return","thread_id":9160,"parent_id":1969350,"elapsed":2.0145991584286094e-05,"elapsed_instrumentation":0.00010457198368385434,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fdc09460568>","object_id":10585640}},{"id":1969352,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10585640,"value":"#<Trends::History::Day:0x00007fdc09460568>"}},{"id":1969353,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":10585640,"value":"#<Trends::History::Day:0x00007fdc09460568>"}},{"id":1969354,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10585660,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10585680,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969355,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969356,"event":"return","thread_id":9160,"parent_id":1969355,"elapsed":2.607994247227907e-06,"elapsed_instrumentation":7.098700734786689e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1969357,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":10585640,"value":"#<Trends::History::Day:0x00007fdc09460568>"}},{"id":1969358,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10585640,"value":"#<Trends::History::Day:0x00007fdc09460568>"}},{"id":1969359,"event":"return","thread_id":9160,"parent_id":1969358,"elapsed":1.149799209088087e-05,"elapsed_instrumentation":6.67090353090316e-05,"return_value":{"class":"String","value":"activity:tags:132:1636761600","object_id":10585700}},{"id":1969360,"event":"return","thread_id":9160,"parent_id":1969357,"elapsed":9.80240001808852e-05,"elapsed_instrumentation":8.171197259798646e-05,"return_value":{"class":"String","value":"activity:tags:132:1636761600:accounts","object_id":10585720}},{"id":1969361,"event":"return","thread_id":9160,"parent_id":1969354,"elapsed":0.0007059659983497113,"elapsed_instrumentation":0.000251884019235149,"return_value":{"class":"Integer","value":"2","object_id":5}},{"id":1969362,"event":"return","thread_id":9160,"parent_id":1969353,"elapsed":0.0009866130130831152,"elapsed_instrumentation":0.000158729002578184,"return_value":{"class":"Integer","value":"2","object_id":5}},{"id":1969363,"event":"return","thread_id":9160,"parent_id":1969352,"elapsed":0.0011673560074996203,"elapsed_instrumentation":6.028599455021322e-05,"return_value":{"class":"Integer","value":"2","object_id":5}},{"id":1969364,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10585740,"value":"#<Tag:0x00007fdbf407b688>"}},{"id":1969365,"event":"return","thread_id":9160,"parent_id":1969364,"elapsed":1.698499545454979e-05,"elapsed_instrumentation":0.00012106000212952495,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fdc094afc30>","object_id":10585760}},{"id":1969366,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":10585780,"value":"2021-11-12T22:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":10585760,"value":"#<Trends::History:0x00007fdc094afc30>"}},{"id":1969367,"event":"return","thread_id":9160,"parent_id":1969366,"elapsed":1.4821009244769812e-05,"elapsed_instrumentation":0.00010969501454383135,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fdc094afaa0>","object_id":10585800}},{"id":1969368,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10585800,"value":"#<Trends::History::Day:0x00007fdc094afaa0>"}},{"id":1969369,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":10585800,"value":"#<Trends::History::Day:0x00007fdc094afaa0>"}},{"id":1969370,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10585820,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10585840,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969371,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969372,"event":"return","thread_id":9160,"parent_id":1969371,"elapsed":5.395995685830712e-06,"elapsed_instrumentation":0.00029116999940015376,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1969373,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":10585800,"value":"#<Trends::History::Day:0x00007fdc094afaa0>"}},{"id":1969374,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10585800,"value":"#<Trends::History::Day:0x00007fdc094afaa0>"}},{"id":1969375,"event":"return","thread_id":9160,"parent_id":1969374,"elapsed":1.4672026736661792e-05,"elapsed_instrumentation":0.00011421999079175293,"return_value":{"class":"String","value":"activity:tags:134:1636675200","object_id":10585860}},{"id":1969376,"event":"return","thread_id":9160,"parent_id":1969373,"elapsed":0.0001574810012243688,"elapsed_instrumentation":0.0002074640360660851,"return_value":{"class":"String","value":"activity:tags:134:1636675200:accounts","object_id":10585880}},{"id":1969377,"event":"return","thread_id":9160,"parent_id":1969370,"elapsed":0.0012203290243633091,"elapsed_instrumentation":0.00013198898523114622,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1969378,"event":"return","thread_id":9160,"parent_id":1969369,"elapsed":0.0013777780113741755,"elapsed_instrumentation":0.00043594001908786595,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1969379,"event":"return","thread_id":9160,"parent_id":1969368,"elapsed":0.0018407850002404302,"elapsed_instrumentation":7.437600288540125e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1969380,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10585740,"value":"#<Tag:0x00007fdbf407b688>"}},{"id":1969381,"event":"return","thread_id":9160,"parent_id":1969380,"elapsed":6.590009434148669e-06,"elapsed_instrumentation":0.00019536999752745032,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fdc094afc30>","object_id":10585760}},{"id":1969382,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":10585400,"value":"2021-11-13T22:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":10585760,"value":"#<Trends::History:0x00007fdc094afc30>"}},{"id":1969383,"event":"return","thread_id":9160,"parent_id":1969382,"elapsed":2.4052016669884324e-05,"elapsed_instrumentation":0.00014770700363442302,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fdc094af050>","object_id":10585900}},{"id":1969384,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10585900,"value":"#<Trends::History::Day:0x00007fdc094af050>"}},{"id":1969385,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":10585900,"value":"#<Trends::History::Day:0x00007fdc094af050>"}},{"id":1969386,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10585920,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10585940,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969387,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969388,"event":"return","thread_id":9160,"parent_id":1969387,"elapsed":3.5729899536818266e-06,"elapsed_instrumentation":8.292100392282009e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1969389,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":10585900,"value":"#<Trends::History::Day:0x00007fdc094af050>"}},{"id":1969390,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10585900,"value":"#<Trends::History::Day:0x00007fdc094af050>"}},{"id":1969391,"event":"return","thread_id":9160,"parent_id":1969390,"elapsed":2.060900442302227e-05,"elapsed_instrumentation":0.00013996398774906993,"return_value":{"class":"String","value":"activity:tags:134:1636761600","object_id":10585960}},{"id":1969392,"event":"return","thread_id":9160,"parent_id":1969389,"elapsed":0.00019410901586525142,"elapsed_instrumentation":9.505299385637045e-05,"return_value":{"class":"String","value":"activity:tags:134:1636761600:accounts","object_id":10585980}},{"id":1969393,"event":"return","thread_id":9160,"parent_id":1969386,"elapsed":0.0009146039956249297,"elapsed_instrumentation":0.00018832800560630858,"return_value":{"class":"Integer","value":"13","object_id":27}},{"id":1969394,"event":"return","thread_id":9160,"parent_id":1969385,"elapsed":0.001135279017034918,"elapsed_instrumentation":8.79440049175173e-05,"return_value":{"class":"Integer","value":"13","object_id":27}},{"id":1969395,"event":"return","thread_id":9160,"parent_id":1969384,"elapsed":0.0012612019781954587,"elapsed_instrumentation":0.00017321199993602931,"return_value":{"class":"Integer","value":"13","object_id":27}},{"id":1969396,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"tags\" SET \"max_score\" = $1, \"max_score_at\" = $2 WHERE \"tags\".\"id\" = $3","database_type":"postgres"}},{"id":1969397,"event":"return","thread_id":9160,"parent_id":1969396,"elapsed":0.002680011,"elapsed_instrumentation":0.00013523601228371263},{"id":1969398,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"replace_items","path":"app/models/trends/base.rb","lineno":71,"static":false,"parameters":[{"name":"suffix","class":"String","object_id":389940,"value":"","kind":"req"},{"name":"items","class":"Array","object_id":10586020,"value":"[{:score=>144.0, :item=>#<Tag:0x00007fdbf407b688>}]","kind":"req","size":1}],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969399,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969400,"event":"return","thread_id":9160,"parent_id":1969399,"elapsed":1.9745988538488746e-05,"elapsed_instrumentation":0.00010460900375619531,"return_value":{"class":"String","value":"trending_tags","object_id":8875560}},{"id":1969401,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"trendable?","path":"app/models/tag.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10585740,"value":"#<Tag:0x00007fdbf407b688>"}},{"id":1969402,"event":"call","thread_id":9160,"defined_class":"Setting","method_id":"[]","path":"app/models/setting.rb","lineno":24,"static":true,"parameters":[{"name":"key","class":"String","object_id":10586040,"value":"trendable_by_default","kind":"req"}],"receiver":{"class":"Class","object_id":61700,"value":"Setting"}},{"id":1969403,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10586060,"value":"Cache read: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:compress= (...36 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1969404,"event":"return","thread_id":9160,"parent_id":1969403,"elapsed":0.0008590910001657903,"elapsed_instrumentation":0.0003384740266483277,"return_value":{"class":"Integer","value":"136","object_id":273}},{"id":1969405,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10586080,"value":"Cache generate: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:compr (...40 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1969406,"event":"return","thread_id":9160,"parent_id":1969405,"elapsed":0.0007790540112182498,"elapsed_instrumentation":0.00020829201093874872,"return_value":{"class":"Integer","value":"140","object_id":281}},{"id":1969407,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"settings\".* FROM \"settings\" WHERE (thing_type is NULL and thing_id is NULL) AND \"settings\".\"var\" = $1 ORDER BY \"settings\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1969408,"event":"return","thread_id":9160,"parent_id":1969407,"elapsed":0.0008294,"elapsed_instrumentation":9.527799556963146e-05},{"id":1969409,"event":"call","thread_id":9160,"defined_class":"Setting","method_id":"default_settings","path":"app/models/setting.rb","lineno":55,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":61700,"value":"Setting"}},{"id":1969410,"event":"return","thread_id":9160,"parent_id":1969409,"elapsed":0.00046079797903075814,"elapsed_instrumentation":0.00028901302721351385,"return_value":{"class":"RailsSettings::Default","value":"{site_title=>Mastodon, site_short_description=>, site_description=>, site_extended_description=>, site_terms=>, site_contact_username=>, site_contact_email=>, registrations_mode=>open, profile_directory=>true, closed_registrations_message=> (...18 more entries)}","object_id":209060,"size":28}},{"id":1969411,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10586100,"value":"Cache write: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:compress (...37 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1969412,"event":"return","thread_id":9160,"parent_id":1969411,"elapsed":0.0007257040124386549,"elapsed_instrumentation":0.00023216998670250177,"return_value":{"class":"Integer","value":"137","object_id":275}},{"id":1969413,"event":"call","thread_id":9160,"defined_class":"Marshal","method_id":"dump","path":"Marshal.dump","static":true,"parameters":[{"name":"arg","class":"Array","object_id":10586120,"value":"[false]","kind":"rest","size":1}],"receiver":{"class":"Module","object_id":209120,"value":"Marshal"}},{"id":1969414,"event":"return","thread_id":9160,"parent_id":1969413,"elapsed":5.9140147641301155e-06,"elapsed_instrumentation":0.0001324279874097556,"return_value":{"class":"String","value":"\u0004\bF","object_id":10586140}},{"id":1969415,"event":"return","thread_id":9160,"parent_id":1969402,"elapsed":0.007043949008220807,"elapsed_instrumentation":0.00013389496598392725},{"id":1969416,"event":"call","thread_id":9160,"defined_class":"ApplicationRecord","method_id":"boolean_with_default","path":"app/models/application_record.rb","lineno":16,"static":false,"parameters":[{"name":"key","class":"String","object_id":4039520,"value":"trendable","kind":"req"},{"name":"default_value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Tag","object_id":10585740,"value":"#<Tag:0x00007fdbf407b688>"}},{"id":1969417,"event":"return","thread_id":9160,"parent_id":1969416,"elapsed":0.00027275001048110425,"elapsed_instrumentation":0.00012546000652946532,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1969418,"event":"return","thread_id":9160,"parent_id":1969401,"elapsed":0.007789644005242735,"elapsed_instrumentation":0.00014354399172589183,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1969419,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969420,"event":"return","thread_id":9160,"parent_id":1969419,"elapsed":5.962006980553269e-06,"elapsed_instrumentation":0.00012141899787820876,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1969421,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969422,"event":"return","thread_id":9160,"parent_id":1969421,"elapsed":3.7349818740040064e-06,"elapsed_instrumentation":8.820902439765632e-05,"return_value":{"class":"String","value":"trending_tags","object_id":8875560}},{"id":1969423,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969424,"event":"return","thread_id":9160,"parent_id":1969423,"elapsed":2.4590117391198874e-06,"elapsed_instrumentation":7.150901365093887e-05,"return_value":{"class":"String","value":"trending_tags","object_id":8875560}},{"id":1969425,"event":"return","thread_id":9160,"parent_id":1969398,"elapsed":0.01038340901141055,"elapsed_instrumentation":0.0007328420178964734,"return_value":{"class":"Array","value":"[true, true, OK, OK]","object_id":10586160,"size":4}},{"id":1969426,"event":"return","thread_id":9160,"parent_id":1969317,"elapsed":0.027096596983028576,"elapsed_instrumentation":0.0015174330037552863,"return_value":{"class":"Array","value":"[true, true, OK, OK]","object_id":10586160,"size":4}},{"id":1969427,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"score","path":"app/models/trends/base.rb","lineno":40,"static":false,"parameters":[{"name":"id","class":"Integer","object_id":269,"value":"134","kind":"req"},{"name":"locale","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969428,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969429,"event":"return","thread_id":9160,"parent_id":1969428,"elapsed":4.976987838745117e-06,"elapsed_instrumentation":0.00011629602522589266,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1969430,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969431,"event":"return","thread_id":9160,"parent_id":1969430,"elapsed":2.9520015232264996e-06,"elapsed_instrumentation":7.459198241122067e-05,"return_value":{"class":"String","value":"trending_tags","object_id":8875560}},{"id":1969432,"event":"return","thread_id":9160,"parent_id":1969427,"elapsed":0.0006434010283555835,"elapsed_instrumentation":0.0005571990041062236,"return_value":{"class":"Float","value":"144.0","object_id":220676381741154306}},{"id":1969433,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"refresh","path":"app/models/trends/tags.rb","lineno":27,"static":false,"parameters":[{"name":"at_time","class":"DateTime","object_id":10586180,"value":"2021-11-14T02:15:00+00:00","kind":"opt"}],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969434,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"recently_used_ids","path":"app/models/trends/base.rb","lineno":58,"static":false,"parameters":[{"name":"at_time","class":"DateTime","object_id":10586180,"value":"2021-11-14T02:15:00+00:00","kind":"opt"}],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969435,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969436,"event":"return","thread_id":9160,"parent_id":1969435,"elapsed":4.430999979376793e-06,"elapsed_instrumentation":7.488401024602354e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1969437,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969438,"event":"return","thread_id":9160,"parent_id":1969437,"elapsed":2.7439964469522238e-06,"elapsed_instrumentation":6.640999345108867e-05,"return_value":{"class":"String","value":"trending_tags","object_id":8875560}},{"id":1969439,"event":"return","thread_id":9160,"parent_id":1969434,"elapsed":0.000859480001963675,"elapsed_instrumentation":0.00014602899318560958,"return_value":{"class":"Array","value":"[132, 133]","object_id":10586200,"size":2}},{"id":1969440,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"currently_trending_ids","path":"app/models/trends/base.rb","lineno":48,"static":false,"parameters":[{"name":"allowed","class":"FalseClass","object_id":0,"value":"false","kind":"req"},{"name":"limit","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969441,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969442,"event":"return","thread_id":9160,"parent_id":1969441,"elapsed":4.445988452062011e-06,"elapsed_instrumentation":8.069101022556424e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1969443,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969444,"event":"return","thread_id":9160,"parent_id":1969443,"elapsed":3.143009962514043e-06,"elapsed_instrumentation":0.0002191800158470869,"return_value":{"class":"String","value":"trending_tags","object_id":8875560}},{"id":1969445,"event":"return","thread_id":9160,"parent_id":1969440,"elapsed":0.0008560930145904422,"elapsed_instrumentation":0.0001691610086709261,"return_value":{"class":"Array","value":"[134]","object_id":10586220,"size":1}},{"id":1969446,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"tags\".* FROM \"tags\" WHERE \"tags\".\"id\" IN ($1, $2, $3)","database_type":"postgres"}},{"id":1969447,"event":"return","thread_id":9160,"parent_id":1969446,"elapsed":0.001131393,"elapsed_instrumentation":0.00011625798651948571},{"id":1969448,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10586240,"value":"#<Tag:0x00007fdbf4079ec8>"}},{"id":1969449,"event":"return","thread_id":9160,"parent_id":1969448,"elapsed":2.5401997845619917e-05,"elapsed_instrumentation":0.0001553029869683087,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fdc094ab360>","object_id":10586260}},{"id":1969450,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":10586280,"value":"2021-11-13T02:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":10586260,"value":"#<Trends::History:0x00007fdc094ab360>"}},{"id":1969451,"event":"return","thread_id":9160,"parent_id":1969450,"elapsed":2.147001214325428e-05,"elapsed_instrumentation":0.0002590419608168304,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fdc094ab090>","object_id":10586300}},{"id":1969452,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10586300,"value":"#<Trends::History::Day:0x00007fdc094ab090>"}},{"id":1969453,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":10586300,"value":"#<Trends::History::Day:0x00007fdc094ab090>"}},{"id":1969454,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10586320,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10586340,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969455,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969456,"event":"return","thread_id":9160,"parent_id":1969455,"elapsed":3.1910021789371967e-06,"elapsed_instrumentation":7.258899859152734e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1969457,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":10586300,"value":"#<Trends::History::Day:0x00007fdc094ab090>"}},{"id":1969458,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10586300,"value":"#<Trends::History::Day:0x00007fdc094ab090>"}},{"id":1969459,"event":"return","thread_id":9160,"parent_id":1969458,"elapsed":1.4454999472945929e-05,"elapsed_instrumentation":7.003801874816418e-05,"return_value":{"class":"String","value":"activity:tags:132:1636761600","object_id":10586360}},{"id":1969460,"event":"return","thread_id":9160,"parent_id":1969457,"elapsed":0.00010759002179838717,"elapsed_instrumentation":8.722199709154665e-05,"return_value":{"class":"String","value":"activity:tags:132:1636761600:accounts","object_id":10586380}},{"id":1969461,"event":"return","thread_id":9160,"parent_id":1969454,"elapsed":0.0008522440039087087,"elapsed_instrumentation":0.0001387419761158526,"return_value":{"class":"Integer","value":"2","object_id":5}},{"id":1969462,"event":"return","thread_id":9160,"parent_id":1969453,"elapsed":0.001017094007693231,"elapsed_instrumentation":7.501800428144634e-05,"return_value":{"class":"Integer","value":"2","object_id":5}},{"id":1969463,"event":"return","thread_id":9160,"parent_id":1969452,"elapsed":0.0011127589968964458,"elapsed_instrumentation":6.33570016361773e-05,"return_value":{"class":"Integer","value":"2","object_id":5}},{"id":1969464,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10586240,"value":"#<Tag:0x00007fdbf4079ec8>"}},{"id":1969465,"event":"return","thread_id":9160,"parent_id":1969464,"elapsed":3.8059952203184366e-06,"elapsed_instrumentation":0.00012284299009479582,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fdc094ab360>","object_id":10586260}},{"id":1969466,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":10586180,"value":"2021-11-14T02:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":10586260,"value":"#<Trends::History:0x00007fdc094ab360>"}},{"id":1969467,"event":"return","thread_id":9160,"parent_id":1969466,"elapsed":3.5164994187653065e-05,"elapsed_instrumentation":0.00012556201545521617,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fdc094aa690>","object_id":10586400}},{"id":1969468,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10586400,"value":"#<Trends::History::Day:0x00007fdc094aa690>"}},{"id":1969469,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":10586400,"value":"#<Trends::History::Day:0x00007fdc094aa690>"}},{"id":1969470,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10586420,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10586440,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969471,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969472,"event":"return","thread_id":9160,"parent_id":1969471,"elapsed":3.23000131174922e-06,"elapsed_instrumentation":0.00011645499034784734,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1969473,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":10586400,"value":"#<Trends::History::Day:0x00007fdc094aa690>"}},{"id":1969474,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10586400,"value":"#<Trends::History::Day:0x00007fdc094aa690>"}},{"id":1969475,"event":"return","thread_id":9160,"parent_id":1969474,"elapsed":1.3565993867814541e-05,"elapsed_instrumentation":7.085700053721666e-05,"return_value":{"class":"String","value":"activity:tags:132:1636848000","object_id":10586460}},{"id":1969476,"event":"return","thread_id":9160,"parent_id":1969473,"elapsed":0.00010742401354946196,"elapsed_instrumentation":9.139798930846155e-05,"return_value":{"class":"String","value":"activity:tags:132:1636848000:accounts","object_id":10586480}},{"id":1969477,"event":"return","thread_id":9160,"parent_id":1969470,"elapsed":0.000822933012386784,"elapsed_instrumentation":0.0003994279832113534,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":1969478,"event":"return","thread_id":9160,"parent_id":1969469,"elapsed":0.0012526079954113811,"elapsed_instrumentation":8.279801113530993e-05,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":1969479,"event":"return","thread_id":9160,"parent_id":1969468,"elapsed":0.001358453999273479,"elapsed_instrumentation":7.737596752122045e-05,"return_value":{"class":"Integer","value":"16","object_id":33}},{"id":1969480,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"tags\" SET \"max_score\" = $1, \"max_score_at\" = $2 WHERE \"tags\".\"id\" = $3","database_type":"postgres"}},{"id":1969481,"event":"return","thread_id":9160,"parent_id":1969480,"elapsed":0.001276235,"elapsed_instrumentation":0.00011261500185355544},{"id":1969482,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10586500,"value":"#<Tag:0x00007fdbf4079d88>"}},{"id":1969483,"event":"return","thread_id":9160,"parent_id":1969482,"elapsed":2.3625994799658656e-05,"elapsed_instrumentation":0.00014866498531773686,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fdc094a9a10>","object_id":10586520}},{"id":1969484,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":10586540,"value":"2021-11-13T02:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":10586520,"value":"#<Trends::History:0x00007fdc094a9a10>"}},{"id":1969485,"event":"return","thread_id":9160,"parent_id":1969484,"elapsed":1.7579994164407253e-05,"elapsed_instrumentation":0.00011726701632142067,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fdc094a9880>","object_id":10586560}},{"id":1969486,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10586560,"value":"#<Trends::History::Day:0x00007fdc094a9880>"}},{"id":1969487,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":10586560,"value":"#<Trends::History::Day:0x00007fdc094a9880>"}},{"id":1969488,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10586580,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10586600,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969489,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969490,"event":"return","thread_id":9160,"parent_id":1969489,"elapsed":3.0919909477233887e-06,"elapsed_instrumentation":7.768202340230346e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1969491,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":10586560,"value":"#<Trends::History::Day:0x00007fdc094a9880>"}},{"id":1969492,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10586560,"value":"#<Trends::History::Day:0x00007fdc094a9880>"}},{"id":1969493,"event":"return","thread_id":9160,"parent_id":1969492,"elapsed":1.5949015505611897e-05,"elapsed_instrumentation":7.425097282975912e-05,"return_value":{"class":"String","value":"activity:tags:133:1636761600","object_id":10586620}},{"id":1969494,"event":"return","thread_id":9160,"parent_id":1969491,"elapsed":0.00011309501132927835,"elapsed_instrumentation":0.00011572500807233155,"return_value":{"class":"String","value":"activity:tags:133:1636761600:accounts","object_id":10586640}},{"id":1969495,"event":"return","thread_id":9160,"parent_id":1969488,"elapsed":0.0009277939971070737,"elapsed_instrumentation":0.00014750499394722283,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1969496,"event":"return","thread_id":9160,"parent_id":1969487,"elapsed":0.001102272013667971,"elapsed_instrumentation":0.00012208297266624868,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1969497,"event":"return","thread_id":9160,"parent_id":1969486,"elapsed":0.001256927993381396,"elapsed_instrumentation":0.0003435509861446917,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1969498,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10586500,"value":"#<Tag:0x00007fdbf4079d88>"}},{"id":1969499,"event":"return","thread_id":9160,"parent_id":1969498,"elapsed":4.051020368933678e-06,"elapsed_instrumentation":0.00011581898434087634,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fdc094a9a10>","object_id":10586520}},{"id":1969500,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":10586180,"value":"2021-11-14T02:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":10586520,"value":"#<Trends::History:0x00007fdc094a9a10>"}},{"id":1969501,"event":"return","thread_id":9160,"parent_id":1969500,"elapsed":2.428301377221942e-05,"elapsed_instrumentation":0.00011168501805514097,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fdc094a8e80>","object_id":10586660}},{"id":1969502,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10586660,"value":"#<Trends::History::Day:0x00007fdc094a8e80>"}},{"id":1969503,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":10586660,"value":"#<Trends::History::Day:0x00007fdc094a8e80>"}},{"id":1969504,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10586680,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10586700,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969505,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969506,"event":"return","thread_id":9160,"parent_id":1969505,"elapsed":3.2729876693338156e-06,"elapsed_instrumentation":9.401701390743256e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1969507,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":10586660,"value":"#<Trends::History::Day:0x00007fdc094a8e80>"}},{"id":1969508,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10586660,"value":"#<Trends::History::Day:0x00007fdc094a8e80>"}},{"id":1969509,"event":"return","thread_id":9160,"parent_id":1969508,"elapsed":1.5864003216847777e-05,"elapsed_instrumentation":9.635000606067479e-05,"return_value":{"class":"String","value":"activity:tags:133:1636848000","object_id":10586720}},{"id":1969510,"event":"return","thread_id":9160,"parent_id":1969507,"elapsed":0.0001384839997626841,"elapsed_instrumentation":0.00021386999287642539,"return_value":{"class":"String","value":"activity:tags:133:1636848000:accounts","object_id":10586740}},{"id":1969511,"event":"return","thread_id":9160,"parent_id":1969504,"elapsed":0.0014353519945871085,"elapsed_instrumentation":0.0004312379751354456,"return_value":{"class":"Integer","value":"4","object_id":9}},{"id":1969512,"event":"return","thread_id":9160,"parent_id":1969503,"elapsed":0.0019002210174221545,"elapsed_instrumentation":0.00012267602141946554,"return_value":{"class":"Integer","value":"4","object_id":9}},{"id":1969513,"event":"return","thread_id":9160,"parent_id":1969502,"elapsed":0.0020519919926300645,"elapsed_instrumentation":0.0003231739974580705,"return_value":{"class":"Integer","value":"4","object_id":9}},{"id":1969514,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10586760,"value":"#<Tag:0x00007fdbf4079b08>"}},{"id":1969515,"event":"return","thread_id":9160,"parent_id":1969514,"elapsed":2.1185027435421944e-05,"elapsed_instrumentation":0.0001327740028500557,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fdc094a85c0>","object_id":10586780}},{"id":1969516,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":10586800,"value":"2021-11-13T02:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":10586780,"value":"#<Trends::History:0x00007fdc094a85c0>"}},{"id":1969517,"event":"return","thread_id":9160,"parent_id":1969516,"elapsed":2.059101825580001e-05,"elapsed_instrumentation":0.00015781100955791771,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fdc094a8430>","object_id":10586820}},{"id":1969518,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10586820,"value":"#<Trends::History::Day:0x00007fdc094a8430>"}},{"id":1969519,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":10586820,"value":"#<Trends::History::Day:0x00007fdc094a8430>"}},{"id":1969520,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10586840,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10586860,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969521,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969522,"event":"return","thread_id":9160,"parent_id":1969521,"elapsed":3.196997568011284e-06,"elapsed_instrumentation":8.19249835330993e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1969523,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":10586820,"value":"#<Trends::History::Day:0x00007fdc094a8430>"}},{"id":1969524,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10586820,"value":"#<Trends::History::Day:0x00007fdc094a8430>"}},{"id":1969525,"event":"return","thread_id":9160,"parent_id":1969524,"elapsed":1.4321994967758656e-05,"elapsed_instrumentation":7.163500413298607e-05,"return_value":{"class":"String","value":"activity:tags:134:1636761600","object_id":10586880}},{"id":1969526,"event":"return","thread_id":9160,"parent_id":1969523,"elapsed":0.00010812300024554133,"elapsed_instrumentation":8.864898700267076e-05,"return_value":{"class":"String","value":"activity:tags:134:1636761600:accounts","object_id":10586900}},{"id":1969527,"event":"return","thread_id":9160,"parent_id":1969520,"elapsed":0.0008073679928202182,"elapsed_instrumentation":0.00017363703227601945,"return_value":{"class":"Integer","value":"13","object_id":27}},{"id":1969528,"event":"return","thread_id":9160,"parent_id":1969519,"elapsed":0.0010108549904543906,"elapsed_instrumentation":0.00032170600024983287,"return_value":{"class":"Integer","value":"13","object_id":27}},{"id":1969529,"event":"return","thread_id":9160,"parent_id":1969518,"elapsed":0.0013644309947267175,"elapsed_instrumentation":7.791197276674211e-05,"return_value":{"class":"Integer","value":"13","object_id":27}},{"id":1969530,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"history","path":"app/models/tag.rb","lineno":109,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10586760,"value":"#<Tag:0x00007fdbf4079b08>"}},{"id":1969531,"event":"return","thread_id":9160,"parent_id":1969530,"elapsed":3.5349803511053324e-06,"elapsed_instrumentation":0.00011125201126560569,"return_value":{"class":"Trends::History","value":"#<Trends::History:0x00007fdc094a85c0>","object_id":10586780}},{"id":1969532,"event":"call","thread_id":9160,"defined_class":"Trends::History","method_id":"get","path":"app/models/trends/history.rb","lineno":77,"static":false,"parameters":[{"name":"date","class":"DateTime","object_id":10586180,"value":"2021-11-14T02:15:00+00:00","kind":"req"}],"receiver":{"class":"Trends::History","object_id":10586780,"value":"#<Trends::History:0x00007fdc094a85c0>"}},{"id":1969533,"event":"return","thread_id":9160,"parent_id":1969532,"elapsed":2.2102001821622252e-05,"elapsed_instrumentation":0.00010617700172588229,"return_value":{"class":"Trends::History::Day","value":"#<Trends::History::Day:0x00007fdc094a7a30>","object_id":10586920}},{"id":1969534,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"accounts","path":"app/models/trends/history.rb","lineno":35,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10586920,"value":"#<Trends::History::Day:0x00007fdc094a7a30>"}},{"id":1969535,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Trends::History::Day","object_id":10586920,"value":"#<Trends::History::Day:0x00007fdc094a7a30>"}},{"id":1969536,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10586940,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10586960,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969537,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1969538,"event":"return","thread_id":9160,"parent_id":1969537,"elapsed":2.7400092221796513e-06,"elapsed_instrumentation":6.909098010510206e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1969539,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_for","path":"app/models/trends/history.rb","lineno":58,"static":false,"parameters":[{"name":"suffix","class":"Symbol","object_id":19379228,"value":":accounts","kind":"req"}],"receiver":{"class":"Trends::History::Day","object_id":10586920,"value":"#<Trends::History::Day:0x00007fdc094a7a30>"}},{"id":1969540,"event":"call","thread_id":9160,"defined_class":"Trends::History::Day","method_id":"key_prefix","path":"app/models/trends/history.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Trends::History::Day","object_id":10586920,"value":"#<Trends::History::Day:0x00007fdc094a7a30>"}},{"id":1969541,"event":"return","thread_id":9160,"parent_id":1969540,"elapsed":1.4894991181790829e-05,"elapsed_instrumentation":8.852500468492508e-05,"return_value":{"class":"String","value":"activity:tags:134:1636848000","object_id":10586980}},{"id":1969542,"event":"return","thread_id":9160,"parent_id":1969539,"elapsed":0.00012994700227864087,"elapsed_instrumentation":0.0003876939881592989,"return_value":{"class":"String","value":"activity:tags:134:1636848000:accounts","object_id":10587000}},{"id":1969543,"event":"return","thread_id":9160,"parent_id":1969536,"elapsed":0.0010528019920457155,"elapsed_instrumentation":0.00012920799781568348,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1969544,"event":"return","thread_id":9160,"parent_id":1969535,"elapsed":0.0012057480053044856,"elapsed_instrumentation":7.206201553344727e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1969545,"event":"return","thread_id":9160,"parent_id":1969534,"elapsed":0.0012955130077898502,"elapsed_instrumentation":6.000598659738898e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1969546,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"replace_items","path":"app/models/trends/base.rb","lineno":71,"static":false,"parameters":[{"name":"suffix","class":"String","object_id":389940,"value":"","kind":"req"},{"name":"items","class":"Array","object_id":10587020,"value":"[{:score=>98.0, :item=>#<Tag:0x00007fdbf4079ec8>}, {:score=>72.0, :item=>#<Tag:0x00007fdbf4079b08>}]","kind":"req","size":2}],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969547,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969548,"event":"return","thread_id":9160,"parent_id":1969547,"elapsed":3.99700365960598e-06,"elapsed_instrumentation":7.791197276674211e-05,"return_value":{"class":"String","value":"trending_tags","object_id":8875560}},{"id":1969549,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"trendable?","path":"app/models/tag.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10586240,"value":"#<Tag:0x00007fdbf4079ec8>"}},{"id":1969550,"event":"call","thread_id":9160,"defined_class":"Setting","method_id":"[]","path":"app/models/setting.rb","lineno":24,"static":true,"parameters":[{"name":"key","class":"String","object_id":10587040,"value":"trendable_by_default","kind":"req"}],"receiver":{"class":"Class","object_id":61700,"value":"Setting"}},{"id":1969551,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10587060,"value":"Cache read: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:compress= (...36 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1969552,"event":"return","thread_id":9160,"parent_id":1969551,"elapsed":0.000852077006129548,"elapsed_instrumentation":0.00014323799405246973,"return_value":{"class":"Integer","value":"136","object_id":273}},{"id":1969553,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10587080,"value":"Cache fetch_hit: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:comp (...41 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1969554,"event":"return","thread_id":9160,"parent_id":1969553,"elapsed":0.001446293987100944,"elapsed_instrumentation":0.00015711202286183834,"return_value":{"class":"Integer","value":"141","object_id":283}},{"id":1969555,"event":"return","thread_id":9160,"parent_id":1969550,"elapsed":0.0029728980152867734,"elapsed_instrumentation":0.0002790990110952407},{"id":1969556,"event":"call","thread_id":9160,"defined_class":"ApplicationRecord","method_id":"boolean_with_default","path":"app/models/application_record.rb","lineno":16,"static":false,"parameters":[{"name":"key","class":"String","object_id":4039520,"value":"trendable","kind":"req"},{"name":"default_value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Tag","object_id":10586240,"value":"#<Tag:0x00007fdbf4079ec8>"}},{"id":1969557,"event":"return","thread_id":9160,"parent_id":1969556,"elapsed":0.00023361897910945117,"elapsed_instrumentation":0.00015908802743069828,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1969558,"event":"return","thread_id":9160,"parent_id":1969549,"elapsed":0.004097561992239207,"elapsed_instrumentation":7.50600011087954e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1969559,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"trendable?","path":"app/models/tag.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":10586760,"value":"#<Tag:0x00007fdbf4079b08>"}},{"id":1969560,"event":"call","thread_id":9160,"defined_class":"Setting","method_id":"[]","path":"app/models/setting.rb","lineno":24,"static":true,"parameters":[{"name":"key","class":"String","object_id":10587100,"value":"trendable_by_default","kind":"req"}],"receiver":{"class":"Class","object_id":61700,"value":"Setting"}},{"id":1969561,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10587120,"value":"Cache read: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:compress= (...36 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1969562,"event":"return","thread_id":9160,"parent_id":1969561,"elapsed":0.0009049340151250362,"elapsed_instrumentation":0.00013196698273532093,"return_value":{"class":"Integer","value":"136","object_id":273}},{"id":1969563,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10587140,"value":"Cache fetch_hit: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/trendable_by_default ({:comp (...41 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1969564,"event":"return","thread_id":9160,"parent_id":1969563,"elapsed":0.002421065990347415,"elapsed_instrumentation":0.00016923699877224863,"return_value":{"class":"Integer","value":"141","object_id":283}},{"id":1969565,"event":"return","thread_id":9160,"parent_id":1969560,"elapsed":0.003967803000705317,"elapsed_instrumentation":0.00012790702749043703},{"id":1969566,"event":"call","thread_id":9160,"defined_class":"ApplicationRecord","method_id":"boolean_with_default","path":"app/models/application_record.rb","lineno":16,"static":false,"parameters":[{"name":"key","class":"String","object_id":4039520,"value":"trendable","kind":"req"},{"name":"default_value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Tag","object_id":10586760,"value":"#<Tag:0x00007fdbf4079b08>"}},{"id":1969567,"event":"return","thread_id":9160,"parent_id":1969566,"elapsed":0.00024629899417050183,"elapsed_instrumentation":0.00022531801369041204,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1969568,"event":"return","thread_id":9160,"parent_id":1969559,"elapsed":0.004693151015089825,"elapsed_instrumentation":0.0006627440161537379,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1969569,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969570,"event":"return","thread_id":9160,"parent_id":1969569,"elapsed":1.1742988135665655e-05,"elapsed_instrumentation":0.0002343110099900514,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1969571,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969572,"event":"return","thread_id":9160,"parent_id":1969571,"elapsed":8.172006346285343e-06,"elapsed_instrumentation":0.0005165099864825606,"return_value":{"class":"String","value":"trending_tags","object_id":8875560}},{"id":1969573,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969574,"event":"return","thread_id":9160,"parent_id":1969573,"elapsed":5.891983164474368e-06,"elapsed_instrumentation":0.00017438302165828645,"return_value":{"class":"String","value":"trending_tags","object_id":8875560}},{"id":1969575,"event":"return","thread_id":9160,"parent_id":1969546,"elapsed":0.012154164025560021,"elapsed_instrumentation":0.0003935229906346649,"return_value":{"class":"Array","value":"[true, true, true, true, OK, OK]","object_id":10587160,"size":6}},{"id":1969576,"event":"return","thread_id":9160,"parent_id":1969433,"elapsed":0.03257246100110933,"elapsed_instrumentation":0.0004323479952290654,"return_value":{"class":"Array","value":"[true, true, true, true, OK, OK]","object_id":10587160,"size":6}},{"id":1969577,"event":"call","thread_id":9160,"defined_class":"Trends::Base","method_id":"score","path":"app/models/trends/base.rb","lineno":40,"static":false,"parameters":[{"name":"id","class":"Integer","object_id":269,"value":"134","kind":"req"},{"name":"locale","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969578,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969579,"event":"return","thread_id":9160,"parent_id":1969578,"elapsed":1.8302001990377903e-05,"elapsed_instrumentation":0.0002069479669444263,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1969580,"event":"call","thread_id":9160,"defined_class":"Trends::Tags","method_id":"key_prefix","path":"app/models/trends/tags.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Trends::Tags","object_id":10585420,"value":"#<Trends::Tags:0x00007fdc060a22d0>"}},{"id":1969581,"event":"return","thread_id":9160,"parent_id":1969580,"elapsed":6.411981303244829e-06,"elapsed_instrumentation":0.00018996300059370697,"return_value":{"class":"String","value":"trending_tags","object_id":8875560}},{"id":1969582,"event":"return","thread_id":9160,"parent_id":1969577,"elapsed":0.002105697989463806,"elapsed_instrumentation":0.0002705410006456077,"return_value":{"class":"Float","value":"72.0","object_id":184647584722190338}}]}