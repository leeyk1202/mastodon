{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Credentials GET /api/v1/apps/verify_credentials without an oauth token returns http unauthorized","source_location":"spec/requests/api/v1/apps/credentials_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]},{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"app","type":"package","children":[{"name":"controllers","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"Localized","type":"class","children":[{"name":"set_locale","type":"function","location":"app/controllers/concerns/localized.rb:10","static":false}]},{"name":"CacheConcern","type":"class","children":[{"name":"enforce_cache_control!","type":"function","location":"app/controllers/concerns/cache_concern.rb:165","static":false}]}]},{"name":"api","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"BaseController","type":"class","children":[{"name":"current_user","type":"function","location":"app/controllers/api/base_controller.rb:116","static":false},{"name":"current_resource_owner","type":"function","location":"app/controllers/api/base_controller.rb:112","static":false},{"name":"disallow_unauthenticated_api_access?","type":"function","location":"app/controllers/api/base_controller.rb:152","static":false},{"name":"require_not_suspended!","type":"function","location":"app/controllers/api/base_controller.rb:126","static":false},{"name":"doorkeeper_unauthorized_render_options","type":"function","location":"app/controllers/api/base_controller.rb:85","static":false}]}]},{"name":"v1/apps","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"V1","type":"class","children":[{"name":"Apps","type":"class","children":[{"name":"CredentialsController","type":"class","children":[{"name":"show","type":"function","location":"app/controllers/api/v1/apps/credentials_controller.rb:4","static":false}]}]}]}]}]}]},{"name":"ApplicationController","type":"class","children":[{"name":"current_session","type":"function","location":"app/controllers/application_controller.rb:153","static":false},{"name":"check_self_destruct!","type":"function","location":"app/controllers/application_controller.rb:176","static":false},{"name":"set_cache_control_defaults","type":"function","location":"app/controllers/application_controller.rb:185","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"SelfDestructHelper","type":"class","children":[{"name":"self_destruct?","type":"function","location":"app/helpers/self_destruct_helper.rb:11","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true},{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true}]}]}]},{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Request","type":"class","children":[{"name":"Session","type":"class","children":[{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/request/session.rb:112","static":false,"labels":["http.session.read"]}]}]},{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]},{"name":"ActionController","type":"class","children":[{"name":"Renderers","type":"class","children":[{"name":"render_to_body","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb:140","static":false,"labels":["mvc.render"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]}]}]}]},{"name":"lib/chewy/strategy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"Strategy","type":"class","children":[{"name":"Mastodon","type":"class","children":[{"name":"leave","type":"function","location":"lib/chewy/strategy/mastodon.rb:16","static":false}]}]}]}]}],"events":[{"id":1295179,"event":"call","thread_id":9160,"http_server_request":{"request_method":"GET","path_info":"/api/v1/apps/verify_credentials","normalized_path_info":"/api/v1/apps/verify_credentials","headers":{"Version":"HTTP/1.0","Host":"www.example.com","Accept":"text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5","Content-Length":"0"}}},{"id":1295180,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7157880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":1295181,"event":"return","thread_id":9160,"parent_id":1295180,"elapsed":0.00011894700583070517,"elapsed_instrumentation":0.00023654702818021178,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0fb602e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60808 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60fd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":231360,"size":4}},{"id":1295182,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7157880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":1295183,"event":"return","thread_id":9160,"parent_id":1295182,"elapsed":2.9119837563484907e-06,"elapsed_instrumentation":9.88100073300302e-05,"return_value":{"class":"Array","value":"[]","object_id":231380,"size":0}},{"id":1295184,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":7157900,"value":"\u0011_\u000b_________fM1_"}},{"id":1295185,"event":"return","thread_id":9160,"parent_id":1295184,"elapsed":7.032998837530613e-06,"elapsed_instrumentation":0.0005661590257659554,"return_value":{"class":"Array","value":"[298388469, 57337, 36309, 34478, 46026, 1716334990]","object_id":7157920,"size":6}},{"id":1295186,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":7158000,"value":"Processing by Api::V1::Apps::CredentialsController#show as HTML\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1295187,"event":"return","thread_id":9160,"parent_id":1295186,"elapsed":0.0021668290137313306,"elapsed_instrumentation":0.0002661050239112228,"return_value":{"class":"Integer","value":"64","object_id":129}},{"id":1295188,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3776040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08c2ba50>"}},{"id":1295189,"event":"return","thread_id":9160,"parent_id":1295188,"elapsed":4.3000036384910345e-06,"elapsed_instrumentation":0.00019398698350414634,"return_value":{"class":"Array","value":"[]","object_id":3776060,"size":0}},{"id":1295190,"event":"call","thread_id":9160,"defined_class":"Localized","method_id":"set_locale","path":"app/controllers/concerns/localized.rb","lineno":10,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295191,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295192,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295193,"event":"return","thread_id":9160,"parent_id":1295192,"elapsed":6.614701123908162e-05,"elapsed_instrumentation":5.7366996770724654e-05},{"id":1295194,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Request::Session","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/request/session.rb","lineno":112,"static":false,"parameters":[{"name":"key","class":"String","object_id":7158060,"value":"warden.user.user.key","kind":"req"}],"receiver":{"class":"ActionDispatch::Request::Session","object_id":7158080,"value":"#<ActionDispatch::Request::Session:0x00007fdc09529580>"}},{"id":1295195,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":7158100,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7158120,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09524260>"}},{"id":1295196,"event":"return","thread_id":9160,"parent_id":1295195,"elapsed":5.908019375056028e-06,"elapsed_instrumentation":0.00015122597687877715,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09524260>","object_id":7158120}},{"id":1295197,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":1219980,"value":"_mastodon_session","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7158120,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09524260>"}},{"id":1295198,"event":"return","thread_id":9160,"parent_id":1295197,"elapsed":3.892986569553614e-06,"elapsed_instrumentation":8.584599709138274e-05},{"id":1295199,"event":"return","thread_id":9160,"parent_id":1295194,"elapsed":0.0004953179741278291,"elapsed_instrumentation":0.00015925403567962348},{"id":1295200,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7158120,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09524260>"}},{"id":1295201,"event":"return","thread_id":9160,"parent_id":1295200,"elapsed":3.6929850466549397e-06,"elapsed_instrumentation":0.00022123398957774043},{"id":1295202,"event":"return","thread_id":9160,"parent_id":1295191,"elapsed":0.0014346019888762385,"elapsed_instrumentation":6.522401235997677e-05},{"id":1295203,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3776140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08c2baa0>"}},{"id":1295204,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295205,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295206,"event":"return","thread_id":9160,"parent_id":1295205,"elapsed":4.342099418863654e-05,"elapsed_instrumentation":5.501997657120228e-05},{"id":1295207,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7158120,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09524260>"}},{"id":1295208,"event":"return","thread_id":9160,"parent_id":1295207,"elapsed":3.708992153406143e-06,"elapsed_instrumentation":8.070599869824946e-05},{"id":1295209,"event":"return","thread_id":9160,"parent_id":1295204,"elapsed":0.0003414289967622608,"elapsed_instrumentation":6.201802170835435e-05},{"id":1295210,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_session","path":"app/controllers/application_controller.rb","lineno":153,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295211,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7158120,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09524260>"}},{"id":1295212,"event":"return","thread_id":9160,"parent_id":1295211,"elapsed":3.248016582801938e-06,"elapsed_instrumentation":0.00018608200480230153},{"id":1295213,"event":"return","thread_id":9160,"parent_id":1295210,"elapsed":0.00022103000083006918,"elapsed_instrumentation":6.461999146267772e-05},{"id":1295214,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"check_self_destruct!","path":"app/controllers/application_controller.rb","lineno":176,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295215,"event":"call","thread_id":9160,"defined_class":"SelfDestructHelper","method_id":"self_destruct?","path":"app/helpers/self_destruct_helper.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295216,"event":"return","thread_id":9160,"parent_id":1295215,"elapsed":9.584997314959764e-06,"elapsed_instrumentation":5.2534014685079455e-05},{"id":1295217,"event":"return","thread_id":9160,"parent_id":1295214,"elapsed":8.180801523849368e-05,"elapsed_instrumentation":5.684001371264458e-05},{"id":1295218,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295219,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295220,"event":"return","thread_id":9160,"parent_id":1295219,"elapsed":3.9063976146280766e-05,"elapsed_instrumentation":5.4428004659712315e-05},{"id":1295221,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7158120,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09524260>"}},{"id":1295222,"event":"return","thread_id":9160,"parent_id":1295221,"elapsed":2.9500224627554417e-06,"elapsed_instrumentation":8.108897600322962e-05},{"id":1295223,"event":"return","thread_id":9160,"parent_id":1295218,"elapsed":0.0003350629995111376,"elapsed_instrumentation":5.584399332292378e-05},{"id":1295224,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"set_cache_control_defaults","path":"app/controllers/application_controller.rb","lineno":185,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295225,"event":"return","thread_id":9160,"parent_id":1295224,"elapsed":6.6229840740561485e-06,"elapsed_instrumentation":0.00011129002086818218,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":7158140,"size":2}},{"id":1295226,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"disallow_unauthenticated_api_access?","path":"app/controllers/api/base_controller.rb","lineno":152,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295227,"event":"return","thread_id":9160,"parent_id":1295226,"elapsed":2.0009989384561777e-05,"elapsed_instrumentation":8.476001676172018e-05},{"id":1295228,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"require_not_suspended!","path":"app/controllers/api/base_controller.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295229,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295230,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295231,"event":"return","thread_id":9160,"parent_id":1295230,"elapsed":3.452101373113692e-05,"elapsed_instrumentation":5.033399793319404e-05},{"id":1295232,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7158120,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09524260>"}},{"id":1295233,"event":"return","thread_id":9160,"parent_id":1295232,"elapsed":3.255001502111554e-06,"elapsed_instrumentation":8.220202289521694e-05},{"id":1295234,"event":"return","thread_id":9160,"parent_id":1295229,"elapsed":0.00034712700289674103,"elapsed_instrumentation":5.762401269748807e-05},{"id":1295235,"event":"return","thread_id":9160,"parent_id":1295228,"elapsed":0.00042237600428052247,"elapsed_instrumentation":5.399697693064809e-05},{"id":1295236,"event":"return","thread_id":9160,"parent_id":1295203,"elapsed":0.002510018995963037,"elapsed_instrumentation":0.0004148129955865443,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0916e9b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916eb48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916ee40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916efa8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916f340 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916f688 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916f7f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916f9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916fb38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916fd90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...3 more items)]","object_id":3776180,"size":13}},{"id":1295237,"event":"call","thread_id":9160,"defined_class":"Api::V1::Apps::CredentialsController","method_id":"show","path":"app/controllers/api/v1/apps/credentials_controller.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295238,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"doorkeeper_unauthorized_render_options","path":"app/controllers/api/base_controller.rb","lineno":85,"static":false,"parameters":[{"name":"error","class":"Doorkeeper::OAuth::InvalidTokenResponse","object_id":7158160,"value":"#<Doorkeeper::OAuth::InvalidTokenResponse:0x00007fdc095203e0>","kind":"key"}],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295239,"event":"return","thread_id":9160,"parent_id":1295238,"elapsed":1.0646996088325977e-05,"elapsed_instrumentation":0.00015915499534457922,"return_value":{"class":"Hash","value":"{:json=>{:error=>The access token is invalid}}","object_id":7158180,"size":1}},{"id":1295240,"event":"call","thread_id":9160,"defined_class":"ActionController::Renderers","method_id":"render_to_body","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb","lineno":140,"static":false,"parameters":[{"name":"options","class":"Hash","object_id":7158180,"value":"{:json=>{:error=>The access token is invalid}, :status=>401, :prefixes=>[api/v1/apps/credentials, api/base, application], :template=>show, :layout=>}","kind":"req","size":5}],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295241,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295242,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295243,"event":"return","thread_id":9160,"parent_id":1295242,"elapsed":4.009599797427654e-05,"elapsed_instrumentation":5.984498420730233e-05},{"id":1295244,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7158120,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09524260>"}},{"id":1295245,"event":"return","thread_id":9160,"parent_id":1295244,"elapsed":3.5450211726129055e-06,"elapsed_instrumentation":8.593997335992754e-05},{"id":1295246,"event":"return","thread_id":9160,"parent_id":1295241,"elapsed":0.0005688660021405667,"elapsed_instrumentation":9.696802590042353e-05},{"id":1295247,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1295248,"event":"return","thread_id":9160,"parent_id":1295247,"elapsed":4.662026185542345e-06,"elapsed_instrumentation":0.00016958298510871828,"return_value":{"class":"Array","value":"[]","object_id":211300,"size":0}},{"id":1295249,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1295250,"event":"return","thread_id":9160,"parent_id":1295249,"elapsed":3.690016455948353e-06,"elapsed_instrumentation":0.00015357197844423354,"return_value":{"class":"Array","value":"[]","object_id":211340,"size":0}},{"id":1295251,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":7158220,"value":"{error=>The access token is invalid}","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":7158240,"value":"#<JSON::Ext::Generator::State:0x00007fdc06215568>"}},{"id":1295252,"event":"return","thread_id":9160,"parent_id":1295251,"elapsed":8.324015652760863e-06,"elapsed_instrumentation":0.00016551197040826082,"return_value":{"class":"String","value":"{\"error\":\"The access token is invalid\"}","object_id":7158260}},{"id":1295253,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1295254,"event":"return","thread_id":9160,"parent_id":1295253,"elapsed":4.289002390578389e-06,"elapsed_instrumentation":0.0002962909929919988,"return_value":{"class":"Array","value":"[]","object_id":215680,"size":0}},{"id":1295255,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1295256,"event":"return","thread_id":9160,"parent_id":1295255,"elapsed":3.4260156098753214e-06,"elapsed_instrumentation":0.00012840097770094872,"return_value":{"class":"Array","value":"[]","object_id":215700,"size":0}},{"id":1295257,"event":"return","thread_id":9160,"parent_id":1295240,"elapsed":0.003064597985940054,"elapsed_instrumentation":0.000267613009782508,"return_value":{"class":"String","value":"{\"error\":\"The access token is invalid\"}","object_id":7158260}},{"id":1295258,"event":"return","thread_id":9160,"parent_id":1295237,"elapsed":0.004157390008913353,"elapsed_instrumentation":0.00013276701793074608,"return_value":{"class":"String","value":"{\"error\":\"The access token is invalid\"}","object_id":7158260}},{"id":1295259,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3776140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08c2baa0>"}},{"id":1295260,"event":"call","thread_id":9160,"defined_class":"CacheConcern","method_id":"enforce_cache_control!","path":"app/controllers/concerns/cache_concern.rb","lineno":165,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7158040,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc095257f0>"}},{"id":1295261,"event":"return","thread_id":9160,"parent_id":1295260,"elapsed":4.1566992877051234e-05,"elapsed_instrumentation":6.863102316856384e-05},{"id":1295262,"event":"return","thread_id":9160,"parent_id":1295259,"elapsed":0.0001669189950916916,"elapsed_instrumentation":0.00013062500511296093,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09150238 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916ecb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":3776300,"size":2}},{"id":1295263,"event":"return","thread_id":9160,"parent_id":1295190,"elapsed":0.009455971012357622,"elapsed_instrumentation":0.00015239600907079875,"return_value":{"class":"String","value":"{\"error\":\"The access token is invalid\"}","object_id":7158260}},{"id":1295264,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3776040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08c2ba50>"}},{"id":1295265,"event":"return","thread_id":9160,"parent_id":1295264,"elapsed":3.0520022846758366e-06,"elapsed_instrumentation":0.0001125739945564419,"return_value":{"class":"Array","value":"[]","object_id":3776320,"size":0}},{"id":1295266,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":7158280,"value":"Completed 401 Unauthorized in 12ms (Views: 3.6ms | ActiveRecord: 0.0ms | Allocations: 4157)\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1295267,"event":"return","thread_id":9160,"parent_id":1295266,"elapsed":0.0019035349832847714,"elapsed_instrumentation":0.00038482199306599796,"return_value":{"class":"Integer","value":"92","object_id":185}},{"id":1295268,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1295269,"event":"return","thread_id":9160,"parent_id":1295268,"elapsed":7.668015314266086e-06,"elapsed_instrumentation":0.00037748797331005335,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1295270,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":337880,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":7158300,"value":"[___\u0007_h__&__b_\u0010_/]"}},{"id":1295271,"event":"return","thread_id":9160,"parent_id":1295270,"elapsed":1.0480987839400768e-05,"elapsed_instrumentation":0.0002701330231502652,"return_value":{"class":"String","value":"wOj3B61o6NwmqNhi9BCxLw==","object_id":7158320}},{"id":1295272,"event":"call","thread_id":9160,"defined_class":"Chewy::Strategy::Mastodon","method_id":"leave","path":"lib/chewy/strategy/mastodon.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Chewy::Strategy::Mastodon","object_id":7158340,"value":"#<Chewy::Strategy::Mastodon:0x00007fdc0608a9c8>"}},{"id":1295273,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":7158360,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":7158380,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1295274,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1295275,"event":"return","thread_id":9160,"parent_id":1295274,"elapsed":2.841989044100046e-06,"elapsed_instrumentation":8.437299402430654e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1295276,"event":"return","thread_id":9160,"parent_id":1295273,"elapsed":0.00034336201497353613,"elapsed_instrumentation":0.0001618799869902432,"return_value":{"class":"Array","value":"[]","object_id":7158400,"size":0}},{"id":1295277,"event":"return","thread_id":9160,"parent_id":1295272,"elapsed":0.0005310839915182441,"elapsed_instrumentation":0.00013813900295644999,"return_value":{"class":"Array","value":"[]","object_id":7158400,"size":0}},{"id":1295278,"event":"return","thread_id":9160,"parent_id":1295179,"elapsed":0.06871826699352823,"elapsed_instrumentation":0.0012766649888362736,"return_value":{"class":"Hash","value":"{error=>The access token is invalid}","object_id":7158440,"size":1,"properties":[{"name":"error","class":"String"}]},"http_server_response":{"status_code":401,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Vary":"Authorization","Cache-Control":"private, no-store","WWW-Authenticate":"Bearer realm=\"Doorkeeper\", error=\"invalid_token\", error_description=\"The access token is invalid\"","Content-Type":"application/json; charset=utf-8","Content-Security-Policy":"default-src 'none'; frame-ancestors 'none'; form-action 'none'","X-Request-Id":"11c90bf5-dff9-4dd5-86ae-b3ca664d318e","X-Runtime":"0.068143"}}},{"id":1295279,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":1295280,"event":"return","thread_id":9160,"parent_id":1295279,"elapsed":0.00013836199650540948,"elapsed_instrumentation":0.0001986559946089983,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca3bb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3cf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3f00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca48b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":338500,"size":4}},{"id":1295281,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":1295282,"event":"return","thread_id":9160,"parent_id":1295281,"elapsed":5.077017704024911e-06,"elapsed_instrumentation":0.0002056219964288175,"return_value":{"class":"Array","value":"[]","object_id":338520,"size":0}}]}