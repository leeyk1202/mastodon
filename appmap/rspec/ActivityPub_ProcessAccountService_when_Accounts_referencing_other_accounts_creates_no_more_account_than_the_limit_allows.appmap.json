{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ActivityPub::ProcessAccountService when Accounts referencing other accounts creates no more account than the limit allows","source_location":"spec/services/activitypub/process_account_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"failed","test_failure":{"message":"body has already been consumed","location":"app/lib/request.rb:217"},"exception":{"class":"HTTP::StateError","message":"body has already been consumed"}},"classMap":[{"name":"app","type":"package","children":[{"name":"helpers","type":"package","children":[{"name":"JsonLdHelper","type":"class","children":[{"name":"unsupported_uri_scheme?","type":"function","location":"app/helpers/jsonld_helper.rb:62","static":false},{"name":"first_of_value","type":"function","location":"app/helpers/jsonld_helper.rb:14","static":false},{"name":"as_array","type":"function","location":"app/helpers/jsonld_helper.rb:44","static":false},{"name":"fetch_resource","type":"function","location":"app/helpers/jsonld_helper.rb:158","static":false},{"name":"fetch_resource_without_id_validation","type":"function","location":"app/helpers/jsonld_helper.rb:171","static":false},{"name":"build_request","type":"function","location":"app/helpers/jsonld_helper.rb:207","static":false},{"name":"response_successful?","type":"function","location":"app/helpers/jsonld_helper.rb:199","static":false}]},{"name":"DomainControlHelper","type":"class","children":[{"name":"domain_not_allowed?","type":"function","location":"app/helpers/domain_control_helper.rb:4","static":false},{"name":"limited_federation_mode?","type":"function","location":"app/helpers/domain_control_helper.rb:20","static":false}]},{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]}]},{"name":"models","type":"package","children":[{"name":"DomainBlock","type":"class","children":[{"name":"blocked?","type":"function","location":"app/models/domain_block.rb:49","static":true},{"name":"rule_for","type":"function","location":"app/models/domain_block.rb:67","static":true}]},{"name":"concerns","type":"package","children":[{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false}]},{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"DomainMaterializable","type":"class","children":[{"name":"refresh_instances_view","type":"function","location":"app/models/concerns/domain_materializable.rb:12","static":false},{"name":"count_unique_subdomains!","type":"function","location":"app/models/concerns/domain_materializable.rb:19","static":false}]},{"name":"Account","type":"class","children":[{"name":"avatar_remote_url=","type":"function","location":"app/models/concerns/remotable.rb:41","static":false},{"name":"download_avatar!","type":"function","location":"app/models/concerns/remotable.rb:10","static":false},{"name":"header_remote_url=","type":"function","location":"app/models/concerns/remotable.rb:41","static":false},{"name":"download_header!","type":"function","location":"app/models/concerns/remotable.rb:10","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"account_stat","type":"function","location":"app/models/concerns/account_counters.rb:76","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false},{"name":"save_with_optional_media!","type":"function","location":"app/models/account.rb:362","static":false},{"name":"ensure_keys!","type":"function","location":"app/models/account.rb:478","static":false},{"name":"keypair","type":"function","location":"app/models/account.rb:293","static":false},{"name":"object_type","type":"function","location":"app/models/account.rb:385","static":false},{"name":"instance_actor?","type":"function","location":"app/models/account.rb:175","static":false}]},{"name":"Instance","type":"class","children":[{"name":"refresh","type":"function","location":"app/models/instance.rb:28","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"Request","type":"class","children":[{"name":"on_behalf_of","type":"function","location":"app/lib/request.rb:91","static":false},{"name":"add_headers","type":"function","location":"app/lib/request.rb:100","static":false},{"name":"perform","type":"function","location":"app/lib/request.rb:105","static":false},{"name":"http_client","type":"function","location":"app/lib/request.rb:141","static":true},{"name":"headers","type":"function","location":"app/lib/request.rb:126","static":false},{"name":"ClientLimit","type":"class","children":[{"name":"body_with_limit","type":"function","location":"app/lib/request.rb:227","static":false},{"name":"truncated_body","type":"function","location":"app/lib/request.rb:204","static":false}]}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"key_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:53","static":false},{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false}]}]}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]}]},{"name":"workers/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"SynchronizeFeaturedCollectionWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/activitypub/synchronize_featured_collection_worker.rb:8","static":false}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]},{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"lib","type":"package","children":[{"name":"paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false}]}]}]},{"name":"mastodon","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"Version","type":"class","children":[{"name":"user_agent","type":"function","location":"lib/mastodon/version.rb:67","static":true}]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"sign","type":"function","location":"OpenSSL::PKey::PKey#sign","static":false,"labels":["crypto.pkey"]}]}]}]}]}],"events":[{"id":2293695,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"domain\" IS NOT NULL","database_type":"postgres"}},{"id":2293696,"event":"return","thread_id":9160,"parent_id":2293695,"elapsed":0.001032894,"elapsed_instrumentation":0.00012382800923660398},{"id":2293697,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"unsupported_uri_scheme?","path":"app/helpers/jsonld_helper.rb","lineno":62,"static":false,"parameters":[{"name":"uri","class":"String","object_id":11710700,"value":"https://foo.test/users/1","kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":11712440,"value":"#<ActivityPub::ProcessAccountService:0x00007fc919c852a0>"}},{"id":2293698,"event":"return","thread_id":9160,"parent_id":2293697,"elapsed":6.571994163095951e-06,"elapsed_instrumentation":0.0003983289934694767},{"id":2293699,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"String","object_id":11710740,"value":"foo.test","kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":11712440,"value":"#<ActivityPub::ProcessAccountService:0x00007fc919c852a0>"}},{"id":2293700,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":11712440,"value":"#<ActivityPub::ProcessAccountService:0x00007fc919c852a0>"}},{"id":2293701,"event":"return","thread_id":9160,"parent_id":2293700,"elapsed":1.696101389825344e-05,"elapsed_instrumentation":4.7553039621561766e-05},{"id":2293702,"event":"call","thread_id":9160,"defined_class":"DomainBlock","method_id":"blocked?","path":"app/models/domain_block.rb","lineno":49,"static":true,"parameters":[{"name":"domain","class":"String","object_id":11710740,"value":"foo.test","kind":"req"}],"receiver":{"class":"Class","object_id":52480,"value":"DomainBlock"}},{"id":2293703,"event":"call","thread_id":9160,"defined_class":"DomainBlock","method_id":"rule_for","path":"app/models/domain_block.rb","lineno":67,"static":true,"parameters":[{"name":"domain","class":"String","object_id":11710740,"value":"foo.test","kind":"req"}],"receiver":{"class":"Class","object_id":52480,"value":"DomainBlock"}},{"id":2293704,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"domain_blocks\".* FROM \"domain_blocks\" WHERE \"domain_blocks\".\"domain\" IN ($1, $2) ORDER BY char_length(domain) desc LIMIT $3","database_type":"postgres"}},{"id":2293705,"event":"return","thread_id":9160,"parent_id":2293704,"elapsed":0.001026471,"elapsed_instrumentation":0.00035250396467745304},{"id":2293706,"event":"return","thread_id":9160,"parent_id":2293703,"elapsed":0.0037273060297593474,"elapsed_instrumentation":9.91730485111475e-05},{"id":2293707,"event":"return","thread_id":9160,"parent_id":2293702,"elapsed":0.003855696995742619,"elapsed_instrumentation":0.00012231804430484772},{"id":2293708,"event":"return","thread_id":9160,"parent_id":2293699,"elapsed":0.004083976033143699,"elapsed_instrumentation":9.086995851248503e-05},{"id":2293709,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":11710740,"value":"foo.test","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2293710,"event":"return","thread_id":9160,"parent_id":2293709,"elapsed":0.00018183398060500622,"elapsed_instrumentation":0.00014850503066554666,"return_value":{"class":"String","value":"foo.test","object_id":11712460}},{"id":2293711,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":11712480,"value":"process_account:https://foo.test/users/1","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":11712440,"value":"#<ActivityPub::ProcessAccountService:0x00007fc919c852a0>"}},{"id":2293712,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":11712440,"value":"#<ActivityPub::ProcessAccountService:0x00007fc919c852a0>"}},{"id":2293713,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":11712500,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":11712520,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2293714,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2293715,"event":"return","thread_id":9160,"parent_id":2293714,"elapsed":3.163993824273348e-06,"elapsed_instrumentation":6.558600580319762e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2293716,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":11712540,"value":"_\u0004x___\u001a_T\"\u001b____c"}},{"id":2293717,"event":"return","thread_id":9160,"parent_id":2293716,"elapsed":5.729030817747116e-06,"elapsed_instrumentation":0.0001245339517481625,"return_value":{"class":"Array","value":"[3036969130, 36049, 6908, 21538, 7153, 3921905763]","object_id":11712560,"size":6}},{"id":2293718,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":11712580,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc932b134a8>"}},{"id":2293719,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'user1' AND LOWER(\"accounts\".\"domain\") = 'foo.test' ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2293720,"event":"return","thread_id":9160,"parent_id":2293719,"elapsed":0.001108462,"elapsed_instrumentation":0.00012019596761092544},{"id":2293721,"event":"return","thread_id":9160,"parent_id":2293718,"elapsed":0.004028902971185744,"elapsed_instrumentation":0.0001012900029309094},{"id":2293722,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":11712440,"value":"#<ActivityPub::ProcessAccountService:0x00007fc919c852a0>"}},{"id":2293723,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":11712600,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":11712620,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2293724,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2293725,"event":"return","thread_id":9160,"parent_id":2293724,"elapsed":3.522029146552086e-06,"elapsed_instrumentation":0.00011360005009919405,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2293726,"event":"return","thread_id":9160,"parent_id":2293723,"elapsed":0.002116971998475492,"elapsed_instrumentation":0.00019113399321213365},{"id":2293727,"event":"return","thread_id":9160,"parent_id":2293722,"elapsed":0.0025911639677360654,"elapsed_instrumentation":0.000131412991322577},{"id":2293728,"event":"call","thread_id":9160,"defined_class":"DomainBlock","method_id":"rule_for","path":"app/models/domain_block.rb","lineno":67,"static":true,"parameters":[{"name":"domain","class":"String","object_id":11712460,"value":"foo.test","kind":"req"}],"receiver":{"class":"Class","object_id":52480,"value":"DomainBlock"}},{"id":2293729,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"domain_blocks\".* FROM \"domain_blocks\" WHERE \"domain_blocks\".\"domain\" IN ($1, $2) ORDER BY char_length(domain) desc LIMIT $3","database_type":"postgres"}},{"id":2293730,"event":"return","thread_id":9160,"parent_id":2293729,"elapsed":0.000734889,"elapsed_instrumentation":0.0001962870010174811},{"id":2293731,"event":"return","thread_id":9160,"parent_id":2293728,"elapsed":0.0022648589801974595,"elapsed_instrumentation":0.0003265980049036443},{"id":2293732,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":2293733,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293734,"event":"return","thread_id":9160,"parent_id":2293733,"elapsed":0.00028180901426821947,"elapsed_instrumentation":6.953196134418249e-05},{"id":2293735,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":11712680,"value":"foo.test","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2293736,"event":"return","thread_id":9160,"parent_id":2293735,"elapsed":0.0003253250033594668,"elapsed_instrumentation":0.00013570598093792796,"return_value":{"class":"String","value":"foo.test","object_id":11712700}},{"id":2293737,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293738,"event":"return","thread_id":9160,"parent_id":2293737,"elapsed":8.391973096877337e-06,"elapsed_instrumentation":6.430200301110744e-05},{"id":2293739,"event":"return","thread_id":9160,"parent_id":2293732,"elapsed":0.0010340929729864001,"elapsed_instrumentation":0.000168485043104738,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28e78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b2b5d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323140,"size":4}},{"id":2293740,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":2293741,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":323320,"value":"#<UniqueUsernameValidator:0x00007fc9402767b0>"}},{"id":2293742,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2293743,"event":"return","thread_id":9160,"parent_id":2293742,"elapsed":0.000568557,"elapsed_instrumentation":0.00011193298269063234},{"id":2293744,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'user1' AND LOWER(\"accounts\".\"domain\") = 'foo.test' LIMIT $1","database_type":"postgres"}},{"id":2293745,"event":"return","thread_id":9160,"parent_id":2293744,"elapsed":0.001779315,"elapsed_instrumentation":7.640797412022948e-05},{"id":2293746,"event":"return","thread_id":9160,"parent_id":2293741,"elapsed":0.0033271380234509706,"elapsed_instrumentation":0.00011507095769047737},{"id":2293747,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293748,"event":"return","thread_id":9160,"parent_id":2293747,"elapsed":1.0801013559103012e-05,"elapsed_instrumentation":0.00010509899584576488},{"id":2293749,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293750,"event":"return","thread_id":9160,"parent_id":2293749,"elapsed":9.445997420698404e-06,"elapsed_instrumentation":0.00010390096576884389},{"id":2293751,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293752,"event":"return","thread_id":9160,"parent_id":2293751,"elapsed":4.017027094960213e-06,"elapsed_instrumentation":5.944998702034354e-05},{"id":2293753,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293754,"event":"return","thread_id":9160,"parent_id":2293753,"elapsed":3.423017915338278e-06,"elapsed_instrumentation":4.6446919441223145e-05},{"id":2293755,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293756,"event":"return","thread_id":9160,"parent_id":2293755,"elapsed":7.405993528664112e-06,"elapsed_instrumentation":6.0001970268785954e-05},{"id":2293757,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293758,"event":"return","thread_id":9160,"parent_id":2293757,"elapsed":5.439971573650837e-06,"elapsed_instrumentation":0.00010608404409140348},{"id":2293759,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293760,"event":"return","thread_id":9160,"parent_id":2293759,"elapsed":3.66999302059412e-06,"elapsed_instrumentation":5.311804125085473e-05},{"id":2293761,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293762,"event":"return","thread_id":9160,"parent_id":2293761,"elapsed":3.7749996408820152e-06,"elapsed_instrumentation":4.567595897242427e-05},{"id":2293763,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293764,"event":"return","thread_id":9160,"parent_id":2293763,"elapsed":3.7120189517736435e-06,"elapsed_instrumentation":5.4473988711833954e-05},{"id":2293765,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293766,"event":"return","thread_id":9160,"parent_id":2293765,"elapsed":4.2460160329937935e-06,"elapsed_instrumentation":6.263999966904521e-05},{"id":2293767,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293768,"event":"return","thread_id":9160,"parent_id":2293767,"elapsed":3.596011083573103e-06,"elapsed_instrumentation":0.00012612499995157123},{"id":2293769,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293770,"event":"return","thread_id":9160,"parent_id":2293769,"elapsed":4.97401924803853e-06,"elapsed_instrumentation":6.0879974626004696e-05},{"id":2293771,"event":"return","thread_id":9160,"parent_id":2293740,"elapsed":0.005922632000874728,"elapsed_instrumentation":0.00021367298904806376,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939c310e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c31f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c320d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32468 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c325f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32a08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c337f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":323620,"size":71}},{"id":2293772,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":2293773,"event":"return","thread_id":9160,"parent_id":2293772,"elapsed":7.525901310145855e-05,"elapsed_instrumentation":9.318499360233545e-05,"return_value":{"class":"Array","value":"[]","object_id":323640,"size":0}},{"id":2293774,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":2293775,"event":"return","thread_id":9160,"parent_id":2293774,"elapsed":1.2142001651227474e-05,"elapsed_instrumentation":9.123497875407338e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28b08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323660,"size":1}},{"id":2293776,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":2293777,"event":"return","thread_id":9160,"parent_id":2293776,"elapsed":2.523401053622365e-05,"elapsed_instrumentation":0.0001152629847638309,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93912dae0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323720,"size":1}},{"id":2293778,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":2293779,"event":"return","thread_id":9160,"parent_id":2293778,"elapsed":2.3120082914829254e-06,"elapsed_instrumentation":6.973999552428722e-05,"return_value":{"class":"Array","value":"[]","object_id":323760,"size":0}},{"id":2293780,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":2293781,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293782,"event":"return","thread_id":9160,"parent_id":2293781,"elapsed":8.784991223365068e-06,"elapsed_instrumentation":0.00010056898463517427},{"id":2293783,"event":"return","thread_id":9160,"parent_id":2293780,"elapsed":0.00014653499238193035,"elapsed_instrumentation":0.0001520679797977209,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939190c58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323820,"size":1}},{"id":2293784,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":2293785,"event":"return","thread_id":9160,"parent_id":2293784,"elapsed":0.001804166,"elapsed_instrumentation":0.00017514999490231276},{"id":2293786,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":2293787,"event":"return","thread_id":9160,"parent_id":2293786,"elapsed":0.0004918969934806228,"elapsed_instrumentation":0.0003231510054320097,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93920f3f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920eea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e540 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920dff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920d140 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920c448 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920adf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":325440,"size":53}},{"id":2293788,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":2293789,"event":"return","thread_id":9160,"parent_id":2293788,"elapsed":3.972963895648718e-06,"elapsed_instrumentation":9.055697591975331e-05,"return_value":{"class":"Array","value":"[]","object_id":325460,"size":0}},{"id":2293790,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":2293791,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":11712780,"value":"/avatars/original/missing.png"}},{"id":2293792,"event":"return","thread_id":9160,"parent_id":2293791,"elapsed":0.00020820798818022013,"elapsed_instrumentation":0.00028883101185783744,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2293793,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":11712800,"value":"/headers/original/missing.png"}},{"id":2293794,"event":"return","thread_id":9160,"parent_id":2293793,"elapsed":2.704502549022436e-05,"elapsed_instrumentation":0.00019979098578915,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2293795,"event":"return","thread_id":9160,"parent_id":2293790,"elapsed":0.0009828439797274768,"elapsed_instrumentation":0.00012340000830590725,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939129148 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939125ef8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939121470 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939120b88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":325520,"size":4}},{"id":2293796,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2293797,"event":"return","thread_id":9160,"parent_id":2293796,"elapsed":0.000620359,"elapsed_instrumentation":9.756605140864849e-05},{"id":2293798,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":2293799,"event":"return","thread_id":9160,"parent_id":2293798,"elapsed":3.56003874912858e-06,"elapsed_instrumentation":0.00010845699580386281,"return_value":{"class":"Array","value":"[]","object_id":328300,"size":0}},{"id":2293800,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":2293801,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293802,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2293803,"event":"return","thread_id":9160,"parent_id":2293802,"elapsed":0.001202921,"elapsed_instrumentation":7.843103958293796e-05},{"id":2293804,"event":"call","thread_id":9160,"defined_class":"Instance","method_id":"refresh","path":"app/models/instance.rb","lineno":28,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":52400,"value":"Instance"}},{"id":2293805,"event":"call","thread_id":9160,"sql_query":{"sql":"REFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";","database_type":"postgres"}},{"id":2293806,"event":"return","thread_id":9160,"parent_id":2293805,"elapsed":0.02394597,"elapsed_instrumentation":0.00043228897266089916},{"id":2293807,"event":"return","thread_id":9160,"parent_id":2293804,"elapsed":0.024713304999750108,"elapsed_instrumentation":0.00015744101256132126,"return_value":{"class":"PG::Result","value":"#<PG::Result:0x00007fc932aaeb70>","object_id":11712840}},{"id":2293808,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"count_unique_subdomains!","path":"app/models/concerns/domain_materializable.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293809,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293810,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":11712860,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":11712880,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2293811,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2293812,"event":"return","thread_id":9160,"parent_id":2293811,"elapsed":3.918015863746405e-06,"elapsed_instrumentation":0.0001730470103211701,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2293813,"event":"return","thread_id":9160,"parent_id":2293810,"elapsed":0.0010295099928043783,"elapsed_instrumentation":0.00030227203387767076,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2293814,"event":"return","thread_id":9160,"parent_id":2293809,"elapsed":0.0013586650020442903,"elapsed_instrumentation":8.064799476414919e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2293815,"event":"return","thread_id":9160,"parent_id":2293808,"elapsed":0.0015786750009283423,"elapsed_instrumentation":0.0001036460162140429,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2293816,"event":"return","thread_id":9160,"parent_id":2293801,"elapsed":0.02896628197049722,"elapsed_instrumentation":7.652200292795897e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2293817,"event":"return","thread_id":9160,"parent_id":2293800,"elapsed":0.029111508978530765,"elapsed_instrumentation":0.0003727309522219002,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc938945850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc938942a10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855fba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855f0b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855ebb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855de40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":328320,"size":6}},{"id":2293818,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293819,"event":"return","thread_id":9160,"parent_id":2293818,"elapsed":3.136403393000364e-05,"elapsed_instrumentation":9.084097109735012e-05},{"id":2293820,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293821,"event":"return","thread_id":9160,"parent_id":2293820,"elapsed":1.1262018233537674e-05,"elapsed_instrumentation":0.00033487495966255665},{"id":2293822,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293823,"event":"return","thread_id":9160,"parent_id":2293822,"elapsed":1.047999830916524e-05,"elapsed_instrumentation":0.00011096295202150941},{"id":2293824,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293825,"event":"return","thread_id":9160,"parent_id":2293824,"elapsed":5.063018761575222e-06,"elapsed_instrumentation":6.416102405637503e-05},{"id":2293826,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"first_of_value","path":"app/helpers/jsonld_helper.rb","lineno":14,"static":false,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":11712440,"value":"#<ActivityPub::ProcessAccountService:0x00007fc919c852a0>"}},{"id":2293827,"event":"return","thread_id":9160,"parent_id":2293826,"elapsed":5.034962669014931e-06,"elapsed_instrumentation":7.03320256434381e-05},{"id":2293828,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293829,"event":"return","thread_id":9160,"parent_id":2293828,"elapsed":4.57599526271224e-06,"elapsed_instrumentation":5.258893361315131e-05},{"id":2293830,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"as_array","path":"app/helpers/jsonld_helper.rb","lineno":44,"static":false,"parameters":[{"name":"value","class":"Array","object_id":11712900,"value":"[]","kind":"req","size":0}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":11712440,"value":"#<ActivityPub::ProcessAccountService:0x00007fc919c852a0>"}},{"id":2293831,"event":"return","thread_id":9160,"parent_id":2293830,"elapsed":5.838985089212656e-06,"elapsed_instrumentation":0.0001017330214381218,"return_value":{"class":"Array","value":"[]","object_id":11712900,"size":0}},{"id":2293832,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293833,"event":"return","thread_id":9160,"parent_id":2293832,"elapsed":1.2003991287201643e-05,"elapsed_instrumentation":0.0002059210673905909},{"id":2293834,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293835,"event":"return","thread_id":9160,"parent_id":2293834,"elapsed":4.889967385679483e-06,"elapsed_instrumentation":6.181304343044758e-05},{"id":2293836,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"first_of_value","path":"app/helpers/jsonld_helper.rb","lineno":14,"static":false,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":11712440,"value":"#<ActivityPub::ProcessAccountService:0x00007fc919c852a0>"}},{"id":2293837,"event":"return","thread_id":9160,"parent_id":2293836,"elapsed":4.062021616846323e-06,"elapsed_instrumentation":6.899097934365273e-05},{"id":2293838,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"avatar_remote_url=","path":"app/models/concerns/remotable.rb","lineno":41,"static":false,"parameters":[{"name":"url","class":"String","object_id":904380,"value":"","kind":"req"}],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293839,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"download_avatar!","path":"app/models/concerns/remotable.rb","lineno":10,"static":false,"parameters":[{"name":"url","class":"String","object_id":904380,"value":"","kind":"opt"}],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293840,"event":"return","thread_id":9160,"parent_id":2293839,"elapsed":5.800975486636162e-06,"elapsed_instrumentation":6.436801049858332e-05},{"id":2293841,"event":"return","thread_id":9160,"parent_id":2293838,"elapsed":0.00012090301606804132,"elapsed_instrumentation":6.942899199202657e-05},{"id":2293842,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293843,"event":"return","thread_id":9160,"parent_id":2293842,"elapsed":1.2414995580911636e-05,"elapsed_instrumentation":0.00020557799143716693},{"id":2293844,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"first_of_value","path":"app/helpers/jsonld_helper.rb","lineno":14,"static":false,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":11712440,"value":"#<ActivityPub::ProcessAccountService:0x00007fc919c852a0>"}},{"id":2293845,"event":"return","thread_id":9160,"parent_id":2293844,"elapsed":3.935012500733137e-06,"elapsed_instrumentation":9.973201667889953e-05},{"id":2293846,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"header_remote_url=","path":"app/models/concerns/remotable.rb","lineno":41,"static":false,"parameters":[{"name":"url","class":"String","object_id":904380,"value":"","kind":"req"}],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293847,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"download_header!","path":"app/models/concerns/remotable.rb","lineno":10,"static":false,"parameters":[{"name":"url","class":"String","object_id":904380,"value":"","kind":"opt"}],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293848,"event":"return","thread_id":9160,"parent_id":2293847,"elapsed":5.187001079320908e-06,"elapsed_instrumentation":6.576499436050653e-05},{"id":2293849,"event":"return","thread_id":9160,"parent_id":2293846,"elapsed":0.00012417195830494165,"elapsed_instrumentation":7.43520213291049e-05},{"id":2293850,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"save_with_optional_media!","path":"app/models/account.rb","lineno":362,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293851,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":2293852,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293853,"event":"return","thread_id":9160,"parent_id":2293852,"elapsed":7.843016646802425e-06,"elapsed_instrumentation":5.9299985878169537e-05},{"id":2293854,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":11712940,"value":"foo.test","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2293855,"event":"return","thread_id":9160,"parent_id":2293854,"elapsed":0.00017958402168005705,"elapsed_instrumentation":9.191496064886451e-05,"return_value":{"class":"String","value":"foo.test","object_id":11712960}},{"id":2293856,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293857,"event":"return","thread_id":9160,"parent_id":2293856,"elapsed":9.1749825514853e-06,"elapsed_instrumentation":5.833694012835622e-05},{"id":2293858,"event":"return","thread_id":9160,"parent_id":2293851,"elapsed":0.0005158410058356822,"elapsed_instrumentation":0.00018722901586443186,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28e78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b2b5d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323140,"size":4}},{"id":2293859,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":2293860,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293861,"event":"return","thread_id":9160,"parent_id":2293860,"elapsed":6.4060441218316555e-06,"elapsed_instrumentation":7.26119615137577e-05},{"id":2293862,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293863,"event":"return","thread_id":9160,"parent_id":2293862,"elapsed":8.861010428518057e-06,"elapsed_instrumentation":0.0001795699936337769},{"id":2293864,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293865,"event":"return","thread_id":9160,"parent_id":2293864,"elapsed":4.6720379032194614e-06,"elapsed_instrumentation":7.514201570302248e-05},{"id":2293866,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293867,"event":"return","thread_id":9160,"parent_id":2293866,"elapsed":4.035013262182474e-06,"elapsed_instrumentation":4.9220980145037174e-05},{"id":2293868,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293869,"event":"return","thread_id":9160,"parent_id":2293868,"elapsed":3.471970558166504e-06,"elapsed_instrumentation":4.695699317380786e-05},{"id":2293870,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293871,"event":"return","thread_id":9160,"parent_id":2293870,"elapsed":4.839967004954815e-06,"elapsed_instrumentation":0.000231444020755589},{"id":2293872,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293873,"event":"return","thread_id":9160,"parent_id":2293872,"elapsed":4.051020368933678e-06,"elapsed_instrumentation":4.881701897829771e-05},{"id":2293874,"event":"return","thread_id":9160,"parent_id":2293859,"elapsed":0.0016765999607741833,"elapsed_instrumentation":0.00020143698202446103,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939c310e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c31f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c320d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32468 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c325f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32a08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c337f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":323620,"size":71}},{"id":2293875,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":2293876,"event":"return","thread_id":9160,"parent_id":2293875,"elapsed":3.5510165616869926e-06,"elapsed_instrumentation":0.000144416990224272,"return_value":{"class":"Array","value":"[]","object_id":323640,"size":0}},{"id":2293877,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11712920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":2293878,"event":"return","thread_id":9160,"parent_id":2293877,"elapsed":1.2155971489846706e-05,"elapsed_instrumentation":9.619601769372821e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28b08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323660,"size":1}},{"id":2293879,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":2293880,"event":"return","thread_id":9160,"parent_id":2293879,"elapsed":3.8488011341542006e-05,"elapsed_instrumentation":8.912902558222413e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93912dae0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323720,"size":1}},{"id":2293881,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":2293882,"event":"return","thread_id":9160,"parent_id":2293881,"elapsed":3.12004704028368e-06,"elapsed_instrumentation":6.821600254625082e-05,"return_value":{"class":"Array","value":"[]","object_id":323760,"size":0}},{"id":2293883,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":521940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931f1bf10>"}},{"id":2293884,"event":"return","thread_id":9160,"parent_id":2293883,"elapsed":2.733024302870035e-06,"elapsed_instrumentation":7.993198232725263e-05,"return_value":{"class":"Array","value":"[]","object_id":521960,"size":0}},{"id":2293885,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":11713040,"value":"{}","kind":"req","size":0}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":11713060,"value":"#<JSON::Ext::Generator::State:0x00007fc9329d7990>"}},{"id":2293886,"event":"return","thread_id":9160,"parent_id":2293885,"elapsed":5.439971573650837e-06,"elapsed_instrumentation":0.00011387804988771677,"return_value":{"class":"String","value":"{}","object_id":11713080}},{"id":2293887,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":11713100,"value":"#<JSON::Ext::Parser:0x00007fc9329d68d8>"}},{"id":2293888,"event":"return","thread_id":9160,"parent_id":2293887,"elapsed":3.205961547791958e-06,"elapsed_instrumentation":6.76480121910572e-05,"return_value":{"class":"Hash","value":"{}","object_id":11713120,"size":0}},{"id":2293889,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":11713140,"value":"{}","kind":"req","size":0}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":11713160,"value":"#<JSON::Ext::Generator::State:0x00007fc9329d4948>"}},{"id":2293890,"event":"return","thread_id":9160,"parent_id":2293889,"elapsed":5.153007805347443e-06,"elapsed_instrumentation":0.00012330396566540003,"return_value":{"class":"String","value":"{}","object_id":11713180}},{"id":2293891,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2293892,"event":"return","thread_id":9160,"parent_id":2293891,"elapsed":0.000569579,"elapsed_instrumentation":9.75639559328556e-05},{"id":2293893,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"accounts\" SET \"updated_at\" = $1, \"avatar_remote_url\" = $2, \"last_webfingered_at\" = $3, \"featured_collection_url\" = $4, \"fields\" = $5, \"discoverable\" = $6, \"also_known_as\" = $7, \"hide_collections\" = $8, \"devices_url\" = $9 WHERE \"accounts\".\"id\" = $10","database_type":"postgres"}},{"id":2293894,"event":"return","thread_id":9160,"parent_id":2293893,"elapsed":0.001997275,"elapsed_instrumentation":0.00013186497380957007},{"id":2293895,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":11713200,"value":"#<JSON::Ext::Parser:0x00007fc9329d1630>"}},{"id":2293896,"event":"return","thread_id":9160,"parent_id":2293895,"elapsed":8.673989214003086e-06,"elapsed_instrumentation":0.00034722796408459544,"return_value":{"class":"Hash","value":"{}","object_id":11713220,"size":0}},{"id":2293897,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":521940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931f1bf10>"}},{"id":2293898,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2293899,"event":"return","thread_id":9160,"parent_id":2293898,"elapsed":0.000952211,"elapsed_instrumentation":0.00013313000090420246},{"id":2293900,"event":"return","thread_id":9160,"parent_id":2293897,"elapsed":0.003418824984692037,"elapsed_instrumentation":0.00036806799471378326,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932760158 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93270ff78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93270fdc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93270fc08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93270fa50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93270f898 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93270f6e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93270f528 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93270f370 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93270f1b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":521980,"size":53}},{"id":2293901,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":2293902,"event":"return","thread_id":9160,"parent_id":2293901,"elapsed":4.078960046172142e-06,"elapsed_instrumentation":0.00021593400742858648,"return_value":{"class":"Array","value":"[]","object_id":325460,"size":0}},{"id":2293903,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":2293904,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":11712780,"value":"/avatars/original/missing.png"}},{"id":2293905,"event":"return","thread_id":9160,"parent_id":2293904,"elapsed":2.727500395849347e-05,"elapsed_instrumentation":0.000210435944609344,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2293906,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":11712800,"value":"/headers/original/missing.png"}},{"id":2293907,"event":"return","thread_id":9160,"parent_id":2293906,"elapsed":1.598702510818839e-05,"elapsed_instrumentation":0.00012836797395721078,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2293908,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293909,"event":"return","thread_id":9160,"parent_id":2293908,"elapsed":0.0008899810491129756,"elapsed_instrumentation":0.00012089090887457132,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e1736b88>","object_id":11713240}},{"id":2293910,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293911,"event":"return","thread_id":9160,"parent_id":2293910,"elapsed":1.927796984091401e-05,"elapsed_instrumentation":0.00023625604808330536,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e1736b88>","object_id":11713240}},{"id":2293912,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2293913,"event":"return","thread_id":9160,"parent_id":2293912,"elapsed":2.0014995243400335e-05,"elapsed_instrumentation":0.00011758907930925488,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2293914,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":522060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931f199e0>"}},{"id":2293915,"event":"return","thread_id":9160,"parent_id":2293914,"elapsed":6.375199882313609e-05,"elapsed_instrumentation":0.00010027200914919376,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93271b3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93271b580 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":522080,"size":2}},{"id":2293916,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":522060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931f199e0>"}},{"id":2293917,"event":"return","thread_id":9160,"parent_id":2293916,"elapsed":3.2929820008575916e-06,"elapsed_instrumentation":7.042603101581335e-05,"return_value":{"class":"Array","value":"[]","object_id":522100,"size":0}},{"id":2293918,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2293919,"event":"return","thread_id":9160,"parent_id":2293918,"elapsed":1.9690487533807755e-06,"elapsed_instrumentation":6.4115971326828e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2293920,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":522140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931f19760>"}},{"id":2293921,"event":"return","thread_id":9160,"parent_id":2293920,"elapsed":0.00015762500697746873,"elapsed_instrumentation":0.00010572804603725672,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932718b00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":522160,"size":1}},{"id":2293922,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"account_stats\" (\"account_id\", \"statuses_count\", \"following_count\", \"followers_count\", \"created_at\", \"updated_at\", \"last_status_at\") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING \"id\"","database_type":"postgres"}},{"id":2293923,"event":"return","thread_id":9160,"parent_id":2293922,"elapsed":0.000953058,"elapsed_instrumentation":0.00010341597953811288},{"id":2293924,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":522140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931f19760>"}},{"id":2293925,"event":"return","thread_id":9160,"parent_id":2293924,"elapsed":9.973900159820914e-05,"elapsed_instrumentation":0.00013242097338661551,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932718948 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":522180,"size":1}},{"id":2293926,"event":"return","thread_id":9160,"parent_id":2293903,"elapsed":0.005500223021954298,"elapsed_instrumentation":0.00011460197856649756,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939129148 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939125ef8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939121470 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939120b88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":325520,"size":4}},{"id":2293927,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2293928,"event":"return","thread_id":9160,"parent_id":2293927,"elapsed":0.000596813,"elapsed_instrumentation":0.00011675601126626134},{"id":2293929,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":2293930,"event":"return","thread_id":9160,"parent_id":2293929,"elapsed":4.743982572108507e-06,"elapsed_instrumentation":0.00013157096691429615,"return_value":{"class":"Array","value":"[]","object_id":328300,"size":0}},{"id":2293931,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11713320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":2293932,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293933,"event":"return","thread_id":9160,"parent_id":2293932,"elapsed":1.9603001419454813e-05,"elapsed_instrumentation":5.909806350246072e-05},{"id":2293934,"event":"return","thread_id":9160,"parent_id":2293931,"elapsed":0.0001791079994291067,"elapsed_instrumentation":0.0001404319773428142,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc938945850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc938942a10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855fba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855f0b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855ebb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855de40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":328320,"size":6}},{"id":2293935,"event":"return","thread_id":9160,"parent_id":2293850,"elapsed":0.021122609032317996,"elapsed_instrumentation":0.00010737200500443578,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2293936,"event":"return","thread_id":9160,"parent_id":2293713,"elapsed":0.08414494298631325,"elapsed_instrumentation":0.0001294590183533728},{"id":2293937,"event":"return","thread_id":9160,"parent_id":2293712,"elapsed":0.08429868804523721,"elapsed_instrumentation":6.765197031199932e-05},{"id":2293938,"event":"return","thread_id":9160,"parent_id":2293711,"elapsed":0.08440111199161038,"elapsed_instrumentation":0.0002978350385092199},{"id":2293939,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11712660,"value":"#<Account:0x00007fc8e1737d08>"}},{"id":2293940,"event":"return","thread_id":9160,"parent_id":2293939,"elapsed":1.0513991583138704e-05,"elapsed_instrumentation":8.452200563624501e-05},{"id":2293941,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":11713340,"value":"{args=>[111361415851921657, {hashtag=>true, request_id=>1699240354-user1@foo.test}], class=>ActivityPub::SynchronizeFeaturedCollectionWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":11713360,"value":"#<Sidekiq::Client:0x00007fc9329730f8>"}},{"id":2293942,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":11713380,"value":"C\u0007O{_lN___\u000f_"}},{"id":2293943,"event":"return","thread_id":9160,"parent_id":2293942,"elapsed":5.637994036078453e-06,"elapsed_instrumentation":0.00016056402819231153,"return_value":{"class":"String","value":"43074f7bc36c4e90b2b50fe7","object_id":11713400}},{"id":2293944,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":11713420,"value":"[[class, ActivityPub::SynchronizeFeaturedCollectionWorker], [lock_args, [111361415851921657, {hashtag=>true, request_id=>1699240354-user1@foo.test}]], [queue, pull]]","kind":"req","size":3}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":11713440,"value":"#<JSON::Ext::Generator::State:0x00007fc9329ace48>"}},{"id":2293945,"event":"return","thread_id":9160,"parent_id":2293944,"elapsed":1.6983947716653347e-05,"elapsed_instrumentation":0.0005584880127571523,"return_value":{"class":"String","value":"[[\"class\",\"ActivityPub::SynchronizeFeaturedCollectionWorker\"],[\"lock_args\",[111361415851921657,{\"has (...72 more characters)","object_id":11713460}},{"id":2293946,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":11713480,"value":"[111361415851921657, {hashtag=>true, request_id=>1699240354-user1@foo.test}]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":11713500,"value":"#<JSON::Ext::Generator::State:0x00007fc9329a5c10>"}},{"id":2293947,"event":"return","thread_id":9160,"parent_id":2293946,"elapsed":9.050010703504086e-06,"elapsed_instrumentation":0.0004569329903461039,"return_value":{"class":"String","value":"[111361415851921657,{\"hashtag\":true,\"request_id\":\"1699240354-user1@foo.test\"}]","object_id":11713520}},{"id":2293948,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":11713540,"value":"#<JSON::Ext::Parser:0x00007fc9329a37f8>"}},{"id":2293949,"event":"return","thread_id":9160,"parent_id":2293948,"elapsed":1.0858988389372826e-05,"elapsed_instrumentation":0.0001103790127672255,"return_value":{"class":"Array","value":"[111361415851921657, {hashtag=>true, request_id=>1699240354-user1@foo.test}]","object_id":11713560,"size":2}},{"id":2293950,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":11713580,"value":"_\f_'___\u0001HV__"}},{"id":2293951,"event":"return","thread_id":9160,"parent_id":2293950,"elapsed":4.733039531856775e-06,"elapsed_instrumentation":0.00012587400851771235,"return_value":{"class":"String","value":"df0c9927fa9de4014856dd9b","object_id":11713600}},{"id":2293952,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":11713620,"value":"{retry=>true, queue=>pull, lock=>:until_executed, lock_ttl=>86400, args=>[111361415851921657, {hashtag=>true, request_id=>1699240354-user1@foo.test}], class=>ActivityPub::SynchronizeFeaturedCollectionWorker, jid=>43074f7bc36c4e90b2b50fe7, created_at=>1699240354.2907019, lock_timeout=>0, lock_prefix=>uniquejobs (...3 more entries)}","kind":"req","size":13}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":11713640,"value":"#<JSON::Ext::Generator::State:0x00007fc9329a03a0>"}},{"id":2293953,"event":"return","thread_id":9160,"parent_id":2293952,"elapsed":2.8307025786489248e-05,"elapsed_instrumentation":0.0007581799873150885,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"lock\":\"until_executed\",\"lock_ttl\":86400,\"args\":[111361415851921657,{\"h (...407 more characters)","object_id":11713660}},{"id":2293954,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":11713680,"value":"#<JSON::Ext::Parser:0x00007fc9328fb0d0>"}},{"id":2293955,"event":"return","thread_id":9160,"parent_id":2293954,"elapsed":3.6191020626574755e-05,"elapsed_instrumentation":0.0004197140224277973,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, lock=>until_executed, lock_ttl=>86400, args=>[111361415851921657, {hashtag=>true, request_id=>1699240354-user1@foo.test}], class=>ActivityPub::SynchronizeFeaturedCollectionWorker, jid=>43074f7bc36c4e90b2b50fe7, created_at=>1699240354.2907019, lock_timeout=>0, lock_prefix=>uniquejobs (...3 more entries)}","object_id":11713700,"size":13}},{"id":2293956,"event":"call","thread_id":9160,"defined_class":"ActivityPub::SynchronizeFeaturedCollectionWorker","method_id":"perform","path":"app/workers/activitypub/synchronize_featured_collection_worker.rb","lineno":8,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222722831703843315,"value":"111361415851921657","kind":"req"},{"name":"options","class":"Hash","object_id":11713720,"value":"{hashtag=>true, request_id=>1699240354-user1@foo.test}","kind":"opt","size":2}],"receiver":{"class":"ActivityPub::SynchronizeFeaturedCollectionWorker","object_id":11713740,"value":"#<ActivityPub::SynchronizeFeaturedCollectionWorker:0x00007fc9328f76d8>"}},{"id":2293957,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2293958,"event":"return","thread_id":9160,"parent_id":2293957,"elapsed":0.001269436,"elapsed_instrumentation":0.00016330095240846276},{"id":2293959,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11713760,"value":"#<Account:0x00007fc8e1735508>"}},{"id":2293960,"event":"return","thread_id":9160,"parent_id":2293959,"elapsed":4.453799920156598e-05,"elapsed_instrumentation":0.000354404968675226},{"id":2293961,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11713760,"value":"#<Account:0x00007fc8e1735508>"}},{"id":2293962,"event":"return","thread_id":9160,"parent_id":2293961,"elapsed":1.6181031242012978e-05,"elapsed_instrumentation":9.940197924152017e-05},{"id":2293963,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"account_id\" WHERE \"follows\".\"target_account_id\" = $1 AND \"accounts\".\"domain\" IS NULL AND \"accounts\".\"suspended_at\" IS NULL ORDER BY follows.id desc LIMIT $2","database_type":"postgres"}},{"id":2293964,"event":"return","thread_id":9160,"parent_id":2293963,"elapsed":0.001954689,"elapsed_instrumentation":0.00010618101805448532},{"id":2293965,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"fetch_resource","path":"app/helpers/jsonld_helper.rb","lineno":158,"static":false,"parameters":[{"name":"uri","class":"String","object_id":11713780,"value":"https://foo.test/users/1/featured","kind":"req"},{"name":"id","class":"TrueClass","object_id":20,"value":"true","kind":"req"},{"name":"on_behalf_of","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::FetchFeaturedCollectionService","object_id":11713800,"value":"#<ActivityPub::FetchFeaturedCollectionService:0x00007fc930c54d00>"}},{"id":2293966,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"fetch_resource_without_id_validation","path":"app/helpers/jsonld_helper.rb","lineno":171,"static":false,"parameters":[{"name":"uri","class":"String","object_id":11713780,"value":"https://foo.test/users/1/featured","kind":"req"},{"name":"on_behalf_of","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"raise_on_temporary_error","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::FetchFeaturedCollectionService","object_id":11713800,"value":"#<ActivityPub::FetchFeaturedCollectionService:0x00007fc930c54d00>"}},{"id":2293967,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2293968,"event":"return","thread_id":9160,"parent_id":2293967,"elapsed":0.000731991,"elapsed_instrumentation":0.00013172603212296963},{"id":2293969,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"ensure_keys!","path":"app/models/account.rb","lineno":478,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11713820,"value":"#<Account:0x00007fc8e17349c8>"}},{"id":2293970,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11713820,"value":"#<Account:0x00007fc8e17349c8>"}},{"id":2293971,"event":"return","thread_id":9160,"parent_id":2293970,"elapsed":0.00029756902949884534,"elapsed_instrumentation":0.0002127469633705914,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2293972,"event":"return","thread_id":9160,"parent_id":2293969,"elapsed":0.0005756180034950376,"elapsed_instrumentation":0.0001664040028117597},{"id":2293973,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"build_request","path":"app/helpers/jsonld_helper.rb","lineno":207,"static":false,"parameters":[{"name":"uri","class":"String","object_id":11713780,"value":"https://foo.test/users/1/featured","kind":"req"},{"name":"on_behalf_of","class":"Account","object_id":11713820,"value":"#<Account:0x00007fc8e17349c8>","kind":"opt"}],"receiver":{"class":"ActivityPub::FetchFeaturedCollectionService","object_id":11713800,"value":"#<ActivityPub::FetchFeaturedCollectionService:0x00007fc930c54d00>"}},{"id":2293974,"event":"call","thread_id":9160,"defined_class":"Mastodon::Version","method_id":"user_agent","path":"lib/mastodon/version.rb","lineno":67,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":884020,"value":"4.3.0-alpha.0"}},{"id":2293975,"event":"return","thread_id":9160,"parent_id":2293974,"elapsed":6.410002242773771e-06,"elapsed_instrumentation":0.0002220270107500255,"return_value":{"class":"String","value":"http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/)","object_id":2261300}},{"id":2293976,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"on_behalf_of","path":"app/lib/request.rb","lineno":91,"static":false,"parameters":[{"name":"actor","class":"Account","object_id":11713820,"value":"#<Account:0x00007fc8e17349c8>","kind":"req"},{"name":"sign_with","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Request","object_id":11713840,"value":"#<Request:0x00007fc930c50ca0>"}},{"id":2293977,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11713820,"value":"#<Account:0x00007fc8e17349c8>"}},{"id":2293978,"event":"return","thread_id":9160,"parent_id":2293977,"elapsed":0.00010720099089667201,"elapsed_instrumentation":0.00011528801405802369,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEArfXigz9+7XRMxtJn3poZh3iHvYNkP2nfRq42Qehl7Ihx/v/l\nFC1","object_id":11713860}},{"id":2293979,"event":"return","thread_id":9160,"parent_id":2293976,"elapsed":0.00024638097966089845,"elapsed_instrumentation":0.00013828102964907885,"return_value":{"class":"Request","value":"#<Request:0x00007fc930c50ca0>","object_id":11713840}},{"id":2293980,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"add_headers","path":"app/lib/request.rb","lineno":100,"static":false,"parameters":[{"name":"new_headers","class":"Hash","object_id":11713880,"value":"{Accept=>application/activity+json, application/ld+json}","kind":"req","size":1}],"receiver":{"class":"Request","object_id":11713840,"value":"#<Request:0x00007fc930c50ca0>"}},{"id":2293981,"event":"return","thread_id":9160,"parent_id":2293980,"elapsed":4.983972758054733e-06,"elapsed_instrumentation":0.00015709205763414502,"return_value":{"class":"Request","value":"#<Request:0x00007fc930c50ca0>","object_id":11713840}},{"id":2293982,"event":"return","thread_id":9160,"parent_id":2293973,"elapsed":0.0013775380211882293,"elapsed_instrumentation":0.00015842501306906343,"return_value":{"class":"Request","value":"#<Request:0x00007fc930c50ca0>","object_id":11713840}},{"id":2293983,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"perform","path":"app/lib/request.rb","lineno":105,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":11713840,"value":"#<Request:0x00007fc930c50ca0>"}},{"id":2293984,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"http_client","path":"app/lib/request.rb","lineno":141,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":55840,"value":"Request"}},{"id":2293985,"event":"return","thread_id":9160,"parent_id":2293984,"elapsed":0.0004452430293895304,"elapsed_instrumentation":0.00010086799738928676,"return_value":{"class":"HTTP::Client","value":"#<HTTP::Client:0x00007fc93288f768>","object_id":11713900}},{"id":2293986,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"headers","path":"app/lib/request.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":11713840,"value":"#<Request:0x00007fc930c50ca0>"}},{"id":2293987,"event":"call","thread_id":9160,"defined_class":"OpenSSL::PKey::PKey","method_id":"sign","path":"OpenSSL::PKey::PKey#sign","static":false,"parameters":[{"name":"arg","class":"Array","object_id":11713920,"value":"[e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855, (request-target): get /users/1/featured\nhost: foo.test\ndate: Mon, 06 Nov 2023 03:12:34 GMT\naccept: a (...45 more characters)]","kind":"rest","size":2}],"receiver":{"class":"OpenSSL::PKey::RSA","object_id":11713860,"value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEArfXigz9+7XRMxtJn3poZh3iHvYNkP2nfRq42Qehl7Ihx/v/l\nFC1"}},{"id":2293988,"event":"return","thread_id":9160,"parent_id":2293987,"elapsed":0.0018660729983821511,"elapsed_instrumentation":0.0003048140206374228,"return_value":{"class":"String","value":"\\rtg\u0004]Sy[l[__T___@\u000f__-_&_9\u0014\r9^__,_\u0001Y^V>|]_p______C_f_a?__\u0000_U_\u0007._=_\u001a_\u000f\b_l3V_3__Ef \u0016__sz____&__<__R_@_ (...156 more characters)","object_id":11713940}},{"id":2293989,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":481240,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":11713960,"value":"[\\rtg\u0004]Sy[l[__T___@\u000f__-_&_9\u0014\r9^__,_\u0001Y^V>|]_p______C_f_a?__\u0000_U_\u0007._=_\u001a_\u000f\b_l3V_3__Ef \u0016__sz____&__<__R_@_ (...156 more characters)]"}},{"id":2293990,"event":"return","thread_id":9160,"parent_id":2293989,"elapsed":8.446979336440563e-06,"elapsed_instrumentation":0.0002818159991875291,"return_value":{"class":"String","value":"XHJ0ZwRdU3lbbFuLkFSy/NpAD8u/LdomoDkUDTlegegsygFZXlY+fF3ecPyR6LKEkkPDZoJhP5v/AIJVwAcuvT30Gr4PCF9sM1bY (...244 more characters)","object_id":11713980}},{"id":2293991,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"key_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":53,"static":false,"parameters":[{"name":"target","class":"Account","object_id":11713820,"value":"#<Account:0x00007fc8e17349c8>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2293992,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":11713820,"value":"#<Account:0x00007fc8e17349c8>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2293993,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11713820,"value":"#<Account:0x00007fc8e17349c8>"}},{"id":2293994,"event":"return","thread_id":9160,"parent_id":2293993,"elapsed":1.0329997166991234e-05,"elapsed_instrumentation":6.042700260877609e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2293995,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11713820,"value":"#<Account:0x00007fc8e17349c8>"}},{"id":2293996,"event":"return","thread_id":9160,"parent_id":2293995,"elapsed":2.8440263122320175e-06,"elapsed_instrumentation":5.9142941609025e-05,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":2293997,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11713820,"value":"#<Account:0x00007fc8e17349c8>"}},{"id":2293998,"event":"return","thread_id":9160,"parent_id":2293997,"elapsed":1.7623009625822306e-05,"elapsed_instrumentation":5.253101699054241e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2293999,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2294000,"event":"return","thread_id":9160,"parent_id":2293999,"elapsed":5.218025762587786e-06,"elapsed_instrumentation":0.00010576099157333374,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":2294001,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2294002,"event":"return","thread_id":9160,"parent_id":2294001,"elapsed":2.7479836717247963e-06,"elapsed_instrumentation":8.652405813336372e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":2294003,"event":"return","thread_id":9160,"parent_id":2293992,"elapsed":0.0006377400131896138,"elapsed_instrumentation":8.108996553346515e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/actor","object_id":11714000}},{"id":2294004,"event":"return","thread_id":9160,"parent_id":2293991,"elapsed":0.0007387440418824553,"elapsed_instrumentation":0.0003785380395129323,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/actor#main-key","object_id":11714020}},{"id":2294005,"event":"return","thread_id":9160,"parent_id":2293986,"elapsed":0.00374094198923558,"elapsed_instrumentation":0.0001616380177438259,"return_value":{"class":"Hash","value":"{User-Agent=>http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/), Host=>foo.test, Date=>Mon, 06 Nov 2023 03:12:34 GMT, Accept-Encoding=>gzip, Accept=>application/activity+json, application/ld+json, Signature=>keyId=\"https://cb6e6126.ngrok.io/actor#main-key\",algorithm=\"rsa-sha256\",headers=\"(request-target) ho (...372 more characters)}","object_id":11714040,"size":6}},{"id":2294006,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"response_successful?","path":"app/helpers/jsonld_helper.rb","lineno":199,"static":false,"parameters":[{"name":"response","class":"HTTP::Response","object_id":11714100,"value":"{\"@context\":[\"https://www.w3.org/ns/activitystreams\"],\"id\":\"https://foo.test/users/1/featured\",\"type","kind":"req"}],"receiver":{"class":"ActivityPub::FetchFeaturedCollectionService","object_id":11713800,"value":"#<ActivityPub::FetchFeaturedCollectionService:0x00007fc930c54d00>"}},{"id":2294007,"event":"return","thread_id":9160,"parent_id":2294006,"elapsed":8.115021046251059e-06,"elapsed_instrumentation":0.0001858279574662447,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2294008,"event":"call","thread_id":9160,"defined_class":"Request::ClientLimit","method_id":"body_with_limit","path":"app/lib/request.rb","lineno":227,"static":false,"parameters":[{"name":"limit","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":11714100,"value":"{\"@context\":[\"https://www.w3.org/ns/activitystreams\"],\"id\":\"https://foo.test/users/1/featured\",\"type"}},{"id":2294009,"event":"call","thread_id":9160,"defined_class":"Request::ClientLimit","method_id":"truncated_body","path":"app/lib/request.rb","lineno":204,"static":false,"parameters":[{"name":"limit","class":"Integer","object_id":2097153,"value":"1048576","kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":11714100,"value":"{\"@context\":[\"https://www.w3.org/ns/activitystreams\"],\"id\":\"https://foo.test/users/1/featured\",\"type"}},{"id":2294010,"event":"return","thread_id":9160,"parent_id":2294009,"elapsed":0.0002800289657898247,"elapsed_instrumentation":0.00015204004012048244,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":11714120,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2294011,"event":"return","thread_id":9160,"parent_id":2294008,"elapsed":0.00048132799565792084,"elapsed_instrumentation":0.0002886169822886586,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":11714120,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2294012,"event":"return","thread_id":9160,"parent_id":2293983,"elapsed":0.01684265403309837,"elapsed_instrumentation":6.11099530942738e-05,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":11714120,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2294013,"event":"return","thread_id":9160,"parent_id":2293966,"elapsed":0.021935697994194925,"elapsed_instrumentation":7.938698399811983e-05,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":11714120,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2294014,"event":"return","thread_id":9160,"parent_id":2293965,"elapsed":0.022047386039048433,"elapsed_instrumentation":0.00018622097559273243,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":11714120,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2294015,"event":"return","thread_id":9160,"parent_id":2293956,"elapsed":0.03230603295378387,"elapsed_instrumentation":0.00012192502617835999,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":11714120,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2294016,"event":"return","thread_id":9160,"parent_id":2293941,"elapsed":0.03859079000540078,"elapsed_instrumentation":0.00042915099766105413,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":11714120,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]}]}