{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ActivityPub::ProcessAccountService when Accounts referencing other accounts creates at least some accounts","source_location":"spec/services/activitypub/process_account_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"failed","test_failure":{"message":"body has already been consumed","location":"app/lib/request.rb:217"},"exception":{"class":"HTTP::StateError","message":"body has already been consumed"}},"classMap":[{"name":"app","type":"package","children":[{"name":"helpers","type":"package","children":[{"name":"JsonLdHelper","type":"class","children":[{"name":"unsupported_uri_scheme?","type":"function","location":"app/helpers/jsonld_helper.rb:62","static":false},{"name":"first_of_value","type":"function","location":"app/helpers/jsonld_helper.rb:14","static":false},{"name":"as_array","type":"function","location":"app/helpers/jsonld_helper.rb:44","static":false},{"name":"fetch_resource","type":"function","location":"app/helpers/jsonld_helper.rb:158","static":false},{"name":"fetch_resource_without_id_validation","type":"function","location":"app/helpers/jsonld_helper.rb:171","static":false},{"name":"build_request","type":"function","location":"app/helpers/jsonld_helper.rb:207","static":false},{"name":"response_successful?","type":"function","location":"app/helpers/jsonld_helper.rb:199","static":false}]},{"name":"DomainControlHelper","type":"class","children":[{"name":"domain_not_allowed?","type":"function","location":"app/helpers/domain_control_helper.rb:4","static":false},{"name":"limited_federation_mode?","type":"function","location":"app/helpers/domain_control_helper.rb:20","static":false}]},{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]}]},{"name":"models","type":"package","children":[{"name":"DomainBlock","type":"class","children":[{"name":"blocked?","type":"function","location":"app/models/domain_block.rb:49","static":true},{"name":"rule_for","type":"function","location":"app/models/domain_block.rb:67","static":true}]},{"name":"concerns","type":"package","children":[{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false}]},{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"DomainMaterializable","type":"class","children":[{"name":"refresh_instances_view","type":"function","location":"app/models/concerns/domain_materializable.rb:12","static":false},{"name":"count_unique_subdomains!","type":"function","location":"app/models/concerns/domain_materializable.rb:19","static":false}]},{"name":"Account","type":"class","children":[{"name":"avatar_remote_url=","type":"function","location":"app/models/concerns/remotable.rb:41","static":false},{"name":"download_avatar!","type":"function","location":"app/models/concerns/remotable.rb:10","static":false},{"name":"header_remote_url=","type":"function","location":"app/models/concerns/remotable.rb:41","static":false},{"name":"download_header!","type":"function","location":"app/models/concerns/remotable.rb:10","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"account_stat","type":"function","location":"app/models/concerns/account_counters.rb:76","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false},{"name":"save_with_optional_media!","type":"function","location":"app/models/account.rb:362","static":false},{"name":"ensure_keys!","type":"function","location":"app/models/account.rb:478","static":false},{"name":"keypair","type":"function","location":"app/models/account.rb:293","static":false},{"name":"object_type","type":"function","location":"app/models/account.rb:385","static":false},{"name":"instance_actor?","type":"function","location":"app/models/account.rb:175","static":false}]},{"name":"Instance","type":"class","children":[{"name":"refresh","type":"function","location":"app/models/instance.rb:28","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"Request","type":"class","children":[{"name":"on_behalf_of","type":"function","location":"app/lib/request.rb:91","static":false},{"name":"add_headers","type":"function","location":"app/lib/request.rb:100","static":false},{"name":"perform","type":"function","location":"app/lib/request.rb:105","static":false},{"name":"http_client","type":"function","location":"app/lib/request.rb:141","static":true},{"name":"headers","type":"function","location":"app/lib/request.rb:126","static":false},{"name":"ClientLimit","type":"class","children":[{"name":"body_with_limit","type":"function","location":"app/lib/request.rb:227","static":false},{"name":"truncated_body","type":"function","location":"app/lib/request.rb:204","static":false}]}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"key_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:53","static":false},{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false}]}]}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]}]},{"name":"workers/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"SynchronizeFeaturedCollectionWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/activitypub/synchronize_featured_collection_worker.rb:8","static":false}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]},{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"lib","type":"package","children":[{"name":"paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false}]}]}]},{"name":"mastodon","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"Version","type":"class","children":[{"name":"user_agent","type":"function","location":"lib/mastodon/version.rb:67","static":true}]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"sign","type":"function","location":"OpenSSL::PKey::PKey#sign","static":false,"labels":["crypto.pkey"]}]}]}]}]}],"events":[{"id":1725869,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"domain\" IS NOT NULL","database_type":"postgres"}},{"id":1725870,"event":"return","thread_id":9160,"parent_id":1725869,"elapsed":0.00105028,"elapsed_instrumentation":9.806500747799873e-05},{"id":1725871,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"unsupported_uri_scheme?","path":"app/helpers/jsonld_helper.rb","lineno":62,"static":false,"parameters":[{"name":"uri","class":"String","object_id":9261040,"value":"https://foo.test/users/1","kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":9262820,"value":"#<ActivityPub::ProcessAccountService:0x00007fdbf67bfbe0>"}},{"id":1725872,"event":"return","thread_id":9160,"parent_id":1725871,"elapsed":6.4429768826812506e-06,"elapsed_instrumentation":0.0001623819989617914},{"id":1725873,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"String","object_id":9261080,"value":"foo.test","kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":9262820,"value":"#<ActivityPub::ProcessAccountService:0x00007fdbf67bfbe0>"}},{"id":1725874,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":9262820,"value":"#<ActivityPub::ProcessAccountService:0x00007fdbf67bfbe0>"}},{"id":1725875,"event":"return","thread_id":9160,"parent_id":1725874,"elapsed":3.34859942086041e-05,"elapsed_instrumentation":7.033805013634264e-05},{"id":1725876,"event":"call","thread_id":9160,"defined_class":"DomainBlock","method_id":"blocked?","path":"app/models/domain_block.rb","lineno":49,"static":true,"parameters":[{"name":"domain","class":"String","object_id":9261080,"value":"foo.test","kind":"req"}],"receiver":{"class":"Class","object_id":52480,"value":"DomainBlock"}},{"id":1725877,"event":"call","thread_id":9160,"defined_class":"DomainBlock","method_id":"rule_for","path":"app/models/domain_block.rb","lineno":67,"static":true,"parameters":[{"name":"domain","class":"String","object_id":9261080,"value":"foo.test","kind":"req"}],"receiver":{"class":"Class","object_id":52480,"value":"DomainBlock"}},{"id":1725878,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"domain_blocks\".* FROM \"domain_blocks\" WHERE \"domain_blocks\".\"domain\" IN ($1, $2) ORDER BY char_length(domain) desc LIMIT $3","database_type":"postgres"}},{"id":1725879,"event":"return","thread_id":9160,"parent_id":1725878,"elapsed":0.000770238,"elapsed_instrumentation":7.404401549138129e-05},{"id":1725880,"event":"return","thread_id":9160,"parent_id":1725877,"elapsed":0.0021142780024092644,"elapsed_instrumentation":0.00010131997987627983},{"id":1725881,"event":"return","thread_id":9160,"parent_id":1725876,"elapsed":0.002239127003122121,"elapsed_instrumentation":0.0002623249893076718},{"id":1725882,"event":"return","thread_id":9160,"parent_id":1725873,"elapsed":0.002657867007656023,"elapsed_instrumentation":6.764201680198312e-05},{"id":1725883,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":9261080,"value":"foo.test","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":1725884,"event":"return","thread_id":9160,"parent_id":1725883,"elapsed":0.00014965198352001607,"elapsed_instrumentation":0.0001138010120484978,"return_value":{"class":"String","value":"foo.test","object_id":9262840}},{"id":1725885,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":9262860,"value":"process_account:https://foo.test/users/1","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":9262820,"value":"#<ActivityPub::ProcessAccountService:0x00007fdbf67bfbe0>"}},{"id":1725886,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":9262820,"value":"#<ActivityPub::ProcessAccountService:0x00007fdbf67bfbe0>"}},{"id":1725887,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":9262880,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":9262900,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1725888,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1725889,"event":"return","thread_id":9160,"parent_id":1725888,"elapsed":2.8899812605232e-06,"elapsed_instrumentation":7.947601261548698e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1725890,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":9262920,"value":"__\u001c&\u0004_v__H@____\u0003"}},{"id":1725891,"event":"return","thread_id":9160,"parent_id":1725890,"elapsed":6.4219930209219456e-06,"elapsed_instrumentation":0.0001272590016014874,"return_value":{"class":"Array","value":"[2726370342, 1220, 30369, 46664, 16619, 2180748035]","object_id":9262940,"size":6}},{"id":1725892,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":9262960,"value":"#<AccountFinderConcern::AccountFinder:0x00007fdc0987ac20>"}},{"id":1725893,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'user1' AND LOWER(\"accounts\".\"domain\") = 'foo.test' ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":1725894,"event":"return","thread_id":9160,"parent_id":1725893,"elapsed":0.001442511,"elapsed_instrumentation":0.00013776999549008906},{"id":1725895,"event":"return","thread_id":9160,"parent_id":1725892,"elapsed":0.0040590740100014955,"elapsed_instrumentation":0.0001167980080936104},{"id":1725896,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":9262820,"value":"#<ActivityPub::ProcessAccountService:0x00007fdbf67bfbe0>"}},{"id":1725897,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":9262980,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":9263000,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1725898,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1725899,"event":"return","thread_id":9160,"parent_id":1725898,"elapsed":3.3719989005476236e-06,"elapsed_instrumentation":0.00013179401867091656,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1725900,"event":"return","thread_id":9160,"parent_id":1725897,"elapsed":0.0017812529986258596,"elapsed_instrumentation":0.00041545499698258936},{"id":1725901,"event":"return","thread_id":9160,"parent_id":1725896,"elapsed":0.0022372239909600466,"elapsed_instrumentation":0.00020445502013899386},{"id":1725902,"event":"call","thread_id":9160,"defined_class":"DomainBlock","method_id":"rule_for","path":"app/models/domain_block.rb","lineno":67,"static":true,"parameters":[{"name":"domain","class":"String","object_id":9262840,"value":"foo.test","kind":"req"}],"receiver":{"class":"Class","object_id":52480,"value":"DomainBlock"}},{"id":1725903,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"domain_blocks\".* FROM \"domain_blocks\" WHERE \"domain_blocks\".\"domain\" IN ($1, $2) ORDER BY char_length(domain) desc LIMIT $3","database_type":"postgres"}},{"id":1725904,"event":"return","thread_id":9160,"parent_id":1725903,"elapsed":0.001063763,"elapsed_instrumentation":8.556401007808745e-05},{"id":1725905,"event":"return","thread_id":9160,"parent_id":1725902,"elapsed":0.003317522001452744,"elapsed_instrumentation":0.0001303390017710626},{"id":1725906,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59d48>"}},{"id":1725907,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725908,"event":"return","thread_id":9160,"parent_id":1725907,"elapsed":1.901699579320848e-05,"elapsed_instrumentation":6.404699524864554e-05},{"id":1725909,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":9263060,"value":"foo.test","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":1725910,"event":"return","thread_id":9160,"parent_id":1725909,"elapsed":0.00016726498142816126,"elapsed_instrumentation":9.987701196223497e-05,"return_value":{"class":"String","value":"foo.test","object_id":9263080}},{"id":1725911,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725912,"event":"return","thread_id":9160,"parent_id":1725911,"elapsed":7.584982085973024e-06,"elapsed_instrumentation":6.112499977461994e-05},{"id":1725913,"event":"return","thread_id":9160,"parent_id":1725906,"elapsed":0.0005486610170919448,"elapsed_instrumentation":0.0002033629862125963,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa3ac30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b040 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b1f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b4c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":208720,"size":4}},{"id":1725914,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59898>"}},{"id":1725915,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":208780,"value":"#<UniqueUsernameValidator:0x00007fdc16b80188>"}},{"id":1725916,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1725917,"event":"return","thread_id":9160,"parent_id":1725916,"elapsed":0.000718733,"elapsed_instrumentation":8.018998778425157e-05},{"id":1725918,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'user1' AND LOWER(\"accounts\".\"domain\") = 'foo.test' LIMIT $1","database_type":"postgres"}},{"id":1725919,"event":"return","thread_id":9160,"parent_id":1725918,"elapsed":0.001614253,"elapsed_instrumentation":6.782598211430013e-05},{"id":1725920,"event":"return","thread_id":9160,"parent_id":1725915,"elapsed":0.0026192730001639575,"elapsed_instrumentation":0.0001322799944318831},{"id":1725921,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725922,"event":"return","thread_id":9160,"parent_id":1725921,"elapsed":7.655005902051926e-06,"elapsed_instrumentation":8.356699254363775e-05},{"id":1725923,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725924,"event":"return","thread_id":9160,"parent_id":1725923,"elapsed":4.031986463814974e-06,"elapsed_instrumentation":5.595298716798425e-05},{"id":1725925,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725926,"event":"return","thread_id":9160,"parent_id":1725925,"elapsed":4.764995537698269e-06,"elapsed_instrumentation":5.12349943164736e-05},{"id":1725927,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725928,"event":"return","thread_id":9160,"parent_id":1725927,"elapsed":3.431981895118952e-06,"elapsed_instrumentation":4.6025001211091876e-05},{"id":1725929,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725930,"event":"return","thread_id":9160,"parent_id":1725929,"elapsed":3.7529971450567245e-06,"elapsed_instrumentation":4.36650007031858e-05},{"id":1725931,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725932,"event":"return","thread_id":9160,"parent_id":1725931,"elapsed":3.669003490358591e-06,"elapsed_instrumentation":4.353700205683708e-05},{"id":1725933,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725934,"event":"return","thread_id":9160,"parent_id":1725933,"elapsed":3.7919962778687477e-06,"elapsed_instrumentation":4.3648004066199064e-05},{"id":1725935,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725936,"event":"return","thread_id":9160,"parent_id":1725935,"elapsed":3.5660050343722105e-06,"elapsed_instrumentation":4.3204985558986664e-05},{"id":1725937,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725938,"event":"return","thread_id":9160,"parent_id":1725937,"elapsed":3.59897967427969e-06,"elapsed_instrumentation":4.4077023630961776e-05},{"id":1725939,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725940,"event":"return","thread_id":9160,"parent_id":1725939,"elapsed":3.489985829219222e-06,"elapsed_instrumentation":4.311700467951596e-05},{"id":1725941,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725942,"event":"return","thread_id":9160,"parent_id":1725941,"elapsed":3.743014531210065e-06,"elapsed_instrumentation":0.00017583201406523585},{"id":1725943,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725944,"event":"return","thread_id":9160,"parent_id":1725943,"elapsed":2.204999327659607e-05,"elapsed_instrumentation":0.00022348298807628453},{"id":1725945,"event":"return","thread_id":9160,"parent_id":1725914,"elapsed":0.0054969670018181205,"elapsed_instrumentation":0.0002020190004259348,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa57768 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57920 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57ab0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57cb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58050 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58370 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58e10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa590e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa59360 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":209280,"size":71}},{"id":1725946,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59898>"}},{"id":1725947,"event":"return","thread_id":9160,"parent_id":1725946,"elapsed":0.00043898000149056315,"elapsed_instrumentation":0.00012522898032329977,"return_value":{"class":"Array","value":"[]","object_id":209300,"size":0}},{"id":1725948,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59d48>"}},{"id":1725949,"event":"return","thread_id":9160,"parent_id":1725948,"elapsed":1.2663978850468993e-05,"elapsed_instrumentation":0.00013241500710137188,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa3a730 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209320,"size":1}},{"id":1725950,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db532b8>"}},{"id":1725951,"event":"return","thread_id":9160,"parent_id":1725950,"elapsed":2.6882014935836196e-05,"elapsed_instrumentation":0.00011464598355814815,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a933440 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209380,"size":1}},{"id":1725952,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db533f8>"}},{"id":1725953,"event":"return","thread_id":9160,"parent_id":1725952,"elapsed":4.059984348714352e-06,"elapsed_instrumentation":0.00011454499326646328,"return_value":{"class":"Array","value":"[]","object_id":209420,"size":0}},{"id":1725954,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db52f48>"}},{"id":1725955,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725956,"event":"return","thread_id":9160,"parent_id":1725955,"elapsed":1.2572010746225715e-05,"elapsed_instrumentation":8.825398981571198e-05},{"id":1725957,"event":"return","thread_id":9160,"parent_id":1725954,"elapsed":0.0001452950236853212,"elapsed_instrumentation":0.00025880298926495016,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a89dcb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209480,"size":1}},{"id":1725958,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":1725959,"event":"return","thread_id":9160,"parent_id":1725958,"elapsed":0.001664774,"elapsed_instrumentation":0.00032846000976860523},{"id":1725960,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db52f48>"}},{"id":1725961,"event":"return","thread_id":9160,"parent_id":1725960,"elapsed":0.00036923500010743737,"elapsed_instrumentation":0.0004876890161540359,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a89daf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d940 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d788 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d418 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d1e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89cf68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89cdb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89cbd0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89c798 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":210380,"size":53}},{"id":1725962,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db533f8>"}},{"id":1725963,"event":"return","thread_id":9160,"parent_id":1725962,"elapsed":3.496999852359295e-06,"elapsed_instrumentation":9.523099288344383e-05,"return_value":{"class":"Array","value":"[]","object_id":210400,"size":0}},{"id":1725964,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db532b8>"}},{"id":1725965,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":9263160,"value":"/avatars/original/missing.png"}},{"id":1725966,"event":"return","thread_id":9160,"parent_id":1725965,"elapsed":3.138298052363098e-05,"elapsed_instrumentation":0.00029320301837287843,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1725967,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":9263180,"value":"/headers/original/missing.png"}},{"id":1725968,"event":"return","thread_id":9160,"parent_id":1725967,"elapsed":2.007500734180212e-05,"elapsed_instrumentation":0.00013659297837875783,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1725969,"event":"return","thread_id":9160,"parent_id":1725964,"elapsed":0.0007137180073186755,"elapsed_instrumentation":0.00011988199548795819,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a932f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932cc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932a18 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932798 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":210580,"size":4}},{"id":1725970,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1725971,"event":"return","thread_id":9160,"parent_id":1725970,"elapsed":0.000547435,"elapsed_instrumentation":8.182600140571594e-05},{"id":1725972,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":210620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db933e0>"}},{"id":1725973,"event":"return","thread_id":9160,"parent_id":1725972,"elapsed":3.958004526793957e-06,"elapsed_instrumentation":0.00012613800936378539,"return_value":{"class":"Array","value":"[]","object_id":210640,"size":0}},{"id":1725974,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":210620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db933e0>"}},{"id":1725975,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725976,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1725977,"event":"return","thread_id":9160,"parent_id":1725976,"elapsed":0.001348968,"elapsed_instrumentation":7.671801722608507e-05},{"id":1725978,"event":"call","thread_id":9160,"defined_class":"Instance","method_id":"refresh","path":"app/models/instance.rb","lineno":28,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":52400,"value":"Instance"}},{"id":1725979,"event":"call","thread_id":9160,"sql_query":{"sql":"REFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";","database_type":"postgres"}},{"id":1725980,"event":"return","thread_id":9160,"parent_id":1725979,"elapsed":0.023618236,"elapsed_instrumentation":0.00016612501349300146},{"id":1725981,"event":"return","thread_id":9160,"parent_id":1725978,"elapsed":0.02454334998037666,"elapsed_instrumentation":0.00017016599304042757,"return_value":{"class":"PG::Result","value":"#<PG::Result:0x00007fdc097e64f8>","object_id":9263220}},{"id":1725982,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"count_unique_subdomains!","path":"app/models/concerns/domain_materializable.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725983,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725984,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":9263240,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":9263260,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1725985,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1725986,"event":"return","thread_id":9160,"parent_id":1725985,"elapsed":3.408989869058132e-06,"elapsed_instrumentation":0.00025024902424775064,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1725987,"event":"return","thread_id":9160,"parent_id":1725984,"elapsed":0.0018633980071172118,"elapsed_instrumentation":0.0003683710237964988,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1725988,"event":"return","thread_id":9160,"parent_id":1725983,"elapsed":0.002265749004436657,"elapsed_instrumentation":0.00011038099182769656,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1725989,"event":"return","thread_id":9160,"parent_id":1725982,"elapsed":0.0025472959969192743,"elapsed_instrumentation":0.00016632000915706158,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1725990,"event":"return","thread_id":9160,"parent_id":1725975,"elapsed":0.030009702983079478,"elapsed_instrumentation":0.0002471930056344718,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1725991,"event":"return","thread_id":9160,"parent_id":1725974,"elapsed":0.030335168994497508,"elapsed_instrumentation":0.00021691402071155608,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a5b4850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b44e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b40f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b39c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b2e88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b2618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":210660,"size":6}},{"id":1725992,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725993,"event":"return","thread_id":9160,"parent_id":1725992,"elapsed":2.450798638164997e-05,"elapsed_instrumentation":8.595301187597215e-05},{"id":1725994,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725995,"event":"return","thread_id":9160,"parent_id":1725994,"elapsed":4.658999387174845e-06,"elapsed_instrumentation":5.407098797149956e-05},{"id":1725996,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725997,"event":"return","thread_id":9160,"parent_id":1725996,"elapsed":4.70600207336247e-06,"elapsed_instrumentation":4.5855995267629623e-05},{"id":1725998,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1725999,"event":"return","thread_id":9160,"parent_id":1725998,"elapsed":4.710018401965499e-06,"elapsed_instrumentation":5.148397758603096e-05},{"id":1726000,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"first_of_value","path":"app/helpers/jsonld_helper.rb","lineno":14,"static":false,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":9262820,"value":"#<ActivityPub::ProcessAccountService:0x00007fdbf67bfbe0>"}},{"id":1726001,"event":"return","thread_id":9160,"parent_id":1726000,"elapsed":5.551002686843276e-06,"elapsed_instrumentation":0.00022650300525128841},{"id":1726002,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726003,"event":"return","thread_id":9160,"parent_id":1726002,"elapsed":7.147988071665168e-06,"elapsed_instrumentation":6.199200288392603e-05},{"id":1726004,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"as_array","path":"app/helpers/jsonld_helper.rb","lineno":44,"static":false,"parameters":[{"name":"value","class":"Array","object_id":9263280,"value":"[]","kind":"req","size":0}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":9262820,"value":"#<ActivityPub::ProcessAccountService:0x00007fdbf67bfbe0>"}},{"id":1726005,"event":"return","thread_id":9160,"parent_id":1726004,"elapsed":6.1280152294784784e-06,"elapsed_instrumentation":0.00011256799916736782,"return_value":{"class":"Array","value":"[]","object_id":9263280,"size":0}},{"id":1726006,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726007,"event":"return","thread_id":9160,"parent_id":1726006,"elapsed":5.451991455629468e-06,"elapsed_instrumentation":5.874998169019818e-05},{"id":1726008,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726009,"event":"return","thread_id":9160,"parent_id":1726008,"elapsed":4.496978363022208e-06,"elapsed_instrumentation":4.720903234556317e-05},{"id":1726010,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"first_of_value","path":"app/helpers/jsonld_helper.rb","lineno":14,"static":false,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":9262820,"value":"#<ActivityPub::ProcessAccountService:0x00007fdbf67bfbe0>"}},{"id":1726011,"event":"return","thread_id":9160,"parent_id":1726010,"elapsed":2.8589856810867786e-06,"elapsed_instrumentation":5.678102024830878e-05},{"id":1726012,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"avatar_remote_url=","path":"app/models/concerns/remotable.rb","lineno":41,"static":false,"parameters":[{"name":"url","class":"String","object_id":389940,"value":"","kind":"req"}],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726013,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"reset_avatar!","path":"app/models/concerns/remotable.rb","lineno":10,"static":false,"parameters":[{"name":"url","class":"String","object_id":389940,"value":"","kind":"opt"}],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726014,"event":"return","thread_id":9160,"parent_id":1726013,"elapsed":7.0690002758055925e-06,"elapsed_instrumentation":8.325002272613347e-05},{"id":1726015,"event":"return","thread_id":9160,"parent_id":1726012,"elapsed":0.0001412860001437366,"elapsed_instrumentation":6.521900650113821e-05},{"id":1726016,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726017,"event":"return","thread_id":9160,"parent_id":1726016,"elapsed":5.945010343566537e-06,"elapsed_instrumentation":7.741499575786293e-05},{"id":1726018,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"first_of_value","path":"app/helpers/jsonld_helper.rb","lineno":14,"static":false,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":9262820,"value":"#<ActivityPub::ProcessAccountService:0x00007fdbf67bfbe0>"}},{"id":1726019,"event":"return","thread_id":9160,"parent_id":1726018,"elapsed":3.7749996408820152e-06,"elapsed_instrumentation":6.222902447916567e-05},{"id":1726020,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"header_remote_url=","path":"app/models/concerns/remotable.rb","lineno":41,"static":false,"parameters":[{"name":"url","class":"String","object_id":389940,"value":"","kind":"req"}],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726021,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"reset_header!","path":"app/models/concerns/remotable.rb","lineno":10,"static":false,"parameters":[{"name":"url","class":"String","object_id":389940,"value":"","kind":"opt"}],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726022,"event":"return","thread_id":9160,"parent_id":1726021,"elapsed":4.6219793148338795e-06,"elapsed_instrumentation":6.587800453417003e-05},{"id":1726023,"event":"return","thread_id":9160,"parent_id":1726020,"elapsed":0.00011692900443449616,"elapsed_instrumentation":6.332699558697641e-05},{"id":1726024,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"save_with_optional_media!","path":"app/models/account.rb","lineno":362,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726025,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59d48>"}},{"id":1726026,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726027,"event":"return","thread_id":9160,"parent_id":1726026,"elapsed":9.818992111831903e-06,"elapsed_instrumentation":8.598700514994562e-05},{"id":1726028,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":9263320,"value":"foo.test","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":1726029,"event":"return","thread_id":9160,"parent_id":1726028,"elapsed":0.0001803110062610358,"elapsed_instrumentation":0.00028878299053758383,"return_value":{"class":"String","value":"foo.test","object_id":9263340}},{"id":1726030,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726031,"event":"return","thread_id":9160,"parent_id":1726030,"elapsed":1.1483993148431182e-05,"elapsed_instrumentation":9.311997564509511e-05},{"id":1726032,"event":"return","thread_id":9160,"parent_id":1726025,"elapsed":0.000800520007032901,"elapsed_instrumentation":0.00016748200869187713,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa3ac30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b040 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b1f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b4c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":208720,"size":4}},{"id":1726033,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59898>"}},{"id":1726034,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726035,"event":"return","thread_id":9160,"parent_id":1726034,"elapsed":9.982992196455598e-06,"elapsed_instrumentation":0.00010630799806676805},{"id":1726036,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726037,"event":"return","thread_id":9160,"parent_id":1726036,"elapsed":1.7417012713849545e-05,"elapsed_instrumentation":0.0002045279834419489},{"id":1726038,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726039,"event":"return","thread_id":9160,"parent_id":1726038,"elapsed":5.324982339516282e-06,"elapsed_instrumentation":8.250298560597003e-05},{"id":1726040,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726041,"event":"return","thread_id":9160,"parent_id":1726040,"elapsed":6.941001629456878e-06,"elapsed_instrumentation":5.766400136053562e-05},{"id":1726042,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726043,"event":"return","thread_id":9160,"parent_id":1726042,"elapsed":4.892004653811455e-06,"elapsed_instrumentation":7.263800944201648e-05},{"id":1726044,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726045,"event":"return","thread_id":9160,"parent_id":1726044,"elapsed":4.332978278398514e-06,"elapsed_instrumentation":5.793300806544721e-05},{"id":1726046,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726047,"event":"return","thread_id":9160,"parent_id":1726046,"elapsed":3.6339915823191404e-06,"elapsed_instrumentation":4.55520348623395e-05},{"id":1726048,"event":"return","thread_id":9160,"parent_id":1726033,"elapsed":0.002119393990142271,"elapsed_instrumentation":0.00033394701313227415,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa57768 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57920 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57ab0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57cb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58050 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58370 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58e10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa590e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa59360 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":209280,"size":71}},{"id":1726049,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59898>"}},{"id":1726050,"event":"return","thread_id":9160,"parent_id":1726049,"elapsed":3.5740085877478123e-06,"elapsed_instrumentation":0.00035030298749916255,"return_value":{"class":"Array","value":"[]","object_id":209300,"size":0}},{"id":1726051,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59d48>"}},{"id":1726052,"event":"return","thread_id":9160,"parent_id":1726051,"elapsed":1.0869989637285471e-05,"elapsed_instrumentation":0.00010016100713983178,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa3a730 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209320,"size":1}},{"id":1726053,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db532b8>"}},{"id":1726054,"event":"return","thread_id":9160,"parent_id":1726053,"elapsed":3.550597466528416e-05,"elapsed_instrumentation":9.327701991423965e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a933440 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209380,"size":1}},{"id":1726055,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db533f8>"}},{"id":1726056,"event":"return","thread_id":9160,"parent_id":1726055,"elapsed":2.5279878173023462e-06,"elapsed_instrumentation":7.348100189119577e-05,"return_value":{"class":"Array","value":"[]","object_id":209420,"size":0}},{"id":1726057,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":781280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc089394c8>"}},{"id":1726058,"event":"return","thread_id":9160,"parent_id":1726057,"elapsed":2.7779897209256887e-06,"elapsed_instrumentation":8.446699939668179e-05,"return_value":{"class":"Array","value":"[]","object_id":781300,"size":0}},{"id":1726059,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":9263420,"value":"{}","kind":"req","size":0}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":9263440,"value":"#<JSON::Ext::Generator::State:0x00007fdc0972c378>"}},{"id":1726060,"event":"return","thread_id":9160,"parent_id":1726059,"elapsed":5.01002068631351e-06,"elapsed_instrumentation":0.00011275798897258937,"return_value":{"class":"String","value":"{}","object_id":9263460}},{"id":1726061,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":9263480,"value":"#<JSON::Ext::Parser:0x00007fdc0972a550>"}},{"id":1726062,"event":"return","thread_id":9160,"parent_id":1726061,"elapsed":3.2789830584079027e-06,"elapsed_instrumentation":6.885299808345735e-05,"return_value":{"class":"Hash","value":"{}","object_id":9263500,"size":0}},{"id":1726063,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":9263520,"value":"{}","kind":"req","size":0}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":9263540,"value":"#<JSON::Ext::Generator::State:0x00007fdc09728278>"}},{"id":1726064,"event":"return","thread_id":9160,"parent_id":1726063,"elapsed":4.8869987949728966e-06,"elapsed_instrumentation":0.0001264289894606918,"return_value":{"class":"String","value":"{}","object_id":9263560}},{"id":1726065,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1726066,"event":"return","thread_id":9160,"parent_id":1726065,"elapsed":0.000588892,"elapsed_instrumentation":9.988900274038315e-05},{"id":1726067,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"accounts\" SET \"updated_at\" = $1, \"avatar_remote_url\" = $2, \"last_webfingered_at\" = $3, \"featured_collection_url\" = $4, \"fields\" = $5, \"discoverable\" = $6, \"also_known_as\" = $7, \"hide_collections\" = $8, \"devices_url\" = $9 WHERE \"accounts\".\"id\" = $10","database_type":"postgres"}},{"id":1726068,"event":"return","thread_id":9160,"parent_id":1726067,"elapsed":0.002369837,"elapsed_instrumentation":0.0003130060213152319},{"id":1726069,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":9263580,"value":"#<JSON::Ext::Parser:0x00007fdc09725208>"}},{"id":1726070,"event":"return","thread_id":9160,"parent_id":1726069,"elapsed":5.799985956400633e-06,"elapsed_instrumentation":0.0002546370087657124,"return_value":{"class":"Hash","value":"{}","object_id":9263600,"size":0}},{"id":1726071,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":781280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc089394c8>"}},{"id":1726072,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1726073,"event":"return","thread_id":9160,"parent_id":1726072,"elapsed":0.001044819,"elapsed_instrumentation":8.676099241711199e-05},{"id":1726074,"event":"return","thread_id":9160,"parent_id":1726071,"elapsed":0.003333144006319344,"elapsed_instrumentation":0.000270076998276636,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08ee9dc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08ee9c10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08ee9a08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08ee9828 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08ee9670 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08ee94b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08ee9300 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08ee9148 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08ee8f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08ee8dd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":781320,"size":53}},{"id":1726075,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db533f8>"}},{"id":1726076,"event":"return","thread_id":9160,"parent_id":1726075,"elapsed":2.9579969123005867e-06,"elapsed_instrumentation":0.00010149201261810958,"return_value":{"class":"Array","value":"[]","object_id":210400,"size":0}},{"id":1726077,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db532b8>"}},{"id":1726078,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":9263160,"value":"/avatars/original/missing.png"}},{"id":1726079,"event":"return","thread_id":9160,"parent_id":1726078,"elapsed":2.4448003387078643e-05,"elapsed_instrumentation":0.000185895012691617,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1726080,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":9263180,"value":"/headers/original/missing.png"}},{"id":1726081,"event":"return","thread_id":9160,"parent_id":1726080,"elapsed":1.7363985534757376e-05,"elapsed_instrumentation":0.0001460850180592388,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1726082,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726083,"event":"return","thread_id":9160,"parent_id":1726082,"elapsed":0.0007604380080010742,"elapsed_instrumentation":0.00010316399857401848,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fdbf64c89a0>","object_id":9263620}},{"id":1726084,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726085,"event":"return","thread_id":9160,"parent_id":1726084,"elapsed":1.749600050970912e-05,"elapsed_instrumentation":0.0005985710013192147,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fdbf64c89a0>","object_id":9263620}},{"id":1726086,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":1726087,"event":"return","thread_id":9160,"parent_id":1726086,"elapsed":1.7243000911548734e-05,"elapsed_instrumentation":0.00011896001524291933,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":1726088,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2652120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08937b28>"}},{"id":1726089,"event":"return","thread_id":9160,"parent_id":1726088,"elapsed":6.292099715210497e-05,"elapsed_instrumentation":0.00010777602437883615,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08f2a800 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08f2a9b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2652140,"size":2}},{"id":1726090,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2652120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08937b28>"}},{"id":1726091,"event":"return","thread_id":9160,"parent_id":1726090,"elapsed":2.50799348577857e-06,"elapsed_instrumentation":7.987997378222644e-05,"return_value":{"class":"Array","value":"[]","object_id":2652160,"size":0}},{"id":1726092,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":1726093,"event":"return","thread_id":9160,"parent_id":1726092,"elapsed":4.102999810129404e-06,"elapsed_instrumentation":0.0003335020155645907,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":1726094,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2652200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08937a88>"}},{"id":1726095,"event":"return","thread_id":9160,"parent_id":1726094,"elapsed":3.981500049121678e-05,"elapsed_instrumentation":0.00011533198994584382,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08f29680 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2652220,"size":1}},{"id":1726096,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"account_stats\" (\"account_id\", \"statuses_count\", \"following_count\", \"followers_count\", \"created_at\", \"updated_at\", \"last_status_at\") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING \"id\"","database_type":"postgres"}},{"id":1726097,"event":"return","thread_id":9160,"parent_id":1726096,"elapsed":0.000989021,"elapsed_instrumentation":7.880301564000547e-05},{"id":1726098,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2652200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08937a88>"}},{"id":1726099,"event":"return","thread_id":9160,"parent_id":1726098,"elapsed":9.581600897945464e-05,"elapsed_instrumentation":0.0001237840042449534,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08f29450 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2652240,"size":1}},{"id":1726100,"event":"return","thread_id":9160,"parent_id":1726077,"elapsed":0.00567668498842977,"elapsed_instrumentation":0.0005694350111298263,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a932f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932cc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932a18 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932798 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":210580,"size":4}},{"id":1726101,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1726102,"event":"return","thread_id":9160,"parent_id":1726101,"elapsed":0.000523871,"elapsed_instrumentation":8.394700125791132e-05},{"id":1726103,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":210620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db933e0>"}},{"id":1726104,"event":"return","thread_id":9160,"parent_id":1726103,"elapsed":2.9609946068376303e-06,"elapsed_instrumentation":0.00011358800111338496,"return_value":{"class":"Array","value":"[]","object_id":210640,"size":0}},{"id":1726105,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":9263700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":210620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db933e0>"}},{"id":1726106,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726107,"event":"return","thread_id":9160,"parent_id":1726106,"elapsed":1.5666999388486147e-05,"elapsed_instrumentation":5.911098560318351e-05},{"id":1726108,"event":"return","thread_id":9160,"parent_id":1726105,"elapsed":0.00015989600797183812,"elapsed_instrumentation":0.00013557399506680667,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a5b4850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b44e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b40f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b39c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b2e88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b2618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":210660,"size":6}},{"id":1726109,"event":"return","thread_id":9160,"parent_id":1726024,"elapsed":0.022792694013332948,"elapsed_instrumentation":8.244000491686165e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1726110,"event":"return","thread_id":9160,"parent_id":1725887,"elapsed":0.08531376600149088,"elapsed_instrumentation":0.00036084698513150215},{"id":1726111,"event":"return","thread_id":9160,"parent_id":1725886,"elapsed":0.08570216401130892,"elapsed_instrumentation":5.5392010835930705e-05},{"id":1726112,"event":"return","thread_id":9160,"parent_id":1725885,"elapsed":0.08578701602527872,"elapsed_instrumentation":8.685799548402429e-05},{"id":1726113,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9263040,"value":"#<Account:0x00007fdbf64c9ee0>"}},{"id":1726114,"event":"return","thread_id":9160,"parent_id":1726113,"elapsed":1.0832998668774962e-05,"elapsed_instrumentation":8.860399248078465e-05},{"id":1726115,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":9263720,"value":"{args=>[111360534639779254, {hashtag=>true, request_id=>1699226907-user1@foo.test}], class=>ActivityPub::SynchronizeFeaturedCollectionWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":9263740,"value":"#<Sidekiq::Client:0x00007fdc096b9530>"}},{"id":1726116,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":9263760,"value":"R^__J_fn____"}},{"id":1726117,"event":"return","thread_id":9160,"parent_id":1726116,"elapsed":4.456000169739127e-06,"elapsed_instrumentation":0.00012199199409224093,"return_value":{"class":"String","value":"525e928c4aa6666e93e58dfb","object_id":9263780}},{"id":1726118,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":9263800,"value":"[[class, ActivityPub::SynchronizeFeaturedCollectionWorker], [lock_args, [111360534639779254, {hashtag=>true, request_id=>1699226907-user1@foo.test}]], [queue, pull]]","kind":"req","size":3}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":9263820,"value":"#<JSON::Ext::Generator::State:0x00007fdc096b1fb0>"}},{"id":1726119,"event":"return","thread_id":9160,"parent_id":1726118,"elapsed":1.2360018445178866e-05,"elapsed_instrumentation":0.00040893201366998255,"return_value":{"class":"String","value":"[[\"class\",\"ActivityPub::SynchronizeFeaturedCollectionWorker\"],[\"lock_args\",[111360534639779254,{\"has (...72 more characters)","object_id":9263840}},{"id":1726120,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":9263860,"value":"[111360534639779254, {hashtag=>true, request_id=>1699226907-user1@foo.test}]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":9263880,"value":"#<JSON::Ext::Generator::State:0x00007fdc096dd9f8>"}},{"id":1726121,"event":"return","thread_id":9160,"parent_id":1726120,"elapsed":7.775990525260568e-06,"elapsed_instrumentation":0.0001764439803082496,"return_value":{"class":"String","value":"[111360534639779254,{\"hashtag\":true,\"request_id\":\"1699226907-user1@foo.test\"}]","object_id":9263900}},{"id":1726122,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":9263920,"value":"#<JSON::Ext::Parser:0x00007fdc096db770>"}},{"id":1726123,"event":"return","thread_id":9160,"parent_id":1726122,"elapsed":1.1508993338793516e-05,"elapsed_instrumentation":0.00010525799007155001,"return_value":{"class":"Array","value":"[111360534639779254, {hashtag=>true, request_id=>1699226907-user1@foo.test}]","object_id":9263940,"size":2}},{"id":1726124,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":9263960,"value":"\u0015u_\u0004_\u001c_2y__Q"}},{"id":1726125,"event":"return","thread_id":9160,"parent_id":1726124,"elapsed":5.566980689764023e-06,"elapsed_instrumentation":0.0003874989924952388,"return_value":{"class":"String","value":"1575ef04981cb13279c29551","object_id":9263980}},{"id":1726126,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":9264000,"value":"{retry=>true, queue=>pull, lock=>:until_executed, lock_ttl=>86400, args=>[111360534639779254, {hashtag=>true, request_id=>1699226907-user1@foo.test}], class=>ActivityPub::SynchronizeFeaturedCollectionWorker, jid=>525e928c4aa6666e93e58dfb, created_at=>1699226908.057283, lock_timeout=>0, lock_prefix=>uniquejobs (...3 more entries)}","kind":"req","size":13}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":9264020,"value":"#<JSON::Ext::Generator::State:0x00007fdc096d8a20>"}},{"id":1726127,"event":"return","thread_id":9160,"parent_id":1726126,"elapsed":2.6142981369048357e-05,"elapsed_instrumentation":0.0002868700248654932,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"lock\":\"until_executed\",\"lock_ttl\":86400,\"args\":[111360534639779254,{\"h (...406 more characters)","object_id":9264040}},{"id":1726128,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":9264060,"value":"#<JSON::Ext::Parser:0x00007fdc096d5578>"}},{"id":1726129,"event":"return","thread_id":9160,"parent_id":1726128,"elapsed":3.243499668315053e-05,"elapsed_instrumentation":0.00024361902615055442,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, lock=>until_executed, lock_ttl=>86400, args=>[111360534639779254, {hashtag=>true, request_id=>1699226907-user1@foo.test}], class=>ActivityPub::SynchronizeFeaturedCollectionWorker, jid=>525e928c4aa6666e93e58dfb, created_at=>1699226908.057283, lock_timeout=>0, lock_prefix=>uniquejobs (...3 more entries)}","object_id":9264080,"size":13}},{"id":1726130,"event":"call","thread_id":9160,"defined_class":"ActivityPub::SynchronizeFeaturedCollectionWorker","method_id":"perform","path":"app/workers/activitypub/synchronize_featured_collection_worker.rb","lineno":8,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222721069279558509,"value":"111360534639779254","kind":"req"},{"name":"options","class":"Hash","object_id":9264100,"value":"{hashtag=>true, request_id=>1699226907-user1@foo.test}","kind":"opt","size":2}],"receiver":{"class":"ActivityPub::SynchronizeFeaturedCollectionWorker","object_id":9264120,"value":"#<ActivityPub::SynchronizeFeaturedCollectionWorker:0x00007fdc096d1d38>"}},{"id":1726131,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1726132,"event":"return","thread_id":9160,"parent_id":1726131,"elapsed":0.001098157,"elapsed_instrumentation":9.819399565458298e-05},{"id":1726133,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9264140,"value":"#<Account:0x00007fdbf64c7460>"}},{"id":1726134,"event":"return","thread_id":9160,"parent_id":1726133,"elapsed":3.5052013117820024e-05,"elapsed_instrumentation":0.00013459098408930004},{"id":1726135,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9264140,"value":"#<Account:0x00007fdbf64c7460>"}},{"id":1726136,"event":"return","thread_id":9160,"parent_id":1726135,"elapsed":1.3780983863398433e-05,"elapsed_instrumentation":7.184702553786337e-05},{"id":1726137,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"account_id\" WHERE \"follows\".\"target_account_id\" = $1 AND \"accounts\".\"domain\" IS NULL AND \"accounts\".\"suspended_at\" IS NULL ORDER BY follows.id desc LIMIT $2","database_type":"postgres"}},{"id":1726138,"event":"return","thread_id":9160,"parent_id":1726137,"elapsed":0.001736202,"elapsed_instrumentation":8.45360045786947e-05},{"id":1726139,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"fetch_resource","path":"app/helpers/jsonld_helper.rb","lineno":158,"static":false,"parameters":[{"name":"uri","class":"String","object_id":9264160,"value":"https://foo.test/users/1/featured","kind":"req"},{"name":"id","class":"TrueClass","object_id":20,"value":"true","kind":"req"},{"name":"on_behalf_of","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::FetchFeaturedCollectionService","object_id":9264180,"value":"#<ActivityPub::FetchFeaturedCollectionService:0x00007fdc0742ae10>"}},{"id":1726140,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"fetch_resource_without_id_validation","path":"app/helpers/jsonld_helper.rb","lineno":171,"static":false,"parameters":[{"name":"uri","class":"String","object_id":9264160,"value":"https://foo.test/users/1/featured","kind":"req"},{"name":"on_behalf_of","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"raise_on_temporary_error","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::FetchFeaturedCollectionService","object_id":9264180,"value":"#<ActivityPub::FetchFeaturedCollectionService:0x00007fdc0742ae10>"}},{"id":1726141,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1726142,"event":"return","thread_id":9160,"parent_id":1726141,"elapsed":0.000642184,"elapsed_instrumentation":7.144099799916148e-05},{"id":1726143,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"ensure_keys!","path":"app/models/account.rb","lineno":478,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9264200,"value":"#<Account:0x00007fdbf64c6560>"}},{"id":1726144,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9264200,"value":"#<Account:0x00007fdbf64c6560>"}},{"id":1726145,"event":"return","thread_id":9160,"parent_id":1726144,"elapsed":1.3533019227907062e-05,"elapsed_instrumentation":8.615298429504037e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1726146,"event":"return","thread_id":9160,"parent_id":1726143,"elapsed":0.0001443719957023859,"elapsed_instrumentation":0.00012338499072939157},{"id":1726147,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"build_request","path":"app/helpers/jsonld_helper.rb","lineno":207,"static":false,"parameters":[{"name":"uri","class":"String","object_id":9264160,"value":"https://foo.test/users/1/featured","kind":"req"},{"name":"on_behalf_of","class":"Account","object_id":9264200,"value":"#<Account:0x00007fdbf64c6560>","kind":"opt"}],"receiver":{"class":"ActivityPub::FetchFeaturedCollectionService","object_id":9264180,"value":"#<ActivityPub::FetchFeaturedCollectionService:0x00007fdc0742ae10>"}},{"id":1726148,"event":"call","thread_id":9160,"defined_class":"Mastodon::Version","method_id":"user_agent","path":"lib/mastodon/version.rb","lineno":67,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":762660,"value":"4.3.0-alpha.0"}},{"id":1726149,"event":"return","thread_id":9160,"parent_id":1726148,"elapsed":3.522989572957158e-06,"elapsed_instrumentation":0.00016277798567898571,"return_value":{"class":"String","value":"http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/)","object_id":2322760}},{"id":1726150,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"on_behalf_of","path":"app/lib/request.rb","lineno":91,"static":false,"parameters":[{"name":"actor","class":"Account","object_id":9264200,"value":"#<Account:0x00007fdbf64c6560>","kind":"req"},{"name":"sign_with","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Request","object_id":9264220,"value":"#<Request:0x00007fdc07428250>"}},{"id":1726151,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9264200,"value":"#<Account:0x00007fdbf64c6560>"}},{"id":1726152,"event":"return","thread_id":9160,"parent_id":1726151,"elapsed":0.0001381159818265587,"elapsed_instrumentation":0.00028761799330823123,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEArfXigz9+7XRMxtJn3poZh3iHvYNkP2nfRq42Qehl7Ihx/v/l\nFC1","object_id":9264240}},{"id":1726153,"event":"return","thread_id":9160,"parent_id":1726150,"elapsed":0.00045490299817174673,"elapsed_instrumentation":0.0001594649802427739,"return_value":{"class":"Request","value":"#<Request:0x00007fdc07428250>","object_id":9264220}},{"id":1726154,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"add_headers","path":"app/lib/request.rb","lineno":100,"static":false,"parameters":[{"name":"new_headers","class":"Hash","object_id":9264260,"value":"{Accept=>application/activity+json, application/ld+json}","kind":"req","size":1}],"receiver":{"class":"Request","object_id":9264220,"value":"#<Request:0x00007fdc07428250>"}},{"id":1726155,"event":"return","thread_id":9160,"parent_id":1726154,"elapsed":4.774017725139856e-06,"elapsed_instrumentation":0.00011168801574967802,"return_value":{"class":"Request","value":"#<Request:0x00007fdc07428250>","object_id":9264220}},{"id":1726156,"event":"return","thread_id":9160,"parent_id":1726147,"elapsed":0.0018025559838861227,"elapsed_instrumentation":0.00017746700905263424,"return_value":{"class":"Request","value":"#<Request:0x00007fdc07428250>","object_id":9264220}},{"id":1726157,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"perform","path":"app/lib/request.rb","lineno":105,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":9264220,"value":"#<Request:0x00007fdc07428250>"}},{"id":1726158,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"http_client","path":"app/lib/request.rb","lineno":141,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":55840,"value":"Request"}},{"id":1726159,"event":"return","thread_id":9160,"parent_id":1726158,"elapsed":5.906700971536338e-05,"elapsed_instrumentation":7.024899241514504e-05,"return_value":{"class":"HTTP::Client","value":"#<HTTP::Client:0x00007fdc09670650>","object_id":9264280}},{"id":1726160,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"headers","path":"app/lib/request.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":9264220,"value":"#<Request:0x00007fdc07428250>"}},{"id":1726161,"event":"call","thread_id":9160,"defined_class":"OpenSSL::PKey::PKey","method_id":"sign","path":"OpenSSL::PKey::PKey#sign","static":false,"parameters":[{"name":"arg","class":"Array","object_id":9264300,"value":"[e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855, (request-target): get /users/1/featured\nhost: foo.test\ndate: Sun, 05 Nov 2023 23:28:28 GMT\naccept: a (...45 more characters)]","kind":"rest","size":2}],"receiver":{"class":"OpenSSL::PKey::RSA","object_id":9264240,"value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEArfXigz9+7XRMxtJn3poZh3iHvYNkP2nfRq42Qehl7Ihx/v/l\nFC1"}},{"id":1726162,"event":"return","thread_id":9160,"parent_id":1726161,"elapsed":0.0019215260108467191,"elapsed_instrumentation":0.0003008489729836583,"return_value":{"class":"String","value":"<___o_U\u0013__\n_\u0002_\u001d\u0010_^DUum_~\u001e~_X)0G_%\u001e_\u0015_\r__^____)\u0019\u0011'___\u0017\t&\u0011_(D4___/_T___B_s__ __R|__G$__\nJV^U_X_#_S__ (...156 more characters)","object_id":9264320}},{"id":1726163,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":326460,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":9264340,"value":"[<___o_U\u0013__\n_\u0002_\u001d\u0010_^DUum_~\u001e~_X)0G_%\u001e_\u0015_\r__^____)\u0019\u0011'___\u0017\t&\u0011_(D4___/_T___B_s__ __R|__G$__\nJV^U_X_#_S__ (...156 more characters)]"}},{"id":1726164,"event":"return","thread_id":9160,"parent_id":1726163,"elapsed":6.4159976318478584e-06,"elapsed_instrumentation":0.00014686398208141327,"return_value":{"class":"String","value":"PK+EiW+0VRPVywrXAt0dELleRFV1bfx+Hn79WCkwR9UlHr8V7w2axF6Fy7+oKRkRJ9nOkRcJJhH2KER/NIzbri+4VMC/0kLUc5Kh (...244 more characters)","object_id":9264360}},{"id":1726165,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"key_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":53,"static":false,"parameters":[{"name":"target","class":"Account","object_id":9264200,"value":"#<Account:0x00007fdbf64c6560>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":1726166,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":9264200,"value":"#<Account:0x00007fdbf64c6560>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":1726167,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9264200,"value":"#<Account:0x00007fdbf64c6560>"}},{"id":1726168,"event":"return","thread_id":9160,"parent_id":1726167,"elapsed":0.00014215699047781527,"elapsed_instrumentation":9.483701433055103e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1726169,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9264200,"value":"#<Account:0x00007fdbf64c6560>"}},{"id":1726170,"event":"return","thread_id":9160,"parent_id":1726169,"elapsed":3.0640221666544676e-06,"elapsed_instrumentation":9.205998503603041e-05,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":1726171,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":9264200,"value":"#<Account:0x00007fdbf64c6560>"}},{"id":1726172,"event":"return","thread_id":9160,"parent_id":1726171,"elapsed":1.6506004612892866e-05,"elapsed_instrumentation":6.0852005844935775e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1726173,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":1726174,"event":"return","thread_id":9160,"parent_id":1726173,"elapsed":4.85801137983799e-06,"elapsed_instrumentation":0.00010877399472519755,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":1726175,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":1726176,"event":"return","thread_id":9160,"parent_id":1726175,"elapsed":2.802000381052494e-06,"elapsed_instrumentation":9.277899516746402e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":1726177,"event":"return","thread_id":9160,"parent_id":1726166,"elapsed":0.0008687789959367365,"elapsed_instrumentation":9.625701932236552e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/actor","object_id":9264380}},{"id":1726178,"event":"return","thread_id":9160,"parent_id":1726165,"elapsed":0.0009871339716482908,"elapsed_instrumentation":8.91630188561976e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/actor#main-key","object_id":9264400}},{"id":1726179,"event":"return","thread_id":9160,"parent_id":1726160,"elapsed":0.003571796987671405,"elapsed_instrumentation":0.0005062829877715558,"return_value":{"class":"Hash","value":"{User-Agent=>http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/), Host=>foo.test, Date=>Sun, 05 Nov 2023 23:28:28 GMT, Accept-Encoding=>gzip, Accept=>application/activity+json, application/ld+json, Signature=>keyId=\"https://cb6e6126.ngrok.io/actor#main-key\",algorithm=\"rsa-sha256\",headers=\"(request-target) ho (...372 more characters)}","object_id":9264420,"size":6}},{"id":1726180,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"response_successful?","path":"app/helpers/jsonld_helper.rb","lineno":199,"static":false,"parameters":[{"name":"response","class":"HTTP::Response","object_id":9264480,"value":"{\"@context\":[\"https://www.w3.org/ns/activitystreams\"],\"id\":\"https://foo.test/users/1/featured\",\"type","kind":"req"}],"receiver":{"class":"ActivityPub::FetchFeaturedCollectionService","object_id":9264180,"value":"#<ActivityPub::FetchFeaturedCollectionService:0x00007fdc0742ae10>"}},{"id":1726181,"event":"return","thread_id":9160,"parent_id":1726180,"elapsed":1.0913994628936052e-05,"elapsed_instrumentation":0.00030418901587836444,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1726182,"event":"call","thread_id":9160,"defined_class":"Request::ClientLimit","method_id":"body_with_limit","path":"app/lib/request.rb","lineno":227,"static":false,"parameters":[{"name":"limit","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":9264480,"value":"{\"@context\":[\"https://www.w3.org/ns/activitystreams\"],\"id\":\"https://foo.test/users/1/featured\",\"type"}},{"id":1726183,"event":"call","thread_id":9160,"defined_class":"Request::ClientLimit","method_id":"truncated_body","path":"app/lib/request.rb","lineno":204,"static":false,"parameters":[{"name":"limit","class":"Integer","object_id":2097153,"value":"1048576","kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":9264480,"value":"{\"@context\":[\"https://www.w3.org/ns/activitystreams\"],\"id\":\"https://foo.test/users/1/featured\",\"type"}},{"id":1726184,"event":"return","thread_id":9160,"parent_id":1726183,"elapsed":0.0003388550248928368,"elapsed_instrumentation":0.0001944019750226289,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":9264500,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":1726185,"event":"return","thread_id":9160,"parent_id":1726182,"elapsed":0.0005908659950364381,"elapsed_instrumentation":0.00015492600505240262,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":9264500,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":1726186,"event":"return","thread_id":9160,"parent_id":1726157,"elapsed":0.0190473280090373,"elapsed_instrumentation":6.173498695716262e-05,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":9264500,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":1726187,"event":"return","thread_id":9160,"parent_id":1726140,"elapsed":0.023412195994751528,"elapsed_instrumentation":0.00013679300900548697,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":9264500,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":1726188,"event":"return","thread_id":9160,"parent_id":1726139,"elapsed":0.023786106990883127,"elapsed_instrumentation":0.00015764302224852145,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":9264500,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":1726189,"event":"return","thread_id":9160,"parent_id":1726130,"elapsed":0.03243780101183802,"elapsed_instrumentation":0.0002125650062225759,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":9264500,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":1726190,"event":"return","thread_id":9160,"parent_id":1726115,"elapsed":0.038563559006433934,"elapsed_instrumentation":0.0003990720142610371,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":9264500,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]}]}