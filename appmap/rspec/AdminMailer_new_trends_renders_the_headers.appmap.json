{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"AdminMailer .new_trends renders the headers","source_location":"spec/mailers/admin_mailer_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"mailers","type":"package","children":[{"name":"AdminMailer","type":"class","children":[{"name":"new_trends","type":"function","location":"app/mailers/admin_mailer.rb:38","static":false}]},{"name":"ApplicationMailer","type":"class","children":[{"name":"locale_for_account","type":"function","location":"app/mailers/application_mailer.rb:14","static":false},{"name":"set_autoreply_headers!","type":"function","location":"app/mailers/application_mailer.rb:18","static":false}]}]},{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"user_locale","type":"function","location":"app/models/account.rb:139","static":false},{"name":"user_email","type":"function","location":"app/models/account.rb:139","static":false}]}]},{"name":"views","type":"package","children":[{"name":"app_views_admin_mailer_new_trends_text_erb","type":"class","children":[{"name":"render","type":"function","location":"app/views/admin_mailer/new_trends.text.erb","static":true,"labels":["mvc.template"]}]},{"name":"app_views_layouts_plain_mailer_html_haml","type":"class","children":[{"name":"render","type":"function","location":"app/views/layouts/plain_mailer.html.haml","static":true,"labels":["mvc.template"]}]}]},{"name":"helpers","type":"package","children":[{"name":"AccountsHelper","type":"class","children":[{"name":"display_name","type":"function","location":"app/helpers/accounts_helper.rb:4","static":false}]}]}]},{"name":"actionview","type":"package","children":[{"name":"ActionView","type":"class","children":[{"name":"Resolver","type":"class","children":[{"name":"find_all","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb:63","static":false,"labels":["mvc.template.resolver"]}]},{"name":"TemplateRenderer","type":"class","children":[{"name":"render","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/renderer/template_renderer.rb:5","labels":["mvc.view"]}]}]}]}],"events":[{"id":513460,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3482740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3448500,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93144df20>"}},{"id":513461,"event":"return","thread_id":9160,"parent_id":513460,"elapsed":3.490794915705919e-05,"elapsed_instrumentation":0.00032076204661279917,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932d688e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932d68e88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":3448520,"size":2}},{"id":513462,"event":"call","thread_id":9160,"defined_class":"AdminMailer","method_id":"new_trends","path":"app/mailers/admin_mailer.rb","lineno":38,"static":false,"parameters":[{"name":"links","class":"Array","object_id":3482760,"value":"[]","kind":"req","size":0},{"name":"tags","class":"Array","object_id":3482780,"value":"[]","kind":"req","size":0},{"name":"statuses","class":"Array","object_id":3482800,"value":"[]","kind":"req","size":0}],"receiver":{"class":"AdminMailer","object_id":3482820,"value":"#<AdminMailer:0x00007fc919b558d0>"}},{"id":513463,"event":"call","thread_id":9160,"defined_class":"ApplicationMailer","method_id":"locale_for_account","path":"app/mailers/application_mailer.rb","lineno":14,"static":false,"parameters":[{"name":"account","class":"Account","object_id":3482700,"value":"#<Account:0x00007fc919a94748>","kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"AdminMailer","object_id":3482820,"value":"#<AdminMailer:0x00007fc919b558d0>"}},{"id":513464,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"user_locale","path":"app/models/account.rb","lineno":139,"static":false,"parameters":[{"name":"*","class":"Array","object_id":3482840,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":3482860,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":3482700,"value":"#<Account:0x00007fc919a94748>"}},{"id":513465,"event":"return","thread_id":9160,"parent_id":513464,"elapsed":3.5856966860592365e-05,"elapsed_instrumentation":0.00010810000821948051,"return_value":{"class":"String","value":"en","object_id":3482880}},{"id":513466,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"user_email","path":"app/models/account.rb","lineno":139,"static":false,"parameters":[{"name":"*","class":"Array","object_id":3482900,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":3482920,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":3482700,"value":"#<Account:0x00007fc919a94748>"}},{"id":513467,"event":"return","thread_id":9160,"parent_id":513466,"elapsed":1.7301994375884533e-05,"elapsed_instrumentation":0.00011956301750615239,"return_value":{"class":"String","value":"2485scott_reilly@schumm-hammes.test","object_id":3482940}},{"id":513468,"event":"call","thread_id":9160,"defined_class":"ActionView::Resolver","method_id":"find_all","path":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb","lineno":63,"static":false,"parameters":[{"name":"name","class":"String","object_id":3482960,"value":"new_trends","kind":"req"},{"name":"prefix","class":"String","object_id":3448700,"value":"admin_mailer","kind":"opt"},{"name":"partial","class":"FalseClass","object_id":0,"value":"false","kind":"opt"},{"name":"details","class":"Hash","object_id":3482980,"value":"{:locale=>[:en], :formats=>[:html, :text, :js, :css, :ics, :csv, :vcf, :vtt, :png, :jpeg (...27 more items)], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :haml]}","kind":"opt","size":4},{"name":"key","class":"ActionView::TemplateDetails::Requested","object_id":1352920,"value":"#<ActionView::TemplateDetails::Requested:0x00007fc937b2b3c8>","kind":"opt"},{"name":"locals","class":"Array","object_id":3483000,"value":"[]","kind":"opt","size":0}],"receiver":{"class":"ActionView::FileSystemResolver","object_id":209280,"value":"/workspaces/mastodon/app/views"}},{"id":513469,"event":"return","thread_id":9160,"parent_id":513468,"elapsed":2.6919005904346704e-05,"elapsed_instrumentation":0.0005407829885371029,"return_value":{"class":"Array","value":"[#<ActionView::Template:0x00007fc919b3f968>]","object_id":3483020,"size":1}},{"id":513470,"event":"call","thread_id":9160,"defined_class":"app_views_layouts_plain_mailer_html_haml","method_id":"render","path":"app/views/layouts/plain_mailer.html.haml","static":true,"parameters":[],"receiver":{"class":"ActionView::TemplateRenderer","object_id":3483440,"value":"#<ActionView::TemplateRenderer:0x00007fc9333cb690>"}},{"id":513471,"event":"call","thread_id":9160,"defined_class":"ActionView::Resolver","method_id":"find_all","path":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb","lineno":63,"static":false,"parameters":[{"name":"name","class":"String","object_id":3483040,"value":"plain_mailer","kind":"req"},{"name":"prefix","class":"String","object_id":3483060,"value":"layouts","kind":"opt"},{"name":"partial","class":"FalseClass","object_id":0,"value":"false","kind":"opt"},{"name":"details","class":"Hash","object_id":3483080,"value":"{:locale=>[:en], :formats=>[:text], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :haml]}","kind":"opt","size":4},{"name":"key","class":"ActionView::TemplateDetails::Requested","object_id":1358740,"value":"#<ActionView::TemplateDetails::Requested:0x00007fc91a4fd720>","kind":"opt"},{"name":"locals","class":"Array","object_id":3483100,"value":"[]","kind":"opt","size":0}],"receiver":{"class":"ActionView::FileSystemResolver","object_id":209280,"value":"/workspaces/mastodon/app/views"}},{"id":513472,"event":"return","thread_id":9160,"parent_id":513471,"elapsed":7.809500675648451e-05,"elapsed_instrumentation":0.0002615789417177439,"return_value":{"class":"Array","value":"[]","object_id":3483120,"size":0}},{"id":513473,"event":"call","thread_id":9160,"defined_class":"ActionView::Resolver","method_id":"find_all","path":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb","lineno":63,"static":false,"parameters":[{"name":"name","class":"String","object_id":3483040,"value":"plain_mailer","kind":"req"},{"name":"prefix","class":"String","object_id":3483060,"value":"layouts","kind":"opt"},{"name":"partial","class":"FalseClass","object_id":0,"value":"false","kind":"opt"},{"name":"details","class":"Hash","object_id":3483080,"value":"{:locale=>[:en], :formats=>[:text], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :haml]}","kind":"opt","size":4},{"name":"key","class":"ActionView::TemplateDetails::Requested","object_id":1358740,"value":"#<ActionView::TemplateDetails::Requested:0x00007fc91a4fd720>","kind":"opt"},{"name":"locals","class":"Array","object_id":3483100,"value":"[]","kind":"opt","size":0}],"receiver":{"class":"ActionView::FileSystemResolver","object_id":209260,"value":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/doorkeeper-5.6.6/app/views"}},{"id":513474,"event":"return","thread_id":9160,"parent_id":513473,"elapsed":8.827017154544592e-06,"elapsed_instrumentation":0.00022533099399879575,"return_value":{"class":"Array","value":"[]","object_id":3483140,"size":0}},{"id":513475,"event":"call","thread_id":9160,"defined_class":"ActionView::Resolver","method_id":"find_all","path":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb","lineno":63,"static":false,"parameters":[{"name":"name","class":"String","object_id":3483040,"value":"plain_mailer","kind":"req"},{"name":"prefix","class":"String","object_id":3483060,"value":"layouts","kind":"opt"},{"name":"partial","class":"FalseClass","object_id":0,"value":"false","kind":"opt"},{"name":"details","class":"Hash","object_id":3483080,"value":"{:locale=>[:en], :formats=>[:text], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :haml]}","kind":"opt","size":4},{"name":"key","class":"ActionView::TemplateDetails::Requested","object_id":1358740,"value":"#<ActionView::TemplateDetails::Requested:0x00007fc91a4fd720>","kind":"opt"},{"name":"locals","class":"Array","object_id":3483100,"value":"[]","kind":"opt","size":0}],"receiver":{"class":"ActionView::FileSystemResolver","object_id":209240,"value":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/devise-4.9.3/app/views"}},{"id":513476,"event":"return","thread_id":9160,"parent_id":513475,"elapsed":8.15599923953414e-06,"elapsed_instrumentation":0.00020156195387244225,"return_value":{"class":"Array","value":"[]","object_id":3483160,"size":0}},{"id":513477,"event":"call","thread_id":9160,"defined_class":"ActionView::Resolver","method_id":"find_all","path":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb","lineno":63,"static":false,"parameters":[{"name":"name","class":"String","object_id":3483040,"value":"plain_mailer","kind":"req"},{"name":"prefix","class":"String","object_id":3483060,"value":"layouts","kind":"opt"},{"name":"partial","class":"FalseClass","object_id":0,"value":"false","kind":"opt"},{"name":"details","class":"Hash","object_id":3483080,"value":"{:locale=>[:en], :formats=>[:text], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :haml]}","kind":"opt","size":4},{"name":"key","class":"ActionView::TemplateDetails::Requested","object_id":1358740,"value":"#<ActionView::TemplateDetails::Requested:0x00007fc91a4fd720>","kind":"opt"},{"name":"locals","class":"Array","object_id":3483100,"value":"[]","kind":"opt","size":0}],"receiver":{"class":"ActionView::FileSystemResolver","object_id":209220,"value":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/kaminari-core-1.2.2/app/views"}},{"id":513478,"event":"return","thread_id":9160,"parent_id":513477,"elapsed":8.172006346285343e-06,"elapsed_instrumentation":0.00020125502487644553,"return_value":{"class":"Array","value":"[]","object_id":3483180,"size":0}},{"id":513479,"event":"call","thread_id":9160,"defined_class":"ActionView::Resolver","method_id":"find_all","path":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb","lineno":63,"static":false,"parameters":[{"name":"name","class":"String","object_id":3483040,"value":"plain_mailer","kind":"req"},{"name":"prefix","class":"String","object_id":3483060,"value":"layouts","kind":"opt"},{"name":"partial","class":"FalseClass","object_id":0,"value":"false","kind":"opt"},{"name":"details","class":"Hash","object_id":3483080,"value":"{:locale=>[:en], :formats=>[:text], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :haml]}","kind":"opt","size":4},{"name":"key","class":"ActionView::TemplateDetails::Requested","object_id":1358740,"value":"#<ActionView::TemplateDetails::Requested:0x00007fc91a4fd720>","kind":"opt"},{"name":"locals","class":"Array","object_id":3483100,"value":"[]","kind":"opt","size":0}],"receiver":{"class":"ActionView::FileSystemResolver","object_id":209200,"value":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/pghero-3.3.4/app/views"}},{"id":513480,"event":"return","thread_id":9160,"parent_id":513479,"elapsed":9.61899058893323e-06,"elapsed_instrumentation":0.0003102520131506026,"return_value":{"class":"Array","value":"[]","object_id":3483200,"size":0}},{"id":513481,"event":"call","thread_id":9160,"defined_class":"ActionView::Resolver","method_id":"find_all","path":"vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/action_view/template/resolver.rb","lineno":63,"static":false,"parameters":[{"name":"name","class":"String","object_id":3483220,"value":"plain_mailer","kind":"req"},{"name":"prefix","class":"String","object_id":3483240,"value":"layouts","kind":"opt"},{"name":"partial","class":"FalseClass","object_id":0,"value":"false","kind":"opt"},{"name":"details","class":"Hash","object_id":3483260,"value":"{:locale=>[:en], :formats=>[:html, :text, :js, :css, :ics, :csv, :vcf, :vtt, :png, :jpeg (...27 more items)], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :haml]}","kind":"opt","size":4},{"name":"key","class":"ActionView::TemplateDetails::Requested","object_id":1352920,"value":"#<ActionView::TemplateDetails::Requested:0x00007fc937b2b3c8>","kind":"opt"},{"name":"locals","class":"Array","object_id":3483280,"value":"[]","kind":"opt","size":0}],"receiver":{"class":"ActionView::FileSystemResolver","object_id":209280,"value":"/workspaces/mastodon/app/views"}},{"id":513482,"event":"return","thread_id":9160,"parent_id":513481,"elapsed":1.5678000636398792e-05,"elapsed_instrumentation":0.00037646101554855704,"return_value":{"class":"Array","value":"[#<ActionView::Template:0x00007fc919fa71e0>]","object_id":3483300,"size":1}},{"id":513483,"event":"call","thread_id":9160,"defined_class":"AccountsHelper","method_id":"display_name","path":"app/helpers/accounts_helper.rb","lineno":4,"static":false,"parameters":[{"name":"account","class":"Account","object_id":3482700,"value":"#<Account:0x00007fc919a94748>","kind":"req"},{"name":"options","class":"Hash","object_id":3483320,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"ActionView::Base","object_id":3483340,"value":"#<#<Class:0x00007fc919faade0>:0x00007fc919acdac0>"}},{"id":513484,"event":"return","thread_id":9160,"parent_id":513483,"elapsed":2.3096974473446608e-05,"elapsed_instrumentation":0.00012645201059058309,"return_value":{"class":"String","value":"Snurf","object_id":3483360}},{"id":513485,"event":"return","thread_id":9160,"parent_id":513470,"elapsed":0.002564603986684233,"elapsed_instrumentation":4.9779016990214586e-05},{"id":513486,"event":"return","thread_id":9160,"parent_id":513463,"elapsed":0.005382725968956947,"elapsed_instrumentation":0.0020594210363924503,"return_value":{"class":"Mail::Message","value":"Date: Mon, 06 Nov 2023 02:54:31 +0000\r\nFrom: notifications@localhost\r\nTo: 2485scott_reilly@schumm-ha","object_id":3483380}},{"id":513487,"event":"return","thread_id":9160,"parent_id":513462,"elapsed":0.007470117008779198,"elapsed_instrumentation":0.0012164860381744802,"return_value":{"class":"Mail::Message","value":"Date: Mon, 06 Nov 2023 02:54:31 +0000\r\nFrom: notifications@localhost\r\nTo: 2485scott_reilly@schumm-ha","object_id":3483380}},{"id":513488,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3482740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3448500,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93144df20>"}},{"id":513489,"event":"call","thread_id":9160,"defined_class":"ApplicationMailer","method_id":"set_autoreply_headers!","path":"app/mailers/application_mailer.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"AdminMailer","object_id":3482820,"value":"#<AdminMailer:0x00007fc919b558d0>"}},{"id":513490,"event":"return","thread_id":9160,"parent_id":513489,"elapsed":0.00010565202683210373,"elapsed_instrumentation":8.942699059844017e-05,"return_value":{"class":"String","value":"auto-generated","object_id":1358980}},{"id":513491,"event":"return","thread_id":9160,"parent_id":513488,"elapsed":0.0002246919902972877,"elapsed_instrumentation":0.00025145901599898934,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932d68398 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":3449160,"size":1}},{"id":513492,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"user_email","path":"app/models/account.rb","lineno":139,"static":false,"parameters":[{"name":"*","class":"Array","object_id":3483400,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":3483420,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":3482700,"value":"#<Account:0x00007fc919a94748>"}},{"id":513493,"event":"return","thread_id":9160,"parent_id":513492,"elapsed":2.7130008675158024e-05,"elapsed_instrumentation":0.00014377100160345435,"return_value":{"class":"String","value":"2485scott_reilly@schumm-hammes.test","object_id":3482940}}]}