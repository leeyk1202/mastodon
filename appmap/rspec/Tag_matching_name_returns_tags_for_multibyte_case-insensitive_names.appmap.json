{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Tag .matching_name returns tags for multibyte case-insensitive names","source_location":"spec/models/tag_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"lib","type":"package","children":[{"name":"HashtagNormalizer","type":"class","children":[{"name":"normalize","type":"function","location":"app/lib/hashtag_normalizer.rb:4","static":false}]},{"name":"ASCIIFolding","type":"class","children":[{"name":"fold","type":"function","location":"app/lib/ascii_folding.rb:7","static":false}]}]},{"name":"models","type":"package","children":[{"name":"Tag","type":"class","children":[{"name":"display_name","type":"function","location":"app/models/tag.rb:67","static":false},{"name":"matching_name","type":"function","location":"app/models/tag.rb:146","static":true},{"name":"normalize","type":"function","location":"app/models/tag.rb:156","static":true}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]}],"events":[{"id":1181042,"event":"call","thread_id":9160,"defined_class":"HashtagNormalizer","method_id":"normalize","path":"app/lib/hashtag_normalizer.rb","lineno":4,"static":false,"parameters":[{"name":"str","class":"String","object_id":6822600,"value":"abcabcａｂｃａｂｃやゆよ","kind":"req"}],"receiver":{"class":"HashtagNormalizer","object_id":6822980,"value":"#<HashtagNormalizer:0x00007fc93269fb88>"}},{"id":1181043,"event":"call","thread_id":9160,"defined_class":"ASCIIFolding","method_id":"fold","path":"app/lib/ascii_folding.rb","lineno":7,"static":false,"parameters":[{"name":"str","class":"String","object_id":6823000,"value":"abcabcabcabcやゆよ","kind":"req"}],"receiver":{"class":"ASCIIFolding","object_id":6823020,"value":"#<ASCIIFolding:0x00007fc93269e4e0>"}},{"id":1181044,"event":"return","thread_id":9160,"parent_id":1181043,"elapsed":0.00013289396883919835,"elapsed_instrumentation":0.00016336102271452546,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":6823040}},{"id":1181045,"event":"return","thread_id":9160,"parent_id":1181042,"elapsed":0.00044321001041680574,"elapsed_instrumentation":0.00028669903986155987,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":6823060}},{"id":1181046,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6823080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5700>"}},{"id":1181047,"event":"return","thread_id":9160,"parent_id":1181046,"elapsed":2.22519738599658e-05,"elapsed_instrumentation":0.00023020606022328138,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f63f80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1464740,"size":1}},{"id":1181048,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6823100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce56b0>"}},{"id":1181049,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"display_name","path":"app/models/tag.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":6823120,"value":"#<Tag:0x00007fc91a3c9ed0>"}},{"id":1181050,"event":"return","thread_id":9160,"parent_id":1181049,"elapsed":9.34000127017498e-05,"elapsed_instrumentation":0.0001283619785681367,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":6823140}},{"id":1181051,"event":"return","thread_id":9160,"parent_id":1181048,"elapsed":0.0009153129649348557,"elapsed_instrumentation":0.00027392804622650146,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f624c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62680 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f627c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62900 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62a40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62b80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62cc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62e00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62f40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f63120 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...3 more items)]","object_id":1464840,"size":13}},{"id":1181052,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6823100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce56b0>"}},{"id":1181053,"event":"return","thread_id":9160,"parent_id":1181052,"elapsed":3.5100383684039116e-06,"elapsed_instrumentation":9.309203596785665e-05,"return_value":{"class":"Array","value":"[]","object_id":1464860,"size":0}},{"id":1181054,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6823080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5700>"}},{"id":1181055,"event":"return","thread_id":9160,"parent_id":1181054,"elapsed":1.531804446130991e-05,"elapsed_instrumentation":0.00027198996394872665,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f63e40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1464880,"size":1}},{"id":1181056,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6823160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5610>"}},{"id":1181057,"event":"return","thread_id":9160,"parent_id":1181056,"elapsed":3.337976522743702e-06,"elapsed_instrumentation":0.0001170160248875618,"return_value":{"class":"Array","value":"[]","object_id":1464940,"size":0}},{"id":1181058,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6823160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5660>"}},{"id":1181059,"event":"return","thread_id":9160,"parent_id":1181058,"elapsed":2.610962837934494e-06,"elapsed_instrumentation":7.68700847402215e-05,"return_value":{"class":"Array","value":"[]","object_id":1464980,"size":0}},{"id":1181060,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6823180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1465020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5520>"}},{"id":1181061,"event":"return","thread_id":9160,"parent_id":1181060,"elapsed":2.8720241971313953e-06,"elapsed_instrumentation":8.561305003240705e-05,"return_value":{"class":"Array","value":"[]","object_id":1465040,"size":0}},{"id":1181062,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1181063,"event":"return","thread_id":9160,"parent_id":1181062,"elapsed":0.000654651,"elapsed_instrumentation":9.811599738895893e-05},{"id":1181064,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"tags\" (\"name\", \"created_at\", \"updated_at\", \"usable\", \"trendable\", \"listable\", \"reviewed_at\", \"requested_review_at\", \"last_status_at\", \"max_score\", \"max_score_at\", \"display_name\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":1181065,"event":"return","thread_id":9160,"parent_id":1181064,"elapsed":0.001892518,"elapsed_instrumentation":9.034201502799988e-05},{"id":1181066,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6823180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1465020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5520>"}},{"id":1181067,"event":"return","thread_id":9160,"parent_id":1181066,"elapsed":8.380803046748042e-05,"elapsed_instrumentation":0.0002369909780099988,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f8f400 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8f220 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8f068 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8eeb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8ecf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8eb40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8e988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1465060,"size":7}},{"id":1181068,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6823160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5660>"}},{"id":1181069,"event":"return","thread_id":9160,"parent_id":1181068,"elapsed":3.2500247471034527e-06,"elapsed_instrumentation":8.998101111501455e-05,"return_value":{"class":"Array","value":"[]","object_id":1465080,"size":0}},{"id":1181070,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6823160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5610>"}},{"id":1181071,"event":"return","thread_id":9160,"parent_id":1181070,"elapsed":0.00012787501327693462,"elapsed_instrumentation":0.0002586400369182229,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f60498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1465100,"size":1}},{"id":1181072,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1181073,"event":"return","thread_id":9160,"parent_id":1181072,"elapsed":0.000791313,"elapsed_instrumentation":8.840602822601795e-05},{"id":1181074,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"matching_name","path":"app/models/tag.rb","lineno":146,"static":true,"parameters":[{"name":"name_or_names","class":"String","object_id":6822480,"value":"abcABCａｂｃＡＢＣやゆよ","kind":"req"}],"receiver":{"class":"Class","object_id":37120,"value":"Tag"}},{"id":1181075,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"normalize","path":"app/models/tag.rb","lineno":156,"static":true,"parameters":[{"name":"str","class":"String","object_id":6822480,"value":"abcABCａｂｃＡＢＣやゆよ","kind":"req"}],"receiver":{"class":"Class","object_id":37120,"value":"Tag"}},{"id":1181076,"event":"call","thread_id":9160,"defined_class":"HashtagNormalizer","method_id":"normalize","path":"app/lib/hashtag_normalizer.rb","lineno":4,"static":false,"parameters":[{"name":"str","class":"String","object_id":6822480,"value":"abcABCａｂｃＡＢＣやゆよ","kind":"req"}],"receiver":{"class":"HashtagNormalizer","object_id":6823200,"value":"#<HashtagNormalizer:0x00007fc9326a8620>"}},{"id":1181077,"event":"call","thread_id":9160,"defined_class":"ASCIIFolding","method_id":"fold","path":"app/lib/ascii_folding.rb","lineno":7,"static":false,"parameters":[{"name":"str","class":"String","object_id":6823220,"value":"abcabcabcabcやゆよ","kind":"req"}],"receiver":{"class":"ASCIIFolding","object_id":6823240,"value":"#<ASCIIFolding:0x00007fc9326a7608>"}},{"id":1181078,"event":"return","thread_id":9160,"parent_id":1181077,"elapsed":0.0001189259928651154,"elapsed_instrumentation":0.00015612406423315406,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":6823260}},{"id":1181079,"event":"return","thread_id":9160,"parent_id":1181076,"elapsed":0.00037410896038636565,"elapsed_instrumentation":0.00010115798795595765,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":6823280}},{"id":1181080,"event":"return","thread_id":9160,"parent_id":1181075,"elapsed":0.0004985400009900331,"elapsed_instrumentation":8.267199154943228e-05,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":6823280}},{"id":1181081,"event":"return","thread_id":9160,"parent_id":1181074,"elapsed":0.0007292620139196515,"elapsed_instrumentation":0.00016178993973881006,"return_value":{"class":"ActiveRecord::Relation","value":"#<Tag::ActiveRecord_Relation:0x00007fc91a5e8360>","object_id":6823300}},{"id":1181082,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"tags\".* FROM \"tags\" WHERE LOWER(\"tags\".\"name\") = LOWER('abcabcabcabcやゆよ')","database_type":"postgres"}},{"id":1181083,"event":"return","thread_id":9160,"parent_id":1181082,"elapsed":0.000913609,"elapsed_instrumentation":0.0001011689892038703}]}