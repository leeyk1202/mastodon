{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Tag .matching_name returns tags for multibyte case-insensitive names","source_location":"spec/models/tag_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"lib","type":"package","children":[{"name":"HashtagNormalizer","type":"class","children":[{"name":"normalize","type":"function","location":"app/lib/hashtag_normalizer.rb:4","static":false}]},{"name":"ASCIIFolding","type":"class","children":[{"name":"fold","type":"function","location":"app/lib/ascii_folding.rb:7","static":false}]}]},{"name":"models","type":"package","children":[{"name":"Tag","type":"class","children":[{"name":"display_name","type":"function","location":"app/models/tag.rb:67","static":false},{"name":"matching_name","type":"function","location":"app/models/tag.rb:146","static":true},{"name":"normalize","type":"function","location":"app/models/tag.rb:156","static":true}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]}],"events":[{"id":426946,"event":"call","thread_id":9160,"defined_class":"HashtagNormalizer","method_id":"normalize","path":"app/lib/hashtag_normalizer.rb","lineno":4,"static":false,"parameters":[{"name":"str","class":"String","object_id":2788640,"value":"abcabcａｂｃａｂｃやゆよ","kind":"req"}],"receiver":{"class":"HashtagNormalizer","object_id":2789960,"value":"#<HashtagNormalizer:0x00007fdc09a28d60>"}},{"id":426947,"event":"call","thread_id":9160,"defined_class":"ASCIIFolding","method_id":"fold","path":"app/lib/ascii_folding.rb","lineno":7,"static":false,"parameters":[{"name":"str","class":"String","object_id":2789980,"value":"abcabcabcabcやゆよ","kind":"req"}],"receiver":{"class":"ASCIIFolding","object_id":2790000,"value":"#<ASCIIFolding:0x00007fdc09a27ca8>"}},{"id":426948,"event":"return","thread_id":9160,"parent_id":426947,"elapsed":3.1881005270406604e-05,"elapsed_instrumentation":0.0001905479875858873,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":2790020}},{"id":426949,"event":"return","thread_id":9160,"parent_id":426946,"elapsed":0.00033390099997632205,"elapsed_instrumentation":0.00044340197928249836,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":2790040}},{"id":426950,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb70>"}},{"id":426951,"event":"return","thread_id":9160,"parent_id":426950,"elapsed":2.078301622532308e-05,"elapsed_instrumentation":0.00019495899323374033,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d9af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1592760,"size":1}},{"id":426952,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb20>"}},{"id":426953,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"display_name","path":"app/models/tag.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":2790100,"value":"#<Tag:0x00007fdc06fedfc8>"}},{"id":426954,"event":"return","thread_id":9160,"parent_id":426953,"elapsed":0.00010124599793925881,"elapsed_instrumentation":0.00015843703295104206,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":2790120}},{"id":426955,"event":"return","thread_id":9160,"parent_id":426952,"elapsed":0.0009421859867870808,"elapsed_instrumentation":0.0002611499803606421,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d4ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d55e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5840 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5ae8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5d40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5f98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d6380 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d6a38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d6f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d75c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...3 more items)]","object_id":1592840,"size":13}},{"id":426956,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb20>"}},{"id":426957,"event":"return","thread_id":9160,"parent_id":426956,"elapsed":4.165020072832704e-06,"elapsed_instrumentation":0.00012197598698548973,"return_value":{"class":"Array","value":"[]","object_id":1592860,"size":0}},{"id":426958,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb70>"}},{"id":426959,"event":"return","thread_id":9160,"parent_id":426958,"elapsed":1.1902011465281248e-05,"elapsed_instrumentation":0.0001575950300320983,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d9698 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1592880,"size":1}},{"id":426960,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738ca80>"}},{"id":426961,"event":"return","thread_id":9160,"parent_id":426960,"elapsed":2.3439934011548758e-06,"elapsed_instrumentation":7.807096699252725e-05,"return_value":{"class":"Array","value":"[]","object_id":1614660,"size":0}},{"id":426962,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cad0>"}},{"id":426963,"event":"return","thread_id":9160,"parent_id":426962,"elapsed":3.069988451898098e-06,"elapsed_instrumentation":0.00015047198394313455,"return_value":{"class":"Array","value":"[]","object_id":1614700,"size":0}},{"id":426964,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738c940>"}},{"id":426965,"event":"return","thread_id":9160,"parent_id":426964,"elapsed":2.1599989850074053e-06,"elapsed_instrumentation":8.197195711545646e-05,"return_value":{"class":"Array","value":"[]","object_id":1614760,"size":0}},{"id":426966,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":426967,"event":"return","thread_id":9160,"parent_id":426966,"elapsed":0.000559653,"elapsed_instrumentation":0.00011417802306823432},{"id":426968,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"tags\" (\"name\", \"created_at\", \"updated_at\", \"usable\", \"trendable\", \"listable\", \"reviewed_at\", \"requested_review_at\", \"last_status_at\", \"max_score\", \"max_score_at\", \"display_name\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":426969,"event":"return","thread_id":9160,"parent_id":426968,"elapsed":0.001458555,"elapsed_instrumentation":0.000301054009469226},{"id":426970,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738c940>"}},{"id":426971,"event":"return","thread_id":9160,"parent_id":426970,"elapsed":0.00011729399557225406,"elapsed_instrumentation":0.00038746901554986835,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a2ee828 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ee3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ee120 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ede00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2edb08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ed810 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ed568 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1614780,"size":7}},{"id":426972,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cad0>"}},{"id":426973,"event":"return","thread_id":9160,"parent_id":426972,"elapsed":3.6879791878163815e-06,"elapsed_instrumentation":0.00021210897830314934,"return_value":{"class":"Array","value":"[]","object_id":1614800,"size":0}},{"id":426974,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738ca80>"}},{"id":426975,"event":"return","thread_id":9160,"parent_id":426974,"elapsed":0.00011118000838905573,"elapsed_instrumentation":0.00011218900908716023,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d09f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1614820,"size":1}},{"id":426976,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":426977,"event":"return","thread_id":9160,"parent_id":426976,"elapsed":0.000549951,"elapsed_instrumentation":8.952501229941845e-05},{"id":426978,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"matching_name","path":"app/models/tag.rb","lineno":146,"static":true,"parameters":[{"name":"name_or_names","class":"String","object_id":2788880,"value":"abcABCａｂｃＡＢＣやゆよ","kind":"req"}],"receiver":{"class":"Class","object_id":37120,"value":"Tag"}},{"id":426979,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"normalize","path":"app/models/tag.rb","lineno":156,"static":true,"parameters":[{"name":"str","class":"String","object_id":2788880,"value":"abcABCａｂｃＡＢＣやゆよ","kind":"req"}],"receiver":{"class":"Class","object_id":37120,"value":"Tag"}},{"id":426980,"event":"call","thread_id":9160,"defined_class":"HashtagNormalizer","method_id":"normalize","path":"app/lib/hashtag_normalizer.rb","lineno":4,"static":false,"parameters":[{"name":"str","class":"String","object_id":2788880,"value":"abcABCａｂｃＡＢＣやゆよ","kind":"req"}],"receiver":{"class":"HashtagNormalizer","object_id":2790180,"value":"#<HashtagNormalizer:0x00007fdc09a62a38>"}},{"id":426981,"event":"call","thread_id":9160,"defined_class":"ASCIIFolding","method_id":"fold","path":"app/lib/ascii_folding.rb","lineno":7,"static":false,"parameters":[{"name":"str","class":"String","object_id":2790200,"value":"abcabcabcabcやゆよ","kind":"req"}],"receiver":{"class":"ASCIIFolding","object_id":2790220,"value":"#<ASCIIFolding:0x00007fdc09a615c0>"}},{"id":426982,"event":"return","thread_id":9160,"parent_id":426981,"elapsed":3.2258976716548204e-05,"elapsed_instrumentation":0.00013257304090075195,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":2790240}},{"id":426983,"event":"return","thread_id":9160,"parent_id":426980,"elapsed":0.00025976100005209446,"elapsed_instrumentation":0.0001045529788825661,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":2790260}},{"id":426984,"event":"return","thread_id":9160,"parent_id":426979,"elapsed":0.000389196997275576,"elapsed_instrumentation":0.00030915800016373396,"return_value":{"class":"String","value":"abcabcabcabcやゆよ","object_id":2790260}},{"id":426985,"event":"return","thread_id":9160,"parent_id":426978,"elapsed":0.0008779430063441396,"elapsed_instrumentation":0.00016217399388551712,"return_value":{"class":"ActiveRecord::Relation","value":"#<Tag::ActiveRecord_Relation:0x00007fdc07cd1690>","object_id":2790280}},{"id":426986,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"tags\".* FROM \"tags\" WHERE LOWER(\"tags\".\"name\") = LOWER('abcabcabcabcやゆよ')","database_type":"postgres"}},{"id":426987,"event":"return","thread_id":9160,"parent_id":426986,"elapsed":0.000780311,"elapsed_instrumentation":0.00010136299533769488}]}