{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ActivityPub::ProcessCollectionService #call when actor differs from sender when receiving a fabricated status does not process forged payload","source_location":"spec/services/activitypub/process_collection_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"keypair","type":"function","location":"app/models/account.rb:293","static":false},{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false}]},{"name":"concerns","type":"package","children":[{"name":"DomainMaterializable","type":"class","children":[{"name":"refresh_instances_view","type":"function","location":"app/models/concerns/domain_materializable.rb:12","static":false}]}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false},{"name":"local_domain?","type":"function","location":"app/lib/tag_manager.rb:13","static":false},{"name":"web_domain?","type":"function","location":"app/lib/tag_manager.rb:9","static":false}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"LinkedDataSignature","type":"class","children":[{"name":"verify_actor!","type":"function","location":"app/lib/activitypub/linked_data_signature.rb:12","static":false}]},{"name":"TagManager","type":"class","children":[{"name":"uri_to_actor","type":"function","location":"app/lib/activitypub/tag_manager.rb:168","static":false},{"name":"uri_to_resource","type":"function","location":"app/lib/activitypub/tag_manager.rb:172","static":false},{"name":"local_uri?","type":"function","location":"app/lib/activitypub/tag_manager.rb:152","static":false}]}]}]},{"name":"ostatus","type":"package","children":[{"name":"OStatus","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"local_id?","type":"function","location":"app/lib/ostatus/tag_manager.rb:59","static":false}]}]}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"JsonLdHelper","type":"class","children":[{"name":"compact","type":"function","location":"app/helpers/jsonld_helper.rb:80","static":false},{"name":"supported_context?","type":"function","location":"app/helpers/jsonld_helper.rb:58","static":false},{"name":"equals_or_includes?","type":"function","location":"app/helpers/jsonld_helper.rb:6","static":false},{"name":"value_or_id","type":"function","location":"app/helpers/jsonld_helper.rb:54","static":false},{"name":"canonicalize","type":"function","location":"app/helpers/jsonld_helper.rb:75","static":false},{"name":"patch_for_forwarding!","type":"function","location":"app/helpers/jsonld_helper.rb:105","static":false},{"name":"safe_for_forwarding?","type":"function","location":"app/helpers/jsonld_helper.rb:141","static":false}]},{"name":"ContextHelper","type":"class","children":[{"name":"full_context","type":"function","location":"app/helpers/context_helper.rb:37","static":false},{"name":"serialized_context","type":"function","location":"app/helpers/context_helper.rb:41","static":false}]}]}]},{"name":"lib/paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]}],"events":[{"id":1513705,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8283140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59d48>"}},{"id":1513706,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513707,"event":"return","thread_id":9160,"parent_id":1513706,"elapsed":2.5927991373464465e-05,"elapsed_instrumentation":0.0001421830093022436},{"id":1513708,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":8283180,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":1513709,"event":"return","thread_id":9160,"parent_id":1513708,"elapsed":0.00030972500098869205,"elapsed_instrumentation":0.00021586997900158167,"return_value":{"class":"String","value":"example.com","object_id":8283200}},{"id":1513710,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513711,"event":"return","thread_id":9160,"parent_id":1513710,"elapsed":1.7399986973032355e-05,"elapsed_instrumentation":0.00011865899432450533},{"id":1513712,"event":"return","thread_id":9160,"parent_id":1513705,"elapsed":0.001406096009304747,"elapsed_instrumentation":0.0008046319999266416,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa3ac30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b040 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b1f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa3b4c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":208720,"size":4}},{"id":1513713,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8283220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59898>"}},{"id":1513714,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":208780,"value":"#<UniqueUsernameValidator:0x00007fdc16b80188>"}},{"id":1513715,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1513716,"event":"return","thread_id":9160,"parent_id":1513715,"elapsed":0.000573565,"elapsed_instrumentation":0.00020860601216554642},{"id":1513717,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'natisha_cole3311' AND LOWER(\"accounts\".\"domain\") = 'example.com' LIMIT $1","database_type":"postgres"}},{"id":1513718,"event":"return","thread_id":9160,"parent_id":1513717,"elapsed":0.00218162,"elapsed_instrumentation":0.00010698300320655107},{"id":1513719,"event":"return","thread_id":9160,"parent_id":1513714,"elapsed":0.003880317002767697,"elapsed_instrumentation":0.0005119519773870707},{"id":1513720,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513721,"event":"return","thread_id":9160,"parent_id":1513720,"elapsed":1.6381993191316724e-05,"elapsed_instrumentation":0.00016341399168595672},{"id":1513722,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513723,"event":"return","thread_id":9160,"parent_id":1513722,"elapsed":8.445989806205034e-06,"elapsed_instrumentation":0.0001011290296446532},{"id":1513724,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513725,"event":"return","thread_id":9160,"parent_id":1513724,"elapsed":8.665985660627484e-06,"elapsed_instrumentation":9.052400127984583e-05},{"id":1513726,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513727,"event":"return","thread_id":9160,"parent_id":1513726,"elapsed":9.010022040456533e-06,"elapsed_instrumentation":8.368899580091238e-05},{"id":1513728,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513729,"event":"return","thread_id":9160,"parent_id":1513728,"elapsed":6.089016096666455e-06,"elapsed_instrumentation":0.00015826700837351382},{"id":1513730,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513731,"event":"return","thread_id":9160,"parent_id":1513730,"elapsed":4.885019734501839e-06,"elapsed_instrumentation":6.004699389450252e-05},{"id":1513732,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513733,"event":"return","thread_id":9160,"parent_id":1513732,"elapsed":4.183995770290494e-06,"elapsed_instrumentation":5.351100116968155e-05},{"id":1513734,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513735,"event":"return","thread_id":9160,"parent_id":1513734,"elapsed":4.290981451049447e-06,"elapsed_instrumentation":5.4746022215113044e-05},{"id":1513736,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513737,"event":"return","thread_id":9160,"parent_id":1513736,"elapsed":4.239002009853721e-06,"elapsed_instrumentation":5.3544994443655014e-05},{"id":1513738,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513739,"event":"return","thread_id":9160,"parent_id":1513738,"elapsed":4.464993253350258e-06,"elapsed_instrumentation":5.2400020649656653e-05},{"id":1513740,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513741,"event":"return","thread_id":9160,"parent_id":1513740,"elapsed":4.302011802792549e-06,"elapsed_instrumentation":5.210598465055227e-05},{"id":1513742,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513743,"event":"return","thread_id":9160,"parent_id":1513742,"elapsed":4.19098068960011e-06,"elapsed_instrumentation":5.316903116181493e-05},{"id":1513744,"event":"return","thread_id":9160,"parent_id":1513713,"elapsed":0.007482401008019224,"elapsed_instrumentation":0.00028758999542333186,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa57768 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57920 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57ab0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa57cb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58050 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58370 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa58e10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa590e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0aa59360 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":209280,"size":71}},{"id":1513745,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8283220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59898>"}},{"id":1513746,"event":"return","thread_id":9160,"parent_id":1513745,"elapsed":4.816014552488923e-06,"elapsed_instrumentation":0.0003398519766051322,"return_value":{"class":"Array","value":"[]","object_id":209300,"size":0}},{"id":1513747,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8283140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":208680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db59d48>"}},{"id":1513748,"event":"return","thread_id":9160,"parent_id":1513747,"elapsed":1.681997673586011e-05,"elapsed_instrumentation":0.0002004080160986632,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0aa3a730 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209320,"size":1}},{"id":1513749,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8283240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db532b8>"}},{"id":1513750,"event":"return","thread_id":9160,"parent_id":1513749,"elapsed":3.095800639130175e-05,"elapsed_instrumentation":0.0002026839938480407,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a933440 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209380,"size":1}},{"id":1513751,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8283240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db533f8>"}},{"id":1513752,"event":"return","thread_id":9160,"parent_id":1513751,"elapsed":4.539004294201732e-06,"elapsed_instrumentation":0.00025906998780556023,"return_value":{"class":"Array","value":"[]","object_id":209420,"size":0}},{"id":1513753,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8283260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db52f48>"}},{"id":1513754,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513755,"event":"return","thread_id":9160,"parent_id":1513754,"elapsed":8.141010766848922e-06,"elapsed_instrumentation":6.861198926344514e-05},{"id":1513756,"event":"return","thread_id":9160,"parent_id":1513753,"elapsed":0.00011011300375685096,"elapsed_instrumentation":0.0001278189884033054,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a89dcb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":209480,"size":1}},{"id":1513757,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":1513758,"event":"return","thread_id":9160,"parent_id":1513757,"elapsed":0.00279944,"elapsed_instrumentation":0.0002190559753216803},{"id":1513759,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8283260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db52f48>"}},{"id":1513760,"event":"return","thread_id":9160,"parent_id":1513759,"elapsed":0.000660775025608018,"elapsed_instrumentation":0.0007401969924103469,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a89daf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d940 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d788 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d418 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89d1e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89cf68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89cdb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89cbd0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a89c798 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":210380,"size":53}},{"id":1513761,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8283240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db533f8>"}},{"id":1513762,"event":"return","thread_id":9160,"parent_id":1513761,"elapsed":5.840003723278642e-06,"elapsed_instrumentation":0.00017487298464402556,"return_value":{"class":"Array","value":"[]","object_id":210400,"size":0}},{"id":1513763,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8283240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":209360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db532b8>"}},{"id":1513764,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":8283280,"value":"/avatars/original/missing.png"}},{"id":1513765,"event":"return","thread_id":9160,"parent_id":1513764,"elapsed":9.185599628835917e-05,"elapsed_instrumentation":0.00043609601561911404,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1513766,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":8283300,"value":"/headers/original/missing.png"}},{"id":1513767,"event":"return","thread_id":9160,"parent_id":1513766,"elapsed":2.695200964808464e-05,"elapsed_instrumentation":0.00021463597659021616,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1513768,"event":"return","thread_id":9160,"parent_id":1513763,"elapsed":0.0011305570078548044,"elapsed_instrumentation":0.000483353971503675,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a932f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932cc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932a18 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a932798 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":210580,"size":4}},{"id":1513769,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1513770,"event":"return","thread_id":9160,"parent_id":1513769,"elapsed":0.000744098,"elapsed_instrumentation":0.00019125998369418085},{"id":1513771,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8283320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":210620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db933e0>"}},{"id":1513772,"event":"return","thread_id":9160,"parent_id":1513771,"elapsed":5.317997420206666e-06,"elapsed_instrumentation":0.0002037459926214069,"return_value":{"class":"Array","value":"[]","object_id":210640,"size":0}},{"id":1513773,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8283320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":210620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0db933e0>"}},{"id":1513774,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283160,"value":"#<Account:0x00007fdc06205b40>"}},{"id":1513775,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1513776,"event":"return","thread_id":9160,"parent_id":1513775,"elapsed":0.00102546,"elapsed_instrumentation":0.00010268899495713413},{"id":1513777,"event":"return","thread_id":9160,"parent_id":1513774,"elapsed":0.0028742470021825284,"elapsed_instrumentation":0.0001192369672935456},{"id":1513778,"event":"return","thread_id":9160,"parent_id":1513773,"elapsed":0.0030841469997540116,"elapsed_instrumentation":0.00026368701946921647,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a5b4850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b44e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b40f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b39c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b2e88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a5b2618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":210660,"size":6}},{"id":1513779,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"compact","path":"app/helpers/jsonld_helper.rb","lineno":80,"static":false,"parameters":[{"name":"json","class":"Hash","object_id":8283340,"value":"{@context=>[https://www.w3.org/ns/activitystreams, , {object=>https://www.w3.org/ns/activitystreams#object}], id=>https://example.com/users/bob/fake-status/activity, type=>Create, actor=>https://example.com/users/bob, published=>2022-01-22T15:00:00Z, to=>[https://www.w3.org/ns/activitystreams#Public], cc=>[https://example.com/users/bob/followers], signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}, @id=>https://example.com/users/bob/statuses/107928807471117876/activity, @type=>https://www.w3.org/ns/activitystreams#Create (...5 more entries)}","kind":"req","size":15}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":8283360,"value":"#<ActivityPub::ProcessCollectionService:0x00007fdc08b4a190>"}},{"id":1513780,"event":"call","thread_id":9160,"defined_class":"ContextHelper","method_id":"full_context","path":"app/helpers/context_helper.rb","lineno":37,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":8283360,"value":"#<ActivityPub::ProcessCollectionService:0x00007fdc08b4a190>"}},{"id":1513781,"event":"call","thread_id":9160,"defined_class":"ContextHelper","method_id":"serialized_context","path":"app/helpers/context_helper.rb","lineno":41,"static":false,"parameters":[{"name":"named_contexts_map","class":"Hash","object_id":6526660,"value":"{:activitystreams=>https://www.w3.org/ns/activitystreams, :security=>https://w3id.org/security/v1}","kind":"req","size":2},{"name":"context_extensions_map","class":"Hash","object_id":6526680,"value":"{:manually_approves_followers=>{manuallyApprovesFollowers=>as:manuallyApprovesFollowers}, :sensitive=>{sensitive=>as:sensitive}, :hashtag=>{Hashtag=>as:Hashtag}, :moved_to=>{movedTo=>{@id=>as:movedTo, @type=>@id}}, :also_known_as=>{alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}}, :emoji=>{toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji}, :featured=>{toot=>http://joinmastodon.org/ns#, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}}, :property_value=>{schema=>http://schema.org#, PropertyValue=>schema:PropertyValue, value=>schema:value}, :atom_uri=>{ostatus=>http://ostatus.org#, atomUri=>ostatus:atomUri}, :conversation=>{ostatus=>http://ostatus.org#, inReplyToAtomUri=>ostatus:inReplyToAtomUri, conversation=>ostatus:conversation} (...8 more entries)}","kind":"req","size":18}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":8283360,"value":"#<ActivityPub::ProcessCollectionService:0x00007fdc08b4a190>"}},{"id":1513782,"event":"return","thread_id":9160,"parent_id":1513781,"elapsed":6.78200158290565e-05,"elapsed_instrumentation":0.0020805849926546216,"return_value":{"class":"Array","value":"[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}]","object_id":8283380,"size":3}},{"id":1513783,"event":"return","thread_id":9160,"parent_id":1513780,"elapsed":0.0022060900228098035,"elapsed_instrumentation":0.0012829409970436245,"return_value":{"class":"Array","value":"[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}]","object_id":8283380,"size":3}},{"id":1513784,"event":"return","thread_id":9160,"parent_id":1513779,"elapsed":0.03190377602004446,"elapsed_instrumentation":0.0031552000145893544,"return_value":{"class":"Hash","value":"{@context=>[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}], id=>https://example.com/users/bob/statuses/107928807471117876/activity, type=>Create, actor=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, object=>{id=>https://example.com/users/bob/statuses/107928807471117876, type=>Note, atomUri=>https://example.com/users/bob/statuses/107928807471117876, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation, attachment=>[], attributedTo=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, content=><p>hello world</p>, contentMap=>{en=><p>hello world</p>}, published=>2022-03-09T21:55:07Z (...5 more entries)}, published=>2022-03-09T21:55:07Z, to=>as:Public, signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}}","object_id":8283440,"size":9}},{"id":1513785,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"supported_context?","path":"app/helpers/jsonld_helper.rb","lineno":58,"static":false,"parameters":[{"name":"json","class":"Hash","object_id":8283440,"value":"{@context=>[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}], id=>https://example.com/users/bob/statuses/107928807471117876/activity, type=>Create, actor=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, object=>{id=>https://example.com/users/bob/statuses/107928807471117876, type=>Note, atomUri=>https://example.com/users/bob/statuses/107928807471117876, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation, attachment=>[], attributedTo=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, content=><p>hello world</p>, contentMap=>{en=><p>hello world</p>}, published=>2022-03-09T21:55:07Z (...5 more entries)}, published=>2022-03-09T21:55:07Z, to=>as:Public, signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}}","kind":"req","size":9}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":8283360,"value":"#<ActivityPub::ProcessCollectionService:0x00007fdc08b4a190>"}},{"id":1513786,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"equals_or_includes?","path":"app/helpers/jsonld_helper.rb","lineno":6,"static":false,"parameters":[{"name":"haystack","class":"Array","object_id":8283380,"value":"[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}]","kind":"req","size":3},{"name":"needle","class":"String","object_id":1031680,"value":"https://www.w3.org/ns/activitystreams","kind":"req"}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":8283360,"value":"#<ActivityPub::ProcessCollectionService:0x00007fdc08b4a190>"}},{"id":1513787,"event":"return","thread_id":9160,"parent_id":1513786,"elapsed":6.306014256551862e-06,"elapsed_instrumentation":0.0004921969957649708,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1513788,"event":"return","thread_id":9160,"parent_id":1513785,"elapsed":0.0005311389977578074,"elapsed_instrumentation":0.0009397509857080877,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1513789,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"value_or_id","path":"app/helpers/jsonld_helper.rb","lineno":54,"static":false,"parameters":[{"name":"value","class":"String","object_id":8283460,"value":"https://example.com/users/bob","kind":"req"}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":8283360,"value":"#<ActivityPub::ProcessCollectionService:0x00007fdc08b4a190>"}},{"id":1513790,"event":"return","thread_id":9160,"parent_id":1513789,"elapsed":4.364002961665392e-06,"elapsed_instrumentation":8.780401549302042e-05,"return_value":{"class":"String","value":"https://example.com/users/bob","object_id":8283460}},{"id":1513791,"event":"call","thread_id":9160,"defined_class":"ActivityPub::LinkedDataSignature","method_id":"verify_actor!","path":"app/lib/activitypub/linked_data_signature.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::LinkedDataSignature","object_id":8283480,"value":"#<ActivityPub::LinkedDataSignature:0x00007fdc068d7f18>"}},{"id":1513792,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_to_actor","path":"app/lib/activitypub/tag_manager.rb","lineno":168,"static":false,"parameters":[{"name":"uri","class":"String","object_id":8283500,"value":"https://example.com/users/bob#main-key","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":1513793,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_to_resource","path":"app/lib/activitypub/tag_manager.rb","lineno":172,"static":false,"parameters":[{"name":"uri","class":"String","object_id":8283500,"value":"https://example.com/users/bob#main-key","kind":"req"},{"name":"klass","class":"Class","object_id":36540,"value":"Account","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":1513794,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"local_uri?","path":"app/lib/activitypub/tag_manager.rb","lineno":152,"static":false,"parameters":[{"name":"uri","class":"String","object_id":8283500,"value":"https://example.com/users/bob#main-key","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":1513795,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":8283520,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":1513796,"event":"return","thread_id":9160,"parent_id":1513795,"elapsed":2.8847018256783485e-05,"elapsed_instrumentation":0.00018719301442615688},{"id":1513797,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"web_domain?","path":"app/lib/tag_manager.rb","lineno":9,"static":false,"parameters":[{"name":"domain","class":"String","object_id":8283520,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":1513798,"event":"return","thread_id":9160,"parent_id":1513797,"elapsed":1.5477999113500118e-05,"elapsed_instrumentation":0.00011460098903626204},{"id":1513799,"event":"return","thread_id":9160,"parent_id":1513794,"elapsed":0.0015092150133568794,"elapsed_instrumentation":0.0004526289994828403},{"id":1513800,"event":"call","thread_id":9160,"defined_class":"OStatus::TagManager","method_id":"local_id?","path":"app/lib/ostatus/tag_manager.rb","lineno":59,"static":false,"parameters":[{"name":"id","class":"String","object_id":8283500,"value":"https://example.com/users/bob#main-key","kind":"req"}],"receiver":{"class":"OStatus::TagManager","object_id":1016180,"value":"#<OStatus::TagManager:0x00007fdc0648ed80>"}},{"id":1513801,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"local_uri?","path":"app/lib/activitypub/tag_manager.rb","lineno":152,"static":false,"parameters":[{"name":"uri","class":"String","object_id":8283500,"value":"https://example.com/users/bob#main-key","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":1513802,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":8283540,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":1513803,"event":"return","thread_id":9160,"parent_id":1513802,"elapsed":1.8784019630402327e-05,"elapsed_instrumentation":0.00033779299701564014},{"id":1513804,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"web_domain?","path":"app/lib/tag_manager.rb","lineno":9,"static":false,"parameters":[{"name":"domain","class":"String","object_id":8283540,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":1513805,"event":"return","thread_id":9160,"parent_id":1513804,"elapsed":1.5227997209876776e-05,"elapsed_instrumentation":0.000266828021267429},{"id":1513806,"event":"return","thread_id":9160,"parent_id":1513801,"elapsed":0.0009525390050839633,"elapsed_instrumentation":0.00020846998086199164},{"id":1513807,"event":"return","thread_id":9160,"parent_id":1513800,"elapsed":0.001248030981514603,"elapsed_instrumentation":0.00017852199380286038},{"id":1513808,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"uri\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1513809,"event":"return","thread_id":9160,"parent_id":1513808,"elapsed":0.001454428,"elapsed_instrumentation":0.00044427902321331203},{"id":1513810,"event":"return","thread_id":9160,"parent_id":1513793,"elapsed":0.007804813008988276,"elapsed_instrumentation":0.00020847099949605763,"return_value":{"class":"Account","value":"#<Account:0x00007fdc062012c0>","object_id":8283560}},{"id":1513811,"event":"return","thread_id":9160,"parent_id":1513792,"elapsed":0.008046697010286152,"elapsed_instrumentation":9.814600343815982e-05,"return_value":{"class":"Account","value":"#<Account:0x00007fdc062012c0>","object_id":8283560}},{"id":1513812,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"canonicalize","path":"app/helpers/jsonld_helper.rb","lineno":75,"static":false,"parameters":[{"name":"json","class":"ActiveSupport::HashWithIndifferentAccess","object_id":8283580,"value":"{creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, @context=>https://w3id.org/identity/v1}","kind":"req","size":3}],"receiver":{"class":"ActivityPub::LinkedDataSignature","object_id":8283480,"value":"#<ActivityPub::LinkedDataSignature:0x00007fdc068d7f18>"}},{"id":1513813,"event":"return","thread_id":9160,"parent_id":1513812,"elapsed":0.011895378003828228,"elapsed_instrumentation":0.00042594800470396876,"return_value":{"class":"String","value":"_:c14n0 <http://purl.org/dc/terms/created> \"2022-03-09T21:57:25Z\"^^<http://www.w3.org/2001/XMLSchema (...99 more characters)","object_id":8283620}},{"id":1513814,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"canonicalize","path":"app/helpers/jsonld_helper.rb","lineno":75,"static":false,"parameters":[{"name":"json","class":"ActiveSupport::HashWithIndifferentAccess","object_id":8283640,"value":"{@context=>[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}], id=>https://example.com/users/bob/statuses/107928807471117876/activity, type=>Create, actor=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, object=>{id=>https://example.com/users/bob/statuses/107928807471117876, type=>Note, atomUri=>https://example.com/users/bob/statuses/107928807471117876, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation, attachment=>[], attributedTo=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, content=><p>hello world</p>, contentMap=>{en=><p>hello world</p>}, published=>2022-03-09T21:55:07Z (...5 more entries)}, published=>2022-03-09T21:55:07Z, to=>as:Public}","kind":"req","size":8}],"receiver":{"class":"ActivityPub::LinkedDataSignature","object_id":8283480,"value":"#<ActivityPub::LinkedDataSignature:0x00007fdc068d7f18>"}},{"id":1513815,"event":"return","thread_id":9160,"parent_id":1513814,"elapsed":0.025702963990624994,"elapsed_instrumentation":0.0024829320318531245,"return_value":{"class":"String","value":"<https://example.com/users/bob/statuses/107928807471117876/activity> <http://www.w3.org/1999/02/22-r (...3448 more characters)","object_id":8283660}},{"id":1513816,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283560,"value":"#<Account:0x00007fdc062012c0>"}},{"id":1513817,"event":"return","thread_id":9160,"parent_id":1513816,"elapsed":0.012089605996152386,"elapsed_instrumentation":0.0003598080074880272,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuuYyoyfsRkYnXRotMsId\nW3euBDDf","object_id":8283680}},{"id":1513818,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":1329880,"value":"m","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8283700,"value":"WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)"}},{"id":1513819,"event":"return","thread_id":9160,"parent_id":1513818,"elapsed":2.7758011128753424e-05,"elapsed_instrumentation":0.0003866729966830462,"return_value":{"class":"String","value":"Y__+B__442__S____i\u00171_\u0019_C\b__gm__Gc_!_\r1_K\u000eTL2___N_'\u0002__F_\f\u0017\u001b_i_:P-'_QS__3____^_9_iR_s\r____\u0011______^_v{_ (...156 more characters)","object_id":8283720}},{"id":1513820,"event":"return","thread_id":9160,"parent_id":1513791,"elapsed":0.06562970002414659,"elapsed_instrumentation":0.00017369797569699585,"return_value":{"class":"Account","value":"#<Account:0x00007fdc062012c0>","object_id":8283560}},{"id":1513821,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283560,"value":"#<Account:0x00007fdc062012c0>"}},{"id":1513822,"event":"return","thread_id":9160,"parent_id":1513821,"elapsed":5.498601240105927e-05,"elapsed_instrumentation":0.000207376986509189},{"id":1513823,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8283560,"value":"#<Account:0x00007fdc062012c0>"}},{"id":1513824,"event":"return","thread_id":9160,"parent_id":1513823,"elapsed":2.3227999918162823e-05,"elapsed_instrumentation":0.00010971300071105361},{"id":1513825,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"patch_for_forwarding!","path":"app/helpers/jsonld_helper.rb","lineno":105,"static":false,"parameters":[{"name":"original","class":"Hash","object_id":8283340,"value":"{@context=>[https://www.w3.org/ns/activitystreams, , {object=>https://www.w3.org/ns/activitystreams#object}], id=>https://example.com/users/bob/fake-status/activity, type=>Create, actor=>https://example.com/users/bob, published=>2022-01-22T15:00:00Z, to=>[https://www.w3.org/ns/activitystreams#Public], cc=>[https://example.com/users/bob/followers], signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}, @id=>https://example.com/users/bob/statuses/107928807471117876/activity, @type=>https://www.w3.org/ns/activitystreams#Create (...5 more entries)}","kind":"req","size":15},{"name":"compacted","class":"Hash","object_id":8283440,"value":"{@context=>[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}], id=>https://example.com/users/bob/statuses/107928807471117876/activity, type=>Create, actor=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, object=>{id=>https://example.com/users/bob/statuses/107928807471117876, type=>Note, atomUri=>https://example.com/users/bob/statuses/107928807471117876, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation, attachment=>[], attributedTo=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, content=><p>hello world</p>, contentMap=>{en=><p>hello world</p>}, published=>2022-03-09T21:55:07Z (...5 more entries)}, published=>2022-03-09T21:55:07Z, to=>as:Public, signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}}","kind":"req","size":9}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":8283360,"value":"#<ActivityPub::ProcessCollectionService:0x00007fdc08b4a190>"}},{"id":1513826,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"patch_for_forwarding!","path":"app/helpers/jsonld_helper.rb","lineno":105,"static":false,"parameters":[{"name":"original","class":"Hash","object_id":8283740,"value":"{id=>https://example.com/users/bob/fake-status, type=>Note, published=>2022-01-22T15:00:00Z, url=>https://www.youtube.com/watch?v=dQw4w9WgXcQ&feature=puck-was-here, attributedTo=>https://example.com/users/bob, to=>[https://www.w3.org/ns/activitystreams#Public], cc=>[https://example.com/users/bob/followers], sensitive=>false, atomUri=>https://example.com/users/bob/fake-status, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation (...15 more entries)}","kind":"req","size":25},{"name":"compacted","class":"Hash","object_id":8283760,"value":"{id=>https://example.com/users/bob/statuses/107928807471117876, type=>Note, atomUri=>https://example.com/users/bob/statuses/107928807471117876, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation, attachment=>[], attributedTo=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, content=><p>hello world</p>, contentMap=>{en=><p>hello world</p>}, published=>2022-03-09T21:55:07Z (...5 more entries)}","kind":"req","size":15}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":8283360,"value":"#<ActivityPub::ProcessCollectionService:0x00007fdc08b4a190>"}},{"id":1513827,"event":"return","thread_id":9160,"parent_id":1513826,"elapsed":0.0001235080126207322,"elapsed_instrumentation":0.0012210239947307855,"return_value":{"class":"Hash","value":"{id=>https://example.com/users/bob/fake-status, type=>Note, published=>2022-01-22T15:00:00Z, url=>https://www.youtube.com/watch?v=dQw4w9WgXcQ&feature=puck-was-here, attributedTo=>https://example.com/users/bob, to=>[https://www.w3.org/ns/activitystreams#Public], cc=>[https://example.com/users/bob/followers], sensitive=>false, atomUri=>https://example.com/users/bob/fake-status, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation (...15 more entries)}","object_id":8283780,"size":25}},{"id":1513828,"event":"return","thread_id":9160,"parent_id":1513825,"elapsed":0.0014773719885852188,"elapsed_instrumentation":0.0031574460153933614,"return_value":{"class":"Hash","value":"{id=>https://example.com/users/bob/fake-status/activity, type=>Create, actor=>https://example.com/users/bob, published=>2022-01-22T15:00:00Z, to=>[https://www.w3.org/ns/activitystreams#Public], cc=>[https://example.com/users/bob/followers], @id=>https://example.com/users/bob/statuses/107928807471117876/activity, @type=>https://www.w3.org/ns/activitystreams#Create, https://www.w3.org/ns/activitystreams#actor=>{@id=>https://example.com/users/bob}, https://www.w3.org/ns/activitystreams#cc=>{@id=>https://example.com/users/bob/followers} (...3 more entries)}","object_id":8283800,"size":13}},{"id":1513829,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"safe_for_forwarding?","path":"app/helpers/jsonld_helper.rb","lineno":141,"static":false,"parameters":[{"name":"original","class":"Hash","object_id":8283340,"value":"{@context=>[https://www.w3.org/ns/activitystreams, , {object=>https://www.w3.org/ns/activitystreams#object}], id=>https://example.com/users/bob/fake-status/activity, type=>Create, actor=>https://example.com/users/bob, published=>2022-01-22T15:00:00Z, to=>[https://www.w3.org/ns/activitystreams#Public], cc=>[https://example.com/users/bob/followers], signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}, @id=>https://example.com/users/bob/statuses/107928807471117876/activity, @type=>https://www.w3.org/ns/activitystreams#Create (...5 more entries)}","kind":"req","size":15},{"name":"compacted","class":"Hash","object_id":8283440,"value":"{@context=>[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}], id=>https://example.com/users/bob/statuses/107928807471117876/activity, type=>Create, actor=>https://example.com/users/bob, cc=>[https://example.com/users/bob/followers], object=>{id=>https://example.com/users/bob/statuses/107928807471117876, type=>Note, atomUri=>https://example.com/users/bob/statuses/107928807471117876, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation, attachment=>[], attributedTo=>https://example.com/users/bob, cc=>[https://example.com/users/bob/followers], content=><p>hello world</p>, contentMap=>{en=><p>hello world</p>}, published=>2022-03-09T21:55:07Z (...5 more entries)}, published=>2022-03-09T21:55:07Z, to=>[https://www.w3.org/ns/activitystreams#Public], signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}}","kind":"req","size":9}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":8283360,"value":"#<ActivityPub::ProcessCollectionService:0x00007fdc08b4a190>"}},{"id":1513830,"event":"return","thread_id":9160,"parent_id":1513829,"elapsed":3.9704988012090325e-05,"elapsed_instrumentation":0.0029231940279714763},{"id":1513831,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"statuses\" WHERE \"statuses\".\"deleted_at\" IS NULL AND \"statuses\".\"uri\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1513832,"event":"return","thread_id":9160,"parent_id":1513831,"elapsed":0.001547325,"elapsed_instrumentation":0.00010898799519054592}]}