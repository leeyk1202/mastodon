{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ActivityPub::ProcessCollectionService #call when actor differs from sender when receiving a fabricated status does not process forged payload","source_location":"spec/services/activitypub/process_collection_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"keypair","type":"function","location":"app/models/account.rb:293","static":false},{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false}]},{"name":"concerns","type":"package","children":[{"name":"DomainMaterializable","type":"class","children":[{"name":"refresh_instances_view","type":"function","location":"app/models/concerns/domain_materializable.rb:12","static":false}]}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false},{"name":"local_domain?","type":"function","location":"app/lib/tag_manager.rb:13","static":false},{"name":"web_domain?","type":"function","location":"app/lib/tag_manager.rb:9","static":false}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"LinkedDataSignature","type":"class","children":[{"name":"verify_actor!","type":"function","location":"app/lib/activitypub/linked_data_signature.rb:12","static":false}]},{"name":"TagManager","type":"class","children":[{"name":"uri_to_actor","type":"function","location":"app/lib/activitypub/tag_manager.rb:168","static":false},{"name":"uri_to_resource","type":"function","location":"app/lib/activitypub/tag_manager.rb:172","static":false},{"name":"local_uri?","type":"function","location":"app/lib/activitypub/tag_manager.rb:152","static":false}]}]}]},{"name":"ostatus","type":"package","children":[{"name":"OStatus","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"local_id?","type":"function","location":"app/lib/ostatus/tag_manager.rb:59","static":false}]}]}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"JsonLdHelper","type":"class","children":[{"name":"compact","type":"function","location":"app/helpers/jsonld_helper.rb:80","static":false},{"name":"supported_context?","type":"function","location":"app/helpers/jsonld_helper.rb:58","static":false},{"name":"equals_or_includes?","type":"function","location":"app/helpers/jsonld_helper.rb:6","static":false},{"name":"value_or_id","type":"function","location":"app/helpers/jsonld_helper.rb:54","static":false},{"name":"canonicalize","type":"function","location":"app/helpers/jsonld_helper.rb:75","static":false},{"name":"patch_for_forwarding!","type":"function","location":"app/helpers/jsonld_helper.rb:105","static":false},{"name":"safe_for_forwarding?","type":"function","location":"app/helpers/jsonld_helper.rb:141","static":false}]},{"name":"ContextHelper","type":"class","children":[{"name":"full_context","type":"function","location":"app/helpers/context_helper.rb:37","static":false},{"name":"serialized_context","type":"function","location":"app/helpers/context_helper.rb:41","static":false}]}]}]},{"name":"lib/paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]}],"events":[{"id":2956455,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14635060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":2956456,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956457,"event":"return","thread_id":9160,"parent_id":2956456,"elapsed":1.8588965758681297e-05,"elapsed_instrumentation":7.639103569090366e-05},{"id":2956458,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":14635100,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2956459,"event":"return","thread_id":9160,"parent_id":2956458,"elapsed":0.00018327502766624093,"elapsed_instrumentation":0.0001065949909389019,"return_value":{"class":"String","value":"example.com","object_id":14635120}},{"id":2956460,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956461,"event":"return","thread_id":9160,"parent_id":2956460,"elapsed":1.5350000467151403e-05,"elapsed_instrumentation":0.0002719779731705785},{"id":2956462,"event":"return","thread_id":9160,"parent_id":2956455,"elapsed":0.0008308659889735281,"elapsed_instrumentation":0.0002492329804226756,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28e78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b2b5d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323140,"size":4}},{"id":2956463,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14635140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":2956464,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":323320,"value":"#<UniqueUsernameValidator:0x00007fc9402767b0>"}},{"id":2956465,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2956466,"event":"return","thread_id":9160,"parent_id":2956465,"elapsed":0.000398889,"elapsed_instrumentation":9.244203101843596e-05},{"id":2956467,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'francesco7195' AND LOWER(\"accounts\".\"domain\") = 'example.com' LIMIT $1","database_type":"postgres"}},{"id":2956468,"event":"return","thread_id":9160,"parent_id":2956467,"elapsed":0.001481186,"elapsed_instrumentation":7.208000170066953e-05},{"id":2956469,"event":"return","thread_id":9160,"parent_id":2956464,"elapsed":0.0026630510110408068,"elapsed_instrumentation":0.00011626898776739836},{"id":2956470,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956471,"event":"return","thread_id":9160,"parent_id":2956470,"elapsed":8.32101795822382e-06,"elapsed_instrumentation":8.59599094837904e-05},{"id":2956472,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956473,"event":"return","thread_id":9160,"parent_id":2956472,"elapsed":4.175992216914892e-06,"elapsed_instrumentation":6.351503543555737e-05},{"id":2956474,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956475,"event":"return","thread_id":9160,"parent_id":2956474,"elapsed":4.073954187333584e-06,"elapsed_instrumentation":5.335005698725581e-05},{"id":2956476,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956477,"event":"return","thread_id":9160,"parent_id":2956476,"elapsed":3.892986569553614e-06,"elapsed_instrumentation":4.905997775495052e-05},{"id":2956478,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956479,"event":"return","thread_id":9160,"parent_id":2956478,"elapsed":3.8130092434585094e-06,"elapsed_instrumentation":4.715897375717759e-05},{"id":2956480,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956481,"event":"return","thread_id":9160,"parent_id":2956480,"elapsed":3.904977347701788e-06,"elapsed_instrumentation":4.739599535241723e-05},{"id":2956482,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956483,"event":"return","thread_id":9160,"parent_id":2956482,"elapsed":4.004978109151125e-06,"elapsed_instrumentation":4.791002720594406e-05},{"id":2956484,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956485,"event":"return","thread_id":9160,"parent_id":2956484,"elapsed":4.0209852159023285e-06,"elapsed_instrumentation":4.655297379940748e-05},{"id":2956486,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956487,"event":"return","thread_id":9160,"parent_id":2956486,"elapsed":3.982044290751219e-06,"elapsed_instrumentation":4.626903682947159e-05},{"id":2956488,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956489,"event":"return","thread_id":9160,"parent_id":2956488,"elapsed":7.542024832218885e-06,"elapsed_instrumentation":9.217706974595785e-05},{"id":2956490,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956491,"event":"return","thread_id":9160,"parent_id":2956490,"elapsed":4.292989615350962e-06,"elapsed_instrumentation":5.528202746063471e-05},{"id":2956492,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956493,"event":"return","thread_id":9160,"parent_id":2956492,"elapsed":3.97401163354516e-06,"elapsed_instrumentation":5.0430011469870806e-05},{"id":2956494,"event":"return","thread_id":9160,"parent_id":2956463,"elapsed":0.004980886995326728,"elapsed_instrumentation":0.0004826629883609712,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939c310e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c31f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c320d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32468 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c325f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32a08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c337f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":323620,"size":71}},{"id":2956495,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14635140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":2956496,"event":"return","thread_id":9160,"parent_id":2956495,"elapsed":3.4609693102538586e-06,"elapsed_instrumentation":0.00020657904678955674,"return_value":{"class":"Array","value":"[]","object_id":323640,"size":0}},{"id":2956497,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14635060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":2956498,"event":"return","thread_id":9160,"parent_id":2956497,"elapsed":1.3049051631242037e-05,"elapsed_instrumentation":0.00012543197954073548,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28b08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323660,"size":1}},{"id":2956499,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14635160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":2956500,"event":"return","thread_id":9160,"parent_id":2956499,"elapsed":2.2638007067143917e-05,"elapsed_instrumentation":9.20390011742711e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93912dae0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323720,"size":1}},{"id":2956501,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14635160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":2956502,"event":"return","thread_id":9160,"parent_id":2956501,"elapsed":2.634013071656227e-06,"elapsed_instrumentation":7.121800445020199e-05,"return_value":{"class":"Array","value":"[]","object_id":323760,"size":0}},{"id":2956503,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14635180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":2956504,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956505,"event":"return","thread_id":9160,"parent_id":2956504,"elapsed":5.557958502322435e-06,"elapsed_instrumentation":5.5518001317977905e-05},{"id":2956506,"event":"return","thread_id":9160,"parent_id":2956503,"elapsed":8.721102494746447e-05,"elapsed_instrumentation":9.268301073461771e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939190c58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323820,"size":1}},{"id":2956507,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":2956508,"event":"return","thread_id":9160,"parent_id":2956507,"elapsed":0.001715672,"elapsed_instrumentation":7.85189913585782e-05},{"id":2956509,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14635180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":2956510,"event":"return","thread_id":9160,"parent_id":2956509,"elapsed":0.00038893899181857705,"elapsed_instrumentation":0.0002328180125914514,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93920f3f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920eea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e540 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920dff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920d140 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920c448 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920adf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":325440,"size":53}},{"id":2956511,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14635160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":2956512,"event":"return","thread_id":9160,"parent_id":2956511,"elapsed":3.912951797246933e-06,"elapsed_instrumentation":8.59019928611815e-05,"return_value":{"class":"Array","value":"[]","object_id":325460,"size":0}},{"id":2956513,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14635160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":2956514,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":14635200,"value":"/avatars/original/missing.png"}},{"id":2956515,"event":"return","thread_id":9160,"parent_id":2956514,"elapsed":3.279896918684244e-05,"elapsed_instrumentation":0.00022049504332244396,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2956516,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":14635220,"value":"/headers/original/missing.png"}},{"id":2956517,"event":"return","thread_id":9160,"parent_id":2956516,"elapsed":2.2238993551582098e-05,"elapsed_instrumentation":0.00014298001769930124,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2956518,"event":"return","thread_id":9160,"parent_id":2956513,"elapsed":0.0010421779588796198,"elapsed_instrumentation":0.00013686605961993337,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939129148 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939125ef8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939121470 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939120b88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":325520,"size":4}},{"id":2956519,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2956520,"event":"return","thread_id":9160,"parent_id":2956519,"elapsed":0.000489168,"elapsed_instrumentation":7.50980107113719e-05},{"id":2956521,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14635240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":2956522,"event":"return","thread_id":9160,"parent_id":2956521,"elapsed":3.5169650800526142e-06,"elapsed_instrumentation":0.00011637702118605375,"return_value":{"class":"Array","value":"[]","object_id":328300,"size":0}},{"id":2956523,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14635240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":2956524,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635080,"value":"#<Account:0x00007fc8e1745020>"}},{"id":2956525,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2956526,"event":"return","thread_id":9160,"parent_id":2956525,"elapsed":0.000798329,"elapsed_instrumentation":9.667198173701763e-05},{"id":2956527,"event":"return","thread_id":9160,"parent_id":2956524,"elapsed":0.001889305014628917,"elapsed_instrumentation":6.452901288866997e-05},{"id":2956528,"event":"return","thread_id":9160,"parent_id":2956523,"elapsed":0.002015164995100349,"elapsed_instrumentation":0.00017474498599767685,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc938945850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc938942a10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855fba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855f0b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855ebb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855de40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":328320,"size":6}},{"id":2956529,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"compact","path":"app/helpers/jsonld_helper.rb","lineno":80,"static":false,"parameters":[{"name":"json","class":"Hash","object_id":14635260,"value":"{@context=>[https://www.w3.org/ns/activitystreams, , {object=>https://www.w3.org/ns/activitystreams#object}], id=>https://example.com/users/bob/fake-status/activity, type=>Create, actor=>https://example.com/users/bob, published=>2022-01-22T15:00:00Z, to=>[https://www.w3.org/ns/activitystreams#Public], cc=>[https://example.com/users/bob/followers], signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}, @id=>https://example.com/users/bob/statuses/107928807471117876/activity, @type=>https://www.w3.org/ns/activitystreams#Create (...5 more entries)}","kind":"req","size":15}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":14635280,"value":"#<ActivityPub::ProcessCollectionService:0x00007fc8e1553f28>"}},{"id":2956530,"event":"call","thread_id":9160,"defined_class":"ContextHelper","method_id":"full_context","path":"app/helpers/context_helper.rb","lineno":37,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":14635280,"value":"#<ActivityPub::ProcessCollectionService:0x00007fc8e1553f28>"}},{"id":2956531,"event":"call","thread_id":9160,"defined_class":"ContextHelper","method_id":"serialized_context","path":"app/helpers/context_helper.rb","lineno":41,"static":false,"parameters":[{"name":"named_contexts_map","class":"Hash","object_id":2949940,"value":"{:activitystreams=>https://www.w3.org/ns/activitystreams, :security=>https://w3id.org/security/v1}","kind":"req","size":2},{"name":"context_extensions_map","class":"Hash","object_id":2949960,"value":"{:manually_approves_followers=>{manuallyApprovesFollowers=>as:manuallyApprovesFollowers}, :sensitive=>{sensitive=>as:sensitive}, :hashtag=>{Hashtag=>as:Hashtag}, :moved_to=>{movedTo=>{@id=>as:movedTo, @type=>@id}}, :also_known_as=>{alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}}, :emoji=>{toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji}, :featured=>{toot=>http://joinmastodon.org/ns#, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}}, :property_value=>{schema=>http://schema.org#, PropertyValue=>schema:PropertyValue, value=>schema:value}, :atom_uri=>{ostatus=>http://ostatus.org#, atomUri=>ostatus:atomUri}, :conversation=>{ostatus=>http://ostatus.org#, inReplyToAtomUri=>ostatus:inReplyToAtomUri, conversation=>ostatus:conversation} (...8 more entries)}","kind":"req","size":18}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":14635280,"value":"#<ActivityPub::ProcessCollectionService:0x00007fc8e1553f28>"}},{"id":2956532,"event":"return","thread_id":9160,"parent_id":2956531,"elapsed":4.7944020479917526e-05,"elapsed_instrumentation":0.0018736739875748754,"return_value":{"class":"Array","value":"[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}]","object_id":14635300,"size":3}},{"id":2956533,"event":"return","thread_id":9160,"parent_id":2956530,"elapsed":0.0019533379818312824,"elapsed_instrumentation":0.0004010770935565233,"return_value":{"class":"Array","value":"[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}]","object_id":14635300,"size":3}},{"id":2956534,"event":"return","thread_id":9160,"parent_id":2956529,"elapsed":0.020221587968990207,"elapsed_instrumentation":0.0015428310143761337,"return_value":{"class":"Hash","value":"{@context=>[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}], id=>https://example.com/users/bob/statuses/107928807471117876/activity, type=>Create, actor=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, object=>{id=>https://example.com/users/bob/statuses/107928807471117876, type=>Note, atomUri=>https://example.com/users/bob/statuses/107928807471117876, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation, attachment=>[], attributedTo=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, content=><p>hello world</p>, contentMap=>{en=><p>hello world</p>}, published=>2022-03-09T21:55:07Z (...5 more entries)}, published=>2022-03-09T21:55:07Z, to=>as:Public, signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}}","object_id":14635360,"size":9}},{"id":2956535,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"supported_context?","path":"app/helpers/jsonld_helper.rb","lineno":58,"static":false,"parameters":[{"name":"json","class":"Hash","object_id":14635360,"value":"{@context=>[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}], id=>https://example.com/users/bob/statuses/107928807471117876/activity, type=>Create, actor=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, object=>{id=>https://example.com/users/bob/statuses/107928807471117876, type=>Note, atomUri=>https://example.com/users/bob/statuses/107928807471117876, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation, attachment=>[], attributedTo=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, content=><p>hello world</p>, contentMap=>{en=><p>hello world</p>}, published=>2022-03-09T21:55:07Z (...5 more entries)}, published=>2022-03-09T21:55:07Z, to=>as:Public, signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}}","kind":"req","size":9}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":14635280,"value":"#<ActivityPub::ProcessCollectionService:0x00007fc8e1553f28>"}},{"id":2956536,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"equals_or_includes?","path":"app/helpers/jsonld_helper.rb","lineno":6,"static":false,"parameters":[{"name":"haystack","class":"Array","object_id":14635300,"value":"[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}]","kind":"req","size":3},{"name":"needle","class":"String","object_id":1463480,"value":"https://www.w3.org/ns/activitystreams","kind":"req"}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":14635280,"value":"#<ActivityPub::ProcessCollectionService:0x00007fc8e1553f28>"}},{"id":2956537,"event":"return","thread_id":9160,"parent_id":2956536,"elapsed":4.757021088153124e-06,"elapsed_instrumentation":0.0003274670452810824,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2956538,"event":"return","thread_id":9160,"parent_id":2956535,"elapsed":0.0003599210176616907,"elapsed_instrumentation":0.0009705619886517525,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2956539,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"value_or_id","path":"app/helpers/jsonld_helper.rb","lineno":54,"static":false,"parameters":[{"name":"value","class":"String","object_id":14635380,"value":"https://example.com/users/bob","kind":"req"}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":14635280,"value":"#<ActivityPub::ProcessCollectionService:0x00007fc8e1553f28>"}},{"id":2956540,"event":"return","thread_id":9160,"parent_id":2956539,"elapsed":1.0135001502931118e-05,"elapsed_instrumentation":0.00011642300523817539,"return_value":{"class":"String","value":"https://example.com/users/bob","object_id":14635380}},{"id":2956541,"event":"call","thread_id":9160,"defined_class":"ActivityPub::LinkedDataSignature","method_id":"verify_actor!","path":"app/lib/activitypub/linked_data_signature.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::LinkedDataSignature","object_id":14635400,"value":"#<ActivityPub::LinkedDataSignature:0x00007fc9186817d8>"}},{"id":2956542,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_to_actor","path":"app/lib/activitypub/tag_manager.rb","lineno":168,"static":false,"parameters":[{"name":"uri","class":"String","object_id":14635420,"value":"https://example.com/users/bob#main-key","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2956543,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_to_resource","path":"app/lib/activitypub/tag_manager.rb","lineno":172,"static":false,"parameters":[{"name":"uri","class":"String","object_id":14635420,"value":"https://example.com/users/bob#main-key","kind":"req"},{"name":"klass","class":"Class","object_id":36600,"value":"Account","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2956544,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"local_uri?","path":"app/lib/activitypub/tag_manager.rb","lineno":152,"static":false,"parameters":[{"name":"uri","class":"String","object_id":14635420,"value":"https://example.com/users/bob#main-key","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2956545,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":14635440,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2956546,"event":"return","thread_id":9160,"parent_id":2956545,"elapsed":2.106797182932496e-05,"elapsed_instrumentation":0.0003570860135369003},{"id":2956547,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"web_domain?","path":"app/lib/tag_manager.rb","lineno":9,"static":false,"parameters":[{"name":"domain","class":"String","object_id":14635440,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2956548,"event":"return","thread_id":9160,"parent_id":2956547,"elapsed":8.383009117096663e-06,"elapsed_instrumentation":6.80590164847672e-05},{"id":2956549,"event":"return","thread_id":9160,"parent_id":2956544,"elapsed":0.0007312469533644617,"elapsed_instrumentation":6.001698784530163e-05},{"id":2956550,"event":"call","thread_id":9160,"defined_class":"OStatus::TagManager","method_id":"local_id?","path":"app/lib/ostatus/tag_manager.rb","lineno":59,"static":false,"parameters":[{"name":"id","class":"String","object_id":14635420,"value":"https://example.com/users/bob#main-key","kind":"req"}],"receiver":{"class":"OStatus::TagManager","object_id":2257200,"value":"#<OStatus::TagManager:0x00007fc932c38d38>"}},{"id":2956551,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"local_uri?","path":"app/lib/activitypub/tag_manager.rb","lineno":152,"static":false,"parameters":[{"name":"uri","class":"String","object_id":14635420,"value":"https://example.com/users/bob#main-key","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2956552,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":14635460,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2956553,"event":"return","thread_id":9160,"parent_id":2956552,"elapsed":8.769973646849394e-06,"elapsed_instrumentation":7.856398588046432e-05},{"id":2956554,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"web_domain?","path":"app/lib/tag_manager.rb","lineno":9,"static":false,"parameters":[{"name":"domain","class":"String","object_id":14635460,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2956555,"event":"return","thread_id":9160,"parent_id":2956554,"elapsed":1.2065982446074486e-05,"elapsed_instrumentation":0.0002616180572658777},{"id":2956556,"event":"return","thread_id":9160,"parent_id":2956551,"elapsed":0.0005860940436832607,"elapsed_instrumentation":6.758701056241989e-05},{"id":2956557,"event":"return","thread_id":9160,"parent_id":2956550,"elapsed":0.0006745639839209616,"elapsed_instrumentation":6.716902134940028e-05},{"id":2956558,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"uri\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2956559,"event":"return","thread_id":9160,"parent_id":2956558,"elapsed":0.001164421,"elapsed_instrumentation":0.00010006502270698547},{"id":2956560,"event":"return","thread_id":9160,"parent_id":2956543,"elapsed":0.004230296995956451,"elapsed_instrumentation":0.0003028210485354066,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1742460>","object_id":14635480}},{"id":2956561,"event":"return","thread_id":9160,"parent_id":2956542,"elapsed":0.004565286042634398,"elapsed_instrumentation":0.00012992502888664603,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1742460>","object_id":14635480}},{"id":2956562,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"canonicalize","path":"app/helpers/jsonld_helper.rb","lineno":75,"static":false,"parameters":[{"name":"json","class":"ActiveSupport::HashWithIndifferentAccess","object_id":14635500,"value":"{creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, @context=>https://w3id.org/identity/v1}","kind":"req","size":3}],"receiver":{"class":"ActivityPub::LinkedDataSignature","object_id":14635400,"value":"#<ActivityPub::LinkedDataSignature:0x00007fc9186817d8>"}},{"id":2956563,"event":"return","thread_id":9160,"parent_id":2956562,"elapsed":0.004092581977602094,"elapsed_instrumentation":0.00018361600814387202,"return_value":{"class":"String","value":"_:c14n0 <http://purl.org/dc/terms/created> \"2022-03-09T21:57:25Z\"^^<http://www.w3.org/2001/XMLSchema (...99 more characters)","object_id":14635520}},{"id":2956564,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"canonicalize","path":"app/helpers/jsonld_helper.rb","lineno":75,"static":false,"parameters":[{"name":"json","class":"ActiveSupport::HashWithIndifferentAccess","object_id":14635540,"value":"{@context=>[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}], id=>https://example.com/users/bob/statuses/107928807471117876/activity, type=>Create, actor=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, object=>{id=>https://example.com/users/bob/statuses/107928807471117876, type=>Note, atomUri=>https://example.com/users/bob/statuses/107928807471117876, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation, attachment=>[], attributedTo=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, content=><p>hello world</p>, contentMap=>{en=><p>hello world</p>}, published=>2022-03-09T21:55:07Z (...5 more entries)}, published=>2022-03-09T21:55:07Z, to=>as:Public}","kind":"req","size":8}],"receiver":{"class":"ActivityPub::LinkedDataSignature","object_id":14635400,"value":"#<ActivityPub::LinkedDataSignature:0x00007fc9186817d8>"}},{"id":2956565,"event":"return","thread_id":9160,"parent_id":2956564,"elapsed":0.01448202901519835,"elapsed_instrumentation":0.0008638589642941952,"return_value":{"class":"String","value":"<https://example.com/users/bob/statuses/107928807471117876/activity> <http://www.w3.org/1999/02/22-r (...3448 more characters)","object_id":14635560}},{"id":2956566,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635480,"value":"#<Account:0x00007fc8e1742460>"}},{"id":2956567,"event":"return","thread_id":9160,"parent_id":2956566,"elapsed":0.00011603400344029069,"elapsed_instrumentation":0.00017848802963271737,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuuYyoyfsRkYnXRotMsId\nW3euBDDf","object_id":14635580}},{"id":2956568,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":998320,"value":"m","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14635600,"value":"WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)"}},{"id":2956569,"event":"return","thread_id":9160,"parent_id":2956568,"elapsed":5.415990017354488e-06,"elapsed_instrumentation":0.00012977799633517861,"return_value":{"class":"String","value":"Y__+B__442__S____i\u00171_\u0019_C\b__gm__Gc_!_\r1_K\u000eTL2___N_'\u0002__F_\f\u0017\u001b_i_:P-'_QS__3____^_9_iR_s\r____\u0011______^_v{_ (...156 more characters)","object_id":14635620}},{"id":2956570,"event":"return","thread_id":9160,"parent_id":2956541,"elapsed":0.02520417596679181,"elapsed_instrumentation":0.00011269800597801805,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1742460>","object_id":14635480}},{"id":2956571,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635480,"value":"#<Account:0x00007fc8e1742460>"}},{"id":2956572,"event":"return","thread_id":9160,"parent_id":2956571,"elapsed":3.10440082103014e-05,"elapsed_instrumentation":5.8763951528817415e-05},{"id":2956573,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14635480,"value":"#<Account:0x00007fc8e1742460>"}},{"id":2956574,"event":"return","thread_id":9160,"parent_id":2956573,"elapsed":1.6080972272902727e-05,"elapsed_instrumentation":5.494803190231323e-05},{"id":2956575,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"patch_for_forwarding!","path":"app/helpers/jsonld_helper.rb","lineno":105,"static":false,"parameters":[{"name":"original","class":"Hash","object_id":14635260,"value":"{@context=>[https://www.w3.org/ns/activitystreams, , {object=>https://www.w3.org/ns/activitystreams#object}], id=>https://example.com/users/bob/fake-status/activity, type=>Create, actor=>https://example.com/users/bob, published=>2022-01-22T15:00:00Z, to=>[https://www.w3.org/ns/activitystreams#Public], cc=>[https://example.com/users/bob/followers], signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}, @id=>https://example.com/users/bob/statuses/107928807471117876/activity, @type=>https://www.w3.org/ns/activitystreams#Create (...5 more entries)}","kind":"req","size":15},{"name":"compacted","class":"Hash","object_id":14635360,"value":"{@context=>[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}], id=>https://example.com/users/bob/statuses/107928807471117876/activity, type=>Create, actor=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, object=>{id=>https://example.com/users/bob/statuses/107928807471117876, type=>Note, atomUri=>https://example.com/users/bob/statuses/107928807471117876, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation, attachment=>[], attributedTo=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, content=><p>hello world</p>, contentMap=>{en=><p>hello world</p>}, published=>2022-03-09T21:55:07Z (...5 more entries)}, published=>2022-03-09T21:55:07Z, to=>as:Public, signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}}","kind":"req","size":9}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":14635280,"value":"#<ActivityPub::ProcessCollectionService:0x00007fc8e1553f28>"}},{"id":2956576,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"patch_for_forwarding!","path":"app/helpers/jsonld_helper.rb","lineno":105,"static":false,"parameters":[{"name":"original","class":"Hash","object_id":14635640,"value":"{id=>https://example.com/users/bob/fake-status, type=>Note, published=>2022-01-22T15:00:00Z, url=>https://www.youtube.com/watch?v=dQw4w9WgXcQ&feature=puck-was-here, attributedTo=>https://example.com/users/bob, to=>[https://www.w3.org/ns/activitystreams#Public], cc=>[https://example.com/users/bob/followers], sensitive=>false, atomUri=>https://example.com/users/bob/fake-status, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation (...15 more entries)}","kind":"req","size":25},{"name":"compacted","class":"Hash","object_id":14635660,"value":"{id=>https://example.com/users/bob/statuses/107928807471117876, type=>Note, atomUri=>https://example.com/users/bob/statuses/107928807471117876, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation, attachment=>[], attributedTo=>https://example.com/users/bob, cc=>https://example.com/users/bob/followers, content=><p>hello world</p>, contentMap=>{en=><p>hello world</p>}, published=>2022-03-09T21:55:07Z (...5 more entries)}","kind":"req","size":15}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":14635280,"value":"#<ActivityPub::ProcessCollectionService:0x00007fc8e1553f28>"}},{"id":2956577,"event":"return","thread_id":9160,"parent_id":2956576,"elapsed":3.633199958130717e-05,"elapsed_instrumentation":0.0005205229972489178,"return_value":{"class":"Hash","value":"{id=>https://example.com/users/bob/fake-status, type=>Note, published=>2022-01-22T15:00:00Z, url=>https://www.youtube.com/watch?v=dQw4w9WgXcQ&feature=puck-was-here, attributedTo=>https://example.com/users/bob, to=>[https://www.w3.org/ns/activitystreams#Public], cc=>[https://example.com/users/bob/followers], sensitive=>false, atomUri=>https://example.com/users/bob/fake-status, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation (...15 more entries)}","object_id":14635680,"size":25}},{"id":2956578,"event":"return","thread_id":9160,"parent_id":2956575,"elapsed":0.000711918983142823,"elapsed_instrumentation":0.0016705150483176112,"return_value":{"class":"Hash","value":"{id=>https://example.com/users/bob/fake-status/activity, type=>Create, actor=>https://example.com/users/bob, published=>2022-01-22T15:00:00Z, to=>[https://www.w3.org/ns/activitystreams#Public], cc=>[https://example.com/users/bob/followers], @id=>https://example.com/users/bob/statuses/107928807471117876/activity, @type=>https://www.w3.org/ns/activitystreams#Create, https://www.w3.org/ns/activitystreams#actor=>{@id=>https://example.com/users/bob}, https://www.w3.org/ns/activitystreams#cc=>{@id=>https://example.com/users/bob/followers} (...3 more entries)}","object_id":14635700,"size":13}},{"id":2956579,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"safe_for_forwarding?","path":"app/helpers/jsonld_helper.rb","lineno":141,"static":false,"parameters":[{"name":"original","class":"Hash","object_id":14635260,"value":"{@context=>[https://www.w3.org/ns/activitystreams, , {object=>https://www.w3.org/ns/activitystreams#object}], id=>https://example.com/users/bob/fake-status/activity, type=>Create, actor=>https://example.com/users/bob, published=>2022-01-22T15:00:00Z, to=>[https://www.w3.org/ns/activitystreams#Public], cc=>[https://example.com/users/bob/followers], signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}, @id=>https://example.com/users/bob/statuses/107928807471117876/activity, @type=>https://www.w3.org/ns/activitystreams#Create (...5 more entries)}","kind":"req","size":15},{"name":"compacted","class":"Hash","object_id":14635360,"value":"{@context=>[https://www.w3.org/ns/activitystreams, https://w3id.org/security/v1, {manuallyApprovesFollowers=>as:manuallyApprovesFollowers, sensitive=>as:sensitive, Hashtag=>as:Hashtag, movedTo=>{@id=>as:movedTo, @type=>@id}, alsoKnownAs=>{@id=>as:alsoKnownAs, @type=>@id}, toot=>http://joinmastodon.org/ns#, Emoji=>toot:Emoji, featured=>{@id=>toot:featured, @type=>@id}, featuredTags=>{@id=>toot:featuredTags, @type=>@id}, schema=>http://schema.org# (...27 more entries)}], id=>https://example.com/users/bob/statuses/107928807471117876/activity, type=>Create, actor=>https://example.com/users/bob, cc=>[https://example.com/users/bob/followers], object=>{id=>https://example.com/users/bob/statuses/107928807471117876, type=>Note, atomUri=>https://example.com/users/bob/statuses/107928807471117876, conversation=>tag:example.com,2022-03-09:objectId=15:objectType=Conversation, attachment=>[], attributedTo=>https://example.com/users/bob, cc=>[https://example.com/users/bob/followers], content=><p>hello world</p>, contentMap=>{en=><p>hello world</p>}, published=>2022-03-09T21:55:07Z (...5 more entries)}, published=>2022-03-09T21:55:07Z, to=>[https://www.w3.org/ns/activitystreams#Public], signature=>{type=>RsaSignature2017, creator=>https://example.com/users/bob#main-key, created=>2022-03-09T21:57:25Z, signatureValue=>WculK0LelTQ0MvGwU9TPoq5pFzFfGYRDCJqjZ232/Udj4CHqDTGOSw5UTDLShqBOyycCkbZGrQwXG+dpyDpQLSe1UVPZ5TPQtc/9 (...244 more characters)}}","kind":"req","size":9}],"receiver":{"class":"ActivityPub::ProcessCollectionService","object_id":14635280,"value":"#<ActivityPub::ProcessCollectionService:0x00007fc8e1553f28>"}},{"id":2956580,"event":"return","thread_id":9160,"parent_id":2956579,"elapsed":2.370803849771619e-05,"elapsed_instrumentation":0.000951089954469353},{"id":2956581,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"statuses\" WHERE \"statuses\".\"deleted_at\" IS NULL AND \"statuses\".\"uri\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2956582,"event":"return","thread_id":9160,"parent_id":2956581,"elapsed":0.001010749,"elapsed_instrumentation":9.865796891972423e-05}]}