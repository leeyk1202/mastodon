{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Settings subcommand \"registrations\" #open changes \"registrations_mode\" to \"open\"","source_location":"spec/lib/mastodon/cli/settings_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app/models","type":"package","children":[{"name":"Setting","type":"class","children":[{"name":"[]","type":"function","location":"app/models/setting.rb:24","static":true}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Registrations","type":"class","children":[{"name":"open","type":"function","location":"lib/mastodon/cli/settings.rb:8","static":false}]}]}]}]},{"name":"psych","type":"package","children":[{"name":"Psych","type":"class","children":[{"name":"dump","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/psych-5.1.1/lib/psych.rb:505","static":true,"labels":["format.yaml.generate","serialize"]},{"name":"parse","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/psych-5.1.1/lib/psych.rb:398","static":true,"labels":["format.yaml.parse"]},{"name":"parse_stream","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/psych-5.1.1/lib/psych.rb:452","static":true,"labels":["format.yaml.parse"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]}],"events":[{"id":821121,"event":"call","thread_id":9160,"defined_class":"Setting","method_id":"[]","path":"app/models/setting.rb","lineno":24,"static":true,"parameters":[{"name":"key","class":"String","object_id":5008320,"value":"registrations_mode","kind":"req"}],"receiver":{"class":"Class","object_id":61700,"value":"Setting"}},{"id":821122,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5008340,"value":"Cache read: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/registrations_mode ({:compress=>f (...34 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":821123,"event":"return","thread_id":9160,"parent_id":821122,"elapsed":0.0011302340135443956,"elapsed_instrumentation":0.00020101401605643332,"return_value":{"class":"Integer","value":"134","object_id":269}},{"id":821124,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5008360,"value":"Cache fetch_hit: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/registrations_mode ({:compre (...39 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":821125,"event":"return","thread_id":9160,"parent_id":821124,"elapsed":0.0011255799909122288,"elapsed_instrumentation":0.0004464479861781001,"return_value":{"class":"Integer","value":"139","object_id":279}},{"id":821126,"event":"return","thread_id":9160,"parent_id":821121,"elapsed":0.0035455090110190213,"elapsed_instrumentation":0.00022417600848712027},{"id":821127,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Registrations","method_id":"open","path":"lib/mastodon/cli/settings.rb","lineno":8,"static":false,"parameters":[],"receiver":{"class":"Mastodon::CLI::Registrations","object_id":5008380,"value":"#<Mastodon::CLI::Registrations:0x00007fdc09129890>"}},{"id":821128,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"settings\".* FROM \"settings\" WHERE (thing_type is NULL and thing_id is NULL) AND \"settings\".\"var\" = $1 ORDER BY \"settings\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":821129,"event":"return","thread_id":9160,"parent_id":821128,"elapsed":0.001137321,"elapsed_instrumentation":0.00011141301365569234},{"id":821130,"event":"call","thread_id":9160,"defined_class":"Psych","method_id":"dump","path":"vendor/bundle/ruby/3.2.0/gems/psych-5.1.1/lib/psych.rb","lineno":505,"static":true,"parameters":[{"name":"o","class":"String","object_id":1104780,"value":"open","kind":"req"},{"name":"io","class":"Hash","object_id":5008400,"value":"{}","kind":"opt","size":0},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Module","object_id":208920,"value":"Psych"}},{"id":821131,"event":"return","thread_id":9160,"parent_id":821130,"elapsed":0.00017566498718224466,"elapsed_instrumentation":0.0002102630096487701,"return_value":{"class":"String","value":"--- open\n","object_id":5008420}},{"id":821132,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5008440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":821133,"event":"return","thread_id":9160,"parent_id":821132,"elapsed":2.8864014893770218e-05,"elapsed_instrumentation":0.00023166299797594547,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":821134,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5008460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1104880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07346fa8>"}},{"id":821135,"event":"return","thread_id":9160,"parent_id":821134,"elapsed":1.742801396176219e-05,"elapsed_instrumentation":0.00015064698527567089,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc05f6f110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1104900,"size":1}},{"id":821136,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5008460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1104880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07346fa8>"}},{"id":821137,"event":"return","thread_id":9160,"parent_id":821136,"elapsed":6.7150103859603405e-06,"elapsed_instrumentation":0.00043803200242109597,"return_value":{"class":"Array","value":"[]","object_id":1104920,"size":0}},{"id":821138,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5008440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":821139,"event":"return","thread_id":9160,"parent_id":821138,"elapsed":3.690016455948353e-06,"elapsed_instrumentation":0.00010171098983846605,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":821140,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5008480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1104960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07346d78>"}},{"id":821141,"event":"return","thread_id":9160,"parent_id":821140,"elapsed":2.4716020561754704e-05,"elapsed_instrumentation":0.0001022069773171097,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc05f6cac8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1104980,"size":1}},{"id":821142,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":821143,"event":"return","thread_id":9160,"parent_id":821142,"elapsed":0.000608072,"elapsed_instrumentation":9.936498827300966e-05},{"id":821144,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"settings\" SET \"value\" = $1, \"updated_at\" = $2 WHERE \"settings\".\"id\" = $3","database_type":"postgres"}},{"id":821145,"event":"return","thread_id":9160,"parent_id":821144,"elapsed":0.002190469,"elapsed_instrumentation":0.000257934007095173},{"id":821146,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5008480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1104960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07346d78>"}},{"id":821147,"event":"return","thread_id":9160,"parent_id":821146,"elapsed":6.54999166727066e-06,"elapsed_instrumentation":0.0001569290179759264,"return_value":{"class":"Array","value":"[]","object_id":1105000,"size":0}},{"id":821148,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":821149,"event":"return","thread_id":9160,"parent_id":821148,"elapsed":0.00039987,"elapsed_instrumentation":7.350801024585962e-05},{"id":821150,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5008520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1105060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07346148>"}},{"id":821151,"event":"return","thread_id":9160,"parent_id":821150,"elapsed":3.441993612796068e-06,"elapsed_instrumentation":0.00012500298907980323,"return_value":{"class":"Array","value":"[]","object_id":1105080,"size":0}},{"id":821152,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5008520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1105060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07346148>"}},{"id":821153,"event":"call","thread_id":9160,"defined_class":"Psych","method_id":"parse","path":"vendor/bundle/ruby/3.2.0/gems/psych-5.1.1/lib/psych.rb","lineno":398,"static":true,"parameters":[{"name":"yaml","class":"String","object_id":5008540,"value":"--- open\n","kind":"req"},{"name":"filename","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Module","object_id":208920,"value":"Psych"}},{"id":821154,"event":"call","thread_id":9160,"defined_class":"Psych","method_id":"parse_stream","path":"vendor/bundle/ruby/3.2.0/gems/psych-5.1.1/lib/psych.rb","lineno":452,"static":true,"parameters":[{"name":"yaml","class":"String","object_id":5008540,"value":"--- open\n","kind":"req"},{"name":"filename","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Module","object_id":208920,"value":"Psych"}},{"id":821155,"event":"return","thread_id":9160,"parent_id":821154,"elapsed":0.00040056099533103406,"elapsed_instrumentation":8.734798757359385e-05},{"id":821156,"event":"return","thread_id":9160,"parent_id":821153,"elapsed":0.0005157660052645952,"elapsed_instrumentation":0.00014537700917571783,"return_value":{"class":"Psych::Nodes::Document","value":"#<Psych::Nodes::Document:0x00007fdc075a8d50>","object_id":5008560}},{"id":821157,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5008580,"value":"Cache write: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/registrations_mode ({:compress=> (...35 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":821158,"event":"return","thread_id":9160,"parent_id":821157,"elapsed":0.0009726120042614639,"elapsed_instrumentation":0.0001502980012446642,"return_value":{"class":"Integer","value":"135","object_id":271}},{"id":821159,"event":"return","thread_id":9160,"parent_id":821152,"elapsed":0.0022441500041168183,"elapsed_instrumentation":0.00012608800898306072,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc05f67230 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc05f67078 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1105160,"size":2}},{"id":821160,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5008600,"value":"Cache write: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/registrations_mode ({:compress=> (...35 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":821161,"event":"return","thread_id":9160,"parent_id":821160,"elapsed":0.0013990979932714254,"elapsed_instrumentation":0.00041808100650087,"return_value":{"class":"Integer","value":"135","object_id":271}},{"id":821162,"event":"return","thread_id":9160,"parent_id":821127,"elapsed":0.016563192999456078,"elapsed_instrumentation":0.00023420702200382948,"return_value":{"class":"IO","value":"#<IO:0x00007fdc21298f60>","object_id":4113040}},{"id":821163,"event":"call","thread_id":9160,"defined_class":"Setting","method_id":"[]","path":"app/models/setting.rb","lineno":24,"static":true,"parameters":[{"name":"key","class":"String","object_id":5008660,"value":"registrations_mode","kind":"req"}],"receiver":{"class":"Class","object_id":61700,"value":"Setting"}},{"id":821164,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5008680,"value":"Cache read: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/registrations_mode ({:compress=>f (...34 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":821165,"event":"return","thread_id":9160,"parent_id":821164,"elapsed":0.0011678469891194254,"elapsed_instrumentation":0.00019338898709975183,"return_value":{"class":"Integer","value":"134","object_id":269}},{"id":821166,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5008700,"value":"Cache fetch_hit: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/registrations_mode ({:compre (...39 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":821167,"event":"return","thread_id":9160,"parent_id":821166,"elapsed":0.0017241449968423694,"elapsed_instrumentation":0.0001525169936940074,"return_value":{"class":"Integer","value":"139","object_id":279}},{"id":821168,"event":"return","thread_id":9160,"parent_id":821163,"elapsed":0.0037620759976562113,"elapsed_instrumentation":0.00018714601173996925,"return_value":{"class":"String","value":"open","object_id":5008720}}]}