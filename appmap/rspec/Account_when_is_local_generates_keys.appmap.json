{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Account when is local generates keys","source_location":"spec/models/account_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"keypair","type":"function","location":"app/models/account.rb:293","static":false}]},{"name":"Setting","type":"class","children":[{"name":"[]","type":"function","location":"app/models/setting.rb:24","static":true},{"name":"default_settings","type":"function","location":"app/models/setting.rb:55","static":true}]},{"name":"concerns","type":"package","children":[{"name":"DomainMaterializable","type":"class","children":[{"name":"refresh_instances_view","type":"function","location":"app/models/concerns/domain_materializable.rb:12","static":false}]}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]},{"name":"UnreservedUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unreserved_username_validator.rb:4","static":false}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Marshal","type":"class","children":[{"name":"dump","type":"function","location":"Marshal.dump","static":true,"labels":["serialize"]},{"name":"load","type":"function","location":"<internal:marshal>:33","static":true,"labels":["deserialize.unsafe"]}]}]},{"name":"lib/paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false}]}]}]}],"events":[{"id":683171,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4410820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":683172,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683173,"event":"return","thread_id":9160,"parent_id":683172,"elapsed":1.3559998478740454e-05,"elapsed_instrumentation":0.00013168604345992208,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683174,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683175,"event":"return","thread_id":9160,"parent_id":683174,"elapsed":7.218972314149141e-06,"elapsed_instrumentation":0.00010611902689561248,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683176,"event":"return","thread_id":9160,"parent_id":683171,"elapsed":0.0005555370007641613,"elapsed_instrumentation":0.00027646805392578244,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28e78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b2b5d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323140,"size":4}},{"id":683177,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4410860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":683178,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":323320,"value":"#<UniqueUsernameValidator:0x00007fc9402767b0>"}},{"id":683179,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":683180,"event":"return","thread_id":9160,"parent_id":683179,"elapsed":0.00056024,"elapsed_instrumentation":0.00028210197342559695},{"id":683181,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'bruno' AND LOWER(\"accounts\".\"domain\") IS NULL LIMIT $1","database_type":"postgres"}},{"id":683182,"event":"return","thread_id":9160,"parent_id":683181,"elapsed":0.002357428,"elapsed_instrumentation":0.00010264402953907847},{"id":683183,"event":"return","thread_id":9160,"parent_id":683178,"elapsed":0.003879090945702046,"elapsed_instrumentation":0.0002063009887933731},{"id":683184,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683185,"event":"return","thread_id":9160,"parent_id":683184,"elapsed":1.603603595867753e-05,"elapsed_instrumentation":0.00014864298282191157,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683186,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683187,"event":"return","thread_id":9160,"parent_id":683186,"elapsed":6.280955858528614e-06,"elapsed_instrumentation":8.84010223671794e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683188,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683189,"event":"return","thread_id":9160,"parent_id":683188,"elapsed":5.264009814709425e-06,"elapsed_instrumentation":8.312897989526391e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683190,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683191,"event":"return","thread_id":9160,"parent_id":683190,"elapsed":6.309011951088905e-06,"elapsed_instrumentation":8.514197543263435e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683192,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683193,"event":"return","thread_id":9160,"parent_id":683192,"elapsed":8.239992894232273e-06,"elapsed_instrumentation":7.628905586898327e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683194,"event":"call","thread_id":9160,"defined_class":"UnreservedUsernameValidator","method_id":"validate","path":"app/validators/unreserved_username_validator.rb","lineno":4,"static":false,"parameters":[{"name":"account","class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>","kind":"req"}],"receiver":{"class":"UnreservedUsernameValidator","object_id":323340,"value":"#<UnreservedUsernameValidator:0x00007fc94028c538>"}},{"id":683195,"event":"call","thread_id":9160,"defined_class":"Setting","method_id":"[]","path":"app/models/setting.rb","lineno":24,"static":true,"parameters":[{"name":"key","class":"String","object_id":4410880,"value":"reserved_usernames","kind":"req"}],"receiver":{"class":"Class","object_id":61700,"value":"Setting"}},{"id":683196,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":4410900,"value":"Cache read: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/reserved_usernames ({:compress=>f (...34 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":683197,"event":"return","thread_id":9160,"parent_id":683196,"elapsed":0.001158321974799037,"elapsed_instrumentation":0.00017124699661508203,"return_value":{"class":"Integer","value":"134","object_id":269}},{"id":683198,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":4410920,"value":"Cache generate: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/reserved_usernames ({:compres (...38 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":683199,"event":"return","thread_id":9160,"parent_id":683198,"elapsed":0.0009573220158927143,"elapsed_instrumentation":0.00015705398982390761,"return_value":{"class":"Integer","value":"138","object_id":277}},{"id":683200,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"settings\".* FROM \"settings\" WHERE (thing_type is NULL and thing_id is NULL) AND \"settings\".\"var\" = $1 ORDER BY \"settings\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":683201,"event":"return","thread_id":9160,"parent_id":683200,"elapsed":0.000805882,"elapsed_instrumentation":0.0003592920256778598},{"id":683202,"event":"call","thread_id":9160,"defined_class":"Setting","method_id":"default_settings","path":"app/models/setting.rb","lineno":55,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":61700,"value":"Setting"}},{"id":683203,"event":"return","thread_id":9160,"parent_id":683202,"elapsed":3.337999805808067e-05,"elapsed_instrumentation":0.00024284294340759516,"return_value":{"class":"RailsSettings::Default","value":"{site_title=>Mastodon, site_short_description=>, site_description=>, site_extended_description=>, site_terms=>, site_contact_username=>, site_contact_email=>, registrations_mode=>open, profile_directory=>true, closed_registrations_message=> (...18 more entries)}","object_id":323420,"size":28}},{"id":683204,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":4410940,"value":"Cache write: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/reserved_usernames ({:compress=> (...35 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":683205,"event":"return","thread_id":9160,"parent_id":683204,"elapsed":0.0012985049979761243,"elapsed_instrumentation":0.00012471299851313233,"return_value":{"class":"Integer","value":"135","object_id":271}},{"id":683206,"event":"call","thread_id":9160,"defined_class":"Marshal","method_id":"dump","path":"Marshal.dump","static":true,"parameters":[{"name":"arg","class":"Array","object_id":4410960,"value":"[[admin, support, help, root, webmaster, administrator, mod, moderator]]","kind":"rest","size":1}],"receiver":{"class":"Module","object_id":318180,"value":"Marshal"}},{"id":683207,"event":"return","thread_id":9160,"parent_id":683206,"elapsed":1.7206009943038225e-05,"elapsed_instrumentation":0.00016772892558947206,"return_value":{"class":"String","value":"\u0004\b[\rI\"\nadmin\u0006:\u0006ETI\"\fsupport\u0006;\u0000TI\"\thelp\u0006;\u0000TI\"\troot\u0006;\u0000TI\"\u000ewebmaster\u0006;\u0000TI\"\u0012administrator\u0006;\u0000TI\"\bmod\u0006;\u0000TI (...15 more characters)","object_id":4410980}},{"id":683208,"event":"return","thread_id":9160,"parent_id":683195,"elapsed":0.008256902976427227,"elapsed_instrumentation":0.00015181500930339098,"return_value":{"class":"Array","value":"[admin, support, help, root, webmaster, administrator, mod, moderator]","object_id":323500,"size":8}},{"id":683209,"event":"call","thread_id":9160,"defined_class":"Setting","method_id":"[]","path":"app/models/setting.rb","lineno":24,"static":true,"parameters":[{"name":"key","class":"String","object_id":4411000,"value":"reserved_usernames","kind":"req"}],"receiver":{"class":"Class","object_id":61700,"value":"Setting"}},{"id":683210,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":4411020,"value":"Cache read: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/reserved_usernames ({:compress=>f (...34 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":683211,"event":"return","thread_id":9160,"parent_id":683210,"elapsed":0.0012470560031943023,"elapsed_instrumentation":0.0001965740229934454,"return_value":{"class":"Integer","value":"134","object_id":269}},{"id":683212,"event":"call","thread_id":9160,"defined_class":"Marshal","method_id":"load","path":"<internal:marshal>","lineno":33,"static":true,"parameters":[{"name":"source","class":"String","object_id":4410980,"value":"\u0004\b[\rI\"\nadmin\u0006:\u0006ETI\"\fsupport\u0006;\u0000TI\"\thelp\u0006;\u0000TI\"\troot\u0006;\u0000TI\"\u000ewebmaster\u0006;\u0000TI\"\u0012administrator\u0006;\u0000TI\"\bmod\u0006;\u0000TI (...15 more characters)","kind":"req"},{"name":"arg","class":"Array","object_id":4411040,"value":"[]","kind":"rest","size":0}],"receiver":{"class":"Module","object_id":318180,"value":"Marshal"}},{"id":683213,"event":"return","thread_id":9160,"parent_id":683212,"elapsed":2.0900974050164223e-05,"elapsed_instrumentation":0.0004933990421704948,"return_value":{"class":"Array","value":"[admin, support, help, root, webmaster, administrator, mod, moderator]","object_id":4411060,"size":8}},{"id":683214,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":4411080,"value":"Cache fetch_hit: rails_settings_cached/7236420e1d6bc0e8bb3d1d7df7c57de7/reserved_usernames ({:compre (...39 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":683215,"event":"return","thread_id":9160,"parent_id":683214,"elapsed":0.001062144001480192,"elapsed_instrumentation":0.00024631700944155455,"return_value":{"class":"Integer","value":"139","object_id":279}},{"id":683216,"event":"return","thread_id":9160,"parent_id":683209,"elapsed":0.0038718149880878627,"elapsed_instrumentation":0.0001993319601751864,"return_value":{"class":"Array","value":"[admin, support, help, root, webmaster, administrator, mod, moderator]","object_id":4411060,"size":8}},{"id":683217,"event":"return","thread_id":9160,"parent_id":683194,"elapsed":0.012658444989938289,"elapsed_instrumentation":0.00011594494571909308},{"id":683218,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683219,"event":"return","thread_id":9160,"parent_id":683218,"elapsed":1.5101977623999119e-05,"elapsed_instrumentation":0.0002236620057374239,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683220,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683221,"event":"return","thread_id":9160,"parent_id":683220,"elapsed":1.331500243395567e-05,"elapsed_instrumentation":0.0001476239995099604,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683222,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683223,"event":"return","thread_id":9160,"parent_id":683222,"elapsed":5.585025064647198e-06,"elapsed_instrumentation":8.066697046160698e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683224,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683225,"event":"return","thread_id":9160,"parent_id":683224,"elapsed":3.9529986679553986e-06,"elapsed_instrumentation":6.245699478313327e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683226,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683227,"event":"return","thread_id":9160,"parent_id":683226,"elapsed":4.7559733502566814e-06,"elapsed_instrumentation":6.162701174616814e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683228,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683229,"event":"return","thread_id":9160,"parent_id":683228,"elapsed":4.531990271061659e-06,"elapsed_instrumentation":5.82659849897027e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683230,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683231,"event":"return","thread_id":9160,"parent_id":683230,"elapsed":6.567977834492922e-06,"elapsed_instrumentation":6.749399472028017e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683232,"event":"return","thread_id":9160,"parent_id":683177,"elapsed":0.020444842986762524,"elapsed_instrumentation":0.000287344038952142,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939c310e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c31f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c320d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32468 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c325f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32a08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c337f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":323620,"size":71}},{"id":683233,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4410860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":683234,"event":"return","thread_id":9160,"parent_id":683233,"elapsed":4.260975401848555e-06,"elapsed_instrumentation":0.00014363304944708943,"return_value":{"class":"Array","value":"[]","object_id":323640,"size":0}},{"id":683235,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4410820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":683236,"event":"return","thread_id":9160,"parent_id":683235,"elapsed":1.8176971934735775e-05,"elapsed_instrumentation":0.00010765797924250364,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28b08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323660,"size":1}},{"id":683237,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4411100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":683238,"event":"return","thread_id":9160,"parent_id":683237,"elapsed":3.1702977139502764e-05,"elapsed_instrumentation":0.0001817279844544828,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93912dae0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323720,"size":1}},{"id":683239,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4411100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":683240,"event":"return","thread_id":9160,"parent_id":683239,"elapsed":3.3520045690238476e-06,"elapsed_instrumentation":8.67370399646461e-05,"return_value":{"class":"Array","value":"[]","object_id":323760,"size":0}},{"id":683241,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4411120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":683242,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683243,"event":"return","thread_id":9160,"parent_id":683242,"elapsed":8.331029675900936e-06,"elapsed_instrumentation":0.00015349796740338206,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683244,"event":"return","thread_id":9160,"parent_id":683241,"elapsed":0.24364206701284274,"elapsed_instrumentation":0.000205955991987139,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939190c58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323820,"size":1}},{"id":683245,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":683246,"event":"return","thread_id":9160,"parent_id":683245,"elapsed":0.001956356,"elapsed_instrumentation":0.0001284449826925993},{"id":683247,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4411120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":683248,"event":"return","thread_id":9160,"parent_id":683247,"elapsed":0.0006419940036721528,"elapsed_instrumentation":0.000383033009711653,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93920f3f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920eea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e540 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920dff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920d140 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920c448 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920adf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":325440,"size":53}},{"id":683249,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4411100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":683250,"event":"return","thread_id":9160,"parent_id":683249,"elapsed":7.939001079648733e-06,"elapsed_instrumentation":0.0001350340317003429,"return_value":{"class":"Array","value":"[]","object_id":325460,"size":0}},{"id":683251,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4411100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":683252,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":4411140,"value":"/avatars/original/missing.png"}},{"id":683253,"event":"return","thread_id":9160,"parent_id":683252,"elapsed":3.9301987271755934e-05,"elapsed_instrumentation":0.00048206798965111375,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683254,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":4411160,"value":"/headers/original/missing.png"}},{"id":683255,"event":"return","thread_id":9160,"parent_id":683254,"elapsed":2.1863030269742012e-05,"elapsed_instrumentation":0.0001781639875844121,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":683256,"event":"return","thread_id":9160,"parent_id":683251,"elapsed":0.0010332890087738633,"elapsed_instrumentation":0.00017150805797427893,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939129148 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939125ef8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939121470 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939120b88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":325520,"size":4}},{"id":683257,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":683258,"event":"return","thread_id":9160,"parent_id":683257,"elapsed":0.000600591,"elapsed_instrumentation":0.00010640302207320929},{"id":683259,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4411180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":683260,"event":"return","thread_id":9160,"parent_id":683259,"elapsed":3.668013960123062e-06,"elapsed_instrumentation":0.00012280495138838887,"return_value":{"class":"Array","value":"[]","object_id":328300,"size":0}},{"id":683261,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4411180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":683262,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683263,"event":"return","thread_id":9160,"parent_id":683262,"elapsed":1.3245968148112297e-05,"elapsed_instrumentation":6.095395656302571e-05},{"id":683264,"event":"return","thread_id":9160,"parent_id":683261,"elapsed":0.00013026798842474818,"elapsed_instrumentation":0.0001389490207657218,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc938945850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc938942a10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855fba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855f0b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855ebb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855de40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":328320,"size":6}},{"id":683265,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683266,"event":"return","thread_id":9160,"parent_id":683265,"elapsed":0.00012606900418177247,"elapsed_instrumentation":0.0001224649604409933,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAxiVs4Ck76Y/2kNHuOD5sUXTnU1hY4TR+ISy9KeclqQ9iWkiD\nRpM","object_id":4411200}},{"id":683267,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4410840,"value":"#<Account:0x00007fc9328739a0>"}},{"id":683268,"event":"return","thread_id":9160,"parent_id":683267,"elapsed":3.7390273064374924e-06,"elapsed_instrumentation":0.00016855495050549507,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAxiVs4Ck76Y/2kNHuOD5sUXTnU1hY4TR+ISy9KeclqQ9iWkiD\nRpM","object_id":4411200}}]}