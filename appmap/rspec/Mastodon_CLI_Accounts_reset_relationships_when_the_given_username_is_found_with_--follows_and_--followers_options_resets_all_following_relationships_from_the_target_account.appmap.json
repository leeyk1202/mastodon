{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --follows and --followers options resets all \"following\" relationships from the target account","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"User","type":"class","children":[{"name":"those_who_can","type":"function","location":"app/models/user.rb:143","static":true}]},{"name":"UserRole","type":"class","children":[{"name":"that_can","type":"function","location":"app/models/user_role.rb:111","static":true},{"name":"can?","type":"function","location":"app/models/user_role.rb:131","static":false},{"name":"computed_permissions","type":"function","location":"app/models/user_role.rb:139","static":false},{"name":"everyone?","type":"function","location":"app/models/user_role.rb:115","static":false},{"name":"nobody?","type":"function","location":"app/models/user_role.rb:119","static":false},{"name":"everyone","type":"function","location":"app/models/user_role.rb:105","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"RequestPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/request_pool.rb:114","static":false}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:13","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:51","static":false}]}]}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]},{"name":"BootstrapTimelineWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/bootstrap_timeline_worker.rb:6","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":2898526,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":14326160,"value":"richard_wunsch6768","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14326180,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e0f497e0>"}},{"id":2898527,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":14326200,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc918d394b8>"}},{"id":2898528,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'richard_wunsch6768' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2898529,"event":"return","thread_id":9160,"parent_id":2898528,"elapsed":0.000731272,"elapsed_instrumentation":8.282496128231287e-05},{"id":2898530,"event":"return","thread_id":9160,"parent_id":2898527,"elapsed":0.0035486240522004664,"elapsed_instrumentation":0.00012035894906148314,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1764600>","object_id":14326220}},{"id":2898531,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1)","database_type":"postgres"}},{"id":2898532,"event":"return","thread_id":9160,"parent_id":2898531,"elapsed":0.000802213,"elapsed_instrumentation":8.21370049379766e-05},{"id":2898533,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1)","database_type":"postgres"}},{"id":2898534,"event":"return","thread_id":9160,"parent_id":2898533,"elapsed":0.000832157,"elapsed_instrumentation":8.181401062756777e-05},{"id":2898535,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14326180,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e0f497e0>"}},{"id":2898536,"event":"return","thread_id":9160,"parent_id":2898535,"elapsed":0.00010391697287559509,"elapsed_instrumentation":0.0002189310034736991,"return_value":{"class":"ProgressBar::Base","value":"","object_id":14326240}},{"id":2898537,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2898538,"event":"return","thread_id":9160,"parent_id":2898537,"elapsed":0.001580439,"elapsed_instrumentation":8.738500764593482e-05},{"id":2898539,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14326260,"value":"relationship:111361440139542978:111361440139542982","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14326280,"value":"#<UnfollowService:0x00007fc8e0f464f0>"}},{"id":2898540,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14326280,"value":"#<UnfollowService:0x00007fc8e0f464f0>"}},{"id":2898541,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14326300,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14326320,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898542,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898543,"event":"return","thread_id":9160,"parent_id":2898542,"elapsed":2.801010850816965e-06,"elapsed_instrumentation":6.76829949952662e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2898544,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14326340,"value":"_N__V _g0_3_\u0010J_"}},{"id":2898545,"event":"return","thread_id":9160,"parent_id":2898544,"elapsed":6.5909698605537415e-06,"elapsed_instrumentation":0.00011891900794580579,"return_value":{"class":"Array","value":"[3092162528, 22048, 32753, 26416, 41523, 3239070404]","object_id":14326360,"size":6}},{"id":2898546,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898547,"event":"return","thread_id":9160,"parent_id":2898546,"elapsed":0.000634724,"elapsed_instrumentation":9.178800974041224e-05},{"id":2898548,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14326380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898549,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898550,"event":"return","thread_id":9160,"parent_id":2898549,"elapsed":0.000580294,"elapsed_instrumentation":7.259903941303492e-05},{"id":2898551,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898552,"event":"return","thread_id":9160,"parent_id":2898551,"elapsed":0.00034517,"elapsed_instrumentation":6.119295721873641e-05},{"id":2898553,"event":"return","thread_id":9160,"parent_id":2898548,"elapsed":0.002626639965455979,"elapsed_instrumentation":0.00021284399554133415,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2898554,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2898555,"event":"return","thread_id":9160,"parent_id":2898554,"elapsed":0.000592636,"elapsed_instrumentation":6.707001011818647e-05},{"id":2898556,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14326380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898557,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2898558,"event":"return","thread_id":9160,"parent_id":2898557,"elapsed":0.000545631,"elapsed_instrumentation":6.597797619178891e-05},{"id":2898559,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898560,"event":"return","thread_id":9160,"parent_id":2898559,"elapsed":0.000582203,"elapsed_instrumentation":6.977200973778963e-05},{"id":2898561,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14326400,"value":"#<Account:0x00007fc8e1761b80>"}},{"id":2898562,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14326400,"value":"#<Account:0x00007fc8e1761b80>"}},{"id":2898563,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440139542982, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898564,"event":"return","thread_id":9160,"parent_id":2898563,"elapsed":0.000842789,"elapsed_instrumentation":7.294700480997562e-05},{"id":2898565,"event":"return","thread_id":9160,"parent_id":2898562,"elapsed":0.0013468909892253578,"elapsed_instrumentation":8.78850114531815e-05},{"id":2898566,"event":"return","thread_id":9160,"parent_id":2898561,"elapsed":0.0014603030285798013,"elapsed_instrumentation":0.00025479297619313},{"id":2898567,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898568,"event":"return","thread_id":9160,"parent_id":2898567,"elapsed":0.000566283,"elapsed_instrumentation":6.84579717926681e-05},{"id":2898569,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14326420,"value":"#<Account:0x00007fc8e1760b40>"}},{"id":2898570,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14326420,"value":"#<Account:0x00007fc8e1760b40>"}},{"id":2898571,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440139542978, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898572,"event":"return","thread_id":9160,"parent_id":2898571,"elapsed":0.000724619,"elapsed_instrumentation":6.251002196222544e-05},{"id":2898573,"event":"return","thread_id":9160,"parent_id":2898570,"elapsed":0.0013807720388285816,"elapsed_instrumentation":8.282298222184181e-05},{"id":2898574,"event":"return","thread_id":9160,"parent_id":2898569,"elapsed":0.0014859240036457777,"elapsed_instrumentation":0.00010851497063413262},{"id":2898575,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326400,"value":"#<Account:0x00007fc8e1761b80>"}},{"id":2898576,"event":"return","thread_id":9160,"parent_id":2898575,"elapsed":1.4147022739052773e-05,"elapsed_instrumentation":8.197198621928692e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898577,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326420,"value":"#<Account:0x00007fc8e1760b40>"}},{"id":2898578,"event":"return","thread_id":9160,"parent_id":2898577,"elapsed":7.707043550908566e-06,"elapsed_instrumentation":8.133793016895652e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898579,"event":"return","thread_id":9160,"parent_id":2898556,"elapsed":0.00963539199437946,"elapsed_instrumentation":0.00015029392670840025,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2898580,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14326440,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14326460,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2898581,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14326480,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14326500,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2898582,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2898583,"event":"return","thread_id":13276700,"parent_id":2898582,"elapsed":5.477981176227331e-06,"elapsed_instrumentation":6.542098708450794e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2898584,"event":"return","thread_id":13276700,"parent_id":2898581,"elapsed":8.836400229483843e-05,"elapsed_instrumentation":9.33299888856709e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2898585,"event":"return","thread_id":13276700,"parent_id":2898580,"elapsed":0.00020021997625008225,"elapsed_instrumentation":0.00014725199434906244,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2898586,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898587,"event":"return","thread_id":9160,"parent_id":2898586,"elapsed":0.000815475,"elapsed_instrumentation":6.52889721095562e-05},{"id":2898588,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14326540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898589,"event":"return","thread_id":9160,"parent_id":2898588,"elapsed":3.495020791888237e-06,"elapsed_instrumentation":0.00010315206600353122,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2898590,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14326540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898591,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14326560,"value":"Cache delete: relationship:111361440139542982:111361440139542978\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898592,"event":"return","thread_id":9160,"parent_id":2898591,"elapsed":0.0006729920278303325,"elapsed_instrumentation":9.859900455921888e-05,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898593,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14326580,"value":"Cache delete: relationship:111361440139542978:111361440139542982\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898594,"event":"return","thread_id":9160,"parent_id":2898593,"elapsed":0.0005891729961149395,"elapsed_instrumentation":0.00011752400314435363,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898595,"event":"return","thread_id":9160,"parent_id":2898590,"elapsed":0.0017356769531033933,"elapsed_instrumentation":0.00010106706758961082,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2898596,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326600,"value":"#<Account:0x00007fc8e1762f80>"}},{"id":2898597,"event":"return","thread_id":9160,"parent_id":2898596,"elapsed":1.317600253969431e-05,"elapsed_instrumentation":8.422904647886753e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898598,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326600,"value":"#<Account:0x00007fc8e1762f80>"}},{"id":2898599,"event":"return","thread_id":9160,"parent_id":2898598,"elapsed":3.7139980122447014e-06,"elapsed_instrumentation":6.263499381020665e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898600,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2898601,"event":"return","thread_id":9160,"parent_id":2898600,"elapsed":8.097966201603413e-06,"elapsed_instrumentation":5.636701826006174e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898602,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14326620,"value":"{args=>[111361440139542978, 111361440139542982], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14326640,"value":"#<Sidekiq::Client:0x00007fc918cc46b8>"}},{"id":2898603,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14326660,"value":"\u001e_\u001c______B_="}},{"id":2898604,"event":"return","thread_id":9160,"parent_id":2898603,"elapsed":4.842004273086786e-06,"elapsed_instrumentation":0.00016626203432679176,"return_value":{"class":"String","value":"1efd1c91a8d8d488c742f83d","object_id":14326680}},{"id":2898605,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14326700,"value":"[111361440139542978, 111361440139542982]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14326720,"value":"#<JSON::Ext::Generator::State:0x00007fc918cc2368>"}},{"id":2898606,"event":"return","thread_id":9160,"parent_id":2898605,"elapsed":5.998008418828249e-06,"elapsed_instrumentation":0.00011401897063478827,"return_value":{"class":"String","value":"[111361440139542978,111361440139542982]","object_id":14326740}},{"id":2898607,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14326760,"value":"#<JSON::Ext::Parser:0x00007fc918cc13c8>"}},{"id":2898608,"event":"return","thread_id":9160,"parent_id":2898607,"elapsed":5.30102988705039e-06,"elapsed_instrumentation":7.156893843784928e-05,"return_value":{"class":"Array","value":"[111361440139542978, 111361440139542982]","object_id":14326780,"size":2}},{"id":2898609,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14326800,"value":"N__\u0010av___\u001f_p"}},{"id":2898610,"event":"return","thread_id":9160,"parent_id":2898609,"elapsed":3.121036570519209e-06,"elapsed_instrumentation":9.923800826072693e-05,"return_value":{"class":"String","value":"4ea6da106176e4c1e11fa770","object_id":14326820}},{"id":2898611,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14326840,"value":"{retry=>true, queue=>pull, args=>[111361440139542978, 111361440139542982], class=>UnmergeWorker, jid=>1efd1c91a8d8d488c742f83d, created_at=>1699240725.7506816, id=>4ea6da106176e4c1e11fa770}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14326860,"value":"#<JSON::Ext::Generator::State:0x00007fc918cdf7d8>"}},{"id":2898612,"event":"return","thread_id":9160,"parent_id":2898611,"elapsed":1.5465018805116415e-05,"elapsed_instrumentation":0.00017376698087900877,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440139542978,111361440139542982],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14326880}},{"id":2898613,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14326900,"value":"#<JSON::Ext::Parser:0x00007fc918cdc650>"}},{"id":2898614,"event":"return","thread_id":9160,"parent_id":2898613,"elapsed":1.809396781027317e-05,"elapsed_instrumentation":0.00021496904082596302,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440139542978, 111361440139542982], class=>UnmergeWorker, jid=>1efd1c91a8d8d488c742f83d, created_at=>1699240725.7506816, id=>4ea6da106176e4c1e11fa770}","object_id":14326920,"size":7}},{"id":2898615,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880279085957,"value":"111361440139542978","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14326940,"value":"#<UnmergeWorker:0x00007fc918cda418>"}},{"id":2898616,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14326940,"value":"#<UnmergeWorker:0x00007fc918cda418>"}},{"id":2898617,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898618,"event":"return","thread_id":9160,"parent_id":2898617,"elapsed":0.000607148,"elapsed_instrumentation":7.058697519823909e-05},{"id":2898619,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898620,"event":"return","thread_id":9160,"parent_id":2898619,"elapsed":0.000581008,"elapsed_instrumentation":7.887301035225391e-05},{"id":2898621,"event":"return","thread_id":9160,"parent_id":2898616,"elapsed":0.00340499501908198,"elapsed_instrumentation":9.623798541724682e-05,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e177f158>","object_id":14326960}},{"id":2898622,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14326940,"value":"#<UnmergeWorker:0x00007fc918cda418>"}},{"id":2898623,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14326980,"value":"#<Account:0x00007fc8e177f298>","kind":"req"},{"name":"into_account","class":"Account","object_id":14326960,"value":"#<Account:0x00007fc8e177f158>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898624,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898625,"event":"return","thread_id":9160,"parent_id":2898624,"elapsed":1.2323027476668358e-05,"elapsed_instrumentation":0.00023862801026552916,"return_value":{"class":"String","value":"feed:home:111361440139542982","object_id":14327000}},{"id":2898626,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898627,"event":"return","thread_id":9160,"parent_id":2898626,"elapsed":4.909001290798187e-06,"elapsed_instrumentation":0.00010032299906015396,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2898628,"event":"return","thread_id":9160,"parent_id":2898623,"elapsed":0.0039377500070258975,"elapsed_instrumentation":0.00010237301466986537},{"id":2898629,"event":"return","thread_id":9160,"parent_id":2898622,"elapsed":0.004071919014677405,"elapsed_instrumentation":7.605698192492127e-05},{"id":2898630,"event":"return","thread_id":9160,"parent_id":2898615,"elapsed":0.00769187998957932,"elapsed_instrumentation":8.099502883851528e-05},{"id":2898631,"event":"return","thread_id":9160,"parent_id":2898602,"elapsed":0.00906923203729093,"elapsed_instrumentation":0.0001981009845621884,"return_value":{"class":"String","value":"1efd1c91a8d8d488c742f83d","object_id":14326680}},{"id":2898632,"event":"return","thread_id":9160,"parent_id":2898541,"elapsed":0.02990411501377821,"elapsed_instrumentation":0.00013752497034147382,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e17626c0>","object_id":14326520}},{"id":2898633,"event":"return","thread_id":9160,"parent_id":2898540,"elapsed":0.03006417100550607,"elapsed_instrumentation":7.729895878583193e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e17626c0>","object_id":14326520}},{"id":2898634,"event":"return","thread_id":9160,"parent_id":2898539,"elapsed":0.03017454902874306,"elapsed_instrumentation":0.0001687179901637137,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e17626c0>","object_id":14326520}},{"id":2898635,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14327020,"value":"relationship:111361440139542979:111361440139542982","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14327040,"value":"#<UnfollowService:0x00007fc8e0f5dee8>"}},{"id":2898636,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14327040,"value":"#<UnfollowService:0x00007fc8e0f5dee8>"}},{"id":2898637,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14327060,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14327080,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898638,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898639,"event":"return","thread_id":9160,"parent_id":2898638,"elapsed":3.029999788850546e-06,"elapsed_instrumentation":0.00010864099022001028,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2898640,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14327100,"value":"__ve__\r\\_\u001av\u001b_\"__"}},{"id":2898641,"event":"return","thread_id":9160,"parent_id":2898640,"elapsed":6.62199454382062e-06,"elapsed_instrumentation":0.00036604900378733873,"return_value":{"class":"Array","value":"[2778887781, 32967, 3420, 57114, 30235, 2904724430]","object_id":14327120,"size":6}},{"id":2898642,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898643,"event":"return","thread_id":9160,"parent_id":2898642,"elapsed":0.000744845,"elapsed_instrumentation":8.655601413920522e-05},{"id":2898644,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14327140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898645,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898646,"event":"return","thread_id":9160,"parent_id":2898645,"elapsed":0.000418256,"elapsed_instrumentation":7.824902422726154e-05},{"id":2898647,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898648,"event":"return","thread_id":9160,"parent_id":2898647,"elapsed":0.000352795,"elapsed_instrumentation":7.503200322389603e-05},{"id":2898649,"event":"return","thread_id":9160,"parent_id":2898644,"elapsed":0.0025689959875307977,"elapsed_instrumentation":0.00016214902279898524,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2898650,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2898651,"event":"return","thread_id":9160,"parent_id":2898650,"elapsed":0.000724344,"elapsed_instrumentation":7.619301322847605e-05},{"id":2898652,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14327140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898653,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2898654,"event":"return","thread_id":9160,"parent_id":2898653,"elapsed":0.000615609,"elapsed_instrumentation":7.305899634957314e-05},{"id":2898655,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898656,"event":"return","thread_id":9160,"parent_id":2898655,"elapsed":0.000675583,"elapsed_instrumentation":7.484701927751303e-05},{"id":2898657,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14327160,"value":"#<Account:0x00007fc8e177d998>"}},{"id":2898658,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14327160,"value":"#<Account:0x00007fc8e177d998>"}},{"id":2898659,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440139542982, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898660,"event":"return","thread_id":9160,"parent_id":2898659,"elapsed":0.001075108,"elapsed_instrumentation":7.152603939175606e-05},{"id":2898661,"event":"return","thread_id":9160,"parent_id":2898658,"elapsed":0.0016648570308461785,"elapsed_instrumentation":8.662103209644556e-05},{"id":2898662,"event":"return","thread_id":9160,"parent_id":2898657,"elapsed":0.0017760429764166474,"elapsed_instrumentation":0.00011022994294762611},{"id":2898663,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898664,"event":"return","thread_id":9160,"parent_id":2898663,"elapsed":0.000773989,"elapsed_instrumentation":6.983301136642694e-05},{"id":2898665,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14327180,"value":"#<Account:0x00007fc8e177c958>"}},{"id":2898666,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14327180,"value":"#<Account:0x00007fc8e177c958>"}},{"id":2898667,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440139542979, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898668,"event":"return","thread_id":9160,"parent_id":2898667,"elapsed":0.000867976,"elapsed_instrumentation":7.082696538418531e-05},{"id":2898669,"event":"return","thread_id":9160,"parent_id":2898666,"elapsed":0.0013372100074775517,"elapsed_instrumentation":8.457695366814733e-05},{"id":2898670,"event":"return","thread_id":9160,"parent_id":2898665,"elapsed":0.0014452280011028051,"elapsed_instrumentation":0.00011537398677319288},{"id":2898671,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14327160,"value":"#<Account:0x00007fc8e177d998>"}},{"id":2898672,"event":"return","thread_id":9160,"parent_id":2898671,"elapsed":1.501000951975584e-05,"elapsed_instrumentation":0.00010758999269455671,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898673,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14327180,"value":"#<Account:0x00007fc8e177c958>"}},{"id":2898674,"event":"return","thread_id":9160,"parent_id":2898673,"elapsed":7.259019184857607e-06,"elapsed_instrumentation":6.521196337416768e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898675,"event":"return","thread_id":9160,"parent_id":2898652,"elapsed":0.010737648990470916,"elapsed_instrumentation":0.0001496769837103784,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2898676,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898677,"event":"return","thread_id":9160,"parent_id":2898676,"elapsed":0.000390543,"elapsed_instrumentation":6.778998067602515e-05},{"id":2898678,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14327220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898679,"event":"return","thread_id":9160,"parent_id":2898678,"elapsed":3.4139957278966904e-06,"elapsed_instrumentation":0.0001188779715448618,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2898680,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14327220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898681,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14327240,"value":"Cache delete: relationship:111361440139542982:111361440139542979\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898682,"event":"return","thread_id":9160,"parent_id":2898681,"elapsed":0.000744657008908689,"elapsed_instrumentation":0.00011951196938753128,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898683,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14327260,"value":"Cache delete: relationship:111361440139542979:111361440139542982\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898684,"event":"return","thread_id":9160,"parent_id":2898683,"elapsed":0.0010089320130646229,"elapsed_instrumentation":0.0001520290388725698,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898685,"event":"return","thread_id":9160,"parent_id":2898680,"elapsed":0.0023754960275255144,"elapsed_instrumentation":0.00022821896709501743,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2898686,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14327280,"value":"#<Account:0x00007fc8e1762d00>"}},{"id":2898687,"event":"return","thread_id":9160,"parent_id":2898686,"elapsed":1.3648008462041616e-05,"elapsed_instrumentation":9.768601739779115e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898688,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14327280,"value":"#<Account:0x00007fc8e1762d00>"}},{"id":2898689,"event":"return","thread_id":9160,"parent_id":2898688,"elapsed":3.823020961135626e-06,"elapsed_instrumentation":6.195995956659317e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898690,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2898691,"event":"return","thread_id":9160,"parent_id":2898690,"elapsed":4.401023034006357e-06,"elapsed_instrumentation":5.57440216653049e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898692,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14327300,"value":"{args=>[111361440139542979, 111361440139542982], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14327320,"value":"#<Sidekiq::Client:0x00007fc918c619c8>"}},{"id":2898693,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14327340,"value":"___\u0000_y___Hq)"}},{"id":2898694,"event":"return","thread_id":9160,"parent_id":2898693,"elapsed":4.119006916880608e-06,"elapsed_instrumentation":0.0001051760627888143,"return_value":{"class":"String","value":"919a9300f979dfa5fd487129","object_id":14327360}},{"id":2898695,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14327380,"value":"[111361440139542979, 111361440139542982]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14327400,"value":"#<JSON::Ext::Generator::State:0x00007fc918c7f400>"}},{"id":2898696,"event":"return","thread_id":9160,"parent_id":2898695,"elapsed":6.521004252135754e-06,"elapsed_instrumentation":0.00010237901005893946,"return_value":{"class":"String","value":"[111361440139542979,111361440139542982]","object_id":14327420}},{"id":2898697,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14327440,"value":"#<JSON::Ext::Parser:0x00007fc918c7e000>"}},{"id":2898698,"event":"return","thread_id":9160,"parent_id":2898697,"elapsed":5.409994628280401e-06,"elapsed_instrumentation":0.0001323720207437873,"return_value":{"class":"Array","value":"[111361440139542979, 111361440139542982]","object_id":14327460,"size":2}},{"id":2898699,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14327480,"value":"C_~a8___W___"}},{"id":2898700,"event":"return","thread_id":9160,"parent_id":2898699,"elapsed":3.62802529707551e-06,"elapsed_instrumentation":0.00010708492482081056,"return_value":{"class":"String","value":"43f57e6138a8e8db57b8e88f","object_id":14327500}},{"id":2898701,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14327520,"value":"{retry=>true, queue=>pull, args=>[111361440139542979, 111361440139542982], class=>UnmergeWorker, jid=>919a9300f979dfa5fd487129, created_at=>1699240725.7833946, id=>43f57e6138a8e8db57b8e88f}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14327540,"value":"#<JSON::Ext::Generator::State:0x00007fc918c7bf80>"}},{"id":2898702,"event":"return","thread_id":9160,"parent_id":2898701,"elapsed":1.4694000128656626e-05,"elapsed_instrumentation":0.00017939205281436443,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440139542979,111361440139542982],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14327560}},{"id":2898703,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14327580,"value":"#<JSON::Ext::Parser:0x00007fc918c79aa0>"}},{"id":2898704,"event":"return","thread_id":9160,"parent_id":2898703,"elapsed":2.1140032913535833e-05,"elapsed_instrumentation":0.00015520601300522685,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440139542979, 111361440139542982], class=>UnmergeWorker, jid=>919a9300f979dfa5fd487129, created_at=>1699240725.7833946, id=>43f57e6138a8e8db57b8e88f}","object_id":14327600,"size":7}},{"id":2898705,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880279085959,"value":"111361440139542979","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14327620,"value":"#<UnmergeWorker:0x00007fc918c77638>"}},{"id":2898706,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14327620,"value":"#<UnmergeWorker:0x00007fc918c77638>"}},{"id":2898707,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898708,"event":"return","thread_id":9160,"parent_id":2898707,"elapsed":0.000580949,"elapsed_instrumentation":8.213496766984463e-05},{"id":2898709,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898710,"event":"return","thread_id":9160,"parent_id":2898709,"elapsed":0.000667785,"elapsed_instrumentation":7.665000157430768e-05},{"id":2898711,"event":"return","thread_id":9160,"parent_id":2898706,"elapsed":0.004275363986380398,"elapsed_instrumentation":0.00012356502702459693,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e177b418>","object_id":14327640}},{"id":2898712,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14327620,"value":"#<UnmergeWorker:0x00007fc918c77638>"}},{"id":2898713,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14327660,"value":"#<Account:0x00007fc8e177b558>","kind":"req"},{"name":"into_account","class":"Account","object_id":14327640,"value":"#<Account:0x00007fc8e177b418>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898714,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898715,"event":"return","thread_id":9160,"parent_id":2898714,"elapsed":5.496025551110506e-06,"elapsed_instrumentation":0.00010498292976990342,"return_value":{"class":"String","value":"feed:home:111361440139542982","object_id":14327680}},{"id":2898716,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898717,"event":"return","thread_id":9160,"parent_id":2898716,"elapsed":4.525994881987572e-06,"elapsed_instrumentation":7.254700176417828e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2898718,"event":"return","thread_id":9160,"parent_id":2898713,"elapsed":0.003159880987368524,"elapsed_instrumentation":0.00012315006460994482},{"id":2898719,"event":"return","thread_id":9160,"parent_id":2898712,"elapsed":0.0033239630283787847,"elapsed_instrumentation":0.00010007998207584023},{"id":2898720,"event":"return","thread_id":9160,"parent_id":2898705,"elapsed":0.008380541985388845,"elapsed_instrumentation":8.318998152390122e-05},{"id":2898721,"event":"return","thread_id":9160,"parent_id":2898692,"elapsed":0.009606536012142897,"elapsed_instrumentation":0.00016018300084397197,"return_value":{"class":"String","value":"919a9300f979dfa5fd487129","object_id":14327360}},{"id":2898722,"event":"return","thread_id":9160,"parent_id":2898637,"elapsed":0.032662895042449236,"elapsed_instrumentation":0.00013272895012050867,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e177e398>","object_id":14327200}},{"id":2898723,"event":"return","thread_id":9160,"parent_id":2898636,"elapsed":0.032815838989336044,"elapsed_instrumentation":7.347302744165063e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e177e398>","object_id":14327200}},{"id":2898724,"event":"return","thread_id":9160,"parent_id":2898635,"elapsed":0.03291928698308766,"elapsed_instrumentation":0.00012778898235410452,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e177e398>","object_id":14327200}},{"id":2898725,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14327700,"value":"relationship:111361440139542980:111361440139542982","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14327720,"value":"#<UnfollowService:0x00007fc8e0f55978>"}},{"id":2898726,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14327720,"value":"#<UnfollowService:0x00007fc8e0f55978>"}},{"id":2898727,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14327740,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14327760,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898728,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898729,"event":"return","thread_id":9160,"parent_id":2898728,"elapsed":2.7670175768435e-06,"elapsed_instrumentation":6.716500502079725e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2898730,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14327780,"value":"_$\u0002>fu(M____2_["}},{"id":2898731,"event":"return","thread_id":9160,"parent_id":2898730,"elapsed":5.675014108419418e-06,"elapsed_instrumentation":0.00012337596854195,"return_value":{"class":"Array","value":"[3106144830, 26229, 10317, 55647, 58363, 849379163]","object_id":14327800,"size":6}},{"id":2898732,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898733,"event":"return","thread_id":9160,"parent_id":2898732,"elapsed":0.000433126,"elapsed_instrumentation":7.476197788491845e-05},{"id":2898734,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14327820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898735,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898736,"event":"return","thread_id":9160,"parent_id":2898735,"elapsed":0.000565822,"elapsed_instrumentation":7.481797365471721e-05},{"id":2898737,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898738,"event":"return","thread_id":9160,"parent_id":2898737,"elapsed":0.000338383,"elapsed_instrumentation":6.136996671557426e-05},{"id":2898739,"event":"return","thread_id":9160,"parent_id":2898734,"elapsed":0.0025485330261290073,"elapsed_instrumentation":0.0001640259870328009,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2898740,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2898741,"event":"return","thread_id":9160,"parent_id":2898740,"elapsed":0.000529338,"elapsed_instrumentation":8.985999738797545e-05},{"id":2898742,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14327820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898743,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2898744,"event":"return","thread_id":9160,"parent_id":2898743,"elapsed":0.000659071,"elapsed_instrumentation":6.604596273973584e-05},{"id":2898745,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898746,"event":"return","thread_id":9160,"parent_id":2898745,"elapsed":0.000924291,"elapsed_instrumentation":6.842403672635555e-05},{"id":2898747,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14327840,"value":"#<Account:0x00007fc8e1779ed8>"}},{"id":2898748,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14327840,"value":"#<Account:0x00007fc8e1779ed8>"}},{"id":2898749,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440139542982, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898750,"event":"return","thread_id":9160,"parent_id":2898749,"elapsed":0.00121939,"elapsed_instrumentation":0.00014081801054999232},{"id":2898751,"event":"return","thread_id":9160,"parent_id":2898748,"elapsed":0.002258819993585348,"elapsed_instrumentation":0.000332214985974133},{"id":2898752,"event":"return","thread_id":9160,"parent_id":2898747,"elapsed":0.0026333939749747515,"elapsed_instrumentation":0.00011897907825186849},{"id":2898753,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898754,"event":"return","thread_id":9160,"parent_id":2898753,"elapsed":0.000954311,"elapsed_instrumentation":0.00015241297660395503},{"id":2898755,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14327860,"value":"#<Account:0x00007fc8e1778d58>"}},{"id":2898756,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14327860,"value":"#<Account:0x00007fc8e1778d58>"}},{"id":2898757,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440139542980, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898758,"event":"return","thread_id":9160,"parent_id":2898757,"elapsed":0.001331594,"elapsed_instrumentation":9.764899732545018e-05},{"id":2898759,"event":"return","thread_id":9160,"parent_id":2898756,"elapsed":0.002085363958030939,"elapsed_instrumentation":0.00014413497410714626},{"id":2898760,"event":"return","thread_id":9160,"parent_id":2898755,"elapsed":0.002282489964272827,"elapsed_instrumentation":0.00028047600062564015},{"id":2898761,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14327840,"value":"#<Account:0x00007fc8e1779ed8>"}},{"id":2898762,"event":"return","thread_id":9160,"parent_id":2898761,"elapsed":1.6264966689050198e-05,"elapsed_instrumentation":0.00011313898721709847,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898763,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14327860,"value":"#<Account:0x00007fc8e1778d58>"}},{"id":2898764,"event":"return","thread_id":9160,"parent_id":2898763,"elapsed":8.583010639995337e-06,"elapsed_instrumentation":6.75299670547247e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898765,"event":"return","thread_id":9160,"parent_id":2898742,"elapsed":0.013465740019455552,"elapsed_instrumentation":0.00014910101890563965,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2898766,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898767,"event":"return","thread_id":9160,"parent_id":2898766,"elapsed":0.000498052,"elapsed_instrumentation":8.788402192294598e-05},{"id":2898768,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14327900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898769,"event":"return","thread_id":9160,"parent_id":2898768,"elapsed":4.105968400835991e-06,"elapsed_instrumentation":0.00016041297931224108,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2898770,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14327900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898771,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14327920,"value":"Cache delete: relationship:111361440139542982:111361440139542980\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898772,"event":"return","thread_id":9160,"parent_id":2898771,"elapsed":0.0018551969551481307,"elapsed_instrumentation":0.00012051296653226018,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898773,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14327940,"value":"Cache delete: relationship:111361440139542980:111361440139542982\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898774,"event":"return","thread_id":9160,"parent_id":2898773,"elapsed":0.0010535509791225195,"elapsed_instrumentation":0.000138178002089262,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898775,"event":"return","thread_id":9160,"parent_id":2898770,"elapsed":0.003508382011204958,"elapsed_instrumentation":0.00014301302144303918,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2898776,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14327960,"value":"#<Account:0x00007fc8e1762bc0>"}},{"id":2898777,"event":"return","thread_id":9160,"parent_id":2898776,"elapsed":1.601100666448474e-05,"elapsed_instrumentation":0.0002052389900200069,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898778,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14327960,"value":"#<Account:0x00007fc8e1762bc0>"}},{"id":2898779,"event":"return","thread_id":9160,"parent_id":2898778,"elapsed":3.957946319133043e-06,"elapsed_instrumentation":6.718799704685807e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898780,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2898781,"event":"return","thread_id":9160,"parent_id":2898780,"elapsed":4.937988705933094e-06,"elapsed_instrumentation":7.604598067700863e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898782,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14327980,"value":"{args=>[111361440139542980, 111361440139542982], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14328000,"value":"#<Sidekiq::Client:0x00007fc918c00038>"}},{"id":2898783,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14328020,"value":"____4{%(_/{"}},{"id":2898784,"event":"return","thread_id":9160,"parent_id":2898783,"elapsed":4.300964064896107e-06,"elapsed_instrumentation":0.00010619196109473705,"return_value":{"class":"String","value":"a4eaf09a347b2528bf2f7b7f","object_id":14328040}},{"id":2898785,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14328060,"value":"[111361440139542980, 111361440139542982]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14328080,"value":"#<JSON::Ext::Generator::State:0x00007fc918c1d520>"}},{"id":2898786,"event":"return","thread_id":9160,"parent_id":2898785,"elapsed":6.493006367236376e-06,"elapsed_instrumentation":0.00010049104457721114,"return_value":{"class":"String","value":"[111361440139542980,111361440139542982]","object_id":14328100}},{"id":2898787,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14328120,"value":"#<JSON::Ext::Parser:0x00007fc918c1c530>"}},{"id":2898788,"event":"return","thread_id":9160,"parent_id":2898787,"elapsed":5.965994205325842e-06,"elapsed_instrumentation":0.00013105996185913682,"return_value":{"class":"Array","value":"[111361440139542980, 111361440139542982]","object_id":14328140,"size":2}},{"id":2898789,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14328160,"value":"___\u0006__F\u0015_\u0018_Q"}},{"id":2898790,"event":"return","thread_id":9160,"parent_id":2898789,"elapsed":4.123954568058252e-06,"elapsed_instrumentation":0.00011190306395292282,"return_value":{"class":"String","value":"cf819e06d1c94615c218b151","object_id":14328180}},{"id":2898791,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14328200,"value":"{retry=>true, queue=>pull, args=>[111361440139542980, 111361440139542982], class=>UnmergeWorker, jid=>a4eaf09a347b2528bf2f7b7f, created_at=>1699240725.8193853, id=>cf819e06d1c94615c218b151}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14328220,"value":"#<JSON::Ext::Generator::State:0x00007fc918c1a208>"}},{"id":2898792,"event":"return","thread_id":9160,"parent_id":2898791,"elapsed":1.593999331817031e-05,"elapsed_instrumentation":0.0001877699396573007,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440139542980,111361440139542982],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14328240}},{"id":2898793,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14328260,"value":"#<JSON::Ext::Parser:0x00007fc918c17f30>"}},{"id":2898794,"event":"return","thread_id":9160,"parent_id":2898793,"elapsed":2.0309991668909788e-05,"elapsed_instrumentation":0.00017308496171608567,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440139542980, 111361440139542982], class=>UnmergeWorker, jid=>a4eaf09a347b2528bf2f7b7f, created_at=>1699240725.8193853, id=>cf819e06d1c94615c218b151}","object_id":14328280,"size":7}},{"id":2898795,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880279085961,"value":"111361440139542980","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14328300,"value":"#<UnmergeWorker:0x00007fc918c15af0>"}},{"id":2898796,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14328300,"value":"#<UnmergeWorker:0x00007fc918c15af0>"}},{"id":2898797,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898798,"event":"return","thread_id":9160,"parent_id":2898797,"elapsed":0.000808286,"elapsed_instrumentation":9.141600457951427e-05},{"id":2898799,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898800,"event":"return","thread_id":9160,"parent_id":2898799,"elapsed":0.000589712,"elapsed_instrumentation":7.13460030965507e-05},{"id":2898801,"event":"return","thread_id":9160,"parent_id":2898796,"elapsed":0.004179930954705924,"elapsed_instrumentation":0.00021707103587687016,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1777818>","object_id":14328320}},{"id":2898802,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14328300,"value":"#<UnmergeWorker:0x00007fc918c15af0>"}},{"id":2898803,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14328340,"value":"#<Account:0x00007fc8e1777958>","kind":"req"},{"name":"into_account","class":"Account","object_id":14328320,"value":"#<Account:0x00007fc8e1777818>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898804,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898805,"event":"return","thread_id":9160,"parent_id":2898804,"elapsed":9.396986570209265e-06,"elapsed_instrumentation":0.00028771202778443694,"return_value":{"class":"String","value":"feed:home:111361440139542982","object_id":14328360}},{"id":2898806,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898807,"event":"return","thread_id":9160,"parent_id":2898806,"elapsed":4.673958756029606e-06,"elapsed_instrumentation":9.317899821326137e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2898808,"event":"return","thread_id":9160,"parent_id":2898803,"elapsed":0.0037922890041954815,"elapsed_instrumentation":0.0001028429833240807},{"id":2898809,"event":"return","thread_id":9160,"parent_id":2898802,"elapsed":0.003927045967429876,"elapsed_instrumentation":8.06640600785613e-05},{"id":2898810,"event":"return","thread_id":9160,"parent_id":2898795,"elapsed":0.008481930999550968,"elapsed_instrumentation":0.00011294300202280283},{"id":2898811,"event":"return","thread_id":9160,"parent_id":2898782,"elapsed":0.01013399800285697,"elapsed_instrumentation":0.00016010802937671542,"return_value":{"class":"String","value":"a4eaf09a347b2528bf2f7b7f","object_id":14328040}},{"id":2898812,"event":"return","thread_id":9160,"parent_id":2898727,"elapsed":0.036038738035131246,"elapsed_instrumentation":0.0001576750073581934,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e177a798>","object_id":14327880}},{"id":2898813,"event":"return","thread_id":9160,"parent_id":2898726,"elapsed":0.036222429014742374,"elapsed_instrumentation":0.00019593298202380538,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e177a798>","object_id":14327880}},{"id":2898814,"event":"return","thread_id":9160,"parent_id":2898725,"elapsed":0.03645143302856013,"elapsed_instrumentation":0.0001201819977723062,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e177a798>","object_id":14327880}},{"id":2898815,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14328380,"value":"relationship:111361440139542981:111361440139542982","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14328400,"value":"#<UnfollowService:0x00007fc8e0f7e620>"}},{"id":2898816,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14328400,"value":"#<UnfollowService:0x00007fc8e0f7e620>"}},{"id":2898817,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14328420,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14328440,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898818,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898819,"event":"return","thread_id":9160,"parent_id":2898818,"elapsed":2.6070047169923782e-06,"elapsed_instrumentation":6.441993173211813e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2898820,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14328460,"value":"{Y_\u0017_p___#__{}__"}},{"id":2898821,"event":"return","thread_id":9160,"parent_id":2898820,"elapsed":5.818961653858423e-06,"elapsed_instrumentation":0.0003543189959600568,"return_value":{"class":"Array","value":"[2069482519, 38256, 65408, 55587, 60581, 2071834022]","object_id":14328480,"size":6}},{"id":2898822,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898823,"event":"return","thread_id":9160,"parent_id":2898822,"elapsed":0.000485957,"elapsed_instrumentation":7.883500074967742e-05},{"id":2898824,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14328500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898825,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898826,"event":"return","thread_id":9160,"parent_id":2898825,"elapsed":0.000339274,"elapsed_instrumentation":7.419794565066695e-05},{"id":2898827,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898828,"event":"return","thread_id":9160,"parent_id":2898827,"elapsed":0.00034477,"elapsed_instrumentation":6.329402094706893e-05},{"id":2898829,"event":"return","thread_id":9160,"parent_id":2898824,"elapsed":0.002164099016226828,"elapsed_instrumentation":0.0001485190005041659,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2898830,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2898831,"event":"return","thread_id":9160,"parent_id":2898830,"elapsed":0.000687396,"elapsed_instrumentation":6.98829535394907e-05},{"id":2898832,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14328500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898833,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2898834,"event":"return","thread_id":9160,"parent_id":2898833,"elapsed":0.000524803,"elapsed_instrumentation":0.000138850009534508},{"id":2898835,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898836,"event":"return","thread_id":9160,"parent_id":2898835,"elapsed":0.000600216,"elapsed_instrumentation":6.947404472157359e-05},{"id":2898837,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14328520,"value":"#<Account:0x00007fc8e17762d8>"}},{"id":2898838,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14328520,"value":"#<Account:0x00007fc8e17762d8>"}},{"id":2898839,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440139542982, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898840,"event":"return","thread_id":9160,"parent_id":2898839,"elapsed":0.000770985,"elapsed_instrumentation":7.039401680231094e-05},{"id":2898841,"event":"return","thread_id":9160,"parent_id":2898838,"elapsed":0.0014877159846946597,"elapsed_instrumentation":9.703106479719281e-05},{"id":2898842,"event":"return","thread_id":9160,"parent_id":2898837,"elapsed":0.0016122190281748772,"elapsed_instrumentation":0.0003803169820457697},{"id":2898843,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898844,"event":"return","thread_id":9160,"parent_id":2898843,"elapsed":0.00043018,"elapsed_instrumentation":6.359803956001997e-05},{"id":2898845,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14328540,"value":"#<Account:0x00007fc8e17753d8>"}},{"id":2898846,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14328540,"value":"#<Account:0x00007fc8e17753d8>"}},{"id":2898847,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440139542981, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2898848,"event":"return","thread_id":9160,"parent_id":2898847,"elapsed":0.000707431,"elapsed_instrumentation":7.147702854126692e-05},{"id":2898849,"event":"return","thread_id":9160,"parent_id":2898846,"elapsed":0.0012468089698813856,"elapsed_instrumentation":8.020002860575914e-05},{"id":2898850,"event":"return","thread_id":9160,"parent_id":2898845,"elapsed":0.001349408004898578,"elapsed_instrumentation":0.00010599801316857338},{"id":2898851,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14328520,"value":"#<Account:0x00007fc8e17762d8>"}},{"id":2898852,"event":"return","thread_id":9160,"parent_id":2898851,"elapsed":1.5534984413534403e-05,"elapsed_instrumentation":0.00010259798727929592,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898853,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14328540,"value":"#<Account:0x00007fc8e17753d8>"}},{"id":2898854,"event":"return","thread_id":9160,"parent_id":2898853,"elapsed":7.036025635898113e-06,"elapsed_instrumentation":6.654899334535003e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898855,"event":"return","thread_id":9160,"parent_id":2898832,"elapsed":0.009582852013409138,"elapsed_instrumentation":0.00014419195940718055,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2898856,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898857,"event":"return","thread_id":9160,"parent_id":2898856,"elapsed":0.000332662,"elapsed_instrumentation":6.417097756639123e-05},{"id":2898858,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14328580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898859,"event":"return","thread_id":9160,"parent_id":2898858,"elapsed":3.345950972288847e-06,"elapsed_instrumentation":0.00010937603656202555,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2898860,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14328580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2898861,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14328600,"value":"Cache delete: relationship:111361440139542982:111361440139542981\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898862,"event":"return","thread_id":9160,"parent_id":2898861,"elapsed":0.0006257420172914863,"elapsed_instrumentation":0.00011378899216651917,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898863,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14328620,"value":"Cache delete: relationship:111361440139542981:111361440139542982\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2898864,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14328640,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14328660,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2898865,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14328680,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14328700,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2898866,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2898867,"event":"return","thread_id":13276700,"parent_id":2898866,"elapsed":5.263020284473896e-06,"elapsed_instrumentation":6.563198985531926e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2898868,"event":"return","thread_id":13276700,"parent_id":2898865,"elapsed":8.891499601304531e-05,"elapsed_instrumentation":9.640800999477506e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2898869,"event":"return","thread_id":13276700,"parent_id":2898864,"elapsed":0.0002042889827862382,"elapsed_instrumentation":0.000150697014760226,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2898870,"event":"return","thread_id":9160,"parent_id":2898863,"elapsed":0.0007216570083983243,"elapsed_instrumentation":0.0001319420407526195,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2898871,"event":"return","thread_id":9160,"parent_id":2898860,"elapsed":0.0018788890447467566,"elapsed_instrumentation":0.00010434997966513038,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2898872,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14328720,"value":"#<Account:0x00007fc8e1762a80>"}},{"id":2898873,"event":"return","thread_id":9160,"parent_id":2898872,"elapsed":1.4650984667241573e-05,"elapsed_instrumentation":8.760899072512984e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898874,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14328720,"value":"#<Account:0x00007fc8e1762a80>"}},{"id":2898875,"event":"return","thread_id":9160,"parent_id":2898874,"elapsed":4.149973392486572e-06,"elapsed_instrumentation":6.401399150490761e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898876,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2898877,"event":"return","thread_id":9160,"parent_id":2898876,"elapsed":4.451023414731026e-06,"elapsed_instrumentation":5.739001790061593e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898878,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14328740,"value":"{args=>[111361440139542981, 111361440139542982], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14328760,"value":"#<Sidekiq::Client:0x00007fc918bba3a8>"}},{"id":2898879,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14328780,"value":"}\b_b_\u001eb_.__\u0014"}},{"id":2898880,"event":"return","thread_id":9160,"parent_id":2898879,"elapsed":4.8130168579518795e-06,"elapsed_instrumentation":0.00012449797941371799,"return_value":{"class":"String","value":"7d08dd62f41e62a32ed3b914","object_id":14328800}},{"id":2898881,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14328820,"value":"[111361440139542981, 111361440139542982]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14328840,"value":"#<JSON::Ext::Generator::State:0x00007fc918bb7a18>"}},{"id":2898882,"event":"return","thread_id":9160,"parent_id":2898881,"elapsed":9.591050911694765e-06,"elapsed_instrumentation":0.00011901103425770998,"return_value":{"class":"String","value":"[111361440139542981,111361440139542982]","object_id":14328860}},{"id":2898883,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14328880,"value":"#<JSON::Ext::Parser:0x00007fc918bb6aa0>"}},{"id":2898884,"event":"return","thread_id":9160,"parent_id":2898883,"elapsed":5.640031304210424e-06,"elapsed_instrumentation":7.848098175600171e-05,"return_value":{"class":"Array","value":"[111361440139542981, 111361440139542982]","object_id":14328900,"size":2}},{"id":2898885,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14328920,"value":"\"_Y__a!h___J"}},{"id":2898886,"event":"return","thread_id":9160,"parent_id":2898885,"elapsed":4.099973011761904e-06,"elapsed_instrumentation":9.624200174584985e-05,"return_value":{"class":"String","value":"22bd59ebbd612168a8c3a84a","object_id":14328940}},{"id":2898887,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14328960,"value":"{retry=>true, queue=>pull, args=>[111361440139542981, 111361440139542982], class=>UnmergeWorker, jid=>7d08dd62f41e62a32ed3b914, created_at=>1699240725.8495414, id=>22bd59ebbd612168a8c3a84a}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14328980,"value":"#<JSON::Ext::Generator::State:0x00007fc918bb49f8>"}},{"id":2898888,"event":"return","thread_id":9160,"parent_id":2898887,"elapsed":1.2026983313262463e-05,"elapsed_instrumentation":0.0001766469795256853,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440139542981,111361440139542982],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14329000}},{"id":2898889,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14329020,"value":"#<JSON::Ext::Parser:0x00007fc918bb2540>"}},{"id":2898890,"event":"return","thread_id":9160,"parent_id":2898889,"elapsed":1.9718019757419825e-05,"elapsed_instrumentation":0.00015323801198974252,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440139542981, 111361440139542982], class=>UnmergeWorker, jid=>7d08dd62f41e62a32ed3b914, created_at=>1699240725.8495414, id=>22bd59ebbd612168a8c3a84a}","object_id":14329040,"size":7}},{"id":2898891,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880279085963,"value":"111361440139542981","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14329060,"value":"#<UnmergeWorker:0x00007fc918bb05b0>"}},{"id":2898892,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14329060,"value":"#<UnmergeWorker:0x00007fc918bb05b0>"}},{"id":2898893,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898894,"event":"return","thread_id":9160,"parent_id":2898893,"elapsed":0.00077004,"elapsed_instrumentation":7.913797162473202e-05},{"id":2898895,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898896,"event":"return","thread_id":9160,"parent_id":2898895,"elapsed":0.000720773,"elapsed_instrumentation":6.894598482176661e-05},{"id":2898897,"event":"return","thread_id":9160,"parent_id":2898892,"elapsed":0.0038643880398012698,"elapsed_instrumentation":0.00010646699229255319,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1773c18>","object_id":14329080}},{"id":2898898,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14329060,"value":"#<UnmergeWorker:0x00007fc918bb05b0>"}},{"id":2898899,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14329100,"value":"#<Account:0x00007fc8e1773d58>","kind":"req"},{"name":"into_account","class":"Account","object_id":14329080,"value":"#<Account:0x00007fc8e1773c18>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898900,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898901,"event":"return","thread_id":9160,"parent_id":2898900,"elapsed":5.171983502805233e-06,"elapsed_instrumentation":9.74070280790329e-05,"return_value":{"class":"String","value":"feed:home:111361440139542982","object_id":14329120}},{"id":2898902,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2898903,"event":"return","thread_id":9160,"parent_id":2898902,"elapsed":4.355970304459333e-06,"elapsed_instrumentation":6.955501157790422e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2898904,"event":"return","thread_id":9160,"parent_id":2898899,"elapsed":0.003044705023057759,"elapsed_instrumentation":9.727198630571365e-05},{"id":2898905,"event":"return","thread_id":9160,"parent_id":2898898,"elapsed":0.003173322998918593,"elapsed_instrumentation":7.507199188694358e-05},{"id":2898906,"event":"return","thread_id":9160,"parent_id":2898891,"elapsed":0.007263024977874011,"elapsed_instrumentation":0.0004242370487190783},{"id":2898907,"event":"return","thread_id":9160,"parent_id":2898878,"elapsed":0.008906128001399338,"elapsed_instrumentation":0.00015186896780505776,"return_value":{"class":"String","value":"7d08dd62f41e62a32ed3b914","object_id":14328800}},{"id":2898908,"event":"return","thread_id":9160,"parent_id":2898817,"elapsed":0.028299357974901795,"elapsed_instrumentation":0.00014098896645009518,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1776cd8>","object_id":14328560}},{"id":2898909,"event":"return","thread_id":9160,"parent_id":2898816,"elapsed":0.028463003982324153,"elapsed_instrumentation":8.190399967133999e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1776cd8>","object_id":14328560}},{"id":2898910,"event":"return","thread_id":9160,"parent_id":2898815,"elapsed":0.028575728996656835,"elapsed_instrumentation":0.00012573099229484797,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1776cd8>","object_id":14328560}},{"id":2898911,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14329140,"value":"{args=>[111361440139542982], class=>BootstrapTimelineWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14329160,"value":"#<Sidekiq::Client:0x00007fc918b70d48>"}},{"id":2898912,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14329180,"value":"\u001e_'T__CN0(\r3"}},{"id":2898913,"event":"return","thread_id":9160,"parent_id":2898912,"elapsed":4.100031219422817e-06,"elapsed_instrumentation":0.00010761700104922056,"return_value":{"class":"String","value":"1ee327549cea434e30280d33","object_id":14329200}},{"id":2898914,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14329220,"value":"[111361440139542982]","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14329240,"value":"#<JSON::Ext::Generator::State:0x00007fc918b8df88>"}},{"id":2898915,"event":"return","thread_id":9160,"parent_id":2898914,"elapsed":5.9810117818415165e-06,"elapsed_instrumentation":0.00010053196456283331,"return_value":{"class":"String","value":"[111361440139542982]","object_id":14329260}},{"id":2898916,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14329280,"value":"#<JSON::Ext::Parser:0x00007fc918b8cb60>"}},{"id":2898917,"event":"return","thread_id":9160,"parent_id":2898916,"elapsed":4.851957783102989e-06,"elapsed_instrumentation":7.218407699838281e-05,"return_value":{"class":"Array","value":"[111361440139542982]","object_id":14329300,"size":1}},{"id":2898918,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14329320,"value":"_?{____[\u001b__A"}},{"id":2898919,"event":"return","thread_id":9160,"parent_id":2898918,"elapsed":3.101013135164976e-06,"elapsed_instrumentation":0.0002422130201011896,"return_value":{"class":"String","value":"e63f7bd19dd3ce5b1be6f241","object_id":14329340}},{"id":2898920,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14329360,"value":"{retry=>true, queue=>default, args=>[111361440139542982], class=>BootstrapTimelineWorker, jid=>1ee327549cea434e30280d33, created_at=>1699240725.8592005, id=>e63f7bd19dd3ce5b1be6f241}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14329380,"value":"#<JSON::Ext::Generator::State:0x00007fc918b8a7c0>"}},{"id":2898921,"event":"return","thread_id":9160,"parent_id":2898920,"elapsed":1.371302641928196e-05,"elapsed_instrumentation":0.00021003797883167863,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111361440139542982],\"class\":\"BootstrapTimelineWorker\",\"jid\": (...91 more characters)","object_id":14329400}},{"id":2898922,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14329420,"value":"#<JSON::Ext::Parser:0x00007fc918b88178>"}},{"id":2898923,"event":"return","thread_id":9160,"parent_id":2898922,"elapsed":1.891300780698657e-05,"elapsed_instrumentation":0.00015255995094776154,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111361440139542982], class=>BootstrapTimelineWorker, jid=>1ee327549cea434e30280d33, created_at=>1699240725.8592005, id=>e63f7bd19dd3ce5b1be6f241}","object_id":14329440,"size":7}},{"id":2898924,"event":"call","thread_id":9160,"defined_class":"BootstrapTimelineWorker","method_id":"perform","path":"app/workers/bootstrap_timeline_worker.rb","lineno":6,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"}],"receiver":{"class":"BootstrapTimelineWorker","object_id":14329460,"value":"#<BootstrapTimelineWorker:0x00007fc918b85f18>"}},{"id":2898925,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898926,"event":"return","thread_id":9160,"parent_id":2898925,"elapsed":0.00074871,"elapsed_instrumentation":8.231098763644695e-05},{"id":2898927,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898928,"event":"return","thread_id":9160,"parent_id":2898927,"elapsed":0.000671713,"elapsed_instrumentation":9.16019780561328e-05},{"id":2898929,"event":"call","thread_id":9160,"defined_class":"User","method_id":"those_who_can","path":"app/models/user.rb","lineno":143,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14329480,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":35120,"value":"User"}},{"id":2898930,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"that_can","path":"app/models/user_role.rb","lineno":111,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14329500,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2898931,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\"","database_type":"postgres"}},{"id":2898932,"event":"return","thread_id":9160,"parent_id":2898931,"elapsed":0.000553064,"elapsed_instrumentation":7.591198664158583e-05},{"id":2898933,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14329520,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14329540,"value":"#<UserRole:0x00007fc8e17721d8>"}},{"id":2898934,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14329540,"value":"#<UserRole:0x00007fc8e17721d8>"}},{"id":2898935,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14329540,"value":"#<UserRole:0x00007fc8e17721d8>"}},{"id":2898936,"event":"return","thread_id":9160,"parent_id":2898935,"elapsed":1.3774959370493889e-05,"elapsed_instrumentation":6.505998317152262e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898937,"event":"return","thread_id":9160,"parent_id":2898934,"elapsed":0.00010143901454284787,"elapsed_instrumentation":6.124400533735752e-05,"return_value":{"class":"Integer","value":"65536","object_id":131073}},{"id":2898938,"event":"return","thread_id":9160,"parent_id":2898933,"elapsed":0.00018539198208600283,"elapsed_instrumentation":0.00010936008766293526},{"id":2898939,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14329560,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14329580,"value":"#<UserRole:0x00007fc8e1772098>"}},{"id":2898940,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14329580,"value":"#<UserRole:0x00007fc8e1772098>"}},{"id":2898941,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14329580,"value":"#<UserRole:0x00007fc8e1772098>"}},{"id":2898942,"event":"return","thread_id":9160,"parent_id":2898941,"elapsed":7.66298035159707e-06,"elapsed_instrumentation":4.4791027903556824e-05},{"id":2898943,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14329580,"value":"#<UserRole:0x00007fc8e1772098>"}},{"id":2898944,"event":"return","thread_id":9160,"parent_id":2898943,"elapsed":4.670990165323019e-06,"elapsed_instrumentation":4.505703691393137e-05},{"id":2898945,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2898946,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898947,"event":"return","thread_id":9160,"parent_id":2898946,"elapsed":0.000447376,"elapsed_instrumentation":7.894099690020084e-05},{"id":2898948,"event":"return","thread_id":9160,"parent_id":2898945,"elapsed":0.0014743299689143896,"elapsed_instrumentation":0.00024310598382726312,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fc8e1771b98>","object_id":14329600}},{"id":2898949,"event":"return","thread_id":9160,"parent_id":2898940,"elapsed":0.001901332987472415,"elapsed_instrumentation":7.003202335909009e-05,"return_value":{"class":"Integer","value":"66844","object_id":133689}},{"id":2898950,"event":"return","thread_id":9160,"parent_id":2898939,"elapsed":0.0019894629949703813,"elapsed_instrumentation":8.475495269522071e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898951,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14329620,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14329640,"value":"#<UserRole:0x00007fc8e1771f58>"}},{"id":2898952,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14329640,"value":"#<UserRole:0x00007fc8e1771f58>"}},{"id":2898953,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14329640,"value":"#<UserRole:0x00007fc8e1771f58>"}},{"id":2898954,"event":"return","thread_id":9160,"parent_id":2898953,"elapsed":1.1388969141989946e-05,"elapsed_instrumentation":5.444500129669905e-05},{"id":2898955,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14329640,"value":"#<UserRole:0x00007fc8e1771f58>"}},{"id":2898956,"event":"return","thread_id":9160,"parent_id":2898955,"elapsed":1.2903008610010147e-05,"elapsed_instrumentation":0.00013644399587064981},{"id":2898957,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2898958,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898959,"event":"return","thread_id":9160,"parent_id":2898958,"elapsed":0.00036654,"elapsed_instrumentation":8.339498890563846e-05},{"id":2898960,"event":"return","thread_id":9160,"parent_id":2898957,"elapsed":0.0011750549892894924,"elapsed_instrumentation":0.00014001602539792657,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fc8e1771918>","object_id":14329660}},{"id":2898961,"event":"return","thread_id":9160,"parent_id":2898952,"elapsed":0.0016294640372507274,"elapsed_instrumentation":9.85519727692008e-05,"return_value":{"class":"Integer","value":"1048572","object_id":2097145}},{"id":2898962,"event":"return","thread_id":9160,"parent_id":2898951,"elapsed":0.001765563036315143,"elapsed_instrumentation":0.0001405180082656443,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898963,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14329680,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14329700,"value":"#<UserRole:0x00007fc8e1771e18>"}},{"id":2898964,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14329700,"value":"#<UserRole:0x00007fc8e1771e18>"}},{"id":2898965,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14329700,"value":"#<UserRole:0x00007fc8e1771e18>"}},{"id":2898966,"event":"return","thread_id":9160,"parent_id":2898965,"elapsed":1.1003983672708273e-05,"elapsed_instrumentation":4.772399552166462e-05},{"id":2898967,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14329700,"value":"#<UserRole:0x00007fc8e1771e18>"}},{"id":2898968,"event":"return","thread_id":9160,"parent_id":2898967,"elapsed":4.283967427909374e-06,"elapsed_instrumentation":4.7554029151797295e-05},{"id":2898969,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2898970,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2898971,"event":"return","thread_id":9160,"parent_id":2898970,"elapsed":0.000410034,"elapsed_instrumentation":8.23029549792409e-05},{"id":2898972,"event":"return","thread_id":9160,"parent_id":2898969,"elapsed":0.0012910650111734867,"elapsed_instrumentation":0.00011492695193737745,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fc8e1771698>","object_id":14329720}},{"id":2898973,"event":"return","thread_id":9160,"parent_id":2898964,"elapsed":0.0015790799516253173,"elapsed_instrumentation":6.731098983436823e-05,"return_value":{"class":"Integer","value":"1048575","object_id":2097151}},{"id":2898974,"event":"return","thread_id":9160,"parent_id":2898963,"elapsed":0.0016670210170559585,"elapsed_instrumentation":0.00011216191342100501,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2898975,"event":"return","thread_id":9160,"parent_id":2898930,"elapsed":0.007626597012858838,"elapsed_instrumentation":0.0001315660192631185,"return_value":{"class":"Array","value":"[#<UserRole:0x00007fc8e1772098>, #<UserRole:0x00007fc8e1771f58>, #<UserRole:0x00007fc8e1771e18>]","object_id":14329740,"size":3}},{"id":2898976,"event":"return","thread_id":9160,"parent_id":2898929,"elapsed":0.008040209009777755,"elapsed_instrumentation":0.00019275100203230977,"return_value":{"class":"ActiveRecord::Relation","value":"#<User::ActiveRecord_Relation:0x00007fc919cc3c08>","object_id":14329760}},{"id":2898977,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"role_id\" IN ($1, $2, $3) ORDER BY \"users\".\"id\" ASC LIMIT $4","database_type":"postgres"}},{"id":2898978,"event":"return","thread_id":9160,"parent_id":2898977,"elapsed":0.000915328,"elapsed_instrumentation":7.685698801651597e-05},{"id":2898979,"event":"return","thread_id":9160,"parent_id":2898924,"elapsed":0.017737595015205443,"elapsed_instrumentation":7.868203101679683e-05},{"id":2898980,"event":"return","thread_id":9160,"parent_id":2898911,"elapsed":0.019068780995439738,"elapsed_instrumentation":0.00019422400509938598,"return_value":{"class":"String","value":"1ee327549cea434e30280d33","object_id":14329200}},{"id":2898981,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2898982,"event":"return","thread_id":9160,"parent_id":2898981,"elapsed":0.001872744,"elapsed_instrumentation":0.00010454095900058746},{"id":2898983,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14329780,"value":"relationship:111361440139542972:111361440139542982","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14329800,"value":"#<UnfollowService:0x00007fc8e0f712e0>"}},{"id":2898984,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14329800,"value":"#<UnfollowService:0x00007fc8e0f712e0>"}},{"id":2898985,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14329820,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14329840,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898986,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2898987,"event":"return","thread_id":9160,"parent_id":2898986,"elapsed":2.7650385163724422e-06,"elapsed_instrumentation":0.00017431401647627354,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2898988,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14329860,"value":"_o___\u000f9Z8__\u000b\u0016___"}},{"id":2898989,"event":"return","thread_id":9160,"parent_id":2898988,"elapsed":6.446964107453823e-06,"elapsed_instrumentation":0.00014529103646054864,"return_value":{"class":"Array","value":"[3530538893, 42255, 14682, 14537, 61195, 378599419]","object_id":14329880,"size":6}},{"id":2898990,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898991,"event":"return","thread_id":9160,"parent_id":2898990,"elapsed":0.00060176,"elapsed_instrumentation":0.000207828008569777},{"id":2898992,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14329900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2898993,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2898994,"event":"return","thread_id":9160,"parent_id":2898993,"elapsed":0.000462571,"elapsed_instrumentation":7.360999006778002e-05},{"id":2898995,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2898996,"event":"return","thread_id":9160,"parent_id":2898995,"elapsed":0.000351295,"elapsed_instrumentation":6.528501398861408e-05},{"id":2898997,"event":"return","thread_id":9160,"parent_id":2898992,"elapsed":0.0023776289890520275,"elapsed_instrumentation":0.00015962199540808797,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2898998,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2898999,"event":"return","thread_id":9160,"parent_id":2898998,"elapsed":0.000636178,"elapsed_instrumentation":6.926502101123333e-05},{"id":2899000,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14329900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899001,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2899002,"event":"return","thread_id":9160,"parent_id":2899001,"elapsed":0.00053885,"elapsed_instrumentation":6.982899503782392e-05},{"id":2899003,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899004,"event":"return","thread_id":9160,"parent_id":2899003,"elapsed":0.000590331,"elapsed_instrumentation":7.395597640424967e-05},{"id":2899005,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14329920,"value":"#<Account:0x00007fc8e178f148>"}},{"id":2899006,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14329920,"value":"#<Account:0x00007fc8e178f148>"}},{"id":2899007,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440139542972, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899008,"event":"return","thread_id":9160,"parent_id":2899007,"elapsed":0.000751457,"elapsed_instrumentation":7.027998799458146e-05},{"id":2899009,"event":"return","thread_id":9160,"parent_id":2899006,"elapsed":0.001250963017810136,"elapsed_instrumentation":8.89240182004869e-05},{"id":2899010,"event":"return","thread_id":9160,"parent_id":2899005,"elapsed":0.0013652259949594736,"elapsed_instrumentation":0.00012481492012739182},{"id":2899011,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899012,"event":"return","thread_id":9160,"parent_id":2899011,"elapsed":0.000492182,"elapsed_instrumentation":6.482499884441495e-05},{"id":2899013,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14329940,"value":"#<Account:0x00007fc8e178e388>"}},{"id":2899014,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14329940,"value":"#<Account:0x00007fc8e178e388>"}},{"id":2899015,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440139542982, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899016,"event":"return","thread_id":9160,"parent_id":2899015,"elapsed":0.000651216,"elapsed_instrumentation":6.41890219412744e-05},{"id":2899017,"event":"return","thread_id":9160,"parent_id":2899014,"elapsed":0.001192219031509012,"elapsed_instrumentation":8.136796532198787e-05},{"id":2899018,"event":"return","thread_id":9160,"parent_id":2899013,"elapsed":0.001295906025916338,"elapsed_instrumentation":0.00010330596705898643},{"id":2899019,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14329920,"value":"#<Account:0x00007fc8e178f148>"}},{"id":2899020,"event":"return","thread_id":9160,"parent_id":2899019,"elapsed":1.6132020391523838e-05,"elapsed_instrumentation":0.0002306560054421425,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899021,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14329940,"value":"#<Account:0x00007fc8e178e388>"}},{"id":2899022,"event":"return","thread_id":9160,"parent_id":2899021,"elapsed":7.247959729284048e-06,"elapsed_instrumentation":7.057603215798736e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899023,"event":"return","thread_id":9160,"parent_id":2899000,"elapsed":0.009902846009936184,"elapsed_instrumentation":0.0001453349832445383,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2899024,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899025,"event":"return","thread_id":9160,"parent_id":2899024,"elapsed":0.000362309,"elapsed_instrumentation":6.505794590339065e-05},{"id":2899026,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14329980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899027,"event":"return","thread_id":9160,"parent_id":2899026,"elapsed":3.521039616316557e-06,"elapsed_instrumentation":0.0001091009471565485,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2899028,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14329980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899029,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14330000,"value":"Cache delete: relationship:111361440139542972:111361440139542982\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899030,"event":"return","thread_id":9160,"parent_id":2899029,"elapsed":0.0007079039933159947,"elapsed_instrumentation":0.00011134403757750988,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899031,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14330020,"value":"Cache delete: relationship:111361440139542982:111361440139542972\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899032,"event":"return","thread_id":9160,"parent_id":2899031,"elapsed":0.000746448989957571,"elapsed_instrumentation":0.00013539096107706428,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899033,"event":"return","thread_id":9160,"parent_id":2899028,"elapsed":0.001988699019420892,"elapsed_instrumentation":0.00011817098129540682,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2899034,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2899035,"event":"return","thread_id":9160,"parent_id":2899034,"elapsed":4.4180022086948156e-05,"elapsed_instrumentation":0.00012904201867058873,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899036,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2899037,"event":"return","thread_id":9160,"parent_id":2899036,"elapsed":6.729038432240486e-06,"elapsed_instrumentation":8.995091775432229e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899038,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14330040,"value":"#<Account:0x00007fc8e1770518>"}},{"id":2899039,"event":"return","thread_id":9160,"parent_id":2899038,"elapsed":1.0162009857594967e-05,"elapsed_instrumentation":6.072304677218199e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899040,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14330060,"value":"{args=>[111361440139542982, 111361440139542972], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14330080,"value":"#<Sidekiq::Client:0x00007fc918ae1ad0>"}},{"id":2899041,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14330100,"value":"o\u00060z____c__x"}},{"id":2899042,"event":"return","thread_id":9160,"parent_id":2899041,"elapsed":4.689034540206194e-06,"elapsed_instrumentation":0.00011682097101584077,"return_value":{"class":"String","value":"6f06307a9588ddb663a4f978","object_id":14330120}},{"id":2899043,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14330140,"value":"[111361440139542982, 111361440139542972]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14330160,"value":"#<JSON::Ext::Generator::State:0x00007fc918aff670>"}},{"id":2899044,"event":"return","thread_id":9160,"parent_id":2899043,"elapsed":6.1400351114571095e-06,"elapsed_instrumentation":0.00010540394578129053,"return_value":{"class":"String","value":"[111361440139542982,111361440139542972]","object_id":14330180}},{"id":2899045,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14330200,"value":"#<JSON::Ext::Parser:0x00007fc918afe6a8>"}},{"id":2899046,"event":"return","thread_id":9160,"parent_id":2899045,"elapsed":5.337002221494913e-06,"elapsed_instrumentation":7.613399066030979e-05,"return_value":{"class":"Array","value":"[111361440139542982, 111361440139542972]","object_id":14330220,"size":2}},{"id":2899047,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14330240,"value":"_)m__`\u0016____\u0003"}},{"id":2899048,"event":"return","thread_id":9160,"parent_id":2899047,"elapsed":3.5570119507610798e-06,"elapsed_instrumentation":9.48059605434537e-05,"return_value":{"class":"String","value":"c7296df79d6016c4caf9e003","object_id":14330260}},{"id":2899049,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14330280,"value":"{retry=>true, queue=>pull, args=>[111361440139542982, 111361440139542972], class=>UnmergeWorker, jid=>6f06307a9588ddb663a4f978, created_at=>1699240725.905028, id=>c7296df79d6016c4caf9e003}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14330300,"value":"#<JSON::Ext::Generator::State:0x00007fc918afc7e0>"}},{"id":2899050,"event":"return","thread_id":9160,"parent_id":2899049,"elapsed":1.4979974366724491e-05,"elapsed_instrumentation":0.0004559130175039172,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440139542982,111361440139542972],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14330320}},{"id":2899051,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14330340,"value":"#<JSON::Ext::Parser:0x00007fc918afa148>"}},{"id":2899052,"event":"return","thread_id":9160,"parent_id":2899051,"elapsed":2.075103111565113e-05,"elapsed_instrumentation":0.00017423200188204646,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440139542982, 111361440139542972], class=>UnmergeWorker, jid=>6f06307a9588ddb663a4f978, created_at=>1699240725.905028, id=>c7296df79d6016c4caf9e003}","object_id":14330360,"size":7}},{"id":2899053,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880279085945,"value":"111361440139542972","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14330380,"value":"#<UnmergeWorker:0x00007fc918af7b00>"}},{"id":2899054,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14330380,"value":"#<UnmergeWorker:0x00007fc918af7b00>"}},{"id":2899055,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899056,"event":"return","thread_id":9160,"parent_id":2899055,"elapsed":0.000545728,"elapsed_instrumentation":8.833396714180708e-05},{"id":2899057,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899058,"event":"return","thread_id":9160,"parent_id":2899057,"elapsed":0.000520345,"elapsed_instrumentation":7.744197500869632e-05},{"id":2899059,"event":"return","thread_id":9160,"parent_id":2899054,"elapsed":0.003691287012770772,"elapsed_instrumentation":0.00011000101221725345,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e178ce48>","object_id":14330400}},{"id":2899060,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14330380,"value":"#<UnmergeWorker:0x00007fc918af7b00>"}},{"id":2899061,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14330420,"value":"#<Account:0x00007fc8e178cf88>","kind":"req"},{"name":"into_account","class":"Account","object_id":14330400,"value":"#<Account:0x00007fc8e178ce48>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899062,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880279085945,"value":"111361440139542972","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899063,"event":"return","thread_id":9160,"parent_id":2899062,"elapsed":5.919951945543289e-06,"elapsed_instrumentation":0.00013380305608734488,"return_value":{"class":"String","value":"feed:home:111361440139542972","object_id":14330440}},{"id":2899064,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899065,"event":"return","thread_id":9160,"parent_id":2899064,"elapsed":4.675006493926048e-06,"elapsed_instrumentation":7.458199979737401e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2899066,"event":"return","thread_id":9160,"parent_id":2899061,"elapsed":0.0034649849985726178,"elapsed_instrumentation":0.00042082095751538873},{"id":2899067,"event":"return","thread_id":9160,"parent_id":2899060,"elapsed":0.003918853995855898,"elapsed_instrumentation":8.254102431237698e-05},{"id":2899068,"event":"return","thread_id":9160,"parent_id":2899053,"elapsed":0.00784700398799032,"elapsed_instrumentation":8.339004125446081e-05},{"id":2899069,"event":"return","thread_id":9160,"parent_id":2899040,"elapsed":0.009331448993179947,"elapsed_instrumentation":0.0003051809617318213,"return_value":{"class":"String","value":"6f06307a9588ddb663a4f978","object_id":14330120}},{"id":2899070,"event":"return","thread_id":9160,"parent_id":2898985,"elapsed":0.03012500499607995,"elapsed_instrumentation":0.00014599197311326861,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e178fb48>","object_id":14329960}},{"id":2899071,"event":"return","thread_id":9160,"parent_id":2898984,"elapsed":0.030294577998574823,"elapsed_instrumentation":7.970002479851246e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e178fb48>","object_id":14329960}},{"id":2899072,"event":"return","thread_id":9160,"parent_id":2898983,"elapsed":0.030407307029236108,"elapsed_instrumentation":0.00017301301704719663,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e178fb48>","object_id":14329960}},{"id":2899073,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14330460,"value":"relationship:111361440139542973:111361440139542982","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14330480,"value":"#<UnfollowService:0x00007fc8e0f8a1a0>"}},{"id":2899074,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14330480,"value":"#<UnfollowService:0x00007fc8e0f8a1a0>"}},{"id":2899075,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14330500,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14330520,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899076,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899077,"event":"return","thread_id":9160,"parent_id":2899076,"elapsed":3.4160329960286617e-06,"elapsed_instrumentation":6.925198249518871e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2899078,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14330540,"value":"__O\u0006__\u0005}Rgk_S\u0001__"}},{"id":2899079,"event":"return","thread_id":9160,"parent_id":2899078,"elapsed":0.0001320029841735959,"elapsed_instrumentation":0.0003619130002334714,"return_value":{"class":"Array","value":"[2364755718, 36535, 1405, 21095, 27578, 1392631958]","object_id":14330560,"size":6}},{"id":2899080,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899081,"event":"return","thread_id":9160,"parent_id":2899080,"elapsed":0.000443301,"elapsed_instrumentation":8.926400914788246e-05},{"id":2899082,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14330580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899083,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899084,"event":"return","thread_id":9160,"parent_id":2899083,"elapsed":0.000351685,"elapsed_instrumentation":7.172598270699382e-05},{"id":2899085,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899086,"event":"return","thread_id":9160,"parent_id":2899085,"elapsed":0.000367614,"elapsed_instrumentation":6.969703827053308e-05},{"id":2899087,"event":"return","thread_id":9160,"parent_id":2899082,"elapsed":0.0023811649880371988,"elapsed_instrumentation":0.00015352998161688447,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2899088,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2899089,"event":"return","thread_id":9160,"parent_id":2899088,"elapsed":0.000460729,"elapsed_instrumentation":6.670400034636259e-05},{"id":2899090,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14330580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899091,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2899092,"event":"return","thread_id":9160,"parent_id":2899091,"elapsed":0.000551684,"elapsed_instrumentation":6.810796912759542e-05},{"id":2899093,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899094,"event":"return","thread_id":9160,"parent_id":2899093,"elapsed":0.0005876,"elapsed_instrumentation":8.445599814876914e-05},{"id":2899095,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14330600,"value":"#<Account:0x00007fc8e178b2c8>"}},{"id":2899096,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14330600,"value":"#<Account:0x00007fc8e178b2c8>"}},{"id":2899097,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440139542973, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899098,"event":"return","thread_id":9160,"parent_id":2899097,"elapsed":0.001087918,"elapsed_instrumentation":0.00011020799865946174},{"id":2899099,"event":"return","thread_id":9160,"parent_id":2899096,"elapsed":0.0018769149901345372,"elapsed_instrumentation":9.717704961076379e-05},{"id":2899100,"event":"return","thread_id":9160,"parent_id":2899095,"elapsed":0.0020019490038976073,"elapsed_instrumentation":0.00015526002971455455},{"id":2899101,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899102,"event":"return","thread_id":9160,"parent_id":2899101,"elapsed":0.000626216,"elapsed_instrumentation":8.381705265492201e-05},{"id":2899103,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14330620,"value":"#<Account:0x00007fc8e178a148>"}},{"id":2899104,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14330620,"value":"#<Account:0x00007fc8e178a148>"}},{"id":2899105,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440139542982, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899106,"event":"return","thread_id":9160,"parent_id":2899105,"elapsed":0.000849409,"elapsed_instrumentation":7.30609754100442e-05},{"id":2899107,"event":"return","thread_id":9160,"parent_id":2899104,"elapsed":0.001374106970615685,"elapsed_instrumentation":0.0002080220147036016},{"id":2899108,"event":"return","thread_id":9160,"parent_id":2899103,"elapsed":0.0016120829968713224,"elapsed_instrumentation":0.00013861805200576782},{"id":2899109,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14330600,"value":"#<Account:0x00007fc8e178b2c8>"}},{"id":2899110,"event":"return","thread_id":9160,"parent_id":2899109,"elapsed":1.5527999494224787e-05,"elapsed_instrumentation":8.892000187188387e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899111,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14330620,"value":"#<Account:0x00007fc8e178a148>"}},{"id":2899112,"event":"return","thread_id":9160,"parent_id":2899111,"elapsed":6.394053343683481e-06,"elapsed_instrumentation":6.198097253218293e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899113,"event":"return","thread_id":9160,"parent_id":2899090,"elapsed":0.011495326994918287,"elapsed_instrumentation":0.00014742097118869424,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2899114,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899115,"event":"return","thread_id":9160,"parent_id":2899114,"elapsed":0.000462647,"elapsed_instrumentation":6.113300332799554e-05},{"id":2899116,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14330660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899117,"event":"return","thread_id":9160,"parent_id":2899116,"elapsed":3.5710399970412254e-06,"elapsed_instrumentation":0.00010634795762598515,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2899118,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14330660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899119,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14330680,"value":"Cache delete: relationship:111361440139542973:111361440139542982\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899120,"event":"return","thread_id":9160,"parent_id":2899119,"elapsed":0.0006629480049014091,"elapsed_instrumentation":0.00011359906056895852,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899121,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14330700,"value":"Cache delete: relationship:111361440139542982:111361440139542973\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899122,"event":"return","thread_id":9160,"parent_id":2899121,"elapsed":0.0006840170244686306,"elapsed_instrumentation":0.00013900402700528502,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899123,"event":"return","thread_id":9160,"parent_id":2899118,"elapsed":0.0018793269991874695,"elapsed_instrumentation":0.00012142496416345239,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2899124,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2899125,"event":"return","thread_id":9160,"parent_id":2899124,"elapsed":9.545998182147741e-06,"elapsed_instrumentation":0.00011500896653160453,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899126,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2899127,"event":"return","thread_id":9160,"parent_id":2899126,"elapsed":1.2849981430917978e-05,"elapsed_instrumentation":8.930399781093001e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899128,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14330720,"value":"#<Account:0x00007fc8e17703d8>"}},{"id":2899129,"event":"return","thread_id":9160,"parent_id":2899128,"elapsed":1.4471006579697132e-05,"elapsed_instrumentation":0.00012075196718797088,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899130,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14330740,"value":"{args=>[111361440139542982, 111361440139542973], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14330760,"value":"#<Sidekiq::Client:0x00007fc918a839d0>"}},{"id":2899131,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14330780,"value":"w3cQH_`hso_\r"}},{"id":2899132,"event":"return","thread_id":9160,"parent_id":2899131,"elapsed":4.3800100684165955e-06,"elapsed_instrumentation":0.0001132130273617804,"return_value":{"class":"String","value":"7733635148bb6068736fea0d","object_id":14330800}},{"id":2899133,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14330820,"value":"[111361440139542982, 111361440139542973]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14330840,"value":"#<JSON::Ext::Generator::State:0x00007fc918a81478>"}},{"id":2899134,"event":"return","thread_id":9160,"parent_id":2899133,"elapsed":6.1800237745046616e-06,"elapsed_instrumentation":0.00010448199464008212,"return_value":{"class":"String","value":"[111361440139542982,111361440139542973]","object_id":14330860}},{"id":2899135,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14330880,"value":"#<JSON::Ext::Parser:0x00007fc918a80640>"}},{"id":2899136,"event":"return","thread_id":9160,"parent_id":2899135,"elapsed":5.46302180737257e-06,"elapsed_instrumentation":0.0001004519872367382,"return_value":{"class":"Array","value":"[111361440139542982, 111361440139542973]","object_id":14330900,"size":2}},{"id":2899137,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14330920,"value":"____C_\u0017_M\\_;"}},{"id":2899138,"event":"return","thread_id":9160,"parent_id":2899137,"elapsed":3.176974132657051e-06,"elapsed_instrumentation":9.938300354406238e-05,"return_value":{"class":"String","value":"9eb6ddb543d017b44d5ce93b","object_id":14330940}},{"id":2899139,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14330960,"value":"{retry=>true, queue=>pull, args=>[111361440139542982, 111361440139542973], class=>UnmergeWorker, jid=>7733635148bb6068736fea0d, created_at=>1699240725.9374006, id=>9eb6ddb543d017b44d5ce93b}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14330980,"value":"#<JSON::Ext::Generator::State:0x00007fc918a9e7d0>"}},{"id":2899140,"event":"return","thread_id":9160,"parent_id":2899139,"elapsed":1.707900082692504e-05,"elapsed_instrumentation":0.00017863098764792085,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440139542982,111361440139542973],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14331000}},{"id":2899141,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14331020,"value":"#<JSON::Ext::Parser:0x00007fc918a9ba58>"}},{"id":2899142,"event":"return","thread_id":9160,"parent_id":2899141,"elapsed":1.9823957700282335e-05,"elapsed_instrumentation":0.00015346001600846648,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440139542982, 111361440139542973], class=>UnmergeWorker, jid=>7733635148bb6068736fea0d, created_at=>1699240725.9374006, id=>9eb6ddb543d017b44d5ce93b}","object_id":14331040,"size":7}},{"id":2899143,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880279085947,"value":"111361440139542973","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14331060,"value":"#<UnmergeWorker:0x00007fc918a995a0>"}},{"id":2899144,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14331060,"value":"#<UnmergeWorker:0x00007fc918a995a0>"}},{"id":2899145,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899146,"event":"return","thread_id":9160,"parent_id":2899145,"elapsed":0.000585906,"elapsed_instrumentation":8.300796616822481e-05},{"id":2899147,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899148,"event":"return","thread_id":9160,"parent_id":2899147,"elapsed":0.000701954,"elapsed_instrumentation":7.788400398567319e-05},{"id":2899149,"event":"return","thread_id":9160,"parent_id":2899144,"elapsed":0.0038606110028922558,"elapsed_instrumentation":0.00010957004269585013,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1788ac8>","object_id":14331080}},{"id":2899150,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14331060,"value":"#<UnmergeWorker:0x00007fc918a995a0>"}},{"id":2899151,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14331100,"value":"#<Account:0x00007fc8e1788c08>","kind":"req"},{"name":"into_account","class":"Account","object_id":14331080,"value":"#<Account:0x00007fc8e1788ac8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899152,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880279085947,"value":"111361440139542973","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899153,"event":"return","thread_id":9160,"parent_id":2899152,"elapsed":5.259993486106396e-06,"elapsed_instrumentation":0.00014063401613384485,"return_value":{"class":"String","value":"feed:home:111361440139542973","object_id":14331120}},{"id":2899154,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899155,"event":"return","thread_id":9160,"parent_id":2899154,"elapsed":5.060050170868635e-06,"elapsed_instrumentation":0.00037585594691336155,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2899156,"event":"return","thread_id":9160,"parent_id":2899151,"elapsed":0.003375397005584091,"elapsed_instrumentation":0.00024372193729504943},{"id":2899157,"event":"return","thread_id":9160,"parent_id":2899150,"elapsed":0.003655377950053662,"elapsed_instrumentation":8.309807162731886e-05},{"id":2899158,"event":"return","thread_id":9160,"parent_id":2899143,"elapsed":0.007754908001516014,"elapsed_instrumentation":7.508799899369478e-05},{"id":2899159,"event":"return","thread_id":9160,"parent_id":2899130,"elapsed":0.009043995989486575,"elapsed_instrumentation":0.00016982899978756905,"return_value":{"class":"String","value":"7733635148bb6068736fea0d","object_id":14330800}},{"id":2899160,"event":"return","thread_id":9160,"parent_id":2899075,"elapsed":0.03147181903477758,"elapsed_instrumentation":0.00016164599219337106,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e178c1c8>","object_id":14330640}},{"id":2899161,"event":"return","thread_id":9160,"parent_id":2899074,"elapsed":0.03165985498344526,"elapsed_instrumentation":0.00010413507698103786,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e178c1c8>","object_id":14330640}},{"id":2899162,"event":"return","thread_id":9160,"parent_id":2899073,"elapsed":0.031797257950529456,"elapsed_instrumentation":0.00013737601693719625,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e178c1c8>","object_id":14330640}},{"id":2899163,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14331140,"value":"relationship:111361440139542974:111361440139542982","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14331160,"value":"#<UnfollowService:0x00007fc8e0f81b40>"}},{"id":2899164,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14331160,"value":"#<UnfollowService:0x00007fc8e0f81b40>"}},{"id":2899165,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14331180,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14331200,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899166,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899167,"event":"return","thread_id":9160,"parent_id":2899166,"elapsed":2.7500209398567677e-06,"elapsed_instrumentation":6.379501428455114e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2899168,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14331220,"value":"_<__n\u000b.1_?\u0000\u001a_#__"}},{"id":2899169,"event":"return","thread_id":9160,"parent_id":2899168,"elapsed":6.268033757805824e-06,"elapsed_instrumentation":0.00028235604986548424,"return_value":{"class":"Array","value":"[4013740509, 28171, 11825, 58175, 26, 2401499526]","object_id":14331240,"size":6}},{"id":2899170,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14331260,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14331280,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2899171,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14331300,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14331320,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2899172,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2899173,"event":"return","thread_id":13276700,"parent_id":2899172,"elapsed":5.620997399091721e-06,"elapsed_instrumentation":9.366701124235988e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2899174,"event":"return","thread_id":13276700,"parent_id":2899171,"elapsed":0.0001229200279340148,"elapsed_instrumentation":9.84880025498569e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2899175,"event":"return","thread_id":13276700,"parent_id":2899170,"elapsed":0.00024410500191152096,"elapsed_instrumentation":0.00020156806567683816,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2899176,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899177,"event":"return","thread_id":9160,"parent_id":2899176,"elapsed":0.000949813,"elapsed_instrumentation":9.251502342522144e-05},{"id":2899178,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14331340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899179,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899180,"event":"return","thread_id":9160,"parent_id":2899179,"elapsed":0.000407685,"elapsed_instrumentation":7.576501229777932e-05},{"id":2899181,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899182,"event":"return","thread_id":9160,"parent_id":2899181,"elapsed":0.000293207,"elapsed_instrumentation":6.513495463877916e-05},{"id":2899183,"event":"return","thread_id":9160,"parent_id":2899178,"elapsed":0.002578731975518167,"elapsed_instrumentation":0.00017045706044882536,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2899184,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2899185,"event":"return","thread_id":9160,"parent_id":2899184,"elapsed":0.00058191,"elapsed_instrumentation":6.989197572693229e-05},{"id":2899186,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14331340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899187,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2899188,"event":"return","thread_id":9160,"parent_id":2899187,"elapsed":0.000493504,"elapsed_instrumentation":6.757501978427172e-05},{"id":2899189,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899190,"event":"return","thread_id":9160,"parent_id":2899189,"elapsed":0.000494822,"elapsed_instrumentation":7.261103019118309e-05},{"id":2899191,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14331360,"value":"#<Account:0x00007fc8e1787088>"}},{"id":2899192,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14331360,"value":"#<Account:0x00007fc8e1787088>"}},{"id":2899193,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440139542974, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899194,"event":"return","thread_id":9160,"parent_id":2899193,"elapsed":0.000861832,"elapsed_instrumentation":8.299999171867967e-05},{"id":2899195,"event":"return","thread_id":9160,"parent_id":2899192,"elapsed":0.001513672003056854,"elapsed_instrumentation":8.884898852556944e-05},{"id":2899196,"event":"return","thread_id":9160,"parent_id":2899191,"elapsed":0.0016280629788525403,"elapsed_instrumentation":0.0001209470210596919},{"id":2899197,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899198,"event":"return","thread_id":9160,"parent_id":2899197,"elapsed":0.000567695,"elapsed_instrumentation":7.740803994238377e-05},{"id":2899199,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14331380,"value":"#<Account:0x00007fc8e1785f08>"}},{"id":2899200,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14331380,"value":"#<Account:0x00007fc8e1785f08>"}},{"id":2899201,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440139542982, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899202,"event":"return","thread_id":9160,"parent_id":2899201,"elapsed":0.001044208,"elapsed_instrumentation":9.621697245165706e-05},{"id":2899203,"event":"return","thread_id":9160,"parent_id":2899200,"elapsed":0.0018432509968988597,"elapsed_instrumentation":9.578099707141519e-05},{"id":2899204,"event":"return","thread_id":9160,"parent_id":2899199,"elapsed":0.001966154028195888,"elapsed_instrumentation":0.00013956299517303705},{"id":2899205,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14331360,"value":"#<Account:0x00007fc8e1787088>"}},{"id":2899206,"event":"return","thread_id":9160,"parent_id":2899205,"elapsed":1.7273996490985155e-05,"elapsed_instrumentation":0.00011893198825418949,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899207,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14331380,"value":"#<Account:0x00007fc8e1785f08>"}},{"id":2899208,"event":"return","thread_id":9160,"parent_id":2899207,"elapsed":7.178983651101589e-06,"elapsed_instrumentation":0.0001835839357227087,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899209,"event":"return","thread_id":9160,"parent_id":2899186,"elapsed":0.010708029032684863,"elapsed_instrumentation":0.0001677209511399269,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2899210,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899211,"event":"return","thread_id":9160,"parent_id":2899210,"elapsed":0.000342825,"elapsed_instrumentation":7.571798050776124e-05},{"id":2899212,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14331420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899213,"event":"return","thread_id":9160,"parent_id":2899212,"elapsed":4.2539904825389385e-06,"elapsed_instrumentation":0.00012487999629229307,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2899214,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14331420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899215,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14331440,"value":"Cache delete: relationship:111361440139542974:111361440139542982\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899216,"event":"return","thread_id":9160,"parent_id":2899215,"elapsed":0.0005330319982022047,"elapsed_instrumentation":0.00019827298820018768,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899217,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14331460,"value":"Cache delete: relationship:111361440139542982:111361440139542974\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899218,"event":"return","thread_id":9160,"parent_id":2899217,"elapsed":0.0006529620150104165,"elapsed_instrumentation":0.0002627209760248661,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899219,"event":"return","thread_id":9160,"parent_id":2899214,"elapsed":0.0019215309876017272,"elapsed_instrumentation":0.00011046399595215917,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2899220,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2899221,"event":"return","thread_id":9160,"parent_id":2899220,"elapsed":7.968978025019169e-06,"elapsed_instrumentation":8.357100887224078e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899222,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2899223,"event":"return","thread_id":9160,"parent_id":2899222,"elapsed":3.462017048150301e-06,"elapsed_instrumentation":5.949800834059715e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899224,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14331480,"value":"#<Account:0x00007fc8e1770298>"}},{"id":2899225,"event":"return","thread_id":9160,"parent_id":2899224,"elapsed":9.575975127518177e-06,"elapsed_instrumentation":5.6731048971414566e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899226,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14331500,"value":"{args=>[111361440139542982, 111361440139542974], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14331520,"value":"#<Sidekiq::Client:0x00007fc918a2af10>"}},{"id":2899227,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14331540,"value":";m__@_\"___O_"}},{"id":2899228,"event":"return","thread_id":9160,"parent_id":2899227,"elapsed":4.4140033423900604e-06,"elapsed_instrumentation":0.00010820699390023947,"return_value":{"class":"String","value":"3b6da7f140d022e1ddad4fca","object_id":14331560}},{"id":2899229,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14331580,"value":"[111361440139542982, 111361440139542974]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14331600,"value":"#<JSON::Ext::Generator::State:0x00007fc918a27680>"}},{"id":2899230,"event":"return","thread_id":9160,"parent_id":2899229,"elapsed":6.71902671456337e-06,"elapsed_instrumentation":0.00012151896953582764,"return_value":{"class":"String","value":"[111361440139542982,111361440139542974]","object_id":14331620}},{"id":2899231,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14331640,"value":"#<JSON::Ext::Parser:0x00007fc918a266e0>"}},{"id":2899232,"event":"return","thread_id":9160,"parent_id":2899231,"elapsed":5.187001079320908e-06,"elapsed_instrumentation":7.469399133697152e-05,"return_value":{"class":"Array","value":"[111361440139542982, 111361440139542974]","object_id":14331660,"size":2}},{"id":2899233,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14331680,"value":"S\r|/M__\u001d____"}},{"id":2899234,"event":"return","thread_id":9160,"parent_id":2899233,"elapsed":3.2500247471034527e-06,"elapsed_instrumentation":9.569997200742364e-05,"return_value":{"class":"String","value":"530d7c2f4d9e9c1de8dea6e0","object_id":14331700}},{"id":2899235,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14331720,"value":"{retry=>true, queue=>pull, args=>[111361440139542982, 111361440139542974], class=>UnmergeWorker, jid=>3b6da7f140d022e1ddad4fca, created_at=>1699240725.9685314, id=>530d7c2f4d9e9c1de8dea6e0}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14331740,"value":"#<JSON::Ext::Generator::State:0x00007fc918a245c0>"}},{"id":2899236,"event":"return","thread_id":9160,"parent_id":2899235,"elapsed":1.3944983948022127e-05,"elapsed_instrumentation":0.00017639895668253303,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440139542982,111361440139542974],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14331760}},{"id":2899237,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14331780,"value":"#<JSON::Ext::Parser:0x00007fc918a21c08>"}},{"id":2899238,"event":"return","thread_id":9160,"parent_id":2899237,"elapsed":1.9444036297500134e-05,"elapsed_instrumentation":0.00015238398918882012,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440139542982, 111361440139542974], class=>UnmergeWorker, jid=>3b6da7f140d022e1ddad4fca, created_at=>1699240725.9685314, id=>530d7c2f4d9e9c1de8dea6e0}","object_id":14331800,"size":7}},{"id":2899239,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880279085949,"value":"111361440139542974","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14331820,"value":"#<UnmergeWorker:0x00007fc918a35d70>"}},{"id":2899240,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14331820,"value":"#<UnmergeWorker:0x00007fc918a35d70>"}},{"id":2899241,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899242,"event":"return","thread_id":9160,"parent_id":2899241,"elapsed":0.000652279,"elapsed_instrumentation":0.00014400301733985543},{"id":2899243,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899244,"event":"return","thread_id":9160,"parent_id":2899243,"elapsed":0.000655436,"elapsed_instrumentation":9.08339861780405e-05},{"id":2899245,"event":"return","thread_id":9160,"parent_id":2899240,"elapsed":0.004312348028179258,"elapsed_instrumentation":0.00020931096514686942,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e17844c8>","object_id":14331840}},{"id":2899246,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14331820,"value":"#<UnmergeWorker:0x00007fc918a35d70>"}},{"id":2899247,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14331860,"value":"#<Account:0x00007fc8e1784608>","kind":"req"},{"name":"into_account","class":"Account","object_id":14331840,"value":"#<Account:0x00007fc8e17844c8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899248,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880279085949,"value":"111361440139542974","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899249,"event":"return","thread_id":9160,"parent_id":2899248,"elapsed":5.359994247555733e-06,"elapsed_instrumentation":0.0001018350594677031,"return_value":{"class":"String","value":"feed:home:111361440139542974","object_id":14331880}},{"id":2899250,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899251,"event":"return","thread_id":9160,"parent_id":2899250,"elapsed":4.5130145736038685e-06,"elapsed_instrumentation":7.407699013128877e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2899252,"event":"return","thread_id":9160,"parent_id":2899247,"elapsed":0.003167127026244998,"elapsed_instrumentation":0.00010503805242478848},{"id":2899253,"event":"return","thread_id":9160,"parent_id":2899246,"elapsed":0.0033058800036087632,"elapsed_instrumentation":9.186501847580075e-05},{"id":2899254,"event":"return","thread_id":9160,"parent_id":2899239,"elapsed":0.00797117198817432,"elapsed_instrumentation":7.630401523783803e-05},{"id":2899255,"event":"return","thread_id":9160,"parent_id":2899226,"elapsed":0.009201769018545747,"elapsed_instrumentation":0.0001628079917281866,"return_value":{"class":"String","value":"3b6da7f140d022e1ddad4fca","object_id":14331560}},{"id":2899256,"event":"return","thread_id":9160,"parent_id":2899165,"elapsed":0.031145935994572937,"elapsed_instrumentation":0.00016016000881791115,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1787a88>","object_id":14331400}},{"id":2899257,"event":"return","thread_id":9160,"parent_id":2899164,"elapsed":0.03132992598693818,"elapsed_instrumentation":7.85730080679059e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1787a88>","object_id":14331400}},{"id":2899258,"event":"return","thread_id":9160,"parent_id":2899163,"elapsed":0.03143888496560976,"elapsed_instrumentation":0.00012457702541723847,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1787a88>","object_id":14331400}},{"id":2899259,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14331900,"value":"relationship:111361440139542975:111361440139542982","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14331920,"value":"#<UnfollowService:0x00007fc8e0f99d80>"}},{"id":2899260,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14331920,"value":"#<UnfollowService:0x00007fc8e0f99d80>"}},{"id":2899261,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14331940,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14331960,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899262,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899263,"event":"return","thread_id":9160,"parent_id":2899262,"elapsed":2.799031790345907e-06,"elapsed_instrumentation":7.27740116417408e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2899264,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14331980,"value":"__O_&J___ Q_ P_M"}},{"id":2899265,"event":"return","thread_id":9160,"parent_id":2899264,"elapsed":7.080030627548695e-06,"elapsed_instrumentation":0.00014541996642947197,"return_value":{"class":"Array","value":"[3700051850, 9802, 57830, 63264, 20950, 542163533]","object_id":14332000,"size":6}},{"id":2899266,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899267,"event":"return","thread_id":9160,"parent_id":2899266,"elapsed":0.000846757,"elapsed_instrumentation":0.0004045419627800584},{"id":2899268,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14332020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899269,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899270,"event":"return","thread_id":9160,"parent_id":2899269,"elapsed":0.000429402,"elapsed_instrumentation":0.00016392196994274855},{"id":2899271,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899272,"event":"return","thread_id":9160,"parent_id":2899271,"elapsed":0.000397215,"elapsed_instrumentation":7.287098560482264e-05},{"id":2899273,"event":"return","thread_id":9160,"parent_id":2899268,"elapsed":0.0029274440021254122,"elapsed_instrumentation":0.00021439895499497652,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2899274,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2899275,"event":"return","thread_id":9160,"parent_id":2899274,"elapsed":0.000820709,"elapsed_instrumentation":7.200200343504548e-05},{"id":2899276,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14332020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899277,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2899278,"event":"return","thread_id":9160,"parent_id":2899277,"elapsed":0.0007244,"elapsed_instrumentation":7.491296855732799e-05},{"id":2899279,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899280,"event":"return","thread_id":9160,"parent_id":2899279,"elapsed":0.000617185,"elapsed_instrumentation":6.972200935706496e-05},{"id":2899281,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14332040,"value":"#<Account:0x00007fc8e17830c8>"}},{"id":2899282,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14332040,"value":"#<Account:0x00007fc8e17830c8>"}},{"id":2899283,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440139542975, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899284,"event":"return","thread_id":9160,"parent_id":2899283,"elapsed":0.000801662,"elapsed_instrumentation":0.0001232779468409717},{"id":2899285,"event":"return","thread_id":9160,"parent_id":2899282,"elapsed":0.0014967710012570024,"elapsed_instrumentation":9.163795039057732e-05},{"id":2899286,"event":"return","thread_id":9160,"parent_id":2899281,"elapsed":0.0016146809794008732,"elapsed_instrumentation":0.00012333202175796032},{"id":2899287,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899288,"event":"return","thread_id":9160,"parent_id":2899287,"elapsed":0.0006349,"elapsed_instrumentation":8.066795999184251e-05},{"id":2899289,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14332060,"value":"#<Account:0x00007fc8e17821c8>"}},{"id":2899290,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14332060,"value":"#<Account:0x00007fc8e17821c8>"}},{"id":2899291,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440139542982, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899292,"event":"return","thread_id":9160,"parent_id":2899291,"elapsed":0.000645501,"elapsed_instrumentation":0.00013602100079879165},{"id":2899293,"event":"return","thread_id":9160,"parent_id":2899290,"elapsed":0.001324757991824299,"elapsed_instrumentation":8.397200144827366e-05},{"id":2899294,"event":"return","thread_id":9160,"parent_id":2899289,"elapsed":0.0014319010078907013,"elapsed_instrumentation":0.00012739695375785232},{"id":2899295,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14332040,"value":"#<Account:0x00007fc8e17830c8>"}},{"id":2899296,"event":"return","thread_id":9160,"parent_id":2899295,"elapsed":1.5094003174453974e-05,"elapsed_instrumentation":8.932099444791675e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899297,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14332060,"value":"#<Account:0x00007fc8e17821c8>"}},{"id":2899298,"event":"return","thread_id":9160,"parent_id":2899297,"elapsed":6.796966772526503e-06,"elapsed_instrumentation":6.117497105151415e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899299,"event":"return","thread_id":9160,"parent_id":2899276,"elapsed":0.01061592303449288,"elapsed_instrumentation":0.00016365398187190294,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2899300,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899301,"event":"return","thread_id":9160,"parent_id":2899300,"elapsed":0.000301527,"elapsed_instrumentation":0.0001353209954686463},{"id":2899302,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14332100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899303,"event":"return","thread_id":9160,"parent_id":2899302,"elapsed":3.8350117392838e-06,"elapsed_instrumentation":0.00010356801794841886,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2899304,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14332100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899305,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14332120,"value":"Cache delete: relationship:111361440139542975:111361440139542982\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899306,"event":"return","thread_id":9160,"parent_id":2899305,"elapsed":0.0005042750271968544,"elapsed_instrumentation":0.0001055209431797266,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899307,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14332140,"value":"Cache delete: relationship:111361440139542982:111361440139542975\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899308,"event":"return","thread_id":9160,"parent_id":2899307,"elapsed":0.000432807020843029,"elapsed_instrumentation":0.00012459303252398968,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899309,"event":"return","thread_id":9160,"parent_id":2899304,"elapsed":0.0014242909965105355,"elapsed_instrumentation":9.610800771042705e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2899310,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2899311,"event":"return","thread_id":9160,"parent_id":2899310,"elapsed":7.513968739658594e-06,"elapsed_instrumentation":7.784803165122867e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899312,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2899313,"event":"return","thread_id":9160,"parent_id":2899312,"elapsed":4.957022611051798e-06,"elapsed_instrumentation":0.0001571779721416533,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899314,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14332160,"value":"#<Account:0x00007fc8e1770158>"}},{"id":2899315,"event":"return","thread_id":9160,"parent_id":2899314,"elapsed":9.560026228427887e-06,"elapsed_instrumentation":6.027001654729247e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899316,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14332180,"value":"{args=>[111361440139542982, 111361440139542975], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14332200,"value":"#<Sidekiq::Client:0x00007fc9189a6df0>"}},{"id":2899317,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14332220,"value":"\u0007__u\\_\bs\u001d_QU"}},{"id":2899318,"event":"return","thread_id":9160,"parent_id":2899317,"elapsed":3.969005774706602e-06,"elapsed_instrumentation":0.00010411097900941968,"return_value":{"class":"String","value":"07bf82755cec08731d9f5155","object_id":14332240}},{"id":2899319,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14332260,"value":"[111361440139542982, 111361440139542975]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14332280,"value":"#<JSON::Ext::Generator::State:0x00007fc9189a41b8>"}},{"id":2899320,"event":"return","thread_id":9160,"parent_id":2899319,"elapsed":5.24899223819375e-06,"elapsed_instrumentation":0.00010137900244444609,"return_value":{"class":"String","value":"[111361440139542982,111361440139542975]","object_id":14332300}},{"id":2899321,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14332320,"value":"#<JSON::Ext::Parser:0x00007fc9189a29d0>"}},{"id":2899322,"event":"return","thread_id":9160,"parent_id":2899321,"elapsed":5.263020284473896e-06,"elapsed_instrumentation":7.400097092613578e-05,"return_value":{"class":"Array","value":"[111361440139542982, 111361440139542975]","object_id":14332340,"size":2}},{"id":2899323,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14332360,"value":"J*____Y_\u0014__\u0003"}},{"id":2899324,"event":"return","thread_id":9160,"parent_id":2899323,"elapsed":3.0730152502655983e-06,"elapsed_instrumentation":9.056000271812081e-05,"return_value":{"class":"String","value":"4a2aec8a97bf59fc14d39003","object_id":14332380}},{"id":2899325,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14332400,"value":"{retry=>true, queue=>pull, args=>[111361440139542982, 111361440139542975], class=>UnmergeWorker, jid=>07bf82755cec08731d9f5155, created_at=>1699240726.0011861, id=>4a2aec8a97bf59fc14d39003}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14332420,"value":"#<JSON::Ext::Generator::State:0x00007fc9189a0220>"}},{"id":2899326,"event":"return","thread_id":9160,"parent_id":2899325,"elapsed":1.524703111499548e-05,"elapsed_instrumentation":0.00026087398873642087,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440139542982,111361440139542975],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14332440}},{"id":2899327,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14332460,"value":"#<JSON::Ext::Parser:0x00007fc9189b3ff0>"}},{"id":2899328,"event":"return","thread_id":9160,"parent_id":2899327,"elapsed":1.8279999494552612e-05,"elapsed_instrumentation":0.0001561290118843317,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440139542982, 111361440139542975], class=>UnmergeWorker, jid=>07bf82755cec08731d9f5155, created_at=>1699240726.0011861, id=>4a2aec8a97bf59fc14d39003}","object_id":14332480,"size":7}},{"id":2899329,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880279085951,"value":"111361440139542975","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14332500,"value":"#<UnmergeWorker:0x00007fc9189b1bb0>"}},{"id":2899330,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14332500,"value":"#<UnmergeWorker:0x00007fc9189b1bb0>"}},{"id":2899331,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899332,"event":"return","thread_id":9160,"parent_id":2899331,"elapsed":0.000556532,"elapsed_instrumentation":7.560005178675056e-05},{"id":2899333,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899334,"event":"return","thread_id":9160,"parent_id":2899333,"elapsed":0.000526993,"elapsed_instrumentation":7.492798613384366e-05},{"id":2899335,"event":"return","thread_id":9160,"parent_id":2899330,"elapsed":0.003994787984993309,"elapsed_instrumentation":0.00011407199781388044,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1780c88>","object_id":14332520}},{"id":2899336,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14332500,"value":"#<UnmergeWorker:0x00007fc9189b1bb0>"}},{"id":2899337,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14332540,"value":"#<Account:0x00007fc8e1780dc8>","kind":"req"},{"name":"into_account","class":"Account","object_id":14332520,"value":"#<Account:0x00007fc8e1780c88>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899338,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880279085951,"value":"111361440139542975","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899339,"event":"return","thread_id":9160,"parent_id":2899338,"elapsed":5.941023118793964e-06,"elapsed_instrumentation":0.00010310200741514564,"return_value":{"class":"String","value":"feed:home:111361440139542975","object_id":14332560}},{"id":2899340,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899341,"event":"return","thread_id":9160,"parent_id":2899340,"elapsed":4.907022230327129e-06,"elapsed_instrumentation":0.00013589998707175255,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2899342,"event":"return","thread_id":9160,"parent_id":2899337,"elapsed":0.0030040370183996856,"elapsed_instrumentation":0.00010388100054115057},{"id":2899343,"event":"return","thread_id":9160,"parent_id":2899336,"elapsed":0.0031425069901160896,"elapsed_instrumentation":9.617599425837398e-05},{"id":2899344,"event":"return","thread_id":9160,"parent_id":2899329,"elapsed":0.007395323016680777,"elapsed_instrumentation":7.334398105740547e-05},{"id":2899345,"event":"return","thread_id":9160,"parent_id":2899316,"elapsed":0.008593165024649352,"elapsed_instrumentation":0.0001561890239827335,"return_value":{"class":"String","value":"07bf82755cec08731d9f5155","object_id":14332240}},{"id":2899346,"event":"return","thread_id":9160,"parent_id":2899261,"elapsed":0.031084910966455936,"elapsed_instrumentation":0.00015716301277279854,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1783988>","object_id":14332080}},{"id":2899347,"event":"return","thread_id":9160,"parent_id":2899260,"elapsed":0.03126639098627493,"elapsed_instrumentation":9.770703036338091e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1783988>","object_id":14332080}},{"id":2899348,"event":"return","thread_id":9160,"parent_id":2899259,"elapsed":0.03140665398677811,"elapsed_instrumentation":0.0002498099929653108,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1783988>","object_id":14332080}},{"id":2899349,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14332580,"value":"relationship:111361440139542976:111361440139542982","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14332600,"value":"#<UnfollowService:0x00007fc8e0fac4a8>"}},{"id":2899350,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14332600,"value":"#<UnfollowService:0x00007fc8e0fac4a8>"}},{"id":2899351,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14332620,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14332640,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899352,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899353,"event":"return","thread_id":9160,"parent_id":2899352,"elapsed":2.6770285330712795e-06,"elapsed_instrumentation":6.696704076603055e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2899354,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14332660,"value":":_\u0016_N____EkT\fa_\u0012"}},{"id":2899355,"event":"return","thread_id":9160,"parent_id":2899354,"elapsed":7.145979907363653e-06,"elapsed_instrumentation":0.00023943005362525582,"return_value":{"class":"Array","value":"[983963316, 20185, 47282, 56901, 27476, 207741970]","object_id":14332680,"size":6}},{"id":2899356,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899357,"event":"return","thread_id":9160,"parent_id":2899356,"elapsed":0.0004261,"elapsed_instrumentation":8.62049637362361e-05},{"id":2899358,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14332700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899359,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899360,"event":"return","thread_id":9160,"parent_id":2899359,"elapsed":0.000313358,"elapsed_instrumentation":7.62459821999073e-05},{"id":2899361,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899362,"event":"return","thread_id":9160,"parent_id":2899361,"elapsed":0.000353594,"elapsed_instrumentation":5.8696954511106014e-05},{"id":2899363,"event":"return","thread_id":9160,"parent_id":2899358,"elapsed":0.0021400409750640392,"elapsed_instrumentation":0.000165119010489434,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2899364,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2899365,"event":"return","thread_id":9160,"parent_id":2899364,"elapsed":0.000660772,"elapsed_instrumentation":7.257802644744515e-05},{"id":2899366,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14332700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899367,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2899368,"event":"return","thread_id":9160,"parent_id":2899367,"elapsed":0.000681599,"elapsed_instrumentation":9.219103958457708e-05},{"id":2899369,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899370,"event":"return","thread_id":9160,"parent_id":2899369,"elapsed":0.000599235,"elapsed_instrumentation":8.446600986644626e-05},{"id":2899371,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14332720,"value":"#<Account:0x00007fc8e217f658>"}},{"id":2899372,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14332720,"value":"#<Account:0x00007fc8e217f658>"}},{"id":2899373,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440139542976, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899374,"event":"return","thread_id":9160,"parent_id":2899373,"elapsed":0.000741868,"elapsed_instrumentation":7.428997196257114e-05},{"id":2899375,"event":"return","thread_id":9160,"parent_id":2899372,"elapsed":0.0012589340331032872,"elapsed_instrumentation":8.864299161359668e-05},{"id":2899376,"event":"return","thread_id":9160,"parent_id":2899371,"elapsed":0.001373781997244805,"elapsed_instrumentation":0.00013554503675550222},{"id":2899377,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899378,"event":"return","thread_id":9160,"parent_id":2899377,"elapsed":0.00040955,"elapsed_instrumentation":6.395898526534438e-05},{"id":2899379,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14332740,"value":"#<Account:0x00007fc8e217de98>"}},{"id":2899380,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14332740,"value":"#<Account:0x00007fc8e217de98>"}},{"id":2899381,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440139542982, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899382,"event":"return","thread_id":9160,"parent_id":2899381,"elapsed":0.000781226,"elapsed_instrumentation":7.904804078862071e-05},{"id":2899383,"event":"return","thread_id":9160,"parent_id":2899380,"elapsed":0.0013628260348923504,"elapsed_instrumentation":0.00011264497879892588},{"id":2899384,"event":"return","thread_id":9160,"parent_id":2899379,"elapsed":0.001499389996752143,"elapsed_instrumentation":9.719806257635355e-05},{"id":2899385,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14332720,"value":"#<Account:0x00007fc8e217f658>"}},{"id":2899386,"event":"return","thread_id":9160,"parent_id":2899385,"elapsed":1.6034988220781088e-05,"elapsed_instrumentation":0.00010865298099815845,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899387,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14332740,"value":"#<Account:0x00007fc8e217de98>"}},{"id":2899388,"event":"return","thread_id":9160,"parent_id":2899387,"elapsed":6.9249654188752174e-06,"elapsed_instrumentation":6.949197268113494e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899389,"event":"return","thread_id":9160,"parent_id":2899366,"elapsed":0.010049727046862245,"elapsed_instrumentation":0.0003041480085812509,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2899390,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899391,"event":"return","thread_id":9160,"parent_id":2899390,"elapsed":0.000414257,"elapsed_instrumentation":7.015897426754236e-05},{"id":2899392,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14332780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899393,"event":"return","thread_id":9160,"parent_id":2899392,"elapsed":3.5879784263670444e-06,"elapsed_instrumentation":0.0001118519576266408,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2899394,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14332780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899395,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14332800,"value":"Cache delete: relationship:111361440139542976:111361440139542982\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899396,"event":"return","thread_id":9160,"parent_id":2899395,"elapsed":0.0005960319540463388,"elapsed_instrumentation":0.00011229002848267555,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899397,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14332820,"value":"Cache delete: relationship:111361440139542982:111361440139542976\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899398,"event":"return","thread_id":9160,"parent_id":2899397,"elapsed":0.0005248590023256838,"elapsed_instrumentation":0.00012891297228634357,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899399,"event":"return","thread_id":9160,"parent_id":2899394,"elapsed":0.001621423987671733,"elapsed_instrumentation":0.00010407500667497516,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2899400,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2899401,"event":"return","thread_id":9160,"parent_id":2899400,"elapsed":8.189992513507605e-06,"elapsed_instrumentation":8.383800741285086e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899402,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2899403,"event":"return","thread_id":9160,"parent_id":2899402,"elapsed":4.373025149106979e-06,"elapsed_instrumentation":8.767901454120874e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899404,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14332840,"value":"#<Account:0x00007fc8e1770018>"}},{"id":2899405,"event":"return","thread_id":9160,"parent_id":2899404,"elapsed":9.85100632533431e-06,"elapsed_instrumentation":6.075395504012704e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899406,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14332860,"value":"{args=>[111361440139542982, 111361440139542976], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14332880,"value":"#<Sidekiq::Client:0x00007fc918948160>"}},{"id":2899407,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14332900,"value":"_}\t&Z_______"}},{"id":2899408,"event":"return","thread_id":9160,"parent_id":2899407,"elapsed":4.510977305471897e-06,"elapsed_instrumentation":0.00010747200576588511,"return_value":{"class":"String","value":"b97d09265ae8eda2b7f5ffa0","object_id":14332920}},{"id":2899409,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14332940,"value":"[111361440139542982, 111361440139542976]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14332960,"value":"#<JSON::Ext::Generator::State:0x00007fc918943e58>"}},{"id":2899410,"event":"return","thread_id":9160,"parent_id":2899409,"elapsed":5.44002978131175e-06,"elapsed_instrumentation":0.00011442205868661404,"return_value":{"class":"String","value":"[111361440139542982,111361440139542976]","object_id":14332980}},{"id":2899411,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14333000,"value":"#<JSON::Ext::Parser:0x00007fc918942328>"}},{"id":2899412,"event":"return","thread_id":9160,"parent_id":2899411,"elapsed":5.4140109568834305e-06,"elapsed_instrumentation":7.653702050447464e-05,"return_value":{"class":"Array","value":"[111361440139542982, 111361440139542976]","object_id":14333020,"size":2}},{"id":2899413,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14333040,"value":"__\b_\u001a$__i(_D"}},{"id":2899414,"event":"return","thread_id":9160,"parent_id":2899413,"elapsed":4.092988092452288e-06,"elapsed_instrumentation":0.0004984649713151157,"return_value":{"class":"String","value":"f0ac08851a24bbfb6928fc44","object_id":14333060}},{"id":2899415,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14333080,"value":"{retry=>true, queue=>pull, args=>[111361440139542982, 111361440139542976], class=>UnmergeWorker, jid=>b97d09265ae8eda2b7f5ffa0, created_at=>1699240726.0307071, id=>f0ac08851a24bbfb6928fc44}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14333100,"value":"#<JSON::Ext::Generator::State:0x00007fc9188ff898>"}},{"id":2899416,"event":"return","thread_id":9160,"parent_id":2899415,"elapsed":1.8257007468491793e-05,"elapsed_instrumentation":0.00027728499844670296,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440139542982,111361440139542976],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14333120}},{"id":2899417,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14333140,"value":"#<JSON::Ext::Parser:0x00007fc9188fbba8>"}},{"id":2899418,"event":"return","thread_id":9160,"parent_id":2899417,"elapsed":2.058700192719698e-05,"elapsed_instrumentation":0.00017645698972046375,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440139542982, 111361440139542976], class=>UnmergeWorker, jid=>b97d09265ae8eda2b7f5ffa0, created_at=>1699240726.0307071, id=>f0ac08851a24bbfb6928fc44}","object_id":14333160,"size":7}},{"id":2899419,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880279085953,"value":"111361440139542976","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14333180,"value":"#<UnmergeWorker:0x00007fc9188f9420>"}},{"id":2899420,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14333180,"value":"#<UnmergeWorker:0x00007fc9188f9420>"}},{"id":2899421,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899422,"event":"return","thread_id":9160,"parent_id":2899421,"elapsed":0.000538877,"elapsed_instrumentation":7.346499478444457e-05},{"id":2899423,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899424,"event":"return","thread_id":9160,"parent_id":2899423,"elapsed":0.000548316,"elapsed_instrumentation":6.745400605723262e-05},{"id":2899425,"event":"return","thread_id":9160,"parent_id":2899420,"elapsed":0.003059298964217305,"elapsed_instrumentation":9.729299927130342e-05,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e217c318>","object_id":14333200}},{"id":2899426,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14333180,"value":"#<UnmergeWorker:0x00007fc9188f9420>"}},{"id":2899427,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14333220,"value":"#<Account:0x00007fc8e217c458>","kind":"req"},{"name":"into_account","class":"Account","object_id":14333200,"value":"#<Account:0x00007fc8e217c318>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899428,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880279085953,"value":"111361440139542976","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899429,"event":"return","thread_id":9160,"parent_id":2899428,"elapsed":4.884961526840925e-06,"elapsed_instrumentation":9.50800022110343e-05,"return_value":{"class":"String","value":"feed:home:111361440139542976","object_id":14333240}},{"id":2899430,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899431,"event":"return","thread_id":9160,"parent_id":2899430,"elapsed":5.670997779816389e-06,"elapsed_instrumentation":0.00013387802755460143,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2899432,"event":"return","thread_id":9160,"parent_id":2899427,"elapsed":0.0031734899966977537,"elapsed_instrumentation":0.00010503700468689203},{"id":2899433,"event":"return","thread_id":9160,"parent_id":2899426,"elapsed":0.0033104290487244725,"elapsed_instrumentation":7.123500108718872e-05},{"id":2899434,"event":"return","thread_id":9160,"parent_id":2899419,"elapsed":0.006580006971489638,"elapsed_instrumentation":7.843400817364454e-05},{"id":2899435,"event":"return","thread_id":9160,"parent_id":2899406,"elapsed":0.008342540997546166,"elapsed_instrumentation":0.00016091502038761973,"return_value":{"class":"String","value":"b97d09265ae8eda2b7f5ffa0","object_id":14332920}},{"id":2899436,"event":"return","thread_id":9160,"parent_id":2899351,"elapsed":0.028780836961232126,"elapsed_instrumentation":0.000146395992487669,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1780008>","object_id":14332760}},{"id":2899437,"event":"return","thread_id":9160,"parent_id":2899350,"elapsed":0.028950004023499787,"elapsed_instrumentation":7.523002568632364e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1780008>","object_id":14332760}},{"id":2899438,"event":"return","thread_id":9160,"parent_id":2899349,"elapsed":0.029056331026367843,"elapsed_instrumentation":0.00013111898442730308,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e1780008>","object_id":14332760}},{"id":2899439,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14333260,"value":"relationship:111361440139542977:111361440139542982","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14333280,"value":"#<UnfollowService:0x00007fc8e0fcf980>"}},{"id":2899440,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14333280,"value":"#<UnfollowService:0x00007fc8e0fcf980>"}},{"id":2899441,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14333300,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14333320,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899442,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899443,"event":"return","thread_id":9160,"parent_id":2899442,"elapsed":3.1329691410064697e-06,"elapsed_instrumentation":0.000314174045342952,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2899444,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14333340,"value":"\u0017______'__hX_kM_"}},{"id":2899445,"event":"return","thread_id":9160,"parent_id":2899444,"elapsed":6.528978701680899e-06,"elapsed_instrumentation":0.00021173804998397827,"return_value":{"class":"Array","value":"[399225216, 35045, 33831, 58067, 26712, 3412807147]","object_id":14333360,"size":6}},{"id":2899446,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899447,"event":"return","thread_id":9160,"parent_id":2899446,"elapsed":0.000507501,"elapsed_instrumentation":8.524500299245119e-05},{"id":2899448,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14333380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899449,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899450,"event":"return","thread_id":9160,"parent_id":2899449,"elapsed":0.000348859,"elapsed_instrumentation":7.208198076114058e-05},{"id":2899451,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899452,"event":"return","thread_id":9160,"parent_id":2899451,"elapsed":0.000327553,"elapsed_instrumentation":6.0481950640678406e-05},{"id":2899453,"event":"return","thread_id":9160,"parent_id":2899448,"elapsed":0.002176398003939539,"elapsed_instrumentation":0.00015059701399877667,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2899454,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2899455,"event":"return","thread_id":9160,"parent_id":2899454,"elapsed":0.000533687,"elapsed_instrumentation":8.854200132191181e-05},{"id":2899456,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14333380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899457,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2899458,"event":"return","thread_id":9160,"parent_id":2899457,"elapsed":0.000567848,"elapsed_instrumentation":7.227901369333267e-05},{"id":2899459,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899460,"event":"return","thread_id":9160,"parent_id":2899459,"elapsed":0.000492919,"elapsed_instrumentation":7.666699821129441e-05},{"id":2899461,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14333400,"value":"#<Account:0x00007fc8e217ac98>"}},{"id":2899462,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14333400,"value":"#<Account:0x00007fc8e217ac98>"}},{"id":2899463,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14333420,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14333440,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2899464,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14333460,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14333480,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2899465,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2899466,"event":"return","thread_id":13276700,"parent_id":2899465,"elapsed":5.407026037573814e-06,"elapsed_instrumentation":7.239391561597586e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2899467,"event":"return","thread_id":13276700,"parent_id":2899464,"elapsed":9.651604341343045e-05,"elapsed_instrumentation":0.00011198397260159254,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2899468,"event":"return","thread_id":13276700,"parent_id":2899463,"elapsed":0.0002287949901074171,"elapsed_instrumentation":0.000172103988006711,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2899469,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440139542977, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899470,"event":"return","thread_id":9160,"parent_id":2899469,"elapsed":0.000724899,"elapsed_instrumentation":0.00017107598250731826},{"id":2899471,"event":"return","thread_id":9160,"parent_id":2899462,"elapsed":0.0013990899897180498,"elapsed_instrumentation":8.283904753625393e-05},{"id":2899472,"event":"return","thread_id":9160,"parent_id":2899461,"elapsed":0.0015074440161697567,"elapsed_instrumentation":0.0001238959957845509},{"id":2899473,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899474,"event":"return","thread_id":9160,"parent_id":2899473,"elapsed":0.00052074,"elapsed_instrumentation":7.151800673455e-05},{"id":2899475,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14333500,"value":"#<Account:0x00007fc8e2179c58>"}},{"id":2899476,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14333500,"value":"#<Account:0x00007fc8e2179c58>"}},{"id":2899477,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440139542982, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899478,"event":"return","thread_id":9160,"parent_id":2899477,"elapsed":0.000790249,"elapsed_instrumentation":7.473601726815104e-05},{"id":2899479,"event":"return","thread_id":9160,"parent_id":2899476,"elapsed":0.0013626390136778355,"elapsed_instrumentation":8.674099808558822e-05},{"id":2899480,"event":"return","thread_id":9160,"parent_id":2899475,"elapsed":0.0014720289618708193,"elapsed_instrumentation":0.00019047100795432925},{"id":2899481,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14333400,"value":"#<Account:0x00007fc8e217ac98>"}},{"id":2899482,"event":"return","thread_id":9160,"parent_id":2899481,"elapsed":1.44570367410779e-05,"elapsed_instrumentation":9.120994945988059e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899483,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14333500,"value":"#<Account:0x00007fc8e2179c58>"}},{"id":2899484,"event":"return","thread_id":9160,"parent_id":2899483,"elapsed":6.521993782371283e-06,"elapsed_instrumentation":6.307900184765458e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899485,"event":"return","thread_id":9160,"parent_id":2899456,"elapsed":0.010045281960628927,"elapsed_instrumentation":0.0001532690366730094,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2899486,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899487,"event":"return","thread_id":9160,"parent_id":2899486,"elapsed":0.000319509,"elapsed_instrumentation":6.726098945364356e-05},{"id":2899488,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14333540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899489,"event":"return","thread_id":9160,"parent_id":2899488,"elapsed":3.2859970815479755e-06,"elapsed_instrumentation":0.00011547701433300972,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2899490,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14333540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899491,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14333560,"value":"Cache delete: relationship:111361440139542977:111361440139542982\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899492,"event":"return","thread_id":9160,"parent_id":2899491,"elapsed":0.0005580600118264556,"elapsed_instrumentation":0.00010447396198287606,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899493,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14333580,"value":"Cache delete: relationship:111361440139542982:111361440139542977\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899494,"event":"return","thread_id":9160,"parent_id":2899493,"elapsed":0.0006123739876784384,"elapsed_instrumentation":0.00011879700468853116,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899495,"event":"return","thread_id":9160,"parent_id":2899490,"elapsed":0.0016564509714953601,"elapsed_instrumentation":0.00010346702765673399,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2899496,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2899497,"event":"return","thread_id":9160,"parent_id":2899496,"elapsed":8.15297244116664e-06,"elapsed_instrumentation":8.698500460013747e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899498,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14326220,"value":"#<Account:0x00007fc8e1764600>"}},{"id":2899499,"event":"return","thread_id":9160,"parent_id":2899498,"elapsed":3.8800062611699104e-06,"elapsed_instrumentation":6.176292663440108e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899500,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14333600,"value":"#<Account:0x00007fc8e178fdc8>"}},{"id":2899501,"event":"return","thread_id":9160,"parent_id":2899500,"elapsed":9.684008546173573e-06,"elapsed_instrumentation":6.0125021263957024e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899502,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14333620,"value":"{args=>[111361440139542982, 111361440139542977], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14333640,"value":"#<Sidekiq::Client:0x00007fc918892748>"}},{"id":2899503,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14333660,"value":"\u001a___-_i_____"}},{"id":2899504,"event":"return","thread_id":9160,"parent_id":2899503,"elapsed":1.2803997378796339e-05,"elapsed_instrumentation":0.00014518696116283536,"return_value":{"class":"String","value":"1aeae38a2dcf6994f8bcb8c4","object_id":14333680}},{"id":2899505,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14333700,"value":"[111361440139542982, 111361440139542977]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14333720,"value":"#<JSON::Ext::Generator::State:0x00007fc9188af780>"}},{"id":2899506,"event":"return","thread_id":9160,"parent_id":2899505,"elapsed":6.333983037620783e-06,"elapsed_instrumentation":0.00012348999734967947,"return_value":{"class":"String","value":"[111361440139542982,111361440139542977]","object_id":14333740}},{"id":2899507,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14333760,"value":"#<JSON::Ext::Parser:0x00007fc9188ac670>"}},{"id":2899508,"event":"return","thread_id":9160,"parent_id":2899507,"elapsed":5.668029189109802e-06,"elapsed_instrumentation":7.719197310507298e-05,"return_value":{"class":"Array","value":"[111361440139542982, 111361440139542977]","object_id":14333780,"size":2}},{"id":2899509,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14333800,"value":"k0)\u0012____E\"K["}},{"id":2899510,"event":"return","thread_id":9160,"parent_id":2899509,"elapsed":4.118017386645079e-06,"elapsed_instrumentation":0.00011673400877043605,"return_value":{"class":"String","value":"6b302912feb1c49845224b5b","object_id":14333820}},{"id":2899511,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14333840,"value":"{retry=>true, queue=>pull, args=>[111361440139542982, 111361440139542977], class=>UnmergeWorker, jid=>1aeae38a2dcf6994f8bcb8c4, created_at=>1699240726.0595186, id=>6b302912feb1c49845224b5b}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14333860,"value":"#<JSON::Ext::Generator::State:0x00007fc9188a8930>"}},{"id":2899512,"event":"return","thread_id":9160,"parent_id":2899511,"elapsed":1.4906981959939003e-05,"elapsed_instrumentation":0.00034002005122601986,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440139542982,111361440139542977],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14333880}},{"id":2899513,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14333900,"value":"#<JSON::Ext::Parser:0x00007fc9188a5618>"}},{"id":2899514,"event":"return","thread_id":9160,"parent_id":2899513,"elapsed":1.9836006686091423e-05,"elapsed_instrumentation":0.00016130198491737247,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440139542982, 111361440139542977], class=>UnmergeWorker, jid=>1aeae38a2dcf6994f8bcb8c4, created_at=>1699240726.0595186, id=>6b302912feb1c49845224b5b}","object_id":14333920,"size":7}},{"id":2899515,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880279085965,"value":"111361440139542982","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880279085955,"value":"111361440139542977","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14333940,"value":"#<UnmergeWorker:0x00007fc9188a3228>"}},{"id":2899516,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14333940,"value":"#<UnmergeWorker:0x00007fc9188a3228>"}},{"id":2899517,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899518,"event":"return","thread_id":9160,"parent_id":2899517,"elapsed":0.000909134,"elapsed_instrumentation":0.00010885996744036674},{"id":2899519,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899520,"event":"return","thread_id":9160,"parent_id":2899519,"elapsed":0.000608512,"elapsed_instrumentation":8.703197818249464e-05},{"id":2899521,"event":"return","thread_id":9160,"parent_id":2899516,"elapsed":0.004628043971024454,"elapsed_instrumentation":0.00011840404476970434,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e2178218>","object_id":14333960}},{"id":2899522,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14333940,"value":"#<UnmergeWorker:0x00007fc9188a3228>"}},{"id":2899523,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14333980,"value":"#<Account:0x00007fc8e2178358>","kind":"req"},{"name":"into_account","class":"Account","object_id":14333960,"value":"#<Account:0x00007fc8e2178218>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899524,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880279085955,"value":"111361440139542977","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899525,"event":"return","thread_id":9160,"parent_id":2899524,"elapsed":5.4810079745948315e-06,"elapsed_instrumentation":0.00010581297101452947,"return_value":{"class":"String","value":"feed:home:111361440139542977","object_id":14334000}},{"id":2899526,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899527,"event":"return","thread_id":9160,"parent_id":2899526,"elapsed":4.36598202213645e-06,"elapsed_instrumentation":7.236201781779528e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2899528,"event":"return","thread_id":9160,"parent_id":2899523,"elapsed":0.0030005560256540775,"elapsed_instrumentation":0.0001704400056041777},{"id":2899529,"event":"return","thread_id":9160,"parent_id":2899522,"elapsed":0.0032096770009957254,"elapsed_instrumentation":9.915302507579327e-05},{"id":2899530,"event":"return","thread_id":9160,"parent_id":2899515,"elapsed":0.008115936012472957,"elapsed_instrumentation":0.00015417096437886357},{"id":2899531,"event":"return","thread_id":9160,"parent_id":2899502,"elapsed":0.009700449008960277,"elapsed_instrumentation":0.00015767302829772234,"return_value":{"class":"String","value":"1aeae38a2dcf6994f8bcb8c4","object_id":14333680}},{"id":2899532,"event":"return","thread_id":9160,"parent_id":2899441,"elapsed":0.029537000984419137,"elapsed_instrumentation":0.00014517299132421613,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e217b558>","object_id":14333520}},{"id":2899533,"event":"return","thread_id":9160,"parent_id":2899440,"elapsed":0.029704693995881826,"elapsed_instrumentation":9.033299284055829e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e217b558>","object_id":14333520}},{"id":2899534,"event":"return","thread_id":9160,"parent_id":2899439,"elapsed":0.029832372965756804,"elapsed_instrumentation":0.00020195700926706195,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e217b558>","object_id":14333520}},{"id":2899535,"event":"return","thread_id":9160,"parent_id":2898526,"elapsed":0.3536281710257754,"elapsed_instrumentation":0.0002180070150643587,"return_value":{"class":"IO","value":"#<IO:0x00007fc94b108f80>","object_id":195040}},{"id":2899536,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899537,"event":"return","thread_id":9160,"parent_id":2899536,"elapsed":0.000668775,"elapsed_instrumentation":8.815299952402711e-05},{"id":2899538,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"target_account_id\" WHERE \"follows\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899539,"event":"return","thread_id":9160,"parent_id":2899538,"elapsed":0.000890443,"elapsed_instrumentation":7.635605288669467e-05}]}