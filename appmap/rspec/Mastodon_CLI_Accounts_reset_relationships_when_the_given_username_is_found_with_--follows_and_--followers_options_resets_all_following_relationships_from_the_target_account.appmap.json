{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --follows and --followers options resets all \"following\" relationships from the target account","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"User","type":"class","children":[{"name":"those_who_can","type":"function","location":"app/models/user.rb:143","static":true}]},{"name":"UserRole","type":"class","children":[{"name":"that_can","type":"function","location":"app/models/user_role.rb:111","static":true},{"name":"can?","type":"function","location":"app/models/user_role.rb:131","static":false},{"name":"computed_permissions","type":"function","location":"app/models/user_role.rb:139","static":false},{"name":"everyone?","type":"function","location":"app/models/user_role.rb:115","static":false},{"name":"nobody?","type":"function","location":"app/models/user_role.rb:119","static":false},{"name":"everyone","type":"function","location":"app/models/user_role.rb:105","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]},{"name":"BootstrapTimelineWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/bootstrap_timeline_worker.rb:6","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":1489673,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":8103620,"value":"nikole3177","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8103640,"value":"#<Mastodon::CLI::Accounts:0x00007fdc076febf0>"}},{"id":1489674,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":8103660,"value":"#<AccountFinderConcern::AccountFinder:0x00007fdc06db1bd8>"}},{"id":1489675,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'nikole3177' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":1489676,"event":"return","thread_id":9160,"parent_id":1489675,"elapsed":0.000908564,"elapsed_instrumentation":9.885898907668889e-05},{"id":1489677,"event":"return","thread_id":9160,"parent_id":1489674,"elapsed":0.004809434001799673,"elapsed_instrumentation":0.00015539300511591136,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06753200>","object_id":8103680}},{"id":1489678,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1)","database_type":"postgres"}},{"id":1489679,"event":"return","thread_id":9160,"parent_id":1489678,"elapsed":0.001140856,"elapsed_instrumentation":7.423700299113989e-05},{"id":1489680,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1)","database_type":"postgres"}},{"id":1489681,"event":"return","thread_id":9160,"parent_id":1489680,"elapsed":0.001169855,"elapsed_instrumentation":9.961400064639747e-05},{"id":1489682,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8103640,"value":"#<Mastodon::CLI::Accounts:0x00007fdc076febf0>"}},{"id":1489683,"event":"return","thread_id":9160,"parent_id":1489682,"elapsed":0.000117888004751876,"elapsed_instrumentation":0.0002483380085323006,"return_value":{"class":"ProgressBar::Base","value":"","object_id":8103700}},{"id":1489684,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1489685,"event":"return","thread_id":9160,"parent_id":1489684,"elapsed":0.00184697,"elapsed_instrumentation":0.00010579402442090213},{"id":1489686,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8103720,"value":"relationship:111360521806057241:111360521806057245","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8103740,"value":"#<UnfollowService:0x00007fdc076fc800>"}},{"id":1489687,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8103740,"value":"#<UnfollowService:0x00007fdc076fc800>"}},{"id":1489688,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8103760,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8103780,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489689,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489690,"event":"return","thread_id":9160,"parent_id":1489689,"elapsed":3.2600073609501123e-06,"elapsed_instrumentation":0.0001060080248862505,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1489691,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8103800,"value":"____\\\u0014{_____\u0002\f__"}},{"id":1489692,"event":"return","thread_id":9160,"parent_id":1489691,"elapsed":7.133989129215479e-06,"elapsed_instrumentation":0.00013491100980900228,"return_value":{"class":"Array","value":"[3231813583, 23572, 31734, 50363, 61140, 34376324]","object_id":8103820,"size":6}},{"id":1489693,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489694,"event":"return","thread_id":9160,"parent_id":1489693,"elapsed":0.000833146,"elapsed_instrumentation":0.00042017700616270304},{"id":1489695,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8103840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489696,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489697,"event":"return","thread_id":9160,"parent_id":1489696,"elapsed":0.000943739,"elapsed_instrumentation":0.0001355540007352829},{"id":1489698,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489699,"event":"return","thread_id":9160,"parent_id":1489698,"elapsed":0.000783783,"elapsed_instrumentation":9.18010191526264e-05},{"id":1489700,"event":"return","thread_id":9160,"parent_id":1489695,"elapsed":0.0047768260119482875,"elapsed_instrumentation":0.0003031390078831464,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1489701,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1489702,"event":"return","thread_id":9160,"parent_id":1489701,"elapsed":0.000816844,"elapsed_instrumentation":8.645901107229292e-05},{"id":1489703,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8103840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489704,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1489705,"event":"return","thread_id":9160,"parent_id":1489704,"elapsed":0.000823065,"elapsed_instrumentation":0.00017213099636137486},{"id":1489706,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489707,"event":"return","thread_id":9160,"parent_id":1489706,"elapsed":0.000705966,"elapsed_instrumentation":0.00013515801401808858},{"id":1489708,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8103860,"value":"#<Account:0x00007fdc067508c0>"}},{"id":1489709,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8103860,"value":"#<Account:0x00007fdc067508c0>"}},{"id":1489710,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521806057245, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489711,"event":"return","thread_id":9160,"parent_id":1489710,"elapsed":0.001340815,"elapsed_instrumentation":8.615301339887083e-05},{"id":1489712,"event":"return","thread_id":9160,"parent_id":1489709,"elapsed":0.0019115479954052716,"elapsed_instrumentation":9.58210148382932e-05},{"id":1489713,"event":"return","thread_id":9160,"parent_id":1489708,"elapsed":0.002034659992204979,"elapsed_instrumentation":0.00013919902266934514},{"id":1489714,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489715,"event":"return","thread_id":9160,"parent_id":1489714,"elapsed":0.000730815,"elapsed_instrumentation":7.941099465824664e-05},{"id":1489716,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8103880,"value":"#<Account:0x00007fdc0690f288>"}},{"id":1489717,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8103880,"value":"#<Account:0x00007fdc0690f288>"}},{"id":1489718,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521806057241, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489719,"event":"return","thread_id":9160,"parent_id":1489718,"elapsed":0.00107957,"elapsed_instrumentation":8.057800005190074e-05},{"id":1489720,"event":"return","thread_id":9160,"parent_id":1489717,"elapsed":0.0017813779995776713,"elapsed_instrumentation":9.44010098464787e-05},{"id":1489721,"event":"return","thread_id":9160,"parent_id":1489716,"elapsed":0.001901329989777878,"elapsed_instrumentation":0.0001369690289720893},{"id":1489722,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103860,"value":"#<Account:0x00007fdc067508c0>"}},{"id":1489723,"event":"return","thread_id":9160,"parent_id":1489722,"elapsed":1.4360994100570679e-05,"elapsed_instrumentation":0.0001048529811669141,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489724,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103880,"value":"#<Account:0x00007fdc0690f288>"}},{"id":1489725,"event":"return","thread_id":9160,"parent_id":1489724,"elapsed":7.641006959602237e-06,"elapsed_instrumentation":7.248300244100392e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489726,"event":"return","thread_id":9160,"parent_id":1489703,"elapsed":0.013241672015283257,"elapsed_instrumentation":0.00019260900444351137,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1489727,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489728,"event":"return","thread_id":9160,"parent_id":1489727,"elapsed":0.000685662,"elapsed_instrumentation":7.693597581237555e-05},{"id":1489729,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8103920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489730,"event":"return","thread_id":9160,"parent_id":1489729,"elapsed":5.324982339516282e-06,"elapsed_instrumentation":0.00037895800778642297,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1489731,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8103920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489732,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8103940,"value":"Cache delete: relationship:111360521806057245:111360521806057241\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489733,"event":"return","thread_id":9160,"parent_id":1489732,"elapsed":0.0013023549981880933,"elapsed_instrumentation":0.00016751201474107802,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489734,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8103960,"value":"Cache delete: relationship:111360521806057241:111360521806057245\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489735,"event":"return","thread_id":9160,"parent_id":1489734,"elapsed":0.0008831190061755478,"elapsed_instrumentation":0.0001518729841336608,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489736,"event":"return","thread_id":9160,"parent_id":1489731,"elapsed":0.00321923999581486,"elapsed_instrumentation":0.00014355001621879637,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1489737,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103980,"value":"#<Account:0x00007fdc06751e00>"}},{"id":1489738,"event":"return","thread_id":9160,"parent_id":1489737,"elapsed":1.5269994037225842e-05,"elapsed_instrumentation":9.484196198172867e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489739,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103980,"value":"#<Account:0x00007fdc06751e00>"}},{"id":1489740,"event":"return","thread_id":9160,"parent_id":1489739,"elapsed":4.310015356168151e-06,"elapsed_instrumentation":6.653895252384245e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489741,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1489742,"event":"return","thread_id":9160,"parent_id":1489741,"elapsed":8.826988050714135e-06,"elapsed_instrumentation":5.899398820474744e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489743,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8104000,"value":"{args=>[111360521806057241, 111360521806057245], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8104020,"value":"#<Sidekiq::Client:0x00007fdc06d0bbe8>"}},{"id":1489744,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8104040,"value":"\u000b_y__`rN_=__"}},{"id":1489745,"event":"return","thread_id":9160,"parent_id":1489744,"elapsed":7.89598561823368e-06,"elapsed_instrumentation":0.00021266800467856228,"return_value":{"class":"String","value":"0bad79bbc760724ec73db182","object_id":8104060}},{"id":1489746,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8104080,"value":"[111360521806057241, 111360521806057245]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8104100,"value":"#<JSON::Ext::Generator::State:0x00007fdc06d08cb8>"}},{"id":1489747,"event":"return","thread_id":9160,"parent_id":1489746,"elapsed":6.072979886084795e-06,"elapsed_instrumentation":0.00011949799954891205,"return_value":{"class":"String","value":"[111360521806057241,111360521806057245]","object_id":8104120}},{"id":1489748,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8104140,"value":"#<JSON::Ext::Parser:0x00007fdc06d07f70>"}},{"id":1489749,"event":"return","thread_id":9160,"parent_id":1489748,"elapsed":5.43700298294425e-06,"elapsed_instrumentation":0.0002524860028643161,"return_value":{"class":"Array","value":"[111360521806057241, 111360521806057245]","object_id":8104160,"size":2}},{"id":1489750,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8104180,"value":"__@\u001dj__\u0018.%v_"}},{"id":1489751,"event":"return","thread_id":9160,"parent_id":1489750,"elapsed":3.8460129871964455e-06,"elapsed_instrumentation":0.0001303369936067611,"return_value":{"class":"String","value":"c4ec401d6a5fac182e2576a7","object_id":8104200}},{"id":1489752,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8104220,"value":"{retry=>true, queue=>pull, args=>[111360521806057241, 111360521806057245], class=>UnmergeWorker, jid=>0bad79bbc760724ec73db182, created_at=>1699226713.878643, id=>c4ec401d6a5fac182e2576a7}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8104240,"value":"#<JSON::Ext::Generator::State:0x00007fdc06d06440>"}},{"id":1489753,"event":"return","thread_id":9160,"parent_id":1489752,"elapsed":1.6467005480080843e-05,"elapsed_instrumentation":0.0002484940050635487,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521806057241,111360521806057245],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8104260}},{"id":1489754,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8104280,"value":"#<JSON::Ext::Parser:0x00007fdc06d043c0>"}},{"id":1489755,"event":"return","thread_id":9160,"parent_id":1489754,"elapsed":2.2263993741944432e-05,"elapsed_instrumentation":0.00016565198893658817,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521806057241, 111360521806057245], class=>UnmergeWorker, jid=>0bad79bbc760724ec73db182, created_at=>1699226713.878643, id=>c4ec401d6a5fac182e2576a7}","object_id":8104300,"size":7}},{"id":1489756,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043612114483,"value":"111360521806057241","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8104320,"value":"#<UnmergeWorker:0x00007fdc06d013a0>"}},{"id":1489757,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8104320,"value":"#<UnmergeWorker:0x00007fdc06d013a0>"}},{"id":1489758,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489759,"event":"return","thread_id":9160,"parent_id":1489758,"elapsed":0.000733359,"elapsed_instrumentation":9.661001968197525e-05},{"id":1489760,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489761,"event":"return","thread_id":9160,"parent_id":1489760,"elapsed":0.000648636,"elapsed_instrumentation":7.92090140748769e-05},{"id":1489762,"event":"return","thread_id":9160,"parent_id":1489757,"elapsed":0.0039675630105193704,"elapsed_instrumentation":0.0002018679806496948,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0690d348>","object_id":8104340}},{"id":1489763,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8104320,"value":"#<UnmergeWorker:0x00007fdc06d013a0>"}},{"id":1489764,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8104360,"value":"#<Account:0x00007fdc0690d708>","kind":"req"},{"name":"into_account","class":"Account","object_id":8104340,"value":"#<Account:0x00007fdc0690d348>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489765,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489766,"event":"return","thread_id":9160,"parent_id":1489765,"elapsed":4.828994860872626e-06,"elapsed_instrumentation":0.00010135798947885633,"return_value":{"class":"String","value":"feed:home:111360521806057245","object_id":8104380}},{"id":1489767,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489768,"event":"return","thread_id":9160,"parent_id":1489767,"elapsed":4.792993422597647e-06,"elapsed_instrumentation":7.237598765641451e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1489769,"event":"return","thread_id":9160,"parent_id":1489764,"elapsed":0.004055486002471298,"elapsed_instrumentation":0.00010749200009740889},{"id":1489770,"event":"return","thread_id":9160,"parent_id":1489763,"elapsed":0.004194864013697952,"elapsed_instrumentation":8.676198194734752e-05},{"id":1489771,"event":"return","thread_id":9160,"parent_id":1489756,"elapsed":0.008500939991790801,"elapsed_instrumentation":8.403998799622059e-05},{"id":1489772,"event":"return","thread_id":9160,"parent_id":1489743,"elapsed":0.01015417100279592,"elapsed_instrumentation":0.00019098600023426116,"return_value":{"class":"String","value":"0bad79bbc760724ec73db182","object_id":8104060}},{"id":1489773,"event":"return","thread_id":9160,"parent_id":1489688,"elapsed":0.0405808369978331,"elapsed_instrumentation":0.00017034600023180246,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06751680>","object_id":8103900}},{"id":1489774,"event":"return","thread_id":9160,"parent_id":1489687,"elapsed":0.040778872004011646,"elapsed_instrumentation":0.00011682798503898084,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06751680>","object_id":8103900}},{"id":1489775,"event":"return","thread_id":9160,"parent_id":1489686,"elapsed":0.04093999299220741,"elapsed_instrumentation":0.00037576002068817616,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06751680>","object_id":8103900}},{"id":1489776,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8104400,"value":"relationship:111360521806057242:111360521806057245","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8104420,"value":"#<UnfollowService:0x00007fdc076f4bf0>"}},{"id":1489777,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8104420,"value":"#<UnfollowService:0x00007fdc076f4bf0>"}},{"id":1489778,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8104440,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8104460,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489779,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489780,"event":"return","thread_id":9160,"parent_id":1489779,"elapsed":3.43698775395751e-06,"elapsed_instrumentation":7.500199717469513e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1489781,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8104480,"value":"k___\u0012_____#__3g_"}},{"id":1489782,"event":"return","thread_id":9160,"parent_id":1489781,"elapsed":1.0711984941735864e-05,"elapsed_instrumentation":0.000288909999653697,"return_value":{"class":"Array","value":"[1806270609, 4780, 62887, 45302, 9146, 2670946214]","object_id":8104500,"size":6}},{"id":1489783,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489784,"event":"return","thread_id":9160,"parent_id":1489783,"elapsed":0.000591706,"elapsed_instrumentation":0.0001087929995264858},{"id":1489785,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8104520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489786,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489787,"event":"return","thread_id":9160,"parent_id":1489786,"elapsed":0.00045991,"elapsed_instrumentation":8.772098226472735e-05},{"id":1489788,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489789,"event":"return","thread_id":9160,"parent_id":1489788,"elapsed":0.000480754,"elapsed_instrumentation":7.22339900676161e-05},{"id":1489790,"event":"return","thread_id":9160,"parent_id":1489785,"elapsed":0.003567470994312316,"elapsed_instrumentation":0.00019977599731646478,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1489791,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1489792,"event":"return","thread_id":9160,"parent_id":1489791,"elapsed":0.000805675,"elapsed_instrumentation":7.773199467919767e-05},{"id":1489793,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8104520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489794,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1489795,"event":"return","thread_id":9160,"parent_id":1489794,"elapsed":0.000582608,"elapsed_instrumentation":7.31839973013848e-05},{"id":1489796,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489797,"event":"return","thread_id":9160,"parent_id":1489796,"elapsed":0.000724491,"elapsed_instrumentation":0.0003016059927176684},{"id":1489798,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8104540,"value":"#<Account:0x00007fdc0690c6c8>"}},{"id":1489799,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8104540,"value":"#<Account:0x00007fdc0690c6c8>"}},{"id":1489800,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521806057245, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489801,"event":"return","thread_id":9160,"parent_id":1489800,"elapsed":0.001047557,"elapsed_instrumentation":0.00016676902305334806},{"id":1489802,"event":"return","thread_id":9160,"parent_id":1489799,"elapsed":0.0019677609961945564,"elapsed_instrumentation":0.00013012098497711122},{"id":1489803,"event":"return","thread_id":9160,"parent_id":1489798,"elapsed":0.0021292520104907453,"elapsed_instrumentation":0.00014669299707747996},{"id":1489804,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489805,"event":"return","thread_id":9160,"parent_id":1489804,"elapsed":0.000728163,"elapsed_instrumentation":9.840200073085725e-05},{"id":1489806,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8104560,"value":"#<Account:0x00007fdc0690b688>"}},{"id":1489807,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8104560,"value":"#<Account:0x00007fdc0690b688>"}},{"id":1489808,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521806057242, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489809,"event":"return","thread_id":9160,"parent_id":1489808,"elapsed":0.001286378,"elapsed_instrumentation":9.867901098914444e-05},{"id":1489810,"event":"return","thread_id":9160,"parent_id":1489807,"elapsed":0.0023150750203058124,"elapsed_instrumentation":0.00024465195019729435},{"id":1489811,"event":"return","thread_id":9160,"parent_id":1489806,"elapsed":0.0026038310024887323,"elapsed_instrumentation":0.00019006800721399486},{"id":1489812,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8104540,"value":"#<Account:0x00007fdc0690c6c8>"}},{"id":1489813,"event":"return","thread_id":9160,"parent_id":1489812,"elapsed":2.862699329853058e-05,"elapsed_instrumentation":0.0001362430048175156,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489814,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8104560,"value":"#<Account:0x00007fdc0690b688>"}},{"id":1489815,"event":"return","thread_id":9160,"parent_id":1489814,"elapsed":8.545001037418842e-06,"elapsed_instrumentation":8.584099123254418e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489816,"event":"return","thread_id":9160,"parent_id":1489793,"elapsed":0.014260494004702196,"elapsed_instrumentation":0.0003595080052036792,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1489817,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489818,"event":"return","thread_id":9160,"parent_id":1489817,"elapsed":0.000550773,"elapsed_instrumentation":8.251599501818419e-05},{"id":1489819,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8104600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489820,"event":"return","thread_id":9160,"parent_id":1489819,"elapsed":3.910012310370803e-06,"elapsed_instrumentation":0.00023872198653407395,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1489821,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8104600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489822,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8104620,"value":"Cache delete: relationship:111360521806057245:111360521806057242\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489823,"event":"return","thread_id":9160,"parent_id":1489822,"elapsed":0.0007912410073913634,"elapsed_instrumentation":0.00012508098734542727,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489824,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8104640,"value":"Cache delete: relationship:111360521806057242:111360521806057245\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489825,"event":"return","thread_id":9160,"parent_id":1489824,"elapsed":0.0007676120148971677,"elapsed_instrumentation":0.0001491909788455814,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489826,"event":"return","thread_id":9160,"parent_id":1489821,"elapsed":0.002600036998046562,"elapsed_instrumentation":0.00012467498891055584,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1489827,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8104660,"value":"#<Account:0x00007fdc06751cc0>"}},{"id":1489828,"event":"return","thread_id":9160,"parent_id":1489827,"elapsed":2.1043990273028612e-05,"elapsed_instrumentation":0.00011799900676123798,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489829,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8104660,"value":"#<Account:0x00007fdc06751cc0>"}},{"id":1489830,"event":"return","thread_id":9160,"parent_id":1489829,"elapsed":5.780981155112386e-06,"elapsed_instrumentation":8.853300823830068e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489831,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1489832,"event":"return","thread_id":9160,"parent_id":1489831,"elapsed":5.6680000852793455e-06,"elapsed_instrumentation":9.556798613630235e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489833,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8104680,"value":"{args=>[111360521806057242, 111360521806057245], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8104700,"value":"#<Sidekiq::Client:0x00007fdc06c8c0a0>"}},{"id":1489834,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8104720,"value":"_$P_\u001d__s=\u0015_\u0014"}},{"id":1489835,"event":"return","thread_id":9160,"parent_id":1489834,"elapsed":5.202018655836582e-06,"elapsed_instrumentation":0.00022990399156697094,"return_value":{"class":"String","value":"dc2450871d92a8733d158c14","object_id":8104740}},{"id":1489836,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8104760,"value":"[111360521806057242, 111360521806057245]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8104780,"value":"#<JSON::Ext::Generator::State:0x00007fdc06c895a8>"}},{"id":1489837,"event":"return","thread_id":9160,"parent_id":1489836,"elapsed":0.00018858799012377858,"elapsed_instrumentation":0.00019066501408815384,"return_value":{"class":"String","value":"[111360521806057242,111360521806057245]","object_id":8104800}},{"id":1489838,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8104820,"value":"#<JSON::Ext::Parser:0x00007fdc06c88018>"}},{"id":1489839,"event":"return","thread_id":9160,"parent_id":1489838,"elapsed":6.118993042036891e-06,"elapsed_instrumentation":0.0001153040211647749,"return_value":{"class":"Array","value":"[111360521806057242, 111360521806057245]","object_id":8104840,"size":2}},{"id":1489840,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8104860,"value":"_\n__R__gf_\b6"}},{"id":1489841,"event":"return","thread_id":9160,"parent_id":1489840,"elapsed":4.010973498225212e-06,"elapsed_instrumentation":0.00010860603651963174,"return_value":{"class":"String","value":"a40ae0d752adac6766de0836","object_id":8104880}},{"id":1489842,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8104900,"value":"{retry=>true, queue=>pull, args=>[111360521806057242, 111360521806057245], class=>UnmergeWorker, jid=>dc2450871d92a8733d158c14, created_at=>1699226713.917751, id=>a40ae0d752adac6766de0836}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8104920,"value":"#<JSON::Ext::Generator::State:0x00007fdc06c854d0>"}},{"id":1489843,"event":"return","thread_id":9160,"parent_id":1489842,"elapsed":1.667099422775209e-05,"elapsed_instrumentation":0.00019696401432156563,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521806057242,111360521806057245],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8104940}},{"id":1489844,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8104960,"value":"#<JSON::Ext::Parser:0x00007fdc06c82fc8>"}},{"id":1489845,"event":"return","thread_id":9160,"parent_id":1489844,"elapsed":2.2133986931294203e-05,"elapsed_instrumentation":0.00016641197726130486,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521806057242, 111360521806057245], class=>UnmergeWorker, jid=>dc2450871d92a8733d158c14, created_at=>1699226713.917751, id=>a40ae0d752adac6766de0836}","object_id":8104980,"size":7}},{"id":1489846,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043612114485,"value":"111360521806057242","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8105000,"value":"#<UnmergeWorker:0x00007fdc06c80458>"}},{"id":1489847,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8105000,"value":"#<UnmergeWorker:0x00007fdc06c80458>"}},{"id":1489848,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489849,"event":"return","thread_id":9160,"parent_id":1489848,"elapsed":0.000679606,"elapsed_instrumentation":9.301200043410063e-05},{"id":1489850,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489851,"event":"return","thread_id":9160,"parent_id":1489850,"elapsed":0.0008292,"elapsed_instrumentation":8.061100379563868e-05},{"id":1489852,"event":"return","thread_id":9160,"parent_id":1489847,"elapsed":0.004295043996535242,"elapsed_instrumentation":0.00014502002159133554,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0690a008>","object_id":8105020}},{"id":1489853,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8105000,"value":"#<UnmergeWorker:0x00007fdc06c80458>"}},{"id":1489854,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8105040,"value":"#<Account:0x00007fdc0690a148>","kind":"req"},{"name":"into_account","class":"Account","object_id":8105020,"value":"#<Account:0x00007fdc0690a008>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489855,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489856,"event":"return","thread_id":9160,"parent_id":1489855,"elapsed":5.58598549105227e-06,"elapsed_instrumentation":0.0001474610180594027,"return_value":{"class":"String","value":"feed:home:111360521806057245","object_id":8105060}},{"id":1489857,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489858,"event":"return","thread_id":9160,"parent_id":1489857,"elapsed":5.609996151179075e-06,"elapsed_instrumentation":0.00010060399654321373,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1489859,"event":"return","thread_id":9160,"parent_id":1489854,"elapsed":0.004273394995834678,"elapsed_instrumentation":0.00014094600919634104},{"id":1489860,"event":"return","thread_id":9160,"parent_id":1489853,"elapsed":0.004454098001588136,"elapsed_instrumentation":9.802900603972375e-05},{"id":1489861,"event":"return","thread_id":9160,"parent_id":1489846,"elapsed":0.00904515097499825,"elapsed_instrumentation":0.0002641929895617068},{"id":1489862,"event":"return","thread_id":9160,"parent_id":1489833,"elapsed":0.010910454002441838,"elapsed_instrumentation":0.00023200802388601005,"return_value":{"class":"String","value":"dc2450871d92a8733d158c14","object_id":8104740}},{"id":1489863,"event":"return","thread_id":9160,"parent_id":1489778,"elapsed":0.0391871569736395,"elapsed_instrumentation":0.0004402110062073916,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0690d0c8>","object_id":8104580}},{"id":1489864,"event":"return","thread_id":9160,"parent_id":1489777,"elapsed":0.039660690003074706,"elapsed_instrumentation":0.00011503900168463588,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0690d0c8>","object_id":8104580}},{"id":1489865,"event":"return","thread_id":9160,"parent_id":1489776,"elapsed":0.039812237984733656,"elapsed_instrumentation":0.00026684801559895277,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0690d0c8>","object_id":8104580}},{"id":1489866,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8105080,"value":"relationship:111360521806057243:111360521806057245","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8105100,"value":"#<UnfollowService:0x00007fdc0772d180>"}},{"id":1489867,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8105100,"value":"#<UnfollowService:0x00007fdc0772d180>"}},{"id":1489868,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8105120,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8105140,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489869,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489870,"event":"return","thread_id":9160,"parent_id":1489869,"elapsed":3.0520022846758366e-06,"elapsed_instrumentation":7.665000157430768e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1489871,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8105160,"value":"_[_I_F__PL\u000b;_.\bB"}},{"id":1489872,"event":"return","thread_id":9160,"parent_id":1489871,"elapsed":7.836002623662353e-06,"elapsed_instrumentation":0.0006938889855518937,"return_value":{"class":"Array","value":"[3344667209, 45894, 65443, 20556, 2875, 3308128322]","object_id":8105180,"size":6}},{"id":1489873,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489874,"event":"return","thread_id":9160,"parent_id":1489873,"elapsed":0.000698748,"elapsed_instrumentation":9.641400538384914e-05},{"id":1489875,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8105200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489876,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489877,"event":"return","thread_id":9160,"parent_id":1489876,"elapsed":0.000617258,"elapsed_instrumentation":8.854601765051484e-05},{"id":1489878,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489879,"event":"return","thread_id":9160,"parent_id":1489878,"elapsed":0.00058352,"elapsed_instrumentation":7.724299211986363e-05},{"id":1489880,"event":"return","thread_id":9160,"parent_id":1489875,"elapsed":0.0029442289960570633,"elapsed_instrumentation":0.00017619499703869224,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1489881,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1489882,"event":"return","thread_id":9160,"parent_id":1489881,"elapsed":0.000720312,"elapsed_instrumentation":7.824701606296003e-05},{"id":1489883,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8105200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489884,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1489885,"event":"return","thread_id":9160,"parent_id":1489884,"elapsed":0.000746817,"elapsed_instrumentation":0.00024596700677648187},{"id":1489886,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489887,"event":"return","thread_id":9160,"parent_id":1489886,"elapsed":0.000671799,"elapsed_instrumentation":8.756000897847116e-05},{"id":1489888,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8105220,"value":"#<Account:0x00007fdc06909108>"}},{"id":1489889,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8105220,"value":"#<Account:0x00007fdc06909108>"}},{"id":1489890,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521806057245, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489891,"event":"return","thread_id":9160,"parent_id":1489890,"elapsed":0.000919684,"elapsed_instrumentation":7.823697524145246e-05},{"id":1489892,"event":"return","thread_id":9160,"parent_id":1489889,"elapsed":0.001466173998778686,"elapsed_instrumentation":0.00010081604705192149},{"id":1489893,"event":"return","thread_id":9160,"parent_id":1489888,"elapsed":0.0015974820125848055,"elapsed_instrumentation":0.0002277349994983524},{"id":1489894,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489895,"event":"return","thread_id":9160,"parent_id":1489894,"elapsed":0.000871425,"elapsed_instrumentation":8.109601913020015e-05},{"id":1489896,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8105240,"value":"#<Account:0x00007fdc06907808>"}},{"id":1489897,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8105240,"value":"#<Account:0x00007fdc06907808>"}},{"id":1489898,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521806057243, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489899,"event":"return","thread_id":9160,"parent_id":1489898,"elapsed":0.000909646,"elapsed_instrumentation":7.527999696321785e-05},{"id":1489900,"event":"return","thread_id":9160,"parent_id":1489897,"elapsed":0.0017156759859062731,"elapsed_instrumentation":9.375601075589657e-05},{"id":1489901,"event":"return","thread_id":9160,"parent_id":1489896,"elapsed":0.001835340983234346,"elapsed_instrumentation":0.00013070000568404794},{"id":1489902,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8105220,"value":"#<Account:0x00007fdc06909108>"}},{"id":1489903,"event":"return","thread_id":9160,"parent_id":1489902,"elapsed":1.4772987924516201e-05,"elapsed_instrumentation":0.00010352898971177638,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489904,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8105240,"value":"#<Account:0x00007fdc06907808>"}},{"id":1489905,"event":"return","thread_id":9160,"parent_id":1489904,"elapsed":1.4218996511772275e-05,"elapsed_instrumentation":0.0003665830008685589,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489906,"event":"return","thread_id":9160,"parent_id":1489883,"elapsed":0.011896910989889875,"elapsed_instrumentation":0.0002130300272256136,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1489907,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489908,"event":"return","thread_id":9160,"parent_id":1489907,"elapsed":0.000489956,"elapsed_instrumentation":0.00021826999727636576},{"id":1489909,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8105280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489910,"event":"return","thread_id":9160,"parent_id":1489909,"elapsed":3.316992660984397e-06,"elapsed_instrumentation":0.0001456629834137857,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1489911,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8105280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1489912,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8105300,"value":"Cache delete: relationship:111360521806057245:111360521806057243\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489913,"event":"return","thread_id":9160,"parent_id":1489912,"elapsed":0.0009018380078487098,"elapsed_instrumentation":0.00014971100608818233,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489914,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8105320,"value":"Cache delete: relationship:111360521806057243:111360521806057245\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1489915,"event":"return","thread_id":9160,"parent_id":1489914,"elapsed":0.0009353380009997636,"elapsed_instrumentation":0.0003790909831877798,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1489916,"event":"return","thread_id":9160,"parent_id":1489911,"elapsed":0.0027226370002608746,"elapsed_instrumentation":0.00014119796105660498,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1489917,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8105340,"value":"#<Account:0x00007fdc06751b80>"}},{"id":1489918,"event":"return","thread_id":9160,"parent_id":1489917,"elapsed":1.5179975889623165e-05,"elapsed_instrumentation":0.00021173202549107373,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489919,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8105340,"value":"#<Account:0x00007fdc06751b80>"}},{"id":1489920,"event":"return","thread_id":9160,"parent_id":1489919,"elapsed":5.698995664715767e-06,"elapsed_instrumentation":0.00010314298560842872,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489921,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1489922,"event":"return","thread_id":9160,"parent_id":1489921,"elapsed":4.825997166335583e-06,"elapsed_instrumentation":6.989500252529979e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489923,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8105360,"value":"{args=>[111360521806057243, 111360521806057245], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8105380,"value":"#<Sidekiq::Client:0x00007fdc06bdbea8>"}},{"id":1489924,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8105400,"value":"'y\u0016__I_wRR_I"}},{"id":1489925,"event":"return","thread_id":9160,"parent_id":1489924,"elapsed":5.2800169214606285e-06,"elapsed_instrumentation":0.00027262797811999917,"return_value":{"class":"String","value":"27791681f249bb7752528e49","object_id":8105420}},{"id":1489926,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8105440,"value":"[111360521806057243, 111360521806057245]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8105460,"value":"#<JSON::Ext::Generator::State:0x00007fdc06bd82a8>"}},{"id":1489927,"event":"return","thread_id":9160,"parent_id":1489926,"elapsed":1.1255004210397601e-05,"elapsed_instrumentation":0.00022816398995928466,"return_value":{"class":"String","value":"[111360521806057243,111360521806057245]","object_id":8105480}},{"id":1489928,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8105500,"value":"#<JSON::Ext::Parser:0x00007fdc06bd5850>"}},{"id":1489929,"event":"return","thread_id":9160,"parent_id":1489928,"elapsed":6.076996214687824e-06,"elapsed_instrumentation":0.00010293498053215444,"return_value":{"class":"Array","value":"[111360521806057243, 111360521806057245]","object_id":8105520,"size":2}},{"id":1489930,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8105540,"value":"__I\r_\u0017\u0003t__z_"}},{"id":1489931,"event":"return","thread_id":9160,"parent_id":1489930,"elapsed":4.608009476214647e-06,"elapsed_instrumentation":0.00041969300946220756,"return_value":{"class":"String","value":"98c9490de7170374cbf77ad1","object_id":8105560}},{"id":1489932,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8105580,"value":"{retry=>true, queue=>pull, args=>[111360521806057243, 111360521806057245], class=>UnmergeWorker, jid=>27791681f249bb7752528e49, created_at=>1699226713.9559233, id=>98c9490de7170374cbf77ad1}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8105600,"value":"#<JSON::Ext::Generator::State:0x00007fdc06bd1368>"}},{"id":1489933,"event":"return","thread_id":9160,"parent_id":1489932,"elapsed":1.748200156725943e-05,"elapsed_instrumentation":0.00034185199183411896,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521806057243,111360521806057245],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8105620}},{"id":1489934,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8105640,"value":"#<JSON::Ext::Parser:0x00007fdc06bea250>"}},{"id":1489935,"event":"return","thread_id":9160,"parent_id":1489934,"elapsed":2.3873988538980484e-05,"elapsed_instrumentation":0.00020459899678826332,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521806057243, 111360521806057245], class=>UnmergeWorker, jid=>27791681f249bb7752528e49, created_at=>1699226713.9559233, id=>98c9490de7170374cbf77ad1}","object_id":8105660,"size":7}},{"id":1489936,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043612114487,"value":"111360521806057243","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8105680,"value":"#<UnmergeWorker:0x00007fdc06be5390>"}},{"id":1489937,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8105680,"value":"#<UnmergeWorker:0x00007fdc06be5390>"}},{"id":1489938,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489939,"event":"return","thread_id":9160,"parent_id":1489938,"elapsed":0.000886263,"elapsed_instrumentation":0.00011770700803026557},{"id":1489940,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489941,"event":"return","thread_id":9160,"parent_id":1489940,"elapsed":0.000719506,"elapsed_instrumentation":8.39749991428107e-05},{"id":1489942,"event":"return","thread_id":9160,"parent_id":1489937,"elapsed":0.004646237997803837,"elapsed_instrumentation":0.00020158500410616398,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06905a08>","object_id":8105700}},{"id":1489943,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8105680,"value":"#<UnmergeWorker:0x00007fdc06be5390>"}},{"id":1489944,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8105720,"value":"#<Account:0x00007fdc06905b48>","kind":"req"},{"name":"into_account","class":"Account","object_id":8105700,"value":"#<Account:0x00007fdc06905a08>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489945,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489946,"event":"return","thread_id":9160,"parent_id":1489945,"elapsed":4.7930225264281034e-06,"elapsed_instrumentation":0.00010966099216602743,"return_value":{"class":"String","value":"feed:home:111360521806057245","object_id":8105740}},{"id":1489947,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1489948,"event":"return","thread_id":9160,"parent_id":1489947,"elapsed":4.895991878584027e-06,"elapsed_instrumentation":7.598698721267283e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1489949,"event":"return","thread_id":9160,"parent_id":1489944,"elapsed":0.0038587989984080195,"elapsed_instrumentation":0.00012289098231121898},{"id":1489950,"event":"return","thread_id":9160,"parent_id":1489943,"elapsed":0.004019750020233914,"elapsed_instrumentation":0.000112168985651806},{"id":1489951,"event":"return","thread_id":9160,"parent_id":1489936,"elapsed":0.00903740999638103,"elapsed_instrumentation":0.00013208400923758745},{"id":1489952,"event":"return","thread_id":9160,"parent_id":1489923,"elapsed":0.011731058009900153,"elapsed_instrumentation":0.00023176800459623337,"return_value":{"class":"String","value":"27791681f249bb7752528e49","object_id":8105420}},{"id":1489953,"event":"return","thread_id":9160,"parent_id":1489868,"elapsed":0.03838986498885788,"elapsed_instrumentation":0.0001648780016694218,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06909c48>","object_id":8105260}},{"id":1489954,"event":"return","thread_id":9160,"parent_id":1489867,"elapsed":0.03858233700157143,"elapsed_instrumentation":8.602900197729468e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06909c48>","object_id":8105260}},{"id":1489955,"event":"return","thread_id":9160,"parent_id":1489866,"elapsed":0.03870317398104817,"elapsed_instrumentation":0.00015327002620324492,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06909c48>","object_id":8105260}},{"id":1489956,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8105760,"value":"relationship:111360521806057244:111360521806057245","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8105780,"value":"#<UnfollowService:0x00007fdc07725bb0>"}},{"id":1489957,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8105780,"value":"#<UnfollowService:0x00007fdc07725bb0>"}},{"id":1489958,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8105800,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8105820,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489959,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1489960,"event":"return","thread_id":9160,"parent_id":1489959,"elapsed":3.9869919419288635e-06,"elapsed_instrumentation":0.00038861302891746163,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1489961,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8105840,"value":"_x____;___t S\u0010\u0001_"}},{"id":1489962,"event":"return","thread_id":9160,"parent_id":1489961,"elapsed":7.140013622120023e-06,"elapsed_instrumentation":0.00022223300766199827,"return_value":{"class":"Array","value":"[2641920938, 33204, 15238, 60050, 29728, 1393557932]","object_id":8105860,"size":6}},{"id":1489963,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489964,"event":"return","thread_id":9160,"parent_id":1489963,"elapsed":0.000670033,"elapsed_instrumentation":9.308400331065059e-05},{"id":1489965,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8105880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489966,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489967,"event":"return","thread_id":9160,"parent_id":1489966,"elapsed":0.000487809,"elapsed_instrumentation":0.00027904397575184703},{"id":1489968,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1489969,"event":"return","thread_id":9160,"parent_id":1489968,"elapsed":0.000469305,"elapsed_instrumentation":8.031597826629877e-05},{"id":1489970,"event":"return","thread_id":9160,"parent_id":1489965,"elapsed":0.003330225998070091,"elapsed_instrumentation":0.00027132200193591416,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1489971,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1489972,"event":"return","thread_id":9160,"parent_id":1489971,"elapsed":0.000747347,"elapsed_instrumentation":8.248799713328481e-05},{"id":1489973,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8105880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1489974,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1489975,"event":"return","thread_id":9160,"parent_id":1489974,"elapsed":0.000990182,"elapsed_instrumentation":0.00010789401130750775},{"id":1489976,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489977,"event":"return","thread_id":9160,"parent_id":1489976,"elapsed":0.00068234,"elapsed_instrumentation":0.0002621040039230138},{"id":1489978,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8105900,"value":"#<Account:0x00007fdc069044c8>"}},{"id":1489979,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8105900,"value":"#<Account:0x00007fdc069044c8>"}},{"id":1489980,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521806057245, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489981,"event":"return","thread_id":9160,"parent_id":1489980,"elapsed":0.001415805,"elapsed_instrumentation":9.375100489705801e-05},{"id":1489982,"event":"return","thread_id":9160,"parent_id":1489979,"elapsed":0.002181646996177733,"elapsed_instrumentation":0.00011015796917490661},{"id":1489983,"event":"return","thread_id":9160,"parent_id":1489978,"elapsed":0.0023253389808814973,"elapsed_instrumentation":0.00015610901755280793},{"id":1489984,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1489985,"event":"return","thread_id":9160,"parent_id":1489984,"elapsed":0.00071562,"elapsed_instrumentation":0.00029006300610490143},{"id":1489986,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8105920,"value":"#<Account:0x00007fdc069021c8>"}},{"id":1489987,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8105920,"value":"#<Account:0x00007fdc069021c8>"}},{"id":1489988,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521806057244, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1489989,"event":"return","thread_id":9160,"parent_id":1489988,"elapsed":0.001690154,"elapsed_instrumentation":0.000164408003911376},{"id":1489990,"event":"return","thread_id":9160,"parent_id":1489987,"elapsed":0.003064452001126483,"elapsed_instrumentation":0.0001576970098540187},{"id":1489991,"event":"return","thread_id":9160,"parent_id":1489986,"elapsed":0.0032638650154694915,"elapsed_instrumentation":0.0002235790016129613},{"id":1489992,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8105900,"value":"#<Account:0x00007fdc069044c8>"}},{"id":1489993,"event":"return","thread_id":9160,"parent_id":1489992,"elapsed":1.8937978893518448e-05,"elapsed_instrumentation":0.00017257800209335983,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489994,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8105920,"value":"#<Account:0x00007fdc069021c8>"}},{"id":1489995,"event":"return","thread_id":9160,"parent_id":1489994,"elapsed":1.3940007193014026e-05,"elapsed_instrumentation":0.00011819100473076105,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1489996,"event":"return","thread_id":9160,"parent_id":1489973,"elapsed":0.016367417003493756,"elapsed_instrumentation":0.0002616870042402297,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1489997,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1489998,"event":"return","thread_id":9160,"parent_id":1489997,"elapsed":0.001189246,"elapsed_instrumentation":0.0001042039948515594},{"id":1489999,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8105960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490000,"event":"return","thread_id":9160,"parent_id":1489999,"elapsed":3.255001502111554e-06,"elapsed_instrumentation":0.0001513310126028955,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1490001,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8105960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490002,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8105980,"value":"Cache delete: relationship:111360521806057245:111360521806057244\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490003,"event":"return","thread_id":9160,"parent_id":1490002,"elapsed":0.0007443290087394416,"elapsed_instrumentation":0.00012728502042591572,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490004,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8106000,"value":"Cache delete: relationship:111360521806057244:111360521806057245\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490005,"event":"return","thread_id":9160,"parent_id":1490004,"elapsed":0.000864222995005548,"elapsed_instrumentation":0.00014259302406571805,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490006,"event":"return","thread_id":9160,"parent_id":1490001,"elapsed":0.0021800870017614216,"elapsed_instrumentation":0.00011560102575458586,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1490007,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8106020,"value":"#<Account:0x00007fdc06751a40>"}},{"id":1490008,"event":"return","thread_id":9160,"parent_id":1490007,"elapsed":1.5749013982713223e-05,"elapsed_instrumentation":9.512100950814784e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490009,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8106020,"value":"#<Account:0x00007fdc06751a40>"}},{"id":1490010,"event":"return","thread_id":9160,"parent_id":1490009,"elapsed":8.001981768757105e-06,"elapsed_instrumentation":7.471299613825977e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490011,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1490012,"event":"return","thread_id":9160,"parent_id":1490011,"elapsed":4.711007932201028e-06,"elapsed_instrumentation":7.851797272451222e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490013,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8106040,"value":"{args=>[111360521806057244, 111360521806057245], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8106060,"value":"#<Sidekiq::Client:0x00007fdc06b531e8>"}},{"id":1490014,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8106080,"value":"_____F_A\u001e__9"}},{"id":1490015,"event":"return","thread_id":9160,"parent_id":1490014,"elapsed":4.625995643436909e-06,"elapsed_instrumentation":0.00011571499635465443,"return_value":{"class":"String","value":"8998b8a1f446a7411e805f39","object_id":8106100}},{"id":1490016,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8106120,"value":"[111360521806057244, 111360521806057245]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8106140,"value":"#<JSON::Ext::Generator::State:0x00007fdc06b50bc8>"}},{"id":1490017,"event":"return","thread_id":9160,"parent_id":1490016,"elapsed":8.396018529310822e-06,"elapsed_instrumentation":0.00012427198817022145,"return_value":{"class":"String","value":"[111360521806057244,111360521806057245]","object_id":8106160}},{"id":1490018,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8106180,"value":"#<JSON::Ext::Parser:0x00007fdc06b6fb68>"}},{"id":1490019,"event":"return","thread_id":9160,"parent_id":1490018,"elapsed":5.59899490326643e-06,"elapsed_instrumentation":9.55470313783735e-05,"return_value":{"class":"Array","value":"[111360521806057244, 111360521806057245]","object_id":8106200,"size":2}},{"id":1490020,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8106220,"value":"\u001b[D_:_\t_\u000e__"}},{"id":1490021,"event":"return","thread_id":9160,"parent_id":1490020,"elapsed":3.6330020520836115e-06,"elapsed_instrumentation":0.00010126098641194403,"return_value":{"class":"String","value":"1b5b44d13ae47f09e60ef8ee","object_id":8106240}},{"id":1490022,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8106260,"value":"{retry=>true, queue=>pull, args=>[111360521806057244, 111360521806057245], class=>UnmergeWorker, jid=>8998b8a1f446a7411e805f39, created_at=>1699226713.998827, id=>1b5b44d13ae47f09e60ef8ee}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8106280,"value":"#<JSON::Ext::Generator::State:0x00007fdc06b6cfa8>"}},{"id":1490023,"event":"return","thread_id":9160,"parent_id":1490022,"elapsed":1.9289000192657113e-05,"elapsed_instrumentation":0.00019278298714198172,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521806057244,111360521806057245],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8106300}},{"id":1490024,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8106320,"value":"#<JSON::Ext::Parser:0x00007fdc06b6ae88>"}},{"id":1490025,"event":"return","thread_id":9160,"parent_id":1490024,"elapsed":2.067102468572557e-05,"elapsed_instrumentation":0.00016468498506583273,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521806057244, 111360521806057245], class=>UnmergeWorker, jid=>8998b8a1f446a7411e805f39, created_at=>1699226713.998827, id=>1b5b44d13ae47f09e60ef8ee}","object_id":8106340,"size":7}},{"id":1490026,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043612114489,"value":"111360521806057244","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8106360,"value":"#<UnmergeWorker:0x00007fdc06b689a8>"}},{"id":1490027,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8106360,"value":"#<UnmergeWorker:0x00007fdc06b689a8>"}},{"id":1490028,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490029,"event":"return","thread_id":9160,"parent_id":1490028,"elapsed":0.000946919,"elapsed_instrumentation":0.00011862200335599482},{"id":1490030,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490031,"event":"return","thread_id":9160,"parent_id":1490030,"elapsed":0.000838694,"elapsed_instrumentation":8.588199852965772e-05},{"id":1490032,"event":"return","thread_id":9160,"parent_id":1490027,"elapsed":0.005674318003002554,"elapsed_instrumentation":0.000645411986624822,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06900508>","object_id":8106380}},{"id":1490033,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8106360,"value":"#<UnmergeWorker:0x00007fdc06b689a8>"}},{"id":1490034,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8106400,"value":"#<Account:0x00007fdc06900a08>","kind":"req"},{"name":"into_account","class":"Account","object_id":8106380,"value":"#<Account:0x00007fdc06900508>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490035,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490036,"event":"return","thread_id":9160,"parent_id":1490035,"elapsed":6.62199454382062e-06,"elapsed_instrumentation":0.00014822601224295795,"return_value":{"class":"String","value":"feed:home:111360521806057245","object_id":8106420}},{"id":1490037,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490038,"event":"return","thread_id":9160,"parent_id":1490037,"elapsed":5.623995093628764e-06,"elapsed_instrumentation":0.00026436400366947055,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1490039,"event":"return","thread_id":9160,"parent_id":1490034,"elapsed":0.005875711998669431,"elapsed_instrumentation":0.0001580340031068772},{"id":1490040,"event":"return","thread_id":9160,"parent_id":1490033,"elapsed":0.006075484998291358,"elapsed_instrumentation":0.0001426790258847177},{"id":1490041,"event":"return","thread_id":9160,"parent_id":1490026,"elapsed":0.012607384007424116,"elapsed_instrumentation":8.238799637183547e-05},{"id":1490042,"event":"return","thread_id":9160,"parent_id":1490013,"elapsed":0.013954036025097594,"elapsed_instrumentation":0.000211933976970613,"return_value":{"class":"String","value":"8998b8a1f446a7411e805f39","object_id":8106100}},{"id":1490043,"event":"return","thread_id":9160,"parent_id":1489958,"elapsed":0.04478935000952333,"elapsed_instrumentation":0.000205955991987139,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06905788>","object_id":8105940}},{"id":1490044,"event":"return","thread_id":9160,"parent_id":1489957,"elapsed":0.045027062005829066,"elapsed_instrumentation":0.00010416601435281336,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06905788>","object_id":8105940}},{"id":1490045,"event":"return","thread_id":9160,"parent_id":1489956,"elapsed":0.04516988099203445,"elapsed_instrumentation":0.00016090497956611216,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06905788>","object_id":8105940}},{"id":1490046,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8106440,"value":"{args=>[111360521806057245], class=>BootstrapTimelineWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8106460,"value":"#<Sidekiq::Client:0x00007fdc06b0d300>"}},{"id":1490047,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8106480,"value":"__\u001a__p_Wrt__"}},{"id":1490048,"event":"return","thread_id":9160,"parent_id":1490047,"elapsed":5.612993845716119e-06,"elapsed_instrumentation":0.0005410269950516522,"return_value":{"class":"String","value":"ed9b1af6c570d6577274a4c5","object_id":8106500}},{"id":1490049,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8106520,"value":"[111360521806057245]","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8106540,"value":"#<JSON::Ext::Generator::State:0x00007fdc06b0a7b8>"}},{"id":1490050,"event":"return","thread_id":9160,"parent_id":1490049,"elapsed":1.1736992746591568e-05,"elapsed_instrumentation":0.00026734601124189794,"return_value":{"class":"String","value":"[111360521806057245]","object_id":8106560}},{"id":1490051,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8106580,"value":"#<JSON::Ext::Parser:0x00007fdc06b099a8>"}},{"id":1490052,"event":"return","thread_id":9160,"parent_id":1490051,"elapsed":7.0620153564959764e-06,"elapsed_instrumentation":0.00019792499369941652,"return_value":{"class":"Array","value":"[111360521806057245]","object_id":8106600,"size":1}},{"id":1490053,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8106620,"value":"____a___z$_\u0012"}},{"id":1490054,"event":"return","thread_id":9160,"parent_id":1490053,"elapsed":4.344998160377145e-06,"elapsed_instrumentation":0.00023853100719861686,"return_value":{"class":"String","value":"fb93c9d2619dd58b7a24c012","object_id":8106640}},{"id":1490055,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8106660,"value":"{retry=>true, queue=>default, args=>[111360521806057245], class=>BootstrapTimelineWorker, jid=>ed9b1af6c570d6577274a4c5, created_at=>1699226714.0151782, id=>fb93c9d2619dd58b7a24c012}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8106680,"value":"#<JSON::Ext::Generator::State:0x00007fdc06b07ab8>"}},{"id":1490056,"event":"return","thread_id":9160,"parent_id":1490055,"elapsed":1.7004989786073565e-05,"elapsed_instrumentation":0.0002057109959423542,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111360521806057245],\"class\":\"BootstrapTimelineWorker\",\"jid\": (...91 more characters)","object_id":8106700}},{"id":1490057,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8106720,"value":"#<JSON::Ext::Parser:0x00007fdc06b05bf0>"}},{"id":1490058,"event":"return","thread_id":9160,"parent_id":1490057,"elapsed":2.2043008357286453e-05,"elapsed_instrumentation":0.0001620310067664832,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111360521806057245], class=>BootstrapTimelineWorker, jid=>ed9b1af6c570d6577274a4c5, created_at=>1699226714.0151782, id=>fb93c9d2619dd58b7a24c012}","object_id":8106740,"size":7}},{"id":1490059,"event":"call","thread_id":9160,"defined_class":"BootstrapTimelineWorker","method_id":"perform","path":"app/workers/bootstrap_timeline_worker.rb","lineno":6,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"}],"receiver":{"class":"BootstrapTimelineWorker","object_id":8106760,"value":"#<BootstrapTimelineWorker:0x00007fdc06b03d50>"}},{"id":1490060,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490061,"event":"return","thread_id":9160,"parent_id":1490060,"elapsed":0.000704974,"elapsed_instrumentation":0.00011113801156170666},{"id":1490062,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490063,"event":"return","thread_id":9160,"parent_id":1490062,"elapsed":0.00059966,"elapsed_instrumentation":8.608700591139495e-05},{"id":1490064,"event":"call","thread_id":9160,"defined_class":"User","method_id":"those_who_can","path":"app/models/user.rb","lineno":143,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8106780,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":35120,"value":"User"}},{"id":1490065,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"that_can","path":"app/models/user_role.rb","lineno":111,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8106800,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1490066,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\"","database_type":"postgres"}},{"id":1490067,"event":"return","thread_id":9160,"parent_id":1490066,"elapsed":0.000900901,"elapsed_instrumentation":0.0001399769971612841},{"id":1490068,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8106820,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8106840,"value":"#<UserRole:0x00007fdc069ff148>"}},{"id":1490069,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8106840,"value":"#<UserRole:0x00007fdc069ff148>"}},{"id":1490070,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8106840,"value":"#<UserRole:0x00007fdc069ff148>"}},{"id":1490071,"event":"return","thread_id":9160,"parent_id":1490070,"elapsed":2.2190011804923415e-05,"elapsed_instrumentation":0.00018255499890074134,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490072,"event":"return","thread_id":9160,"parent_id":1490069,"elapsed":0.00030437897657975554,"elapsed_instrumentation":0.0003225100226700306,"return_value":{"class":"Integer","value":"65536","object_id":131073}},{"id":1490073,"event":"return","thread_id":9160,"parent_id":1490068,"elapsed":0.0006668840069323778,"elapsed_instrumentation":0.0001944570103660226},{"id":1490074,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8106860,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8106880,"value":"#<UserRole:0x00007fdc069ff008>"}},{"id":1490075,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8106880,"value":"#<UserRole:0x00007fdc069ff008>"}},{"id":1490076,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8106880,"value":"#<UserRole:0x00007fdc069ff008>"}},{"id":1490077,"event":"return","thread_id":9160,"parent_id":1490076,"elapsed":1.1864001862704754e-05,"elapsed_instrumentation":6.350700277835131e-05},{"id":1490078,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8106880,"value":"#<UserRole:0x00007fdc069ff008>"}},{"id":1490079,"event":"return","thread_id":9160,"parent_id":1490078,"elapsed":5.669018719345331e-06,"elapsed_instrumentation":5.1629001973196864e-05},{"id":1490080,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1490081,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490082,"event":"return","thread_id":9160,"parent_id":1490081,"elapsed":0.001466114,"elapsed_instrumentation":0.0001656689855735749},{"id":1490083,"event":"return","thread_id":9160,"parent_id":1490080,"elapsed":0.0035235980176366866,"elapsed_instrumentation":0.00015797698870301247,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdc069fe9c8>","object_id":8106900}},{"id":1490084,"event":"return","thread_id":9160,"parent_id":1490075,"elapsed":0.0039013309869915247,"elapsed_instrumentation":0.00011974401422776282,"return_value":{"class":"Integer","value":"66844","object_id":133689}},{"id":1490085,"event":"return","thread_id":9160,"parent_id":1490074,"elapsed":0.0040522020135540515,"elapsed_instrumentation":0.00015221498324535787,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490086,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8106920,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8106940,"value":"#<UserRole:0x00007fdc069feec8>"}},{"id":1490087,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8106940,"value":"#<UserRole:0x00007fdc069feec8>"}},{"id":1490088,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8106940,"value":"#<UserRole:0x00007fdc069feec8>"}},{"id":1490089,"event":"return","thread_id":9160,"parent_id":1490088,"elapsed":1.6667007002979517e-05,"elapsed_instrumentation":6.799801485612988e-05},{"id":1490090,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8106940,"value":"#<UserRole:0x00007fdc069feec8>"}},{"id":1490091,"event":"return","thread_id":9160,"parent_id":1490090,"elapsed":9.145005606114864e-06,"elapsed_instrumentation":7.935400935821235e-05},{"id":1490092,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1490093,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490094,"event":"return","thread_id":9160,"parent_id":1490093,"elapsed":0.000582934,"elapsed_instrumentation":9.908000356517732e-05},{"id":1490095,"event":"return","thread_id":9160,"parent_id":1490092,"elapsed":0.0018191809940617532,"elapsed_instrumentation":0.00019727001199498773,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdc069fe748>","object_id":8106960}},{"id":1490096,"event":"return","thread_id":9160,"parent_id":1490087,"elapsed":0.002292718010721728,"elapsed_instrumentation":0.00015787300071679056,"return_value":{"class":"Integer","value":"1048572","object_id":2097145}},{"id":1490097,"event":"return","thread_id":9160,"parent_id":1490086,"elapsed":0.0027064520108979195,"elapsed_instrumentation":0.0002448110026307404,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490098,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8106980,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8107000,"value":"#<UserRole:0x00007fdc069fed88>"}},{"id":1490099,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8107000,"value":"#<UserRole:0x00007fdc069fed88>"}},{"id":1490100,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8107000,"value":"#<UserRole:0x00007fdc069fed88>"}},{"id":1490101,"event":"return","thread_id":9160,"parent_id":1490100,"elapsed":1.3845012290403247e-05,"elapsed_instrumentation":0.00010507501428946853},{"id":1490102,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8107000,"value":"#<UserRole:0x00007fdc069fed88>"}},{"id":1490103,"event":"return","thread_id":9160,"parent_id":1490102,"elapsed":5.109002813696861e-06,"elapsed_instrumentation":6.359399412758648e-05},{"id":1490104,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1490105,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490106,"event":"return","thread_id":9160,"parent_id":1490105,"elapsed":0.000729285,"elapsed_instrumentation":8.397697820328176e-05},{"id":1490107,"event":"return","thread_id":9160,"parent_id":1490104,"elapsed":0.0014052749902475625,"elapsed_instrumentation":0.0001113210164476186,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdc069fe388>","object_id":8107020}},{"id":1490108,"event":"return","thread_id":9160,"parent_id":1490099,"elapsed":0.0020086499862372875,"elapsed_instrumentation":7.379800081253052e-05,"return_value":{"class":"Integer","value":"1048575","object_id":2097151}},{"id":1490109,"event":"return","thread_id":9160,"parent_id":1490098,"elapsed":0.0021066560002509505,"elapsed_instrumentation":0.00011938399984501302,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490110,"event":"return","thread_id":9160,"parent_id":1490065,"elapsed":0.012514931993791834,"elapsed_instrumentation":0.0003504680353216827,"return_value":{"class":"Array","value":"[#<UserRole:0x00007fdc069ff008>, #<UserRole:0x00007fdc069feec8>, #<UserRole:0x00007fdc069fed88>]","object_id":8107040,"size":3}},{"id":1490111,"event":"return","thread_id":9160,"parent_id":1490064,"elapsed":0.013191041012760252,"elapsed_instrumentation":0.00042723698425106704,"return_value":{"class":"ActiveRecord::Relation","value":"#<User::ActiveRecord_Relation:0x00007fdc0406b228>","object_id":8107060}},{"id":1490112,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"role_id\" IN ($1, $2, $3) ORDER BY \"users\".\"id\" ASC LIMIT $4","database_type":"postgres"}},{"id":1490113,"event":"return","thread_id":9160,"parent_id":1490112,"elapsed":0.001218319,"elapsed_instrumentation":8.810602594166994e-05},{"id":1490114,"event":"return","thread_id":9160,"parent_id":1490059,"elapsed":0.023212737985886633,"elapsed_instrumentation":9.286904241889715e-05},{"id":1490115,"event":"return","thread_id":9160,"parent_id":1490046,"elapsed":0.025564312003552914,"elapsed_instrumentation":0.0007487880066037178,"return_value":{"class":"String","value":"ed9b1af6c570d6577274a4c5","object_id":8106500}},{"id":1490116,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1490117,"event":"return","thread_id":9160,"parent_id":1490116,"elapsed":0.002533448,"elapsed_instrumentation":0.00011198699939996004},{"id":1490118,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8107080,"value":"relationship:111360521806057235:111360521806057245","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8107100,"value":"#<UnfollowService:0x00007fdc07757c28>"}},{"id":1490119,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8107100,"value":"#<UnfollowService:0x00007fdc07757c28>"}},{"id":1490120,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8107120,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8107140,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490121,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490122,"event":"return","thread_id":9160,"parent_id":1490121,"elapsed":4.252011422067881e-06,"elapsed_instrumentation":0.00011986700701527297,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1490123,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8107160,"value":"__\u0002____\u001d__L\u0006H_X_"}},{"id":1490124,"event":"return","thread_id":9160,"parent_id":1490123,"elapsed":6.724003469571471e-06,"elapsed_instrumentation":0.00016125899855978787,"return_value":{"class":"Array","value":"[3472687864, 43924, 39197, 33270, 19462, 1219188930]","object_id":8107180,"size":6}},{"id":1490125,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490126,"event":"return","thread_id":9160,"parent_id":1490125,"elapsed":0.000660464,"elapsed_instrumentation":0.0001094879989977926},{"id":1490127,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8107200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490128,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490129,"event":"return","thread_id":9160,"parent_id":1490128,"elapsed":0.000745823,"elapsed_instrumentation":0.0001028059923555702},{"id":1490130,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490131,"event":"return","thread_id":9160,"parent_id":1490130,"elapsed":0.000692234,"elapsed_instrumentation":8.457500371150672e-05},{"id":1490132,"event":"return","thread_id":9160,"parent_id":1490127,"elapsed":0.0038905809924472123,"elapsed_instrumentation":0.00028408801881596446,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1490133,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1490134,"event":"return","thread_id":9160,"parent_id":1490133,"elapsed":0.00089452,"elapsed_instrumentation":9.031500667333603e-05},{"id":1490135,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8107200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490136,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1490137,"event":"return","thread_id":9160,"parent_id":1490136,"elapsed":0.000785569,"elapsed_instrumentation":0.00012010298087261617},{"id":1490138,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490139,"event":"return","thread_id":9160,"parent_id":1490138,"elapsed":0.000896985,"elapsed_instrumentation":8.561799768358469e-05},{"id":1490140,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8107220,"value":"#<Account:0x00007fdc069fac88>"}},{"id":1490141,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8107220,"value":"#<Account:0x00007fdc069fac88>"}},{"id":1490142,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521806057235, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490143,"event":"return","thread_id":9160,"parent_id":1490142,"elapsed":0.00083787,"elapsed_instrumentation":8.043699199333787e-05},{"id":1490144,"event":"return","thread_id":9160,"parent_id":1490141,"elapsed":0.0014027610013727099,"elapsed_instrumentation":0.00010566701530478895},{"id":1490145,"event":"return","thread_id":9160,"parent_id":1490140,"elapsed":0.0015410470077767968,"elapsed_instrumentation":0.00032400802592746913},{"id":1490146,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490147,"event":"return","thread_id":9160,"parent_id":1490146,"elapsed":0.000614693,"elapsed_instrumentation":8.242300827987492e-05},{"id":1490148,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8107240,"value":"#<Account:0x00007fdc069f9608>"}},{"id":1490149,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8107240,"value":"#<Account:0x00007fdc069f9608>"}},{"id":1490150,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521806057245, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490151,"event":"return","thread_id":9160,"parent_id":1490150,"elapsed":0.001041036,"elapsed_instrumentation":8.538100519217551e-05},{"id":1490152,"event":"return","thread_id":9160,"parent_id":1490149,"elapsed":0.0016043329960666597,"elapsed_instrumentation":0.00011728299432434142},{"id":1490153,"event":"return","thread_id":9160,"parent_id":1490148,"elapsed":0.0017516909865662456,"elapsed_instrumentation":0.00018694100435823202},{"id":1490154,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8107220,"value":"#<Account:0x00007fdc069fac88>"}},{"id":1490155,"event":"return","thread_id":9160,"parent_id":1490154,"elapsed":1.573699410073459e-05,"elapsed_instrumentation":0.00022030301624909043,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490156,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8107240,"value":"#<Account:0x00007fdc069f9608>"}},{"id":1490157,"event":"return","thread_id":9160,"parent_id":1490156,"elapsed":7.633992936462164e-06,"elapsed_instrumentation":8.154197712428868e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490158,"event":"return","thread_id":9160,"parent_id":1490135,"elapsed":0.012696013989625499,"elapsed_instrumentation":0.00020390801364555955,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1490159,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490160,"event":"return","thread_id":9160,"parent_id":1490159,"elapsed":0.000808358,"elapsed_instrumentation":0.00018031202489510179},{"id":1490161,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8107280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490162,"event":"return","thread_id":9160,"parent_id":1490161,"elapsed":3.4489785321056843e-06,"elapsed_instrumentation":0.00012786398292519152,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1490163,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8107280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490164,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8107300,"value":"Cache delete: relationship:111360521806057235:111360521806057245\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490165,"event":"return","thread_id":9160,"parent_id":1490164,"elapsed":0.0011649129737634212,"elapsed_instrumentation":0.0003822090511675924,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490166,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8107320,"value":"Cache delete: relationship:111360521806057245:111360521806057235\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490167,"event":"return","thread_id":9160,"parent_id":1490166,"elapsed":0.0013546480040531605,"elapsed_instrumentation":0.00016713200602680445,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490168,"event":"return","thread_id":9160,"parent_id":1490163,"elapsed":0.0037353429943323135,"elapsed_instrumentation":0.0005862209654878825,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1490169,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1490170,"event":"return","thread_id":9160,"parent_id":1490169,"elapsed":1.2033997336402535e-05,"elapsed_instrumentation":0.0001375319843646139,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490171,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1490172,"event":"return","thread_id":9160,"parent_id":1490171,"elapsed":4.830013494938612e-06,"elapsed_instrumentation":8.374502067454159e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490173,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8107340,"value":"#<Account:0x00007fdc069fcbc8>"}},{"id":1490174,"event":"return","thread_id":9160,"parent_id":1490173,"elapsed":1.8998980522155762e-05,"elapsed_instrumentation":0.00011037802323698997,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490175,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8107360,"value":"{args=>[111360521806057245, 111360521806057235], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8107380,"value":"#<Sidekiq::Client:0x00007fdc06a3a2e8>"}},{"id":1490176,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8107400,"value":"\u001d____\u001cy_____"}},{"id":1490177,"event":"return","thread_id":9160,"parent_id":1490176,"elapsed":5.540001438930631e-06,"elapsed_instrumentation":0.0002743499935604632,"return_value":{"class":"String","value":"1da984fb9c1c79ab9794efbe","object_id":8107420}},{"id":1490178,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8107440,"value":"[111360521806057245, 111360521806057235]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8107460,"value":"#<JSON::Ext::Generator::State:0x00007fdc06a379d0>"}},{"id":1490179,"event":"return","thread_id":9160,"parent_id":1490178,"elapsed":9.269977454096079e-06,"elapsed_instrumentation":0.00046159198973327875,"return_value":{"class":"String","value":"[111360521806057245,111360521806057235]","object_id":8107480}},{"id":1490180,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8107500,"value":"#<JSON::Ext::Parser:0x00007fdc06a36940>"}},{"id":1490181,"event":"return","thread_id":9160,"parent_id":1490180,"elapsed":6.004993338137865e-06,"elapsed_instrumentation":0.0001007739920169115,"return_value":{"class":"Array","value":"[111360521806057245, 111360521806057235]","object_id":8107520,"size":2}},{"id":1490182,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8107540,"value":"$(OU__ _6__8"}},{"id":1490183,"event":"return","thread_id":9160,"parent_id":1490182,"elapsed":6.342015694826841e-06,"elapsed_instrumentation":0.00019586700364015996,"return_value":{"class":"String","value":"24284f5589eb20b036c5d538","object_id":8107560}},{"id":1490184,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8107580,"value":"{retry=>true, queue=>pull, args=>[111360521806057245, 111360521806057235], class=>UnmergeWorker, jid=>1da984fb9c1c79ab9794efbe, created_at=>1699226714.0788279, id=>24284f5589eb20b036c5d538}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8107600,"value":"#<JSON::Ext::Generator::State:0x00007fdc06a34398>"}},{"id":1490185,"event":"return","thread_id":9160,"parent_id":1490184,"elapsed":1.588099985383451e-05,"elapsed_instrumentation":0.00038473401218652725,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521806057245,111360521806057235],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8107620}},{"id":1490186,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8107640,"value":"#<JSON::Ext::Parser:0x00007fdc06a5da68>"}},{"id":1490187,"event":"return","thread_id":9160,"parent_id":1490186,"elapsed":2.2024003555998206e-05,"elapsed_instrumentation":0.00017536099767312407,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521806057245, 111360521806057235], class=>UnmergeWorker, jid=>1da984fb9c1c79ab9794efbe, created_at=>1699226714.0788279, id=>24284f5589eb20b036c5d538}","object_id":8107660,"size":7}},{"id":1490188,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043612114471,"value":"111360521806057235","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8107680,"value":"#<UnmergeWorker:0x00007fdc06a58658>"}},{"id":1490189,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8107680,"value":"#<UnmergeWorker:0x00007fdc06a58658>"}},{"id":1490190,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490191,"event":"return","thread_id":9160,"parent_id":1490190,"elapsed":0.000914574,"elapsed_instrumentation":0.00014405697584152222},{"id":1490192,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490193,"event":"return","thread_id":9160,"parent_id":1490192,"elapsed":0.000815033,"elapsed_instrumentation":8.209500811062753e-05},{"id":1490194,"event":"return","thread_id":9160,"parent_id":1490189,"elapsed":0.004891127988230437,"elapsed_instrumentation":0.00012698399950750172,"return_value":{"class":"Account","value":"#<Account:0x00007fdc069f7948>","object_id":8107700}},{"id":1490195,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8107680,"value":"#<UnmergeWorker:0x00007fdc06a58658>"}},{"id":1490196,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8107720,"value":"#<Account:0x00007fdc069f7bc8>","kind":"req"},{"name":"into_account","class":"Account","object_id":8107700,"value":"#<Account:0x00007fdc069f7948>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490197,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043612114471,"value":"111360521806057235","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490198,"event":"return","thread_id":9160,"parent_id":1490197,"elapsed":6.943009793758392e-06,"elapsed_instrumentation":0.00037383101880550385,"return_value":{"class":"String","value":"feed:home:111360521806057235","object_id":8107740}},{"id":1490199,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490200,"event":"return","thread_id":9160,"parent_id":1490199,"elapsed":5.774025339633226e-06,"elapsed_instrumentation":0.00018996800645254552,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1490201,"event":"return","thread_id":9160,"parent_id":1490196,"elapsed":0.0045199799933470786,"elapsed_instrumentation":0.00011302600614726543},{"id":1490202,"event":"return","thread_id":9160,"parent_id":1490195,"elapsed":0.004666770983021706,"elapsed_instrumentation":9.956999565474689e-05},{"id":1490203,"event":"return","thread_id":9160,"parent_id":1490188,"elapsed":0.009835086995735765,"elapsed_instrumentation":9.354800567962229e-05},{"id":1490204,"event":"return","thread_id":9160,"parent_id":1490175,"elapsed":0.011981557006947696,"elapsed_instrumentation":0.0005629289953503758,"return_value":{"class":"String","value":"1da984fb9c1c79ab9794efbe","object_id":8107420}},{"id":1490205,"event":"return","thread_id":9160,"parent_id":1490120,"elapsed":0.04289699700893834,"elapsed_instrumentation":0.0005766969989053905,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069fba48>","object_id":8107260}},{"id":1490206,"event":"return","thread_id":9160,"parent_id":1490119,"elapsed":0.043515188008314,"elapsed_instrumentation":0.00010966396075673401,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069fba48>","object_id":8107260}},{"id":1490207,"event":"return","thread_id":9160,"parent_id":1490118,"elapsed":0.04366198199568316,"elapsed_instrumentation":0.00018821499543264508,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069fba48>","object_id":8107260}},{"id":1490208,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8107760,"value":"relationship:111360521806057236:111360521806057245","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8107780,"value":"#<UnfollowService:0x00007fdc077cd8b0>"}},{"id":1490209,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8107780,"value":"#<UnfollowService:0x00007fdc077cd8b0>"}},{"id":1490210,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8107800,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8107820,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490211,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490212,"event":"return","thread_id":9160,"parent_id":1490211,"elapsed":2.8329959604889154e-06,"elapsed_instrumentation":7.211902993731201e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1490213,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8107840,"value":"__e\r U____\u0019._2_4"}},{"id":1490214,"event":"return","thread_id":9160,"parent_id":1490213,"elapsed":8.914998034015298e-06,"elapsed_instrumentation":0.0006616990140173584,"return_value":{"class":"Array","value":"[3301991693, 8277, 65196, 43492, 6446, 3962758452]","object_id":8107860,"size":6}},{"id":1490215,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490216,"event":"return","thread_id":9160,"parent_id":1490215,"elapsed":0.000774899,"elapsed_instrumentation":9.609301923774183e-05},{"id":1490217,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8107880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490218,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490219,"event":"return","thread_id":9160,"parent_id":1490218,"elapsed":0.000705123,"elapsed_instrumentation":8.234698907472193e-05},{"id":1490220,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490221,"event":"return","thread_id":9160,"parent_id":1490220,"elapsed":0.000780386,"elapsed_instrumentation":7.577601354569197e-05},{"id":1490222,"event":"return","thread_id":9160,"parent_id":1490217,"elapsed":0.0032632049988023937,"elapsed_instrumentation":0.00045464601134881377,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1490223,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1490224,"event":"return","thread_id":9160,"parent_id":1490223,"elapsed":0.000905979,"elapsed_instrumentation":0.00010274798842146993},{"id":1490225,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8107880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490226,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1490227,"event":"return","thread_id":9160,"parent_id":1490226,"elapsed":0.000907087,"elapsed_instrumentation":0.00034737001988105476},{"id":1490228,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490229,"event":"return","thread_id":9160,"parent_id":1490228,"elapsed":0.0009469,"elapsed_instrumentation":0.00010341499000787735},{"id":1490230,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8107900,"value":"#<Account:0x00007fdc069f6e08>"}},{"id":1490231,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8107900,"value":"#<Account:0x00007fdc069f6e08>"}},{"id":1490232,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521806057236, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490233,"event":"return","thread_id":9160,"parent_id":1490232,"elapsed":0.001225295,"elapsed_instrumentation":9.101899922825396e-05},{"id":1490234,"event":"return","thread_id":9160,"parent_id":1490231,"elapsed":0.0019999280048068613,"elapsed_instrumentation":0.00025223902775906026},{"id":1490235,"event":"return","thread_id":9160,"parent_id":1490230,"elapsed":0.0022903299832250923,"elapsed_instrumentation":0.00016355101251974702},{"id":1490236,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490237,"event":"return","thread_id":9160,"parent_id":1490236,"elapsed":0.00060702,"elapsed_instrumentation":9.943201439455152e-05},{"id":1490238,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8107920,"value":"#<Account:0x00007fdc069f6048>"}},{"id":1490239,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8107920,"value":"#<Account:0x00007fdc069f6048>"}},{"id":1490240,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521806057245, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490241,"event":"return","thread_id":9160,"parent_id":1490240,"elapsed":0.001231806,"elapsed_instrumentation":8.10020137578249e-05},{"id":1490242,"event":"return","thread_id":9160,"parent_id":1490239,"elapsed":0.0018056769913528115,"elapsed_instrumentation":0.00010937202023342252},{"id":1490243,"event":"return","thread_id":9160,"parent_id":1490238,"elapsed":0.0019439909956417978,"elapsed_instrumentation":0.00021396399824880064},{"id":1490244,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8107900,"value":"#<Account:0x00007fdc069f6e08>"}},{"id":1490245,"event":"return","thread_id":9160,"parent_id":1490244,"elapsed":1.4445016859099269e-05,"elapsed_instrumentation":0.00010923400986939669,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490246,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8107920,"value":"#<Account:0x00007fdc069f6048>"}},{"id":1490247,"event":"return","thread_id":9160,"parent_id":1490246,"elapsed":7.777009159326553e-06,"elapsed_instrumentation":7.130703306756914e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490248,"event":"return","thread_id":9160,"parent_id":1490225,"elapsed":0.013728345977142453,"elapsed_instrumentation":0.0001795330026652664,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1490249,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490250,"event":"return","thread_id":9160,"parent_id":1490249,"elapsed":0.000706826,"elapsed_instrumentation":8.750398410484195e-05},{"id":1490251,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8107960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490252,"event":"return","thread_id":9160,"parent_id":1490251,"elapsed":4.071014700457454e-06,"elapsed_instrumentation":0.0004687500186264515,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1490253,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8107960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490254,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8107980,"value":"Cache delete: relationship:111360521806057236:111360521806057245\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490255,"event":"return","thread_id":9160,"parent_id":1490254,"elapsed":0.000909283000510186,"elapsed_instrumentation":0.00012950898963026702,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490256,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8108000,"value":"Cache delete: relationship:111360521806057245:111360521806057236\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490257,"event":"return","thread_id":9160,"parent_id":1490256,"elapsed":0.000989835971267894,"elapsed_instrumentation":0.00017726400983519852,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490258,"event":"return","thread_id":9160,"parent_id":1490253,"elapsed":0.0025132980081252754,"elapsed_instrumentation":0.0004214530054014176,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1490259,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1490260,"event":"return","thread_id":9160,"parent_id":1490259,"elapsed":8.519011316820979e-06,"elapsed_instrumentation":9.660000796429813e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490261,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1490262,"event":"return","thread_id":9160,"parent_id":1490261,"elapsed":4.18501440435648e-06,"elapsed_instrumentation":6.558198947459459e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490263,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8108020,"value":"#<Account:0x00007fdc069fca88>"}},{"id":1490264,"event":"return","thread_id":9160,"parent_id":1490263,"elapsed":1.0326009942218661e-05,"elapsed_instrumentation":6.401899736374617e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490265,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8108040,"value":"{args=>[111360521806057245, 111360521806057236], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8108060,"value":"#<Sidekiq::Client:0x00007fdc069a9f68>"}},{"id":1490266,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8108080,"value":"_\n__\u0010Pa_{:_\u0017"}},{"id":1490267,"event":"return","thread_id":9160,"parent_id":1490266,"elapsed":4.814995918422937e-06,"elapsed_instrumentation":0.00016681701526977122,"return_value":{"class":"String","value":"930afef1105061937b3ab417","object_id":8108100}},{"id":1490268,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8108120,"value":"[111360521806057245, 111360521806057236]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8108140,"value":"#<JSON::Ext::Generator::State:0x00007fdc069a74e8>"}},{"id":1490269,"event":"return","thread_id":9160,"parent_id":1490268,"elapsed":6.2889885157346725e-06,"elapsed_instrumentation":0.00014631502563133836,"return_value":{"class":"String","value":"[111360521806057245,111360521806057236]","object_id":8108160}},{"id":1490270,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8108180,"value":"#<JSON::Ext::Parser:0x00007fdc069a6570>"}},{"id":1490271,"event":"return","thread_id":9160,"parent_id":1490270,"elapsed":5.563982995226979e-06,"elapsed_instrumentation":8.408501162193716e-05,"return_value":{"class":"Array","value":"[111360521806057245, 111360521806057236]","object_id":8108200,"size":2}},{"id":1490272,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8108220,"value":"__\u001e___N_i_\u0004\u0000"}},{"id":1490273,"event":"return","thread_id":9160,"parent_id":1490272,"elapsed":4.170986358076334e-06,"elapsed_instrumentation":0.00012727102148346603,"return_value":{"class":"String","value":"cbc11efffef14eb969ad0400","object_id":8108240}},{"id":1490274,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8108260,"value":"{retry=>true, queue=>pull, args=>[111360521806057245, 111360521806057236], class=>UnmergeWorker, jid=>930afef1105061937b3ab417, created_at=>1699226714.121264, id=>cbc11efffef14eb969ad0400}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8108280,"value":"#<JSON::Ext::Generator::State:0x00007fdc069a43d8>"}},{"id":1490275,"event":"return","thread_id":9160,"parent_id":1490274,"elapsed":1.9605009583756328e-05,"elapsed_instrumentation":0.0003830399946309626,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521806057245,111360521806057236],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8108300}},{"id":1490276,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8108320,"value":"#<JSON::Ext::Parser:0x00007fdc069a1408>"}},{"id":1490277,"event":"return","thread_id":9160,"parent_id":1490276,"elapsed":2.11169826798141e-05,"elapsed_instrumentation":0.0001821870100684464,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521806057245, 111360521806057236], class=>UnmergeWorker, jid=>930afef1105061937b3ab417, created_at=>1699226714.121264, id=>cbc11efffef14eb969ad0400}","object_id":8108340,"size":7}},{"id":1490278,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043612114473,"value":"111360521806057236","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8108360,"value":"#<UnmergeWorker:0x00007fdc069bf188>"}},{"id":1490279,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8108360,"value":"#<UnmergeWorker:0x00007fdc069bf188>"}},{"id":1490280,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490281,"event":"return","thread_id":9160,"parent_id":1490280,"elapsed":0.000765255,"elapsed_instrumentation":9.653001325204968e-05},{"id":1490282,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490283,"event":"return","thread_id":9160,"parent_id":1490282,"elapsed":0.000739813,"elapsed_instrumentation":8.706000517122447e-05},{"id":1490284,"event":"return","thread_id":9160,"parent_id":1490279,"elapsed":0.004840498004341498,"elapsed_instrumentation":0.00012955599231645465,"return_value":{"class":"Account","value":"#<Account:0x00007fdc069f4748>","object_id":8108380}},{"id":1490285,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8108360,"value":"#<UnmergeWorker:0x00007fdc069bf188>"}},{"id":1490286,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8108400,"value":"#<Account:0x00007fdc069f4888>","kind":"req"},{"name":"into_account","class":"Account","object_id":8108380,"value":"#<Account:0x00007fdc069f4748>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490287,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043612114473,"value":"111360521806057236","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490288,"event":"return","thread_id":9160,"parent_id":1490287,"elapsed":0.0003150189877487719,"elapsed_instrumentation":0.00015460100257769227,"return_value":{"class":"String","value":"feed:home:111360521806057236","object_id":8108420}},{"id":1490289,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490290,"event":"return","thread_id":9160,"parent_id":1490289,"elapsed":7.417984306812286e-06,"elapsed_instrumentation":0.00014405100955627859,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1490291,"event":"return","thread_id":9160,"parent_id":1490286,"elapsed":0.005799748993013054,"elapsed_instrumentation":0.00011806000838987529},{"id":1490292,"event":"return","thread_id":9160,"parent_id":1490285,"elapsed":0.005954162974376231,"elapsed_instrumentation":0.00010765402112156153},{"id":1490293,"event":"return","thread_id":9160,"parent_id":1490278,"elapsed":0.011085367004852742,"elapsed_instrumentation":8.045998401939869e-05},{"id":1490294,"event":"return","thread_id":9160,"parent_id":1490265,"elapsed":0.012914322025608271,"elapsed_instrumentation":0.00018194899894297123,"return_value":{"class":"String","value":"930afef1105061937b3ab417","object_id":8108100}},{"id":1490295,"event":"return","thread_id":9160,"parent_id":1490210,"elapsed":0.04163146499195136,"elapsed_instrumentation":0.00017534501967020333,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f76c8>","object_id":8107940}},{"id":1490296,"event":"return","thread_id":9160,"parent_id":1490209,"elapsed":0.04183350599487312,"elapsed_instrumentation":0.00011022397666238248,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f76c8>","object_id":8107940}},{"id":1490297,"event":"return","thread_id":9160,"parent_id":1490208,"elapsed":0.041983529983554035,"elapsed_instrumentation":0.0008763600199017674,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f76c8>","object_id":8107940}},{"id":1490298,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8108440,"value":"relationship:111360521806057237:111360521806057245","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8108460,"value":"#<UnfollowService:0x00007fdc077c5430>"}},{"id":1490299,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8108460,"value":"#<UnfollowService:0x00007fdc077c5430>"}},{"id":1490300,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8108480,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8108500,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490301,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490302,"event":"return","thread_id":9160,"parent_id":1490301,"elapsed":3.068998921662569e-06,"elapsed_instrumentation":7.482198998332024e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1490303,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8108520,"value":"__l__\u0015_$_*1\u000f_k__"}},{"id":1490304,"event":"return","thread_id":9160,"parent_id":1490303,"elapsed":7.558002835139632e-06,"elapsed_instrumentation":0.00022649997845292091,"return_value":{"class":"Array","value":"[2830527627, 58133, 60452, 58666, 12559, 2926297230]","object_id":8108540,"size":6}},{"id":1490305,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490306,"event":"return","thread_id":9160,"parent_id":1490305,"elapsed":0.000714151,"elapsed_instrumentation":0.00016593001782894135},{"id":1490307,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8108560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490308,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490309,"event":"return","thread_id":9160,"parent_id":1490308,"elapsed":0.000679534,"elapsed_instrumentation":0.00014190800720825791},{"id":1490310,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490311,"event":"return","thread_id":9160,"parent_id":1490310,"elapsed":0.0007171,"elapsed_instrumentation":8.30630015116185e-05},{"id":1490312,"event":"return","thread_id":9160,"parent_id":1490307,"elapsed":0.004822166985832155,"elapsed_instrumentation":0.00020748900715261698,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1490313,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1490314,"event":"return","thread_id":9160,"parent_id":1490313,"elapsed":0.00103669,"elapsed_instrumentation":8.585499017499387e-05},{"id":1490315,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8108560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490316,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1490317,"event":"return","thread_id":9160,"parent_id":1490316,"elapsed":0.000842347,"elapsed_instrumentation":7.755699334666133e-05},{"id":1490318,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490319,"event":"return","thread_id":9160,"parent_id":1490318,"elapsed":0.000599613,"elapsed_instrumentation":0.00035253100213594735},{"id":1490320,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8108580,"value":"#<Account:0x00007fdc069f3708>"}},{"id":1490321,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8108580,"value":"#<Account:0x00007fdc069f3708>"}},{"id":1490322,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521806057237, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490323,"event":"return","thread_id":9160,"parent_id":1490322,"elapsed":0.001209044,"elapsed_instrumentation":8.018399239517748e-05},{"id":1490324,"event":"return","thread_id":9160,"parent_id":1490321,"elapsed":0.0020408630080055445,"elapsed_instrumentation":0.00012496201088652015},{"id":1490325,"event":"return","thread_id":9160,"parent_id":1490320,"elapsed":0.0021993940172251314,"elapsed_instrumentation":0.00013679798576049507},{"id":1490326,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490327,"event":"return","thread_id":9160,"parent_id":1490326,"elapsed":0.001168772,"elapsed_instrumentation":0.00010460999328643084},{"id":1490328,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8108600,"value":"#<Account:0x00007fdc069f21c8>"}},{"id":1490329,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8108600,"value":"#<Account:0x00007fdc069f21c8>"}},{"id":1490330,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521806057245, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490331,"event":"return","thread_id":9160,"parent_id":1490330,"elapsed":0.001068539,"elapsed_instrumentation":0.00011988199548795819},{"id":1490332,"event":"return","thread_id":9160,"parent_id":1490329,"elapsed":0.0019456990121398121,"elapsed_instrumentation":0.00014892700710333884},{"id":1490333,"event":"return","thread_id":9160,"parent_id":1490328,"elapsed":0.00227014601114206,"elapsed_instrumentation":0.0001658489927649498},{"id":1490334,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8108580,"value":"#<Account:0x00007fdc069f3708>"}},{"id":1490335,"event":"return","thread_id":9160,"parent_id":1490334,"elapsed":1.6884005162864923e-05,"elapsed_instrumentation":0.00013336498523131013,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490336,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8108600,"value":"#<Account:0x00007fdc069f21c8>"}},{"id":1490337,"event":"return","thread_id":9160,"parent_id":1490336,"elapsed":8.88700014911592e-06,"elapsed_instrumentation":0.00010316798579879105,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490338,"event":"return","thread_id":9160,"parent_id":1490315,"elapsed":0.014668632997199893,"elapsed_instrumentation":0.00020026200218126178,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1490339,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490340,"event":"return","thread_id":9160,"parent_id":1490339,"elapsed":0.000676533,"elapsed_instrumentation":8.575100218877196e-05},{"id":1490341,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8108640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490342,"event":"return","thread_id":9160,"parent_id":1490341,"elapsed":3.57598764821887e-06,"elapsed_instrumentation":0.00016425902140326798,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1490343,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8108640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490344,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8108660,"value":"Cache delete: relationship:111360521806057237:111360521806057245\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490345,"event":"return","thread_id":9160,"parent_id":1490344,"elapsed":0.0010267760080751032,"elapsed_instrumentation":0.00017388598644174635,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490346,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8108680,"value":"Cache delete: relationship:111360521806057245:111360521806057237\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490347,"event":"return","thread_id":9160,"parent_id":1490346,"elapsed":0.0011424509866628796,"elapsed_instrumentation":0.00014140599523670971,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490348,"event":"return","thread_id":9160,"parent_id":1490343,"elapsed":0.002998117997776717,"elapsed_instrumentation":0.00012446200707927346,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1490349,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1490350,"event":"return","thread_id":9160,"parent_id":1490349,"elapsed":9.269977454096079e-06,"elapsed_instrumentation":0.0003672940074466169,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490351,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1490352,"event":"return","thread_id":9160,"parent_id":1490351,"elapsed":7.728987839072943e-06,"elapsed_instrumentation":0.00011332801659591496,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490353,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8108700,"value":"#<Account:0x00007fdc069fc088>"}},{"id":1490354,"event":"return","thread_id":9160,"parent_id":1490353,"elapsed":1.3317010598257184e-05,"elapsed_instrumentation":7.182199624367058e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490355,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8108720,"value":"{args=>[111360521806057245, 111360521806057237], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8108740,"value":"#<Sidekiq::Client:0x00007fdc0693b4c8>"}},{"id":1490356,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8108760,"value":"_k____2___W-"}},{"id":1490357,"event":"return","thread_id":9160,"parent_id":1490356,"elapsed":6.532005500048399e-06,"elapsed_instrumentation":0.0004278249980416149,"return_value":{"class":"String","value":"af6bd4c9eaad328daec9572d","object_id":8108780}},{"id":1490358,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8108800,"value":"[111360521806057245, 111360521806057237]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8108820,"value":"#<JSON::Ext::Generator::State:0x00007fdc06938c28>"}},{"id":1490359,"event":"return","thread_id":9160,"parent_id":1490358,"elapsed":6.3820043578743935e-06,"elapsed_instrumentation":0.0001273510279133916,"return_value":{"class":"String","value":"[111360521806057245,111360521806057237]","object_id":8108840}},{"id":1490360,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8108860,"value":"#<JSON::Ext::Parser:0x00007fdc06937d50>"}},{"id":1490361,"event":"return","thread_id":9160,"parent_id":1490360,"elapsed":5.956011591479182e-06,"elapsed_instrumentation":8.327601244673133e-05,"return_value":{"class":"Array","value":"[111360521806057245, 111360521806057237]","object_id":8108880,"size":2}},{"id":1490362,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8108900,"value":"i_y\b__Z_?_\u000e_"}},{"id":1490363,"event":"return","thread_id":9160,"parent_id":1490362,"elapsed":3.508990630507469e-06,"elapsed_instrumentation":0.00010198302334174514,"return_value":{"class":"String","value":"69ec7908bbbb5ad43fd10ed1","object_id":8108920}},{"id":1490364,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8108940,"value":"{retry=>true, queue=>pull, args=>[111360521806057245, 111360521806057237], class=>UnmergeWorker, jid=>af6bd4c9eaad328daec9572d, created_at=>1699226714.1663792, id=>69ec7908bbbb5ad43fd10ed1}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8108960,"value":"#<JSON::Ext::Generator::State:0x00007fdc06935cf8>"}},{"id":1490365,"event":"return","thread_id":9160,"parent_id":1490364,"elapsed":1.4885998098179698e-05,"elapsed_instrumentation":0.0003284510166849941,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521806057245,111360521806057237],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8108980}},{"id":1490366,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8109000,"value":"#<JSON::Ext::Parser:0x00007fdc06933ae8>"}},{"id":1490367,"event":"return","thread_id":9160,"parent_id":1490366,"elapsed":2.0557985408231616e-05,"elapsed_instrumentation":0.0001693720114417374,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521806057245, 111360521806057237], class=>UnmergeWorker, jid=>af6bd4c9eaad328daec9572d, created_at=>1699226714.1663792, id=>69ec7908bbbb5ad43fd10ed1}","object_id":8109020,"size":7}},{"id":1490368,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043612114475,"value":"111360521806057237","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8109040,"value":"#<UnmergeWorker:0x00007fdc06930e10>"}},{"id":1490369,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8109040,"value":"#<UnmergeWorker:0x00007fdc06930e10>"}},{"id":1490370,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490371,"event":"return","thread_id":9160,"parent_id":1490370,"elapsed":0.000921645,"elapsed_instrumentation":0.0002712649875320494},{"id":1490372,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490373,"event":"return","thread_id":9160,"parent_id":1490372,"elapsed":0.000792716,"elapsed_instrumentation":8.563499432057142e-05},{"id":1490374,"event":"return","thread_id":9160,"parent_id":1490369,"elapsed":0.004588632000377402,"elapsed_instrumentation":0.0001371240068692714,"return_value":{"class":"Account","value":"#<Account:0x00007fdc069f0288>","object_id":8109060}},{"id":1490375,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8109040,"value":"#<UnmergeWorker:0x00007fdc06930e10>"}},{"id":1490376,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8109080,"value":"#<Account:0x00007fdc069f0508>","kind":"req"},{"name":"into_account","class":"Account","object_id":8109060,"value":"#<Account:0x00007fdc069f0288>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490377,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043612114475,"value":"111360521806057237","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490378,"event":"return","thread_id":9160,"parent_id":1490377,"elapsed":5.331006832420826e-06,"elapsed_instrumentation":0.00010906701209023595,"return_value":{"class":"String","value":"feed:home:111360521806057237","object_id":8109100}},{"id":1490379,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490380,"event":"return","thread_id":9160,"parent_id":1490379,"elapsed":5.566020263358951e-06,"elapsed_instrumentation":0.0004748739884234965,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1490381,"event":"return","thread_id":9160,"parent_id":1490376,"elapsed":0.005023840989451855,"elapsed_instrumentation":0.00013598502846434712},{"id":1490382,"event":"return","thread_id":9160,"parent_id":1490375,"elapsed":0.005198552011279389,"elapsed_instrumentation":0.00010166002903133631},{"id":1490383,"event":"return","thread_id":9160,"parent_id":1490368,"elapsed":0.010076645005028695,"elapsed_instrumentation":8.395299664698541e-05},{"id":1490384,"event":"return","thread_id":9160,"parent_id":1490355,"elapsed":0.011823528999229893,"elapsed_instrumentation":0.0001823430065996945,"return_value":{"class":"String","value":"af6bd4c9eaad328daec9572d","object_id":8108780}},{"id":1490385,"event":"return","thread_id":9160,"parent_id":1490300,"elapsed":0.04361498699290678,"elapsed_instrumentation":0.0001750510127749294,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f44c8>","object_id":8108620}},{"id":1490386,"event":"return","thread_id":9160,"parent_id":1490299,"elapsed":0.04381534497952089,"elapsed_instrumentation":8.842500392347574e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f44c8>","object_id":8108620}},{"id":1490387,"event":"return","thread_id":9160,"parent_id":1490298,"elapsed":0.0439385790086817,"elapsed_instrumentation":0.00015363795682787895,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f44c8>","object_id":8108620}},{"id":1490388,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8109120,"value":"relationship:111360521806057238:111360521806057245","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8109140,"value":"#<UnfollowService:0x00007fdc0886dee0>"}},{"id":1490389,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8109140,"value":"#<UnfollowService:0x00007fdc0886dee0>"}},{"id":1490390,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8109160,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8109180,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490391,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490392,"event":"return","thread_id":9160,"parent_id":1490391,"elapsed":3.1790114007890224e-06,"elapsed_instrumentation":0.00010420000762678683,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1490393,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8109200,"value":"&____)__Y_\u0019_\u0001___"}},{"id":1490394,"event":"return","thread_id":9160,"parent_id":1490393,"elapsed":7.360999006778002e-06,"elapsed_instrumentation":0.00024063599994406104,"return_value":{"class":"Array","value":"[651293064, 58921, 57567, 23018, 6559, 29542361]","object_id":8109220,"size":6}},{"id":1490395,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490396,"event":"return","thread_id":9160,"parent_id":1490395,"elapsed":0.000795908,"elapsed_instrumentation":0.00011743098730221391},{"id":1490397,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8109240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490398,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490399,"event":"return","thread_id":9160,"parent_id":1490398,"elapsed":0.000749454,"elapsed_instrumentation":9.074798435904086e-05},{"id":1490400,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490401,"event":"return","thread_id":9160,"parent_id":1490400,"elapsed":0.000564752,"elapsed_instrumentation":7.808100781403482e-05},{"id":1490402,"event":"return","thread_id":9160,"parent_id":1490397,"elapsed":0.003361087990924716,"elapsed_instrumentation":0.0005663380143232644,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1490403,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1490404,"event":"return","thread_id":9160,"parent_id":1490403,"elapsed":0.00094907,"elapsed_instrumentation":7.835699943825603e-05},{"id":1490405,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8109240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490406,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1490407,"event":"return","thread_id":9160,"parent_id":1490406,"elapsed":0.001104334,"elapsed_instrumentation":0.0004255030071362853},{"id":1490408,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490409,"event":"return","thread_id":9160,"parent_id":1490408,"elapsed":0.001212992,"elapsed_instrumentation":0.00012082202010788023},{"id":1490410,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8109260,"value":"#<Account:0x00007fdc06b1ed80>"}},{"id":1490411,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8109260,"value":"#<Account:0x00007fdc06b1ed80>"}},{"id":1490412,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521806057238, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490413,"event":"return","thread_id":9160,"parent_id":1490412,"elapsed":0.001157667,"elapsed_instrumentation":9.687300189398229e-05},{"id":1490414,"event":"return","thread_id":9160,"parent_id":1490411,"elapsed":0.002229500998510048,"elapsed_instrumentation":0.0001078970090020448},{"id":1490415,"event":"return","thread_id":9160,"parent_id":1490410,"elapsed":0.002367324981605634,"elapsed_instrumentation":0.00016901001799851656},{"id":1490416,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490417,"event":"return","thread_id":9160,"parent_id":1490416,"elapsed":0.000820376,"elapsed_instrumentation":8.241698378697038e-05},{"id":1490418,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8109280,"value":"#<Account:0x00007fdc06b1d840>"}},{"id":1490419,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8109280,"value":"#<Account:0x00007fdc06b1d840>"}},{"id":1490420,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521806057245, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490421,"event":"return","thread_id":9160,"parent_id":1490420,"elapsed":0.001139813,"elapsed_instrumentation":0.00011827898561023176},{"id":1490422,"event":"return","thread_id":9160,"parent_id":1490419,"elapsed":0.0018002820143010467,"elapsed_instrumentation":0.00012548599625006318},{"id":1490423,"event":"return","thread_id":9160,"parent_id":1490418,"elapsed":0.00195331999566406,"elapsed_instrumentation":0.00014060601824894547},{"id":1490424,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8109260,"value":"#<Account:0x00007fdc06b1ed80>"}},{"id":1490425,"event":"return","thread_id":9160,"parent_id":1490424,"elapsed":1.4316989108920097e-05,"elapsed_instrumentation":0.00012731499737128615,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490426,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8109280,"value":"#<Account:0x00007fdc06b1d840>"}},{"id":1490427,"event":"return","thread_id":9160,"parent_id":1490426,"elapsed":7.413007551804185e-06,"elapsed_instrumentation":7.268498302437365e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490428,"event":"return","thread_id":9160,"parent_id":1490405,"elapsed":0.015821058012079448,"elapsed_instrumentation":0.00022054999135434628,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1490429,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490430,"event":"return","thread_id":9160,"parent_id":1490429,"elapsed":0.000696144,"elapsed_instrumentation":7.66600132919848e-05},{"id":1490431,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8109320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490432,"event":"return","thread_id":9160,"parent_id":1490431,"elapsed":5.45001239515841e-06,"elapsed_instrumentation":0.0005298989708535373,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1490433,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8109320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490434,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8109340,"value":"Cache delete: relationship:111360521806057238:111360521806057245\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490435,"event":"return","thread_id":9160,"parent_id":1490434,"elapsed":0.0012302889954298735,"elapsed_instrumentation":0.00020210101502016187,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490436,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8109360,"value":"Cache delete: relationship:111360521806057245:111360521806057238\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490437,"event":"return","thread_id":9160,"parent_id":1490436,"elapsed":0.0011147469922434539,"elapsed_instrumentation":0.00016504299128428102,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490438,"event":"return","thread_id":9160,"parent_id":1490433,"elapsed":0.0030819789972156286,"elapsed_instrumentation":0.000174196989974007,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1490439,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1490440,"event":"return","thread_id":9160,"parent_id":1490439,"elapsed":9.484996553510427e-06,"elapsed_instrumentation":0.00013074700837023556,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490441,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1490442,"event":"return","thread_id":9160,"parent_id":1490441,"elapsed":9.039998985826969e-06,"elapsed_instrumentation":0.0005027360166423023,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490443,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8109380,"value":"#<Account:0x00007fdc069fbf48>"}},{"id":1490444,"event":"return","thread_id":9160,"parent_id":1490443,"elapsed":1.2520002201199532e-05,"elapsed_instrumentation":9.24580090213567e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490445,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8109400,"value":"{args=>[111360521806057245, 111360521806057238], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8109420,"value":"#<Sidekiq::Client:0x00007fdc06896928>"}},{"id":1490446,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8109440,"value":"___\u000e5_\u0015___?_"}},{"id":1490447,"event":"return","thread_id":9160,"parent_id":1490446,"elapsed":4.943984095007181e-06,"elapsed_instrumentation":0.00014211301458999515,"return_value":{"class":"String","value":"bbe9b30e35de159ce8ae3f9c","object_id":8109460}},{"id":1490448,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8109480,"value":"[111360521806057245, 111360521806057238]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8109500,"value":"#<JSON::Ext::Generator::State:0x00007fdc06891770>"}},{"id":1490449,"event":"return","thread_id":9160,"parent_id":1490448,"elapsed":8.825008990243077e-06,"elapsed_instrumentation":0.000155515008373186,"return_value":{"class":"String","value":"[111360521806057245,111360521806057238]","object_id":8109520}},{"id":1490450,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8109540,"value":"#<JSON::Ext::Parser:0x00007fdc068adb28>"}},{"id":1490451,"event":"return","thread_id":9160,"parent_id":1490450,"elapsed":5.792011506855488e-06,"elapsed_instrumentation":0.00011385197285562754,"return_value":{"class":"Array","value":"[111360521806057245, 111360521806057238]","object_id":8109560,"size":2}},{"id":1490452,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8109580,"value":"_,\fI/__$\u001b_d_"}},{"id":1490453,"event":"return","thread_id":9160,"parent_id":1490452,"elapsed":4.340021405369043e-06,"elapsed_instrumentation":0.0001419759646523744,"return_value":{"class":"String","value":"f12c0c492fa68d241be26481","object_id":8109600}},{"id":1490454,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8109620,"value":"{retry=>true, queue=>pull, args=>[111360521806057245, 111360521806057238], class=>UnmergeWorker, jid=>bbe9b30e35de159ce8ae3f9c, created_at=>1699226714.210954, id=>f12c0c492fa68d241be26481}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8109640,"value":"#<JSON::Ext::Generator::State:0x00007fdc068a2020>"}},{"id":1490455,"event":"return","thread_id":9160,"parent_id":1490454,"elapsed":1.8224993254989386e-05,"elapsed_instrumentation":0.0005569650384131819,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521806057245,111360521806057238],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8109660}},{"id":1490456,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8109680,"value":"#<JSON::Ext::Parser:0x00007fdc068b12f0>"}},{"id":1490457,"event":"return","thread_id":9160,"parent_id":1490456,"elapsed":2.3972999770194292e-05,"elapsed_instrumentation":0.0004170389729551971,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521806057245, 111360521806057238], class=>UnmergeWorker, jid=>bbe9b30e35de159ce8ae3f9c, created_at=>1699226714.210954, id=>f12c0c492fa68d241be26481}","object_id":8109700,"size":7}},{"id":1490458,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043612114477,"value":"111360521806057238","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8109720,"value":"#<UnmergeWorker:0x00007fdc0684e150>"}},{"id":1490459,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8109720,"value":"#<UnmergeWorker:0x00007fdc0684e150>"}},{"id":1490460,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490461,"event":"return","thread_id":9160,"parent_id":1490460,"elapsed":0.000727003,"elapsed_instrumentation":0.00037427700590342283},{"id":1490462,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490463,"event":"return","thread_id":9160,"parent_id":1490462,"elapsed":0.000701286,"elapsed_instrumentation":8.431400055997074e-05},{"id":1490464,"event":"return","thread_id":9160,"parent_id":1490459,"elapsed":0.004876924998825416,"elapsed_instrumentation":0.00013322700397111475,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06b1c1c0>","object_id":8109740}},{"id":1490465,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8109720,"value":"#<UnmergeWorker:0x00007fdc0684e150>"}},{"id":1490466,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8109760,"value":"#<Account:0x00007fdc06b1c300>","kind":"req"},{"name":"into_account","class":"Account","object_id":8109740,"value":"#<Account:0x00007fdc06b1c1c0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490467,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043612114477,"value":"111360521806057238","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490468,"event":"return","thread_id":9160,"parent_id":1490467,"elapsed":5.030015017837286e-06,"elapsed_instrumentation":0.00011666500358842313,"return_value":{"class":"String","value":"feed:home:111360521806057238","object_id":8109780}},{"id":1490469,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490470,"event":"return","thread_id":9160,"parent_id":1490469,"elapsed":4.512985469773412e-06,"elapsed_instrumentation":7.796901627443731e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1490471,"event":"return","thread_id":9160,"parent_id":1490466,"elapsed":0.0052035729750059545,"elapsed_instrumentation":0.0001455799792893231},{"id":1490472,"event":"return","thread_id":9160,"parent_id":1490465,"elapsed":0.00538791497820057,"elapsed_instrumentation":9.87510138656944e-05},{"id":1490473,"event":"return","thread_id":9160,"parent_id":1490458,"elapsed":0.010550892999162897,"elapsed_instrumentation":0.00012692000018432736},{"id":1490474,"event":"return","thread_id":9160,"parent_id":1490445,"elapsed":0.013231413991888985,"elapsed_instrumentation":0.000423311983468011,"return_value":{"class":"String","value":"bbe9b30e35de159ce8ae3f9c","object_id":8109460}},{"id":1490475,"event":"return","thread_id":9160,"parent_id":1490390,"elapsed":0.04598542200983502,"elapsed_instrumentation":0.00033358499058522284,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b1fdc0>","object_id":8109300}},{"id":1490476,"event":"return","thread_id":9160,"parent_id":1490389,"elapsed":0.046361874003196135,"elapsed_instrumentation":0.00010226201266050339,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b1fdc0>","object_id":8109300}},{"id":1490477,"event":"return","thread_id":9160,"parent_id":1490388,"elapsed":0.0465142099710647,"elapsed_instrumentation":0.00016131502343341708,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b1fdc0>","object_id":8109300}},{"id":1490478,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8109800,"value":"relationship:111360521806057239:111360521806057245","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8109820,"value":"#<UnfollowService:0x00007fdc08866910>"}},{"id":1490479,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8109820,"value":"#<UnfollowService:0x00007fdc08866910>"}},{"id":1490480,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8109840,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8109860,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490481,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490482,"event":"return","thread_id":9160,"parent_id":1490481,"elapsed":3.3059914130717516e-06,"elapsed_instrumentation":8.955399971455336e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1490483,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8109880,"value":"?_\r<&\u001d7__1____a_"}},{"id":1490484,"event":"return","thread_id":9160,"parent_id":1490483,"elapsed":7.791008101776242e-06,"elapsed_instrumentation":0.00015647104009985924,"return_value":{"class":"Array","value":"[1066536252, 9757, 14210, 42033, 37333, 2812830124]","object_id":8109900,"size":6}},{"id":1490485,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490486,"event":"return","thread_id":9160,"parent_id":1490485,"elapsed":0.000662858,"elapsed_instrumentation":0.0001052209991030395},{"id":1490487,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8109920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490488,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490489,"event":"return","thread_id":9160,"parent_id":1490488,"elapsed":0.000643636,"elapsed_instrumentation":8.770200656726956e-05},{"id":1490490,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490491,"event":"return","thread_id":9160,"parent_id":1490490,"elapsed":0.000661824,"elapsed_instrumentation":0.0001452979922760278},{"id":1490492,"event":"return","thread_id":9160,"parent_id":1490487,"elapsed":0.0033057710097637028,"elapsed_instrumentation":0.00019954101298935711,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1490493,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1490494,"event":"return","thread_id":9160,"parent_id":1490493,"elapsed":0.000993601,"elapsed_instrumentation":7.586300489492714e-05},{"id":1490495,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8109920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490496,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1490497,"event":"return","thread_id":9160,"parent_id":1490496,"elapsed":0.000746501,"elapsed_instrumentation":7.516599725931883e-05},{"id":1490498,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490499,"event":"return","thread_id":9160,"parent_id":1490498,"elapsed":0.00075419,"elapsed_instrumentation":8.159500430338085e-05},{"id":1490500,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8109940,"value":"#<Account:0x00007fdc06b1b2c0>"}},{"id":1490501,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8109940,"value":"#<Account:0x00007fdc06b1b2c0>"}},{"id":1490502,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521806057239, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490503,"event":"return","thread_id":9160,"parent_id":1490502,"elapsed":0.001656203,"elapsed_instrumentation":0.00010536299669183791},{"id":1490504,"event":"return","thread_id":9160,"parent_id":1490501,"elapsed":0.0026196299877483398,"elapsed_instrumentation":0.0006205079844221473},{"id":1490505,"event":"return","thread_id":9160,"parent_id":1490500,"elapsed":0.003278935997514054,"elapsed_instrumentation":0.00018518799333833158},{"id":1490506,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490507,"event":"return","thread_id":9160,"parent_id":1490506,"elapsed":0.00094899,"elapsed_instrumentation":0.00010166200809180737},{"id":1490508,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8109960,"value":"#<Account:0x00007fdc06b1a140>"}},{"id":1490509,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8109960,"value":"#<Account:0x00007fdc06b1a140>"}},{"id":1490510,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521806057245, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490511,"event":"return","thread_id":9160,"parent_id":1490510,"elapsed":0.001288126,"elapsed_instrumentation":0.0001450809941161424},{"id":1490512,"event":"return","thread_id":9160,"parent_id":1490509,"elapsed":0.0027080830186605453,"elapsed_instrumentation":0.0001782870094757527},{"id":1490513,"event":"return","thread_id":9160,"parent_id":1490508,"elapsed":0.002934935997473076,"elapsed_instrumentation":0.00022792600793763995},{"id":1490514,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8109940,"value":"#<Account:0x00007fdc06b1b2c0>"}},{"id":1490515,"event":"return","thread_id":9160,"parent_id":1490514,"elapsed":2.7297006454318762e-05,"elapsed_instrumentation":0.00020970901823602617,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490516,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8109960,"value":"#<Account:0x00007fdc06b1a140>"}},{"id":1490517,"event":"return","thread_id":9160,"parent_id":1490516,"elapsed":2.8534996090456843e-05,"elapsed_instrumentation":0.0001682810252532363,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490518,"event":"return","thread_id":9160,"parent_id":1490495,"elapsed":0.016569047002121806,"elapsed_instrumentation":0.0003037269925698638,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1490519,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490520,"event":"return","thread_id":9160,"parent_id":1490519,"elapsed":0.000769165,"elapsed_instrumentation":9.405502351000905e-05},{"id":1490521,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8110000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490522,"event":"return","thread_id":9160,"parent_id":1490521,"elapsed":6.465998012572527e-06,"elapsed_instrumentation":0.00034373399103060365,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1490523,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8110000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490524,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8110020,"value":"Cache delete: relationship:111360521806057239:111360521806057245\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490525,"event":"return","thread_id":9160,"parent_id":1490524,"elapsed":0.0015987359802238643,"elapsed_instrumentation":0.00015251702279783785,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490526,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8110040,"value":"Cache delete: relationship:111360521806057245:111360521806057239\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490527,"event":"return","thread_id":9160,"parent_id":1490526,"elapsed":0.0018607690290082246,"elapsed_instrumentation":0.00021562800975516438,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490528,"event":"return","thread_id":9160,"parent_id":1490523,"elapsed":0.004241906979586929,"elapsed_instrumentation":0.00019666101434268057,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1490529,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1490530,"event":"return","thread_id":9160,"parent_id":1490529,"elapsed":1.4432007446885109e-05,"elapsed_instrumentation":0.0001470099959988147,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490531,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1490532,"event":"return","thread_id":9160,"parent_id":1490531,"elapsed":8.597009582445025e-06,"elapsed_instrumentation":0.00012629400589503348,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490533,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8110060,"value":"#<Account:0x00007fdc069fbe08>"}},{"id":1490534,"event":"return","thread_id":9160,"parent_id":1490533,"elapsed":1.540599623695016e-05,"elapsed_instrumentation":0.00011192297097295523,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490535,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8110080,"value":"{args=>[111360521806057245, 111360521806057239], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8110100,"value":"#<Sidekiq::Client:0x00007fdc0682e490>"}},{"id":1490536,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8110120,"value":"\u0002___N;__:\u0005_I"}},{"id":1490537,"event":"return","thread_id":9160,"parent_id":1490536,"elapsed":1.4871999155730009e-05,"elapsed_instrumentation":0.00013294699601829052,"return_value":{"class":"String","value":"02f2eba84e3b80b93a059049","object_id":8110140}},{"id":1490538,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8110160,"value":"[111360521806057245, 111360521806057239]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8110180,"value":"#<JSON::Ext::Generator::State:0x00007fdc06829be8>"}},{"id":1490539,"event":"return","thread_id":9160,"parent_id":1490538,"elapsed":7.636001100763679e-06,"elapsed_instrumentation":0.0004500499926507473,"return_value":{"class":"String","value":"[111360521806057245,111360521806057239]","object_id":8110200}},{"id":1490540,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8110220,"value":"#<JSON::Ext::Parser:0x00007fdc06828950>"}},{"id":1490541,"event":"return","thread_id":9160,"parent_id":1490540,"elapsed":5.67000824958086e-06,"elapsed_instrumentation":9.376398520544171e-05,"return_value":{"class":"Array","value":"[111360521806057245, 111360521806057239]","object_id":8110240,"size":2}},{"id":1490542,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8110260,"value":"_p:k_y\u001a2\u000f\\f_"}},{"id":1490543,"event":"return","thread_id":9160,"parent_id":1490542,"elapsed":5.089998012408614e-06,"elapsed_instrumentation":0.0001437600003555417,"return_value":{"class":"String","value":"bb703a6bf1791a320f5c66dc","object_id":8110280}},{"id":1490544,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8110300,"value":"{retry=>true, queue=>pull, args=>[111360521806057245, 111360521806057239], class=>UnmergeWorker, jid=>02f2eba84e3b80b93a059049, created_at=>1699226714.2588606, id=>bb703a6bf1791a320f5c66dc}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8110320,"value":"#<JSON::Ext::Generator::State:0x00007fdc068266c8>"}},{"id":1490545,"event":"return","thread_id":9160,"parent_id":1490544,"elapsed":0.00026913100737147033,"elapsed_instrumentation":0.0002674650168046355,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521806057245,111360521806057239],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8110340}},{"id":1490546,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8110360,"value":"#<JSON::Ext::Parser:0x00007fdc06823220>"}},{"id":1490547,"event":"return","thread_id":9160,"parent_id":1490546,"elapsed":2.485301229171455e-05,"elapsed_instrumentation":0.0003051100065931678,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521806057245, 111360521806057239], class=>UnmergeWorker, jid=>02f2eba84e3b80b93a059049, created_at=>1699226714.2588606, id=>bb703a6bf1791a320f5c66dc}","object_id":8110380,"size":7}},{"id":1490548,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043612114479,"value":"111360521806057239","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8110400,"value":"#<UnmergeWorker:0x00007fdc06820ac0>"}},{"id":1490549,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8110400,"value":"#<UnmergeWorker:0x00007fdc06820ac0>"}},{"id":1490550,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490551,"event":"return","thread_id":9160,"parent_id":1490550,"elapsed":0.001207171,"elapsed_instrumentation":0.00011915000504814088},{"id":1490552,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490553,"event":"return","thread_id":9160,"parent_id":1490552,"elapsed":0.000645666,"elapsed_instrumentation":0.0002991640067193657},{"id":1490554,"event":"return","thread_id":9160,"parent_id":1490549,"elapsed":0.0057991430221591145,"elapsed_instrumentation":0.0002080569975078106,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06b18840>","object_id":8110420}},{"id":1490555,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8110400,"value":"#<UnmergeWorker:0x00007fdc06820ac0>"}},{"id":1490556,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8110440,"value":"#<Account:0x00007fdc06b18980>","kind":"req"},{"name":"into_account","class":"Account","object_id":8110420,"value":"#<Account:0x00007fdc06b18840>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490557,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043612114479,"value":"111360521806057239","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490558,"event":"return","thread_id":9160,"parent_id":1490557,"elapsed":5.417008651420474e-06,"elapsed_instrumentation":0.00014505200670100749,"return_value":{"class":"String","value":"feed:home:111360521806057239","object_id":8110460}},{"id":1490559,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490560,"event":"return","thread_id":9160,"parent_id":1490559,"elapsed":7.852999260649085e-06,"elapsed_instrumentation":0.0002595859987195581,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1490561,"event":"return","thread_id":9160,"parent_id":1490556,"elapsed":0.004894587997114286,"elapsed_instrumentation":0.00012440801947377622},{"id":1490562,"event":"return","thread_id":9160,"parent_id":1490555,"elapsed":0.0050557600043248385,"elapsed_instrumentation":0.00013519797357730567},{"id":1490563,"event":"return","thread_id":9160,"parent_id":1490548,"elapsed":0.011271035007666796,"elapsed_instrumentation":0.00010176599607802927},{"id":1490564,"event":"return","thread_id":9160,"parent_id":1490535,"elapsed":0.014063974987948313,"elapsed_instrumentation":0.0001931089791469276,"return_value":{"class":"String","value":"02f2eba84e3b80b93a059049","object_id":8110140}},{"id":1490565,"event":"return","thread_id":9160,"parent_id":1490480,"elapsed":0.04732722000335343,"elapsed_instrumentation":0.0004576639912556857,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b1bf40>","object_id":8109980}},{"id":1490566,"event":"return","thread_id":9160,"parent_id":1490479,"elapsed":0.04782618299941532,"elapsed_instrumentation":0.00018179600010626018,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b1bf40>","object_id":8109980}},{"id":1490567,"event":"return","thread_id":9160,"parent_id":1490478,"elapsed":0.048065326001960784,"elapsed_instrumentation":0.00026594800874590874,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b1bf40>","object_id":8109980}},{"id":1490568,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8110480,"value":"relationship:111360521806057240:111360521806057245","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8110500,"value":"#<UnfollowService:0x00007fdc0893dac8>"}},{"id":1490569,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8110500,"value":"#<UnfollowService:0x00007fdc0893dac8>"}},{"id":1490570,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8110520,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8110540,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490571,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490572,"event":"return","thread_id":9160,"parent_id":1490571,"elapsed":4.883098881691694e-05,"elapsed_instrumentation":0.000394319009501487,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1490573,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8110560,"value":"\u0017_1^ ____~;___\u0002_"}},{"id":1490574,"event":"return","thread_id":9160,"parent_id":1490573,"elapsed":1.1097989045083523e-05,"elapsed_instrumentation":0.00027215800946578383,"return_value":{"class":"Array","value":"[396046686, 8424, 62899, 50046, 15306, 3219915408]","object_id":8110580,"size":6}},{"id":1490575,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490576,"event":"return","thread_id":9160,"parent_id":1490575,"elapsed":0.000657743,"elapsed_instrumentation":9.744800627231598e-05},{"id":1490577,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8110600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490578,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490579,"event":"return","thread_id":9160,"parent_id":1490578,"elapsed":0.000717939,"elapsed_instrumentation":7.732800440862775e-05},{"id":1490580,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490581,"event":"return","thread_id":9160,"parent_id":1490580,"elapsed":0.000553496,"elapsed_instrumentation":7.368199294432998e-05},{"id":1490582,"event":"return","thread_id":9160,"parent_id":1490577,"elapsed":0.0030580019811168313,"elapsed_instrumentation":0.00019411201355978847,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1490583,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1490584,"event":"return","thread_id":9160,"parent_id":1490583,"elapsed":0.000780898,"elapsed_instrumentation":7.946300320327282e-05},{"id":1490585,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8110600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490586,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1490587,"event":"return","thread_id":9160,"parent_id":1490586,"elapsed":0.000653033,"elapsed_instrumentation":8.765599341131747e-05},{"id":1490588,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490589,"event":"return","thread_id":9160,"parent_id":1490588,"elapsed":0.00073485,"elapsed_instrumentation":0.0001262789883185178},{"id":1490590,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8110620,"value":"#<Account:0x00007fdc06b17bc0>"}},{"id":1490591,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8110620,"value":"#<Account:0x00007fdc06b17bc0>"}},{"id":1490592,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521806057240, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490593,"event":"return","thread_id":9160,"parent_id":1490592,"elapsed":0.001532674,"elapsed_instrumentation":9.599601617082953e-05},{"id":1490594,"event":"return","thread_id":9160,"parent_id":1490591,"elapsed":0.0020959919784218073,"elapsed_instrumentation":9.574502473697066e-05},{"id":1490595,"event":"return","thread_id":9160,"parent_id":1490590,"elapsed":0.00221766100730747,"elapsed_instrumentation":0.00012872798833996058},{"id":1490596,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490597,"event":"return","thread_id":9160,"parent_id":1490596,"elapsed":0.000671867,"elapsed_instrumentation":8.099302067421377e-05},{"id":1490598,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8110640,"value":"#<Account:0x00007fdc06b16cc0>"}},{"id":1490599,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8110640,"value":"#<Account:0x00007fdc06b16cc0>"}},{"id":1490600,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521806057245, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490601,"event":"return","thread_id":9160,"parent_id":1490600,"elapsed":0.000976335,"elapsed_instrumentation":7.65309960115701e-05},{"id":1490602,"event":"return","thread_id":9160,"parent_id":1490599,"elapsed":0.0016349450161214918,"elapsed_instrumentation":9.395997039973736e-05},{"id":1490603,"event":"return","thread_id":9160,"parent_id":1490598,"elapsed":0.0017546949966344982,"elapsed_instrumentation":0.00013641701661981642},{"id":1490604,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8110620,"value":"#<Account:0x00007fdc06b17bc0>"}},{"id":1490605,"event":"return","thread_id":9160,"parent_id":1490604,"elapsed":1.5024997992441058e-05,"elapsed_instrumentation":0.00010858001769520342,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490606,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8110640,"value":"#<Account:0x00007fdc06b16cc0>"}},{"id":1490607,"event":"return","thread_id":9160,"parent_id":1490606,"elapsed":7.508002454414964e-06,"elapsed_instrumentation":6.999800098128617e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490608,"event":"return","thread_id":9160,"parent_id":1490585,"elapsed":0.012106517009669915,"elapsed_instrumentation":0.00016477098688483238,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1490609,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490610,"event":"return","thread_id":9160,"parent_id":1490609,"elapsed":0.000452388,"elapsed_instrumentation":7.391502731479704e-05},{"id":1490611,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8110680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490612,"event":"return","thread_id":9160,"parent_id":1490611,"elapsed":3.2919924706220627e-06,"elapsed_instrumentation":0.00013050701818428934,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1490613,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8110680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490614,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8110700,"value":"Cache delete: relationship:111360521806057240:111360521806057245\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490615,"event":"return","thread_id":9160,"parent_id":1490614,"elapsed":0.0012522860197350383,"elapsed_instrumentation":0.00012615800369530916,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490616,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8110720,"value":"Cache delete: relationship:111360521806057245:111360521806057240\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490617,"event":"return","thread_id":9160,"parent_id":1490616,"elapsed":0.0012271360028535128,"elapsed_instrumentation":0.0001702450099401176,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490618,"event":"return","thread_id":9160,"parent_id":1490613,"elapsed":0.0030706049874424934,"elapsed_instrumentation":0.00011863099643960595,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1490619,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1490620,"event":"return","thread_id":9160,"parent_id":1490619,"elapsed":8.274015272036195e-06,"elapsed_instrumentation":9.177497122436762e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490621,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8103680,"value":"#<Account:0x00007fdc06753200>"}},{"id":1490622,"event":"return","thread_id":9160,"parent_id":1490621,"elapsed":7.88699253462255e-06,"elapsed_instrumentation":0.00031900597969070077,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490623,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8110740,"value":"#<Account:0x00007fdc069fbcc8>"}},{"id":1490624,"event":"return","thread_id":9160,"parent_id":1490623,"elapsed":1.1074997019022703e-05,"elapsed_instrumentation":7.830699905753136e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490625,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8110760,"value":"{args=>[111360521806057245, 111360521806057240], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8110780,"value":"#<Sidekiq::Client:0x00007fdc067c5800>"}},{"id":1490626,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8110800,"value":"_%@___Z\u0010A_<_"}},{"id":1490627,"event":"return","thread_id":9160,"parent_id":1490626,"elapsed":7.08800507709384e-06,"elapsed_instrumentation":0.00017171999206766486,"return_value":{"class":"String","value":"9f254097bb9f5a1041d83cca","object_id":8110820}},{"id":1490628,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8110840,"value":"[111360521806057245, 111360521806057240]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8110860,"value":"#<JSON::Ext::Generator::State:0x00007fdc067c1598>"}},{"id":1490629,"event":"return","thread_id":9160,"parent_id":1490628,"elapsed":1.1131021892651916e-05,"elapsed_instrumentation":0.00037602000520564616,"return_value":{"class":"String","value":"[111360521806057245,111360521806057240]","object_id":8110880}},{"id":1490630,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8110900,"value":"#<JSON::Ext::Parser:0x00007fdc067c05a8>"}},{"id":1490631,"event":"return","thread_id":9160,"parent_id":1490630,"elapsed":8.593022357672453e-06,"elapsed_instrumentation":0.0005493569769896567,"return_value":{"class":"Array","value":"[111360521806057245, 111360521806057240]","object_id":8110920,"size":2}},{"id":1490632,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8110940,"value":"____E__\u0010__y_"}},{"id":1490633,"event":"return","thread_id":9160,"parent_id":1490632,"elapsed":7.1699905674904585e-06,"elapsed_instrumentation":0.00041054002940654755,"return_value":{"class":"String","value":"8ef7efe545be8110dbf579dd","object_id":8110960}},{"id":1490634,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8110980,"value":"{retry=>true, queue=>pull, args=>[111360521806057245, 111360521806057240], class=>UnmergeWorker, jid=>9f254097bb9f5a1041d83cca, created_at=>1699226714.3008385, id=>8ef7efe545be8110dbf579dd}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8111000,"value":"#<JSON::Ext::Generator::State:0x00007fdc0678d8d8>"}},{"id":1490635,"event":"return","thread_id":9160,"parent_id":1490634,"elapsed":3.0897994292899966e-05,"elapsed_instrumentation":0.0005556829855777323,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521806057245,111360521806057240],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8111020}},{"id":1490636,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8111040,"value":"#<JSON::Ext::Parser:0x00007fdc0678afe8>"}},{"id":1490637,"event":"return","thread_id":9160,"parent_id":1490636,"elapsed":2.396499621681869e-05,"elapsed_instrumentation":0.0002111560315825045,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521806057245, 111360521806057240], class=>UnmergeWorker, jid=>9f254097bb9f5a1041d83cca, created_at=>1699226714.3008385, id=>8ef7efe545be8110dbf579dd}","object_id":8111060,"size":7}},{"id":1490638,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043612114491,"value":"111360521806057245","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043612114481,"value":"111360521806057240","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8111080,"value":"#<UnmergeWorker:0x00007fdc067887c0>"}},{"id":1490639,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8111080,"value":"#<UnmergeWorker:0x00007fdc067887c0>"}},{"id":1490640,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490641,"event":"return","thread_id":9160,"parent_id":1490640,"elapsed":0.001019037,"elapsed_instrumentation":0.00015045999316498637},{"id":1490642,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490643,"event":"return","thread_id":9160,"parent_id":1490642,"elapsed":0.000934285,"elapsed_instrumentation":0.0002359469945076853},{"id":1490644,"event":"return","thread_id":9160,"parent_id":1490639,"elapsed":0.006083020009100437,"elapsed_instrumentation":0.00014262099284678698,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06b15280>","object_id":8111100}},{"id":1490645,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8111080,"value":"#<UnmergeWorker:0x00007fdc067887c0>"}},{"id":1490646,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8111120,"value":"#<Account:0x00007fdc06b153c0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8111100,"value":"#<Account:0x00007fdc06b15280>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490647,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043612114481,"value":"111360521806057240","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490648,"event":"return","thread_id":9160,"parent_id":1490647,"elapsed":5.373993190005422e-06,"elapsed_instrumentation":0.00012025801697745919,"return_value":{"class":"String","value":"feed:home:111360521806057240","object_id":8111140}},{"id":1490649,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490650,"event":"return","thread_id":9160,"parent_id":1490649,"elapsed":5.699985194951296e-06,"elapsed_instrumentation":0.00010151401511393487,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1490651,"event":"return","thread_id":9160,"parent_id":1490646,"elapsed":0.00490391900530085,"elapsed_instrumentation":0.00016811699606478214},{"id":1490652,"event":"return","thread_id":9160,"parent_id":1490645,"elapsed":0.005118486005812883,"elapsed_instrumentation":0.00037259398959577084},{"id":1490653,"event":"return","thread_id":9160,"parent_id":1490638,"elapsed":0.011773993988754228,"elapsed_instrumentation":0.00010332299279980361},{"id":1490654,"event":"return","thread_id":9160,"parent_id":1490625,"elapsed":0.01486163801746443,"elapsed_instrumentation":0.00018360000103712082,"return_value":{"class":"String","value":"9f254097bb9f5a1041d83cca","object_id":8110820}},{"id":1490655,"event":"return","thread_id":9160,"parent_id":1490570,"elapsed":0.041104028990957886,"elapsed_instrumentation":0.00020208500791341066,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b185c0>","object_id":8110660}},{"id":1490656,"event":"return","thread_id":9160,"parent_id":1490569,"elapsed":0.04133491200627759,"elapsed_instrumentation":0.0001257060212083161,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b185c0>","object_id":8110660}},{"id":1490657,"event":"return","thread_id":9160,"parent_id":1490568,"elapsed":0.04151773502235301,"elapsed_instrumentation":0.0002902659762185067,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b185c0>","object_id":8110660}},{"id":1490658,"event":"return","thread_id":9160,"parent_id":1489673,"elapsed":0.4854117019858677,"elapsed_instrumentation":0.0003682090318761766,"return_value":{"class":"IO","value":"#<IO:0x00007fdc21298f60>","object_id":4113040}},{"id":1490659,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490660,"event":"return","thread_id":9160,"parent_id":1490659,"elapsed":0.001054975,"elapsed_instrumentation":0.00013457899331115186},{"id":1490661,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"target_account_id\" WHERE \"follows\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490662,"event":"return","thread_id":9160,"parent_id":1490661,"elapsed":0.001864692,"elapsed_instrumentation":0.00011436498607508838}]}