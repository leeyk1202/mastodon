{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::IpBlocks #add with \"sign_up_block\" severity sets the severity for all blocked IP addresses","source_location":"spec/lib/mastodon/cli/ip_blocks_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"IpBlocks","type":"class","children":[{"name":"add","type":"function","location":"lib/mastodon/cli/ip_blocks.rb:22","static":false}]}]}]}]},{"name":"app/models/concerns","type":"package","children":[{"name":"IpBlock","type":"class","children":[{"name":"expires_in=","type":"function","location":"app/models/concerns/expireable.rb:19","static":false}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":2190995,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::IpBlocks","method_id":"add","path":"lib/mastodon/cli/ip_blocks.rb","lineno":22,"static":false,"parameters":[{"name":"addresses","class":"Array","object_id":11144040,"value":"[192.0.2.1, 172.16.0.1, 192.0.2.0/24, 172.16.0.0/16, 10.0.0.0/8, 2001:0db8:85a3:0000:0000:8a2e:0370:7334, fe80::1, ::1, 2001:0db8::/32, fe80::/10 (...1 more items)]","kind":"rest","size":11}],"receiver":{"class":"Mastodon::CLI::IpBlocks","object_id":11144060,"value":"#<Mastodon::CLI::IpBlocks:0x00007fc932046728>"}},{"id":2190996,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2190997,"event":"return","thread_id":9160,"parent_id":2190996,"elapsed":0.000544567,"elapsed_instrumentation":9.83920181170106e-05},{"id":2190998,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11144080,"value":"#<IpBlock:0x00007fc8e21703d8>"}},{"id":2190999,"event":"return","thread_id":9160,"parent_id":2190998,"elapsed":3.0189985409379005e-05,"elapsed_instrumentation":0.00013283098815008998},{"id":2191000,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191001,"event":"return","thread_id":9160,"parent_id":2191000,"elapsed":2.253497950732708e-05,"elapsed_instrumentation":0.00014492101036012173,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191002,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191003,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191004,"event":"return","thread_id":9160,"parent_id":2191003,"elapsed":0.000651594,"elapsed_instrumentation":0.0005342399817891419},{"id":2191005,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191006,"event":"return","thread_id":9160,"parent_id":2191005,"elapsed":0.003261667,"elapsed_instrumentation":0.0001561419921927154},{"id":2191007,"event":"return","thread_id":9160,"parent_id":2191002,"elapsed":0.005011920991819352,"elapsed_instrumentation":0.0002213569823652506,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191008,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191009,"event":"return","thread_id":9160,"parent_id":2191008,"elapsed":6.7159999161958694e-06,"elapsed_instrumentation":0.00018861104035750031,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191010,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191011,"event":"return","thread_id":9160,"parent_id":2191010,"elapsed":5.4569682106375694e-06,"elapsed_instrumentation":0.00016888498794287443,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191012,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191013,"event":"return","thread_id":9160,"parent_id":2191012,"elapsed":0.001074047,"elapsed_instrumentation":0.0001268479973077774},{"id":2191014,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191015,"event":"return","thread_id":9160,"parent_id":2191014,"elapsed":0.000780475,"elapsed_instrumentation":0.00022462900960817933},{"id":2191016,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191017,"event":"return","thread_id":9160,"parent_id":2191016,"elapsed":0.000254081969615072,"elapsed_instrumentation":0.00017522100824862719,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191018,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191019,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11144160,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191020,"event":"return","thread_id":9160,"parent_id":2191019,"elapsed":0.001161349005997181,"elapsed_instrumentation":0.0001740040024742484,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191021,"event":"return","thread_id":9160,"parent_id":2191018,"elapsed":0.0017133859801106155,"elapsed_instrumentation":0.0001545419218018651,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191022,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191023,"event":"return","thread_id":9160,"parent_id":2191022,"elapsed":0.000586763,"elapsed_instrumentation":0.00032661203294992447},{"id":2191024,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11144180,"value":"#<IpBlock:0x00007fc8e218fa08>"}},{"id":2191025,"event":"return","thread_id":9160,"parent_id":2191024,"elapsed":2.1227984689176083e-05,"elapsed_instrumentation":0.00012634601444005966},{"id":2191026,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191027,"event":"return","thread_id":9160,"parent_id":2191026,"elapsed":2.129003405570984e-05,"elapsed_instrumentation":0.0001374059938825667,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191028,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191029,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191030,"event":"return","thread_id":9160,"parent_id":2191029,"elapsed":0.000457166,"elapsed_instrumentation":8.442800026386976e-05},{"id":2191031,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191032,"event":"return","thread_id":9160,"parent_id":2191031,"elapsed":0.001508838,"elapsed_instrumentation":7.742800517007709e-05},{"id":2191033,"event":"return","thread_id":9160,"parent_id":2191028,"elapsed":0.002380973019171506,"elapsed_instrumentation":0.00013620994286611676,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191034,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191035,"event":"return","thread_id":9160,"parent_id":2191034,"elapsed":4.288041964173317e-06,"elapsed_instrumentation":9.626196697354317e-05,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191036,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191037,"event":"return","thread_id":9160,"parent_id":2191036,"elapsed":2.938963007181883e-06,"elapsed_instrumentation":0.00014931103214621544,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191038,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191039,"event":"return","thread_id":9160,"parent_id":2191038,"elapsed":0.00091619,"elapsed_instrumentation":0.00010835897410288453},{"id":2191040,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191041,"event":"return","thread_id":9160,"parent_id":2191040,"elapsed":0.000602255,"elapsed_instrumentation":0.0001206790329888463},{"id":2191042,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191043,"event":"return","thread_id":9160,"parent_id":2191042,"elapsed":9.112001862376928e-06,"elapsed_instrumentation":0.00039886991726234555,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191044,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191045,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11144260,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191046,"event":"return","thread_id":9160,"parent_id":2191045,"elapsed":0.001128888048697263,"elapsed_instrumentation":0.000169039994943887,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191047,"event":"return","thread_id":9160,"parent_id":2191044,"elapsed":0.0014881569659337401,"elapsed_instrumentation":0.00016319099813699722,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191048,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191049,"event":"return","thread_id":9160,"parent_id":2191048,"elapsed":0.000627641,"elapsed_instrumentation":0.0001656350214034319},{"id":2191050,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11144280,"value":"#<IpBlock:0x00007fc8e218eb08>"}},{"id":2191051,"event":"return","thread_id":9160,"parent_id":2191050,"elapsed":2.1580024622380733e-05,"elapsed_instrumentation":0.00012891803635284305},{"id":2191052,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191053,"event":"return","thread_id":9160,"parent_id":2191052,"elapsed":2.0082981791347265e-05,"elapsed_instrumentation":0.000131343025714159,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191054,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191055,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191056,"event":"return","thread_id":9160,"parent_id":2191055,"elapsed":0.000420352,"elapsed_instrumentation":8.399598300457001e-05},{"id":2191057,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191058,"event":"return","thread_id":9160,"parent_id":2191057,"elapsed":0.00171971,"elapsed_instrumentation":6.503099575638771e-05},{"id":2191059,"event":"return","thread_id":9160,"parent_id":2191054,"elapsed":0.00255347799975425,"elapsed_instrumentation":0.00012891198275610805,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191060,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191061,"event":"return","thread_id":9160,"parent_id":2191060,"elapsed":7.1239774115383625e-06,"elapsed_instrumentation":0.0002958010300062597,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191062,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191063,"event":"return","thread_id":9160,"parent_id":2191062,"elapsed":2.763990778476e-06,"elapsed_instrumentation":9.620998753234744e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191064,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191065,"event":"return","thread_id":9160,"parent_id":2191064,"elapsed":0.00083563,"elapsed_instrumentation":0.00011839700164273381},{"id":2191066,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191067,"event":"return","thread_id":9160,"parent_id":2191066,"elapsed":0.000671868,"elapsed_instrumentation":8.159899152815342e-05},{"id":2191068,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191069,"event":"return","thread_id":9160,"parent_id":2191068,"elapsed":4.2470055632293224e-06,"elapsed_instrumentation":0.0001782120089046657,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191070,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191071,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11144360,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191072,"event":"return","thread_id":9160,"parent_id":2191071,"elapsed":0.0006589549593627453,"elapsed_instrumentation":0.00012086902279406786,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191073,"event":"return","thread_id":9160,"parent_id":2191070,"elapsed":0.0009407009929418564,"elapsed_instrumentation":0.00014220899902284145,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191074,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191075,"event":"return","thread_id":9160,"parent_id":2191074,"elapsed":0.000515671,"elapsed_instrumentation":8.232099935412407e-05},{"id":2191076,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11144380,"value":"#<IpBlock:0x00007fc8e218dac8>"}},{"id":2191077,"event":"return","thread_id":9160,"parent_id":2191076,"elapsed":2.4429988116025925e-05,"elapsed_instrumentation":0.00023607199545949697},{"id":2191078,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191079,"event":"return","thread_id":9160,"parent_id":2191078,"elapsed":1.9381986930966377e-05,"elapsed_instrumentation":0.00012886099284514785,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191080,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191081,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191082,"event":"return","thread_id":9160,"parent_id":2191081,"elapsed":0.000688611,"elapsed_instrumentation":0.0003215119941160083},{"id":2191083,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191084,"event":"return","thread_id":9160,"parent_id":2191083,"elapsed":0.002202967,"elapsed_instrumentation":9.517499711364508e-05},{"id":2191085,"event":"return","thread_id":9160,"parent_id":2191080,"elapsed":0.0037948870449326932,"elapsed_instrumentation":0.00020091497572138906,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191086,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191087,"event":"return","thread_id":9160,"parent_id":2191086,"elapsed":4.917033948004246e-06,"elapsed_instrumentation":0.0001441999920643866,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191088,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191089,"event":"return","thread_id":9160,"parent_id":2191088,"elapsed":2.730987034738064e-06,"elapsed_instrumentation":9.846803732216358e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191090,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191091,"event":"return","thread_id":9160,"parent_id":2191090,"elapsed":0.001089518,"elapsed_instrumentation":9.459798457100987e-05},{"id":2191092,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191093,"event":"return","thread_id":9160,"parent_id":2191092,"elapsed":0.000483522,"elapsed_instrumentation":8.108298061415553e-05},{"id":2191094,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191095,"event":"return","thread_id":9160,"parent_id":2191094,"elapsed":4.363013431429863e-06,"elapsed_instrumentation":0.00015508296201005578,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191096,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191097,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11144460,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191098,"event":"return","thread_id":9160,"parent_id":2191097,"elapsed":0.001085649011656642,"elapsed_instrumentation":0.00012039399007335305,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191099,"event":"return","thread_id":9160,"parent_id":2191096,"elapsed":0.0013654889771714807,"elapsed_instrumentation":0.00035567599115893245,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191100,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191101,"event":"return","thread_id":9160,"parent_id":2191100,"elapsed":0.000549023,"elapsed_instrumentation":8.616800187155604e-05},{"id":2191102,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11144480,"value":"#<IpBlock:0x00007fc8e218d208>"}},{"id":2191103,"event":"return","thread_id":9160,"parent_id":2191102,"elapsed":2.9767979867756367e-05,"elapsed_instrumentation":0.00035221001598984003},{"id":2191104,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191105,"event":"return","thread_id":9160,"parent_id":2191104,"elapsed":2.11139558814466e-05,"elapsed_instrumentation":0.00014473800547420979,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191106,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191107,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191108,"event":"return","thread_id":9160,"parent_id":2191107,"elapsed":0.0003908,"elapsed_instrumentation":0.00024404202122241259},{"id":2191109,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191110,"event":"return","thread_id":9160,"parent_id":2191109,"elapsed":0.001408408,"elapsed_instrumentation":0.00021334498887881637},{"id":2191111,"event":"return","thread_id":9160,"parent_id":2191106,"elapsed":0.002537966996897012,"elapsed_instrumentation":0.00013660697732120752,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191112,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191113,"event":"return","thread_id":9160,"parent_id":2191112,"elapsed":4.458997864276171e-06,"elapsed_instrumentation":9.254406904801726e-05,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191114,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191115,"event":"return","thread_id":9160,"parent_id":2191114,"elapsed":2.6130001060664654e-06,"elapsed_instrumentation":7.211399497464299e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191116,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191117,"event":"return","thread_id":9160,"parent_id":2191116,"elapsed":0.000990449,"elapsed_instrumentation":0.00011739600449800491},{"id":2191118,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191119,"event":"return","thread_id":9160,"parent_id":2191118,"elapsed":0.000542662,"elapsed_instrumentation":0.00011483702110126615},{"id":2191120,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191121,"event":"return","thread_id":9160,"parent_id":2191120,"elapsed":4.9460213631391525e-06,"elapsed_instrumentation":0.00015958899166435003,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191122,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191123,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11144560,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191124,"event":"return","thread_id":9160,"parent_id":2191123,"elapsed":0.000988357001915574,"elapsed_instrumentation":0.0001508119748905301,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191125,"event":"return","thread_id":9160,"parent_id":2191122,"elapsed":0.0013516159961000085,"elapsed_instrumentation":0.00013599300291389227,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191126,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191127,"event":"return","thread_id":9160,"parent_id":2191126,"elapsed":0.000691665,"elapsed_instrumentation":0.0001369980163872242},{"id":2191128,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11144580,"value":"#<IpBlock:0x00007fc8e218c6c8>"}},{"id":2191129,"event":"return","thread_id":9160,"parent_id":2191128,"elapsed":2.27520358748734e-05,"elapsed_instrumentation":0.00014539697440341115},{"id":2191130,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191131,"event":"return","thread_id":9160,"parent_id":2191130,"elapsed":2.1920015569776297e-05,"elapsed_instrumentation":0.0001305139739997685,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191132,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191133,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191134,"event":"return","thread_id":9160,"parent_id":2191133,"elapsed":0.000625726,"elapsed_instrumentation":9.637000039219856e-05},{"id":2191135,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191136,"event":"return","thread_id":9160,"parent_id":2191135,"elapsed":0.001687019,"elapsed_instrumentation":0.0001033080043271184},{"id":2191137,"event":"return","thread_id":9160,"parent_id":2191132,"elapsed":0.0029313580016605556,"elapsed_instrumentation":0.000245827017351985,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191138,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191139,"event":"return","thread_id":9160,"parent_id":2191138,"elapsed":4.957022611051798e-06,"elapsed_instrumentation":0.0005017700023017824,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191140,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191141,"event":"return","thread_id":9160,"parent_id":2191140,"elapsed":4.8559741117060184e-06,"elapsed_instrumentation":0.00011324504157528281,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191142,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191143,"event":"return","thread_id":9160,"parent_id":2191142,"elapsed":0.000824294,"elapsed_instrumentation":9.265204425901175e-05},{"id":2191144,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191145,"event":"return","thread_id":9160,"parent_id":2191144,"elapsed":0.00031907,"elapsed_instrumentation":6.995099829509854e-05},{"id":2191146,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191147,"event":"return","thread_id":9160,"parent_id":2191146,"elapsed":3.787048626691103e-06,"elapsed_instrumentation":0.00021034193923696876,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191148,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191149,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11144660,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191150,"event":"return","thread_id":9160,"parent_id":2191149,"elapsed":0.0004432889982126653,"elapsed_instrumentation":0.00011035799980163574,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191151,"event":"return","thread_id":9160,"parent_id":2191148,"elapsed":0.0007027810206636786,"elapsed_instrumentation":0.00012001796858385205,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191152,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191153,"event":"return","thread_id":9160,"parent_id":2191152,"elapsed":0.000393215,"elapsed_instrumentation":7.571897003799677e-05},{"id":2191154,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11144680,"value":"#<IpBlock:0x00007fc8e218bcc8>"}},{"id":2191155,"event":"return","thread_id":9160,"parent_id":2191154,"elapsed":1.8789025489240885e-05,"elapsed_instrumentation":0.00011407304555177689},{"id":2191156,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191157,"event":"return","thread_id":9160,"parent_id":2191156,"elapsed":2.0194973330944777e-05,"elapsed_instrumentation":0.0001148130395449698,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191158,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191159,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191160,"event":"return","thread_id":9160,"parent_id":2191159,"elapsed":0.000541786,"elapsed_instrumentation":8.200702723115683e-05},{"id":2191161,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191162,"event":"return","thread_id":9160,"parent_id":2191161,"elapsed":0.001358112,"elapsed_instrumentation":7.688702316954732e-05},{"id":2191163,"event":"return","thread_id":9160,"parent_id":2191158,"elapsed":0.0023655599798075855,"elapsed_instrumentation":0.00014412507880479097,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191164,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191165,"event":"return","thread_id":9160,"parent_id":2191164,"elapsed":4.004978109151125e-06,"elapsed_instrumentation":0.00010031601414084435,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191166,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191167,"event":"return","thread_id":9160,"parent_id":2191166,"elapsed":2.508983016014099e-06,"elapsed_instrumentation":7.251306669786572e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191168,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191169,"event":"return","thread_id":9160,"parent_id":2191168,"elapsed":0.000577214,"elapsed_instrumentation":6.957497680559754e-05},{"id":2191170,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191171,"event":"return","thread_id":9160,"parent_id":2191170,"elapsed":0.000355663,"elapsed_instrumentation":6.744504207745194e-05},{"id":2191172,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191173,"event":"return","thread_id":9160,"parent_id":2191172,"elapsed":3.919005393981934e-06,"elapsed_instrumentation":0.00014922500122338533,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191174,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191175,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11144760,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191176,"event":"return","thread_id":9160,"parent_id":2191175,"elapsed":0.00048402801621705294,"elapsed_instrumentation":0.00017140491399914026,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191177,"event":"return","thread_id":9160,"parent_id":2191174,"elapsed":0.0008020459790714085,"elapsed_instrumentation":0.00010756595293059945,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191178,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191179,"event":"return","thread_id":9160,"parent_id":2191178,"elapsed":0.000331277,"elapsed_instrumentation":6.31050206720829e-05},{"id":2191180,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11144780,"value":"#<IpBlock:0x00007fc8e218b408>"}},{"id":2191181,"event":"return","thread_id":9160,"parent_id":2191180,"elapsed":1.5610014088451862e-05,"elapsed_instrumentation":0.00010026904055848718},{"id":2191182,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191183,"event":"return","thread_id":9160,"parent_id":2191182,"elapsed":1.6696983948349953e-05,"elapsed_instrumentation":0.00010610301978886127,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191184,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191185,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191186,"event":"return","thread_id":9160,"parent_id":2191185,"elapsed":0.000309817,"elapsed_instrumentation":6.833905354142189e-05},{"id":2191187,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191188,"event":"return","thread_id":9160,"parent_id":2191187,"elapsed":0.000936752,"elapsed_instrumentation":5.691900150850415e-05},{"id":2191189,"event":"return","thread_id":9160,"parent_id":2191184,"elapsed":0.00175882299663499,"elapsed_instrumentation":0.0001227800385095179,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191190,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191191,"event":"return","thread_id":9160,"parent_id":2191190,"elapsed":3.06800939142704e-06,"elapsed_instrumentation":8.505996083840728e-05,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191192,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191193,"event":"return","thread_id":9160,"parent_id":2191192,"elapsed":2.415967173874378e-06,"elapsed_instrumentation":6.838899571448565e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191194,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191195,"event":"return","thread_id":9160,"parent_id":2191194,"elapsed":0.000484809,"elapsed_instrumentation":6.824301090091467e-05},{"id":2191196,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191197,"event":"return","thread_id":9160,"parent_id":2191196,"elapsed":0.000345221,"elapsed_instrumentation":0.0003847420448437333},{"id":2191198,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191199,"event":"return","thread_id":9160,"parent_id":2191198,"elapsed":3.1249946914613247e-06,"elapsed_instrumentation":0.00010452402057126164,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191200,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191201,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11144860,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191202,"event":"return","thread_id":9160,"parent_id":2191201,"elapsed":0.0004857640014961362,"elapsed_instrumentation":0.00011052796617150307,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191203,"event":"return","thread_id":9160,"parent_id":2191200,"elapsed":0.0007230460178107023,"elapsed_instrumentation":0.00010434299474582076,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191204,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191205,"event":"return","thread_id":9160,"parent_id":2191204,"elapsed":0.000415562,"elapsed_instrumentation":0.00015594204887747765},{"id":2191206,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11144880,"value":"#<IpBlock:0x00007fc8e218ab48>"}},{"id":2191207,"event":"return","thread_id":9160,"parent_id":2191206,"elapsed":1.5516008716076612e-05,"elapsed_instrumentation":0.00010290206409990788},{"id":2191208,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191209,"event":"return","thread_id":9160,"parent_id":2191208,"elapsed":1.4539051335304976e-05,"elapsed_instrumentation":0.00011035794159397483,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191210,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191211,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191212,"event":"return","thread_id":9160,"parent_id":2191211,"elapsed":0.000317907,"elapsed_instrumentation":6.69560395181179e-05},{"id":2191213,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191214,"event":"return","thread_id":9160,"parent_id":2191213,"elapsed":0.000923056,"elapsed_instrumentation":6.315502105280757e-05},{"id":2191215,"event":"return","thread_id":9160,"parent_id":2191210,"elapsed":0.0017500619869679213,"elapsed_instrumentation":0.00013018999015912414,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191216,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191217,"event":"return","thread_id":9160,"parent_id":2191216,"elapsed":3.8050347939133644e-06,"elapsed_instrumentation":8.631497621536255e-05,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191218,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191219,"event":"return","thread_id":9160,"parent_id":2191218,"elapsed":2.6080524548888206e-06,"elapsed_instrumentation":7.134501356631517e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191220,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191221,"event":"return","thread_id":9160,"parent_id":2191220,"elapsed":0.000447553,"elapsed_instrumentation":6.730103632435203e-05},{"id":2191222,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191223,"event":"return","thread_id":9160,"parent_id":2191222,"elapsed":0.000344607,"elapsed_instrumentation":0.0001222570426762104},{"id":2191224,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191225,"event":"return","thread_id":9160,"parent_id":2191224,"elapsed":3.4910044632852077e-06,"elapsed_instrumentation":0.00010894704610109329,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191226,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11144940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191227,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11144960,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191228,"event":"return","thread_id":9160,"parent_id":2191227,"elapsed":0.0005760949570685625,"elapsed_instrumentation":0.00010963005479425192,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191229,"event":"return","thread_id":9160,"parent_id":2191226,"elapsed":0.000803016999270767,"elapsed_instrumentation":0.00010416994336992502,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191230,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191231,"event":"return","thread_id":9160,"parent_id":2191230,"elapsed":0.000358376,"elapsed_instrumentation":7.129699224606156e-05},{"id":2191232,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11144980,"value":"#<IpBlock:0x00007fc8e218a288>"}},{"id":2191233,"event":"return","thread_id":9160,"parent_id":2191232,"elapsed":1.5069963410496712e-05,"elapsed_instrumentation":9.996903827413917e-05},{"id":2191234,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191235,"event":"return","thread_id":9160,"parent_id":2191234,"elapsed":1.3556971680372953e-05,"elapsed_instrumentation":0.00011129502672702074,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191236,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191237,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191238,"event":"return","thread_id":9160,"parent_id":2191237,"elapsed":0.000345548,"elapsed_instrumentation":7.329898653551936e-05},{"id":2191239,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191240,"event":"return","thread_id":9160,"parent_id":2191239,"elapsed":0.001106473,"elapsed_instrumentation":6.415002280846238e-05},{"id":2191241,"event":"return","thread_id":9160,"parent_id":2191236,"elapsed":0.0019365890184417367,"elapsed_instrumentation":0.00013302400475367904,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191242,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191243,"event":"return","thread_id":9160,"parent_id":2191242,"elapsed":3.6139972507953644e-06,"elapsed_instrumentation":9.030202636495233e-05,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191244,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191245,"event":"return","thread_id":9160,"parent_id":2191244,"elapsed":2.5900080800056458e-06,"elapsed_instrumentation":0.0001671469653956592,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191246,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191247,"event":"return","thread_id":9160,"parent_id":2191246,"elapsed":0.000481374,"elapsed_instrumentation":6.625300738960505e-05},{"id":2191248,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191249,"event":"return","thread_id":9160,"parent_id":2191248,"elapsed":0.000564296,"elapsed_instrumentation":6.420200224965811e-05},{"id":2191250,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191251,"event":"return","thread_id":9160,"parent_id":2191250,"elapsed":3.57598764821887e-06,"elapsed_instrumentation":0.00010960898362100124,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191252,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191253,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11145060,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191254,"event":"return","thread_id":9160,"parent_id":2191253,"elapsed":0.0006220229552127421,"elapsed_instrumentation":0.00011308200191706419,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191255,"event":"return","thread_id":9160,"parent_id":2191252,"elapsed":0.0008874789928086102,"elapsed_instrumentation":0.00010598305379971862,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191256,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191257,"event":"return","thread_id":9160,"parent_id":2191256,"elapsed":0.000473702,"elapsed_instrumentation":7.282599108293653e-05},{"id":2191258,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"IpBlock","object_id":11145080,"value":"#<IpBlock:0x00007fc8e21899c8>"}},{"id":2191259,"event":"return","thread_id":9160,"parent_id":2191258,"elapsed":1.7159967683255672e-05,"elapsed_instrumentation":0.00011009897571057081},{"id":2191260,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191261,"event":"return","thread_id":9160,"parent_id":2191260,"elapsed":1.7896003555506468e-05,"elapsed_instrumentation":0.00013559602666646242,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2191262,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191263,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191264,"event":"return","thread_id":9160,"parent_id":2191263,"elapsed":0.000386255,"elapsed_instrumentation":7.293402450159192e-05},{"id":2191265,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2191266,"event":"return","thread_id":9160,"parent_id":2191265,"elapsed":0.001302735,"elapsed_instrumentation":6.832904182374477e-05},{"id":2191267,"event":"return","thread_id":9160,"parent_id":2191262,"elapsed":0.002120136981830001,"elapsed_instrumentation":0.00012868602061644197,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9316f4738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f48f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9316f4af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529180,"size":3}},{"id":2191268,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fcd50>"}},{"id":2191269,"event":"return","thread_id":9160,"parent_id":2191268,"elapsed":3.610970452427864e-06,"elapsed_instrumentation":8.967600297182798e-05,"return_value":{"class":"Array","value":"[]","object_id":1529200,"size":0}},{"id":2191270,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2191271,"event":"return","thread_id":9160,"parent_id":2191270,"elapsed":2.4799956008791924e-06,"elapsed_instrumentation":6.907200440764427e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2191272,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":2191273,"event":"return","thread_id":9160,"parent_id":2191272,"elapsed":0.000752141,"elapsed_instrumentation":9.887100895866752e-05},{"id":2191274,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2191275,"event":"return","thread_id":9160,"parent_id":2191274,"elapsed":0.000570679,"elapsed_instrumentation":8.427101420238614e-05},{"id":2191276,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191277,"event":"return","thread_id":9160,"parent_id":2191276,"elapsed":4.611036274582148e-06,"elapsed_instrumentation":0.00025216001085937023,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2191278,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11145140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2191279,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11145160,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2191280,"event":"return","thread_id":9160,"parent_id":2191279,"elapsed":0.0006153539870865643,"elapsed_instrumentation":0.00011762103531509638,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2191281,"event":"return","thread_id":9160,"parent_id":2191278,"elapsed":0.0008982959552668035,"elapsed_instrumentation":0.00011870608432218432,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2191282,"event":"return","thread_id":9160,"parent_id":2190995,"elapsed":0.10932493297150359,"elapsed_instrumentation":0.0004571770550683141,"return_value":{"class":"IO","value":"#<IO:0x00007fc94b108f80>","object_id":195040}},{"id":2191283,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"severity\" FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)","database_type":"postgres"}},{"id":2191284,"event":"return","thread_id":9160,"parent_id":2191283,"elapsed":0.000683706,"elapsed_instrumentation":8.682999759912491e-05}]}