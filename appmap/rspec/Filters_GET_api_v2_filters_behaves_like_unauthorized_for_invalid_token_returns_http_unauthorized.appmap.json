{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Filters GET /api/v2/filters behaves like unauthorized for invalid token returns http unauthorized","source_location":"spec/requests/api/v2/filters/filters_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]},{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"app","type":"package","children":[{"name":"controllers","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"Localized","type":"class","children":[{"name":"set_locale","type":"function","location":"app/controllers/concerns/localized.rb:10","static":false}]}]},{"name":"api","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"BaseController","type":"class","children":[{"name":"current_user","type":"function","location":"app/controllers/api/base_controller.rb:116","static":false},{"name":"current_resource_owner","type":"function","location":"app/controllers/api/base_controller.rb:112","static":false},{"name":"disallow_unauthenticated_api_access?","type":"function","location":"app/controllers/api/base_controller.rb:152","static":false},{"name":"require_not_suspended!","type":"function","location":"app/controllers/api/base_controller.rb:126","static":false},{"name":"doorkeeper_unauthorized_render_options","type":"function","location":"app/controllers/api/base_controller.rb:85","static":false}]}]}]},{"name":"ApplicationController","type":"class","children":[{"name":"current_session","type":"function","location":"app/controllers/application_controller.rb:153","static":false},{"name":"check_self_destruct!","type":"function","location":"app/controllers/application_controller.rb:176","static":false},{"name":"set_cache_control_defaults","type":"function","location":"app/controllers/application_controller.rb:185","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"SelfDestructHelper","type":"class","children":[{"name":"self_destruct?","type":"function","location":"app/helpers/self_destruct_helper.rb:11","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true},{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true}]}]}]},{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Request","type":"class","children":[{"name":"Session","type":"class","children":[{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/request/session.rb:112","static":false,"labels":["http.session.read"]}]}]},{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]},{"name":"ActionController","type":"class","children":[{"name":"Renderers","type":"class","children":[{"name":"render_to_body","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb:140","static":false,"labels":["mvc.render"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]}]}]}]},{"name":"lib/chewy/strategy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"Strategy","type":"class","children":[{"name":"Mastodon","type":"class","children":[{"name":"leave","type":"function","location":"lib/chewy/strategy/mastodon.rb:16","static":false}]}]}]}]}],"events":[{"id":1871882,"event":"call","thread_id":9160,"http_server_request":{"request_method":"GET","path_info":"/api/v2/filters","normalized_path_info":"/api/v2/filters","headers":{"Version":"HTTP/1.0","Host":"www.example.com","Accept":"text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5","Content-Length":"0"}}},{"id":1871883,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10110720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":1871884,"event":"return","thread_id":9160,"parent_id":1871883,"elapsed":0.00011245100176893175,"elapsed_instrumentation":0.000209547026315704,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0fb602e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60808 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60fd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":231360,"size":4}},{"id":1871885,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10110720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":1871886,"event":"return","thread_id":9160,"parent_id":1871885,"elapsed":2.707995008677244e-06,"elapsed_instrumentation":8.502701530233026e-05,"return_value":{"class":"Array","value":"[]","object_id":231380,"size":0}},{"id":1871887,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":10110740,"value":"_____=\u000e______0~_"}},{"id":1871888,"event":"return","thread_id":9160,"parent_id":1871887,"elapsed":8.47899354994297e-06,"elapsed_instrumentation":0.000297394028166309,"return_value":{"class":"Array","value":"[2260903064, 40765, 3780, 64162, 54254, 3593502439]","object_id":10110760,"size":6}},{"id":1871889,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10110800,"value":"Processing by Api::V2::FiltersController#index as HTML\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1871890,"event":"return","thread_id":9160,"parent_id":1871889,"elapsed":0.0007045410166028887,"elapsed_instrumentation":0.00024296896299347281,"return_value":{"class":"Integer","value":"55","object_id":111}},{"id":1871891,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10110820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":10097200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07489618>"}},{"id":1871892,"event":"return","thread_id":9160,"parent_id":1871891,"elapsed":3.4240074455738068e-06,"elapsed_instrumentation":0.00013092299923300743,"return_value":{"class":"Array","value":"[]","object_id":10097220,"size":0}},{"id":1871893,"event":"call","thread_id":9160,"defined_class":"Localized","method_id":"set_locale","path":"app/controllers/concerns/localized.rb","lineno":10,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871894,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871895,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871896,"event":"return","thread_id":9160,"parent_id":1871895,"elapsed":6.889400538057089e-05,"elapsed_instrumentation":5.4621981689706445e-05},{"id":1871897,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Request::Session","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/request/session.rb","lineno":112,"static":false,"parameters":[{"name":"key","class":"String","object_id":10110860,"value":"warden.user.user.key","kind":"req"}],"receiver":{"class":"ActionDispatch::Request::Session","object_id":10110880,"value":"#<ActionDispatch::Request::Session:0x00007fdc09ef57d0>"}},{"id":1871898,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":10110900,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10110920,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09ef3f70>"}},{"id":1871899,"event":"return","thread_id":9160,"parent_id":1871898,"elapsed":6.1810133047401905e-06,"elapsed_instrumentation":0.00018389197066426277,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09ef3f70>","object_id":10110920}},{"id":1871900,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":1219980,"value":"_mastodon_session","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10110920,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09ef3f70>"}},{"id":1871901,"event":"return","thread_id":9160,"parent_id":1871900,"elapsed":5.322013748809695e-06,"elapsed_instrumentation":0.00010956596815958619},{"id":1871902,"event":"return","thread_id":9160,"parent_id":1871897,"elapsed":0.0008320599736180156,"elapsed_instrumentation":8.702499326318502e-05},{"id":1871903,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10110920,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09ef3f70>"}},{"id":1871904,"event":"return","thread_id":9160,"parent_id":1871903,"elapsed":3.4580007195472717e-06,"elapsed_instrumentation":0.00021298101637512445},{"id":1871905,"event":"return","thread_id":9160,"parent_id":1871894,"elapsed":0.0016646570002194494,"elapsed_instrumentation":5.977798718959093e-05},{"id":1871906,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10110820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":10097340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07489668>"}},{"id":1871907,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871908,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871909,"event":"return","thread_id":9160,"parent_id":1871908,"elapsed":5.6379998568445444e-05,"elapsed_instrumentation":7.74140062276274e-05},{"id":1871910,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10110920,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09ef3f70>"}},{"id":1871911,"event":"return","thread_id":9160,"parent_id":1871910,"elapsed":3.4809927456080914e-06,"elapsed_instrumentation":0.00014854702749289572},{"id":1871912,"event":"return","thread_id":9160,"parent_id":1871907,"elapsed":0.00047580900718457997,"elapsed_instrumentation":0.00024189200485125184},{"id":1871913,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_session","path":"app/controllers/application_controller.rb","lineno":153,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871914,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10110920,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09ef3f70>"}},{"id":1871915,"event":"return","thread_id":9160,"parent_id":1871914,"elapsed":2.5439949240535498e-06,"elapsed_instrumentation":6.544101051986217e-05},{"id":1871916,"event":"return","thread_id":9160,"parent_id":1871913,"elapsed":9.141999180428684e-05,"elapsed_instrumentation":6.44490064587444e-05},{"id":1871917,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"check_self_destruct!","path":"app/controllers/application_controller.rb","lineno":176,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871918,"event":"call","thread_id":9160,"defined_class":"SelfDestructHelper","method_id":"self_destruct?","path":"app/helpers/self_destruct_helper.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871919,"event":"return","thread_id":9160,"parent_id":1871918,"elapsed":8.820992661640048e-06,"elapsed_instrumentation":4.5599008444696665e-05},{"id":1871920,"event":"return","thread_id":9160,"parent_id":1871917,"elapsed":7.096101762726903e-05,"elapsed_instrumentation":4.86939970869571e-05},{"id":1871921,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871922,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871923,"event":"return","thread_id":9160,"parent_id":1871922,"elapsed":3.868900239467621e-05,"elapsed_instrumentation":4.491800791583955e-05},{"id":1871924,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10110920,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09ef3f70>"}},{"id":1871925,"event":"return","thread_id":9160,"parent_id":1871924,"elapsed":2.656015567481518e-06,"elapsed_instrumentation":7.220599218271673e-05},{"id":1871926,"event":"return","thread_id":9160,"parent_id":1871921,"elapsed":0.0002981540164910257,"elapsed_instrumentation":4.830199759453535e-05},{"id":1871927,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"set_cache_control_defaults","path":"app/controllers/application_controller.rb","lineno":185,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871928,"event":"return","thread_id":9160,"parent_id":1871927,"elapsed":4.232977516949177e-06,"elapsed_instrumentation":0.00010145400301553309,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":10110940,"size":2}},{"id":1871929,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"disallow_unauthenticated_api_access?","path":"app/controllers/api/base_controller.rb","lineno":152,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871930,"event":"return","thread_id":9160,"parent_id":1871929,"elapsed":1.8238992197439075e-05,"elapsed_instrumentation":7.377698784694076e-05},{"id":1871931,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"require_not_suspended!","path":"app/controllers/api/base_controller.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871932,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871933,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871934,"event":"return","thread_id":9160,"parent_id":1871933,"elapsed":4.340297891758382e-05,"elapsed_instrumentation":4.9390015192329884e-05},{"id":1871935,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10110920,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09ef3f70>"}},{"id":1871936,"event":"return","thread_id":9160,"parent_id":1871935,"elapsed":2.943997969850898e-06,"elapsed_instrumentation":7.684098090976477e-05},{"id":1871937,"event":"return","thread_id":9160,"parent_id":1871932,"elapsed":0.00032584700966253877,"elapsed_instrumentation":5.1566981710493565e-05},{"id":1871938,"event":"return","thread_id":9160,"parent_id":1871931,"elapsed":0.0003943739866372198,"elapsed_instrumentation":8.721702033653855e-05},{"id":1871939,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"doorkeeper_unauthorized_render_options","path":"app/controllers/api/base_controller.rb","lineno":85,"static":false,"parameters":[{"name":"error","class":"Doorkeeper::OAuth::InvalidTokenResponse","object_id":10110960,"value":"#<Doorkeeper::OAuth::InvalidTokenResponse:0x00007fdc09ef2350>","kind":"key"}],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871940,"event":"return","thread_id":9160,"parent_id":1871939,"elapsed":1.0484014637768269e-05,"elapsed_instrumentation":0.00015658597112633288,"return_value":{"class":"Hash","value":"{:json=>{:error=>The access token is invalid}}","object_id":10110980,"size":1}},{"id":1871941,"event":"call","thread_id":9160,"defined_class":"ActionController::Renderers","method_id":"render_to_body","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb","lineno":140,"static":false,"parameters":[{"name":"options","class":"Hash","object_id":10110980,"value":"{:json=>{:error=>The access token is invalid}, :status=>401, :prefixes=>[api/v2/filters, api/base, application], :template=>index, :layout=>}","kind":"req","size":5}],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871942,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871943,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10110840,"value":"#<Api::V2::FiltersController:0x00007fdbf649be00>"}},{"id":1871944,"event":"return","thread_id":9160,"parent_id":1871943,"elapsed":3.689998993650079e-05,"elapsed_instrumentation":5.2704999689012766e-05},{"id":1871945,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10110920,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09ef3f70>"}},{"id":1871946,"event":"return","thread_id":9160,"parent_id":1871945,"elapsed":3.075023414567113e-06,"elapsed_instrumentation":7.766199996694922e-05},{"id":1871947,"event":"return","thread_id":9160,"parent_id":1871942,"elapsed":0.0003219420032110065,"elapsed_instrumentation":7.224199362099171e-05},{"id":1871948,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10111000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1871949,"event":"return","thread_id":9160,"parent_id":1871948,"elapsed":2.7469941414892673e-06,"elapsed_instrumentation":9.39199817366898e-05,"return_value":{"class":"Array","value":"[]","object_id":211300,"size":0}},{"id":1871950,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10111000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1871951,"event":"return","thread_id":9160,"parent_id":1871950,"elapsed":2.4370092432945967e-06,"elapsed_instrumentation":8.168999920599163e-05,"return_value":{"class":"Array","value":"[]","object_id":211340,"size":0}},{"id":1871952,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":10111020,"value":"{error=>The access token is invalid}","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":10111040,"value":"#<JSON::Ext::Generator::State:0x00007fdbf59c72b8>"}},{"id":1871953,"event":"return","thread_id":9160,"parent_id":1871952,"elapsed":7.508002454414964e-06,"elapsed_instrumentation":0.00022264098515734076,"return_value":{"class":"String","value":"{\"error\":\"The access token is invalid\"}","object_id":10111060}},{"id":1871954,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10111000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1871955,"event":"return","thread_id":9160,"parent_id":1871954,"elapsed":2.689019311219454e-06,"elapsed_instrumentation":8.212195825763047e-05,"return_value":{"class":"Array","value":"[]","object_id":215680,"size":0}},{"id":1871956,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10111000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1871957,"event":"return","thread_id":9160,"parent_id":1871956,"elapsed":3.9460137486457825e-06,"elapsed_instrumentation":0.00019899499602615833,"return_value":{"class":"Array","value":"[]","object_id":215700,"size":0}},{"id":1871958,"event":"return","thread_id":9160,"parent_id":1871941,"elapsed":0.0016473009891342372,"elapsed_instrumentation":0.00022320900461636484,"return_value":{"class":"String","value":"{\"error\":\"The access token is invalid\"}","object_id":10111060}},{"id":1871959,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10111080,"value":"Filter chain halted as #<Proc:0x00007fdc09588418 /workspaces/mastodon/app/controllers/api/v2/filters (...50 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1871960,"event":"return","thread_id":9160,"parent_id":1871959,"elapsed":0.0004884840163867921,"elapsed_instrumentation":0.00013587097055278718,"return_value":{"class":"Integer","value":"150","object_id":301}},{"id":1871961,"event":"return","thread_id":9160,"parent_id":1871906,"elapsed":0.00606988399522379,"elapsed_instrumentation":0.0002804220130201429,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09493da0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09493fa8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc094945e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09494a20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09494f48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09495470 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc094956a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09495880 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc094959e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09495bf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...8 more items)]","object_id":10097520,"size":18}},{"id":1871962,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10110820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":10097340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07489668>"}},{"id":1871963,"event":"return","thread_id":9160,"parent_id":1871962,"elapsed":6.3019979279488325e-06,"elapsed_instrumentation":0.0001228569890372455,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09495fb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc094942c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":10097540,"size":2}},{"id":1871964,"event":"return","thread_id":9160,"parent_id":1871893,"elapsed":0.008452036010567099,"elapsed_instrumentation":9.719296940602362e-05},{"id":1871965,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10110820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":10097200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07489618>"}},{"id":1871966,"event":"return","thread_id":9160,"parent_id":1871965,"elapsed":2.663000486791134e-06,"elapsed_instrumentation":8.246299694292247e-05,"return_value":{"class":"Array","value":"[]","object_id":10097560,"size":0}},{"id":1871967,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10111100,"value":"Completed 401 Unauthorized in 10ms (Views: 2.0ms | ActiveRecord: 0.0ms | Allocations: 3859)\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1871968,"event":"return","thread_id":9160,"parent_id":1871967,"elapsed":0.0006430010253097862,"elapsed_instrumentation":0.00013794799451716244,"return_value":{"class":"Integer","value":"92","object_id":185}},{"id":1871969,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1871970,"event":"return","thread_id":9160,"parent_id":1871969,"elapsed":3.208988346159458e-06,"elapsed_instrumentation":0.00010898199980147183,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1871971,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":337880,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":10111120,"value":"[___t__$__\u000b__\u0003___]"}},{"id":1871972,"event":"return","thread_id":9160,"parent_id":1871971,"elapsed":6.66698906570673e-06,"elapsed_instrumentation":0.00017027900321409106,"return_value":{"class":"String","value":"0pCidLHVJMmJC4/cA5eQow==","object_id":10111140}},{"id":1871973,"event":"call","thread_id":9160,"defined_class":"Chewy::Strategy::Mastodon","method_id":"leave","path":"lib/chewy/strategy/mastodon.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Chewy::Strategy::Mastodon","object_id":10111160,"value":"#<Chewy::Strategy::Mastodon:0x00007fdbf59f94c0>"}},{"id":1871974,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10111180,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10111200,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1871975,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1871976,"event":"return","thread_id":9160,"parent_id":1871975,"elapsed":2.6040070224553347e-06,"elapsed_instrumentation":6.980099715292454e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1871977,"event":"return","thread_id":9160,"parent_id":1871974,"elapsed":0.00015813001664355397,"elapsed_instrumentation":0.00016389801749028265,"return_value":{"class":"Array","value":"[]","object_id":10111220,"size":0}},{"id":1871978,"event":"return","thread_id":9160,"parent_id":1871973,"elapsed":0.0003429299977142364,"elapsed_instrumentation":7.13620102033019e-05,"return_value":{"class":"Array","value":"[]","object_id":10111220,"size":0}},{"id":1871979,"event":"return","thread_id":9160,"parent_id":1871882,"elapsed":0.019335232995217666,"elapsed_instrumentation":0.0008571390062570572,"return_value":{"class":"Hash","value":"{error=>The access token is invalid}","object_id":10111260,"size":1,"properties":[{"name":"error","class":"String"}]},"http_server_response":{"status_code":401,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Vary":"Authorization","Cache-Control":"private, no-store","WWW-Authenticate":"Bearer realm=\"Doorkeeper\", error=\"invalid_token\", error_description=\"The access token is invalid\"","Content-Type":"application/json; charset=utf-8","Content-Security-Policy":"default-src 'none'; frame-ancestors 'none'; form-action 'none'","X-Request-Id":"86c2a498-9f3d-4ec4-baa2-d3eed6307ee7","X-Runtime":"0.018834"}}},{"id":1871980,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10111280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":1871981,"event":"return","thread_id":9160,"parent_id":1871980,"elapsed":0.00011907299631275237,"elapsed_instrumentation":0.00016135198529809713,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca3bb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3cf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3f00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca48b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":338500,"size":4}},{"id":1871982,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10111280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":1871983,"event":"return","thread_id":9160,"parent_id":1871982,"elapsed":2.620014129206538e-06,"elapsed_instrumentation":8.085198351182044e-05,"return_value":{"class":"Array","value":"[]","object_id":338520,"size":0}}]}