{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Credentials GET /api/v1/apps/verify_credentials with a revoked oauth token returns the error in the json response","source_location":"spec/requests/api/v1/apps/credentials_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]},{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]}]},{"name":"app","type":"package","children":[{"name":"validators","type":"package","children":[{"name":"URLValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"app/validators/url_validator.rb:6","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"AccessTokenExtension","type":"class","children":[{"name":"push_to_streaming_api","type":"function","location":"app/lib/access_token_extension.rb:20","static":false},{"name":"update_last_used","type":"function","location":"app/lib/access_token_extension.rb:16","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true},{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true}]}]},{"name":"models/concerns","type":"package","children":[{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]}]},{"name":"controllers","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"Localized","type":"class","children":[{"name":"set_locale","type":"function","location":"app/controllers/concerns/localized.rb:10","static":false}]},{"name":"CacheConcern","type":"class","children":[{"name":"enforce_cache_control!","type":"function","location":"app/controllers/concerns/cache_concern.rb:165","static":false}]}]},{"name":"api","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"BaseController","type":"class","children":[{"name":"current_user","type":"function","location":"app/controllers/api/base_controller.rb:116","static":false},{"name":"current_resource_owner","type":"function","location":"app/controllers/api/base_controller.rb:112","static":false},{"name":"disallow_unauthenticated_api_access?","type":"function","location":"app/controllers/api/base_controller.rb:152","static":false},{"name":"require_not_suspended!","type":"function","location":"app/controllers/api/base_controller.rb:126","static":false},{"name":"doorkeeper_unauthorized_render_options","type":"function","location":"app/controllers/api/base_controller.rb:85","static":false}]}]},{"name":"v1/apps","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"V1","type":"class","children":[{"name":"Apps","type":"class","children":[{"name":"CredentialsController","type":"class","children":[{"name":"show","type":"function","location":"app/controllers/api/v1/apps/credentials_controller.rb:4","static":false}]}]}]}]}]}]},{"name":"ApplicationController","type":"class","children":[{"name":"current_session","type":"function","location":"app/controllers/application_controller.rb:153","static":false},{"name":"check_self_destruct!","type":"function","location":"app/controllers/application_controller.rb:176","static":false},{"name":"set_cache_control_defaults","type":"function","location":"app/controllers/application_controller.rb:185","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"SelfDestructHelper","type":"class","children":[{"name":"self_destruct?","type":"function","location":"app/helpers/self_destruct_helper.rb:11","static":false}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]},{"name":"ActionController","type":"class","children":[{"name":"Renderers","type":"class","children":[{"name":"render_to_body","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb:140","static":false,"labels":["mvc.render"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]},{"name":"lib/chewy/strategy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"Strategy","type":"class","children":[{"name":"Mastodon","type":"class","children":[{"name":"leave","type":"function","location":"lib/chewy/strategy/mastodon.rb:16","static":false}]}]}]}]}],"events":[{"id":2738500,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2348980,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930f82860>"}},{"id":2738501,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":343760,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":13472540,"value":"[__0___<<_'___/___~_\u000e__ElKC|m____]"}},{"id":2738502,"event":"return","thread_id":9160,"parent_id":2738501,"elapsed":6.609014235436916e-06,"elapsed_instrumentation":0.00016224401770159602,"return_value":{"class":"String","value":"jqkw8qmCPDzMJ6iVwi/vnOF+5A6B50VsS0N8bYff+eI=","object_id":13472560}},{"id":2738503,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":343760,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":13472580,"value":"[@2X'_a___1____rT_LD____\u0004T\\s_g__6]"}},{"id":2738504,"event":"return","thread_id":9160,"parent_id":2738503,"elapsed":6.954011041671038e-06,"elapsed_instrumentation":0.00015791802434250712,"return_value":{"class":"String","value":"QDJYJ8NhjI+gMdL/08pyVN9MRLfZpI0EVFxz6mem8jY=","object_id":13472600}},{"id":2738505,"event":"return","thread_id":9160,"parent_id":2738500,"elapsed":0.0005974060040898621,"elapsed_instrumentation":0.0005539800622500479,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931d66878 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d66b48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d66ff8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2349080,"size":3}},{"id":2738506,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2349120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930f825e0>"}},{"id":2738507,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2738508,"event":"return","thread_id":9160,"parent_id":2738507,"elapsed":0.001032727,"elapsed_instrumentation":0.0008407370187342167},{"id":2738509,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_applications\" WHERE \"oauth_applications\".\"uid\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2738510,"event":"return","thread_id":9160,"parent_id":2738509,"elapsed":0.003474033,"elapsed_instrumentation":0.00034617300843819976},{"id":2738511,"event":"call","thread_id":9160,"defined_class":"URLValidator","method_id":"validate_each","path":"app/validators/url_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"Doorkeeper::Application","object_id":13472640,"value":"#<Doorkeeper::Application:0x00007fc918429260>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":12416668,"value":":website","kind":"req"},{"name":"value","class":"String","object_id":13472660,"value":"http://example.com","kind":"req"}],"receiver":{"class":"URLValidator","object_id":2349180,"value":"#<URLValidator:0x00007fc941585b58>"}},{"id":2738512,"event":"return","thread_id":9160,"parent_id":2738511,"elapsed":0.0003873470122925937,"elapsed_instrumentation":0.0004690909991040826},{"id":2738513,"event":"return","thread_id":9160,"parent_id":2738506,"elapsed":0.007474592013750225,"elapsed_instrumentation":0.000512423983309418,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931d61aa8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d61c88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d61eb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d61ff8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d622c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d62598 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d62778 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d62958 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d62b10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d62c50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...6 more items)]","object_id":2349200,"size":16}},{"id":2738514,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2349120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930f825e0>"}},{"id":2738515,"event":"return","thread_id":9160,"parent_id":2738514,"elapsed":1.0113988537341356e-05,"elapsed_instrumentation":0.0004255720414221287,"return_value":{"class":"Array","value":"[]","object_id":2349220,"size":0}},{"id":2738516,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2348980,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930f82860>"}},{"id":2738517,"event":"return","thread_id":9160,"parent_id":2738516,"elapsed":2.6070047169923782e-05,"elapsed_instrumentation":0.0005293539725244045,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931d66738 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2349240,"size":1}},{"id":2738518,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2349280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930f812d0>"}},{"id":2738519,"event":"return","thread_id":9160,"parent_id":2738518,"elapsed":8.799496572464705e-05,"elapsed_instrumentation":0.00040238804649561644,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931dbb0d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2349300,"size":1}},{"id":2738520,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2349320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930f81320>"}},{"id":2738521,"event":"return","thread_id":9160,"parent_id":2738520,"elapsed":4.163011908531189e-06,"elapsed_instrumentation":0.00013772794045507908,"return_value":{"class":"Array","value":"[]","object_id":2349340,"size":0}},{"id":2738522,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2349380,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930f811e0>"}},{"id":2738523,"event":"return","thread_id":9160,"parent_id":2738522,"elapsed":3.641995135694742e-06,"elapsed_instrumentation":0.00012985104694962502,"return_value":{"class":"Array","value":"[]","object_id":2349400,"size":0}},{"id":2738524,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"oauth_applications\" (\"name\", \"uid\", \"secret\", \"redirect_uri\", \"scopes\", \"created_at\", \"updated_at\", \"superapp\", \"website\", \"owner_type\", \"owner_id\", \"confidential\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":2738525,"event":"return","thread_id":9160,"parent_id":2738524,"elapsed":0.001459716,"elapsed_instrumentation":0.00015598995378240943},{"id":2738526,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2349380,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930f811e0>"}},{"id":2738527,"event":"return","thread_id":9160,"parent_id":2738526,"elapsed":8.021696703508496e-05,"elapsed_instrumentation":0.0003311620093882084,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931db9f28 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931db9d70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931db9bb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931db9a00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931db9848 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2349420,"size":5}},{"id":2738528,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2349320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930f81320>"}},{"id":2738529,"event":"return","thread_id":9160,"parent_id":2738528,"elapsed":4.967034328728914e-06,"elapsed_instrumentation":0.0001432750141248107,"return_value":{"class":"Array","value":"[]","object_id":2349440,"size":0}},{"id":2738530,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2349280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930f812d0>"}},{"id":2738531,"event":"return","thread_id":9160,"parent_id":2738530,"elapsed":3.6869896575808525e-06,"elapsed_instrumentation":0.00032530707539990544,"return_value":{"class":"Array","value":"[]","object_id":2349460,"size":0}},{"id":2738532,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2738533,"event":"return","thread_id":9160,"parent_id":2738532,"elapsed":0.000428303,"elapsed_instrumentation":9.335397044196725e-05},{"id":2738534,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba1910>"}},{"id":2738535,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":343760,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":13472740,"value":"[_\u0003T___N_|__\u0012_G%_@\u0003_\u0010_h'?)\"_\f9\u001a_]"}},{"id":2738536,"event":"return","thread_id":9160,"parent_id":2738535,"elapsed":6.834045052528381e-06,"elapsed_instrumentation":0.00030599295860156417,"return_value":{"class":"String","value":"4QNUhvDETvN8nqcS+kcljUAD7RCOaCc/KSKwfww5Gow=","object_id":13472760}},{"id":2738537,"event":"return","thread_id":9160,"parent_id":2738534,"elapsed":0.0006386029999703169,"elapsed_instrumentation":0.00018446106696501374,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b5dd28 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b5de68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b5e020 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343820,"size":3}},{"id":2738538,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba0ba0>"}},{"id":2738539,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2738540,"event":"return","thread_id":9160,"parent_id":2738539,"elapsed":0.000836288,"elapsed_instrumentation":0.00013726303586736321},{"id":2738541,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2738542,"event":"return","thread_id":9160,"parent_id":2738541,"elapsed":0.002197978,"elapsed_instrumentation":9.667396079748869e-05},{"id":2738543,"event":"return","thread_id":9160,"parent_id":2738538,"elapsed":0.00385700399056077,"elapsed_instrumentation":0.000181552954018116,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b59408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b595c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b597a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b59980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343880,"size":4}},{"id":2738544,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba0ba0>"}},{"id":2738545,"event":"return","thread_id":9160,"parent_id":2738544,"elapsed":3.907014615833759e-06,"elapsed_instrumentation":0.00011190702207386494,"return_value":{"class":"Array","value":"[]","object_id":343900,"size":0}},{"id":2738546,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba1910>"}},{"id":2738547,"event":"return","thread_id":9160,"parent_id":2738546,"elapsed":4.490022547543049e-06,"elapsed_instrumentation":0.00011154904495924711,"return_value":{"class":"Array","value":"[]","object_id":343920,"size":0}},{"id":2738548,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba01f0>"}},{"id":2738549,"event":"return","thread_id":9160,"parent_id":2738548,"elapsed":8.241704199463129e-05,"elapsed_instrumentation":0.00011082697892561555,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b535d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343980,"size":1}},{"id":2738550,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"oauth_access_tokens\" (\"token\", \"refresh_token\", \"expires_in\", \"revoked_at\", \"created_at\", \"scopes\", \"application_id\", \"resource_owner_id\", \"last_used_at\", \"last_used_ip\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING \"id\"","database_type":"postgres"}},{"id":2738551,"event":"return","thread_id":9160,"parent_id":2738550,"elapsed":0.001360365,"elapsed_instrumentation":0.00010523601667955518},{"id":2738552,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba01f0>"}},{"id":2738553,"event":"return","thread_id":9160,"parent_id":2738552,"elapsed":4.691013600677252e-06,"elapsed_instrumentation":0.00015885895118117332,"return_value":{"class":"Array","value":"[]","object_id":344000,"size":0}},{"id":2738554,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2738555,"event":"return","thread_id":9160,"parent_id":2738554,"elapsed":0.000594712,"elapsed_instrumentation":9.340699762105942e-05},{"id":2738556,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932b3f738>"}},{"id":2738557,"event":"return","thread_id":9160,"parent_id":2738556,"elapsed":4.537985660135746e-06,"elapsed_instrumentation":0.00013974803732708097,"return_value":{"class":"Array","value":"[]","object_id":344100,"size":0}},{"id":2738558,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932b3f738>"}},{"id":2738559,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":13472820,"value":"#<Doorkeeper::AccessToken:0x00007fc9184284a0>"}},{"id":2738560,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":13472820,"value":"#<Doorkeeper::AccessToken:0x00007fc9184284a0>"}},{"id":2738561,"event":"return","thread_id":9160,"parent_id":2738560,"elapsed":5.62501372769475e-06,"elapsed_instrumentation":0.00014058593660593033,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2738562,"event":"return","thread_id":9160,"parent_id":2738559,"elapsed":0.0008302469504997134,"elapsed_instrumentation":0.0001010540290735662,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2738563,"event":"return","thread_id":9160,"parent_id":2738558,"elapsed":0.0009630720014683902,"elapsed_instrumentation":0.00015094195259734988,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b2e7f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":344120,"size":1}},{"id":2738564,"event":"call","thread_id":9160,"http_server_request":{"request_method":"GET","path_info":"/api/v1/apps/verify_credentials","normalized_path_info":"/api/v1/apps/verify_credentials","headers":{"Version":"HTTP/1.0","Host":"www.example.com","Accept":"text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5","Authorization":"Bearer 4QNUhvDETvN8nqcS-kcljUAD7RCOaCc_KSKwfww5Gow","Content-Length":"0"}}},{"id":2738565,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":222040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93803c8a8>"}},{"id":2738566,"event":"return","thread_id":9160,"parent_id":2738565,"elapsed":0.00010726897744461894,"elapsed_instrumentation":0.00017034204211086035,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc934226eb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934226ff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934227158 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934227310 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":222060,"size":4}},{"id":2738567,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":222040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93803c8a8>"}},{"id":2738568,"event":"return","thread_id":9160,"parent_id":2738567,"elapsed":5.256966687738895e-06,"elapsed_instrumentation":0.0003379240515641868,"return_value":{"class":"Array","value":"[]","object_id":222080,"size":0}},{"id":2738569,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":13472880,"value":"&\u001a_=__T__r_|\u001e\\_8"}},{"id":2738570,"event":"return","thread_id":9160,"parent_id":2738569,"elapsed":6.57298369333148e-06,"elapsed_instrumentation":0.0001633110805414617,"return_value":{"class":"Array","value":"[639299389, 49052, 21658, 53362, 61820, 509387832]","object_id":13472900,"size":6}},{"id":2738571,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":13472940,"value":"Processing by Api::V1::Apps::CredentialsController#show as HTML\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2738572,"event":"return","thread_id":9160,"parent_id":2738571,"elapsed":0.0006785350269638002,"elapsed_instrumentation":0.000152299995534122,"return_value":{"class":"Integer","value":"64","object_id":129}},{"id":2738573,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1818640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9312e83b0>"}},{"id":2738574,"event":"return","thread_id":9160,"parent_id":2738573,"elapsed":3.664987161755562e-06,"elapsed_instrumentation":0.00012069201329723,"return_value":{"class":"Array","value":"[]","object_id":1818660,"size":0}},{"id":2738575,"event":"call","thread_id":9160,"defined_class":"Localized","method_id":"set_locale","path":"app/controllers/concerns/localized.rb","lineno":10,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738576,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738577,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738578,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"oauth_access_tokens\".* FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2738579,"event":"return","thread_id":9160,"parent_id":2738578,"elapsed":0.000555725,"elapsed_instrumentation":9.832897922024131e-05},{"id":2738580,"event":"return","thread_id":9160,"parent_id":2738577,"elapsed":0.0021011089556850493,"elapsed_instrumentation":0.00017048994777724147,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":13473000,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":2738581,"event":"return","thread_id":9160,"parent_id":2738576,"elapsed":0.002302467997651547,"elapsed_instrumentation":0.000213425955735147},{"id":2738582,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1818740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9312e8400>"}},{"id":2738583,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738584,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738585,"event":"return","thread_id":9160,"parent_id":2738584,"elapsed":0.00038176600355654955,"elapsed_instrumentation":0.00014807400293648243,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":13473020,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":2738586,"event":"return","thread_id":9160,"parent_id":2738583,"elapsed":0.0005550539935939014,"elapsed_instrumentation":6.455101538449526e-05},{"id":2738587,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_session","path":"app/controllers/application_controller.rb","lineno":153,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738588,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":13473040,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":13473060,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc8e152a880>"}},{"id":2738589,"event":"return","thread_id":9160,"parent_id":2738588,"elapsed":6.145972292870283e-06,"elapsed_instrumentation":0.00010109302820637822,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc8e152a880>","object_id":13473060}},{"id":2738590,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":13473060,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc8e152a880>"}},{"id":2738591,"event":"return","thread_id":9160,"parent_id":2738590,"elapsed":3.330991603434086e-06,"elapsed_instrumentation":7.199204992502928e-05},{"id":2738592,"event":"return","thread_id":9160,"parent_id":2738587,"elapsed":0.00030206399969756603,"elapsed_instrumentation":6.935303099453449e-05},{"id":2738593,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"check_self_destruct!","path":"app/controllers/application_controller.rb","lineno":176,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738594,"event":"call","thread_id":9160,"defined_class":"SelfDestructHelper","method_id":"self_destruct?","path":"app/helpers/self_destruct_helper.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738595,"event":"return","thread_id":9160,"parent_id":2738594,"elapsed":8.004019036889076e-06,"elapsed_instrumentation":4.8723944928497076e-05},{"id":2738596,"event":"return","thread_id":9160,"parent_id":2738593,"elapsed":7.387198274955153e-05,"elapsed_instrumentation":5.213898839429021e-05},{"id":2738597,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738598,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738599,"event":"return","thread_id":9160,"parent_id":2738598,"elapsed":0.00028020195895805955,"elapsed_instrumentation":0.00013084500096738338,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":13473080,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":2738600,"event":"return","thread_id":9160,"parent_id":2738597,"elapsed":0.00043339497642591596,"elapsed_instrumentation":0.00017814600141718984},{"id":2738601,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"set_cache_control_defaults","path":"app/controllers/application_controller.rb","lineno":185,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738602,"event":"return","thread_id":9160,"parent_id":2738601,"elapsed":4.519009962677956e-06,"elapsed_instrumentation":0.00011524598812684417,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":13473100,"size":2}},{"id":2738603,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"update_last_used","path":"app/lib/access_token_extension.rb","lineno":16,"static":false,"parameters":[{"name":"request","class":"ActionDispatch::Request","object_id":13473120,"value":"#<ActionDispatch::Request:0x00007fc91a5b5140>","kind":"req"},{"name":"clock","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Doorkeeper::AccessToken","object_id":13473140,"value":"#<Doorkeeper::AccessToken:0x00007fc918427820>"}},{"id":2738604,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba1910>"}},{"id":2738605,"event":"return","thread_id":9160,"parent_id":2738604,"elapsed":3.4976983442902565e-05,"elapsed_instrumentation":0.0001978939981199801,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b5dd28 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b5de68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b5e020 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343820,"size":3}},{"id":2738606,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba0ba0>"}},{"id":2738607,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2738608,"event":"return","thread_id":9160,"parent_id":2738607,"elapsed":0.000507132,"elapsed_instrumentation":0.00010530801955610514},{"id":2738609,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 AND \"oauth_access_tokens\".\"id\" != $2 LIMIT $3","database_type":"postgres"}},{"id":2738610,"event":"return","thread_id":9160,"parent_id":2738609,"elapsed":0.001523286,"elapsed_instrumentation":0.00013470801059156656},{"id":2738611,"event":"return","thread_id":9160,"parent_id":2738606,"elapsed":0.0034880430321209133,"elapsed_instrumentation":0.00020705501083284616,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b59408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b595c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b597a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b59980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343880,"size":4}},{"id":2738612,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba0ba0>"}},{"id":2738613,"event":"return","thread_id":9160,"parent_id":2738612,"elapsed":4.2629544623196125e-06,"elapsed_instrumentation":0.00011638604337349534,"return_value":{"class":"Array","value":"[]","object_id":343900,"size":0}},{"id":2738614,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba1910>"}},{"id":2738615,"event":"return","thread_id":9160,"parent_id":2738614,"elapsed":2.7579953894019127e-06,"elapsed_instrumentation":8.061801781877875e-05,"return_value":{"class":"Array","value":"[]","object_id":343920,"size":0}},{"id":2738616,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba01f0>"}},{"id":2738617,"event":"return","thread_id":9160,"parent_id":2738616,"elapsed":2.7112953830510378e-05,"elapsed_instrumentation":0.00010024703806266189,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b535d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343980,"size":1}},{"id":2738618,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"oauth_access_tokens\" SET \"last_used_at\" = $1, \"last_used_ip\" = $2 WHERE \"oauth_access_tokens\".\"id\" = $3","database_type":"postgres"}},{"id":2738619,"event":"return","thread_id":9160,"parent_id":2738618,"elapsed":0.000776675,"elapsed_instrumentation":7.527199340984225e-05},{"id":2738620,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba01f0>"}},{"id":2738621,"event":"return","thread_id":9160,"parent_id":2738620,"elapsed":3.6440324038267136e-06,"elapsed_instrumentation":0.00012648699339479208,"return_value":{"class":"Array","value":"[]","object_id":344000,"size":0}},{"id":2738622,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2738623,"event":"return","thread_id":9160,"parent_id":2738622,"elapsed":0.000394311,"elapsed_instrumentation":8.463999256491661e-05},{"id":2738624,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932b3f738>"}},{"id":2738625,"event":"return","thread_id":9160,"parent_id":2738624,"elapsed":3.895023837685585e-06,"elapsed_instrumentation":0.00013644102727994323,"return_value":{"class":"Array","value":"[]","object_id":344100,"size":0}},{"id":2738626,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932b3f738>"}},{"id":2738627,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":13473140,"value":"#<Doorkeeper::AccessToken:0x00007fc918427820>"}},{"id":2738628,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":13473140,"value":"#<Doorkeeper::AccessToken:0x00007fc918427820>"}},{"id":2738629,"event":"return","thread_id":9160,"parent_id":2738628,"elapsed":4.9219815991818905e-06,"elapsed_instrumentation":8.676503784954548e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2738630,"event":"return","thread_id":9160,"parent_id":2738627,"elapsed":0.0007031729910522699,"elapsed_instrumentation":0.00010283500887453556,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2738631,"event":"return","thread_id":9160,"parent_id":2738626,"elapsed":0.0008370049763470888,"elapsed_instrumentation":0.00015417602844536304,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b2e7f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":344120,"size":1}},{"id":2738632,"event":"return","thread_id":9160,"parent_id":2738603,"elapsed":0.009467029012739658,"elapsed_instrumentation":0.00011660996824502945,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2738633,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"disallow_unauthenticated_api_access?","path":"app/controllers/api/base_controller.rb","lineno":152,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738634,"event":"return","thread_id":9160,"parent_id":2738633,"elapsed":2.137903356924653e-05,"elapsed_instrumentation":9.576498996466398e-05},{"id":2738635,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"require_not_suspended!","path":"app/controllers/api/base_controller.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738636,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738637,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738638,"event":"return","thread_id":9160,"parent_id":2738637,"elapsed":0.0005618379800580442,"elapsed_instrumentation":0.0002471219631843269,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":13473240,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":2738639,"event":"return","thread_id":9160,"parent_id":2738636,"elapsed":0.0008378720376640558,"elapsed_instrumentation":7.280596764758229e-05},{"id":2738640,"event":"return","thread_id":9160,"parent_id":2738635,"elapsed":0.0009324770071543753,"elapsed_instrumentation":7.416802691295743e-05},{"id":2738641,"event":"return","thread_id":9160,"parent_id":2738582,"elapsed":0.013119510025717318,"elapsed_instrumentation":0.00031832396052777767,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9327b7098 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327b7200 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327b7520 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327b7660 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327b7908 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327b7b38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327b7c78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327b7e30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327b7fe8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327b81c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...3 more items)]","object_id":1818780,"size":13}},{"id":2738642,"event":"call","thread_id":9160,"defined_class":"Api::V1::Apps::CredentialsController","method_id":"show","path":"app/controllers/api/v1/apps/credentials_controller.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738643,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"doorkeeper_unauthorized_render_options","path":"app/controllers/api/base_controller.rb","lineno":85,"static":false,"parameters":[{"name":"error","class":"Doorkeeper::OAuth::InvalidTokenResponse","object_id":13473260,"value":"#<Doorkeeper::OAuth::InvalidTokenResponse:0x00007fc8e1527950>","kind":"key"}],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738644,"event":"return","thread_id":9160,"parent_id":2738643,"elapsed":9.672017768025398e-06,"elapsed_instrumentation":0.00015462998999282718,"return_value":{"class":"Hash","value":"{:json=>{:error=>The access token was revoked}}","object_id":13473280,"size":1}},{"id":2738645,"event":"call","thread_id":9160,"defined_class":"ActionController::Renderers","method_id":"render_to_body","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb","lineno":140,"static":false,"parameters":[{"name":"options","class":"Hash","object_id":13473280,"value":"{:json=>{:error=>The access token was revoked}, :status=>401, :prefixes=>[api/v1/apps/credentials, api/base, application], :template=>show, :layout=>}","kind":"req","size":5}],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738646,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738647,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738648,"event":"return","thread_id":9160,"parent_id":2738647,"elapsed":0.00037008500657975674,"elapsed_instrumentation":0.00014934904174879193,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":13473300,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":2738649,"event":"return","thread_id":9160,"parent_id":2738646,"elapsed":0.0005442810361273587,"elapsed_instrumentation":0.00018700299551710486},{"id":2738650,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":2738651,"event":"return","thread_id":9160,"parent_id":2738650,"elapsed":3.4070108085870743e-06,"elapsed_instrumentation":0.00011188798816874623,"return_value":{"class":"Array","value":"[]","object_id":326200,"size":0}},{"id":2738652,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":2738653,"event":"return","thread_id":9160,"parent_id":2738652,"elapsed":2.883956767618656e-06,"elapsed_instrumentation":9.14010452106595e-05,"return_value":{"class":"Array","value":"[]","object_id":326240,"size":0}},{"id":2738654,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":13473340,"value":"{error=>The access token was revoked}","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":13473360,"value":"#<JSON::Ext::Generator::State:0x00007fc918cad440>"}},{"id":2738655,"event":"return","thread_id":9160,"parent_id":2738654,"elapsed":7.444003131240606e-06,"elapsed_instrumentation":0.000112400040961802,"return_value":{"class":"String","value":"{\"error\":\"The access token was revoked\"}","object_id":13473380}},{"id":2738656,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":2738657,"event":"return","thread_id":9160,"parent_id":2738656,"elapsed":3.25602013617754e-06,"elapsed_instrumentation":7.619900861755013e-05,"return_value":{"class":"Array","value":"[]","object_id":328060,"size":0}},{"id":2738658,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":2738659,"event":"return","thread_id":9160,"parent_id":2738658,"elapsed":2.3979810066521168e-06,"elapsed_instrumentation":7.329601794481277e-05,"return_value":{"class":"Array","value":"[]","object_id":328080,"size":0}},{"id":2738660,"event":"return","thread_id":9160,"parent_id":2738645,"elapsed":0.0019874999998137355,"elapsed_instrumentation":0.0002172700478695333,"return_value":{"class":"String","value":"{\"error\":\"The access token was revoked\"}","object_id":13473380}},{"id":2738661,"event":"return","thread_id":9160,"parent_id":2738642,"elapsed":0.002758318034466356,"elapsed_instrumentation":9.366602171212435e-05,"return_value":{"class":"String","value":"{\"error\":\"The access token was revoked\"}","object_id":13473380}},{"id":2738662,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1818740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9312e8400>"}},{"id":2738663,"event":"call","thread_id":9160,"defined_class":"CacheConcern","method_id":"enforce_cache_control!","path":"app/controllers/concerns/cache_concern.rb","lineno":165,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":13472980,"value":"#<Api::V1::Apps::CredentialsController:0x00007fc91a5b4420>"}},{"id":2738664,"event":"return","thread_id":9160,"parent_id":2738663,"elapsed":3.938202280551195e-05,"elapsed_instrumentation":0.0001586569705978036,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":13473100,"size":2}},{"id":2738665,"event":"return","thread_id":9160,"parent_id":2738662,"elapsed":0.00040036800783127546,"elapsed_instrumentation":0.00011392898159101605,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9327b8790 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327b73b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1818800,"size":2}},{"id":2738666,"event":"return","thread_id":9160,"parent_id":2738575,"elapsed":0.019625802000518888,"elapsed_instrumentation":0.00012638699263334274,"return_value":{"class":"String","value":"{\"error\":\"The access token was revoked\"}","object_id":13473380}},{"id":2738667,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13472960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1818640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9312e83b0>"}},{"id":2738668,"event":"return","thread_id":9160,"parent_id":2738667,"elapsed":3.5929842852056026e-06,"elapsed_instrumentation":9.284698171541095e-05,"return_value":{"class":"Array","value":"[]","object_id":1818820,"size":0}},{"id":2738669,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":13473400,"value":"Completed 401 Unauthorized in 23ms (Views: 2.3ms | ActiveRecord: 3.7ms | Allocations: 6853)\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2738670,"event":"return","thread_id":9160,"parent_id":2738669,"elapsed":0.0006901950109750032,"elapsed_instrumentation":0.00014762597857043147,"return_value":{"class":"Integer","value":"92","object_id":185}},{"id":2738671,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2738672,"event":"return","thread_id":9160,"parent_id":2738671,"elapsed":3.6580022424459457e-06,"elapsed_instrumentation":0.0001082879607565701,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2738673,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":343760,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":13473420,"value":"[_hc1\u0007EOl__!hA__]]"}},{"id":2738674,"event":"return","thread_id":9160,"parent_id":2738673,"elapsed":6.701971869915724e-06,"elapsed_instrumentation":0.00024849502369761467,"return_value":{"class":"String","value":"/WhjMQdFT2yz4iFoQeDNXQ==","object_id":13473440}},{"id":2738675,"event":"call","thread_id":9160,"defined_class":"Chewy::Strategy::Mastodon","method_id":"leave","path":"lib/chewy/strategy/mastodon.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Chewy::Strategy::Mastodon","object_id":13473460,"value":"#<Chewy::Strategy::Mastodon:0x00007fc918be6778>"}},{"id":2738676,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":13473480,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":13473500,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2738677,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2738678,"event":"return","thread_id":9160,"parent_id":2738677,"elapsed":2.501998096704483e-06,"elapsed_instrumentation":6.89290463924408e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2738679,"event":"return","thread_id":9160,"parent_id":2738676,"elapsed":0.00016821903409436345,"elapsed_instrumentation":0.00011391192674636841,"return_value":{"class":"Array","value":"[]","object_id":13473520,"size":0}},{"id":2738680,"event":"return","thread_id":9160,"parent_id":2738675,"elapsed":0.000303442997392267,"elapsed_instrumentation":8.178193820640445e-05,"return_value":{"class":"Array","value":"[]","object_id":13473520,"size":0}},{"id":2738681,"event":"return","thread_id":9160,"parent_id":2738564,"elapsed":0.03252541500842199,"elapsed_instrumentation":0.0009396179812029004,"return_value":{"class":"Hash","value":"{error=>The access token was revoked}","object_id":13473560,"size":1,"properties":[{"name":"error","class":"String"}]},"http_server_response":{"status_code":401,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Vary":"Authorization","Cache-Control":"private, no-store","WWW-Authenticate":"Bearer realm=\"Doorkeeper\", error=\"invalid_token\", error_description=\"The access token was revoked\"","Content-Type":"application/json; charset=utf-8","Content-Security-Policy":"default-src 'none'; frame-ancestors 'none'; form-action 'none'","X-Request-Id":"261aef3d-bf9c-449a-9072-f17c1e5ca438","X-Runtime":"0.031790"}}},{"id":2738682,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934c37c10>"}},{"id":2738683,"event":"return","thread_id":9160,"parent_id":2738682,"elapsed":0.00011864496627822518,"elapsed_instrumentation":0.00016215798677876592,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933f1f4d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f758 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f910 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318440,"size":4}},{"id":2738684,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13473580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934c37c10>"}},{"id":2738685,"event":"return","thread_id":9160,"parent_id":2738684,"elapsed":3.537978045642376e-06,"elapsed_instrumentation":8.161697769537568e-05,"return_value":{"class":"Array","value":"[]","object_id":318460,"size":0}},{"id":2738686,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":13473620,"value":"#<JSON::Ext::Parser:0x00007fc918cdd730>"}},{"id":2738687,"event":"return","thread_id":9160,"parent_id":2738686,"elapsed":6.865011528134346e-06,"elapsed_instrumentation":0.0001179249957203865,"return_value":{"class":"Hash","value":"{:error=>The access token was revoked}","object_id":13473640,"size":1}}]}