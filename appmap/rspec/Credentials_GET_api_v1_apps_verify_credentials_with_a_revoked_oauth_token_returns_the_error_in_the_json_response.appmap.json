{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Credentials GET /api/v1/apps/verify_credentials with a revoked oauth token returns the error in the json response","source_location":"spec/requests/api/v1/apps/credentials_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]},{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]}]},{"name":"app","type":"package","children":[{"name":"validators","type":"package","children":[{"name":"URLValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"app/validators/url_validator.rb:6","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"AccessTokenExtension","type":"class","children":[{"name":"push_to_streaming_api","type":"function","location":"app/lib/access_token_extension.rb:20","static":false},{"name":"update_last_used","type":"function","location":"app/lib/access_token_extension.rb:16","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true},{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true}]}]},{"name":"models/concerns","type":"package","children":[{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]}]},{"name":"controllers","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"Localized","type":"class","children":[{"name":"set_locale","type":"function","location":"app/controllers/concerns/localized.rb:10","static":false}]},{"name":"CacheConcern","type":"class","children":[{"name":"enforce_cache_control!","type":"function","location":"app/controllers/concerns/cache_concern.rb:165","static":false}]}]},{"name":"api","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"BaseController","type":"class","children":[{"name":"current_user","type":"function","location":"app/controllers/api/base_controller.rb:116","static":false},{"name":"current_resource_owner","type":"function","location":"app/controllers/api/base_controller.rb:112","static":false},{"name":"disallow_unauthenticated_api_access?","type":"function","location":"app/controllers/api/base_controller.rb:152","static":false},{"name":"require_not_suspended!","type":"function","location":"app/controllers/api/base_controller.rb:126","static":false},{"name":"doorkeeper_unauthorized_render_options","type":"function","location":"app/controllers/api/base_controller.rb:85","static":false}]}]},{"name":"v1/apps","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"V1","type":"class","children":[{"name":"Apps","type":"class","children":[{"name":"CredentialsController","type":"class","children":[{"name":"show","type":"function","location":"app/controllers/api/v1/apps/credentials_controller.rb:4","static":false}]}]}]}]}]}]},{"name":"ApplicationController","type":"class","children":[{"name":"current_session","type":"function","location":"app/controllers/application_controller.rb:153","static":false},{"name":"check_self_destruct!","type":"function","location":"app/controllers/application_controller.rb:176","static":false},{"name":"set_cache_control_defaults","type":"function","location":"app/controllers/application_controller.rb:185","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"SelfDestructHelper","type":"class","children":[{"name":"self_destruct?","type":"function","location":"app/helpers/self_destruct_helper.rb:11","static":false}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]},{"name":"ActionController","type":"class","children":[{"name":"Renderers","type":"class","children":[{"name":"render_to_body","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb:140","static":false,"labels":["mvc.render"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]},{"name":"lib/chewy/strategy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"Strategy","type":"class","children":[{"name":"Mastodon","type":"class","children":[{"name":"leave","type":"function","location":"lib/chewy/strategy/mastodon.rb:16","static":false}]}]}]}]}],"events":[{"id":1295657,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914cd18>"}},{"id":1295658,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":337880,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":7160440,"value":"[___|_\u0016;0_M:\u0012_*\u001c@\u0004QYu__OUz____\u000b\b_]"}},{"id":1295659,"event":"return","thread_id":9160,"parent_id":1295658,"elapsed":1.027798862196505e-05,"elapsed_instrumentation":0.00022574997274205089,"return_value":{"class":"String","value":"j8y+fMoWOzD9TToSoiocQARRWXXKi09Ves63kJkLCOc=","object_id":7160460}},{"id":1295660,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":337880,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":7160480,"value":"[____Kc_____B& Z_\u0011\f_QI_\u001d___q_\u0013__N]"}},{"id":1295661,"event":"return","thread_id":9160,"parent_id":1295660,"elapsed":8.56301630847156e-06,"elapsed_instrumentation":0.00020679898443631828,"return_value":{"class":"String","value":"1JGZ00tjjLX3vpVCJiBa2REMrFFJ1R3xktBx6BP6ik4=","object_id":7160500}},{"id":1295662,"event":"return","thread_id":9160,"parent_id":1295657,"elapsed":0.0008593710081186146,"elapsed_instrumentation":0.00034750497434288263,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc084ff650 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084ff790 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084ff948 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2577720,"size":3}},{"id":1295663,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914cae8>"}},{"id":1295664,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1295665,"event":"return","thread_id":9160,"parent_id":1295664,"elapsed":0.001177763,"elapsed_instrumentation":0.00014791099238209426},{"id":1295666,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_applications\" WHERE \"oauth_applications\".\"uid\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1295667,"event":"return","thread_id":9160,"parent_id":1295666,"elapsed":0.003622509,"elapsed_instrumentation":8.425800479017198e-05},{"id":1295668,"event":"call","thread_id":9160,"defined_class":"URLValidator","method_id":"validate_each","path":"app/validators/url_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"Doorkeeper::Application","object_id":7160540,"value":"#<Doorkeeper::Application:0x00007fdc06dea8c0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":12416668,"value":":website","kind":"req"},{"name":"value","class":"String","object_id":7160560,"value":"http://example.com","kind":"req"}],"receiver":{"class":"URLValidator","object_id":4476740,"value":"#<URLValidator:0x00007fdc1699eb08>"}},{"id":1295669,"event":"return","thread_id":9160,"parent_id":1295668,"elapsed":0.00030277500627562404,"elapsed_instrumentation":0.0004442320205271244},{"id":1295670,"event":"return","thread_id":9160,"parent_id":1295663,"elapsed":0.007004578015767038,"elapsed_instrumentation":0.00032652998925186694,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc084fc338 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fc4f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fc630 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fc770 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fc950 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fcb30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fcd10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fcef0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fd0a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fd1e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...6 more items)]","object_id":2577780,"size":16}},{"id":1295671,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914cae8>"}},{"id":1295672,"event":"return","thread_id":9160,"parent_id":1295671,"elapsed":3.903987817466259e-06,"elapsed_instrumentation":0.00034711803891696036,"return_value":{"class":"Array","value":"[]","object_id":2577800,"size":0}},{"id":1295673,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914cd18>"}},{"id":1295674,"event":"return","thread_id":9160,"parent_id":1295673,"elapsed":1.3882003258913755e-05,"elapsed_instrumentation":0.00019017900922335684,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc084ff510 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2577820,"size":1}},{"id":1295675,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914b288>"}},{"id":1295676,"event":"return","thread_id":9160,"parent_id":1295675,"elapsed":3.275499329902232e-05,"elapsed_instrumentation":0.00017558402032591403,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc084f59e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2577880,"size":1}},{"id":1295677,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914b418>"}},{"id":1295678,"event":"return","thread_id":9160,"parent_id":1295677,"elapsed":4.554021870717406e-06,"elapsed_instrumentation":0.0004305900074541569,"return_value":{"class":"Array","value":"[]","object_id":2577920,"size":0}},{"id":1295679,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914b148>"}},{"id":1295680,"event":"return","thread_id":9160,"parent_id":1295679,"elapsed":3.543973434716463e-06,"elapsed_instrumentation":0.00014038101653568447,"return_value":{"class":"Array","value":"[]","object_id":2577980,"size":0}},{"id":1295681,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"oauth_applications\" (\"name\", \"uid\", \"secret\", \"redirect_uri\", \"scopes\", \"created_at\", \"updated_at\", \"superapp\", \"website\", \"owner_type\", \"owner_id\", \"confidential\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":1295682,"event":"return","thread_id":9160,"parent_id":1295681,"elapsed":0.001149318,"elapsed_instrumentation":9.925602353177965e-05},{"id":1295683,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914b148>"}},{"id":1295684,"event":"return","thread_id":9160,"parent_id":1295683,"elapsed":6.293298793025315e-05,"elapsed_instrumentation":0.00018836298841051757,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc084f48e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084f4728 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084f4570 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084f43b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084f4200 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2578000,"size":5}},{"id":1295685,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914b418>"}},{"id":1295686,"event":"return","thread_id":9160,"parent_id":1295685,"elapsed":4.8670044634491205e-06,"elapsed_instrumentation":0.00044266998884268105,"return_value":{"class":"Array","value":"[]","object_id":2578020,"size":0}},{"id":1295687,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914b288>"}},{"id":1295688,"event":"return","thread_id":9160,"parent_id":1295687,"elapsed":3.1070085242390633e-06,"elapsed_instrumentation":0.00010026799282059073,"return_value":{"class":"Array","value":"[]","object_id":2578040,"size":0}},{"id":1295689,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1295690,"event":"return","thread_id":9160,"parent_id":1295689,"elapsed":0.001193803,"elapsed_instrumentation":8.203499601222575e-05},{"id":1295691,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a07228>"}},{"id":1295692,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":337880,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":7160640,"value":"[i____@_\u000b\u001c_4\u0004_\u00160\u0001,i_|2_oFA___+_g\u0004]"}},{"id":1295693,"event":"return","thread_id":9160,"parent_id":1295692,"elapsed":7.075985195115209e-06,"elapsed_instrumentation":0.00014672300312668085,"return_value":{"class":"String","value":"aeG/97xAuQscmTQEghYwASxpy3wyl29GQZOMxCvbZwQ=","object_id":7160660}},{"id":1295694,"event":"return","thread_id":9160,"parent_id":1295691,"elapsed":0.00044051901204511523,"elapsed_instrumentation":0.0001687500043772161,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099e4b60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099e4ca0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099e4e58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345700,"size":3}},{"id":1295695,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05e78>"}},{"id":1295696,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1295697,"event":"return","thread_id":9160,"parent_id":1295696,"elapsed":0.000485878,"elapsed_instrumentation":8.362199878320098e-05},{"id":1295698,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1295699,"event":"return","thread_id":9160,"parent_id":1295698,"elapsed":0.001631071,"elapsed_instrumentation":7.732599624432623e-05},{"id":1295700,"event":"return","thread_id":9160,"parent_id":1295695,"elapsed":0.0025454020069446415,"elapsed_instrumentation":0.0001940969959832728,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099dc7a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dc960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dcb40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dcd20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345760,"size":4}},{"id":1295701,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05e78>"}},{"id":1295702,"event":"return","thread_id":9160,"parent_id":1295701,"elapsed":5.259993486106396e-06,"elapsed_instrumentation":0.00030113302636891603,"return_value":{"class":"Array","value":"[]","object_id":345780,"size":0}},{"id":1295703,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a07228>"}},{"id":1295704,"event":"return","thread_id":9160,"parent_id":1295703,"elapsed":5.184992915019393e-06,"elapsed_instrumentation":0.00015175301814451814,"return_value":{"class":"Array","value":"[]","object_id":345800,"size":0}},{"id":1295705,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05928>"}},{"id":1295706,"event":"return","thread_id":9160,"parent_id":1295705,"elapsed":0.00010979999206028879,"elapsed_instrumentation":0.0001586010039318353,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099d8ea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345860,"size":1}},{"id":1295707,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"oauth_access_tokens\" (\"token\", \"refresh_token\", \"expires_in\", \"revoked_at\", \"created_at\", \"scopes\", \"application_id\", \"resource_owner_id\", \"last_used_at\", \"last_used_ip\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING \"id\"","database_type":"postgres"}},{"id":1295708,"event":"return","thread_id":9160,"parent_id":1295707,"elapsed":0.001367681,"elapsed_instrumentation":0.00045797100756317377},{"id":1295709,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05928>"}},{"id":1295710,"event":"return","thread_id":9160,"parent_id":1295709,"elapsed":4.341010935604572e-06,"elapsed_instrumentation":0.00017533497884869576,"return_value":{"class":"Array","value":"[]","object_id":345880,"size":0}},{"id":1295711,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1295712,"event":"return","thread_id":9160,"parent_id":1295711,"elapsed":0.000820144,"elapsed_instrumentation":0.0001953819883055985},{"id":1295713,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a045c8>"}},{"id":1295714,"event":"return","thread_id":9160,"parent_id":1295713,"elapsed":3.6720011848956347e-06,"elapsed_instrumentation":0.00013683101860806346,"return_value":{"class":"Array","value":"[]","object_id":345960,"size":0}},{"id":1295715,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a045c8>"}},{"id":1295716,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":7160720,"value":"#<Doorkeeper::AccessToken:0x00007fdc06de9740>"}},{"id":1295717,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":7160720,"value":"#<Doorkeeper::AccessToken:0x00007fdc06de9740>"}},{"id":1295718,"event":"return","thread_id":9160,"parent_id":1295717,"elapsed":5.751993739977479e-06,"elapsed_instrumentation":0.00011860998347401619,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1295719,"event":"return","thread_id":9160,"parent_id":1295716,"elapsed":0.0009303779806941748,"elapsed_instrumentation":0.00010730998474173248,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1295720,"event":"return","thread_id":9160,"parent_id":1295715,"elapsed":0.001069242018274963,"elapsed_instrumentation":0.00017902799299918115,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099d1a38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345980,"size":1}},{"id":1295721,"event":"call","thread_id":9160,"http_server_request":{"request_method":"GET","path_info":"/api/v1/apps/verify_credentials","normalized_path_info":"/api/v1/apps/verify_credentials","headers":{"Version":"HTTP/1.0","Host":"www.example.com","Accept":"text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5","Authorization":"Bearer aeG_97xAuQscmTQEghYwASxpy3wyl29GQZOMxCvbZwQ","Content-Length":"0"}}},{"id":1295722,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":1295723,"event":"return","thread_id":9160,"parent_id":1295722,"elapsed":0.00011540699051693082,"elapsed_instrumentation":0.00017897700308822095,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0fb602e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60808 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60fd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":231360,"size":4}},{"id":1295724,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":1295725,"event":"return","thread_id":9160,"parent_id":1295724,"elapsed":3.148015821352601e-06,"elapsed_instrumentation":8.960001287050545e-05,"return_value":{"class":"Array","value":"[]","object_id":231380,"size":0}},{"id":1295726,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":7160780,"value":"_o\fC__1___/__ ?+"}},{"id":1295727,"event":"return","thread_id":9160,"parent_id":1295726,"elapsed":1.1516996892169118e-05,"elapsed_instrumentation":0.0005427419964689761,"return_value":{"class":"Array","value":"[3882814531, 38303, 12770, 40907, 12284, 4229971755]","object_id":7160800,"size":6}},{"id":1295728,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":7160840,"value":"Processing by Api::V1::Apps::CredentialsController#show as HTML\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1295729,"event":"return","thread_id":9160,"parent_id":1295728,"elapsed":0.0018561680044513196,"elapsed_instrumentation":0.00031166800181381404,"return_value":{"class":"Integer","value":"64","object_id":129}},{"id":1295730,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3776040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08c2ba50>"}},{"id":1295731,"event":"return","thread_id":9160,"parent_id":1295730,"elapsed":3.913999535143375e-06,"elapsed_instrumentation":0.00018517201533541083,"return_value":{"class":"Array","value":"[]","object_id":3776060,"size":0}},{"id":1295732,"event":"call","thread_id":9160,"defined_class":"Localized","method_id":"set_locale","path":"app/controllers/concerns/localized.rb","lineno":10,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295733,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295734,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295735,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"oauth_access_tokens\".* FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1295736,"event":"return","thread_id":9160,"parent_id":1295735,"elapsed":0.000866583,"elapsed_instrumentation":0.00014496600488200784},{"id":1295737,"event":"return","thread_id":9160,"parent_id":1295734,"elapsed":0.002700760989682749,"elapsed_instrumentation":0.00023465201957151294,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":7160900,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":1295738,"event":"return","thread_id":9160,"parent_id":1295733,"elapsed":0.003052978980122134,"elapsed_instrumentation":0.00010650200420059264},{"id":1295739,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3776140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08c2baa0>"}},{"id":1295740,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295741,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295742,"event":"return","thread_id":9160,"parent_id":1295741,"elapsed":0.0006871719961054623,"elapsed_instrumentation":0.00018248602282255888,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":7160920,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":1295743,"event":"return","thread_id":9160,"parent_id":1295740,"elapsed":0.0009024209866765887,"elapsed_instrumentation":7.47889862395823e-05},{"id":1295744,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_session","path":"app/controllers/application_controller.rb","lineno":153,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295745,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":7160940,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7160960,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09b0a4b8>"}},{"id":1295746,"event":"return","thread_id":9160,"parent_id":1295745,"elapsed":1.0065996320918202e-05,"elapsed_instrumentation":0.00017781800124794245,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09b0a4b8>","object_id":7160960}},{"id":1295747,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7160960,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09b0a4b8>"}},{"id":1295748,"event":"return","thread_id":9160,"parent_id":1295747,"elapsed":6.618007319048047e-06,"elapsed_instrumentation":0.0002518259861972183},{"id":1295749,"event":"return","thread_id":9160,"parent_id":1295744,"elapsed":0.000629381975159049,"elapsed_instrumentation":0.00010840201866813004},{"id":1295750,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"check_self_destruct!","path":"app/controllers/application_controller.rb","lineno":176,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295751,"event":"call","thread_id":9160,"defined_class":"SelfDestructHelper","method_id":"self_destruct?","path":"app/helpers/self_destruct_helper.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295752,"event":"return","thread_id":9160,"parent_id":1295751,"elapsed":1.1783005902543664e-05,"elapsed_instrumentation":8.394001633860171e-05},{"id":1295753,"event":"return","thread_id":9160,"parent_id":1295750,"elapsed":0.00012258501374162734,"elapsed_instrumentation":9.930998203344643e-05},{"id":1295754,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295755,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295756,"event":"return","thread_id":9160,"parent_id":1295755,"elapsed":0.0006768500024918467,"elapsed_instrumentation":0.0002518680121283978,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":7160980,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":1295757,"event":"return","thread_id":9160,"parent_id":1295754,"elapsed":0.0009559280006214976,"elapsed_instrumentation":6.32820010650903e-05},{"id":1295758,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"set_cache_control_defaults","path":"app/controllers/application_controller.rb","lineno":185,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295759,"event":"return","thread_id":9160,"parent_id":1295758,"elapsed":8.554983651265502e-06,"elapsed_instrumentation":0.00022267698659561574,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":7161000,"size":2}},{"id":1295760,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"update_last_used","path":"app/lib/access_token_extension.rb","lineno":16,"static":false,"parameters":[{"name":"request","class":"ActionDispatch::Request","object_id":7161020,"value":"#<ActionDispatch::Request:0x00007fdc07856a48>","kind":"req"},{"name":"clock","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Doorkeeper::AccessToken","object_id":7161040,"value":"#<Doorkeeper::AccessToken:0x00007fdc06de8700>"}},{"id":1295761,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a07228>"}},{"id":1295762,"event":"return","thread_id":9160,"parent_id":1295761,"elapsed":3.2481999369338155e-05,"elapsed_instrumentation":0.0006240620277822018,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099e4b60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099e4ca0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099e4e58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345700,"size":3}},{"id":1295763,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05e78>"}},{"id":1295764,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1295765,"event":"return","thread_id":9160,"parent_id":1295764,"elapsed":0.001336241,"elapsed_instrumentation":0.00021955199190415442},{"id":1295766,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 AND \"oauth_access_tokens\".\"id\" != $2 LIMIT $3","database_type":"postgres"}},{"id":1295767,"event":"return","thread_id":9160,"parent_id":1295766,"elapsed":0.0027515,"elapsed_instrumentation":8.714001160115004e-05},{"id":1295768,"event":"return","thread_id":9160,"parent_id":1295763,"elapsed":0.004892276978353038,"elapsed_instrumentation":0.00024707900593057275,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099dc7a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dc960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dcb40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dcd20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345760,"size":4}},{"id":1295769,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05e78>"}},{"id":1295770,"event":"return","thread_id":9160,"parent_id":1295769,"elapsed":3.8800062611699104e-06,"elapsed_instrumentation":0.00012794401845894754,"return_value":{"class":"Array","value":"[]","object_id":345780,"size":0}},{"id":1295771,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a07228>"}},{"id":1295772,"event":"return","thread_id":9160,"parent_id":1295771,"elapsed":3.5789853427559137e-06,"elapsed_instrumentation":8.131499635055661e-05,"return_value":{"class":"Array","value":"[]","object_id":345800,"size":0}},{"id":1295773,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05928>"}},{"id":1295774,"event":"return","thread_id":9160,"parent_id":1295773,"elapsed":2.680899342522025e-05,"elapsed_instrumentation":0.00010450798436067998,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099d8ea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345860,"size":1}},{"id":1295775,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"oauth_access_tokens\" SET \"last_used_at\" = $1, \"last_used_ip\" = $2 WHERE \"oauth_access_tokens\".\"id\" = $3","database_type":"postgres"}},{"id":1295776,"event":"return","thread_id":9160,"parent_id":1295775,"elapsed":0.001403083,"elapsed_instrumentation":9.854702511802316e-05},{"id":1295777,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05928>"}},{"id":1295778,"event":"return","thread_id":9160,"parent_id":1295777,"elapsed":3.6749988794326782e-06,"elapsed_instrumentation":0.0001387039665132761,"return_value":{"class":"Array","value":"[]","object_id":345880,"size":0}},{"id":1295779,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1295780,"event":"return","thread_id":9160,"parent_id":1295779,"elapsed":0.000577047,"elapsed_instrumentation":7.691298378631473e-05},{"id":1295781,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a045c8>"}},{"id":1295782,"event":"return","thread_id":9160,"parent_id":1295781,"elapsed":7.005000952631235e-06,"elapsed_instrumentation":0.00012627302203327417,"return_value":{"class":"Array","value":"[]","object_id":345960,"size":0}},{"id":1295783,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a045c8>"}},{"id":1295784,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":7161040,"value":"#<Doorkeeper::AccessToken:0x00007fdc06de8700>"}},{"id":1295785,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":7161040,"value":"#<Doorkeeper::AccessToken:0x00007fdc06de8700>"}},{"id":1295786,"event":"return","thread_id":9160,"parent_id":1295785,"elapsed":5.204987246543169e-06,"elapsed_instrumentation":0.00011084700236096978,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1295787,"event":"return","thread_id":9160,"parent_id":1295784,"elapsed":0.001104363997001201,"elapsed_instrumentation":0.00015803298447281122,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1295788,"event":"return","thread_id":9160,"parent_id":1295783,"elapsed":0.0013107389968354255,"elapsed_instrumentation":0.0005895819922443479,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099d1a38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345980,"size":1}},{"id":1295789,"event":"return","thread_id":9160,"parent_id":1295760,"elapsed":0.013484322000294924,"elapsed_instrumentation":0.00037039199378341436,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1295790,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"disallow_unauthenticated_api_access?","path":"app/controllers/api/base_controller.rb","lineno":152,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295791,"event":"return","thread_id":9160,"parent_id":1295790,"elapsed":3.196398029103875e-05,"elapsed_instrumentation":0.0003463940229266882},{"id":1295792,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"require_not_suspended!","path":"app/controllers/api/base_controller.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295793,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295794,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295795,"event":"return","thread_id":9160,"parent_id":1295794,"elapsed":0.0005037119844928384,"elapsed_instrumentation":0.00016303500160574913,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":7161140,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":1295796,"event":"return","thread_id":9160,"parent_id":1295793,"elapsed":0.0006922569882590324,"elapsed_instrumentation":6.232000305317342e-05},{"id":1295797,"event":"return","thread_id":9160,"parent_id":1295792,"elapsed":0.0007743340102024376,"elapsed_instrumentation":0.00010157600627280772},{"id":1295798,"event":"return","thread_id":9160,"parent_id":1295739,"elapsed":0.01898167299805209,"elapsed_instrumentation":0.00026873400202021003,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0916e9b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916eb48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916ee40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916efa8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916f340 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916f688 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916f7f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916f9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916fb38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916fd90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...3 more items)]","object_id":3776180,"size":13}},{"id":1295799,"event":"call","thread_id":9160,"defined_class":"Api::V1::Apps::CredentialsController","method_id":"show","path":"app/controllers/api/v1/apps/credentials_controller.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295800,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"doorkeeper_unauthorized_render_options","path":"app/controllers/api/base_controller.rb","lineno":85,"static":false,"parameters":[{"name":"error","class":"Doorkeeper::OAuth::InvalidTokenResponse","object_id":7161160,"value":"#<Doorkeeper::OAuth::InvalidTokenResponse:0x00007fdc09b06ea8>","kind":"key"}],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295801,"event":"return","thread_id":9160,"parent_id":1295800,"elapsed":1.3762997696176171e-05,"elapsed_instrumentation":0.0003757250087801367,"return_value":{"class":"Hash","value":"{:json=>{:error=>The access token was revoked}}","object_id":7161180,"size":1}},{"id":1295802,"event":"call","thread_id":9160,"defined_class":"ActionController::Renderers","method_id":"render_to_body","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb","lineno":140,"static":false,"parameters":[{"name":"options","class":"Hash","object_id":7161180,"value":"{:json=>{:error=>The access token was revoked}, :status=>401, :prefixes=>[api/v1/apps/credentials, api/base, application], :template=>show, :layout=>}","kind":"req","size":5}],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295803,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295804,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295805,"event":"return","thread_id":9160,"parent_id":1295804,"elapsed":0.000646233995212242,"elapsed_instrumentation":0.00016880600014701486,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":7161200,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":1295806,"event":"return","thread_id":9160,"parent_id":1295803,"elapsed":0.000841203989693895,"elapsed_instrumentation":7.059899508021772e-05},{"id":1295807,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1295808,"event":"return","thread_id":9160,"parent_id":1295807,"elapsed":3.708992153406143e-06,"elapsed_instrumentation":0.00011476999497972429,"return_value":{"class":"Array","value":"[]","object_id":211300,"size":0}},{"id":1295809,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1295810,"event":"return","thread_id":9160,"parent_id":1295809,"elapsed":6.097980076447129e-06,"elapsed_instrumentation":0.00017582502914592624,"return_value":{"class":"Array","value":"[]","object_id":211340,"size":0}},{"id":1295811,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":7161240,"value":"{error=>The access token was revoked}","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":7161260,"value":"#<JSON::Ext::Generator::State:0x00007fdc090cf660>"}},{"id":1295812,"event":"return","thread_id":9160,"parent_id":1295811,"elapsed":7.481023203581572e-06,"elapsed_instrumentation":0.0001275379618164152,"return_value":{"class":"String","value":"{\"error\":\"The access token was revoked\"}","object_id":7161280}},{"id":1295813,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1295814,"event":"return","thread_id":9160,"parent_id":1295813,"elapsed":3.303983248770237e-06,"elapsed_instrumentation":8.670202805660665e-05,"return_value":{"class":"Array","value":"[]","object_id":215680,"size":0}},{"id":1295815,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1295816,"event":"return","thread_id":9160,"parent_id":1295815,"elapsed":4.761997843161225e-06,"elapsed_instrumentation":0.0001295050315093249,"return_value":{"class":"Array","value":"[]","object_id":215700,"size":0}},{"id":1295817,"event":"return","thread_id":9160,"parent_id":1295802,"elapsed":0.0024611639964859933,"elapsed_instrumentation":0.0002510239719413221,"return_value":{"class":"String","value":"{\"error\":\"The access token was revoked\"}","object_id":7161280}},{"id":1295818,"event":"return","thread_id":9160,"parent_id":1295799,"elapsed":0.003539721976267174,"elapsed_instrumentation":9.133099229075015e-05,"return_value":{"class":"String","value":"{\"error\":\"The access token was revoked\"}","object_id":7161280}},{"id":1295819,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3776140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08c2baa0>"}},{"id":1295820,"event":"call","thread_id":9160,"defined_class":"CacheConcern","method_id":"enforce_cache_control!","path":"app/controllers/concerns/cache_concern.rb","lineno":165,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7160880,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc07856908>"}},{"id":1295821,"event":"return","thread_id":9160,"parent_id":1295820,"elapsed":3.554401337169111e-05,"elapsed_instrumentation":0.00013944398961029947,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":7161000,"size":2}},{"id":1295822,"event":"return","thread_id":9160,"parent_id":1295819,"elapsed":0.00023999001132324338,"elapsed_instrumentation":0.0001615180226508528,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09150238 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916ecb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":3776300,"size":2}},{"id":1295823,"event":"return","thread_id":9160,"parent_id":1295732,"elapsed":0.027003650000551715,"elapsed_instrumentation":0.00020025399862788618,"return_value":{"class":"String","value":"{\"error\":\"The access token was revoked\"}","object_id":7161280}},{"id":1295824,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7160860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3776040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08c2ba50>"}},{"id":1295825,"event":"return","thread_id":9160,"parent_id":1295824,"elapsed":3.901019226759672e-06,"elapsed_instrumentation":8.501499542035162e-05,"return_value":{"class":"Array","value":"[]","object_id":3776320,"size":0}},{"id":1295826,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":7161300,"value":"Completed 401 Unauthorized in 29ms (Views: 2.8ms | ActiveRecord: 6.9ms | Allocations: 6858)\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1295827,"event":"return","thread_id":9160,"parent_id":1295826,"elapsed":0.0011963860015384853,"elapsed_instrumentation":0.0001744370092637837,"return_value":{"class":"Integer","value":"92","object_id":185}},{"id":1295828,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1295829,"event":"return","thread_id":9160,"parent_id":1295828,"elapsed":3.862020093947649e-06,"elapsed_instrumentation":0.0001380469766445458,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1295830,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":337880,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":7161320,"value":"[yW_cy^q[\u0000__1@__x]"}},{"id":1295831,"event":"return","thread_id":9160,"parent_id":1295830,"elapsed":7.199996616691351e-06,"elapsed_instrumentation":0.00020120100816711783,"return_value":{"class":"String","value":"eVetY3lecVsAlqIxQNGjeA==","object_id":7161340}},{"id":1295832,"event":"call","thread_id":9160,"defined_class":"Chewy::Strategy::Mastodon","method_id":"leave","path":"lib/chewy/strategy/mastodon.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Chewy::Strategy::Mastodon","object_id":7161360,"value":"#<Chewy::Strategy::Mastodon:0x00007fdc089d1098>"}},{"id":1295833,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":7161380,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":7161400,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1295834,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1295835,"event":"return","thread_id":9160,"parent_id":1295834,"elapsed":4.356988938525319e-06,"elapsed_instrumentation":0.0003218800120521337,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1295836,"event":"return","thread_id":9160,"parent_id":1295833,"elapsed":0.0004864250076934695,"elapsed_instrumentation":0.00021205900702625513,"return_value":{"class":"Array","value":"[]","object_id":7161420,"size":0}},{"id":1295837,"event":"return","thread_id":9160,"parent_id":1295832,"elapsed":0.0007361629977822304,"elapsed_instrumentation":0.0001378060260321945,"return_value":{"class":"Array","value":"[]","object_id":7161420,"size":0}},{"id":1295838,"event":"return","thread_id":9160,"parent_id":1295721,"elapsed":0.04758121698978357,"elapsed_instrumentation":0.0011103620054200292,"return_value":{"class":"Hash","value":"{error=>The access token was revoked}","object_id":7161460,"size":1,"properties":[{"name":"error","class":"String"}]},"http_server_response":{"status_code":401,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Vary":"Authorization","Cache-Control":"private, no-store","WWW-Authenticate":"Bearer realm=\"Doorkeeper\", error=\"invalid_token\", error_description=\"The access token was revoked\"","Content-Type":"application/json; charset=utf-8","Content-Security-Policy":"default-src 'none'; frame-ancestors 'none'; form-action 'none'","X-Request-Id":"e76f0c43-959f-41e2-9fcb-2ffcfc203f2b","X-Runtime":"0.047089"}}},{"id":1295839,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":1295840,"event":"return","thread_id":9160,"parent_id":1295839,"elapsed":0.0004540270019788295,"elapsed_instrumentation":0.0002683789934962988,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca3bb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3cf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3f00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca48b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":338500,"size":4}},{"id":1295841,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":1295842,"event":"return","thread_id":9160,"parent_id":1295841,"elapsed":3.2700190786272287e-06,"elapsed_instrumentation":0.00010521902004256845,"return_value":{"class":"Array","value":"[]","object_id":338520,"size":0}},{"id":1295843,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":7161520,"value":"#<JSON::Ext::Parser:0x00007fdc09189678>"}},{"id":1295844,"event":"return","thread_id":9160,"parent_id":1295843,"elapsed":9.095005225390196e-06,"elapsed_instrumentation":0.00011753395665436983,"return_value":{"class":"Hash","value":"{:error=>The access token was revoked}","object_id":7161540,"size":1}}]}