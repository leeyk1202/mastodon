{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Credentials GET /api/v1/apps/verify_credentials with a revoked oauth token returns http authorization error","source_location":"spec/requests/api/v1/apps/credentials_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]},{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]}]},{"name":"app","type":"package","children":[{"name":"validators","type":"package","children":[{"name":"URLValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"app/validators/url_validator.rb:6","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"AccessTokenExtension","type":"class","children":[{"name":"push_to_streaming_api","type":"function","location":"app/lib/access_token_extension.rb:20","static":false},{"name":"update_last_used","type":"function","location":"app/lib/access_token_extension.rb:16","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true},{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true}]}]},{"name":"models/concerns","type":"package","children":[{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]}]},{"name":"controllers","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"Localized","type":"class","children":[{"name":"set_locale","type":"function","location":"app/controllers/concerns/localized.rb:10","static":false}]},{"name":"CacheConcern","type":"class","children":[{"name":"enforce_cache_control!","type":"function","location":"app/controllers/concerns/cache_concern.rb:165","static":false}]}]},{"name":"api","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"BaseController","type":"class","children":[{"name":"current_user","type":"function","location":"app/controllers/api/base_controller.rb:116","static":false},{"name":"current_resource_owner","type":"function","location":"app/controllers/api/base_controller.rb:112","static":false},{"name":"disallow_unauthenticated_api_access?","type":"function","location":"app/controllers/api/base_controller.rb:152","static":false},{"name":"require_not_suspended!","type":"function","location":"app/controllers/api/base_controller.rb:126","static":false},{"name":"doorkeeper_unauthorized_render_options","type":"function","location":"app/controllers/api/base_controller.rb:85","static":false}]}]},{"name":"v1/apps","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"V1","type":"class","children":[{"name":"Apps","type":"class","children":[{"name":"CredentialsController","type":"class","children":[{"name":"show","type":"function","location":"app/controllers/api/v1/apps/credentials_controller.rb:4","static":false}]}]}]}]}]}]},{"name":"ApplicationController","type":"class","children":[{"name":"current_session","type":"function","location":"app/controllers/application_controller.rb:153","static":false},{"name":"check_self_destruct!","type":"function","location":"app/controllers/application_controller.rb:176","static":false},{"name":"set_cache_control_defaults","type":"function","location":"app/controllers/application_controller.rb:185","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"SelfDestructHelper","type":"class","children":[{"name":"self_destruct?","type":"function","location":"app/helpers/self_destruct_helper.rb:11","static":false}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]},{"name":"ActionController","type":"class","children":[{"name":"Renderers","type":"class","children":[{"name":"render_to_body","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb:140","static":false,"labels":["mvc.render"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]}]}]}]},{"name":"lib/chewy/strategy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"Strategy","type":"class","children":[{"name":"Mastodon","type":"class","children":[{"name":"leave","type":"function","location":"lib/chewy/strategy/mastodon.rb:16","static":false}]}]}]}]}],"events":[{"id":1295845,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914cd18>"}},{"id":1295846,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":337880,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":7161580,"value":"[_)_;[___V_eK_1__v_8tu(K\u0017k\u0004-__\u000b__]"}},{"id":1295847,"event":"return","thread_id":9160,"parent_id":1295846,"elapsed":1.1302996426820755e-05,"elapsed_instrumentation":0.0003094480198342353,"return_value":{"class":"String","value":"pSnKO1vDm7pWxGVL2DGb3HbdOHR1KEsXawQtyfMLnIY=","object_id":7161600}},{"id":1295848,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":337880,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":7161620,"value":"[__R__\u0010\u0017___\u0001_\u0018_\u000e_0/W2__d\u000f______]"}},{"id":1295849,"event":"return","thread_id":9160,"parent_id":1295848,"elapsed":7.29499151930213e-06,"elapsed_instrumentation":0.00013837599544785917,"return_value":{"class":"String","value":"oX/iUvj5EBeirpMBwX8Y0A6+MC9XMrXJZA/uj8uY4KA=","object_id":7161640}},{"id":1295850,"event":"return","thread_id":9160,"parent_id":1295845,"elapsed":0.0007793080003466457,"elapsed_instrumentation":0.0002797720080707222,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc084ff650 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084ff790 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084ff948 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2577720,"size":3}},{"id":1295851,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914cae8>"}},{"id":1295852,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1295853,"event":"return","thread_id":9160,"parent_id":1295852,"elapsed":0.000971162,"elapsed_instrumentation":0.00014413800090551376},{"id":1295854,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_applications\" WHERE \"oauth_applications\".\"uid\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1295855,"event":"return","thread_id":9160,"parent_id":1295854,"elapsed":0.002312831,"elapsed_instrumentation":0.00012709302245639265},{"id":1295856,"event":"call","thread_id":9160,"defined_class":"URLValidator","method_id":"validate_each","path":"app/validators/url_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"Doorkeeper::Application","object_id":7161680,"value":"#<Doorkeeper::Application:0x00007fdc06de5f00>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":12416668,"value":":website","kind":"req"},{"name":"value","class":"String","object_id":7161700,"value":"http://example.com","kind":"req"}],"receiver":{"class":"URLValidator","object_id":4476740,"value":"#<URLValidator:0x00007fdc1699eb08>"}},{"id":1295857,"event":"return","thread_id":9160,"parent_id":1295856,"elapsed":0.00038994901115074754,"elapsed_instrumentation":0.0006013500096742064},{"id":1295858,"event":"return","thread_id":9160,"parent_id":1295851,"elapsed":0.006310205004410818,"elapsed_instrumentation":0.0003629070124588907,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc084fc338 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fc4f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fc630 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fc770 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fc950 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fcb30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fcd10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fcef0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fd0a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084fd1e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...6 more items)]","object_id":2577780,"size":16}},{"id":1295859,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914cae8>"}},{"id":1295860,"event":"return","thread_id":9160,"parent_id":1295859,"elapsed":6.054004188627005e-06,"elapsed_instrumentation":0.00017801497597247362,"return_value":{"class":"Array","value":"[]","object_id":2577800,"size":0}},{"id":1295861,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914cd18>"}},{"id":1295862,"event":"return","thread_id":9160,"parent_id":1295861,"elapsed":2.144399331882596e-05,"elapsed_instrumentation":0.00027238400070928037,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc084ff510 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2577820,"size":1}},{"id":1295863,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914b288>"}},{"id":1295864,"event":"return","thread_id":9160,"parent_id":1295863,"elapsed":2.911098999902606e-05,"elapsed_instrumentation":0.00016259102267213166,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc084f59e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2577880,"size":1}},{"id":1295865,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914b418>"}},{"id":1295866,"event":"return","thread_id":9160,"parent_id":1295865,"elapsed":4.695000825449824e-06,"elapsed_instrumentation":0.00011647996143437922,"return_value":{"class":"Array","value":"[]","object_id":2577920,"size":0}},{"id":1295867,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914b148>"}},{"id":1295868,"event":"return","thread_id":9160,"parent_id":1295867,"elapsed":2.91600008495152e-06,"elapsed_instrumentation":0.00011335898307152092,"return_value":{"class":"Array","value":"[]","object_id":2577980,"size":0}},{"id":1295869,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"oauth_applications\" (\"name\", \"uid\", \"secret\", \"redirect_uri\", \"scopes\", \"created_at\", \"updated_at\", \"superapp\", \"website\", \"owner_type\", \"owner_id\", \"confidential\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":1295870,"event":"return","thread_id":9160,"parent_id":1295869,"elapsed":0.001670832,"elapsed_instrumentation":0.00018514200928620994},{"id":1295871,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914b148>"}},{"id":1295872,"event":"return","thread_id":9160,"parent_id":1295871,"elapsed":0.0004238150140736252,"elapsed_instrumentation":0.00037418596912175417,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc084f48e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084f4728 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084f4570 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084f43b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc084f4200 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2578000,"size":5}},{"id":1295873,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914b418>"}},{"id":1295874,"event":"return","thread_id":9160,"parent_id":1295873,"elapsed":6.4150081016123295e-06,"elapsed_instrumentation":0.00020293297711759806,"return_value":{"class":"Array","value":"[]","object_id":2578020,"size":0}},{"id":1295875,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2577860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0914b288>"}},{"id":1295876,"event":"return","thread_id":9160,"parent_id":1295875,"elapsed":5.214998964220285e-06,"elapsed_instrumentation":0.00042323803063482046,"return_value":{"class":"Array","value":"[]","object_id":2578040,"size":0}},{"id":1295877,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1295878,"event":"return","thread_id":9160,"parent_id":1295877,"elapsed":0.00103164,"elapsed_instrumentation":0.00026110801263712347},{"id":1295879,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a07228>"}},{"id":1295880,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":337880,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":7161780,"value":"[\t\fP_E_:lHF_2_S___j__Q\n_e8.b_^___]"}},{"id":1295881,"event":"return","thread_id":9160,"parent_id":1295880,"elapsed":1.1953001376241446e-05,"elapsed_instrumentation":0.00019875899306498468,"return_value":{"class":"String","value":"CQxQo0X5OmxIRpAyuFOowfNqxIZRCuFlOC5iol70rfE=","object_id":7161800}},{"id":1295882,"event":"return","thread_id":9160,"parent_id":1295879,"elapsed":0.0005837729841005057,"elapsed_instrumentation":0.0004450489941518754,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099e4b60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099e4ca0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099e4e58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345700,"size":3}},{"id":1295883,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05e78>"}},{"id":1295884,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1295885,"event":"return","thread_id":9160,"parent_id":1295884,"elapsed":0.000707922,"elapsed_instrumentation":0.0001457089965697378},{"id":1295886,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1295887,"event":"return","thread_id":9160,"parent_id":1295886,"elapsed":0.002810109,"elapsed_instrumentation":0.00014823197852820158},{"id":1295888,"event":"return","thread_id":9160,"parent_id":1295883,"elapsed":0.0043995150190312415,"elapsed_instrumentation":0.0004738479619845748,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099dc7a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dc960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dcb40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dcd20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345760,"size":4}},{"id":1295889,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05e78>"}},{"id":1295890,"event":"return","thread_id":9160,"parent_id":1295889,"elapsed":6.941001629456878e-06,"elapsed_instrumentation":0.00041038100607693195,"return_value":{"class":"Array","value":"[]","object_id":345780,"size":0}},{"id":1295891,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a07228>"}},{"id":1295892,"event":"return","thread_id":9160,"parent_id":1295891,"elapsed":5.8470177464187145e-06,"elapsed_instrumentation":0.0001935649779625237,"return_value":{"class":"Array","value":"[]","object_id":345800,"size":0}},{"id":1295893,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05928>"}},{"id":1295894,"event":"return","thread_id":9160,"parent_id":1295893,"elapsed":0.000129471009131521,"elapsed_instrumentation":0.0004971579764969647,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099d8ea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345860,"size":1}},{"id":1295895,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"oauth_access_tokens\" (\"token\", \"refresh_token\", \"expires_in\", \"revoked_at\", \"created_at\", \"scopes\", \"application_id\", \"resource_owner_id\", \"last_used_at\", \"last_used_ip\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING \"id\"","database_type":"postgres"}},{"id":1295896,"event":"return","thread_id":9160,"parent_id":1295895,"elapsed":0.001626901,"elapsed_instrumentation":0.0001272369991056621},{"id":1295897,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05928>"}},{"id":1295898,"event":"return","thread_id":9160,"parent_id":1295897,"elapsed":5.5209966376423836e-06,"elapsed_instrumentation":0.00026831499417312443,"return_value":{"class":"Array","value":"[]","object_id":345880,"size":0}},{"id":1295899,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1295900,"event":"return","thread_id":9160,"parent_id":1295899,"elapsed":0.00057494,"elapsed_instrumentation":0.00010370701784268022},{"id":1295901,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a045c8>"}},{"id":1295902,"event":"return","thread_id":9160,"parent_id":1295901,"elapsed":6.098009180277586e-06,"elapsed_instrumentation":0.0001683930167928338,"return_value":{"class":"Array","value":"[]","object_id":345960,"size":0}},{"id":1295903,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a045c8>"}},{"id":1295904,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":7161860,"value":"#<Doorkeeper::AccessToken:0x00007fdc06de53c0>"}},{"id":1295905,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":7161860,"value":"#<Doorkeeper::AccessToken:0x00007fdc06de53c0>"}},{"id":1295906,"event":"return","thread_id":9160,"parent_id":1295905,"elapsed":4.695990355685353e-06,"elapsed_instrumentation":8.269798127003014e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1295907,"event":"return","thread_id":9160,"parent_id":1295904,"elapsed":0.0011924550053663552,"elapsed_instrumentation":0.00015725797857157886,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1295908,"event":"return","thread_id":9160,"parent_id":1295903,"elapsed":0.00139160398975946,"elapsed_instrumentation":0.0001724689791444689,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099d1a38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345980,"size":1}},{"id":1295909,"event":"call","thread_id":9160,"http_server_request":{"request_method":"GET","path_info":"/api/v1/apps/verify_credentials","normalized_path_info":"/api/v1/apps/verify_credentials","headers":{"Version":"HTTP/1.0","Host":"www.example.com","Accept":"text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5","Authorization":"Bearer CQxQo0X5OmxIRpAyuFOowfNqxIZRCuFlOC5iol70rfE","Content-Length":"0"}}},{"id":1295910,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":1295911,"event":"return","thread_id":9160,"parent_id":1295910,"elapsed":0.00020968998433090746,"elapsed_instrumentation":0.0003838620032183826,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0fb602e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60808 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60fd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":231360,"size":4}},{"id":1295912,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7161900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":1295913,"event":"return","thread_id":9160,"parent_id":1295912,"elapsed":7.733004167675972e-06,"elapsed_instrumentation":0.00048119097482413054,"return_value":{"class":"Array","value":"[]","object_id":231380,"size":0}},{"id":1295914,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":7161920,"value":"\u0000_I___t___|)g__"}},{"id":1295915,"event":"return","thread_id":9160,"parent_id":1295914,"elapsed":1.2477976270020008e-05,"elapsed_instrumentation":0.00033239900949411094,"return_value":{"class":"Array","value":"[16482121, 45484, 44660, 45217, 43388, 694660078]","object_id":7161940,"size":6}},{"id":1295916,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":7161980,"value":"Processing by Api::V1::Apps::CredentialsController#show as HTML\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1295917,"event":"return","thread_id":9160,"parent_id":1295916,"elapsed":0.017634975985856727,"elapsed_instrumentation":0.0003147129900753498,"return_value":{"class":"Integer","value":"64","object_id":129}},{"id":1295918,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3776040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08c2ba50>"}},{"id":1295919,"event":"return","thread_id":9160,"parent_id":1295918,"elapsed":4.731002263724804e-06,"elapsed_instrumentation":0.00022082097711972892,"return_value":{"class":"Array","value":"[]","object_id":3776060,"size":0}},{"id":1295920,"event":"call","thread_id":9160,"defined_class":"Localized","method_id":"set_locale","path":"app/controllers/concerns/localized.rb","lineno":10,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295921,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295922,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295923,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"oauth_access_tokens\".* FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1295924,"event":"return","thread_id":9160,"parent_id":1295923,"elapsed":0.000964319,"elapsed_instrumentation":0.00016137099009938538},{"id":1295925,"event":"return","thread_id":9160,"parent_id":1295922,"elapsed":0.003208988986443728,"elapsed_instrumentation":0.00021025000023655593,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":7162040,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":1295926,"event":"return","thread_id":9160,"parent_id":1295921,"elapsed":0.00345422700047493,"elapsed_instrumentation":7.852597627788782e-05},{"id":1295927,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3776140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08c2baa0>"}},{"id":1295928,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295929,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295930,"event":"return","thread_id":9160,"parent_id":1295929,"elapsed":0.0003916319983545691,"elapsed_instrumentation":0.0003423779853619635,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":7162060,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":1295931,"event":"return","thread_id":9160,"parent_id":1295928,"elapsed":0.000773423002101481,"elapsed_instrumentation":8.284699288196862e-05},{"id":1295932,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_session","path":"app/controllers/application_controller.rb","lineno":153,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295933,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":7162080,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7162100,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09bc0880>"}},{"id":1295934,"event":"return","thread_id":9160,"parent_id":1295933,"elapsed":7.5160060077905655e-06,"elapsed_instrumentation":0.00010879000183194876,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09bc0880>","object_id":7162100}},{"id":1295935,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7162100,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc09bc0880>"}},{"id":1295936,"event":"return","thread_id":9160,"parent_id":1295935,"elapsed":6.084999768063426e-06,"elapsed_instrumentation":9.45060164667666e-05},{"id":1295937,"event":"return","thread_id":9160,"parent_id":1295932,"elapsed":0.0003475559933576733,"elapsed_instrumentation":7.543902029283345e-05},{"id":1295938,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"check_self_destruct!","path":"app/controllers/application_controller.rb","lineno":176,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295939,"event":"call","thread_id":9160,"defined_class":"SelfDestructHelper","method_id":"self_destruct?","path":"app/helpers/self_destruct_helper.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295940,"event":"return","thread_id":9160,"parent_id":1295939,"elapsed":1.033698208630085e-05,"elapsed_instrumentation":5.9493992011994123e-05},{"id":1295941,"event":"return","thread_id":9160,"parent_id":1295938,"elapsed":9.57589945755899e-05,"elapsed_instrumentation":9.310600580647588e-05},{"id":1295942,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295943,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295944,"event":"return","thread_id":9160,"parent_id":1295943,"elapsed":0.00044811697443947196,"elapsed_instrumentation":0.00017512301565147936,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":7162120,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":1295945,"event":"return","thread_id":9160,"parent_id":1295942,"elapsed":0.0006509269878733903,"elapsed_instrumentation":5.761900683864951e-05},{"id":1295946,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"set_cache_control_defaults","path":"app/controllers/application_controller.rb","lineno":185,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295947,"event":"return","thread_id":9160,"parent_id":1295946,"elapsed":4.966015694662929e-06,"elapsed_instrumentation":0.00011990897473879158,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":7162140,"size":2}},{"id":1295948,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"update_last_used","path":"app/lib/access_token_extension.rb","lineno":16,"static":false,"parameters":[{"name":"request","class":"ActionDispatch::Request","object_id":7162160,"value":"#<ActionDispatch::Request:0x00007fdc079062e0>","kind":"req"},{"name":"clock","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Doorkeeper::AccessToken","object_id":7162180,"value":"#<Doorkeeper::AccessToken:0x00007fdc06de4880>"}},{"id":1295949,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a07228>"}},{"id":1295950,"event":"return","thread_id":9160,"parent_id":1295949,"elapsed":3.322400152683258e-05,"elapsed_instrumentation":0.00020815699826925993,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099e4b60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099e4ca0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099e4e58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345700,"size":3}},{"id":1295951,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05e78>"}},{"id":1295952,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1295953,"event":"return","thread_id":9160,"parent_id":1295952,"elapsed":0.000635973,"elapsed_instrumentation":0.0002647420042194426},{"id":1295954,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 AND \"oauth_access_tokens\".\"id\" != $2 LIMIT $3","database_type":"postgres"}},{"id":1295955,"event":"return","thread_id":9160,"parent_id":1295954,"elapsed":0.00196371,"elapsed_instrumentation":0.00012201399658806622},{"id":1295956,"event":"return","thread_id":9160,"parent_id":1295951,"elapsed":0.0046806879981886595,"elapsed_instrumentation":0.00022147700656205416,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099dc7a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dc960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dcb40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc099dcd20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345760,"size":4}},{"id":1295957,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05e78>"}},{"id":1295958,"event":"return","thread_id":9160,"parent_id":1295957,"elapsed":4.35599940828979e-06,"elapsed_instrumentation":0.000126972037833184,"return_value":{"class":"Array","value":"[]","object_id":345780,"size":0}},{"id":1295959,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a07228>"}},{"id":1295960,"event":"return","thread_id":9160,"parent_id":1295959,"elapsed":2.5999906938523054e-06,"elapsed_instrumentation":8.66670161485672e-05,"return_value":{"class":"Array","value":"[]","object_id":345800,"size":0}},{"id":1295961,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05928>"}},{"id":1295962,"event":"return","thread_id":9160,"parent_id":1295961,"elapsed":2.8879992896690965e-05,"elapsed_instrumentation":0.00017568602925166488,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099d8ea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345860,"size":1}},{"id":1295963,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"oauth_access_tokens\" SET \"last_used_at\" = $1, \"last_used_ip\" = $2 WHERE \"oauth_access_tokens\".\"id\" = $3","database_type":"postgres"}},{"id":1295964,"event":"return","thread_id":9160,"parent_id":1295963,"elapsed":0.001536927,"elapsed_instrumentation":0.00012597101158462465},{"id":1295965,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a05928>"}},{"id":1295966,"event":"return","thread_id":9160,"parent_id":1295965,"elapsed":6.339018000289798e-06,"elapsed_instrumentation":0.00031058696913532913,"return_value":{"class":"Array","value":"[]","object_id":345880,"size":0}},{"id":1295967,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1295968,"event":"return","thread_id":9160,"parent_id":1295967,"elapsed":0.000666354,"elapsed_instrumentation":0.00010654600919224322},{"id":1295969,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a045c8>"}},{"id":1295970,"event":"return","thread_id":9160,"parent_id":1295969,"elapsed":1.8171005649492145e-05,"elapsed_instrumentation":0.00016321300063282251,"return_value":{"class":"Array","value":"[]","object_id":345960,"size":0}},{"id":1295971,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":345940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a045c8>"}},{"id":1295972,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":7162180,"value":"#<Doorkeeper::AccessToken:0x00007fdc06de4880>"}},{"id":1295973,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":7162180,"value":"#<Doorkeeper::AccessToken:0x00007fdc06de4880>"}},{"id":1295974,"event":"return","thread_id":9160,"parent_id":1295973,"elapsed":5.865003913640976e-06,"elapsed_instrumentation":0.00016176301869563758,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1295975,"event":"return","thread_id":9160,"parent_id":1295972,"elapsed":0.0013520689972210675,"elapsed_instrumentation":0.0001421240158379078,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1295976,"event":"return","thread_id":9160,"parent_id":1295971,"elapsed":0.001534067007014528,"elapsed_instrumentation":0.00025030598044395447,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc099d1a38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":345980,"size":1}},{"id":1295977,"event":"return","thread_id":9160,"parent_id":1295948,"elapsed":0.013732063001953065,"elapsed_instrumentation":0.0001413589925505221,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1295978,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"disallow_unauthenticated_api_access?","path":"app/controllers/api/base_controller.rb","lineno":152,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295979,"event":"return","thread_id":9160,"parent_id":1295978,"elapsed":2.544099697843194e-05,"elapsed_instrumentation":0.00013631800538860261},{"id":1295980,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"require_not_suspended!","path":"app/controllers/api/base_controller.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295981,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295982,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295983,"event":"return","thread_id":9160,"parent_id":1295982,"elapsed":0.0005182549939490855,"elapsed_instrumentation":0.00047998499940149486,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":7162280,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":1295984,"event":"return","thread_id":9160,"parent_id":1295981,"elapsed":0.0010423150088172406,"elapsed_instrumentation":0.0001407889649271965},{"id":1295985,"event":"return","thread_id":9160,"parent_id":1295980,"elapsed":0.0014017159992363304,"elapsed_instrumentation":0.00010469698463566601},{"id":1295986,"event":"return","thread_id":9160,"parent_id":1295927,"elapsed":0.01845701999263838,"elapsed_instrumentation":0.00046261001261882484,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0916e9b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916eb48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916ee40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916efa8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916f340 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916f688 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916f7f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916f9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916fb38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916fd90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...3 more items)]","object_id":3776180,"size":13}},{"id":1295987,"event":"call","thread_id":9160,"defined_class":"Api::V1::Apps::CredentialsController","method_id":"show","path":"app/controllers/api/v1/apps/credentials_controller.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295988,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"doorkeeper_unauthorized_render_options","path":"app/controllers/api/base_controller.rb","lineno":85,"static":false,"parameters":[{"name":"error","class":"Doorkeeper::OAuth::InvalidTokenResponse","object_id":7162300,"value":"#<Doorkeeper::OAuth::InvalidTokenResponse:0x00007fdc09c1b690>","kind":"key"}],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295989,"event":"return","thread_id":9160,"parent_id":1295988,"elapsed":2.0679988665506244e-05,"elapsed_instrumentation":0.00040747300954535604,"return_value":{"class":"Hash","value":"{:json=>{:error=>The access token was revoked}}","object_id":7162320,"size":1}},{"id":1295990,"event":"call","thread_id":9160,"defined_class":"ActionController::Renderers","method_id":"render_to_body","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb","lineno":140,"static":false,"parameters":[{"name":"options","class":"Hash","object_id":7162320,"value":"{:json=>{:error=>The access token was revoked}, :status=>401, :prefixes=>[api/v1/apps/credentials, api/base, application], :template=>show, :layout=>}","kind":"req","size":5}],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295991,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295992,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1295993,"event":"return","thread_id":9160,"parent_id":1295992,"elapsed":0.0006422669976018369,"elapsed_instrumentation":0.00023723600315861404,"exceptions":[{"class":"ActiveRecord::RecordNotFound","message":"Couldn't find User without an ID","object_id":7162340,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activerecord-7.1.1/lib/active_record/relation/finder_methods.rb","lineno":497}]},{"id":1295994,"event":"return","thread_id":9160,"parent_id":1295991,"elapsed":0.0009260310034733266,"elapsed_instrumentation":0.00010314799146726727},{"id":1295995,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1295996,"event":"return","thread_id":9160,"parent_id":1295995,"elapsed":8.453993359580636e-06,"elapsed_instrumentation":0.0003892490058206022,"return_value":{"class":"Array","value":"[]","object_id":211300,"size":0}},{"id":1295997,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1295998,"event":"return","thread_id":9160,"parent_id":1295997,"elapsed":4.197005182504654e-06,"elapsed_instrumentation":0.00021182800992392004,"return_value":{"class":"Array","value":"[]","object_id":211340,"size":0}},{"id":1295999,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":7162380,"value":"{error=>The access token was revoked}","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":7162400,"value":"#<JSON::Ext::Generator::State:0x00007fdc09d31bd8>"}},{"id":1296000,"event":"return","thread_id":9160,"parent_id":1295999,"elapsed":1.6574980691075325e-05,"elapsed_instrumentation":0.0004756650305353105,"return_value":{"class":"String","value":"{\"error\":\"The access token was revoked\"}","object_id":7162420}},{"id":1296001,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1296002,"event":"return","thread_id":9160,"parent_id":1296001,"elapsed":7.115973858162761e-06,"elapsed_instrumentation":0.0002053620119113475,"return_value":{"class":"Array","value":"[]","object_id":215680,"size":0}},{"id":1296003,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1296004,"event":"return","thread_id":9160,"parent_id":1296003,"elapsed":4.861998604610562e-06,"elapsed_instrumentation":0.0002198810107074678,"return_value":{"class":"Array","value":"[]","object_id":215700,"size":0}},{"id":1296005,"event":"return","thread_id":9160,"parent_id":1295990,"elapsed":0.003746722999494523,"elapsed_instrumentation":0.0006227380072232336,"return_value":{"class":"String","value":"{\"error\":\"The access token was revoked\"}","object_id":7162420}},{"id":1296006,"event":"return","thread_id":9160,"parent_id":1295987,"elapsed":0.005756754981121048,"elapsed_instrumentation":0.0003071559767704457,"return_value":{"class":"String","value":"{\"error\":\"The access token was revoked\"}","object_id":7162420}},{"id":1296007,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3776140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08c2baa0>"}},{"id":1296008,"event":"call","thread_id":9160,"defined_class":"CacheConcern","method_id":"enforce_cache_control!","path":"app/controllers/concerns/cache_concern.rb","lineno":165,"static":false,"parameters":[],"receiver":{"class":"Api::V1::Apps::CredentialsController","object_id":7162020,"value":"#<Api::V1::Apps::CredentialsController:0x00007fdc079061a0>"}},{"id":1296009,"event":"return","thread_id":9160,"parent_id":1296008,"elapsed":4.236798849888146e-05,"elapsed_instrumentation":0.00011783899390138686,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":7162140,"size":2}},{"id":1296010,"event":"return","thread_id":9160,"parent_id":1296007,"elapsed":0.00021385500440374017,"elapsed_instrumentation":0.0001415839942637831,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09150238 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0916ecb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":3776300,"size":2}},{"id":1296011,"event":"return","thread_id":9160,"parent_id":1295920,"elapsed":0.029669242998352274,"elapsed_instrumentation":0.0003623919910751283,"return_value":{"class":"String","value":"{\"error\":\"The access token was revoked\"}","object_id":7162420}},{"id":1296012,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3776040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08c2ba50>"}},{"id":1296013,"event":"return","thread_id":9160,"parent_id":1296012,"elapsed":4.795001586899161e-06,"elapsed_instrumentation":0.0004498280177358538,"return_value":{"class":"Array","value":"[]","object_id":3776320,"size":0}},{"id":1296014,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":7162440,"value":"Completed 401 Unauthorized in 32ms (Views: 4.5ms | ActiveRecord: 5.7ms | Allocations: 6853)\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1296015,"event":"return","thread_id":9160,"parent_id":1296014,"elapsed":0.0013205290015321225,"elapsed_instrumentation":0.00016632501501590014,"return_value":{"class":"Integer","value":"92","object_id":185}},{"id":1296016,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1296017,"event":"return","thread_id":9160,"parent_id":1296016,"elapsed":3.7800054997205734e-06,"elapsed_instrumentation":0.00011192797683179379,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1296018,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":337880,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":7162460,"value":"[_z_Y_S___\fB_w__F]"}},{"id":1296019,"event":"return","thread_id":9160,"parent_id":1296018,"elapsed":6.866990588605404e-06,"elapsed_instrumentation":0.0001591689942870289,"return_value":{"class":"String","value":"9XryWd9T8vb0DELyd+33Rg==","object_id":7162480}},{"id":1296020,"event":"call","thread_id":9160,"defined_class":"Chewy::Strategy::Mastodon","method_id":"leave","path":"lib/chewy/strategy/mastodon.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Chewy::Strategy::Mastodon","object_id":7162500,"value":"#<Chewy::Strategy::Mastodon:0x00007fdc098e7898>"}},{"id":1296021,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":7162520,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":7162540,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1296022,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1296023,"event":"return","thread_id":9160,"parent_id":1296022,"elapsed":3.254011971876025e-06,"elapsed_instrumentation":9.059900185093284e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1296024,"event":"return","thread_id":9160,"parent_id":1296021,"elapsed":0.00019729399355128407,"elapsed_instrumentation":0.00034279999090358615,"return_value":{"class":"Array","value":"[]","object_id":7162560,"size":0}},{"id":1296025,"event":"return","thread_id":9160,"parent_id":1296020,"elapsed":0.0005662100156769156,"elapsed_instrumentation":7.817900041118264e-05,"return_value":{"class":"Array","value":"[]","object_id":7162560,"size":0}},{"id":1296026,"event":"return","thread_id":9160,"parent_id":1295909,"elapsed":0.06574563100002706,"elapsed_instrumentation":0.0016662640264257789,"return_value":{"class":"Hash","value":"{error=>The access token was revoked}","object_id":7162600,"size":1,"properties":[{"name":"error","class":"String"}]},"http_server_response":{"status_code":401,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Vary":"Authorization","Cache-Control":"private, no-store","WWW-Authenticate":"Bearer realm=\"Doorkeeper\", error=\"invalid_token\", error_description=\"The access token was revoked\"","Content-Type":"application/json; charset=utf-8","Content-Security-Policy":"default-src 'none'; frame-ancestors 'none'; form-action 'none'","X-Request-Id":"00fb7f49-b1ac-4e74-b0a1-a97c2967abee","X-Runtime":"0.064493"}}},{"id":1296027,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":1296028,"event":"return","thread_id":9160,"parent_id":1296027,"elapsed":0.00013685098383575678,"elapsed_instrumentation":0.00017406302504241467,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca3bb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3cf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3f00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca48b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":338500,"size":4}},{"id":1296029,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7162620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":1296030,"event":"return","thread_id":9160,"parent_id":1296029,"elapsed":3.0240043997764587e-06,"elapsed_instrumentation":8.793300366960466e-05,"return_value":{"class":"Array","value":"[]","object_id":338520,"size":0}}]}