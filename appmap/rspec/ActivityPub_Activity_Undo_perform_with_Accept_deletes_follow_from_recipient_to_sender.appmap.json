{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ActivityPub::Activity::Undo #perform with Accept deletes follow from recipient to sender","source_location":"spec/lib/activitypub/activity/undo_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"lib/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false}]}]},{"name":"activity","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"Activity","type":"class","children":[{"name":"Undo","type":"class","children":[{"name":"perform","type":"function","location":"app/lib/activitypub/activity/undo.rb:4","static":false}]}]}]}]}]},{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"synchronization_uri_prefix","type":"function","location":"app/models/account.rb:409","static":false}]},{"name":"Follow","type":"class","children":[{"name":"revoke_request!","type":"function","location":"app/models/follow.rb:40","static":false}]},{"name":"concerns","type":"package","children":[{"name":"FollowLimitable","type":"class","children":[{"name":"bypass_follow_limit?","type":"function","location":"app/models/concerns/follow_limitable.rb:14","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"following_count","type":"function","location":"app/models/concerns/account_counters.rb:13","static":false},{"name":"account_stat","type":"function","location":"app/models/concerns/account_counters.rb:76","static":false},{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]},{"name":"RateLimitable","type":"class","children":[{"name":"rate_limit?","type":"function","location":"app/models/concerns/rate_limitable.rb:10","static":false}]},{"name":"AccountInteractions","type":"class","children":[{"name":"following?","type":"function","location":"app/models/concerns/account_interactions.rb:198","static":false}]}]},{"name":"AccountStat","type":"class","children":[{"name":"following_count","type":"function","location":"app/models/account_stat.rb:25","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"JsonLdHelper","type":"class","children":[{"name":"value_or_id","type":"function","location":"app/helpers/jsonld_helper.rb:54","static":false}]}]},{"name":"validators","type":"package","children":[{"name":"FollowLimitValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/follow_limit_validator.rb:7","static":false},{"name":"limit_for_account","type":"function","location":"app/validators/follow_limit_validator.rb:14","static":true}]},{"name":"LanguageValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"app/validators/language_validator.rb:6","static":false}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":1963835,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":10387760,"value":"#<Account:0x00007fc8e21aa010>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":1963836,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10387760,"value":"#<Account:0x00007fc8e21aa010>"}},{"id":1963837,"event":"return","thread_id":9160,"parent_id":1963836,"elapsed":9.792973287403584e-06,"elapsed_instrumentation":6.506603676825762e-05},{"id":1963838,"event":"return","thread_id":9160,"parent_id":1963835,"elapsed":0.00012352003250271082,"elapsed_instrumentation":0.0001860510092228651,"return_value":{"class":"String","value":"https://example.com/users/federico4766","object_id":10387800}},{"id":1963839,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":10387760,"value":"#<Account:0x00007fc8e21aa010>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":1963840,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10387760,"value":"#<Account:0x00007fc8e21aa010>"}},{"id":1963841,"event":"return","thread_id":9160,"parent_id":1963840,"elapsed":4.87698707729578e-06,"elapsed_instrumentation":5.1581067964434624e-05},{"id":1963842,"event":"return","thread_id":9160,"parent_id":1963839,"elapsed":7.783999899402261e-05,"elapsed_instrumentation":8.904899004846811e-05,"return_value":{"class":"String","value":"https://example.com/users/federico4766","object_id":10387800}},{"id":1963843,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Activity::Undo","method_id":"perform","path":"app/lib/activitypub/activity/undo.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::Activity::Undo","object_id":10387820,"value":"#<ActivityPub::Activity::Undo:0x00007fc931109530>"}},{"id":1963844,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"value_or_id","path":"app/helpers/jsonld_helper.rb","lineno":54,"static":false,"parameters":[{"name":"value","class":"String","object_id":10387840,"value":"follow-to-revoke","kind":"req"}],"receiver":{"class":"ActivityPub::Activity::Undo","object_id":10387820,"value":"#<ActivityPub::Activity::Undo:0x00007fc931109530>"}},{"id":1963845,"event":"return","thread_id":9160,"parent_id":1963844,"elapsed":4.010042175650597e-06,"elapsed_instrumentation":7.600302342325449e-05,"return_value":{"class":"String","value":"follow-to-revoke","object_id":10387840}},{"id":1963846,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1 AND \"follows\".\"uri\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1963847,"event":"return","thread_id":9160,"parent_id":1963846,"elapsed":0.000609913,"elapsed_instrumentation":0.0002580159925855696},{"id":1963848,"event":"call","thread_id":9160,"defined_class":"Follow","method_id":"revoke_request!","path":"app/models/follow.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":10387860,"value":"#<Follow:0x00007fc8e21a7310>"}},{"id":1963849,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1963850,"event":"return","thread_id":9160,"parent_id":1963849,"elapsed":0.001017736,"elapsed_instrumentation":8.411501767113805e-05},{"id":1963851,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1963852,"event":"return","thread_id":9160,"parent_id":1963851,"elapsed":0.000456428,"elapsed_instrumentation":8.323101792484522e-05},{"id":1963853,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10387880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2847900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2e060>"}},{"id":1963854,"event":"return","thread_id":9160,"parent_id":1963853,"elapsed":4.803203046321869e-05,"elapsed_instrumentation":0.000251091958489269,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932791eb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932792068 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2847980,"size":2}},{"id":1963855,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10387900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2e010>"}},{"id":1963856,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit?","path":"app/models/concerns/follow_limitable.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"FollowRequest","object_id":10387920,"value":"#<FollowRequest:0x00007fc8e21a6cd0>"}},{"id":1963857,"event":"return","thread_id":9160,"parent_id":1963856,"elapsed":5.565001629292965e-06,"elapsed_instrumentation":0.00024240300990641117},{"id":1963858,"event":"call","thread_id":9160,"defined_class":"FollowLimitValidator","method_id":"validate","path":"app/validators/follow_limit_validator.rb","lineno":7,"static":false,"parameters":[{"name":"follow","class":"FollowRequest","object_id":10387920,"value":"#<FollowRequest:0x00007fc8e21a6cd0>","kind":"req"}],"receiver":{"class":"FollowLimitValidator","object_id":2848040,"value":"#<FollowLimitValidator:0x00007fc93962c640>"}},{"id":1963859,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>"}},{"id":1963860,"event":"return","thread_id":9160,"parent_id":1963859,"elapsed":1.4060991816222668e-05,"elapsed_instrumentation":8.06929892860353e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1963861,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":10387960,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10387980,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>"}},{"id":1963862,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>"}},{"id":1963863,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1963864,"event":"return","thread_id":9160,"parent_id":1963863,"elapsed":0.000561977,"elapsed_instrumentation":8.852500468492508e-05},{"id":1963865,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1963866,"event":"return","thread_id":9160,"parent_id":1963865,"elapsed":0.000400859,"elapsed_instrumentation":7.785699563100934e-05},{"id":1963867,"event":"return","thread_id":9160,"parent_id":1963862,"elapsed":0.0028467379743233323,"elapsed_instrumentation":9.677698835730553e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21a6910>","object_id":10388000}},{"id":1963868,"event":"call","thread_id":9160,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":10388000,"value":"#<AccountStat:0x00007fc8e21a6910>"}},{"id":1963869,"event":"return","thread_id":9160,"parent_id":1963868,"elapsed":0.00010617700172588229,"elapsed_instrumentation":8.908699965104461e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1963870,"event":"return","thread_id":9160,"parent_id":1963861,"elapsed":0.003184964007232338,"elapsed_instrumentation":0.00016732298536226153,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1963871,"event":"call","thread_id":9160,"defined_class":"FollowLimitValidator","method_id":"limit_for_account","path":"app/validators/follow_limit_validator.rb","lineno":14,"static":true,"parameters":[{"name":"account","class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>","kind":"req"}],"receiver":{"class":"Class","object_id":58400,"value":"FollowLimitValidator"}},{"id":1963872,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":10388020,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10388040,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>"}},{"id":1963873,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>"}},{"id":1963874,"event":"return","thread_id":9160,"parent_id":1963873,"elapsed":1.6646983567625284e-05,"elapsed_instrumentation":0.00025457405718043447,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21a6910>","object_id":10388000}},{"id":1963875,"event":"call","thread_id":9160,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":10388000,"value":"#<AccountStat:0x00007fc8e21a6910>"}},{"id":1963876,"event":"return","thread_id":9160,"parent_id":1963875,"elapsed":2.576399128884077e-05,"elapsed_instrumentation":6.387603934854269e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1963877,"event":"return","thread_id":9160,"parent_id":1963872,"elapsed":0.0003998680040240288,"elapsed_instrumentation":0.0002539259730838239,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1963878,"event":"return","thread_id":9160,"parent_id":1963871,"elapsed":0.0006746830185875297,"elapsed_instrumentation":9.004701860249043e-05,"return_value":{"class":"Integer","value":"7500","object_id":15001}},{"id":1963879,"event":"return","thread_id":9160,"parent_id":1963858,"elapsed":0.004303299996536225,"elapsed_instrumentation":9.410595521330833e-05},{"id":1963880,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1963881,"event":"return","thread_id":9160,"parent_id":1963880,"elapsed":0.000800174,"elapsed_instrumentation":7.318099960684776e-05},{"id":1963882,"event":"call","thread_id":9160,"defined_class":"LanguageValidator","method_id":"validate_each","path":"app/validators/language_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"FollowRequest","object_id":10387920,"value":"#<FollowRequest:0x00007fc8e21a6cd0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":9806428,"value":":languages","kind":"req"},{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"LanguageValidator","object_id":2848160,"value":"#<LanguageValidator:0x00007fc93984da28>"}},{"id":1963883,"event":"return","thread_id":9160,"parent_id":1963882,"elapsed":5.20399771630764e-06,"elapsed_instrumentation":0.00013072905130684376},{"id":1963884,"event":"return","thread_id":9160,"parent_id":1963855,"elapsed":0.00690604600822553,"elapsed_instrumentation":0.00023060600506141782,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932790ab0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932790c68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932790f38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932791118 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327912f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327914d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2848180,"size":6}},{"id":1963885,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10387900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2e010>"}},{"id":1963886,"event":"return","thread_id":9160,"parent_id":1963885,"elapsed":5.299982149153948e-06,"elapsed_instrumentation":0.00020633195526897907,"return_value":{"class":"Array","value":"[]","object_id":2848200,"size":0}},{"id":1963887,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10387880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2847900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2e060>"}},{"id":1963888,"event":"return","thread_id":9160,"parent_id":1963887,"elapsed":2.6130001060664654e-06,"elapsed_instrumentation":9.828998008742929e-05,"return_value":{"class":"Array","value":"[]","object_id":2848220,"size":0}},{"id":1963889,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2d110>"}},{"id":1963890,"event":"return","thread_id":9160,"parent_id":1963889,"elapsed":0.00017303996719419956,"elapsed_instrumentation":0.00019045203225687146,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9327a5528 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327a56e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2848280,"size":2}},{"id":1963891,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2ce40>"}},{"id":1963892,"event":"return","thread_id":9160,"parent_id":1963891,"elapsed":5.638983566313982e-06,"elapsed_instrumentation":0.0001295830006711185,"return_value":{"class":"Array","value":"[]","object_id":2848340,"size":0}},{"id":1963893,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"follow_requests\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"show_reblogs\", \"uri\", \"notify\", \"languages\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING \"id\"","database_type":"postgres"}},{"id":1963894,"event":"return","thread_id":9160,"parent_id":1963893,"elapsed":0.000924249,"elapsed_instrumentation":8.051801705732942e-05},{"id":1963895,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2ce40>"}},{"id":1963896,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit?","path":"app/models/concerns/rate_limitable.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"FollowRequest","object_id":10387920,"value":"#<FollowRequest:0x00007fc8e21a6cd0>"}},{"id":1963897,"event":"return","thread_id":9160,"parent_id":1963896,"elapsed":4.60201408714056e-06,"elapsed_instrumentation":6.763904821127653e-05},{"id":1963898,"event":"return","thread_id":9160,"parent_id":1963895,"elapsed":0.00015216099563986063,"elapsed_instrumentation":0.00014013395411893725,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9327a4510 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327a4330 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2848360,"size":2}},{"id":1963899,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2d110>"}},{"id":1963900,"event":"return","thread_id":9160,"parent_id":1963899,"elapsed":2.8490321710705757e-06,"elapsed_instrumentation":7.533596362918615e-05,"return_value":{"class":"Array","value":"[]","object_id":2848380,"size":0}},{"id":1963901,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1963902,"event":"return","thread_id":9160,"parent_id":1963901,"elapsed":0.000363559,"elapsed_instrumentation":7.626600563526154e-05},{"id":1963903,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2c5d0>"}},{"id":1963904,"event":"return","thread_id":9160,"parent_id":1963903,"elapsed":3.6919955164194107e-06,"elapsed_instrumentation":0.00010915403254330158,"return_value":{"class":"Array","value":"[]","object_id":2848440,"size":0}},{"id":1963905,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2c5d0>"}},{"id":1963906,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10388120,"value":"Cache delete: relationship:111361402281157283:111361402281157284\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1963907,"event":"return","thread_id":9160,"parent_id":1963906,"elapsed":0.0006724850391037762,"elapsed_instrumentation":0.00011412892490625381,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1963908,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10388140,"value":"Cache delete: relationship:111361402281157284:111361402281157283\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1963909,"event":"return","thread_id":9160,"parent_id":1963908,"elapsed":0.0007625469588674605,"elapsed_instrumentation":0.00013770500663667917,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1963910,"event":"return","thread_id":9160,"parent_id":1963905,"elapsed":0.0019927509711124003,"elapsed_instrumentation":0.00011789699783548713,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93274fa60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2848500,"size":1}},{"id":1963911,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":1963912,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1963913,"event":"return","thread_id":9160,"parent_id":1963912,"elapsed":0.000358032,"elapsed_instrumentation":7.719005225226283e-05},{"id":1963914,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1963915,"event":"return","thread_id":9160,"parent_id":1963914,"elapsed":0.000667887,"elapsed_instrumentation":6.828899495303631e-05},{"id":1963916,"event":"return","thread_id":9160,"parent_id":1963911,"elapsed":0.0028893289854750037,"elapsed_instrumentation":0.0001386849908158183,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":1963917,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1963918,"event":"return","thread_id":9160,"parent_id":1963917,"elapsed":0.000600217,"elapsed_instrumentation":7.098901551216841e-05},{"id":1963919,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":1963920,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1963921,"event":"return","thread_id":9160,"parent_id":1963920,"elapsed":0.000970687,"elapsed_instrumentation":9.828602196648717e-05},{"id":1963922,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>"}},{"id":1963923,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>"}},{"id":1963924,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>"}},{"id":1963925,"event":"return","thread_id":9160,"parent_id":1963924,"elapsed":3.207405097782612e-05,"elapsed_instrumentation":0.0001203319407068193,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21a6910>","object_id":10388000}},{"id":1963926,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361402281157283, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1963927,"event":"return","thread_id":9160,"parent_id":1963926,"elapsed":0.000999306,"elapsed_instrumentation":0.00013660796685144305},{"id":1963928,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>"}},{"id":1963929,"event":"return","thread_id":9160,"parent_id":1963928,"elapsed":2.109096385538578e-05,"elapsed_instrumentation":0.00017798400949686766,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21a6910>","object_id":10388000}},{"id":1963930,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>"}},{"id":1963931,"event":"return","thread_id":9160,"parent_id":1963930,"elapsed":7.65104778110981e-06,"elapsed_instrumentation":7.600191747769713e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21a6910>","object_id":10388000}},{"id":1963932,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1963933,"event":"return","thread_id":9160,"parent_id":1963932,"elapsed":0.000640359,"elapsed_instrumentation":9.05339838936925e-05},{"id":1963934,"event":"return","thread_id":9160,"parent_id":1963923,"elapsed":0.0047632670029997826,"elapsed_instrumentation":0.00014281098265200853,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21a6910>","object_id":10388000}},{"id":1963935,"event":"return","thread_id":9160,"parent_id":1963922,"elapsed":0.004964096995536238,"elapsed_instrumentation":0.0001539809163659811,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e21a6910>","object_id":10388000}},{"id":1963936,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":10388180,"value":"#<Account:0x00007fc8e21a6e10>"}},{"id":1963937,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":10388180,"value":"#<Account:0x00007fc8e21a6e10>"}},{"id":1963938,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361402281157284, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1963939,"event":"return","thread_id":9160,"parent_id":1963938,"elapsed":0.001014078,"elapsed_instrumentation":8.242198964580894e-05},{"id":1963940,"event":"return","thread_id":9160,"parent_id":1963937,"elapsed":0.001682368980254978,"elapsed_instrumentation":8.862098911777139e-05},{"id":1963941,"event":"return","thread_id":9160,"parent_id":1963936,"elapsed":0.0017953889910131693,"elapsed_instrumentation":0.00010092701995745301},{"id":1963942,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>"}},{"id":1963943,"event":"return","thread_id":9160,"parent_id":1963942,"elapsed":8.019967935979366e-06,"elapsed_instrumentation":9.456201223656535e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1963944,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10388180,"value":"#<Account:0x00007fc8e21a6e10>"}},{"id":1963945,"event":"return","thread_id":9160,"parent_id":1963944,"elapsed":1.9113009329885244e-05,"elapsed_instrumentation":5.6635006330907345e-05},{"id":1963946,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"synchronization_uri_prefix","path":"app/models/account.rb","lineno":409,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>"}},{"id":1963947,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10387940,"value":"#<Account:0x00007fc8e21a7090>"}},{"id":1963948,"event":"return","thread_id":9160,"parent_id":1963947,"elapsed":4.240020643919706e-06,"elapsed_instrumentation":5.597498966380954e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1963949,"event":"return","thread_id":9160,"parent_id":1963946,"elapsed":7.656397065147758e-05,"elapsed_instrumentation":6.817199755460024e-05,"return_value":{"class":"String","value":"local","object_id":1381860}},{"id":1963950,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10388200,"value":"Cache delete: followers_hash:111361402281157284:local\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1963951,"event":"return","thread_id":9160,"parent_id":1963950,"elapsed":0.0007633090135641396,"elapsed_instrumentation":0.0002285809605382383,"return_value":{"class":"Integer","value":"54","object_id":109}},{"id":1963952,"event":"return","thread_id":9160,"parent_id":1963919,"elapsed":0.011462693975772709,"elapsed_instrumentation":0.00017815898172557354,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":1963953,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1963954,"event":"return","thread_id":9160,"parent_id":1963953,"elapsed":0.000353013,"elapsed_instrumentation":7.254502270370722e-05},{"id":1963955,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":1963956,"event":"return","thread_id":9160,"parent_id":1963955,"elapsed":3.7180143408477306e-06,"elapsed_instrumentation":0.00011101202107965946,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":1963957,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10388220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":1963958,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10388240,"value":"Cache delete: relationship:111361402281157283:111361402281157284\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1963959,"event":"return","thread_id":9160,"parent_id":1963958,"elapsed":0.0007070769788697362,"elapsed_instrumentation":0.0001240939600393176,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1963960,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10388260,"value":"Cache delete: relationship:111361402281157284:111361402281157283\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1963961,"event":"return","thread_id":9160,"parent_id":1963960,"elapsed":0.0008922599954530597,"elapsed_instrumentation":0.0001386560034006834,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1963962,"event":"return","thread_id":9160,"parent_id":1963957,"elapsed":0.0024591470137238503,"elapsed_instrumentation":0.00010581599781289697,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":1963963,"event":"return","thread_id":9160,"parent_id":1963848,"elapsed":0.039725234964862466,"elapsed_instrumentation":0.0001259580021724105,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21a7310>","object_id":10387860}},{"id":1963964,"event":"return","thread_id":9160,"parent_id":1963843,"elapsed":0.04174762300681323,"elapsed_instrumentation":7.419195026159286e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21a7310>","object_id":10387860}},{"id":1963965,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":10387760,"value":"#<Account:0x00007fc8e21aa010>","kind":"req"}],"receiver":{"class":"Account","object_id":10387720,"value":"#<Account:0x00007fc8e21aeb10>"}},{"id":1963966,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1963967,"event":"return","thread_id":9160,"parent_id":1963966,"elapsed":0.000820931,"elapsed_instrumentation":8.589401841163635e-05},{"id":1963968,"event":"return","thread_id":9160,"parent_id":1963965,"elapsed":0.00230858800932765,"elapsed_instrumentation":9.772094199433923e-05}]}