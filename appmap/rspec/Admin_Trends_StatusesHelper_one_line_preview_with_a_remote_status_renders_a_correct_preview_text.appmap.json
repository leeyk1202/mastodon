{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::Trends::StatusesHelper .one_line_preview with a remote status renders a correct preview text","source_location":"spec/helpers/admin/trends/statuses_helper_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"Random","type":"class","children":[{"name":"random_bytes","type":"function","location":"OpenSSL::Random.random_bytes","static":true,"labels":["random.secure"]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"Status","type":"class","children":[{"name":"local?","type":"function","location":"app/models/status.rb:188","static":false},{"name":"emojis","type":"function","location":"app/models/status.rb:262","static":false}]},{"name":"CustomEmoji","type":"class","children":[{"name":"from_text","type":"function","location":"app/models/custom_emoji.rb:78","static":true}]},{"name":"concerns","type":"package","children":[{"name":"HasUserSettings","type":"class","children":[{"name":"setting_auto_play_gif","type":"function","location":"app/models/concerns/has_user_settings.rb:22","static":false}]}]},{"name":"UserSettings","type":"class","children":[{"name":"[]","type":"function","location":"app/models/user_settings.rb:60","static":false}]},{"name":"user_settings","type":"package","children":[{"name":"UserSettings","type":"class","children":[{"name":"DSL","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"definition_for","type":"function","location":"app/models/user_settings/dsl.rb:29","static":true}]}]},{"name":"Setting","type":"class","children":[{"name":"key","type":"function","location":"app/models/user_settings/setting.rb:63","static":false},{"name":"value_for","type":"function","location":"app/models/user_settings/setting.rb:18","static":false},{"name":"default_value","type":"function","location":"app/models/user_settings/setting.rb:34","static":false}]}]}]}]},{"name":"helpers","type":"package","children":[{"name":"admin/trends","type":"package","children":[{"name":"Admin","type":"class","children":[{"name":"Trends","type":"class","children":[{"name":"StatusesHelper","type":"class","children":[{"name":"one_line_preview","type":"function","location":"app/helpers/admin/trends/statuses_helper.rb:4","static":false}]}]}]}]},{"name":"ApplicationHelper","type":"class","children":[{"name":"prerender_custom_emojis","type":"function","location":"app/helpers/application_helper.rb:231","static":false}]},{"name":"StatusesHelper","type":"class","children":[{"name":"prefers_autoplay?","type":"function","location":"app/helpers/statuses_helper.rb:85","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"UserSettingsSerializer","type":"class","children":[{"name":"load","type":"function","location":"app/lib/user_settings_serializer.rb:4","static":true}]}]}]}],"events":[{"id":2184613,"event":"call","thread_id":9160,"defined_class":"OpenSSL::Random","method_id":"random_bytes","path":"OpenSSL::Random.random_bytes","static":true,"parameters":[{"name":"arg","class":"Integer","object_id":33,"value":"16","kind":"req"}],"receiver":{"class":"Module","object_id":322640,"value":"OpenSSL::Random"}},{"id":2184614,"event":"return","thread_id":9160,"parent_id":2184613,"elapsed":1.907901605591178e-05,"elapsed_instrumentation":0.00017572101205587387,"return_value":{"class":"String","value":"_2\u0007V\u0013j_\u0017\u0001_j__>__","object_id":11101280}},{"id":2184615,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11101300,"value":"#<Account:0x00007fc9317deec8>"}},{"id":2184616,"event":"return","thread_id":9160,"parent_id":2184615,"elapsed":1.1281983461230993e-05,"elapsed_instrumentation":0.00011067104060202837,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2184617,"event":"call","thread_id":9160,"defined_class":"Admin::Trends::StatusesHelper","method_id":"one_line_preview","path":"app/helpers/admin/trends/statuses_helper.rb","lineno":4,"static":false,"parameters":[{"name":"status","class":"Status","object_id":11101320,"value":"#<Status:0x00007fc8e1dcde10>","kind":"req"}],"receiver":{"class":"ActionView::Base","object_id":11101260,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9317df8c8>"}},{"id":2184618,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":11101320,"value":"#<Status:0x00007fc8e1dcde10>"}},{"id":2184619,"event":"return","thread_id":9160,"parent_id":2184618,"elapsed":0.00033276400063186884,"elapsed_instrumentation":8.23729787953198e-05},{"id":2184620,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"emojis","path":"app/models/status.rb","lineno":262,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":11101320,"value":"#<Status:0x00007fc8e1dcde10>"}},{"id":2184621,"event":"call","thread_id":9160,"defined_class":"CustomEmoji","method_id":"from_text","path":"app/models/custom_emoji.rb","lineno":78,"static":true,"parameters":[{"name":"text","class":"String","object_id":11101340,"value":" <html><body><p>Test remote status</p><p>text</p></body></html>","kind":"req"},{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":58120,"value":"CustomEmoji"}},{"id":2184622,"event":"return","thread_id":9160,"parent_id":2184621,"elapsed":1.4158023986965418e-05,"elapsed_instrumentation":0.00042026001028716564,"return_value":{"class":"Array","value":"[]","object_id":11101360,"size":0}},{"id":2184623,"event":"return","thread_id":9160,"parent_id":2184620,"elapsed":0.0005431600147858262,"elapsed_instrumentation":0.00010328699136152864,"return_value":{"class":"Array","value":"[]","object_id":11101360,"size":0}},{"id":2184624,"event":"call","thread_id":9160,"defined_class":"ApplicationHelper","method_id":"prerender_custom_emojis","path":"app/helpers/application_helper.rb","lineno":231,"static":false,"parameters":[{"name":"html","class":"ActiveSupport::SafeBuffer","object_id":11101380,"value":"Test remote status","kind":"req"},{"name":"custom_emojis","class":"Array","object_id":11101360,"value":"[]","kind":"req","size":0},{"name":"other_options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActionView::Base","object_id":11101260,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9317df8c8>"}},{"id":2184625,"event":"call","thread_id":9160,"defined_class":"StatusesHelper","method_id":"prefers_autoplay?","path":"app/helpers/statuses_helper.rb","lineno":85,"static":false,"parameters":[],"receiver":{"class":"ActionView::Base","object_id":11101260,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc9317df8c8>"}},{"id":2184626,"event":"call","thread_id":9160,"defined_class":"HasUserSettings","method_id":"setting_auto_play_gif","path":"app/models/concerns/has_user_settings.rb","lineno":22,"static":false,"parameters":[],"receiver":{"class":"User","object_id":11101440,"value":"#<User:0x00007fc9317df508>"}},{"id":2184627,"event":"call","thread_id":9160,"defined_class":"UserSettingsSerializer","method_id":"load","path":"app/lib/user_settings_serializer.rb","lineno":4,"static":true,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Class","object_id":317920,"value":"UserSettingsSerializer"}},{"id":2184628,"event":"return","thread_id":9160,"parent_id":2184627,"elapsed":1.019699266180396e-05,"elapsed_instrumentation":9.406200842931867e-05,"return_value":{"class":"UserSettings","value":"#<UserSettings:0x00007fc8e1dc3190>","object_id":11101460}},{"id":2184629,"event":"call","thread_id":9160,"defined_class":"UserSettingsSerializer","method_id":"load","path":"app/lib/user_settings_serializer.rb","lineno":4,"static":true,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Class","object_id":317920,"value":"UserSettingsSerializer"}},{"id":2184630,"event":"return","thread_id":9160,"parent_id":2184629,"elapsed":3.469991497695446e-06,"elapsed_instrumentation":7.677002577111125e-05,"return_value":{"class":"UserSettings","value":"#<UserSettings:0x00007fc8e1dc23f8>","object_id":11101480}},{"id":2184631,"event":"call","thread_id":9160,"defined_class":"UserSettings","method_id":"[]","path":"app/models/user_settings.rb","lineno":60,"static":false,"parameters":[{"name":"key","class":"String","object_id":891620,"value":"web.auto_play","kind":"req"}],"receiver":{"class":"UserSettings","object_id":11101480,"value":"#<UserSettings:0x00007fc8e1dc23f8>"}},{"id":2184632,"event":"call","thread_id":9160,"defined_class":"UserSettings::DSL::ClassMethods","method_id":"definition_for","path":"app/models/user_settings/dsl.rb","lineno":29,"static":true,"parameters":[{"name":"key","class":"String","object_id":891620,"value":"web.auto_play","kind":"req"}],"receiver":{"class":"Class","object_id":62260,"value":"UserSettings"}},{"id":2184633,"event":"return","thread_id":9160,"parent_id":2184632,"elapsed":6.7490036599338055e-06,"elapsed_instrumentation":7.93350045569241e-05,"return_value":{"class":"UserSettings::Setting","value":"#<UserSettings::Setting:0x00007fc9390c7358>","object_id":891640}},{"id":2184634,"event":"call","thread_id":9160,"defined_class":"UserSettings::Setting","method_id":"key","path":"app/models/user_settings/setting.rb","lineno":63,"static":false,"parameters":[],"receiver":{"class":"UserSettings::Setting","object_id":891640,"value":"#<UserSettings::Setting:0x00007fc9390c7358>"}},{"id":2184635,"event":"return","thread_id":9160,"parent_id":2184634,"elapsed":8.124043233692646e-06,"elapsed_instrumentation":6.049196235835552e-05,"return_value":{"class":"Symbol","value":":web.auto_play","object_id":891660}},{"id":2184636,"event":"call","thread_id":9160,"defined_class":"UserSettings::Setting","method_id":"value_for","path":"app/models/user_settings/setting.rb","lineno":18,"static":false,"parameters":[{"name":"name","class":"String","object_id":891620,"value":"web.auto_play","kind":"req"},{"name":"original_value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"UserSettings::Setting","object_id":891640,"value":"#<UserSettings::Setting:0x00007fc9390c7358>"}},{"id":2184637,"event":"call","thread_id":9160,"defined_class":"UserSettings::Setting","method_id":"default_value","path":"app/models/user_settings/setting.rb","lineno":34,"static":false,"parameters":[],"receiver":{"class":"UserSettings::Setting","object_id":891640,"value":"#<UserSettings::Setting:0x00007fc9390c7358>"}},{"id":2184638,"event":"return","thread_id":9160,"parent_id":2184637,"elapsed":7.167982403188944e-06,"elapsed_instrumentation":4.593102494254708e-05},{"id":2184639,"event":"return","thread_id":9160,"parent_id":2184636,"elapsed":7.225200533866882e-05,"elapsed_instrumentation":6.637501064687967e-05},{"id":2184640,"event":"return","thread_id":9160,"parent_id":2184631,"elapsed":0.00034299801336601377,"elapsed_instrumentation":6.405799649655819e-05},{"id":2184641,"event":"return","thread_id":9160,"parent_id":2184626,"elapsed":0.0006640680367127061,"elapsed_instrumentation":0.00011617399286478758},{"id":2184642,"event":"return","thread_id":9160,"parent_id":2184625,"elapsed":0.0011891950271092355,"elapsed_instrumentation":5.1563954912126064e-05},{"id":2184643,"event":"return","thread_id":9160,"parent_id":2184624,"elapsed":0.001273522968403995,"elapsed_instrumentation":0.0001616630470380187,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"Test remote status","object_id":11101380}},{"id":2184644,"event":"return","thread_id":9160,"parent_id":2184617,"elapsed":0.003012611996382475,"elapsed_instrumentation":0.00017897202633321285,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"Test remote status","object_id":11101380}}]}