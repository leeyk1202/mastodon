{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"BulkImportRowService #call when importing a list row when the list does not exist yet when the user already requested to follow the target account returns true","source_location":"spec/services/bulk_import_row_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"acct","type":"function","location":"app/models/account.rb:191","static":false},{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false},{"name":"moved?","type":"function","location":"app/models/account.rb:167","static":false}]},{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"AccountInteractions","type":"class","children":[{"name":"blocking?","type":"function","location":"app/models/concerns/account_interactions.rb:214","static":false},{"name":"domain_blocking?","type":"function","location":"app/models/concerns/account_interactions.rb:218","static":false},{"name":"following?","type":"function","location":"app/models/concerns/account_interactions.rb:198","static":false},{"name":"requested?","type":"function","location":"app/models/concerns/account_interactions.rb:238","static":false},{"name":"request_follow!","type":"function","location":"app/models/concerns/account_interactions.rb:130","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]}]}]},{"name":"services","type":"package","children":[{"name":"BulkImportRowService","type":"class","children":[{"name":"domain","type":"function","location":"app/services/bulk_import_row_service.rb:49","static":false},{"name":"stoplight_wrap_request","type":"function","location":"app/services/bulk_import_row_service.rb:54","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"local_domain?","type":"function","location":"app/lib/tag_manager.rb:13","static":false}]},{"name":"PotentialFriendshipTracker","type":"class","children":[{"name":"remove","type":"function","location":"app/lib/potential_friendship_tracker.rb:27","static":true}]}]},{"name":"helpers","type":"package","children":[{"name":"DomainControlHelper","type":"class","children":[{"name":"domain_not_allowed?","type":"function","location":"app/helpers/domain_control_helper.rb:4","static":false}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":523934,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f880>"}},{"id":523935,"event":"return","thread_id":9160,"parent_id":523934,"elapsed":2.168200444430113e-05,"elapsed_instrumentation":0.00019966706167906523,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933289750 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2826140,"size":1}},{"id":523936,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f830>"}},{"id":523937,"event":"return","thread_id":9160,"parent_id":523936,"elapsed":0.00010269996710121632,"elapsed_instrumentation":0.0001362460316158831,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933288800 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9332889b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933288b98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933288cd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2826200,"size":4}},{"id":523938,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f830>"}},{"id":523939,"event":"return","thread_id":9160,"parent_id":523938,"elapsed":3.196997568011284e-06,"elapsed_instrumentation":7.961399387568235e-05,"return_value":{"class":"Array","value":"[]","object_id":2826220,"size":0}},{"id":523940,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f880>"}},{"id":523941,"event":"return","thread_id":9160,"parent_id":523940,"elapsed":1.1347001418471336e-05,"elapsed_instrumentation":8.76330304890871e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933289610 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2826240,"size":1}},{"id":523942,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f5b0>"}},{"id":523943,"event":"return","thread_id":9160,"parent_id":523942,"elapsed":5.726999370381236e-05,"elapsed_instrumentation":9.387900354340672e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933286de8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2826300,"size":1}},{"id":523944,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f600>"}},{"id":523945,"event":"return","thread_id":9160,"parent_id":523944,"elapsed":3.29798785969615e-06,"elapsed_instrumentation":0.00010667101014405489,"return_value":{"class":"Array","value":"[]","object_id":2826340,"size":0}},{"id":523946,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3498540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f380>"}},{"id":523947,"event":"return","thread_id":9160,"parent_id":523946,"elapsed":2.641987521201372e-06,"elapsed_instrumentation":8.378399070352316e-05,"return_value":{"class":"Array","value":"[]","object_id":3498560,"size":0}},{"id":523948,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":523949,"event":"return","thread_id":9160,"parent_id":523948,"elapsed":0.000328484,"elapsed_instrumentation":8.663197513669729e-05},{"id":523950,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"bulk_imports\" (\"type\", \"state\", \"total_items\", \"imported_items\", \"processed_items\", \"finished_at\", \"overwrite\", \"likely_mismatched\", \"original_filename\", \"account_id\", \"created_at\", \"updated_at\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":523951,"event":"return","thread_id":9160,"parent_id":523950,"elapsed":0.001524696,"elapsed_instrumentation":7.73009960539639e-05},{"id":523952,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3498540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f380>"}},{"id":523953,"event":"return","thread_id":9160,"parent_id":523952,"elapsed":3.287696745246649e-05,"elapsed_instrumentation":0.0005282100173644722,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9332855b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":3498580,"size":1}},{"id":523954,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f600>"}},{"id":523955,"event":"return","thread_id":9160,"parent_id":523954,"elapsed":2.989021595567465e-06,"elapsed_instrumentation":0.00010335200931876898,"return_value":{"class":"Array","value":"[]","object_id":2826440,"size":0}},{"id":523956,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f5b0>"}},{"id":523957,"event":"return","thread_id":9160,"parent_id":523956,"elapsed":2.7050264179706573e-06,"elapsed_instrumentation":7.607199950143695e-05,"return_value":{"class":"Array","value":"[]","object_id":2826460,"size":0}},{"id":523958,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":523959,"event":"return","thread_id":9160,"parent_id":523958,"elapsed":0.000407216,"elapsed_instrumentation":8.103501750156283e-05},{"id":523960,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"acct","path":"app/models/account.rb","lineno":191,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3545420,"value":"#<Account:0x00007fc91a420f00>"}},{"id":523961,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3545420,"value":"#<Account:0x00007fc91a420f00>"}},{"id":523962,"event":"return","thread_id":9160,"parent_id":523961,"elapsed":1.017801696434617e-05,"elapsed_instrumentation":7.333001121878624e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":523963,"event":"return","thread_id":9160,"parent_id":523960,"elapsed":0.00011710502440109849,"elapsed_instrumentation":0.00011915998766198754,"return_value":{"class":"String","value":"trevor2048","object_id":3545580}},{"id":523964,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":523965,"event":"return","thread_id":9160,"parent_id":523964,"elapsed":2.0113016944378614e-05,"elapsed_instrumentation":0.00013732496881857514,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":523966,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3501700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c8ba08>"}},{"id":523967,"event":"return","thread_id":9160,"parent_id":523966,"elapsed":6.203004159033298e-05,"elapsed_instrumentation":0.00011233298573642969,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9332217b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933221998 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":3501720,"size":2}},{"id":523968,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3501700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c8ba08>"}},{"id":523969,"event":"return","thread_id":9160,"parent_id":523968,"elapsed":3.1180097721517086e-06,"elapsed_instrumentation":7.628800813108683e-05,"return_value":{"class":"Array","value":"[]","object_id":3501740,"size":0}},{"id":523970,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":523971,"event":"return","thread_id":9160,"parent_id":523970,"elapsed":2.707995008677244e-06,"elapsed_instrumentation":0.00015060900477692485,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":523972,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3501780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c8b9b8>"}},{"id":523973,"event":"return","thread_id":9160,"parent_id":523972,"elapsed":6.518600275740027e-05,"elapsed_instrumentation":0.00010040798224508762,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933220098 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":3501800,"size":1}},{"id":523974,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":3545660,"value":"{acct=>trevor2048, list_name=>my list}","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":3545680,"value":"#<JSON::Ext::Generator::State:0x00007fc931b4c060>"}},{"id":523975,"event":"return","thread_id":9160,"parent_id":523974,"elapsed":7.811991963535547e-06,"elapsed_instrumentation":0.00014061701949685812,"return_value":{"class":"String","value":"{\"acct\":\"trevor2048\",\"list_name\":\"my list\"}","object_id":3545700}},{"id":523976,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":3545720,"value":"#<JSON::Ext::Parser:0x00007fc931b4ad50>"}},{"id":523977,"event":"return","thread_id":9160,"parent_id":523976,"elapsed":9.845010936260223e-06,"elapsed_instrumentation":9.66990482993424e-05,"return_value":{"class":"Hash","value":"{acct=>trevor2048, list_name=>my list}","object_id":3545740,"size":2}},{"id":523978,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":3545760,"value":"{acct=>trevor2048, list_name=>my list}","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":3545780,"value":"#<JSON::Ext::Generator::State:0x00007fc931b49a90>"}},{"id":523979,"event":"return","thread_id":9160,"parent_id":523978,"elapsed":5.464011337608099e-06,"elapsed_instrumentation":0.0001316459965892136,"return_value":{"class":"String","value":"{\"acct\":\"trevor2048\",\"list_name\":\"my list\"}","object_id":3545800}},{"id":523980,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":523981,"event":"return","thread_id":9160,"parent_id":523980,"elapsed":0.000449821,"elapsed_instrumentation":7.935997564345598e-05},{"id":523982,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"bulk_import_rows\" (\"bulk_import_id\", \"data\", \"created_at\", \"updated_at\") VALUES ($1, $2, $3, $4) RETURNING \"id\"","database_type":"postgres"}},{"id":523983,"event":"return","thread_id":9160,"parent_id":523982,"elapsed":0.001365665,"elapsed_instrumentation":8.850399171933532e-05},{"id":523984,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":3545820,"value":"#<JSON::Ext::Parser:0x00007fc931b45a08>"}},{"id":523985,"event":"return","thread_id":9160,"parent_id":523984,"elapsed":8.940987754613161e-06,"elapsed_instrumentation":0.00014363700756803155,"return_value":{"class":"Hash","value":"{acct=>trevor2048, list_name=>my list}","object_id":3545840,"size":2}},{"id":523986,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3545640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3501780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c8b9b8>"}},{"id":523987,"event":"return","thread_id":9160,"parent_id":523986,"elapsed":3.3279648050665855e-06,"elapsed_instrumentation":9.115104330703616e-05,"return_value":{"class":"Array","value":"[]","object_id":3502020,"size":0}},{"id":523988,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":523989,"event":"return","thread_id":9160,"parent_id":523988,"elapsed":0.00049637,"elapsed_instrumentation":7.139600347727537e-05},{"id":523990,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":3545880,"value":"#<JSON::Ext::Parser:0x00007fc931b426f0>"}},{"id":523991,"event":"return","thread_id":9160,"parent_id":523990,"elapsed":9.029987268149853e-06,"elapsed_instrumentation":0.00013877905439585447,"return_value":{"class":"Hash","value":"{acct=>trevor2048, list_name=>my list}","object_id":3545900,"size":2}},{"id":523992,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"domain","path":"app/services/bulk_import_row_service.rb","lineno":49,"static":false,"parameters":[{"name":"uri","class":"String","object_id":3545920,"value":"trevor2048","kind":"req"}],"receiver":{"class":"BulkImportRowService","object_id":3545940,"value":"#<BulkImportRowService:0x00007fc93144b8b0>"}},{"id":523993,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":523994,"event":"return","thread_id":9160,"parent_id":523993,"elapsed":3.244960680603981e-06,"elapsed_instrumentation":8.896796498447657e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":523995,"event":"return","thread_id":9160,"parent_id":523992,"elapsed":0.00011843699030578136,"elapsed_instrumentation":0.000837353989481926},{"id":523996,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"stoplight_wrap_request","path":"app/services/bulk_import_row_service.rb","lineno":54,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"BulkImportRowService","object_id":3545940,"value":"#<BulkImportRowService:0x00007fc93144b8b0>"}},{"id":523997,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":523998,"event":"return","thread_id":9160,"parent_id":523997,"elapsed":2.2440217435359955e-06,"elapsed_instrumentation":6.954901618883014e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":523999,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ResolveAccountService","object_id":3545960,"value":"#<ResolveAccountService:0x00007fc931443b10>"}},{"id":524000,"event":"return","thread_id":9160,"parent_id":523999,"elapsed":5.43397618457675e-06,"elapsed_instrumentation":0.0001199779799208045},{"id":524001,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":3545980,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc931ada3c0>"}},{"id":524002,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'trevor2048' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":524003,"event":"return","thread_id":9160,"parent_id":524002,"elapsed":0.001616805,"elapsed_instrumentation":0.00012795900693163276},{"id":524004,"event":"return","thread_id":9160,"parent_id":524001,"elapsed":0.0051419009687379,"elapsed_instrumentation":0.00013680104166269302,"return_value":{"class":"Account","value":"#<Account:0x00007fc91a43af18>","object_id":3546000}},{"id":524005,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3546000,"value":"#<Account:0x00007fc91a43af18>"}},{"id":524006,"event":"return","thread_id":9160,"parent_id":524005,"elapsed":2.012099139392376e-05,"elapsed_instrumentation":0.00010796100832521915,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":524007,"event":"return","thread_id":9160,"parent_id":523996,"elapsed":0.0057194799883291125,"elapsed_instrumentation":0.00010440096957609057,"return_value":{"class":"Account","value":"#<Account:0x00007fc91a43af18>","object_id":3546000}},{"id":524008,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"lists\".* FROM \"lists\" WHERE \"lists\".\"account_id\" = $1 AND \"lists\".\"title\" = $2 LIMIT $3","database_type":"postgres"}},{"id":524009,"event":"return","thread_id":9160,"parent_id":524008,"elapsed":0.000635547,"elapsed_instrumentation":9.66169754974544e-05},{"id":524010,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2942720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69880>"}},{"id":524011,"event":"return","thread_id":9160,"parent_id":524010,"elapsed":2.4710956495255232e-05,"elapsed_instrumentation":0.00024289306020364165,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931262ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2942740,"size":1}},{"id":524012,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2942780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69830>"}},{"id":524013,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":524014,"event":"return","thread_id":9160,"parent_id":524013,"elapsed":0.000431193,"elapsed_instrumentation":7.840601028874516e-05},{"id":524015,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"lists\" WHERE \"lists\".\"account_id\" = $1 AND \"lists\".\"account_id\" = $2","database_type":"postgres"}},{"id":524016,"event":"return","thread_id":9160,"parent_id":524015,"elapsed":0.001213287,"elapsed_instrumentation":8.483300916850567e-05},{"id":524017,"event":"return","thread_id":9160,"parent_id":524012,"elapsed":0.002089168003294617,"elapsed_instrumentation":0.0001629890175536275,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931261978 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931261bf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931261d60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931261ec8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9312620a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2942800,"size":5}},{"id":524018,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2942780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69830>"}},{"id":524019,"event":"return","thread_id":9160,"parent_id":524018,"elapsed":4.236004315316677e-06,"elapsed_instrumentation":9.824801236391068e-05,"return_value":{"class":"Array","value":"[]","object_id":2942820,"size":0}},{"id":524020,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2942720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69880>"}},{"id":524021,"event":"return","thread_id":9160,"parent_id":524020,"elapsed":1.25730293802917e-05,"elapsed_instrumentation":9.135500295087695e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931262990 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2942840,"size":1}},{"id":524022,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2942880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69420>"}},{"id":524023,"event":"return","thread_id":9160,"parent_id":524022,"elapsed":4.300498403608799e-05,"elapsed_instrumentation":9.638798655942082e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93120c608 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2943740,"size":1}},{"id":524024,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2943760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69470>"}},{"id":524025,"event":"return","thread_id":9160,"parent_id":524024,"elapsed":2.5390181690454483e-06,"elapsed_instrumentation":0.00012262200471013784,"return_value":{"class":"Array","value":"[]","object_id":2943780,"size":0}},{"id":524026,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2943820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69240>"}},{"id":524027,"event":"return","thread_id":9160,"parent_id":524026,"elapsed":3.0489754863083363e-06,"elapsed_instrumentation":0.00029056897619739175,"return_value":{"class":"Array","value":"[]","object_id":2943840,"size":0}},{"id":524028,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"lists\" (\"account_id\", \"title\", \"created_at\", \"updated_at\", \"replies_policy\", \"exclusive\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":524029,"event":"return","thread_id":9160,"parent_id":524028,"elapsed":0.000910548,"elapsed_instrumentation":9.536900324746966e-05},{"id":524030,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2943820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69240>"}},{"id":524031,"event":"return","thread_id":9160,"parent_id":524030,"elapsed":4.1136983782052994e-05,"elapsed_instrumentation":0.00017133902292698622,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93120ac40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93120aa38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2943860,"size":2}},{"id":524032,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2943760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69470>"}},{"id":524033,"event":"return","thread_id":9160,"parent_id":524032,"elapsed":5.809997674077749e-06,"elapsed_instrumentation":0.00024117896100506186,"return_value":{"class":"Array","value":"[]","object_id":2943880,"size":0}},{"id":524034,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2942880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69420>"}},{"id":524035,"event":"return","thread_id":9160,"parent_id":524034,"elapsed":3.3070100471377373e-06,"elapsed_instrumentation":0.00010375602869316936,"return_value":{"class":"Array","value":"[]","object_id":2943900,"size":0}},{"id":524036,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":524037,"event":"return","thread_id":9160,"parent_id":524036,"elapsed":0.000410195,"elapsed_instrumentation":9.098800364881754e-05},{"id":524038,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3546000,"value":"#<Account:0x00007fc91a43af18>"}},{"id":524039,"event":"return","thread_id":9160,"parent_id":524038,"elapsed":2.580898581072688e-05,"elapsed_instrumentation":9.598699398338795e-05},{"id":524040,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"FollowService","object_id":3546120,"value":"#<FollowService:0x00007fc93149e060>"}},{"id":524041,"event":"return","thread_id":9160,"parent_id":524040,"elapsed":5.110981874167919e-06,"elapsed_instrumentation":8.560600690543652e-05},{"id":524042,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":3545380,"value":"#<Account:0x00007fc91a427d00>","kind":"req"}],"receiver":{"class":"Account","object_id":3546000,"value":"#<Account:0x00007fc91a43af18>"}},{"id":524043,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":524044,"event":"return","thread_id":9160,"parent_id":524043,"elapsed":0.000633653,"elapsed_instrumentation":8.119101403281093e-05},{"id":524045,"event":"return","thread_id":9160,"parent_id":524042,"elapsed":0.0022362079471349716,"elapsed_instrumentation":8.304795483127236e-05},{"id":524046,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":3546000,"value":"#<Account:0x00007fc91a43af18>","kind":"req"}],"receiver":{"class":"Account","object_id":3545380,"value":"#<Account:0x00007fc91a427d00>"}},{"id":524047,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":524048,"event":"return","thread_id":9160,"parent_id":524047,"elapsed":0.000547659,"elapsed_instrumentation":7.229199400171638e-05},{"id":524049,"event":"return","thread_id":9160,"parent_id":524046,"elapsed":0.0017070209723897278,"elapsed_instrumentation":0.0002510180347599089},{"id":524050,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"moved?","path":"app/models/account.rb","lineno":167,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3546000,"value":"#<Account:0x00007fc91a43af18>"}},{"id":524051,"event":"return","thread_id":9160,"parent_id":524050,"elapsed":1.7460959497839212e-05,"elapsed_instrumentation":0.00016260403208434582},{"id":524052,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3546000,"value":"#<Account:0x00007fc91a43af18>"}},{"id":524053,"event":"return","thread_id":9160,"parent_id":524052,"elapsed":6.1480095610022545e-06,"elapsed_instrumentation":8.230400271713734e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":524054,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"domain_blocking?","path":"app/models/concerns/account_interactions.rb","lineno":218,"static":false,"parameters":[{"name":"other_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Account","object_id":3545380,"value":"#<Account:0x00007fc91a427d00>"}},{"id":524055,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" IS NULL LIMIT $2","database_type":"postgres"}},{"id":524056,"event":"return","thread_id":9160,"parent_id":524055,"elapsed":0.000740739,"elapsed_instrumentation":0.0001613509957678616},{"id":524057,"event":"return","thread_id":9160,"parent_id":524054,"elapsed":0.0018736940110102296,"elapsed_instrumentation":7.316295523196459e-05},{"id":524058,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":3546000,"value":"#<Account:0x00007fc91a43af18>","kind":"req"}],"receiver":{"class":"Account","object_id":3545380,"value":"#<Account:0x00007fc91a427d00>"}},{"id":524059,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":524060,"event":"return","thread_id":9160,"parent_id":524059,"elapsed":0.000894852,"elapsed_instrumentation":8.069199975579977e-05},{"id":524061,"event":"return","thread_id":9160,"parent_id":524058,"elapsed":0.0025097610196098685,"elapsed_instrumentation":0.00011031999019905925},{"id":524062,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"requested?","path":"app/models/concerns/account_interactions.rb","lineno":238,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":3546000,"value":"#<Account:0x00007fc91a43af18>","kind":"req"}],"receiver":{"class":"Account","object_id":3545380,"value":"#<Account:0x00007fc91a427d00>"}},{"id":524063,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":524064,"event":"return","thread_id":9160,"parent_id":524063,"elapsed":0.000670316,"elapsed_instrumentation":8.560600690543652e-05},{"id":524065,"event":"return","thread_id":9160,"parent_id":524062,"elapsed":0.0020037300419062376,"elapsed_instrumentation":0.0003079549642279744,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":524066,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"request_follow!","path":"app/models/concerns/account_interactions.rb","lineno":130,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":3546000,"value":"#<Account:0x00007fc91a43af18>","kind":"req"},{"name":"reblogs","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"notify","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"bypass_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":3545380,"value":"#<Account:0x00007fc91a427d00>"}},{"id":524067,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follow_requests\".* FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":524068,"event":"return","thread_id":9160,"parent_id":524067,"elapsed":0.000544931,"elapsed_instrumentation":0.0002489879843778908},{"id":524069,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222722691017983757,"value":"111361345508991878","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222722691017983759,"value":"111361345508991879","kind":"req"}],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":524070,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":524071,"event":"return","thread_id":9160,"parent_id":524070,"elapsed":5.52396522834897e-06,"elapsed_instrumentation":0.000123456004075706,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":524072,"event":"return","thread_id":9160,"parent_id":524069,"elapsed":0.0007052510045468807,"elapsed_instrumentation":0.0001916420296765864},{"id":524073,"event":"return","thread_id":9160,"parent_id":524066,"elapsed":0.0036017430247738957,"elapsed_instrumentation":0.00028079503681510687,"return_value":{"class":"FollowRequest","value":"#<FollowRequest:0x00007fc91a437e58>","object_id":3546140}},{"id":524074,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2949600,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931cac1d0>"}},{"id":524075,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":524076,"event":"return","thread_id":9160,"parent_id":524075,"elapsed":0.000706792,"elapsed_instrumentation":9.762501576915383e-05},{"id":524077,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":524078,"event":"return","thread_id":9160,"parent_id":524077,"elapsed":0.000572728,"elapsed_instrumentation":8.513196371495724e-05},{"id":524079,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follow_requests\".* FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":524080,"event":"return","thread_id":9160,"parent_id":524079,"elapsed":0.000435944,"elapsed_instrumentation":8.396804332733154e-05},{"id":524081,"event":"return","thread_id":9160,"parent_id":524074,"elapsed":0.005049974017310888,"elapsed_instrumentation":0.0003850519424304366,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9311d8ab0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d8bf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2949620,"size":2}},{"id":524082,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2949660,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931cabb40>"}},{"id":524083,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"list_accounts\" WHERE \"list_accounts\".\"account_id\" = $1 AND \"list_accounts\".\"list_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":524084,"event":"return","thread_id":9160,"parent_id":524083,"elapsed":0.00064417,"elapsed_instrumentation":9.076402056962252e-05},{"id":524085,"event":"return","thread_id":9160,"parent_id":524082,"elapsed":0.0019198199734091759,"elapsed_instrumentation":0.00020025798585265875,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9311d4708 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d48e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d4bb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d4dc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d52c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2949680,"size":5}},{"id":524086,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2949660,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931cabb40>"}},{"id":524087,"event":"return","thread_id":9160,"parent_id":524086,"elapsed":6.01599458605051e-06,"elapsed_instrumentation":0.00019255001097917557,"return_value":{"class":"Array","value":"[]","object_id":2949700,"size":0}},{"id":524088,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2949600,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931cac1d0>"}},{"id":524089,"event":"return","thread_id":9160,"parent_id":524088,"elapsed":2.878950908780098e-06,"elapsed_instrumentation":9.798398241400719e-05,"return_value":{"class":"Array","value":"[]","object_id":2949720,"size":0}},{"id":524090,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2949760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931cab500>"}},{"id":524091,"event":"return","thread_id":9160,"parent_id":524090,"elapsed":0.0001398100284859538,"elapsed_instrumentation":0.0005831849994137883,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9311d0018 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d0180 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d0360 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d04f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2949780,"size":4}},{"id":524092,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"list_accounts\" (\"list_id\", \"account_id\", \"follow_id\", \"follow_request_id\") VALUES ($1, $2, $3, $4) RETURNING \"id\"","database_type":"postgres"}},{"id":524093,"event":"return","thread_id":9160,"parent_id":524092,"elapsed":0.001076385,"elapsed_instrumentation":7.620797259733081e-05},{"id":524094,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3546200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2949760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931cab500>"}},{"id":524095,"event":"return","thread_id":9160,"parent_id":524094,"elapsed":3.97098483517766e-06,"elapsed_instrumentation":0.00012060703011229634,"return_value":{"class":"Array","value":"[]","object_id":2949800,"size":0}},{"id":524096,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":524097,"event":"return","thread_id":9160,"parent_id":524096,"elapsed":0.000616508,"elapsed_instrumentation":8.034397615119815e-05}]}