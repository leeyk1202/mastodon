{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"BulkImportRowService #call when importing a list row when the list does not exist yet when the user already requested to follow the target account returns true","source_location":"spec/services/bulk_import_row_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"acct","type":"function","location":"app/models/account.rb:191","static":false},{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false},{"name":"moved?","type":"function","location":"app/models/account.rb:167","static":false}]},{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"AccountInteractions","type":"class","children":[{"name":"blocking?","type":"function","location":"app/models/concerns/account_interactions.rb:214","static":false},{"name":"domain_blocking?","type":"function","location":"app/models/concerns/account_interactions.rb:218","static":false},{"name":"following?","type":"function","location":"app/models/concerns/account_interactions.rb:198","static":false},{"name":"requested?","type":"function","location":"app/models/concerns/account_interactions.rb:238","static":false},{"name":"request_follow!","type":"function","location":"app/models/concerns/account_interactions.rb:130","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]}]}]},{"name":"services","type":"package","children":[{"name":"BulkImportRowService","type":"class","children":[{"name":"domain","type":"function","location":"app/services/bulk_import_row_service.rb:49","static":false},{"name":"stoplight_wrap_request","type":"function","location":"app/services/bulk_import_row_service.rb:54","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"local_domain?","type":"function","location":"app/lib/tag_manager.rb:13","static":false}]},{"name":"PotentialFriendshipTracker","type":"class","children":[{"name":"remove","type":"function","location":"app/lib/potential_friendship_tracker.rb:27","static":true}]}]},{"name":"helpers","type":"package","children":[{"name":"DomainControlHelper","type":"class","children":[{"name":"domain_not_allowed?","type":"function","location":"app/helpers/domain_control_helper.rb:4","static":false}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":1521299,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976e020>"}},{"id":1521300,"event":"return","thread_id":9160,"parent_id":1521299,"elapsed":2.2205989807844162e-05,"elapsed_instrumentation":0.0002184979966841638,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069cf6a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1014300,"size":1}},{"id":1521301,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976dfd0>"}},{"id":1521302,"event":"return","thread_id":9160,"parent_id":1521301,"elapsed":0.00012296900968067348,"elapsed_instrumentation":0.00019483399228192866,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ce8b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069cea98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069cec78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069cedb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1014360,"size":4}},{"id":1521303,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976dfd0>"}},{"id":1521304,"event":"return","thread_id":9160,"parent_id":1521303,"elapsed":3.4080003388226032e-06,"elapsed_instrumentation":9.984098142012954e-05,"return_value":{"class":"Array","value":"[]","object_id":1014380,"size":0}},{"id":1521305,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976e020>"}},{"id":1521306,"event":"return","thread_id":9160,"parent_id":1521305,"elapsed":1.625300501473248e-05,"elapsed_instrumentation":0.00037115998566150665,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069cf538 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1014400,"size":1}},{"id":1521307,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014440,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976de90>"}},{"id":1521308,"event":"return","thread_id":9160,"parent_id":1521307,"elapsed":7.645602454431355e-05,"elapsed_instrumentation":0.00011629797518253326,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069cd490 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1014460,"size":1}},{"id":1521309,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976dee0>"}},{"id":1521310,"event":"return","thread_id":9160,"parent_id":1521309,"elapsed":3.101013135164976e-06,"elapsed_instrumentation":0.00011680001625791192,"return_value":{"class":"Array","value":"[]","object_id":1014500,"size":0}},{"id":1521311,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1493020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976dc60>"}},{"id":1521312,"event":"return","thread_id":9160,"parent_id":1521311,"elapsed":2.6059860829263926e-06,"elapsed_instrumentation":0.00011146499309688807,"return_value":{"class":"Array","value":"[]","object_id":1493040,"size":0}},{"id":1521313,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1521314,"event":"return","thread_id":9160,"parent_id":1521313,"elapsed":0.000561156,"elapsed_instrumentation":0.0004126779967918992},{"id":1521315,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"bulk_imports\" (\"type\", \"state\", \"total_items\", \"imported_items\", \"processed_items\", \"finished_at\", \"overwrite\", \"likely_mismatched\", \"original_filename\", \"account_id\", \"created_at\", \"updated_at\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":1521316,"event":"return","thread_id":9160,"parent_id":1521315,"elapsed":0.002454445,"elapsed_instrumentation":0.00010945700341835618},{"id":1521317,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1493020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976dc60>"}},{"id":1521318,"event":"return","thread_id":9160,"parent_id":1521317,"elapsed":3.446100163273513e-05,"elapsed_instrumentation":0.00020609499188140035,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069cc1f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1493060,"size":1}},{"id":1521319,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976dee0>"}},{"id":1521320,"event":"return","thread_id":9160,"parent_id":1521319,"elapsed":4.949979484081268e-06,"elapsed_instrumentation":0.00013878900790587068,"return_value":{"class":"Array","value":"[]","object_id":1014600,"size":0}},{"id":1521321,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1014440,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0976de90>"}},{"id":1521322,"event":"return","thread_id":9160,"parent_id":1521321,"elapsed":9.487994248047471e-06,"elapsed_instrumentation":0.0003672940074466169,"return_value":{"class":"Array","value":"[]","object_id":1014620,"size":0}},{"id":1521323,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1521324,"event":"return","thread_id":9160,"parent_id":1521323,"elapsed":0.00075929,"elapsed_instrumentation":8.911101031117141e-05},{"id":1521325,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"acct","path":"app/models/account.rb","lineno":191,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8327460,"value":"#<Account:0x00007fdbf64cf660>"}},{"id":1521326,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8327460,"value":"#<Account:0x00007fdbf64cf660>"}},{"id":1521327,"event":"return","thread_id":9160,"parent_id":1521326,"elapsed":9.554001735523343e-06,"elapsed_instrumentation":7.261300925165415e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1521328,"event":"return","thread_id":9160,"parent_id":1521325,"elapsed":0.00011448102304711938,"elapsed_instrumentation":0.00011156601249240339,"return_value":{"class":"String","value":"jamar3355","object_id":8327620}},{"id":1521329,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":1521330,"event":"return","thread_id":9160,"parent_id":1521329,"elapsed":1.9624014385044575e-05,"elapsed_instrumentation":0.00014273700071498752,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":1521331,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1495440,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a99240>"}},{"id":1521332,"event":"return","thread_id":9160,"parent_id":1521331,"elapsed":6.973400013521314e-05,"elapsed_instrumentation":0.00032707900390960276,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc066aeed0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc066af088 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1495460,"size":2}},{"id":1521333,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1495440,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a99240>"}},{"id":1521334,"event":"return","thread_id":9160,"parent_id":1521333,"elapsed":3.2399839255958796e-06,"elapsed_instrumentation":0.0005937110108789057,"return_value":{"class":"Array","value":"[]","object_id":1495480,"size":0}},{"id":1521335,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":1521336,"event":"return","thread_id":9160,"parent_id":1521335,"elapsed":2.9529910534620285e-06,"elapsed_instrumentation":9.374701767228544e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":1521337,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1495520,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a991a0>"}},{"id":1521338,"event":"return","thread_id":9160,"parent_id":1521337,"elapsed":7.657799869775772e-05,"elapsed_instrumentation":0.00016212198534049094,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc066add00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1495540,"size":1}},{"id":1521339,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8327700,"value":"{acct=>jamar3355, list_name=>my list}","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8327720,"value":"#<JSON::Ext::Generator::State:0x00007fdc08e9b060>"}},{"id":1521340,"event":"return","thread_id":9160,"parent_id":1521339,"elapsed":8.639995940029621e-06,"elapsed_instrumentation":0.00017144400044344366,"return_value":{"class":"String","value":"{\"acct\":\"jamar3355\",\"list_name\":\"my list\"}","object_id":8327740}},{"id":1521341,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8327760,"value":"#<JSON::Ext::Parser:0x00007fdc08e99008>"}},{"id":1521342,"event":"return","thread_id":9160,"parent_id":1521341,"elapsed":1.0042014764621854e-05,"elapsed_instrumentation":0.00015851797070354223,"return_value":{"class":"Hash","value":"{acct=>jamar3355, list_name=>my list}","object_id":8327780,"size":2}},{"id":1521343,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8327800,"value":"{acct=>jamar3355, list_name=>my list}","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8327820,"value":"#<JSON::Ext::Generator::State:0x00007fdc08e97438>"}},{"id":1521344,"event":"return","thread_id":9160,"parent_id":1521343,"elapsed":5.320005584508181e-06,"elapsed_instrumentation":0.00011395697947591543,"return_value":{"class":"String","value":"{\"acct\":\"jamar3355\",\"list_name\":\"my list\"}","object_id":8327840}},{"id":1521345,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1521346,"event":"return","thread_id":9160,"parent_id":1521345,"elapsed":0.000556312,"elapsed_instrumentation":0.0003016419941559434},{"id":1521347,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"bulk_import_rows\" (\"bulk_import_id\", \"data\", \"created_at\", \"updated_at\") VALUES ($1, $2, $3, $4) RETURNING \"id\"","database_type":"postgres"}},{"id":1521348,"event":"return","thread_id":9160,"parent_id":1521347,"elapsed":0.002234857,"elapsed_instrumentation":9.17519791983068e-05},{"id":1521349,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8327860,"value":"#<JSON::Ext::Parser:0x00007fdc08eefc78>"}},{"id":1521350,"event":"return","thread_id":9160,"parent_id":1521349,"elapsed":1.1367985280230641e-05,"elapsed_instrumentation":0.0001851920096669346,"return_value":{"class":"Hash","value":"{acct=>jamar3355, list_name=>my list}","object_id":8327880,"size":2}},{"id":1521351,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8327680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1495520,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09a991a0>"}},{"id":1521352,"event":"return","thread_id":9160,"parent_id":1521351,"elapsed":3.5859993658959866e-06,"elapsed_instrumentation":0.00010859497706405818,"return_value":{"class":"Array","value":"[]","object_id":1495720,"size":0}},{"id":1521353,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1521354,"event":"return","thread_id":9160,"parent_id":1521353,"elapsed":0.000968261,"elapsed_instrumentation":9.140002657659352e-05},{"id":1521355,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8327920,"value":"#<JSON::Ext::Parser:0x00007fdc08eeb7e0>"}},{"id":1521356,"event":"return","thread_id":9160,"parent_id":1521355,"elapsed":2.8654991183429956e-05,"elapsed_instrumentation":0.00018125897622667253,"return_value":{"class":"Hash","value":"{acct=>jamar3355, list_name=>my list}","object_id":8327940,"size":2}},{"id":1521357,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"domain","path":"app/services/bulk_import_row_service.rb","lineno":49,"static":false,"parameters":[{"name":"uri","class":"String","object_id":8327960,"value":"jamar3355","kind":"req"}],"receiver":{"class":"BulkImportRowService","object_id":8327980,"value":"#<BulkImportRowService:0x00007fdc077c6100>"}},{"id":1521358,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":1521359,"event":"return","thread_id":9160,"parent_id":1521358,"elapsed":3.6410056054592133e-06,"elapsed_instrumentation":9.563399362377822e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1521360,"event":"return","thread_id":9160,"parent_id":1521357,"elapsed":0.00012630000128410757,"elapsed_instrumentation":0.00011382097727619112},{"id":1521361,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"stoplight_wrap_request","path":"app/services/bulk_import_row_service.rb","lineno":54,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"BulkImportRowService","object_id":8327980,"value":"#<BulkImportRowService:0x00007fdc077c6100>"}},{"id":1521362,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":831360,"value":"#<TagManager:0x00007fdc08786ea0>"}},{"id":1521363,"event":"return","thread_id":9160,"parent_id":1521362,"elapsed":3.94799280911684e-06,"elapsed_instrumentation":0.00010427998495288193,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1521364,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ResolveAccountService","object_id":8328000,"value":"#<ResolveAccountService:0x00007fdc077c1ce0>"}},{"id":1521365,"event":"return","thread_id":9160,"parent_id":1521364,"elapsed":7.263006409630179e-06,"elapsed_instrumentation":0.0002598499704618007},{"id":1521366,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":8328020,"value":"#<AccountFinderConcern::AccountFinder:0x00007fdc08f2ef40>"}},{"id":1521367,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'jamar3355' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":1521368,"event":"return","thread_id":9160,"parent_id":1521367,"elapsed":0.001225565,"elapsed_instrumentation":9.992599370889366e-05},{"id":1521369,"event":"return","thread_id":9160,"parent_id":1521366,"elapsed":0.005010102002415806,"elapsed_instrumentation":0.00013552396558225155,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64c99e0>","object_id":8328040}},{"id":1521370,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8328040,"value":"#<Account:0x00007fdbf64c99e0>"}},{"id":1521371,"event":"return","thread_id":9160,"parent_id":1521370,"elapsed":1.7885002307593822e-05,"elapsed_instrumentation":0.0001004550140351057,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1521372,"event":"return","thread_id":9160,"parent_id":1521361,"elapsed":0.005778849998023361,"elapsed_instrumentation":0.00011533903307281435,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64c99e0>","object_id":8328040}},{"id":1521373,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"lists\".* FROM \"lists\" WHERE \"lists\".\"account_id\" = $1 AND \"lists\".\"title\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1521374,"event":"return","thread_id":9160,"parent_id":1521373,"elapsed":0.000616008,"elapsed_instrumentation":9.093902190215886e-05},{"id":1521375,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e1616a0>"}},{"id":1521376,"event":"return","thread_id":9160,"parent_id":1521375,"elapsed":2.234199200756848e-05,"elapsed_instrumentation":0.0003030079824384302,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0fdcf260 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":344280,"size":1}},{"id":1521377,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e161470>"}},{"id":1521378,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1521379,"event":"return","thread_id":9160,"parent_id":1521378,"elapsed":0.000758722,"elapsed_instrumentation":9.144499199464917e-05},{"id":1521380,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"lists\" WHERE \"lists\".\"account_id\" = $1 AND \"lists\".\"account_id\" = $2","database_type":"postgres"}},{"id":1521381,"event":"return","thread_id":9160,"parent_id":1521380,"elapsed":0.002298266,"elapsed_instrumentation":8.611500379629433e-05},{"id":1521382,"event":"return","thread_id":9160,"parent_id":1521377,"elapsed":0.004017330997157842,"elapsed_instrumentation":0.00020147798932157457,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0fdd2190 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fdd42b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fdd5070 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fdd5d40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fdd6a88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":344340,"size":5}},{"id":1521383,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e161470>"}},{"id":1521384,"event":"return","thread_id":9160,"parent_id":1521383,"elapsed":4.0000013541430235e-06,"elapsed_instrumentation":0.00012352498015388846,"return_value":{"class":"Array","value":"[]","object_id":344360,"size":0}},{"id":1521385,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e1616a0>"}},{"id":1521386,"event":"return","thread_id":9160,"parent_id":1521385,"elapsed":1.2711010640487075e-05,"elapsed_instrumentation":0.00010038600885309279,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0fdce298 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":344380,"size":1}},{"id":1521387,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e160980>"}},{"id":1521388,"event":"return","thread_id":9160,"parent_id":1521387,"elapsed":5.609600339084864e-05,"elapsed_instrumentation":0.00010628698510117829,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0fa44ff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":344440,"size":1}},{"id":1521389,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e160a20>"}},{"id":1521390,"event":"return","thread_id":9160,"parent_id":1521389,"elapsed":4.058005288243294e-06,"elapsed_instrumentation":0.0002856299979612231,"return_value":{"class":"Array","value":"[]","object_id":344480,"size":0}},{"id":1521391,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344520,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e1605c0>"}},{"id":1521392,"event":"return","thread_id":9160,"parent_id":1521391,"elapsed":3.196997568011284e-06,"elapsed_instrumentation":0.00010090600699186325,"return_value":{"class":"Array","value":"[]","object_id":344540,"size":0}},{"id":1521393,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"lists\" (\"account_id\", \"title\", \"created_at\", \"updated_at\", \"replies_policy\", \"exclusive\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":1521394,"event":"return","thread_id":9160,"parent_id":1521393,"elapsed":0.000856606,"elapsed_instrumentation":9.740999666973948e-05},{"id":1521395,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344520,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e1605c0>"}},{"id":1521396,"event":"return","thread_id":9160,"parent_id":1521395,"elapsed":4.687000182457268e-05,"elapsed_instrumentation":0.00031606797710992396,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0faed330 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0faebaf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":344560,"size":2}},{"id":1521397,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e160a20>"}},{"id":1521398,"event":"return","thread_id":9160,"parent_id":1521397,"elapsed":3.1260133255273104e-06,"elapsed_instrumentation":9.628402767702937e-05,"return_value":{"class":"Array","value":"[]","object_id":344580,"size":0}},{"id":1521399,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e160980>"}},{"id":1521400,"event":"return","thread_id":9160,"parent_id":1521399,"elapsed":2.8349750209599733e-06,"elapsed_instrumentation":8.217699360102415e-05,"return_value":{"class":"Array","value":"[]","object_id":344600,"size":0}},{"id":1521401,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1521402,"event":"return","thread_id":9160,"parent_id":1521401,"elapsed":0.000482739,"elapsed_instrumentation":7.789599476382136e-05},{"id":1521403,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8328040,"value":"#<Account:0x00007fdbf64c99e0>"}},{"id":1521404,"event":"return","thread_id":9160,"parent_id":1521403,"elapsed":2.2178981453180313e-05,"elapsed_instrumentation":9.552700794301927e-05},{"id":1521405,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"FollowService","object_id":8328160,"value":"#<FollowService:0x00007fdc0886ede0>"}},{"id":1521406,"event":"return","thread_id":9160,"parent_id":1521405,"elapsed":5.67999086342752e-06,"elapsed_instrumentation":8.497800445184112e-05},{"id":1521407,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":8327420,"value":"#<Account:0x00007fdbf64b4c48>","kind":"req"}],"receiver":{"class":"Account","object_id":8328040,"value":"#<Account:0x00007fdbf64c99e0>"}},{"id":1521408,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1521409,"event":"return","thread_id":9160,"parent_id":1521408,"elapsed":0.000808512,"elapsed_instrumentation":8.962498395703733e-05},{"id":1521410,"event":"return","thread_id":9160,"parent_id":1521407,"elapsed":0.002883356995880604,"elapsed_instrumentation":8.5269013652578e-05},{"id":1521411,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":8328040,"value":"#<Account:0x00007fdbf64c99e0>","kind":"req"}],"receiver":{"class":"Account","object_id":8327420,"value":"#<Account:0x00007fdbf64b4c48>"}},{"id":1521412,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1521413,"event":"return","thread_id":9160,"parent_id":1521412,"elapsed":0.000599446,"elapsed_instrumentation":0.00015650500427000225},{"id":1521414,"event":"return","thread_id":9160,"parent_id":1521411,"elapsed":0.002556766994530335,"elapsed_instrumentation":0.00012378901010379195},{"id":1521415,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"moved?","path":"app/models/account.rb","lineno":167,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8328040,"value":"#<Account:0x00007fdbf64c99e0>"}},{"id":1521416,"event":"return","thread_id":9160,"parent_id":1521415,"elapsed":1.9642990082502365e-05,"elapsed_instrumentation":0.00012034698738716543},{"id":1521417,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8328040,"value":"#<Account:0x00007fdbf64c99e0>"}},{"id":1521418,"event":"return","thread_id":9160,"parent_id":1521417,"elapsed":7.388007361441851e-06,"elapsed_instrumentation":8.717199671082199e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1521419,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"domain_blocking?","path":"app/models/concerns/account_interactions.rb","lineno":218,"static":false,"parameters":[{"name":"other_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Account","object_id":8327420,"value":"#<Account:0x00007fdbf64b4c48>"}},{"id":1521420,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" IS NULL LIMIT $2","database_type":"postgres"}},{"id":1521421,"event":"return","thread_id":9160,"parent_id":1521420,"elapsed":0.000628269,"elapsed_instrumentation":0.00010767200728878379},{"id":1521422,"event":"return","thread_id":9160,"parent_id":1521419,"elapsed":0.002406576997600496,"elapsed_instrumentation":9.424699237570167e-05},{"id":1521423,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":8328040,"value":"#<Account:0x00007fdbf64c99e0>","kind":"req"}],"receiver":{"class":"Account","object_id":8327420,"value":"#<Account:0x00007fdbf64b4c48>"}},{"id":1521424,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1521425,"event":"return","thread_id":9160,"parent_id":1521424,"elapsed":0.001108672,"elapsed_instrumentation":0.00010909599950537086},{"id":1521426,"event":"return","thread_id":9160,"parent_id":1521423,"elapsed":0.003623819997301325,"elapsed_instrumentation":0.0001720940344966948},{"id":1521427,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"requested?","path":"app/models/concerns/account_interactions.rb","lineno":238,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":8328040,"value":"#<Account:0x00007fdbf64c99e0>","kind":"req"}],"receiver":{"class":"Account","object_id":8327420,"value":"#<Account:0x00007fdbf64b4c48>"}},{"id":1521428,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1521429,"event":"return","thread_id":9160,"parent_id":1521428,"elapsed":0.000944028,"elapsed_instrumentation":0.00012154100113548338},{"id":1521430,"event":"return","thread_id":9160,"parent_id":1521427,"elapsed":0.0029545889992732555,"elapsed_instrumentation":0.0003258159849792719,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1521431,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"request_follow!","path":"app/models/concerns/account_interactions.rb","lineno":130,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":8328040,"value":"#<Account:0x00007fdbf64c99e0>","kind":"req"},{"name":"reblogs","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"notify","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"bypass_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":8327420,"value":"#<Account:0x00007fdbf64b4c48>"}},{"id":1521432,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follow_requests\".* FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1521433,"event":"return","thread_id":9160,"parent_id":1521432,"elapsed":0.000627386,"elapsed_instrumentation":0.00011398299830034375},{"id":1521434,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222721050973530727,"value":"111360525486765363","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222721050973530729,"value":"111360525486765364","kind":"req"}],"receiver":{"class":"Class","object_id":824880,"value":"PotentialFriendshipTracker"}},{"id":1521435,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":824880,"value":"PotentialFriendshipTracker"}},{"id":1521436,"event":"return","thread_id":9160,"parent_id":1521435,"elapsed":5.542999133467674e-06,"elapsed_instrumentation":0.00010001499322243035,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1521437,"event":"return","thread_id":9160,"parent_id":1521434,"elapsed":0.0008495439833495766,"elapsed_instrumentation":0.00020408400450833142},{"id":1521438,"event":"return","thread_id":9160,"parent_id":1521431,"elapsed":0.004051886004162952,"elapsed_instrumentation":0.0002443020057398826,"return_value":{"class":"FollowRequest","value":"#<FollowRequest:0x00007fdbf64c70a0>","object_id":8328180}},{"id":1521439,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1878660,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08f4b460>"}},{"id":1521440,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1521441,"event":"return","thread_id":9160,"parent_id":1521440,"elapsed":0.000679671,"elapsed_instrumentation":9.88609972409904e-05},{"id":1521442,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1521443,"event":"return","thread_id":9160,"parent_id":1521442,"elapsed":0.000576939,"elapsed_instrumentation":8.095399243757129e-05},{"id":1521444,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follow_requests\".* FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1521445,"event":"return","thread_id":9160,"parent_id":1521444,"elapsed":0.000567973,"elapsed_instrumentation":9.927499922923744e-05},{"id":1521446,"event":"return","thread_id":9160,"parent_id":1521439,"elapsed":0.004444430989678949,"elapsed_instrumentation":0.00022205800632946193,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09857a68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09857c20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1878680,"size":2}},{"id":1521447,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1878720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08f4ae20>"}},{"id":1521448,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"list_accounts\" WHERE \"list_accounts\".\"account_id\" = $1 AND \"list_accounts\".\"list_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1521449,"event":"return","thread_id":9160,"parent_id":1521448,"elapsed":0.000905097,"elapsed_instrumentation":0.00010776400449685752},{"id":1521450,"event":"return","thread_id":9160,"parent_id":1521447,"elapsed":0.0025938279868569225,"elapsed_instrumentation":0.0003635319881141186,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09853008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc098531c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc098533c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc098535d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc098537b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1878740,"size":5}},{"id":1521451,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1878720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08f4ae20>"}},{"id":1521452,"event":"return","thread_id":9160,"parent_id":1521451,"elapsed":4.720001015812159e-06,"elapsed_instrumentation":0.000323173007927835,"return_value":{"class":"Array","value":"[]","object_id":1878760,"size":0}},{"id":1521453,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1878660,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08f4b460>"}},{"id":1521454,"event":"return","thread_id":9160,"parent_id":1521453,"elapsed":3.0790106393396854e-06,"elapsed_instrumentation":9.297899669036269e-05,"return_value":{"class":"Array","value":"[]","object_id":1878780,"size":0}},{"id":1521455,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1878820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08f4a920>"}},{"id":1521456,"event":"return","thread_id":9160,"parent_id":1521455,"elapsed":0.00014714602730236948,"elapsed_instrumentation":0.00013897198368795216,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0980ec00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0980ed40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0980ee80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0980efe8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1878840,"size":4}},{"id":1521457,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"list_accounts\" (\"list_id\", \"account_id\", \"follow_id\", \"follow_request_id\") VALUES ($1, $2, $3, $4) RETURNING \"id\"","database_type":"postgres"}},{"id":1521458,"event":"return","thread_id":9160,"parent_id":1521457,"elapsed":0.001247645,"elapsed_instrumentation":0.00010333399404771626},{"id":1521459,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8328240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1878820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08f4a920>"}},{"id":1521460,"event":"return","thread_id":9160,"parent_id":1521459,"elapsed":3.963999915868044e-06,"elapsed_instrumentation":0.0001565229904372245,"return_value":{"class":"Array","value":"[]","object_id":1878860,"size":0}},{"id":1521461,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1521462,"event":"return","thread_id":9160,"parent_id":1521461,"elapsed":0.000566854,"elapsed_instrumentation":0.00010218299576081336}]}