{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --follows option displays a successful message","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"User","type":"class","children":[{"name":"those_who_can","type":"function","location":"app/models/user.rb:143","static":true}]},{"name":"UserRole","type":"class","children":[{"name":"that_can","type":"function","location":"app/models/user_role.rb:111","static":true},{"name":"can?","type":"function","location":"app/models/user_role.rb:131","static":false},{"name":"computed_permissions","type":"function","location":"app/models/user_role.rb:139","static":false},{"name":"everyone?","type":"function","location":"app/models/user_role.rb:115","static":false},{"name":"nobody?","type":"function","location":"app/models/user_role.rb:119","static":false},{"name":"everyone","type":"function","location":"app/models/user_role.rb:105","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]},{"name":"BootstrapTimelineWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/bootstrap_timeline_worker.rb:6","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":1494397,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":8142620,"value":"izetta_leannon3232","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8142640,"value":"#<Mastodon::CLI::Accounts:0x00007fdc0886c130>"}},{"id":1494398,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":8142660,"value":"#<AccountFinderConcern::AccountFinder:0x00007fdc06748620>"}},{"id":1494399,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'izetta_leannon3232' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":1494400,"event":"return","thread_id":9160,"parent_id":1494399,"elapsed":0.000900851,"elapsed_instrumentation":0.0001206439919769764},{"id":1494401,"event":"return","thread_id":9160,"parent_id":1494398,"elapsed":0.004952788993250579,"elapsed_instrumentation":0.0003918659931514412,"return_value":{"class":"Account","value":"#<Account:0x00007fdc069fcbc8>","object_id":8142680}},{"id":1494402,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1)","database_type":"postgres"}},{"id":1494403,"event":"return","thread_id":9160,"parent_id":1494402,"elapsed":0.001591496,"elapsed_instrumentation":0.0003155879967380315},{"id":1494404,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8142640,"value":"#<Mastodon::CLI::Accounts:0x00007fdc0886c130>"}},{"id":1494405,"event":"return","thread_id":9160,"parent_id":1494404,"elapsed":0.00018828900647349656,"elapsed_instrumentation":0.00048721101484261453,"return_value":{"class":"ProgressBar::Base","value":"","object_id":8142700}},{"id":1494406,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1494407,"event":"return","thread_id":9160,"parent_id":1494406,"elapsed":0.002724211,"elapsed_instrumentation":0.00010956099140457809},{"id":1494408,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8142720,"value":"relationship:111360522456670512:111360522456670522","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8142740,"value":"#<UnfollowService:0x00007fdc08869fc0>"}},{"id":1494409,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8142740,"value":"#<UnfollowService:0x00007fdc08869fc0>"}},{"id":1494410,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8142760,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8142780,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494411,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494412,"event":"return","thread_id":9160,"parent_id":1494411,"elapsed":3.189023118466139e-06,"elapsed_instrumentation":7.257697870954871e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1494413,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8142800,"value":"____B_N__N__R_f_"}},{"id":1494414,"event":"return","thread_id":9160,"parent_id":1494413,"elapsed":7.472990546375513e-06,"elapsed_instrumentation":0.00046710000606253743,"return_value":{"class":"Array","value":"[4091054832, 17133, 20098, 41294, 43714, 1389913822]","object_id":8142820,"size":6}},{"id":1494415,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494416,"event":"return","thread_id":9160,"parent_id":1494415,"elapsed":0.000745242,"elapsed_instrumentation":8.906700531952083e-05},{"id":1494417,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8142840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494418,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494419,"event":"return","thread_id":9160,"parent_id":1494418,"elapsed":0.000831191,"elapsed_instrumentation":0.00014053701306693256},{"id":1494420,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494421,"event":"return","thread_id":9160,"parent_id":1494420,"elapsed":0.000745492,"elapsed_instrumentation":8.757199975661933e-05},{"id":1494422,"event":"return","thread_id":9160,"parent_id":1494417,"elapsed":0.003935531014576554,"elapsed_instrumentation":0.0003972139675170183,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1494423,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1494424,"event":"return","thread_id":9160,"parent_id":1494423,"elapsed":0.000964129,"elapsed_instrumentation":0.00011791702127084136},{"id":1494425,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8142840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494426,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1494427,"event":"return","thread_id":9160,"parent_id":1494426,"elapsed":0.00109678,"elapsed_instrumentation":0.00022968501434661448},{"id":1494428,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494429,"event":"return","thread_id":9160,"parent_id":1494428,"elapsed":0.00064852,"elapsed_instrumentation":0.00031398198916576803},{"id":1494430,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8142860,"value":"#<Account:0x00007fdc069f9388>"}},{"id":1494431,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8142860,"value":"#<Account:0x00007fdc069f9388>"}},{"id":1494432,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522456670522, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494433,"event":"return","thread_id":9160,"parent_id":1494432,"elapsed":0.001104397,"elapsed_instrumentation":0.00010679700062610209},{"id":1494434,"event":"return","thread_id":9160,"parent_id":1494431,"elapsed":0.0016914930019993335,"elapsed_instrumentation":9.825199958868325e-05},{"id":1494435,"event":"return","thread_id":9160,"parent_id":1494430,"elapsed":0.0018198690086137503,"elapsed_instrumentation":0.0001388029777444899},{"id":1494436,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494437,"event":"return","thread_id":9160,"parent_id":1494436,"elapsed":0.000596182,"elapsed_instrumentation":0.0003434529935475439},{"id":1494438,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8142880,"value":"#<Account:0x00007fdc069f80c8>"}},{"id":1494439,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8142880,"value":"#<Account:0x00007fdc069f80c8>"}},{"id":1494440,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522456670512, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494441,"event":"return","thread_id":9160,"parent_id":1494440,"elapsed":0.000989859,"elapsed_instrumentation":7.969097350724041e-05},{"id":1494442,"event":"return","thread_id":9160,"parent_id":1494439,"elapsed":0.001512278977315873,"elapsed_instrumentation":9.744800627231598e-05},{"id":1494443,"event":"return","thread_id":9160,"parent_id":1494438,"elapsed":0.0016344299947377294,"elapsed_instrumentation":0.00016217600204981863},{"id":1494444,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142860,"value":"#<Account:0x00007fdc069f9388>"}},{"id":1494445,"event":"return","thread_id":9160,"parent_id":1494444,"elapsed":1.55890011228621e-05,"elapsed_instrumentation":0.0001210109912790358,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494446,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142880,"value":"#<Account:0x00007fdc069f80c8>"}},{"id":1494447,"event":"return","thread_id":9160,"parent_id":1494446,"elapsed":8.410017471760511e-06,"elapsed_instrumentation":7.268198532983661e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494448,"event":"return","thread_id":9160,"parent_id":1494425,"elapsed":0.012953782017575577,"elapsed_instrumentation":0.0002374039904680103,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1494449,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494450,"event":"return","thread_id":9160,"parent_id":1494449,"elapsed":0.000621319,"elapsed_instrumentation":0.00022894202265888453},{"id":1494451,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8142920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494452,"event":"return","thread_id":9160,"parent_id":1494451,"elapsed":3.60200647264719e-06,"elapsed_instrumentation":0.00012991702533327043,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1494453,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8142920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494454,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8142940,"value":"Cache delete: relationship:111360522456670522:111360522456670512\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494455,"event":"return","thread_id":9160,"parent_id":1494454,"elapsed":0.0008767140097916126,"elapsed_instrumentation":0.00013900100020691752,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494456,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8142960,"value":"Cache delete: relationship:111360522456670512:111360522456670522\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494457,"event":"return","thread_id":9160,"parent_id":1494456,"elapsed":0.0010252429929096252,"elapsed_instrumentation":0.0001415860024280846,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494458,"event":"return","thread_id":9160,"parent_id":1494453,"elapsed":0.0025448710075579584,"elapsed_instrumentation":0.000680274999467656,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1494459,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142980,"value":"#<Account:0x00007fdc069fb688>"}},{"id":1494460,"event":"return","thread_id":9160,"parent_id":1494459,"elapsed":1.4151999494060874e-05,"elapsed_instrumentation":0.00011320001794956625,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494461,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142980,"value":"#<Account:0x00007fdc069fb688>"}},{"id":1494462,"event":"return","thread_id":9160,"parent_id":1494461,"elapsed":4.258996341377497e-06,"elapsed_instrumentation":0.00033115799305960536,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494463,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142680,"value":"#<Account:0x00007fdc069fcbc8>"}},{"id":1494464,"event":"return","thread_id":9160,"parent_id":1494463,"elapsed":9.412993676960468e-06,"elapsed_instrumentation":7.18400115147233e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494465,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8143000,"value":"{args=>[111360522456670512, 111360522456670522], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8143020,"value":"#<Sidekiq::Client:0x00007fdc066df418>"}},{"id":1494466,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8143040,"value":"____t_\u001f___VB"}},{"id":1494467,"event":"return","thread_id":9160,"parent_id":1494466,"elapsed":4.541012458503246e-06,"elapsed_instrumentation":0.00021363297128118575,"return_value":{"class":"String","value":"f1ac8ddf74821faaa9ff5642","object_id":8143060}},{"id":1494468,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8143080,"value":"[111360522456670512, 111360522456670522]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8143100,"value":"#<JSON::Ext::Generator::State:0x00007fdc066dd230>"}},{"id":1494469,"event":"return","thread_id":9160,"parent_id":1494468,"elapsed":5.91299613006413e-06,"elapsed_instrumentation":0.00011109100887551904,"return_value":{"class":"String","value":"[111360522456670512,111360522456670522]","object_id":8143120}},{"id":1494470,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8143140,"value":"#<JSON::Ext::Parser:0x00007fdc066dc470>"}},{"id":1494471,"event":"return","thread_id":9160,"parent_id":1494470,"elapsed":5.429988959804177e-06,"elapsed_instrumentation":8.225798956118524e-05,"return_value":{"class":"Array","value":"[111360522456670512, 111360522456670522]","object_id":8143160,"size":2}},{"id":1494472,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8143180,"value":"_&____L\u0004_;__"}},{"id":1494473,"event":"return","thread_id":9160,"parent_id":1494472,"elapsed":3.3079995773732662e-06,"elapsed_instrumentation":9.694602340459824e-05,"return_value":{"class":"String","value":"b926e4aff1e04c04c43b9c94","object_id":8143200}},{"id":1494474,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8143220,"value":"{retry=>true, queue=>pull, args=>[111360522456670512, 111360522456670522], class=>UnmergeWorker, jid=>f1ac8ddf74821faaa9ff5642, created_at=>1699226723.2964165, id=>b926e4aff1e04c04c43b9c94}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8143240,"value":"#<JSON::Ext::Generator::State:0x00007fdc066da1c0>"}},{"id":1494475,"event":"return","thread_id":9160,"parent_id":1494474,"elapsed":1.681799767538905e-05,"elapsed_instrumentation":0.0005529389891307801,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522456670512,111360522456670522],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8143260}},{"id":1494476,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8143280,"value":"#<JSON::Ext::Parser:0x00007fdc066d7e70>"}},{"id":1494477,"event":"return","thread_id":9160,"parent_id":1494476,"elapsed":2.0979001419618726e-05,"elapsed_instrumentation":0.00023310896358452737,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522456670512, 111360522456670522], class=>UnmergeWorker, jid=>f1ac8ddf74821faaa9ff5642, created_at=>1699226723.2964165, id=>b926e4aff1e04c04c43b9c94}","object_id":8143300,"size":7}},{"id":1494478,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044913341025,"value":"111360522456670512","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8143320,"value":"#<UnmergeWorker:0x00007fdc066d5ad0>"}},{"id":1494479,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8143320,"value":"#<UnmergeWorker:0x00007fdc066d5ad0>"}},{"id":1494480,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494481,"event":"return","thread_id":9160,"parent_id":1494480,"elapsed":0.000934144,"elapsed_instrumentation":0.00020966600277461112},{"id":1494482,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494483,"event":"return","thread_id":9160,"parent_id":1494482,"elapsed":0.000538174,"elapsed_instrumentation":7.730801007710397e-05},{"id":1494484,"event":"return","thread_id":9160,"parent_id":1494479,"elapsed":0.004627277987310663,"elapsed_instrumentation":0.00014427100541070104,"return_value":{"class":"Account","value":"#<Account:0x00007fdc069f6908>","object_id":8143340}},{"id":1494485,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8143320,"value":"#<UnmergeWorker:0x00007fdc066d5ad0>"}},{"id":1494486,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8143360,"value":"#<Account:0x00007fdc069f6a48>","kind":"req"},{"name":"into_account","class":"Account","object_id":8143340,"value":"#<Account:0x00007fdc069f6908>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494487,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494488,"event":"return","thread_id":9160,"parent_id":1494487,"elapsed":5.156995030120015e-06,"elapsed_instrumentation":0.00010978500358760357,"return_value":{"class":"String","value":"feed:home:111360522456670522","object_id":8143380}},{"id":1494489,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494490,"event":"return","thread_id":9160,"parent_id":1494489,"elapsed":5.36901643499732e-06,"elapsed_instrumentation":7.42579868528992e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1494491,"event":"return","thread_id":9160,"parent_id":1494486,"elapsed":0.004239944013534114,"elapsed_instrumentation":0.00015650299610570073},{"id":1494492,"event":"return","thread_id":9160,"parent_id":1494485,"elapsed":0.004435659007867798,"elapsed_instrumentation":0.00023243596660904586},{"id":1494493,"event":"return","thread_id":9160,"parent_id":1494478,"elapsed":0.009498436003923416,"elapsed_instrumentation":0.0003003980091307312},{"id":1494494,"event":"return","thread_id":9160,"parent_id":1494465,"elapsed":0.011501160013722256,"elapsed_instrumentation":0.0002958799886982888,"return_value":{"class":"String","value":"f1ac8ddf74821faaa9ff5642","object_id":8143060}},{"id":1494495,"event":"return","thread_id":9160,"parent_id":1494410,"elapsed":0.040534298022976145,"elapsed_instrumentation":0.00016000898904167116,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f9c48>","object_id":8142900}},{"id":1494496,"event":"return","thread_id":9160,"parent_id":1494409,"elapsed":0.04071785102132708,"elapsed_instrumentation":8.964299922809005e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f9c48>","object_id":8142900}},{"id":1494497,"event":"return","thread_id":9160,"parent_id":1494408,"elapsed":0.040847981988918036,"elapsed_instrumentation":0.0007352440152317286,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f9c48>","object_id":8142900}},{"id":1494498,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8143400,"value":"relationship:111360522456670513:111360522456670522","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8143420,"value":"#<UnfollowService:0x00007fdc08862950>"}},{"id":1494499,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8143420,"value":"#<UnfollowService:0x00007fdc08862950>"}},{"id":1494500,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8143440,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8143460,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494501,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494502,"event":"return","thread_id":9160,"parent_id":1494501,"elapsed":3.3579999580979347e-06,"elapsed_instrumentation":7.824201020412147e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1494503,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8143480,"value":")_L___\u0012___m\u000e/b__"}},{"id":1494504,"event":"return","thread_id":9160,"parent_id":1494503,"elapsed":7.005000952631235e-06,"elapsed_instrumentation":0.0002049159666057676,"return_value":{"class":"Array","value":"[704007357, 52362, 4752, 47758, 27918, 795012029]","object_id":8143500,"size":6}},{"id":1494505,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494506,"event":"return","thread_id":9160,"parent_id":1494505,"elapsed":0.000574144,"elapsed_instrumentation":0.00013701600255444646},{"id":1494507,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8143520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494508,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494509,"event":"return","thread_id":9160,"parent_id":1494508,"elapsed":0.000552471,"elapsed_instrumentation":8.252498810179532e-05},{"id":1494510,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494511,"event":"return","thread_id":9160,"parent_id":1494510,"elapsed":0.000446906,"elapsed_instrumentation":7.528098649345338e-05},{"id":1494512,"event":"return","thread_id":9160,"parent_id":1494507,"elapsed":0.002690769004402682,"elapsed_instrumentation":0.00016485300147905946,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1494513,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1494514,"event":"return","thread_id":9160,"parent_id":1494513,"elapsed":0.000890011,"elapsed_instrumentation":7.728600758127868e-05},{"id":1494515,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8143520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494516,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1494517,"event":"return","thread_id":9160,"parent_id":1494516,"elapsed":0.000840102,"elapsed_instrumentation":8.696599979884923e-05},{"id":1494518,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494519,"event":"return","thread_id":9160,"parent_id":1494518,"elapsed":0.00070391,"elapsed_instrumentation":7.655101944692433e-05},{"id":1494520,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8143540,"value":"#<Account:0x00007fdc069f5c88>"}},{"id":1494521,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8143540,"value":"#<Account:0x00007fdc069f5c88>"}},{"id":1494522,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522456670522, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494523,"event":"return","thread_id":9160,"parent_id":1494522,"elapsed":0.001169947,"elapsed_instrumentation":7.887699757702649e-05},{"id":1494524,"event":"return","thread_id":9160,"parent_id":1494521,"elapsed":0.001931370992679149,"elapsed_instrumentation":9.680900257080793e-05},{"id":1494525,"event":"return","thread_id":9160,"parent_id":1494520,"elapsed":0.002054281998425722,"elapsed_instrumentation":0.00012195599265396595},{"id":1494526,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494527,"event":"return","thread_id":9160,"parent_id":1494526,"elapsed":0.000790261,"elapsed_instrumentation":8.606899064034224e-05},{"id":1494528,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8143560,"value":"#<Account:0x00007fdc069f4ec8>"}},{"id":1494529,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8143560,"value":"#<Account:0x00007fdc069f4ec8>"}},{"id":1494530,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522456670513, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494531,"event":"return","thread_id":9160,"parent_id":1494530,"elapsed":0.000842188,"elapsed_instrumentation":8.054199861362576e-05},{"id":1494532,"event":"return","thread_id":9160,"parent_id":1494529,"elapsed":0.001388469012454152,"elapsed_instrumentation":9.399099508300424e-05},{"id":1494533,"event":"return","thread_id":9160,"parent_id":1494528,"elapsed":0.0015077900025062263,"elapsed_instrumentation":0.00013497300096787512},{"id":1494534,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8143540,"value":"#<Account:0x00007fdc069f5c88>"}},{"id":1494535,"event":"return","thread_id":9160,"parent_id":1494534,"elapsed":1.5594996511936188e-05,"elapsed_instrumentation":0.00021172896958887577,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494536,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8143560,"value":"#<Account:0x00007fdc069f4ec8>"}},{"id":1494537,"event":"return","thread_id":9160,"parent_id":1494536,"elapsed":7.997994543984532e-06,"elapsed_instrumentation":7.91210331954062e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494538,"event":"return","thread_id":9160,"parent_id":1494515,"elapsed":0.012056591978762299,"elapsed_instrumentation":0.0001787710061762482,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1494539,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494540,"event":"return","thread_id":9160,"parent_id":1494539,"elapsed":0.000442824,"elapsed_instrumentation":0.0002854200138244778},{"id":1494541,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8143600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494542,"event":"return","thread_id":9160,"parent_id":1494541,"elapsed":3.7159770727157593e-06,"elapsed_instrumentation":0.00013088202103972435,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1494543,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8143600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494544,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8143620,"value":"Cache delete: relationship:111360522456670522:111360522456670513\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494545,"event":"return","thread_id":9160,"parent_id":1494544,"elapsed":0.0008034410129766911,"elapsed_instrumentation":0.00012295498163439333,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494546,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8143640,"value":"Cache delete: relationship:111360522456670513:111360522456670522\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494547,"event":"return","thread_id":9160,"parent_id":1494546,"elapsed":0.001511092996224761,"elapsed_instrumentation":0.00013693998334929347,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494548,"event":"return","thread_id":9160,"parent_id":1494543,"elapsed":0.0028571570001076907,"elapsed_instrumentation":0.00011301200720481575,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1494549,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8143660,"value":"#<Account:0x00007fdc069fb408>"}},{"id":1494550,"event":"return","thread_id":9160,"parent_id":1494549,"elapsed":1.2245989637449384e-05,"elapsed_instrumentation":8.72490054462105e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494551,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8143660,"value":"#<Account:0x00007fdc069fb408>"}},{"id":1494552,"event":"return","thread_id":9160,"parent_id":1494551,"elapsed":3.955996362492442e-06,"elapsed_instrumentation":6.436498370021582e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494553,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142680,"value":"#<Account:0x00007fdc069fcbc8>"}},{"id":1494554,"event":"return","thread_id":9160,"parent_id":1494553,"elapsed":4.5120250433683395e-06,"elapsed_instrumentation":6.0488993767648935e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494555,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8143680,"value":"{args=>[111360522456670513, 111360522456670522], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8143700,"value":"#<Sidekiq::Client:0x00007fdc06660ca8>"}},{"id":1494556,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8143720,"value":"/_\u0012_}____\u001b{_"}},{"id":1494557,"event":"return","thread_id":9160,"parent_id":1494556,"elapsed":5.547975888475776e-06,"elapsed_instrumentation":0.00041410300764255226,"return_value":{"class":"String","value":"2fd012947de3eeb5eb1b7be2","object_id":8143740}},{"id":1494558,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8143760,"value":"[111360522456670513, 111360522456670522]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8143780,"value":"#<JSON::Ext::Generator::State:0x00007fdc0667e230>"}},{"id":1494559,"event":"return","thread_id":9160,"parent_id":1494558,"elapsed":7.652008207514882e-06,"elapsed_instrumentation":0.00012079000589437783,"return_value":{"class":"String","value":"[111360522456670513,111360522456670522]","object_id":8143800}},{"id":1494560,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8143820,"value":"#<JSON::Ext::Parser:0x00007fdc0667d0d8>"}},{"id":1494561,"event":"return","thread_id":9160,"parent_id":1494560,"elapsed":5.830981535837054e-06,"elapsed_instrumentation":8.469499880447984e-05,"return_value":{"class":"Array","value":"[111360522456670513, 111360522456670522]","object_id":8143840,"size":2}},{"id":1494562,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8143860,"value":"v0\u0005{C+__8\u0006_}"}},{"id":1494563,"event":"return","thread_id":9160,"parent_id":1494562,"elapsed":3.569002728909254e-06,"elapsed_instrumentation":0.0001656210224609822,"return_value":{"class":"String","value":"7630057b432b99d23806f77d","object_id":8143880}},{"id":1494564,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8143900,"value":"{retry=>true, queue=>pull, args=>[111360522456670513, 111360522456670522], class=>UnmergeWorker, jid=>2fd012947de3eeb5eb1b7be2, created_at=>1699226723.3344831, id=>7630057b432b99d23806f77d}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8143920,"value":"#<JSON::Ext::Generator::State:0x00007fdc0667b238>"}},{"id":1494565,"event":"return","thread_id":9160,"parent_id":1494564,"elapsed":1.6090983990579844e-05,"elapsed_instrumentation":0.00021123699843883514,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522456670513,111360522456670522],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8143940}},{"id":1494566,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8143960,"value":"#<JSON::Ext::Parser:0x00007fdc06678ce0>"}},{"id":1494567,"event":"return","thread_id":9160,"parent_id":1494566,"elapsed":1.9574014004319906e-05,"elapsed_instrumentation":0.00018874998204410076,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522456670513, 111360522456670522], class=>UnmergeWorker, jid=>2fd012947de3eeb5eb1b7be2, created_at=>1699226723.3344831, id=>7630057b432b99d23806f77d}","object_id":8143980,"size":7}},{"id":1494568,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044913341027,"value":"111360522456670513","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8144000,"value":"#<UnmergeWorker:0x00007fdc066760a8>"}},{"id":1494569,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8144000,"value":"#<UnmergeWorker:0x00007fdc066760a8>"}},{"id":1494570,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494571,"event":"return","thread_id":9160,"parent_id":1494570,"elapsed":0.000601002,"elapsed_instrumentation":8.004900882951915e-05},{"id":1494572,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494573,"event":"return","thread_id":9160,"parent_id":1494572,"elapsed":0.000791209,"elapsed_instrumentation":9.998399764299393e-05},{"id":1494574,"event":"return","thread_id":9160,"parent_id":1494569,"elapsed":0.004590975004248321,"elapsed_instrumentation":0.0001636509841773659,"return_value":{"class":"Account","value":"#<Account:0x00007fdc069f30c8>","object_id":8144020}},{"id":1494575,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8144000,"value":"#<UnmergeWorker:0x00007fdc066760a8>"}},{"id":1494576,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8144040,"value":"#<Account:0x00007fdc069f3208>","kind":"req"},{"name":"into_account","class":"Account","object_id":8144020,"value":"#<Account:0x00007fdc069f30c8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494577,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494578,"event":"return","thread_id":9160,"parent_id":1494577,"elapsed":1.2604024959728122e-05,"elapsed_instrumentation":0.0006329399766400456,"return_value":{"class":"String","value":"feed:home:111360522456670522","object_id":8144060}},{"id":1494579,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494580,"event":"return","thread_id":9160,"parent_id":1494579,"elapsed":9.037001291289926e-06,"elapsed_instrumentation":0.00015356802032329142,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1494581,"event":"return","thread_id":9160,"parent_id":1494576,"elapsed":0.0053466490062419325,"elapsed_instrumentation":0.00017862397362478077},{"id":1494582,"event":"return","thread_id":9160,"parent_id":1494575,"elapsed":0.005577372008701786,"elapsed_instrumentation":0.0001623760035727173},{"id":1494583,"event":"return","thread_id":9160,"parent_id":1494568,"elapsed":0.010566176992142573,"elapsed_instrumentation":8.37070110719651e-05},{"id":1494584,"event":"return","thread_id":9160,"parent_id":1494555,"elapsed":0.012240414012921974,"elapsed_instrumentation":0.00017674898845143616,"return_value":{"class":"String","value":"2fd012947de3eeb5eb1b7be2","object_id":8143740}},{"id":1494585,"event":"return","thread_id":9160,"parent_id":1494500,"elapsed":0.03725988700171001,"elapsed_instrumentation":0.00018282298697158694,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f6688>","object_id":8143580}},{"id":1494586,"event":"return","thread_id":9160,"parent_id":1494499,"elapsed":0.03747321499395184,"elapsed_instrumentation":0.0003516380093060434,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f6688>","object_id":8143580}},{"id":1494587,"event":"return","thread_id":9160,"parent_id":1494498,"elapsed":0.03786822099937126,"elapsed_instrumentation":0.00029260400333441794,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f6688>","object_id":8143580}},{"id":1494588,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8144080,"value":"relationship:111360522456670514:111360522456670522","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8144100,"value":"#<UnfollowService:0x00007fdc089391f8>"}},{"id":1494589,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8144100,"value":"#<UnfollowService:0x00007fdc089391f8>"}},{"id":1494590,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8144120,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8144140,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494591,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494592,"event":"return","thread_id":9160,"parent_id":1494591,"elapsed":3.25602013617754e-06,"elapsed_instrumentation":7.78030080255121e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1494593,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8144160,"value":"\ncDd_1:_*_____l_"}},{"id":1494594,"event":"return","thread_id":9160,"parent_id":1494593,"elapsed":6.6480133682489395e-06,"elapsed_instrumentation":0.00013593898620456457,"return_value":{"class":"Array","value":"[174277732, 56625, 15093, 11005, 41952, 4001393914]","object_id":8144180,"size":6}},{"id":1494595,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494596,"event":"return","thread_id":9160,"parent_id":1494595,"elapsed":0.000557081,"elapsed_instrumentation":0.0003269159933552146},{"id":1494597,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8144200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494598,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494599,"event":"return","thread_id":9160,"parent_id":1494598,"elapsed":0.000414504,"elapsed_instrumentation":0.0002775160246528685},{"id":1494600,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494601,"event":"return","thread_id":9160,"parent_id":1494600,"elapsed":0.000434917,"elapsed_instrumentation":8.740599150769413e-05},{"id":1494602,"event":"return","thread_id":9160,"parent_id":1494597,"elapsed":0.0030321480007842183,"elapsed_instrumentation":0.000520275003509596,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1494603,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1494604,"event":"return","thread_id":9160,"parent_id":1494603,"elapsed":0.000936513,"elapsed_instrumentation":0.00010864998330362141},{"id":1494605,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8144200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494606,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1494607,"event":"return","thread_id":9160,"parent_id":1494606,"elapsed":0.000742188,"elapsed_instrumentation":0.00010639100219123065},{"id":1494608,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494609,"event":"return","thread_id":9160,"parent_id":1494608,"elapsed":0.000927563,"elapsed_instrumentation":0.00011409400030970573},{"id":1494610,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8144220,"value":"#<Account:0x00007fdc069f1f48>"}},{"id":1494611,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8144220,"value":"#<Account:0x00007fdc069f1f48>"}},{"id":1494612,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522456670522, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494613,"event":"return","thread_id":9160,"parent_id":1494612,"elapsed":0.00106823,"elapsed_instrumentation":9.20979946386069e-05},{"id":1494614,"event":"return","thread_id":9160,"parent_id":1494611,"elapsed":0.0021811559854540974,"elapsed_instrumentation":0.00012024701572954655},{"id":1494615,"event":"return","thread_id":9160,"parent_id":1494610,"elapsed":0.002333013020688668,"elapsed_instrumentation":0.00018646998796612024},{"id":1494616,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494617,"event":"return","thread_id":9160,"parent_id":1494616,"elapsed":0.000826188,"elapsed_instrumentation":0.00011882098624482751},{"id":1494618,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8144240,"value":"#<Account:0x00007fdc069f0b48>"}},{"id":1494619,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8144240,"value":"#<Account:0x00007fdc069f0b48>"}},{"id":1494620,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522456670514, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494621,"event":"return","thread_id":9160,"parent_id":1494620,"elapsed":0.001067819,"elapsed_instrumentation":8.395701297558844e-05},{"id":1494622,"event":"return","thread_id":9160,"parent_id":1494619,"elapsed":0.0016552659799344838,"elapsed_instrumentation":9.430202771909535e-05},{"id":1494623,"event":"return","thread_id":9160,"parent_id":1494618,"elapsed":0.0018444139859639108,"elapsed_instrumentation":0.00013585900887846947},{"id":1494624,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8144220,"value":"#<Account:0x00007fdc069f1f48>"}},{"id":1494625,"event":"return","thread_id":9160,"parent_id":1494624,"elapsed":1.466998946852982e-05,"elapsed_instrumentation":0.00011275600991211832,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494626,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8144240,"value":"#<Account:0x00007fdc069f0b48>"}},{"id":1494627,"event":"return","thread_id":9160,"parent_id":1494626,"elapsed":1.4249002560973167e-05,"elapsed_instrumentation":0.00019735799287445843,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494628,"event":"return","thread_id":9160,"parent_id":1494605,"elapsed":0.013901864003855735,"elapsed_instrumentation":0.0002521829737816006,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1494629,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494630,"event":"return","thread_id":9160,"parent_id":1494629,"elapsed":0.000383802,"elapsed_instrumentation":7.556399214081466e-05},{"id":1494631,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8144280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494632,"event":"return","thread_id":9160,"parent_id":1494631,"elapsed":3.2660027500241995e-06,"elapsed_instrumentation":0.0001838739844970405,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1494633,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8144280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494634,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8144300,"value":"Cache delete: relationship:111360522456670522:111360522456670514\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494635,"event":"return","thread_id":9160,"parent_id":1494634,"elapsed":0.0007701030117459595,"elapsed_instrumentation":0.00012068598880432546,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494636,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8144320,"value":"Cache delete: relationship:111360522456670514:111360522456670522\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494637,"event":"return","thread_id":9160,"parent_id":1494636,"elapsed":0.0008807580161374062,"elapsed_instrumentation":0.00016279297415167093,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494638,"event":"return","thread_id":9160,"parent_id":1494633,"elapsed":0.0022278300020843744,"elapsed_instrumentation":0.00011635603732429445,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1494639,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8144340,"value":"#<Account:0x00007fdc069fb2c8>"}},{"id":1494640,"event":"return","thread_id":9160,"parent_id":1494639,"elapsed":1.2843986041843891e-05,"elapsed_instrumentation":9.429099736735225e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494641,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8144340,"value":"#<Account:0x00007fdc069fb2c8>"}},{"id":1494642,"event":"return","thread_id":9160,"parent_id":1494641,"elapsed":4.4130138121545315e-06,"elapsed_instrumentation":6.678298814222217e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494643,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142680,"value":"#<Account:0x00007fdc069fcbc8>"}},{"id":1494644,"event":"return","thread_id":9160,"parent_id":1494643,"elapsed":4.245986929163337e-06,"elapsed_instrumentation":6.030101212672889e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494645,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8144360,"value":"{args=>[111360522456670514, 111360522456670522], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8144380,"value":"#<Sidekiq::Client:0x00007fdc065dff90>"}},{"id":1494646,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8144400,"value":"[>__I_-_H\n_j"}},{"id":1494647,"event":"return","thread_id":9160,"parent_id":1494646,"elapsed":4.664994776248932e-06,"elapsed_instrumentation":0.00011934601934626698,"return_value":{"class":"String","value":"5b3eddb349d62d83480ae06a","object_id":8144420}},{"id":1494648,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8144440,"value":"[111360522456670514, 111360522456670522]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8144460,"value":"#<JSON::Ext::Generator::State:0x00007fdc065d8da8>"}},{"id":1494649,"event":"return","thread_id":9160,"parent_id":1494648,"elapsed":6.8160006776452065e-06,"elapsed_instrumentation":0.00011743803042918444,"return_value":{"class":"String","value":"[111360522456670514,111360522456670522]","object_id":8144480}},{"id":1494650,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8144500,"value":"#<JSON::Ext::Parser:0x00007fdc065d6fa8>"}},{"id":1494651,"event":"return","thread_id":9160,"parent_id":1494650,"elapsed":6.07498805038631e-06,"elapsed_instrumentation":8.116802200675011e-05,"return_value":{"class":"Array","value":"[111360522456670514, 111360522456670522]","object_id":8144520,"size":2}},{"id":1494652,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8144540,"value":"__,_*___%_T_"}},{"id":1494653,"event":"return","thread_id":9160,"parent_id":1494652,"elapsed":3.1719973776489496e-06,"elapsed_instrumentation":9.584802319295704e-05,"return_value":{"class":"String","value":"c7aa2c8d2a89e9c225b3548d","object_id":8144560}},{"id":1494654,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8144580,"value":"{retry=>true, queue=>pull, args=>[111360522456670514, 111360522456670522], class=>UnmergeWorker, jid=>5b3eddb349d62d83480ae06a, created_at=>1699226723.3745577, id=>c7aa2c8d2a89e9c225b3548d}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8144600,"value":"#<JSON::Ext::Generator::State:0x00007fdc065d18c8>"}},{"id":1494655,"event":"return","thread_id":9160,"parent_id":1494654,"elapsed":1.7287005903199315e-05,"elapsed_instrumentation":0.00043668900616467,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522456670514,111360522456670522],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8144620}},{"id":1494656,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8144640,"value":"#<JSON::Ext::Parser:0x00007fdc065ec560>"}},{"id":1494657,"event":"return","thread_id":9160,"parent_id":1494656,"elapsed":2.117498661391437e-05,"elapsed_instrumentation":0.00019873501150868833,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522456670514, 111360522456670522], class=>UnmergeWorker, jid=>5b3eddb349d62d83480ae06a, created_at=>1699226723.3745577, id=>c7aa2c8d2a89e9c225b3548d}","object_id":8144660,"size":7}},{"id":1494658,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044913341029,"value":"111360522456670514","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8144680,"value":"#<UnmergeWorker:0x00007fdc065e8aa0>"}},{"id":1494659,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8144680,"value":"#<UnmergeWorker:0x00007fdc065e8aa0>"}},{"id":1494660,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494661,"event":"return","thread_id":9160,"parent_id":1494660,"elapsed":0.000673235,"elapsed_instrumentation":8.404400432482362e-05},{"id":1494662,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494663,"event":"return","thread_id":9160,"parent_id":1494662,"elapsed":0.000685642,"elapsed_instrumentation":7.596099749207497e-05},{"id":1494664,"event":"return","thread_id":9160,"parent_id":1494659,"elapsed":0.004336325015174225,"elapsed_instrumentation":0.0001125339767895639,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06b1e740>","object_id":8144700}},{"id":1494665,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8144680,"value":"#<UnmergeWorker:0x00007fdc065e8aa0>"}},{"id":1494666,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8144720,"value":"#<Account:0x00007fdc06b1e880>","kind":"req"},{"name":"into_account","class":"Account","object_id":8144700,"value":"#<Account:0x00007fdc06b1e740>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494667,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494668,"event":"return","thread_id":9160,"parent_id":1494667,"elapsed":4.943984095007181e-06,"elapsed_instrumentation":0.000106045015854761,"return_value":{"class":"String","value":"feed:home:111360522456670522","object_id":8144740}},{"id":1494669,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494670,"event":"return","thread_id":9160,"parent_id":1494669,"elapsed":4.609988536685705e-06,"elapsed_instrumentation":7.489300332963467e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1494671,"event":"return","thread_id":9160,"parent_id":1494666,"elapsed":0.0037032950203865767,"elapsed_instrumentation":0.00011034996714442968},{"id":1494672,"event":"return","thread_id":9160,"parent_id":1494665,"elapsed":0.0038450249994639307,"elapsed_instrumentation":8.506601443514228e-05},{"id":1494673,"event":"return","thread_id":9160,"parent_id":1494658,"elapsed":0.008434176997980103,"elapsed_instrumentation":9.076501009985805e-05},{"id":1494674,"event":"return","thread_id":9160,"parent_id":1494645,"elapsed":0.009964438009774312,"elapsed_instrumentation":0.0005037579976487905,"return_value":{"class":"String","value":"5b3eddb349d62d83480ae06a","object_id":8144420}},{"id":1494675,"event":"return","thread_id":9160,"parent_id":1494590,"elapsed":0.03723048101528548,"elapsed_instrumentation":0.00031493298592977226,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f2808>","object_id":8144260}},{"id":1494676,"event":"return","thread_id":9160,"parent_id":1494589,"elapsed":0.037572872010059655,"elapsed_instrumentation":0.0001049610145855695,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f2808>","object_id":8144260}},{"id":1494677,"event":"return","thread_id":9160,"parent_id":1494588,"elapsed":0.037716816004831344,"elapsed_instrumentation":0.00044230499770492315,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f2808>","object_id":8144260}},{"id":1494678,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8144760,"value":"relationship:111360522456670515:111360522456670522","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8144780,"value":"#<UnfollowService:0x00007fdc0899eee0>"}},{"id":1494679,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8144780,"value":"#<UnfollowService:0x00007fdc0899eee0>"}},{"id":1494680,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8144800,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8144820,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494681,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494682,"event":"return","thread_id":9160,"parent_id":1494681,"elapsed":3.5159755498170853e-06,"elapsed_instrumentation":7.263099541887641e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1494683,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8144840,"value":"____\u000ff__'_r$\u001f\"\fv"}},{"id":1494684,"event":"return","thread_id":9160,"parent_id":1494683,"elapsed":6.684014806523919e-06,"elapsed_instrumentation":0.00013455998850986362,"return_value":{"class":"Array","value":"[3839205276, 3942, 43241, 10124, 29220, 522325110]","object_id":8144860,"size":6}},{"id":1494685,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494686,"event":"return","thread_id":9160,"parent_id":1494685,"elapsed":0.000747731,"elapsed_instrumentation":9.25470085348934e-05},{"id":1494687,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8144880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494688,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494689,"event":"return","thread_id":9160,"parent_id":1494688,"elapsed":0.000633921,"elapsed_instrumentation":0.00011831699521280825},{"id":1494690,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494691,"event":"return","thread_id":9160,"parent_id":1494690,"elapsed":0.00063715,"elapsed_instrumentation":8.545600576326251e-05},{"id":1494692,"event":"return","thread_id":9160,"parent_id":1494687,"elapsed":0.0038827469979878515,"elapsed_instrumentation":0.00021696198382414877,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1494693,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1494694,"event":"return","thread_id":9160,"parent_id":1494693,"elapsed":0.000639966,"elapsed_instrumentation":8.471801993437111e-05},{"id":1494695,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8144880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494696,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1494697,"event":"return","thread_id":9160,"parent_id":1494696,"elapsed":0.000746482,"elapsed_instrumentation":7.861299673095345e-05},{"id":1494698,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494699,"event":"return","thread_id":9160,"parent_id":1494698,"elapsed":0.000893504,"elapsed_instrumentation":7.534300675615668e-05},{"id":1494700,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8144900,"value":"#<Account:0x00007fdc06b1d5c0>"}},{"id":1494701,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8144900,"value":"#<Account:0x00007fdc06b1d5c0>"}},{"id":1494702,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522456670522, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494703,"event":"return","thread_id":9160,"parent_id":1494702,"elapsed":0.001021405,"elapsed_instrumentation":0.00010346801718696952},{"id":1494704,"event":"return","thread_id":9160,"parent_id":1494701,"elapsed":0.00159916200209409,"elapsed_instrumentation":0.0002904519787989557},{"id":1494705,"event":"return","thread_id":9160,"parent_id":1494700,"elapsed":0.001919689995702356,"elapsed_instrumentation":0.00013001399929635227},{"id":1494706,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494707,"event":"return","thread_id":9160,"parent_id":1494706,"elapsed":0.000770897,"elapsed_instrumentation":8.045899448916316e-05},{"id":1494708,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8144920,"value":"#<Account:0x00007fdc06b1c6c0>"}},{"id":1494709,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8144920,"value":"#<Account:0x00007fdc06b1c6c0>"}},{"id":1494710,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522456670515, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494711,"event":"return","thread_id":9160,"parent_id":1494710,"elapsed":0.000964525,"elapsed_instrumentation":8.091700146906078e-05},{"id":1494712,"event":"return","thread_id":9160,"parent_id":1494709,"elapsed":0.0015616400050930679,"elapsed_instrumentation":0.00010497201583348215},{"id":1494713,"event":"return","thread_id":9160,"parent_id":1494708,"elapsed":0.0019154919718857855,"elapsed_instrumentation":0.00012998504098504782},{"id":1494714,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8144900,"value":"#<Account:0x00007fdc06b1d5c0>"}},{"id":1494715,"event":"return","thread_id":9160,"parent_id":1494714,"elapsed":1.561501994729042e-05,"elapsed_instrumentation":0.00011493096826598048,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494716,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8144920,"value":"#<Account:0x00007fdc06b1c6c0>"}},{"id":1494717,"event":"return","thread_id":9160,"parent_id":1494716,"elapsed":1.1778989573940635e-05,"elapsed_instrumentation":0.00012167199747636914,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494718,"event":"return","thread_id":9160,"parent_id":1494695,"elapsed":0.012719652993837371,"elapsed_instrumentation":0.0001984650152735412,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1494719,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494720,"event":"return","thread_id":9160,"parent_id":1494719,"elapsed":0.000648618,"elapsed_instrumentation":8.162498124875128e-05},{"id":1494721,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8144960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494722,"event":"return","thread_id":9160,"parent_id":1494721,"elapsed":3.905995981767774e-06,"elapsed_instrumentation":0.00013236698578111827,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1494723,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8144960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494724,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8144980,"value":"Cache delete: relationship:111360522456670522:111360522456670515\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494725,"event":"return","thread_id":9160,"parent_id":1494724,"elapsed":0.0011510750045999885,"elapsed_instrumentation":0.00021645997185260057,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494726,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8145000,"value":"Cache delete: relationship:111360522456670515:111360522456670522\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494727,"event":"return","thread_id":9160,"parent_id":1494726,"elapsed":0.0010826319921761751,"elapsed_instrumentation":0.0001714529935270548,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494728,"event":"return","thread_id":9160,"parent_id":1494723,"elapsed":0.002931344002718106,"elapsed_instrumentation":0.00012097999569959939,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1494729,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8145020,"value":"#<Account:0x00007fdc069fb188>"}},{"id":1494730,"event":"return","thread_id":9160,"parent_id":1494729,"elapsed":1.453500590287149e-05,"elapsed_instrumentation":9.813500219024718e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494731,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8145020,"value":"#<Account:0x00007fdc069fb188>"}},{"id":1494732,"event":"return","thread_id":9160,"parent_id":1494731,"elapsed":1.968501601368189e-05,"elapsed_instrumentation":0.00033652098500169814,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494733,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142680,"value":"#<Account:0x00007fdc069fcbc8>"}},{"id":1494734,"event":"return","thread_id":9160,"parent_id":1494733,"elapsed":4.8800138756632805e-06,"elapsed_instrumentation":8.349900599569082e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494735,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8145040,"value":"{args=>[111360522456670515, 111360522456670522], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8145060,"value":"#<Sidekiq::Client:0x00007fdc06554378>"}},{"id":1494736,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8145080,"value":"\n__c_J_U__t_"}},{"id":1494737,"event":"return","thread_id":9160,"parent_id":1494736,"elapsed":4.317989805713296e-06,"elapsed_instrumentation":0.0004581680113915354,"return_value":{"class":"String","value":"0ab49f638b4afa559dc874ec","object_id":8145100}},{"id":1494738,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8145120,"value":"[111360522456670515, 111360522456670522]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8145140,"value":"#<JSON::Ext::Generator::State:0x00007fdc064df320>"}},{"id":1494739,"event":"return","thread_id":9160,"parent_id":1494738,"elapsed":5.9480080381035805e-06,"elapsed_instrumentation":0.00012707494897767901,"return_value":{"class":"String","value":"[111360522456670515,111360522456670522]","object_id":8145160}},{"id":1494740,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8145180,"value":"#<JSON::Ext::Parser:0x00007fdc064dd4a8>"}},{"id":1494741,"event":"return","thread_id":9160,"parent_id":1494740,"elapsed":5.325011443346739e-06,"elapsed_instrumentation":8.46920011099428e-05,"return_value":{"class":"Array","value":"[111360522456670515, 111360522456670522]","object_id":8145200,"size":2}},{"id":1494742,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8145220,"value":"q__\u0018\f___\u0005\t_p"}},{"id":1494743,"event":"return","thread_id":9160,"parent_id":1494742,"elapsed":3.7389982026070356e-06,"elapsed_instrumentation":0.00015156000154092908,"return_value":{"class":"String","value":"718fda180cf894ca0509df70","object_id":8145240}},{"id":1494744,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8145260,"value":"{retry=>true, queue=>pull, args=>[111360522456670515, 111360522456670522], class=>UnmergeWorker, jid=>0ab49f638b4afa559dc874ec, created_at=>1699226723.4131606, id=>718fda180cf894ca0509df70}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8145280,"value":"#<JSON::Ext::Generator::State:0x00007fdc064d7ee0>"}},{"id":1494745,"event":"return","thread_id":9160,"parent_id":1494744,"elapsed":1.5258003259077668e-05,"elapsed_instrumentation":0.00019397999858483672,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522456670515,111360522456670522],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8145300}},{"id":1494746,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8145320,"value":"#<JSON::Ext::Parser:0x00007fdc064ef108>"}},{"id":1494747,"event":"return","thread_id":9160,"parent_id":1494746,"elapsed":2.1761981770396233e-05,"elapsed_instrumentation":0.0003039840084966272,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522456670515, 111360522456670522], class=>UnmergeWorker, jid=>0ab49f638b4afa559dc874ec, created_at=>1699226723.4131606, id=>718fda180cf894ca0509df70}","object_id":8145340,"size":7}},{"id":1494748,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044913341031,"value":"111360522456670515","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8145360,"value":"#<UnmergeWorker:0x00007fdc064e9af0>"}},{"id":1494749,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8145360,"value":"#<UnmergeWorker:0x00007fdc064e9af0>"}},{"id":1494750,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494751,"event":"return","thread_id":9160,"parent_id":1494750,"elapsed":0.000734894,"elapsed_instrumentation":9.243300883099437e-05},{"id":1494752,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494753,"event":"return","thread_id":9160,"parent_id":1494752,"elapsed":0.000856159,"elapsed_instrumentation":9.860299178399146e-05},{"id":1494754,"event":"return","thread_id":9160,"parent_id":1494749,"elapsed":0.004208526021102443,"elapsed_instrumentation":0.00011023599654436111,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06b1ab40>","object_id":8145380}},{"id":1494755,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8145360,"value":"#<UnmergeWorker:0x00007fdc064e9af0>"}},{"id":1494756,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8145400,"value":"#<Account:0x00007fdc06b1ac80>","kind":"req"},{"name":"into_account","class":"Account","object_id":8145380,"value":"#<Account:0x00007fdc06b1ab40>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494757,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494758,"event":"return","thread_id":9160,"parent_id":1494757,"elapsed":1.3504002708941698e-05,"elapsed_instrumentation":0.0003109340032096952,"return_value":{"class":"String","value":"feed:home:111360522456670522","object_id":8145420}},{"id":1494759,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494760,"event":"return","thread_id":9160,"parent_id":1494759,"elapsed":5.761976353824139e-06,"elapsed_instrumentation":0.000134141999296844,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1494761,"event":"return","thread_id":9160,"parent_id":1494756,"elapsed":0.004444179008714855,"elapsed_instrumentation":0.0001159370003733784},{"id":1494762,"event":"return","thread_id":9160,"parent_id":1494755,"elapsed":0.0045944490120746195,"elapsed_instrumentation":8.53459641803056e-05},{"id":1494763,"event":"return","thread_id":9160,"parent_id":1494748,"elapsed":0.009045167011208832,"elapsed_instrumentation":9.036299888975918e-05},{"id":1494764,"event":"return","thread_id":9160,"parent_id":1494735,"elapsed":0.01084894800442271,"elapsed_instrumentation":0.0001760199957061559,"return_value":{"class":"String","value":"0ab49f638b4afa559dc874ec","object_id":8145100}},{"id":1494765,"event":"return","thread_id":9160,"parent_id":1494680,"elapsed":0.03864279598928988,"elapsed_instrumentation":0.00016175999189727008,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b1e240>","object_id":8144940}},{"id":1494766,"event":"return","thread_id":9160,"parent_id":1494679,"elapsed":0.038830778998089954,"elapsed_instrumentation":8.674603304825723e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b1e240>","object_id":8144940}},{"id":1494767,"event":"return","thread_id":9160,"parent_id":1494678,"elapsed":0.03895144799025729,"elapsed_instrumentation":0.0001404120121151209,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b1e240>","object_id":8144940}},{"id":1494768,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8145440,"value":"relationship:111360522456670516:111360522456670522","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8145460,"value":"#<UnfollowService:0x00007fdc08a79068>"}},{"id":1494769,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8145460,"value":"#<UnfollowService:0x00007fdc08a79068>"}},{"id":1494770,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8145480,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8145500,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494771,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494772,"event":"return","thread_id":9160,"parent_id":1494771,"elapsed":3.236986231058836e-06,"elapsed_instrumentation":0.00010710899368859828,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1494773,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8145520,"value":"__=\\_L_`\u001e3___'\u001b_"}},{"id":1494774,"event":"return","thread_id":9160,"parent_id":1494773,"elapsed":8.405011612921953e-06,"elapsed_instrumentation":0.0004387929802760482,"return_value":{"class":"Array","value":"[2998746460, 55372, 46432, 7731, 44451, 3341229016]","object_id":8145540,"size":6}},{"id":1494775,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494776,"event":"return","thread_id":9160,"parent_id":1494775,"elapsed":0.000746933,"elapsed_instrumentation":9.487301576882601e-05},{"id":1494777,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8145560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494778,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494779,"event":"return","thread_id":9160,"parent_id":1494778,"elapsed":0.000391107,"elapsed_instrumentation":0.0001935090112965554},{"id":1494780,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494781,"event":"return","thread_id":9160,"parent_id":1494780,"elapsed":0.000533466,"elapsed_instrumentation":7.542100502178073e-05},{"id":1494782,"event":"return","thread_id":9160,"parent_id":1494777,"elapsed":0.00296532001812011,"elapsed_instrumentation":0.00017562700668349862,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1494783,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1494784,"event":"return","thread_id":9160,"parent_id":1494783,"elapsed":0.000833509,"elapsed_instrumentation":7.475700112991035e-05},{"id":1494785,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8145560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494786,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1494787,"event":"return","thread_id":9160,"parent_id":1494786,"elapsed":0.000722892,"elapsed_instrumentation":7.52270279917866e-05},{"id":1494788,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494789,"event":"return","thread_id":9160,"parent_id":1494788,"elapsed":0.000638277,"elapsed_instrumentation":7.399197784252465e-05},{"id":1494790,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8145580,"value":"#<Account:0x00007fdc06b19d80>"}},{"id":1494791,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8145580,"value":"#<Account:0x00007fdc06b19d80>"}},{"id":1494792,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522456670522, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494793,"event":"return","thread_id":9160,"parent_id":1494792,"elapsed":0.000947073,"elapsed_instrumentation":7.460801862180233e-05},{"id":1494794,"event":"return","thread_id":9160,"parent_id":1494791,"elapsed":0.0016509770066477358,"elapsed_instrumentation":0.00010323800961486995},{"id":1494795,"event":"return","thread_id":9160,"parent_id":1494790,"elapsed":0.0017848849820438772,"elapsed_instrumentation":0.0001232470094691962},{"id":1494796,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494797,"event":"return","thread_id":9160,"parent_id":1494796,"elapsed":0.000616792,"elapsed_instrumentation":9.046000195667148e-05},{"id":1494798,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8145600,"value":"#<Account:0x00007fdc06b18d40>"}},{"id":1494799,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8145600,"value":"#<Account:0x00007fdc06b18d40>"}},{"id":1494800,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522456670516, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494801,"event":"return","thread_id":9160,"parent_id":1494800,"elapsed":0.001035177,"elapsed_instrumentation":8.140198769979179e-05},{"id":1494802,"event":"return","thread_id":9160,"parent_id":1494799,"elapsed":0.0019957390031777322,"elapsed_instrumentation":9.753901395015419e-05},{"id":1494803,"event":"return","thread_id":9160,"parent_id":1494798,"elapsed":0.002119666984071955,"elapsed_instrumentation":0.00014964203000999987},{"id":1494804,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8145580,"value":"#<Account:0x00007fdc06b19d80>"}},{"id":1494805,"event":"return","thread_id":9160,"parent_id":1494804,"elapsed":1.483902451582253e-05,"elapsed_instrumentation":0.00010733099770732224,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494806,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8145600,"value":"#<Account:0x00007fdc06b18d40>"}},{"id":1494807,"event":"return","thread_id":9160,"parent_id":1494806,"elapsed":7.825990905985236e-06,"elapsed_instrumentation":7.061203359626234e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494808,"event":"return","thread_id":9160,"parent_id":1494785,"elapsed":0.011794424994150177,"elapsed_instrumentation":0.00015861200517974794,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1494809,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494810,"event":"return","thread_id":9160,"parent_id":1494809,"elapsed":0.000538224,"elapsed_instrumentation":7.594100316055119e-05},{"id":1494811,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8145640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494812,"event":"return","thread_id":9160,"parent_id":1494811,"elapsed":3.204972017556429e-06,"elapsed_instrumentation":0.00012385501759126782,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1494813,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8145640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494814,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8145660,"value":"Cache delete: relationship:111360522456670522:111360522456670516\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494815,"event":"return","thread_id":9160,"parent_id":1494814,"elapsed":0.0007954479951877147,"elapsed_instrumentation":0.0001545460254419595,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494816,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8145680,"value":"Cache delete: relationship:111360522456670516:111360522456670522\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494817,"event":"return","thread_id":9160,"parent_id":1494816,"elapsed":0.0006104009808041155,"elapsed_instrumentation":0.000135784997837618,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494818,"event":"return","thread_id":9160,"parent_id":1494813,"elapsed":0.0021978899894747883,"elapsed_instrumentation":0.00011508099851198494,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1494819,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8145700,"value":"#<Account:0x00007fdc069faf08>"}},{"id":1494820,"event":"return","thread_id":9160,"parent_id":1494819,"elapsed":1.2926000636070967e-05,"elapsed_instrumentation":0.00010790000669658184,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494821,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8145700,"value":"#<Account:0x00007fdc069faf08>"}},{"id":1494822,"event":"return","thread_id":9160,"parent_id":1494821,"elapsed":5.0539965741336346e-06,"elapsed_instrumentation":7.639601244591177e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494823,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142680,"value":"#<Account:0x00007fdc069fcbc8>"}},{"id":1494824,"event":"return","thread_id":9160,"parent_id":1494823,"elapsed":4.7660141717642546e-06,"elapsed_instrumentation":6.240597576834261e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494825,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8145720,"value":"{args=>[111360522456670516, 111360522456670522], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8145740,"value":"#<Sidekiq::Client:0x00007fdc063c2898>"}},{"id":1494826,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8145760,"value":"_f1_\u001c____ko_"}},{"id":1494827,"event":"return","thread_id":9160,"parent_id":1494826,"elapsed":5.073990905657411e-06,"elapsed_instrumentation":0.00010705803288146853,"return_value":{"class":"String","value":"836631d71cb4dbaaed6b6f87","object_id":8145780}},{"id":1494828,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8145800,"value":"[111360522456670516, 111360522456670522]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8145820,"value":"#<JSON::Ext::Generator::State:0x00007fdc063ef780>"}},{"id":1494829,"event":"return","thread_id":9160,"parent_id":1494828,"elapsed":6.460992153733969e-06,"elapsed_instrumentation":0.00014888998703099787,"return_value":{"class":"String","value":"[111360522456670516,111360522456670522]","object_id":8145840}},{"id":1494830,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8145860,"value":"#<JSON::Ext::Parser:0x00007fdc063ee830>"}},{"id":1494831,"event":"return","thread_id":9160,"parent_id":1494830,"elapsed":5.831010639667511e-06,"elapsed_instrumentation":8.524497388862073e-05,"return_value":{"class":"Array","value":"[111360522456670516, 111360522456670522]","object_id":8145880,"size":2}},{"id":1494832,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8145900,"value":"A________\u000f7_"}},{"id":1494833,"event":"return","thread_id":9160,"parent_id":1494832,"elapsed":4.023982910439372e-06,"elapsed_instrumentation":0.00010596102220006287,"return_value":{"class":"String","value":"41a0f4c3a28ffee2df0f37f0","object_id":8145920}},{"id":1494834,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8145940,"value":"{retry=>true, queue=>pull, args=>[111360522456670516, 111360522456670522], class=>UnmergeWorker, jid=>836631d71cb4dbaaed6b6f87, created_at=>1699226723.4488823, id=>41a0f4c3a28ffee2df0f37f0}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8145960,"value":"#<JSON::Ext::Generator::State:0x00007fdc063ebcc0>"}},{"id":1494835,"event":"return","thread_id":9160,"parent_id":1494834,"elapsed":1.6241014236584306e-05,"elapsed_instrumentation":0.00019400299061089754,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522456670516,111360522456670522],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8145980}},{"id":1494836,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8146000,"value":"#<JSON::Ext::Parser:0x00007fdc063e9b78>"}},{"id":1494837,"event":"return","thread_id":9160,"parent_id":1494836,"elapsed":0.00015411601634696126,"elapsed_instrumentation":0.0001861019991338253,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522456670516, 111360522456670522], class=>UnmergeWorker, jid=>836631d71cb4dbaaed6b6f87, created_at=>1699226723.4488823, id=>41a0f4c3a28ffee2df0f37f0}","object_id":8146020,"size":7}},{"id":1494838,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044913341033,"value":"111360522456670516","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8146040,"value":"#<UnmergeWorker:0x00007fdc063e7aa8>"}},{"id":1494839,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8146040,"value":"#<UnmergeWorker:0x00007fdc063e7aa8>"}},{"id":1494840,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494841,"event":"return","thread_id":9160,"parent_id":1494840,"elapsed":0.000777233,"elapsed_instrumentation":8.189398795366287e-05},{"id":1494842,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494843,"event":"return","thread_id":9160,"parent_id":1494842,"elapsed":0.000728212,"elapsed_instrumentation":7.777399150654674e-05},{"id":1494844,"event":"return","thread_id":9160,"parent_id":1494839,"elapsed":0.004049253009725362,"elapsed_instrumentation":0.00013033000868745148,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06b17580>","object_id":8146060}},{"id":1494845,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8146040,"value":"#<UnmergeWorker:0x00007fdc063e7aa8>"}},{"id":1494846,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8146080,"value":"#<Account:0x00007fdc06b176c0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8146060,"value":"#<Account:0x00007fdc06b17580>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494847,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494848,"event":"return","thread_id":9160,"parent_id":1494847,"elapsed":6.037007551640272e-06,"elapsed_instrumentation":0.000620570033788681,"return_value":{"class":"String","value":"feed:home:111360522456670522","object_id":8146100}},{"id":1494849,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494850,"event":"return","thread_id":9160,"parent_id":1494849,"elapsed":5.704991053789854e-06,"elapsed_instrumentation":8.634797995910048e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1494851,"event":"return","thread_id":9160,"parent_id":1494846,"elapsed":0.004357925005024299,"elapsed_instrumentation":0.0001361340400762856},{"id":1494852,"event":"return","thread_id":9160,"parent_id":1494845,"elapsed":0.00453100900631398,"elapsed_instrumentation":0.0001317349961027503},{"id":1494853,"event":"return","thread_id":9160,"parent_id":1494838,"elapsed":0.008905901981052011,"elapsed_instrumentation":0.00010056101018562913},{"id":1494854,"event":"return","thread_id":9160,"parent_id":1494825,"elapsed":0.010570393991656601,"elapsed_instrumentation":0.00017351499991491437,"return_value":{"class":"String","value":"836631d71cb4dbaaed6b6f87","object_id":8145780}},{"id":1494855,"event":"return","thread_id":9160,"parent_id":1494770,"elapsed":0.034878798003774136,"elapsed_instrumentation":0.0003913830150850117,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b1a8c0>","object_id":8145620}},{"id":1494856,"event":"return","thread_id":9160,"parent_id":1494769,"elapsed":0.03529776999494061,"elapsed_instrumentation":8.589899516664445e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b1a8c0>","object_id":8145620}},{"id":1494857,"event":"return","thread_id":9160,"parent_id":1494768,"elapsed":0.035417395003605634,"elapsed_instrumentation":0.00014974101213738322,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b1a8c0>","object_id":8145620}},{"id":1494858,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8146120,"value":"relationship:111360522456670517:111360522456670522","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8146140,"value":"#<UnfollowService:0x00007fdc08ace978>"}},{"id":1494859,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8146140,"value":"#<UnfollowService:0x00007fdc08ace978>"}},{"id":1494860,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8146160,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8146180,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494861,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494862,"event":"return","thread_id":9160,"parent_id":1494861,"elapsed":3.063993062824011e-06,"elapsed_instrumentation":7.632197230122983e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1494863,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8146200,"value":"__p\u0007___y_y\u0017_o_$_"}},{"id":1494864,"event":"return","thread_id":9160,"parent_id":1494863,"elapsed":8.22299625724554e-06,"elapsed_instrumentation":0.00023405300453305244,"return_value":{"class":"Array","value":"[2257416199, 45820, 64377, 60537, 6053, 1874011286]","object_id":8146220,"size":6}},{"id":1494865,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494866,"event":"return","thread_id":9160,"parent_id":1494865,"elapsed":0.000611785,"elapsed_instrumentation":8.877599611878395e-05},{"id":1494867,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8146240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494868,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494869,"event":"return","thread_id":9160,"parent_id":1494868,"elapsed":0.000357014,"elapsed_instrumentation":9.871498332358897e-05},{"id":1494870,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494871,"event":"return","thread_id":9160,"parent_id":1494870,"elapsed":0.000404368,"elapsed_instrumentation":7.062798249535263e-05},{"id":1494872,"event":"return","thread_id":9160,"parent_id":1494867,"elapsed":0.002771021012449637,"elapsed_instrumentation":0.00018554399139247835,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1494873,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1494874,"event":"return","thread_id":9160,"parent_id":1494873,"elapsed":0.000740852,"elapsed_instrumentation":7.423199713230133e-05},{"id":1494875,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8146240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494876,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1494877,"event":"return","thread_id":9160,"parent_id":1494876,"elapsed":0.000896853,"elapsed_instrumentation":7.097399793565273e-05},{"id":1494878,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494879,"event":"return","thread_id":9160,"parent_id":1494878,"elapsed":0.000652697,"elapsed_instrumentation":7.11579923518002e-05},{"id":1494880,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8146260,"value":"#<Account:0x00007fdc06b16900>"}},{"id":1494881,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8146260,"value":"#<Account:0x00007fdc06b16900>"}},{"id":1494882,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522456670522, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494883,"event":"return","thread_id":9160,"parent_id":1494882,"elapsed":0.001097271,"elapsed_instrumentation":9.700801456347108e-05},{"id":1494884,"event":"return","thread_id":9160,"parent_id":1494881,"elapsed":0.00170856699696742,"elapsed_instrumentation":0.00023598098778165877},{"id":1494885,"event":"return","thread_id":9160,"parent_id":1494880,"elapsed":0.0019752700172830373,"elapsed_instrumentation":0.00044132297625765204},{"id":1494886,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494887,"event":"return","thread_id":9160,"parent_id":1494886,"elapsed":0.000500411,"elapsed_instrumentation":7.846500375308096e-05},{"id":1494888,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8146280,"value":"#<Account:0x00007fdc06b158c0>"}},{"id":1494889,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8146280,"value":"#<Account:0x00007fdc06b158c0>"}},{"id":1494890,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522456670517, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494891,"event":"return","thread_id":9160,"parent_id":1494890,"elapsed":0.000812029,"elapsed_instrumentation":6.809399928897619e-05},{"id":1494892,"event":"return","thread_id":9160,"parent_id":1494889,"elapsed":0.0014050139870960265,"elapsed_instrumentation":9.42000187933445e-05},{"id":1494893,"event":"return","thread_id":9160,"parent_id":1494888,"elapsed":0.00152283301576972,"elapsed_instrumentation":0.00012628600234165788},{"id":1494894,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8146260,"value":"#<Account:0x00007fdc06b16900>"}},{"id":1494895,"event":"return","thread_id":9160,"parent_id":1494894,"elapsed":1.3712997315451503e-05,"elapsed_instrumentation":9.809297625906765e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494896,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8146280,"value":"#<Account:0x00007fdc06b158c0>"}},{"id":1494897,"event":"return","thread_id":9160,"parent_id":1494896,"elapsed":7.333001121878624e-06,"elapsed_instrumentation":7.02539982739836e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494898,"event":"return","thread_id":9160,"parent_id":1494875,"elapsed":0.01175590098137036,"elapsed_instrumentation":0.00016185801359824836,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1494899,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494900,"event":"return","thread_id":9160,"parent_id":1494899,"elapsed":0.000423795,"elapsed_instrumentation":6.701701204292476e-05},{"id":1494901,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8146320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494902,"event":"return","thread_id":9160,"parent_id":1494901,"elapsed":3.2910029403865337e-06,"elapsed_instrumentation":0.00011339699267409742,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1494903,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8146320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494904,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8146340,"value":"Cache delete: relationship:111360522456670522:111360522456670517\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494905,"event":"return","thread_id":9160,"parent_id":1494904,"elapsed":0.000719283998478204,"elapsed_instrumentation":0.0001271459914278239,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494906,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8146360,"value":"Cache delete: relationship:111360522456670517:111360522456670522\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494907,"event":"return","thread_id":9160,"parent_id":1494906,"elapsed":0.0007728459895588458,"elapsed_instrumentation":0.00020896003115922213,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494908,"event":"return","thread_id":9160,"parent_id":1494903,"elapsed":0.002163072000257671,"elapsed_instrumentation":0.00012458799756132066,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1494909,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8146380,"value":"#<Account:0x00007fdc069fac88>"}},{"id":1494910,"event":"return","thread_id":9160,"parent_id":1494909,"elapsed":1.6435980796813965e-05,"elapsed_instrumentation":0.0003485220076981932,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494911,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8146380,"value":"#<Account:0x00007fdc069fac88>"}},{"id":1494912,"event":"return","thread_id":9160,"parent_id":1494911,"elapsed":4.742993041872978e-06,"elapsed_instrumentation":7.565601845271885e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494913,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142680,"value":"#<Account:0x00007fdc069fcbc8>"}},{"id":1494914,"event":"return","thread_id":9160,"parent_id":1494913,"elapsed":4.430010449141264e-06,"elapsed_instrumentation":6.237896741367877e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494915,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8146400,"value":"{args=>[111360522456670517, 111360522456670522], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8146420,"value":"#<Sidekiq::Client:0x00007fdc0637b6c8>"}},{"id":1494916,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8146440,"value":"_dZ(___WE\u001a__"}},{"id":1494917,"event":"return","thread_id":9160,"parent_id":1494916,"elapsed":0.0002036580117419362,"elapsed_instrumentation":0.00018168101087212563,"return_value":{"class":"String","value":"cc645a2894e8e057451ab0ab","object_id":8146460}},{"id":1494918,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8146480,"value":"[111360522456670517, 111360522456670522]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8146500,"value":"#<JSON::Ext::Generator::State:0x00007fdc06378b58>"}},{"id":1494919,"event":"return","thread_id":9160,"parent_id":1494918,"elapsed":7.663998985663056e-06,"elapsed_instrumentation":0.00013442698400467634,"return_value":{"class":"String","value":"[111360522456670517,111360522456670522]","object_id":8146520}},{"id":1494920,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8146540,"value":"#<JSON::Ext::Parser:0x00007fdc06377aa0>"}},{"id":1494921,"event":"return","thread_id":9160,"parent_id":1494920,"elapsed":5.60202170163393e-06,"elapsed_instrumentation":8.632699609734118e-05,"return_value":{"class":"Array","value":"[111360522456670517, 111360522456670522]","object_id":8146560,"size":2}},{"id":1494922,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8146580,"value":"A_&_p_33=___"}},{"id":1494923,"event":"return","thread_id":9160,"parent_id":1494922,"elapsed":3.631983418017626e-06,"elapsed_instrumentation":0.0001088310091290623,"return_value":{"class":"String","value":"41f226f7709433333ddae8c6","object_id":8146600}},{"id":1494924,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8146620,"value":"{retry=>true, queue=>pull, args=>[111360522456670517, 111360522456670522], class=>UnmergeWorker, jid=>cc645a2894e8e057451ab0ab, created_at=>1699226723.4842288, id=>41f226f7709433333ddae8c6}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8146640,"value":"#<JSON::Ext::Generator::State:0x00007fdc06375840>"}},{"id":1494925,"event":"return","thread_id":9160,"parent_id":1494924,"elapsed":1.3982004020363092e-05,"elapsed_instrumentation":0.00019752801745198667,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522456670517,111360522456670522],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8146660}},{"id":1494926,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8146680,"value":"#<JSON::Ext::Parser:0x00007fdc06372a78>"}},{"id":1494927,"event":"return","thread_id":9160,"parent_id":1494926,"elapsed":2.4075008695945144e-05,"elapsed_instrumentation":0.0006117619923315942,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522456670517, 111360522456670522], class=>UnmergeWorker, jid=>cc645a2894e8e057451ab0ab, created_at=>1699226723.4842288, id=>41f226f7709433333ddae8c6}","object_id":8146700,"size":7}},{"id":1494928,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044913341035,"value":"111360522456670517","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8146720,"value":"#<UnmergeWorker:0x00007fdc0633f5d8>"}},{"id":1494929,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8146720,"value":"#<UnmergeWorker:0x00007fdc0633f5d8>"}},{"id":1494930,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494931,"event":"return","thread_id":9160,"parent_id":1494930,"elapsed":0.001349166,"elapsed_instrumentation":0.0003683989925775677},{"id":1494932,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494933,"event":"return","thread_id":9160,"parent_id":1494932,"elapsed":0.001043075,"elapsed_instrumentation":9.97569877654314e-05},{"id":1494934,"event":"return","thread_id":9160,"parent_id":1494929,"elapsed":0.005874553986359388,"elapsed_instrumentation":0.00014244901831261814,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06b13980>","object_id":8146740}},{"id":1494935,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8146720,"value":"#<UnmergeWorker:0x00007fdc0633f5d8>"}},{"id":1494936,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8146760,"value":"#<Account:0x00007fdc06b13ac0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8146740,"value":"#<Account:0x00007fdc06b13980>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494937,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494938,"event":"return","thread_id":9160,"parent_id":1494937,"elapsed":7.872004061937332e-06,"elapsed_instrumentation":0.00013148400466889143,"return_value":{"class":"String","value":"feed:home:111360522456670522","object_id":8146780}},{"id":1494939,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1494940,"event":"return","thread_id":9160,"parent_id":1494939,"elapsed":6.2140170484781265e-06,"elapsed_instrumentation":0.00012029497884213924,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1494941,"event":"return","thread_id":9160,"parent_id":1494936,"elapsed":0.005216702993493527,"elapsed_instrumentation":0.00014478599769063294},{"id":1494942,"event":"return","thread_id":9160,"parent_id":1494935,"elapsed":0.005403932009357959,"elapsed_instrumentation":0.0002818630018737167},{"id":1494943,"event":"return","thread_id":9160,"parent_id":1494928,"elapsed":0.011768852011300623,"elapsed_instrumentation":0.00010605098214000463},{"id":1494944,"event":"return","thread_id":9160,"parent_id":1494915,"elapsed":0.013828163006110117,"elapsed_instrumentation":0.00020677701104432344,"return_value":{"class":"String","value":"cc645a2894e8e057451ab0ab","object_id":8146460}},{"id":1494945,"event":"return","thread_id":9160,"parent_id":1494860,"elapsed":0.03761493100319058,"elapsed_instrumentation":0.00020289496751502156,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b17300>","object_id":8146300}},{"id":1494946,"event":"return","thread_id":9160,"parent_id":1494859,"elapsed":0.03784823100431822,"elapsed_instrumentation":0.00010038301115855575,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b17300>","object_id":8146300}},{"id":1494947,"event":"return","thread_id":9160,"parent_id":1494858,"elapsed":0.037983699003234506,"elapsed_instrumentation":0.00015698600327596068,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b17300>","object_id":8146300}},{"id":1494948,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8146800,"value":"relationship:111360522456670518:111360522456670522","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8146820,"value":"#<UnfollowService:0x00007fdc08ac7128>"}},{"id":1494949,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8146820,"value":"#<UnfollowService:0x00007fdc08ac7128>"}},{"id":1494950,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8146840,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8146860,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494951,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1494952,"event":"return","thread_id":9160,"parent_id":1494951,"elapsed":1.20009935926646e-05,"elapsed_instrumentation":9.063701145350933e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1494953,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8146880,"value":"__\u0001~_X _\u001d{_:_u_Z"}},{"id":1494954,"event":"return","thread_id":9160,"parent_id":1494953,"elapsed":9.740004315972328e-06,"elapsed_instrumentation":0.0003382680006325245,"return_value":{"class":"Array","value":"[4053729662, 46424, 8410, 7547, 51770, 4084570458]","object_id":8146900,"size":6}},{"id":1494955,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494956,"event":"return","thread_id":9160,"parent_id":1494955,"elapsed":0.000816203,"elapsed_instrumentation":9.742600377649069e-05},{"id":1494957,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8146920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494958,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494959,"event":"return","thread_id":9160,"parent_id":1494958,"elapsed":0.000616646,"elapsed_instrumentation":8.820800576359034e-05},{"id":1494960,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1494961,"event":"return","thread_id":9160,"parent_id":1494960,"elapsed":0.000759234,"elapsed_instrumentation":9.123500785790384e-05},{"id":1494962,"event":"return","thread_id":9160,"parent_id":1494957,"elapsed":0.0036219149769749492,"elapsed_instrumentation":0.00023014601902104914,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1494963,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1494964,"event":"return","thread_id":9160,"parent_id":1494963,"elapsed":0.00103751,"elapsed_instrumentation":0.0001370590180158615},{"id":1494965,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8146920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1494966,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1494967,"event":"return","thread_id":9160,"parent_id":1494966,"elapsed":0.001459537,"elapsed_instrumentation":0.00010796499554999173},{"id":1494968,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494969,"event":"return","thread_id":9160,"parent_id":1494968,"elapsed":0.000630742,"elapsed_instrumentation":8.54459940455854e-05},{"id":1494970,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8146940,"value":"#<Account:0x00007fdc06b12d00>"}},{"id":1494971,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8146940,"value":"#<Account:0x00007fdc06b12d00>"}},{"id":1494972,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522456670522, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494973,"event":"return","thread_id":9160,"parent_id":1494972,"elapsed":0.00123496,"elapsed_instrumentation":0.00010101002408191562},{"id":1494974,"event":"return","thread_id":9160,"parent_id":1494971,"elapsed":0.0021710919972974807,"elapsed_instrumentation":0.00011228700168430805},{"id":1494975,"event":"return","thread_id":9160,"parent_id":1494970,"elapsed":0.0023172889777924865,"elapsed_instrumentation":0.00015294301556423306},{"id":1494976,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1494977,"event":"return","thread_id":9160,"parent_id":1494976,"elapsed":0.000548392,"elapsed_instrumentation":8.990199421532452e-05},{"id":1494978,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8146960,"value":"#<Account:0x00007fdc06b112c0>"}},{"id":1494979,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8146960,"value":"#<Account:0x00007fdc06b112c0>"}},{"id":1494980,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522456670518, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1494981,"event":"return","thread_id":9160,"parent_id":1494980,"elapsed":0.001272672,"elapsed_instrumentation":9.124999633058906e-05},{"id":1494982,"event":"return","thread_id":9160,"parent_id":1494979,"elapsed":0.002148736995877698,"elapsed_instrumentation":0.0002298039908055216},{"id":1494983,"event":"return","thread_id":9160,"parent_id":1494978,"elapsed":0.0024105699849314988,"elapsed_instrumentation":0.00013939302880316973},{"id":1494984,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8146940,"value":"#<Account:0x00007fdc06b12d00>"}},{"id":1494985,"event":"return","thread_id":9160,"parent_id":1494984,"elapsed":1.5978002920746803e-05,"elapsed_instrumentation":0.00012037900160066783,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494986,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8146960,"value":"#<Account:0x00007fdc06b112c0>"}},{"id":1494987,"event":"return","thread_id":9160,"parent_id":1494986,"elapsed":8.405011612921953e-06,"elapsed_instrumentation":7.256196113303304e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1494988,"event":"return","thread_id":9160,"parent_id":1494965,"elapsed":0.014112263976130635,"elapsed_instrumentation":0.0002441500255372375,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1494989,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1494990,"event":"return","thread_id":9160,"parent_id":1494989,"elapsed":0.000569368,"elapsed_instrumentation":8.085899753496051e-05},{"id":1494991,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8147000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494992,"event":"return","thread_id":9160,"parent_id":1494991,"elapsed":3.642984665930271e-06,"elapsed_instrumentation":0.00017162697622552514,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1494993,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8147000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1494994,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8147020,"value":"Cache delete: relationship:111360522456670522:111360522456670518\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494995,"event":"return","thread_id":9160,"parent_id":1494994,"elapsed":0.000874683988513425,"elapsed_instrumentation":0.00022277800599113107,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494996,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8147040,"value":"Cache delete: relationship:111360522456670518:111360522456670522\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1494997,"event":"return","thread_id":9160,"parent_id":1494996,"elapsed":0.0037448790099006146,"elapsed_instrumentation":0.00018871400970965624,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1494998,"event":"return","thread_id":9160,"parent_id":1494993,"elapsed":0.006163912010379136,"elapsed_instrumentation":0.00038132097688503563,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1494999,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8147060,"value":"#<Account:0x00007fdc069fab48>"}},{"id":1495000,"event":"return","thread_id":9160,"parent_id":1494999,"elapsed":1.9363011233508587e-05,"elapsed_instrumentation":0.0001328759826719761,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495001,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8147060,"value":"#<Account:0x00007fdc069fab48>"}},{"id":1495002,"event":"return","thread_id":9160,"parent_id":1495001,"elapsed":4.720001015812159e-06,"elapsed_instrumentation":7.052099681459367e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495003,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142680,"value":"#<Account:0x00007fdc069fcbc8>"}},{"id":1495004,"event":"return","thread_id":9160,"parent_id":1495003,"elapsed":4.429981345310807e-06,"elapsed_instrumentation":6.105701322667301e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495005,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8147080,"value":"{args=>[111360522456670518, 111360522456670522], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8147100,"value":"#<Sidekiq::Client:0x00007fdc062b7d40>"}},{"id":1495006,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8147120,"value":"__9\u0018\u001csp__n_V"}},{"id":1495007,"event":"return","thread_id":9160,"parent_id":1495006,"elapsed":6.905000191181898e-06,"elapsed_instrumentation":0.0002822820097208023,"return_value":{"class":"String","value":"8ce939181c7370d8de6ea056","object_id":8147140}},{"id":1495008,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8147160,"value":"[111360522456670518, 111360522456670522]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8147180,"value":"#<JSON::Ext::Generator::State:0x00007fdc062b2fe8>"}},{"id":1495009,"event":"return","thread_id":9160,"parent_id":1495008,"elapsed":7.3290138971060514e-06,"elapsed_instrumentation":0.00012295899796299636,"return_value":{"class":"String","value":"[111360522456670518,111360522456670522]","object_id":8147200}},{"id":1495010,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8147220,"value":"#<JSON::Ext::Parser:0x00007fdc062b0b80>"}},{"id":1495011,"event":"return","thread_id":9160,"parent_id":1495010,"elapsed":9.248004062101245e-06,"elapsed_instrumentation":0.00021285400725901127,"return_value":{"class":"Array","value":"[111360522456670518, 111360522456670522]","object_id":8147240,"size":2}},{"id":1495012,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8147260,"value":"\u0003_\u0015_Y=U_l0]\u0017"}},{"id":1495013,"event":"return","thread_id":9160,"parent_id":1495012,"elapsed":3.5470002330839634e-06,"elapsed_instrumentation":0.00010867201490327716,"return_value":{"class":"String","value":"03af15f8593d55a36c305d17","object_id":8147280}},{"id":1495014,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8147300,"value":"{retry=>true, queue=>pull, args=>[111360522456670518, 111360522456670522], class=>UnmergeWorker, jid=>8ce939181c7370d8de6ea056, created_at=>1699226723.5316696, id=>03af15f8593d55a36c305d17}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8147320,"value":"#<JSON::Ext::Generator::State:0x00007fdc062ced10>"}},{"id":1495015,"event":"return","thread_id":9160,"parent_id":1495014,"elapsed":1.601901021786034e-05,"elapsed_instrumentation":0.0001974920160137117,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522456670518,111360522456670522],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8147340}},{"id":1495016,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8147360,"value":"#<JSON::Ext::Parser:0x00007fdc062cca60>"}},{"id":1495017,"event":"return","thread_id":9160,"parent_id":1495016,"elapsed":2.110601053573191e-05,"elapsed_instrumentation":0.00016389598022215068,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522456670518, 111360522456670522], class=>UnmergeWorker, jid=>8ce939181c7370d8de6ea056, created_at=>1699226723.5316696, id=>03af15f8593d55a36c305d17}","object_id":8147380,"size":7}},{"id":1495018,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044913341037,"value":"111360522456670518","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8147400,"value":"#<UnmergeWorker:0x00007fdc062ca8a0>"}},{"id":1495019,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8147400,"value":"#<UnmergeWorker:0x00007fdc062ca8a0>"}},{"id":1495020,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495021,"event":"return","thread_id":9160,"parent_id":1495020,"elapsed":0.00082139,"elapsed_instrumentation":9.974100976251066e-05},{"id":1495022,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495023,"event":"return","thread_id":9160,"parent_id":1495022,"elapsed":0.000847181,"elapsed_instrumentation":8.948499453254044e-05},{"id":1495024,"event":"return","thread_id":9160,"parent_id":1495019,"elapsed":0.004411628004163504,"elapsed_instrumentation":0.00014425601693801582,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06def280>","object_id":8147420}},{"id":1495025,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8147400,"value":"#<UnmergeWorker:0x00007fdc062ca8a0>"}},{"id":1495026,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8147440,"value":"#<Account:0x00007fdc06def3c0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8147420,"value":"#<Account:0x00007fdc06def280>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495027,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495028,"event":"return","thread_id":9160,"parent_id":1495027,"elapsed":7.057999027892947e-06,"elapsed_instrumentation":0.00041840103222057223,"return_value":{"class":"String","value":"feed:home:111360522456670522","object_id":8147460}},{"id":1495029,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495030,"event":"return","thread_id":9160,"parent_id":1495029,"elapsed":5.58901228941977e-06,"elapsed_instrumentation":8.961997809819877e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1495031,"event":"return","thread_id":9160,"parent_id":1495026,"elapsed":0.005867167987162247,"elapsed_instrumentation":0.0001615979999769479},{"id":1495032,"event":"return","thread_id":9160,"parent_id":1495025,"elapsed":0.0060732980200555176,"elapsed_instrumentation":0.00012868997873738408},{"id":1495033,"event":"return","thread_id":9160,"parent_id":1495018,"elapsed":0.011058156000217423,"elapsed_instrumentation":8.991998038254678e-05},{"id":1495034,"event":"return","thread_id":9160,"parent_id":1495005,"elapsed":0.012854355009039864,"elapsed_instrumentation":0.000497932021971792,"return_value":{"class":"String","value":"8ce939181c7370d8de6ea056","object_id":8147140}},{"id":1495035,"event":"return","thread_id":9160,"parent_id":1494950,"elapsed":0.046199270989745855,"elapsed_instrumentation":0.0002935520024038851,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b13700>","object_id":8146980}},{"id":1495036,"event":"return","thread_id":9160,"parent_id":1494949,"elapsed":0.04652440900099464,"elapsed_instrumentation":9.975800639949739e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b13700>","object_id":8146980}},{"id":1495037,"event":"return","thread_id":9160,"parent_id":1494948,"elapsed":0.04666000499855727,"elapsed_instrumentation":0.00015419203555211425,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06b13700>","object_id":8146980}},{"id":1495038,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8147480,"value":"relationship:111360522456670519:111360522456670522","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8147500,"value":"#<UnfollowService:0x00007fdc08b4ef10>"}},{"id":1495039,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8147500,"value":"#<UnfollowService:0x00007fdc08b4ef10>"}},{"id":1495040,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8147520,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8147540,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495041,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495042,"event":"return","thread_id":9160,"parent_id":1495041,"elapsed":6.418005796149373e-06,"elapsed_instrumentation":0.0002949560293927789,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1495043,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8147560,"value":"_p_-\u0003___,_: f_}\u0001"}},{"id":1495044,"event":"return","thread_id":9160,"parent_id":1495043,"elapsed":7.811002433300018e-06,"elapsed_instrumentation":0.0002553770027589053,"return_value":{"class":"Array","value":"[4067474477, 947, 53969, 11482, 14880, 1722449153]","object_id":8147580,"size":6}},{"id":1495045,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495046,"event":"return","thread_id":9160,"parent_id":1495045,"elapsed":0.000852268,"elapsed_instrumentation":0.0001052830193657428},{"id":1495047,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8147600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495048,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495049,"event":"return","thread_id":9160,"parent_id":1495048,"elapsed":0.000516707,"elapsed_instrumentation":9.354500798508525e-05},{"id":1495050,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495051,"event":"return","thread_id":9160,"parent_id":1495050,"elapsed":0.000603462,"elapsed_instrumentation":9.524301276542246e-05},{"id":1495052,"event":"return","thread_id":9160,"parent_id":1495047,"elapsed":0.003505591012071818,"elapsed_instrumentation":0.00040827097836881876,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1495053,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1495054,"event":"return","thread_id":9160,"parent_id":1495053,"elapsed":0.00108536,"elapsed_instrumentation":0.000146770995343104},{"id":1495055,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8147600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495056,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1495057,"event":"return","thread_id":9160,"parent_id":1495056,"elapsed":0.000963824,"elapsed_instrumentation":0.00011167200864292681},{"id":1495058,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495059,"event":"return","thread_id":9160,"parent_id":1495058,"elapsed":0.0014228,"elapsed_instrumentation":0.00010236800881102681},{"id":1495060,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8147620,"value":"#<Account:0x00007fdc06dee380>"}},{"id":1495061,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8147620,"value":"#<Account:0x00007fdc06dee380>"}},{"id":1495062,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522456670522, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495063,"event":"return","thread_id":9160,"parent_id":1495062,"elapsed":0.001277932,"elapsed_instrumentation":8.968397742137313e-05},{"id":1495064,"event":"return","thread_id":9160,"parent_id":1495061,"elapsed":0.0021678739867638797,"elapsed_instrumentation":0.000256478029768914},{"id":1495065,"event":"return","thread_id":9160,"parent_id":1495060,"elapsed":0.0024617959861643612,"elapsed_instrumentation":0.00020202301675453782},{"id":1495066,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495067,"event":"return","thread_id":9160,"parent_id":1495066,"elapsed":0.000721143,"elapsed_instrumentation":8.202099706977606e-05},{"id":1495068,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8147640,"value":"#<Account:0x00007fdc06ded480>"}},{"id":1495069,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8147640,"value":"#<Account:0x00007fdc06ded480>"}},{"id":1495070,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522456670519, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495071,"event":"return","thread_id":9160,"parent_id":1495070,"elapsed":0.000839671,"elapsed_instrumentation":7.876000017859042e-05},{"id":1495072,"event":"return","thread_id":9160,"parent_id":1495069,"elapsed":0.0018756819772534072,"elapsed_instrumentation":0.00011887401342391968},{"id":1495073,"event":"return","thread_id":9160,"parent_id":1495068,"elapsed":0.0020689480006694794,"elapsed_instrumentation":0.00041680000140331686},{"id":1495074,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8147620,"value":"#<Account:0x00007fdc06dee380>"}},{"id":1495075,"event":"return","thread_id":9160,"parent_id":1495074,"elapsed":1.4456018107011914e-05,"elapsed_instrumentation":0.00011513798381201923,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495076,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8147640,"value":"#<Account:0x00007fdc06ded480>"}},{"id":1495077,"event":"return","thread_id":9160,"parent_id":1495076,"elapsed":7.521972293034196e-06,"elapsed_instrumentation":7.167900912463665e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495078,"event":"return","thread_id":9160,"parent_id":1495055,"elapsed":0.01432381002814509,"elapsed_instrumentation":0.00018298698705621064,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1495079,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495080,"event":"return","thread_id":9160,"parent_id":1495079,"elapsed":0.000682348,"elapsed_instrumentation":7.47920130379498e-05},{"id":1495081,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8147680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495082,"event":"return","thread_id":9160,"parent_id":1495081,"elapsed":3.1669915188103914e-06,"elapsed_instrumentation":0.00012205098755657673,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1495083,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8147680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495084,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8147700,"value":"Cache delete: relationship:111360522456670522:111360522456670519\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495085,"event":"return","thread_id":9160,"parent_id":1495084,"elapsed":0.002311302989255637,"elapsed_instrumentation":0.00017403101082891226,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495086,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8147720,"value":"Cache delete: relationship:111360522456670519:111360522456670522\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495087,"event":"return","thread_id":9160,"parent_id":1495086,"elapsed":0.0019282260036561638,"elapsed_instrumentation":0.00017610998474992812,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495088,"event":"return","thread_id":9160,"parent_id":1495083,"elapsed":0.00511952699162066,"elapsed_instrumentation":0.0004881089844275266,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1495089,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8147740,"value":"#<Account:0x00007fdc069faa08>"}},{"id":1495090,"event":"return","thread_id":9160,"parent_id":1495089,"elapsed":1.8174003344029188e-05,"elapsed_instrumentation":0.00011213601101189852,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495091,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8147740,"value":"#<Account:0x00007fdc069faa08>"}},{"id":1495092,"event":"return","thread_id":9160,"parent_id":1495091,"elapsed":4.144996637478471e-06,"elapsed_instrumentation":6.919700535945594e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495093,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142680,"value":"#<Account:0x00007fdc069fcbc8>"}},{"id":1495094,"event":"return","thread_id":9160,"parent_id":1495093,"elapsed":4.527013516053557e-06,"elapsed_instrumentation":6.868899799883366e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495095,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8147760,"value":"{args=>[111360522456670519, 111360522456670522], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8147780,"value":"#<Sidekiq::Client:0x00007fdc0623e990>"}},{"id":1495096,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8147800,"value":"___\u0004{_ZfHD_U"}},{"id":1495097,"event":"return","thread_id":9160,"parent_id":1495096,"elapsed":6.23002415522933e-06,"elapsed_instrumentation":0.00037084799259901047,"return_value":{"class":"String","value":"9cf181047bf85a664844f155","object_id":8147820}},{"id":1495098,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8147840,"value":"[111360522456670519, 111360522456670522]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8147860,"value":"#<JSON::Ext::Generator::State:0x00007fdc0623bc90>"}},{"id":1495099,"event":"return","thread_id":9160,"parent_id":1495098,"elapsed":8.312985301017761e-06,"elapsed_instrumentation":0.0001582709955982864,"return_value":{"class":"String","value":"[111360522456670519,111360522456670522]","object_id":8147880}},{"id":1495100,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8147900,"value":"#<JSON::Ext::Parser:0x00007fdc0623a9a8>"}},{"id":1495101,"event":"return","thread_id":9160,"parent_id":1495100,"elapsed":6.059010047465563e-06,"elapsed_instrumentation":8.933900971896946e-05,"return_value":{"class":"Array","value":"[111360522456670519, 111360522456670522]","object_id":8147920,"size":2}},{"id":1495102,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8147940,"value":"[__x__\u001d___X_"}},{"id":1495103,"event":"return","thread_id":9160,"parent_id":1495102,"elapsed":4.294997779652476e-06,"elapsed_instrumentation":0.00019043797510676086,"return_value":{"class":"String","value":"5b8aa178c99a1df6e3e2589a","object_id":8147960}},{"id":1495104,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8147980,"value":"{retry=>true, queue=>pull, args=>[111360522456670519, 111360522456670522], class=>UnmergeWorker, jid=>9cf181047bf85a664844f155, created_at=>1699226723.57795, id=>5b8aa178c99a1df6e3e2589a}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8148000,"value":"#<JSON::Ext::Generator::State:0x00007fdc062373e8>"}},{"id":1495105,"event":"return","thread_id":9160,"parent_id":1495104,"elapsed":1.8445018213242292e-05,"elapsed_instrumentation":0.0004550589947029948,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522456670519,111360522456670522],\"class\":\"UnmergeWorker\", (...95 more characters)","object_id":8148020}},{"id":1495106,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8148040,"value":"#<JSON::Ext::Parser:0x00007fdc06232a50>"}},{"id":1495107,"event":"return","thread_id":9160,"parent_id":1495106,"elapsed":2.0643987227231264e-05,"elapsed_instrumentation":0.00018370998441241682,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522456670519, 111360522456670522], class=>UnmergeWorker, jid=>9cf181047bf85a664844f155, created_at=>1699226723.57795, id=>5b8aa178c99a1df6e3e2589a}","object_id":8148060,"size":7}},{"id":1495108,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044913341039,"value":"111360522456670519","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8148080,"value":"#<UnmergeWorker:0x00007fdc0624f088>"}},{"id":1495109,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8148080,"value":"#<UnmergeWorker:0x00007fdc0624f088>"}},{"id":1495110,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495111,"event":"return","thread_id":9160,"parent_id":1495110,"elapsed":0.000882302,"elapsed_instrumentation":0.00010413301060907543},{"id":1495112,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495113,"event":"return","thread_id":9160,"parent_id":1495112,"elapsed":0.000999626,"elapsed_instrumentation":8.285199874080718e-05},{"id":1495114,"event":"return","thread_id":9160,"parent_id":1495109,"elapsed":0.005286806990625337,"elapsed_instrumentation":0.0001249539782293141,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06debb80>","object_id":8148100}},{"id":1495115,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8148080,"value":"#<UnmergeWorker:0x00007fdc0624f088>"}},{"id":1495116,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8148120,"value":"#<Account:0x00007fdc06debcc0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8148100,"value":"#<Account:0x00007fdc06debb80>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495117,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495118,"event":"return","thread_id":9160,"parent_id":1495117,"elapsed":5.198002327233553e-06,"elapsed_instrumentation":0.00010655599180608988,"return_value":{"class":"String","value":"feed:home:111360522456670522","object_id":8148140}},{"id":1495119,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495120,"event":"return","thread_id":9160,"parent_id":1495119,"elapsed":5.095003871247172e-06,"elapsed_instrumentation":7.8577984822914e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1495121,"event":"return","thread_id":9160,"parent_id":1495116,"elapsed":0.004909795999992639,"elapsed_instrumentation":0.0001219959813170135},{"id":1495122,"event":"return","thread_id":9160,"parent_id":1495115,"elapsed":0.005071853986009955,"elapsed_instrumentation":9.596897871233523e-05},{"id":1495123,"event":"return","thread_id":9160,"parent_id":1495108,"elapsed":0.010632736986735836,"elapsed_instrumentation":9.316302021034062e-05},{"id":1495124,"event":"return","thread_id":9160,"parent_id":1495095,"elapsed":0.012955441983649507,"elapsed_instrumentation":0.0005382009840104729,"return_value":{"class":"String","value":"9cf181047bf85a664844f155","object_id":8147820}},{"id":1495125,"event":"return","thread_id":9160,"parent_id":1495040,"elapsed":0.045630097010871395,"elapsed_instrumentation":0.00018348399316892028,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06deeec0>","object_id":8147660}},{"id":1495126,"event":"return","thread_id":9160,"parent_id":1495039,"elapsed":0.04584209498716518,"elapsed_instrumentation":0.00011403101962059736,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06deeec0>","object_id":8147660}},{"id":1495127,"event":"return","thread_id":9160,"parent_id":1495038,"elapsed":0.045997215987881646,"elapsed_instrumentation":0.0002104210143443197,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06deeec0>","object_id":8147660}},{"id":1495128,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8148160,"value":"relationship:111360522456670520:111360522456670522","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8148180,"value":"#<UnfollowService:0x00007fdc08b44f60>"}},{"id":1495129,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8148180,"value":"#<UnfollowService:0x00007fdc08b44f60>"}},{"id":1495130,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8148200,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8148220,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495131,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495132,"event":"return","thread_id":9160,"parent_id":1495131,"elapsed":3.3389951568096876e-06,"elapsed_instrumentation":7.755099795758724e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1495133,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8148240,"value":"__1]\u0013}\u001b__*__\u001b_>\u001a"}},{"id":1495134,"event":"return","thread_id":9160,"parent_id":1495133,"elapsed":7.511989679187536e-06,"elapsed_instrumentation":0.00030789998709224164,"return_value":{"class":"Array","value":"[3026137437, 4989, 7123, 39210, 46758, 468139546]","object_id":8148260,"size":6}},{"id":1495135,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495136,"event":"return","thread_id":9160,"parent_id":1495135,"elapsed":0.000961284,"elapsed_instrumentation":9.848698391579092e-05},{"id":1495137,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8148280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495138,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495139,"event":"return","thread_id":9160,"parent_id":1495138,"elapsed":0.000695165,"elapsed_instrumentation":8.309498662129045e-05},{"id":1495140,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495141,"event":"return","thread_id":9160,"parent_id":1495140,"elapsed":0.000787263,"elapsed_instrumentation":7.66680168453604e-05},{"id":1495142,"event":"return","thread_id":9160,"parent_id":1495137,"elapsed":0.0036981870071031153,"elapsed_instrumentation":0.00017957002273760736,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1495143,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1495144,"event":"return","thread_id":9160,"parent_id":1495143,"elapsed":0.001022235,"elapsed_instrumentation":7.410702528432012e-05},{"id":1495145,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8148280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495146,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1495147,"event":"return","thread_id":9160,"parent_id":1495146,"elapsed":0.000647698,"elapsed_instrumentation":7.800501771271229e-05},{"id":1495148,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495149,"event":"return","thread_id":9160,"parent_id":1495148,"elapsed":0.000660125,"elapsed_instrumentation":0.00012067100033164024},{"id":1495150,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8148300,"value":"#<Account:0x00007fdc06deb040>"}},{"id":1495151,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8148300,"value":"#<Account:0x00007fdc06deb040>"}},{"id":1495152,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522456670522, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495153,"event":"return","thread_id":9160,"parent_id":1495152,"elapsed":0.001916898,"elapsed_instrumentation":0.00010189300519414246},{"id":1495154,"event":"return","thread_id":9160,"parent_id":1495151,"elapsed":0.0030961140000727028,"elapsed_instrumentation":0.00030537298880517483},{"id":1495155,"event":"return","thread_id":9160,"parent_id":1495150,"elapsed":0.0034877569996751845,"elapsed_instrumentation":0.00023530199541710317},{"id":1495156,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495157,"event":"return","thread_id":9160,"parent_id":1495156,"elapsed":0.00116285,"elapsed_instrumentation":8.463999256491661e-05},{"id":1495158,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8148320,"value":"#<Account:0x00007fdc06dea140>"}},{"id":1495159,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8148320,"value":"#<Account:0x00007fdc06dea140>"}},{"id":1495160,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522456670520, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495161,"event":"return","thread_id":9160,"parent_id":1495160,"elapsed":0.001348246,"elapsed_instrumentation":8.275298750959337e-05},{"id":1495162,"event":"return","thread_id":9160,"parent_id":1495159,"elapsed":0.0019187830039300025,"elapsed_instrumentation":9.708301513455808e-05},{"id":1495163,"event":"return","thread_id":9160,"parent_id":1495158,"elapsed":0.0020427130220923573,"elapsed_instrumentation":0.00015899899881333113},{"id":1495164,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8148300,"value":"#<Account:0x00007fdc06deb040>"}},{"id":1495165,"event":"return","thread_id":9160,"parent_id":1495164,"elapsed":1.533498289063573e-05,"elapsed_instrumentation":0.00011189599172212183,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495166,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8148320,"value":"#<Account:0x00007fdc06dea140>"}},{"id":1495167,"event":"return","thread_id":9160,"parent_id":1495166,"elapsed":7.871014531701803e-06,"elapsed_instrumentation":7.378298323601484e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495168,"event":"return","thread_id":9160,"parent_id":1495145,"elapsed":0.01619323398335837,"elapsed_instrumentation":0.000597134989220649,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1495169,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495170,"event":"return","thread_id":9160,"parent_id":1495169,"elapsed":0.000679495,"elapsed_instrumentation":7.351700332947075e-05},{"id":1495171,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8148360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495172,"event":"return","thread_id":9160,"parent_id":1495171,"elapsed":3.1449890229851007e-06,"elapsed_instrumentation":0.00013050201232545078,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1495173,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8148360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495174,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8148380,"value":"Cache delete: relationship:111360522456670522:111360522456670520\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495175,"event":"return","thread_id":9160,"parent_id":1495174,"elapsed":0.0015497200074605644,"elapsed_instrumentation":0.00035418200423009694,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495176,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8148400,"value":"Cache delete: relationship:111360522456670520:111360522456670522\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495177,"event":"return","thread_id":9160,"parent_id":1495176,"elapsed":0.0011244180204812437,"elapsed_instrumentation":0.00015558997984044254,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495178,"event":"return","thread_id":9160,"parent_id":1495173,"elapsed":0.0036226590164005756,"elapsed_instrumentation":0.00014499499229714274,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1495179,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8148420,"value":"#<Account:0x00007fdc069fa8c8>"}},{"id":1495180,"event":"return","thread_id":9160,"parent_id":1495179,"elapsed":1.5226018149405718e-05,"elapsed_instrumentation":0.00010163398110307753,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495181,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8148420,"value":"#<Account:0x00007fdc069fa8c8>"}},{"id":1495182,"event":"return","thread_id":9160,"parent_id":1495181,"elapsed":4.67000063508749e-06,"elapsed_instrumentation":9.559703175909817e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495183,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142680,"value":"#<Account:0x00007fdc069fcbc8>"}},{"id":1495184,"event":"return","thread_id":9160,"parent_id":1495183,"elapsed":7.188995368778706e-06,"elapsed_instrumentation":0.0002821240050252527,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495185,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8148440,"value":"{args=>[111360522456670520, 111360522456670522], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8148460,"value":"#<Sidekiq::Client:0x00007fdc06196e20>"}},{"id":1495186,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8148480,"value":"_K\u0001H\r\u0011_f_C]"}},{"id":1495187,"event":"return","thread_id":9160,"parent_id":1495186,"elapsed":4.498986527323723e-06,"elapsed_instrumentation":0.00016875998699106276,"return_value":{"class":"String","value":"c94b7f01480d11ac6682435d","object_id":8148500}},{"id":1495188,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8148520,"value":"[111360522456670520, 111360522456670522]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8148540,"value":"#<JSON::Ext::Generator::State:0x00007fdc06194378>"}},{"id":1495189,"event":"return","thread_id":9160,"parent_id":1495188,"elapsed":6.56300107948482e-06,"elapsed_instrumentation":0.00011419598013162613,"return_value":{"class":"String","value":"[111360522456670520,111360522456670522]","object_id":8148560}},{"id":1495190,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8148580,"value":"#<JSON::Ext::Parser:0x00007fdc061928c0>"}},{"id":1495191,"event":"return","thread_id":9160,"parent_id":1495190,"elapsed":6.718997610732913e-06,"elapsed_instrumentation":8.069703471846879e-05,"return_value":{"class":"Array","value":"[111360522456670520, 111360522456670522]","object_id":8148600,"size":2}},{"id":1495192,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8148620,"value":"__L\u0017___5u\u0005z_"}},{"id":1495193,"event":"return","thread_id":9160,"parent_id":1495192,"elapsed":6.3140178099274635e-06,"elapsed_instrumentation":0.00023697197320871055,"return_value":{"class":"String","value":"d4e14c17bd84cd3575057a5f","object_id":8148640}},{"id":1495194,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8148660,"value":"{retry=>true, queue=>pull, args=>[111360522456670520, 111360522456670522], class=>UnmergeWorker, jid=>c94b7f01480d11ac6682435d, created_at=>1699226723.6246455, id=>d4e14c17bd84cd3575057a5f}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8148680,"value":"#<JSON::Ext::Generator::State:0x00007fdc06190db8>"}},{"id":1495195,"event":"return","thread_id":9160,"parent_id":1495194,"elapsed":1.5892001101747155e-05,"elapsed_instrumentation":0.0002218470035586506,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522456670520,111360522456670522],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8148700}},{"id":1495196,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8148720,"value":"#<JSON::Ext::Parser:0x00007fdc061ae4a8>"}},{"id":1495197,"event":"return","thread_id":9160,"parent_id":1495196,"elapsed":2.2387015633285046e-05,"elapsed_instrumentation":0.00016987801063805819,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522456670520, 111360522456670522], class=>UnmergeWorker, jid=>c94b7f01480d11ac6682435d, created_at=>1699226723.6246455, id=>d4e14c17bd84cd3575057a5f}","object_id":8148740,"size":7}},{"id":1495198,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044913341041,"value":"111360522456670520","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8148760,"value":"#<UnmergeWorker:0x00007fdc061ab960>"}},{"id":1495199,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8148760,"value":"#<UnmergeWorker:0x00007fdc061ab960>"}},{"id":1495200,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495201,"event":"return","thread_id":9160,"parent_id":1495200,"elapsed":0.000818241,"elapsed_instrumentation":9.408598998561502e-05},{"id":1495202,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495203,"event":"return","thread_id":9160,"parent_id":1495202,"elapsed":0.000805505,"elapsed_instrumentation":8.195498958230019e-05},{"id":1495204,"event":"return","thread_id":9160,"parent_id":1495199,"elapsed":0.004491244995733723,"elapsed_instrumentation":0.00011714801075868309,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06de8700>","object_id":8148780}},{"id":1495205,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8148760,"value":"#<UnmergeWorker:0x00007fdc061ab960>"}},{"id":1495206,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8148800,"value":"#<Account:0x00007fdc06de8ac0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8148780,"value":"#<Account:0x00007fdc06de8700>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495207,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495208,"event":"return","thread_id":9160,"parent_id":1495207,"elapsed":5.31101250089705e-06,"elapsed_instrumentation":0.0001043840020429343,"return_value":{"class":"String","value":"feed:home:111360522456670522","object_id":8148820}},{"id":1495209,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495210,"event":"return","thread_id":9160,"parent_id":1495209,"elapsed":4.9140071496367455e-06,"elapsed_instrumentation":0.0002464469871483743,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1495211,"event":"return","thread_id":9160,"parent_id":1495206,"elapsed":0.004072896990692243,"elapsed_instrumentation":0.00011023500701412559},{"id":1495212,"event":"return","thread_id":9160,"parent_id":1495205,"elapsed":0.00421703900792636,"elapsed_instrumentation":8.992897346615791e-05},{"id":1495213,"event":"return","thread_id":9160,"parent_id":1495198,"elapsed":0.008963728992966935,"elapsed_instrumentation":8.506199810653925e-05},{"id":1495214,"event":"return","thread_id":9160,"parent_id":1495185,"elapsed":0.010429372021462768,"elapsed_instrumentation":0.0001869419647846371,"return_value":{"class":"String","value":"c94b7f01480d11ac6682435d","object_id":8148500}},{"id":1495215,"event":"return","thread_id":9160,"parent_id":1495130,"elapsed":0.043181629007449374,"elapsed_instrumentation":0.00020933401538059115,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06deb900>","object_id":8148340}},{"id":1495216,"event":"return","thread_id":9160,"parent_id":1495129,"elapsed":0.043427992990473285,"elapsed_instrumentation":0.0002504470176063478,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06deb900>","object_id":8148340}},{"id":1495217,"event":"return","thread_id":9160,"parent_id":1495128,"elapsed":0.043733394995797426,"elapsed_instrumentation":0.00021521502640098333,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06deb900>","object_id":8148340}},{"id":1495218,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8148840,"value":"relationship:111360522456670521:111360522456670522","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8148860,"value":"#<UnfollowService:0x00007fdc08c05878>"}},{"id":1495219,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8148860,"value":"#<UnfollowService:0x00007fdc08c05878>"}},{"id":1495220,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8148880,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8148900,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495221,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495222,"event":"return","thread_id":9160,"parent_id":1495221,"elapsed":0.00020399599452503026,"elapsed_instrumentation":0.00011923399870283902,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1495223,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8148920,"value":"\n___R'_{\u0019G_v_^4"}},{"id":1495224,"event":"return","thread_id":9160,"parent_id":1495223,"elapsed":6.488000508397818e-06,"elapsed_instrumentation":0.00016647498705424368,"return_value":{"class":"Array","value":"[183095262, 21031, 32648, 31513, 18423, 1994546740]","object_id":8148940,"size":6}},{"id":1495225,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495226,"event":"return","thread_id":9160,"parent_id":1495225,"elapsed":0.000657006,"elapsed_instrumentation":8.879599045030773e-05},{"id":1495227,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8148960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495228,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495229,"event":"return","thread_id":9160,"parent_id":1495228,"elapsed":0.000601288,"elapsed_instrumentation":9.812900680117309e-05},{"id":1495230,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495231,"event":"return","thread_id":9160,"parent_id":1495230,"elapsed":0.000650898,"elapsed_instrumentation":8.15809762571007e-05},{"id":1495232,"event":"return","thread_id":9160,"parent_id":1495227,"elapsed":0.0035221180005464703,"elapsed_instrumentation":0.00041242700535804033,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1495233,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1495234,"event":"return","thread_id":9160,"parent_id":1495233,"elapsed":0.000762802,"elapsed_instrumentation":7.468400872312486e-05},{"id":1495235,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8148960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495236,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1495237,"event":"return","thread_id":9160,"parent_id":1495236,"elapsed":0.000614695,"elapsed_instrumentation":7.965401164256036e-05},{"id":1495238,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495239,"event":"return","thread_id":9160,"parent_id":1495238,"elapsed":0.000606366,"elapsed_instrumentation":0.00024800602113828063},{"id":1495240,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8148980,"value":"#<Account:0x00007fdc06de7940>"}},{"id":1495241,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8148980,"value":"#<Account:0x00007fdc06de7940>"}},{"id":1495242,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522456670522, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495243,"event":"return","thread_id":9160,"parent_id":1495242,"elapsed":0.00111321,"elapsed_instrumentation":9.761002729646862e-05},{"id":1495244,"event":"return","thread_id":9160,"parent_id":1495241,"elapsed":0.0018750440212897956,"elapsed_instrumentation":0.00010373099939897656},{"id":1495245,"event":"return","thread_id":9160,"parent_id":1495240,"elapsed":0.002009984978940338,"elapsed_instrumentation":0.00014171001384966075},{"id":1495246,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495247,"event":"return","thread_id":9160,"parent_id":1495246,"elapsed":0.000691596,"elapsed_instrumentation":8.706099470146e-05},{"id":1495248,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8149000,"value":"#<Account:0x00007fdc06de67c0>"}},{"id":1495249,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8149000,"value":"#<Account:0x00007fdc06de67c0>"}},{"id":1495250,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522456670521, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495251,"event":"return","thread_id":9160,"parent_id":1495250,"elapsed":0.001068724,"elapsed_instrumentation":0.0004039120103698224},{"id":1495252,"event":"return","thread_id":9160,"parent_id":1495249,"elapsed":0.002128063002601266,"elapsed_instrumentation":0.00010586899588815868},{"id":1495253,"event":"return","thread_id":9160,"parent_id":1495248,"elapsed":0.002265702001750469,"elapsed_instrumentation":0.0001469269918743521},{"id":1495254,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8148980,"value":"#<Account:0x00007fdc06de7940>"}},{"id":1495255,"event":"return","thread_id":9160,"parent_id":1495254,"elapsed":2.4331995518878102e-05,"elapsed_instrumentation":0.00018692700541578233,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495256,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8149000,"value":"#<Account:0x00007fdc06de67c0>"}},{"id":1495257,"event":"return","thread_id":9160,"parent_id":1495256,"elapsed":1.1714000720530748e-05,"elapsed_instrumentation":0.00011545600136741996,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495258,"event":"return","thread_id":9160,"parent_id":1495235,"elapsed":0.012497332005295902,"elapsed_instrumentation":0.00021789700258523226,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1495259,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495260,"event":"return","thread_id":9160,"parent_id":1495259,"elapsed":0.000855572,"elapsed_instrumentation":0.00011714501306414604},{"id":1495261,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8149040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495262,"event":"return","thread_id":9160,"parent_id":1495261,"elapsed":4.581001121550798e-06,"elapsed_instrumentation":0.000399021984776482,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1495263,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8149040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495264,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8149060,"value":"Cache delete: relationship:111360522456670522:111360522456670521\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495265,"event":"return","thread_id":9160,"parent_id":1495264,"elapsed":0.001268471998628229,"elapsed_instrumentation":0.00021597399609163404,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495266,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8149080,"value":"Cache delete: relationship:111360522456670521:111360522456670522\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495267,"event":"return","thread_id":9160,"parent_id":1495266,"elapsed":0.0008791989821474999,"elapsed_instrumentation":0.00016913702711462975,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495268,"event":"return","thread_id":9160,"parent_id":1495263,"elapsed":0.003057021996937692,"elapsed_instrumentation":0.0003419610147830099,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1495269,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8149100,"value":"#<Account:0x00007fdc069fa648>"}},{"id":1495270,"event":"return","thread_id":9160,"parent_id":1495269,"elapsed":3.7260004319250584e-05,"elapsed_instrumentation":0.00018860900308936834,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495271,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8149100,"value":"#<Account:0x00007fdc069fa648>"}},{"id":1495272,"event":"return","thread_id":9160,"parent_id":1495271,"elapsed":8.500996045768261e-06,"elapsed_instrumentation":0.0001416680170223117,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495273,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8142680,"value":"#<Account:0x00007fdc069fcbc8>"}},{"id":1495274,"event":"return","thread_id":9160,"parent_id":1495273,"elapsed":4.906003596261144e-06,"elapsed_instrumentation":9.663900709711015e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495275,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8149120,"value":"{args=>[111360522456670521, 111360522456670522], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8149140,"value":"#<Sidekiq::Client:0x00007fdc06118188>"}},{"id":1495276,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8149160,"value":"\u0000r__K__}~Y\u0006_"}},{"id":1495277,"event":"return","thread_id":9160,"parent_id":1495276,"elapsed":6.0489983297884464e-06,"elapsed_instrumentation":0.00039410300087183714,"return_value":{"class":"String","value":"0072ccb94bc7b17d7e5906db","object_id":8149180}},{"id":1495278,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8149200,"value":"[111360522456670521, 111360522456670522]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8149220,"value":"#<JSON::Ext::Generator::State:0x00007fdc06113368>"}},{"id":1495279,"event":"return","thread_id":9160,"parent_id":1495278,"elapsed":9.247014531865716e-06,"elapsed_instrumentation":0.00048026497825048864,"return_value":{"class":"String","value":"[111360522456670521,111360522456670522]","object_id":8149240}},{"id":1495280,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8149260,"value":"#<JSON::Ext::Parser:0x00007fdc061119a0>"}},{"id":1495281,"event":"return","thread_id":9160,"parent_id":1495280,"elapsed":6.852002115920186e-06,"elapsed_instrumentation":0.0001155800127889961,"return_value":{"class":"Array","value":"[111360522456670521, 111360522456670522]","object_id":8149280,"size":2}},{"id":1495282,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8149300,"value":"_\u001f?8__w__\u001b|_"}},{"id":1495283,"event":"return","thread_id":9160,"parent_id":1495282,"elapsed":4.005007212981582e-06,"elapsed_instrumentation":0.00011102500138804317,"return_value":{"class":"String","value":"b41f3f3883bf77c1a31b7ca2","object_id":8149320}},{"id":1495284,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8149340,"value":"{retry=>true, queue=>pull, args=>[111360522456670521, 111360522456670522], class=>UnmergeWorker, jid=>0072ccb94bc7b17d7e5906db, created_at=>1699226723.6646824, id=>b41f3f3883bf77c1a31b7ca2}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8149360,"value":"#<JSON::Ext::Generator::State:0x00007fdc0612f5e0>"}},{"id":1495285,"event":"return","thread_id":9160,"parent_id":1495284,"elapsed":1.604601857252419e-05,"elapsed_instrumentation":0.00020473197218962014,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522456670521,111360522456670522],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8149380}},{"id":1495286,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8149400,"value":"#<JSON::Ext::Parser:0x00007fdc0612c8b8>"}},{"id":1495287,"event":"return","thread_id":9160,"parent_id":1495286,"elapsed":2.1837011445313692e-05,"elapsed_instrumentation":0.00035221499274484813,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522456670521, 111360522456670522], class=>UnmergeWorker, jid=>0072ccb94bc7b17d7e5906db, created_at=>1699226723.6646824, id=>b41f3f3883bf77c1a31b7ca2}","object_id":8149420,"size":7}},{"id":1495288,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044913341043,"value":"111360522456670521","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8149440,"value":"#<UnmergeWorker:0x00007fdc06128c40>"}},{"id":1495289,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8149440,"value":"#<UnmergeWorker:0x00007fdc06128c40>"}},{"id":1495290,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495291,"event":"return","thread_id":9160,"parent_id":1495290,"elapsed":0.000710862,"elapsed_instrumentation":0.00010711600771173835},{"id":1495292,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495293,"event":"return","thread_id":9160,"parent_id":1495292,"elapsed":0.000676074,"elapsed_instrumentation":7.600701064802706e-05},{"id":1495294,"event":"return","thread_id":9160,"parent_id":1495289,"elapsed":0.004007045994512737,"elapsed_instrumentation":0.0001328169892076403,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06de5280>","object_id":8149460}},{"id":1495295,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8149440,"value":"#<UnmergeWorker:0x00007fdc06128c40>"}},{"id":1495296,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8149480,"value":"#<Account:0x00007fdc06de53c0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8149460,"value":"#<Account:0x00007fdc06de5280>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495297,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495298,"event":"return","thread_id":9160,"parent_id":1495297,"elapsed":5.338981281965971e-06,"elapsed_instrumentation":0.00023442500969395041,"return_value":{"class":"String","value":"feed:home:111360522456670522","object_id":8149500}},{"id":1495299,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495300,"event":"return","thread_id":9160,"parent_id":1495299,"elapsed":4.945992259308696e-06,"elapsed_instrumentation":9.630201384425163e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1495301,"event":"return","thread_id":9160,"parent_id":1495296,"elapsed":0.004505071003222838,"elapsed_instrumentation":0.00011581499711610377},{"id":1495302,"event":"return","thread_id":9160,"parent_id":1495295,"elapsed":0.004656645993236452,"elapsed_instrumentation":9.140500333160162e-05},{"id":1495303,"event":"return","thread_id":9160,"parent_id":1495288,"elapsed":0.00919271499151364,"elapsed_instrumentation":0.00011259200982749462},{"id":1495304,"event":"return","thread_id":9160,"parent_id":1495275,"elapsed":0.011462999013019726,"elapsed_instrumentation":0.00025743100559338927,"return_value":{"class":"String","value":"0072ccb94bc7b17d7e5906db","object_id":8149180}},{"id":1495305,"event":"return","thread_id":9160,"parent_id":1495220,"elapsed":0.04024969902820885,"elapsed_instrumentation":0.0003032689855899662,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06de8340>","object_id":8149020}},{"id":1495306,"event":"return","thread_id":9160,"parent_id":1495219,"elapsed":0.04058247900684364,"elapsed_instrumentation":8.555999374948442e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06de8340>","object_id":8149020}},{"id":1495307,"event":"return","thread_id":9160,"parent_id":1495218,"elapsed":0.04069969800184481,"elapsed_instrumentation":0.00013458298053592443,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06de8340>","object_id":8149020}},{"id":1495308,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8149520,"value":"{args=>[111360522456670522], class=>BootstrapTimelineWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8149540,"value":"#<Sidekiq::Client:0x00007fdc060dc368>"}},{"id":1495309,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8149560,"value":"K__E\r__s_s__"}},{"id":1495310,"event":"return","thread_id":9160,"parent_id":1495309,"elapsed":6.187008693814278e-06,"elapsed_instrumentation":0.0003935959830414504,"return_value":{"class":"String","value":"4be69b450de3b273c473f3cc","object_id":8149580}},{"id":1495311,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8149600,"value":"[111360522456670522]","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8149620,"value":"#<JSON::Ext::Generator::State:0x00007fdc060d6c88>"}},{"id":1495312,"event":"return","thread_id":9160,"parent_id":1495311,"elapsed":6.283982656896114e-06,"elapsed_instrumentation":0.00012141099432483315,"return_value":{"class":"String","value":"[111360522456670522]","object_id":8149640}},{"id":1495313,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8149660,"value":"#<JSON::Ext::Parser:0x00007fdc060d59c8>"}},{"id":1495314,"event":"return","thread_id":9160,"parent_id":1495313,"elapsed":5.64398942515254e-06,"elapsed_instrumentation":8.013105252757668e-05,"return_value":{"class":"Array","value":"[111360522456670522]","object_id":8149680,"size":1}},{"id":1495315,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8149700,"value":"x_O\u001aEo__$___"}},{"id":1495316,"event":"return","thread_id":9160,"parent_id":1495315,"elapsed":3.535009454935789e-06,"elapsed_instrumentation":0.00013201398542150855,"return_value":{"class":"String","value":"78d54f1a456fb7c624f8ebd6","object_id":8149720}},{"id":1495317,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8149740,"value":"{retry=>true, queue=>default, args=>[111360522456670522], class=>BootstrapTimelineWorker, jid=>4be69b450de3b273c473f3cc, created_at=>1699226723.6772861, id=>78d54f1a456fb7c624f8ebd6}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8149760,"value":"#<JSON::Ext::Generator::State:0x00007fdc060d39c0>"}},{"id":1495318,"event":"return","thread_id":9160,"parent_id":1495317,"elapsed":2.7784000849351287e-05,"elapsed_instrumentation":0.00037889397935941815,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111360522456670522],\"class\":\"BootstrapTimelineWorker\",\"jid\": (...91 more characters)","object_id":8149780}},{"id":1495319,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8149800,"value":"#<JSON::Ext::Parser:0x00007fdc060ee720>"}},{"id":1495320,"event":"return","thread_id":9160,"parent_id":1495319,"elapsed":2.03549861907959e-05,"elapsed_instrumentation":0.00017022903193719685,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111360522456670522], class=>BootstrapTimelineWorker, jid=>4be69b450de3b273c473f3cc, created_at=>1699226723.6772861, id=>78d54f1a456fb7c624f8ebd6}","object_id":8149820,"size":7}},{"id":1495321,"event":"call","thread_id":9160,"defined_class":"BootstrapTimelineWorker","method_id":"perform","path":"app/workers/bootstrap_timeline_worker.rb","lineno":6,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222721044913341045,"value":"111360522456670522","kind":"req"}],"receiver":{"class":"BootstrapTimelineWorker","object_id":8149840,"value":"#<BootstrapTimelineWorker:0x00007fdc060eafa8>"}},{"id":1495322,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495323,"event":"return","thread_id":9160,"parent_id":1495322,"elapsed":0.00075816,"elapsed_instrumentation":9.083197801373899e-05},{"id":1495324,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495325,"event":"return","thread_id":9160,"parent_id":1495324,"elapsed":0.000755179,"elapsed_instrumentation":7.79209949541837e-05},{"id":1495326,"event":"call","thread_id":9160,"defined_class":"User","method_id":"those_who_can","path":"app/models/user.rb","lineno":143,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8149860,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":35120,"value":"User"}},{"id":1495327,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"that_can","path":"app/models/user_role.rb","lineno":111,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8149880,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1495328,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\"","database_type":"postgres"}},{"id":1495329,"event":"return","thread_id":9160,"parent_id":1495328,"elapsed":0.000757216,"elapsed_instrumentation":7.494600140489638e-05},{"id":1495330,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8149900,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8149920,"value":"#<UserRole:0x00007fdc06de4240>"}},{"id":1495331,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8149920,"value":"#<UserRole:0x00007fdc06de4240>"}},{"id":1495332,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8149920,"value":"#<UserRole:0x00007fdc06de4240>"}},{"id":1495333,"event":"return","thread_id":9160,"parent_id":1495332,"elapsed":1.487100962549448e-05,"elapsed_instrumentation":7.64050055295229e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495334,"event":"return","thread_id":9160,"parent_id":1495331,"elapsed":0.00011829499271698296,"elapsed_instrumentation":7.043802179396152e-05,"return_value":{"class":"Integer","value":"65536","object_id":131073}},{"id":1495335,"event":"return","thread_id":9160,"parent_id":1495330,"elapsed":0.00021386300795711577,"elapsed_instrumentation":0.00013890999252907932},{"id":1495336,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8149940,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8149960,"value":"#<UserRole:0x00007fdc06de4100>"}},{"id":1495337,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8149960,"value":"#<UserRole:0x00007fdc06de4100>"}},{"id":1495338,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8149960,"value":"#<UserRole:0x00007fdc06de4100>"}},{"id":1495339,"event":"return","thread_id":9160,"parent_id":1495338,"elapsed":1.1449999874457717e-05,"elapsed_instrumentation":9.081297321245074e-05},{"id":1495340,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8149960,"value":"#<UserRole:0x00007fdc06de4100>"}},{"id":1495341,"event":"return","thread_id":9160,"parent_id":1495340,"elapsed":5.255016731098294e-06,"elapsed_instrumentation":5.340797360986471e-05},{"id":1495342,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1495343,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495344,"event":"return","thread_id":9160,"parent_id":1495343,"elapsed":0.00039313,"elapsed_instrumentation":9.077601134777069e-05},{"id":1495345,"event":"return","thread_id":9160,"parent_id":1495342,"elapsed":0.0012888329802080989,"elapsed_instrumentation":0.00011989101767539978,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdc06de3c00>","object_id":8149980}},{"id":1495346,"event":"return","thread_id":9160,"parent_id":1495337,"elapsed":0.001791224000044167,"elapsed_instrumentation":8.092299685813487e-05,"return_value":{"class":"Integer","value":"66844","object_id":133689}},{"id":1495347,"event":"return","thread_id":9160,"parent_id":1495336,"elapsed":0.0018982120091095567,"elapsed_instrumentation":9.464999311603606e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495348,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8150000,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8150020,"value":"#<UserRole:0x00007fdc06de3fc0>"}},{"id":1495349,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8150020,"value":"#<UserRole:0x00007fdc06de3fc0>"}},{"id":1495350,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8150020,"value":"#<UserRole:0x00007fdc06de3fc0>"}},{"id":1495351,"event":"return","thread_id":9160,"parent_id":1495350,"elapsed":1.1279014870524406e-05,"elapsed_instrumentation":0.0001950330042745918},{"id":1495352,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8150020,"value":"#<UserRole:0x00007fdc06de3fc0>"}},{"id":1495353,"event":"return","thread_id":9160,"parent_id":1495352,"elapsed":5.089998012408614e-06,"elapsed_instrumentation":5.836001946590841e-05},{"id":1495354,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1495355,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495356,"event":"return","thread_id":9160,"parent_id":1495355,"elapsed":0.000630965,"elapsed_instrumentation":7.466200622729957e-05},{"id":1495357,"event":"return","thread_id":9160,"parent_id":1495354,"elapsed":0.0013495080056600273,"elapsed_instrumentation":0.0001230109774041921,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdc06de3980>","object_id":8150040}},{"id":1495358,"event":"return","thread_id":9160,"parent_id":1495349,"elapsed":0.0018105609924532473,"elapsed_instrumentation":7.15689966455102e-05,"return_value":{"class":"Integer","value":"1048572","object_id":2097145}},{"id":1495359,"event":"return","thread_id":9160,"parent_id":1495348,"elapsed":0.0019042259955313057,"elapsed_instrumentation":0.00010857800953090191,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495360,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8150060,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8150080,"value":"#<UserRole:0x00007fdc06de3e80>"}},{"id":1495361,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8150080,"value":"#<UserRole:0x00007fdc06de3e80>"}},{"id":1495362,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8150080,"value":"#<UserRole:0x00007fdc06de3e80>"}},{"id":1495363,"event":"return","thread_id":9160,"parent_id":1495362,"elapsed":1.0118004865944386e-05,"elapsed_instrumentation":5.557999247685075e-05},{"id":1495364,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8150080,"value":"#<UserRole:0x00007fdc06de3e80>"}},{"id":1495365,"event":"return","thread_id":9160,"parent_id":1495364,"elapsed":4.795001586899161e-06,"elapsed_instrumentation":5.2198010962456465e-05},{"id":1495366,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1495367,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495368,"event":"return","thread_id":9160,"parent_id":1495367,"elapsed":0.000615106,"elapsed_instrumentation":7.406101212836802e-05},{"id":1495369,"event":"return","thread_id":9160,"parent_id":1495366,"elapsed":0.001195588003611192,"elapsed_instrumentation":0.0001021319767460227,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdc06de3700>","object_id":8150100}},{"id":1495370,"event":"return","thread_id":9160,"parent_id":1495361,"elapsed":0.0014833229943178594,"elapsed_instrumentation":0.0001606619916856289,"return_value":{"class":"Integer","value":"1048575","object_id":2097151}},{"id":1495371,"event":"return","thread_id":9160,"parent_id":1495360,"elapsed":0.0016682830173522234,"elapsed_instrumentation":0.00011337100295349956,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495372,"event":"return","thread_id":9160,"parent_id":1495327,"elapsed":0.00798966598813422,"elapsed_instrumentation":0.00012890101061202586,"return_value":{"class":"Array","value":"[#<UserRole:0x00007fdc06de4100>, #<UserRole:0x00007fdc06de3fc0>, #<UserRole:0x00007fdc06de3e80>]","object_id":8150120,"size":3}},{"id":1495373,"event":"return","thread_id":9160,"parent_id":1495326,"elapsed":0.00839976200950332,"elapsed_instrumentation":0.00017541498527862132,"return_value":{"class":"ActiveRecord::Relation","value":"#<User::ActiveRecord_Relation:0x00007fdc07474a60>","object_id":8150140}},{"id":1495374,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"role_id\" IN ($1, $2, $3) ORDER BY \"users\".\"id\" ASC LIMIT $4","database_type":"postgres"}},{"id":1495375,"event":"return","thread_id":9160,"parent_id":1495374,"elapsed":0.001120749,"elapsed_instrumentation":0.0002314340090379119},{"id":1495376,"event":"return","thread_id":9160,"parent_id":1495321,"elapsed":0.018322979973163456,"elapsed_instrumentation":8.832901949062943e-05},{"id":1495377,"event":"return","thread_id":9160,"parent_id":1495308,"elapsed":0.02010032901307568,"elapsed_instrumentation":0.0002066789602395147,"return_value":{"class":"String","value":"4be69b450de3b273c473f3cc","object_id":8149580}},{"id":1495378,"event":"return","thread_id":9160,"parent_id":1494397,"elapsed":0.448247150023235,"elapsed_instrumentation":0.0002302599896211177,"return_value":{"class":"StringIO","value":"#<StringIO:0x00007fdc0674ad08>","object_id":8150160}}]}