{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::IpBlocks #add with --duration option blocks all specified IP addresses","source_location":"spec/lib/mastodon/cli/ip_blocks_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"IpBlocks","type":"class","children":[{"name":"add","type":"function","location":"lib/mastodon/cli/ip_blocks.rb:22","static":false}]}]}]}]},{"name":"app/models/concerns","type":"package","children":[{"name":"IpBlock","type":"class","children":[{"name":"expires_in=","type":"function","location":"app/models/concerns/expireable.rb:19","static":false}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":833199,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::IpBlocks","method_id":"add","path":"lib/mastodon/cli/ip_blocks.rb","lineno":22,"static":false,"parameters":[{"name":"addresses","class":"Array","object_id":5097980,"value":"[192.0.2.1, 172.16.0.1, 192.0.2.0/24, 172.16.0.0/16, 10.0.0.0/8, 2001:0db8:85a3:0000:0000:8a2e:0370:7334, fe80::1, ::1, 2001:0db8::/32, fe80::/10 (...1 more items)]","kind":"rest","size":11}],"receiver":{"class":"Mastodon::CLI::IpBlocks","object_id":5098000,"value":"#<Mastodon::CLI::IpBlocks:0x00007fdc08ac8668>"}},{"id":833200,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833201,"event":"return","thread_id":9160,"parent_id":833200,"elapsed":0.00084747,"elapsed_instrumentation":9.094999404624104e-05},{"id":833202,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"ActiveSupport::Duration","object_id":5098020,"value":"864000","kind":"req"}],"receiver":{"class":"IpBlock","object_id":5098040,"value":"#<IpBlock:0x00007fdc0675c080>"}},{"id":833203,"event":"return","thread_id":9160,"parent_id":833202,"elapsed":8.795497706159949e-05,"elapsed_instrumentation":0.00016833102563396096,"return_value":{"class":"ActiveSupport::Duration","value":"864000","object_id":5098020}},{"id":833204,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833205,"event":"return","thread_id":9160,"parent_id":833204,"elapsed":7.522598025389016e-05,"elapsed_instrumentation":0.00017121803830377758,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":833206,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833207,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833208,"event":"return","thread_id":9160,"parent_id":833207,"elapsed":0.000451136,"elapsed_instrumentation":9.734599734656513e-05},{"id":833209,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833210,"event":"return","thread_id":9160,"parent_id":833209,"elapsed":0.001760867,"elapsed_instrumentation":0.00012173401773907244},{"id":833211,"event":"return","thread_id":9160,"parent_id":833206,"elapsed":0.0028727250173687935,"elapsed_instrumentation":0.0002159870055038482,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":833212,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833213,"event":"return","thread_id":9160,"parent_id":833212,"elapsed":3.7829740904271603e-06,"elapsed_instrumentation":0.00011108402395620942,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":833214,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833215,"event":"return","thread_id":9160,"parent_id":833214,"elapsed":3.0999945010989904e-06,"elapsed_instrumentation":0.000171653984580189,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":833216,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":833217,"event":"return","thread_id":9160,"parent_id":833216,"elapsed":0.000879718,"elapsed_instrumentation":9.308900916948915e-05},{"id":833218,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833219,"event":"return","thread_id":9160,"parent_id":833218,"elapsed":0.000475716,"elapsed_instrumentation":0.00021834997460246086},{"id":833220,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833221,"event":"return","thread_id":9160,"parent_id":833220,"elapsed":6.752001354470849e-06,"elapsed_instrumentation":0.00023880801745690405,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":833222,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833223,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5098120,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":833224,"event":"return","thread_id":9160,"parent_id":833223,"elapsed":0.0007989709847606719,"elapsed_instrumentation":0.00037554200389422476,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":833225,"event":"return","thread_id":9160,"parent_id":833222,"elapsed":0.0014351179997902364,"elapsed_instrumentation":0.0002060330007225275,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":833226,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833227,"event":"return","thread_id":9160,"parent_id":833226,"elapsed":0.00079603,"elapsed_instrumentation":0.00013830300304107368},{"id":833228,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"ActiveSupport::Duration","object_id":5098020,"value":"864000","kind":"req"}],"receiver":{"class":"IpBlock","object_id":5098140,"value":"#<IpBlock:0x00007fdc0675b400>"}},{"id":833229,"event":"return","thread_id":9160,"parent_id":833228,"elapsed":0.0001032299769576639,"elapsed_instrumentation":0.00041838001925498247,"return_value":{"class":"ActiveSupport::Duration","value":"864000","object_id":5098020}},{"id":833230,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833231,"event":"return","thread_id":9160,"parent_id":833230,"elapsed":1.9302999135106802e-05,"elapsed_instrumentation":0.00013634099741466343,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":833232,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833233,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833234,"event":"return","thread_id":9160,"parent_id":833233,"elapsed":0.000805987,"elapsed_instrumentation":0.00010118199861608446},{"id":833235,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833236,"event":"return","thread_id":9160,"parent_id":833235,"elapsed":0.00213087,"elapsed_instrumentation":0.0004016470047645271},{"id":833237,"event":"return","thread_id":9160,"parent_id":833232,"elapsed":0.0036845240101683885,"elapsed_instrumentation":0.00019428099039942026,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":833238,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833239,"event":"return","thread_id":9160,"parent_id":833238,"elapsed":5.580979632213712e-06,"elapsed_instrumentation":0.00015778600936755538,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":833240,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833241,"event":"return","thread_id":9160,"parent_id":833240,"elapsed":5.736015737056732e-06,"elapsed_instrumentation":0.0002553110243752599,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":833242,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":833243,"event":"return","thread_id":9160,"parent_id":833242,"elapsed":0.000960385,"elapsed_instrumentation":9.151099948212504e-05},{"id":833244,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833245,"event":"return","thread_id":9160,"parent_id":833244,"elapsed":0.000487065,"elapsed_instrumentation":7.210299372673035e-05},{"id":833246,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833247,"event":"return","thread_id":9160,"parent_id":833246,"elapsed":3.410008503124118e-06,"elapsed_instrumentation":0.00013287199544720352,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":833248,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833249,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5098220,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":833250,"event":"return","thread_id":9160,"parent_id":833249,"elapsed":0.0007418089953716844,"elapsed_instrumentation":0.00021797302179038525,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":833251,"event":"return","thread_id":9160,"parent_id":833248,"elapsed":0.0011665759957395494,"elapsed_instrumentation":0.0003529260284267366,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":833252,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833253,"event":"return","thread_id":9160,"parent_id":833252,"elapsed":0.000667848,"elapsed_instrumentation":0.00012105802306905389},{"id":833254,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"ActiveSupport::Duration","object_id":5098020,"value":"864000","kind":"req"}],"receiver":{"class":"IpBlock","object_id":5098240,"value":"#<IpBlock:0x00007fdc0675aa00>"}},{"id":833255,"event":"return","thread_id":9160,"parent_id":833254,"elapsed":0.000125850026961416,"elapsed_instrumentation":0.00026186599279753864,"return_value":{"class":"ActiveSupport::Duration","value":"864000","object_id":5098020}},{"id":833256,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833257,"event":"return","thread_id":9160,"parent_id":833256,"elapsed":0.00010353801189921796,"elapsed_instrumentation":0.00030662896460853517,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":833258,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833259,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833260,"event":"return","thread_id":9160,"parent_id":833259,"elapsed":0.000542215,"elapsed_instrumentation":9.583402425050735e-05},{"id":833261,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833262,"event":"return","thread_id":9160,"parent_id":833261,"elapsed":0.001618109,"elapsed_instrumentation":0.00011947701568715274},{"id":833263,"event":"return","thread_id":9160,"parent_id":833258,"elapsed":0.0028215839993208647,"elapsed_instrumentation":0.00017107799067161977,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":833264,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833265,"event":"return","thread_id":9160,"parent_id":833264,"elapsed":3.1149829737842083e-06,"elapsed_instrumentation":0.00010744199971668422,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":833266,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833267,"event":"return","thread_id":9160,"parent_id":833266,"elapsed":2.60199885815382e-06,"elapsed_instrumentation":7.899099728092551e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":833268,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":833269,"event":"return","thread_id":9160,"parent_id":833268,"elapsed":0.000833839,"elapsed_instrumentation":7.85360170993954e-05},{"id":833270,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833271,"event":"return","thread_id":9160,"parent_id":833270,"elapsed":0.000447054,"elapsed_instrumentation":7.329898653551936e-05},{"id":833272,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833273,"event":"return","thread_id":9160,"parent_id":833272,"elapsed":3.330002073198557e-06,"elapsed_instrumentation":0.00011344297672621906,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":833274,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833275,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5098320,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":833276,"event":"return","thread_id":9160,"parent_id":833275,"elapsed":0.0008933039789553732,"elapsed_instrumentation":0.00012149801477789879,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":833277,"event":"return","thread_id":9160,"parent_id":833274,"elapsed":0.001165014982689172,"elapsed_instrumentation":0.00029758299933746457,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":833278,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833279,"event":"return","thread_id":9160,"parent_id":833278,"elapsed":0.000541502,"elapsed_instrumentation":7.568500586785376e-05},{"id":833280,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"ActiveSupport::Duration","object_id":5098020,"value":"864000","kind":"req"}],"receiver":{"class":"IpBlock","object_id":5098340,"value":"#<IpBlock:0x00007fdc06759d80>"}},{"id":833281,"event":"return","thread_id":9160,"parent_id":833280,"elapsed":7.725600153207779e-05,"elapsed_instrumentation":0.0001449570117983967,"return_value":{"class":"ActiveSupport::Duration","value":"864000","object_id":5098020}},{"id":833282,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833283,"event":"return","thread_id":9160,"parent_id":833282,"elapsed":1.5883008018136024e-05,"elapsed_instrumentation":0.00013201296678744256,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":833284,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833285,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833286,"event":"return","thread_id":9160,"parent_id":833285,"elapsed":0.000639722,"elapsed_instrumentation":0.00010005899821408093},{"id":833287,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833288,"event":"return","thread_id":9160,"parent_id":833287,"elapsed":0.001783521,"elapsed_instrumentation":7.377800648100674e-05},{"id":833289,"event":"return","thread_id":9160,"parent_id":833284,"elapsed":0.002634268981637433,"elapsed_instrumentation":0.00030083299498073757,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":833290,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833291,"event":"return","thread_id":9160,"parent_id":833290,"elapsed":3.98399424739182e-06,"elapsed_instrumentation":0.00011715502478182316,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":833292,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833293,"event":"return","thread_id":9160,"parent_id":833292,"elapsed":2.7909991331398487e-06,"elapsed_instrumentation":7.956000627018511e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":833294,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":833295,"event":"return","thread_id":9160,"parent_id":833294,"elapsed":0.000975191,"elapsed_instrumentation":0.00012924199108965695},{"id":833296,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833297,"event":"return","thread_id":9160,"parent_id":833296,"elapsed":0.000399656,"elapsed_instrumentation":0.0001850960252340883},{"id":833298,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833299,"event":"return","thread_id":9160,"parent_id":833298,"elapsed":3.8339931052178144e-06,"elapsed_instrumentation":0.00014838302740827203,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":833300,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833301,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5098420,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":833302,"event":"return","thread_id":9160,"parent_id":833301,"elapsed":0.0006113779963925481,"elapsed_instrumentation":0.00012116003199480474,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":833303,"event":"return","thread_id":9160,"parent_id":833300,"elapsed":0.0008884679991751909,"elapsed_instrumentation":0.0001832900452427566,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":833304,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833305,"event":"return","thread_id":9160,"parent_id":833304,"elapsed":0.000573139,"elapsed_instrumentation":7.881500641815364e-05},{"id":833306,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"ActiveSupport::Duration","object_id":5098020,"value":"864000","kind":"req"}],"receiver":{"class":"IpBlock","object_id":5098440,"value":"#<IpBlock:0x00007fdc06759100>"}},{"id":833307,"event":"return","thread_id":9160,"parent_id":833306,"elapsed":8.2874990766868e-05,"elapsed_instrumentation":0.00016258499817922711,"return_value":{"class":"ActiveSupport::Duration","value":"864000","object_id":5098020}},{"id":833308,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833309,"event":"return","thread_id":9160,"parent_id":833308,"elapsed":1.694998354651034e-05,"elapsed_instrumentation":0.00012385999434627593,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":833310,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833311,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833312,"event":"return","thread_id":9160,"parent_id":833311,"elapsed":0.000438144,"elapsed_instrumentation":7.987499702721834e-05},{"id":833313,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833314,"event":"return","thread_id":9160,"parent_id":833313,"elapsed":0.001226373,"elapsed_instrumentation":0.00016931601567193866},{"id":833315,"event":"return","thread_id":9160,"parent_id":833310,"elapsed":0.0023936780053190887,"elapsed_instrumentation":0.000147743005072698,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":833316,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833317,"event":"return","thread_id":9160,"parent_id":833316,"elapsed":3.522000042721629e-06,"elapsed_instrumentation":0.00010223098797723651,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":833318,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833319,"event":"return","thread_id":9160,"parent_id":833318,"elapsed":2.8650101739913225e-06,"elapsed_instrumentation":7.878898759372532e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":833320,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":833321,"event":"return","thread_id":9160,"parent_id":833320,"elapsed":0.000648161,"elapsed_instrumentation":7.423601346090436e-05},{"id":833322,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833323,"event":"return","thread_id":9160,"parent_id":833322,"elapsed":0.000381609,"elapsed_instrumentation":0.00020353900617919862},{"id":833324,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833325,"event":"return","thread_id":9160,"parent_id":833324,"elapsed":3.4719996619969606e-06,"elapsed_instrumentation":0.00014031297178007662,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":833326,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833327,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5098520,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":833328,"event":"return","thread_id":9160,"parent_id":833327,"elapsed":0.0014790509885642678,"elapsed_instrumentation":0.00013119299546815455,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":833329,"event":"return","thread_id":9160,"parent_id":833326,"elapsed":0.001816247997339815,"elapsed_instrumentation":0.0001849499822128564,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":833330,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833331,"event":"return","thread_id":9160,"parent_id":833330,"elapsed":0.000532833,"elapsed_instrumentation":8.004298433661461e-05},{"id":833332,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"ActiveSupport::Duration","object_id":5098020,"value":"864000","kind":"req"}],"receiver":{"class":"IpBlock","object_id":5098540,"value":"#<IpBlock:0x00007fdc06758200>"}},{"id":833333,"event":"return","thread_id":9160,"parent_id":833332,"elapsed":0.00010427998495288193,"elapsed_instrumentation":0.00035644799936562777,"return_value":{"class":"ActiveSupport::Duration","value":"864000","object_id":5098020}},{"id":833334,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833335,"event":"return","thread_id":9160,"parent_id":833334,"elapsed":1.8144986825063825e-05,"elapsed_instrumentation":0.00013463001232594252,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":833336,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833337,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833338,"event":"return","thread_id":9160,"parent_id":833337,"elapsed":0.000741896,"elapsed_instrumentation":0.0001382910122629255},{"id":833339,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833340,"event":"return","thread_id":9160,"parent_id":833339,"elapsed":0.001946755,"elapsed_instrumentation":0.0001071940059773624},{"id":833341,"event":"return","thread_id":9160,"parent_id":833336,"elapsed":0.0033898270048666745,"elapsed_instrumentation":0.0006529060192406178,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":833342,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833343,"event":"return","thread_id":9160,"parent_id":833342,"elapsed":7.4499985203146935e-06,"elapsed_instrumentation":0.00020496596698649228,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":833344,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833345,"event":"return","thread_id":9160,"parent_id":833344,"elapsed":2.9919901862740517e-06,"elapsed_instrumentation":0.00010442198254168034,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":833346,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":833347,"event":"return","thread_id":9160,"parent_id":833346,"elapsed":0.000979067,"elapsed_instrumentation":8.894599159248173e-05},{"id":833348,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833349,"event":"return","thread_id":9160,"parent_id":833348,"elapsed":0.000519389,"elapsed_instrumentation":9.736200445331633e-05},{"id":833350,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833351,"event":"return","thread_id":9160,"parent_id":833350,"elapsed":3.962020855396986e-06,"elapsed_instrumentation":0.0001440359919797629,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":833352,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833353,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5098620,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":833354,"event":"return","thread_id":9160,"parent_id":833353,"elapsed":0.0015455020184163004,"elapsed_instrumentation":0.00014644797192886472,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":833355,"event":"return","thread_id":9160,"parent_id":833352,"elapsed":0.0018836479866877198,"elapsed_instrumentation":0.00015250500291585922,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":833356,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833357,"event":"return","thread_id":9160,"parent_id":833356,"elapsed":0.000670182,"elapsed_instrumentation":8.782799704931676e-05},{"id":833358,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"ActiveSupport::Duration","object_id":5098020,"value":"864000","kind":"req"}],"receiver":{"class":"IpBlock","object_id":5098640,"value":"#<IpBlock:0x00007fdc06757940>"}},{"id":833359,"event":"return","thread_id":9160,"parent_id":833358,"elapsed":9.381500422023237e-05,"elapsed_instrumentation":0.00018523898324929178,"return_value":{"class":"ActiveSupport::Duration","value":"864000","object_id":5098020}},{"id":833360,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833361,"event":"return","thread_id":9160,"parent_id":833360,"elapsed":2.133200177922845e-05,"elapsed_instrumentation":0.0001653119979891926,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":833362,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833363,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833364,"event":"return","thread_id":9160,"parent_id":833363,"elapsed":0.000828319,"elapsed_instrumentation":0.00013180600944906473},{"id":833365,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833366,"event":"return","thread_id":9160,"parent_id":833365,"elapsed":0.002007437,"elapsed_instrumentation":8.01029964350164e-05},{"id":833367,"event":"return","thread_id":9160,"parent_id":833362,"elapsed":0.003455780999502167,"elapsed_instrumentation":0.00016593700274825096,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":833368,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833369,"event":"return","thread_id":9160,"parent_id":833368,"elapsed":3.7240097299218178e-06,"elapsed_instrumentation":0.00011268799426034093,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":833370,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833371,"event":"return","thread_id":9160,"parent_id":833370,"elapsed":2.8449867386370897e-06,"elapsed_instrumentation":7.845202344469726e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":833372,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":833373,"event":"return","thread_id":9160,"parent_id":833372,"elapsed":0.000720073,"elapsed_instrumentation":8.07519827503711e-05},{"id":833374,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833375,"event":"return","thread_id":9160,"parent_id":833374,"elapsed":0.000535685,"elapsed_instrumentation":7.313702371902764e-05},{"id":833376,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833377,"event":"return","thread_id":9160,"parent_id":833376,"elapsed":3.2180105336010456e-06,"elapsed_instrumentation":0.0001194249780382961,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":833378,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833379,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5098720,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":833380,"event":"return","thread_id":9160,"parent_id":833379,"elapsed":0.0012626719835679978,"elapsed_instrumentation":0.00012553701526485384,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":833381,"event":"return","thread_id":9160,"parent_id":833378,"elapsed":0.0015422069991473109,"elapsed_instrumentation":0.00011434699990786612,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":833382,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833383,"event":"return","thread_id":9160,"parent_id":833382,"elapsed":0.000674243,"elapsed_instrumentation":7.438499596901238e-05},{"id":833384,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"ActiveSupport::Duration","object_id":5098020,"value":"864000","kind":"req"}],"receiver":{"class":"IpBlock","object_id":5098740,"value":"#<IpBlock:0x00007fdc06756f40>"}},{"id":833385,"event":"return","thread_id":9160,"parent_id":833384,"elapsed":0.00013773201499134302,"elapsed_instrumentation":0.0004045690002385527,"return_value":{"class":"ActiveSupport::Duration","value":"864000","object_id":5098020}},{"id":833386,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833387,"event":"return","thread_id":9160,"parent_id":833386,"elapsed":1.7246988136321306e-05,"elapsed_instrumentation":0.00018746801652014256,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":833388,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833389,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833390,"event":"return","thread_id":9160,"parent_id":833389,"elapsed":0.000574158,"elapsed_instrumentation":9.299299563281238e-05},{"id":833391,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833392,"event":"return","thread_id":9160,"parent_id":833391,"elapsed":0.001951674,"elapsed_instrumentation":6.573498831130564e-05},{"id":833393,"event":"return","thread_id":9160,"parent_id":833388,"elapsed":0.002930521994130686,"elapsed_instrumentation":0.0003957750159315765,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":833394,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833395,"event":"return","thread_id":9160,"parent_id":833394,"elapsed":3.248016582801938e-06,"elapsed_instrumentation":9.669896098785102e-05,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":833396,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833397,"event":"return","thread_id":9160,"parent_id":833396,"elapsed":3.05499997921288e-06,"elapsed_instrumentation":9.702899842523038e-05,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":833398,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":833399,"event":"return","thread_id":9160,"parent_id":833398,"elapsed":0.000848634,"elapsed_instrumentation":9.312600013799965e-05},{"id":833400,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833401,"event":"return","thread_id":9160,"parent_id":833400,"elapsed":0.000476975,"elapsed_instrumentation":6.947899237275124e-05},{"id":833402,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833403,"event":"return","thread_id":9160,"parent_id":833402,"elapsed":3.964989446103573e-06,"elapsed_instrumentation":0.00014544904115609825,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":833404,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833405,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5098820,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":833406,"event":"return","thread_id":9160,"parent_id":833405,"elapsed":0.001594896981259808,"elapsed_instrumentation":0.00024662099895067513,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":833407,"event":"return","thread_id":9160,"parent_id":833404,"elapsed":0.002018933999352157,"elapsed_instrumentation":0.0001511570008005947,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":833408,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833409,"event":"return","thread_id":9160,"parent_id":833408,"elapsed":0.00079163,"elapsed_instrumentation":9.364300058223307e-05},{"id":833410,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"ActiveSupport::Duration","object_id":5098020,"value":"864000","kind":"req"}],"receiver":{"class":"IpBlock","object_id":5098840,"value":"#<IpBlock:0x00007fdc067562c0>"}},{"id":833411,"event":"return","thread_id":9160,"parent_id":833410,"elapsed":9.814399527385831e-05,"elapsed_instrumentation":0.00029914299375377595,"return_value":{"class":"ActiveSupport::Duration","value":"864000","object_id":5098020}},{"id":833412,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833413,"event":"return","thread_id":9160,"parent_id":833412,"elapsed":2.452099579386413e-05,"elapsed_instrumentation":0.00019442097982391715,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":833414,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833415,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833416,"event":"return","thread_id":9160,"parent_id":833415,"elapsed":0.000600605,"elapsed_instrumentation":8.195798727683723e-05},{"id":833417,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833418,"event":"return","thread_id":9160,"parent_id":833417,"elapsed":0.001599031,"elapsed_instrumentation":7.126698619686067e-05},{"id":833419,"event":"return","thread_id":9160,"parent_id":833414,"elapsed":0.0028781750006601214,"elapsed_instrumentation":0.0001921589719131589,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":833420,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833421,"event":"return","thread_id":9160,"parent_id":833420,"elapsed":3.128021489828825e-06,"elapsed_instrumentation":0.00011014699703082442,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":833422,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833423,"event":"return","thread_id":9160,"parent_id":833422,"elapsed":3.5060220398008823e-06,"elapsed_instrumentation":0.00020659298752434552,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":833424,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":833425,"event":"return","thread_id":9160,"parent_id":833424,"elapsed":0.000933967,"elapsed_instrumentation":8.375599281862378e-05},{"id":833426,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833427,"event":"return","thread_id":9160,"parent_id":833426,"elapsed":0.000717192,"elapsed_instrumentation":6.92100147716701e-05},{"id":833428,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833429,"event":"return","thread_id":9160,"parent_id":833428,"elapsed":4.4879852794110775e-06,"elapsed_instrumentation":0.00033095802064053714,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":833430,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833431,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5098920,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":833432,"event":"return","thread_id":9160,"parent_id":833431,"elapsed":0.0011865620035678148,"elapsed_instrumentation":0.00012319901725277305,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":833433,"event":"return","thread_id":9160,"parent_id":833430,"elapsed":0.0014626090123783797,"elapsed_instrumentation":0.00012944999616593122,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":833434,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833435,"event":"return","thread_id":9160,"parent_id":833434,"elapsed":0.000561537,"elapsed_instrumentation":8.206302300095558e-05},{"id":833436,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"ActiveSupport::Duration","object_id":5098020,"value":"864000","kind":"req"}],"receiver":{"class":"IpBlock","object_id":5098940,"value":"#<IpBlock:0x00007fdc06755780>"}},{"id":833437,"event":"return","thread_id":9160,"parent_id":833436,"elapsed":0.00011323898797854781,"elapsed_instrumentation":0.00018842300050891936,"return_value":{"class":"ActiveSupport::Duration","value":"864000","object_id":5098020}},{"id":833438,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833439,"event":"return","thread_id":9160,"parent_id":833438,"elapsed":1.8660997739061713e-05,"elapsed_instrumentation":0.00014336802996695042,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":833440,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833441,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833442,"event":"return","thread_id":9160,"parent_id":833441,"elapsed":0.000676703,"elapsed_instrumentation":0.00010765300248749554},{"id":833443,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833444,"event":"return","thread_id":9160,"parent_id":833443,"elapsed":0.002274137,"elapsed_instrumentation":9.670300642028451e-05},{"id":833445,"event":"return","thread_id":9160,"parent_id":833440,"elapsed":0.003924194985302165,"elapsed_instrumentation":0.00020425202092155814,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":833446,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833447,"event":"return","thread_id":9160,"parent_id":833446,"elapsed":5.7480065152049065e-06,"elapsed_instrumentation":0.00018306198762729764,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":833448,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5098960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833449,"event":"return","thread_id":9160,"parent_id":833448,"elapsed":2.8850045055150986e-06,"elapsed_instrumentation":0.00027302399394102395,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":833450,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":833451,"event":"return","thread_id":9160,"parent_id":833450,"elapsed":0.000926323,"elapsed_instrumentation":8.498001261614263e-05},{"id":833452,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833453,"event":"return","thread_id":9160,"parent_id":833452,"elapsed":0.000429972,"elapsed_instrumentation":0.00012507601059041917},{"id":833454,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5099000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833455,"event":"return","thread_id":9160,"parent_id":833454,"elapsed":3.531982656568289e-06,"elapsed_instrumentation":0.00015384299331344664,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":833456,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5099000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833457,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5099020,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":833458,"event":"return","thread_id":9160,"parent_id":833457,"elapsed":0.0006261800008360296,"elapsed_instrumentation":0.00012539399904198945,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":833459,"event":"return","thread_id":9160,"parent_id":833456,"elapsed":0.0009084880002774298,"elapsed_instrumentation":0.00011943999561481178,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":833460,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833461,"event":"return","thread_id":9160,"parent_id":833460,"elapsed":0.000532399,"elapsed_instrumentation":9.427400073036551e-05},{"id":833462,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"expires_in=","path":"app/models/concerns/expireable.rb","lineno":19,"static":false,"parameters":[{"name":"interval","class":"ActiveSupport::Duration","object_id":5098020,"value":"864000","kind":"req"}],"receiver":{"class":"IpBlock","object_id":5099040,"value":"#<IpBlock:0x00007fdc06754d80>"}},{"id":833463,"event":"return","thread_id":9160,"parent_id":833462,"elapsed":0.0001024790108203888,"elapsed_instrumentation":0.0002264869981445372,"return_value":{"class":"ActiveSupport::Duration","value":"864000","object_id":5098020}},{"id":833464,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5099060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833465,"event":"return","thread_id":9160,"parent_id":833464,"elapsed":2.543698064982891e-05,"elapsed_instrumentation":0.00020269601373001933,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":218220,"size":1}},{"id":833466,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5099080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833467,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833468,"event":"return","thread_id":9160,"parent_id":833467,"elapsed":0.000650305,"elapsed_instrumentation":0.0001372150145471096},{"id":833469,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" = $1 LIMIT $2","database_type":"postgres"}},{"id":833470,"event":"return","thread_id":9160,"parent_id":833469,"elapsed":0.002498346,"elapsed_instrumentation":0.00014295100118033588},{"id":833471,"event":"return","thread_id":9160,"parent_id":833466,"elapsed":0.004238589986925945,"elapsed_instrumentation":0.0006184570083860308,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca16b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca2ba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3550 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5084880,"size":3}},{"id":833472,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5099080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09affab8>"}},{"id":833473,"event":"return","thread_id":9160,"parent_id":833472,"elapsed":4.461995558813214e-06,"elapsed_instrumentation":0.000288720999378711,"return_value":{"class":"Array","value":"[]","object_id":5084900,"size":0}},{"id":833474,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5099060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":218200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0e23d088>"}},{"id":833475,"event":"return","thread_id":9160,"parent_id":833474,"elapsed":5.108013283461332e-06,"elapsed_instrumentation":0.00021607999224215746,"return_value":{"class":"Array","value":"[]","object_id":218320,"size":0}},{"id":833476,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"ip_blocks\" (\"created_at\", \"updated_at\", \"expires_at\", \"ip\", \"severity\", \"comment\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":833477,"event":"return","thread_id":9160,"parent_id":833476,"elapsed":0.000987396,"elapsed_instrumentation":9.252698509953916e-05},{"id":833478,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":833479,"event":"return","thread_id":9160,"parent_id":833478,"elapsed":0.000726603,"elapsed_instrumentation":7.563698454760015e-05},{"id":833480,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5099100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833481,"event":"return","thread_id":9160,"parent_id":833480,"elapsed":3.148015821352601e-06,"elapsed_instrumentation":0.00012546402285806835,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":833482,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5099100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":833483,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5099120,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":833484,"event":"return","thread_id":9160,"parent_id":833483,"elapsed":0.0010394839919172227,"elapsed_instrumentation":0.00013536997721530497,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":833485,"event":"return","thread_id":9160,"parent_id":833482,"elapsed":0.0013428640086203814,"elapsed_instrumentation":0.00041168101597577333,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":833486,"event":"return","thread_id":9160,"parent_id":833199,"elapsed":0.13277579500572756,"elapsed_instrumentation":0.0002597290149424225,"return_value":{"class":"IO","value":"#<IO:0x00007fdc21298f60>","object_id":4113040}},{"id":833487,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"ip\" FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)","database_type":"postgres"}},{"id":833488,"event":"return","thread_id":9160,"parent_id":833487,"elapsed":0.001305716,"elapsed_instrumentation":0.00010477600153535604}]}