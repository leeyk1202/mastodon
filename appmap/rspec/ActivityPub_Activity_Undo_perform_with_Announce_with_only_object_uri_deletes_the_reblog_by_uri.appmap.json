{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ActivityPub::Activity::Undo #perform with Announce with only object uri deletes the reblog by uri","source_location":"spec/lib/activitypub/activity/undo_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"lib","type":"package","children":[{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false}]},{"name":"Activity","type":"class","children":[{"name":"object_uri","type":"function","location":"app/lib/activitypub/activity.rb:74","static":false}]}]},{"name":"activity","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"Activity","type":"class","children":[{"name":"Undo","type":"class","children":[{"name":"perform","type":"function","location":"app/lib/activitypub/activity/undo.rb:4","static":false}]}]}]}]}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]}]},{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"concerns","type":"package","children":[{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false}]},{"name":"AccountInteractions","type":"class","children":[{"name":"followers_for_local_distribution","type":"function","location":"app/models/concerns/account_interactions.rb:267","static":false},{"name":"lists_for_local_distribution","type":"function","location":"app/models/concerns/account_interactions.rb:273","static":false},{"name":"reblogged?","type":"function","location":"app/models/concerns/account_interactions.rb:250","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Status","type":"class","children":[{"name":"discard_with_reblogs","type":"function","location":"app/models/status.rb:392","static":false},{"name":"reblog?","type":"function","location":"app/models/status.rb:196","static":false},{"name":"local?","type":"function","location":"app/models/status.rb:188","static":false},{"name":"reported?","type":"function","location":"app/models/status.rb:258","static":false},{"name":"unlink_from_conversations!","type":"function","location":"app/models/status.rb:398","static":false},{"name":"decrement_count!","type":"function","location":"app/models/status.rb:296","static":false},{"name":"reblogs_count","type":"function","location":"app/models/status.rb:284","static":false},{"name":"status_stat","type":"function","location":"app/models/status.rb:388","static":false},{"name":"proper","type":"function","location":"app/models/status.rb:216","static":false}]},{"name":"StatusStat","type":"class","children":[{"name":"reblogs_count","type":"function","location":"app/models/status_stat.rb:23","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"JsonLdHelper","type":"class","children":[{"name":"value_or_id","type":"function","location":"app/helpers/jsonld_helper.rb:54","static":false},{"name":"uri_from_bearcap","type":"function","location":"app/helpers/jsonld_helper.rb:18","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]}],"events":[{"id":1964569,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":10391060,"value":"#<Account:0x00007fc8e25fc460>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":1964570,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10391060,"value":"#<Account:0x00007fc8e25fc460>"}},{"id":1964571,"event":"return","thread_id":9160,"parent_id":1964570,"elapsed":9.161012712866068e-06,"elapsed_instrumentation":6.212299922481179e-05},{"id":1964572,"event":"return","thread_id":9160,"parent_id":1964569,"elapsed":0.00011498399544507265,"elapsed_instrumentation":0.00017067603766918182,"return_value":{"class":"String","value":"https://example.com/users/abbey4776","object_id":10391140}},{"id":1964573,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Activity::Undo","method_id":"perform","path":"app/lib/activitypub/activity/undo.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::Activity::Undo","object_id":10391160,"value":"#<ActivityPub::Activity::Undo:0x00007fc9327ceb08>"}},{"id":1964574,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Activity","method_id":"object_uri","path":"app/lib/activitypub/activity.rb","lineno":74,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::Activity::Undo","object_id":10391160,"value":"#<ActivityPub::Activity::Undo:0x00007fc9327ceb08>"}},{"id":1964575,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"value_or_id","path":"app/helpers/jsonld_helper.rb","lineno":54,"static":false,"parameters":[{"name":"value","class":"String","object_id":2954120,"value":"bar","kind":"req"}],"receiver":{"class":"ActivityPub::Activity::Undo","object_id":10391160,"value":"#<ActivityPub::Activity::Undo:0x00007fc9327ceb08>"}},{"id":1964576,"event":"return","thread_id":9160,"parent_id":1964575,"elapsed":4.885019734501839e-06,"elapsed_instrumentation":7.491197902709246e-05,"return_value":{"class":"String","value":"bar","object_id":2954120}},{"id":1964577,"event":"call","thread_id":9160,"defined_class":"JsonLdHelper","method_id":"uri_from_bearcap","path":"app/helpers/jsonld_helper.rb","lineno":18,"static":false,"parameters":[{"name":"str","class":"String","object_id":2954120,"value":"bar","kind":"req"}],"receiver":{"class":"ActivityPub::Activity::Undo","object_id":10391160,"value":"#<ActivityPub::Activity::Undo:0x00007fc9327ceb08>"}},{"id":1964578,"event":"return","thread_id":9160,"parent_id":1964577,"elapsed":3.755034413188696e-06,"elapsed_instrumentation":0.00019640102982521057,"return_value":{"class":"String","value":"bar","object_id":2954120}},{"id":1964579,"event":"return","thread_id":9160,"parent_id":1964574,"elapsed":0.0003220760263502598,"elapsed_instrumentation":6.602396024391055e-05,"return_value":{"class":"String","value":"bar","object_id":2954120}},{"id":1964580,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Activity","method_id":"object_uri","path":"app/lib/activitypub/activity.rb","lineno":74,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::Activity::Undo","object_id":10391160,"value":"#<ActivityPub::Activity::Undo:0x00007fc9327ceb08>"}},{"id":1964581,"event":"return","thread_id":9160,"parent_id":1964580,"elapsed":0.0002637820434756577,"elapsed_instrumentation":0.00011861597886309028,"return_value":{"class":"String","value":"bar","object_id":2954120}},{"id":1964582,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"statuses\".* FROM \"statuses\" WHERE \"statuses\".\"deleted_at\" IS NULL AND \"statuses\".\"reblog_of_id\" IS NOT NULL AND \"statuses\".\"uri\" = $1 AND \"statuses\".\"account_id\" = $2 ORDER BY \"statuses\".\"id\" DESC LIMIT $3","database_type":"postgres"}},{"id":1964583,"event":"return","thread_id":9160,"parent_id":1964582,"elapsed":0.000907346,"elapsed_instrumentation":0.0001681980211287737},{"id":1964584,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1964585,"event":"return","thread_id":9160,"parent_id":1964584,"elapsed":0.000985006,"elapsed_instrumentation":8.465698920190334e-05},{"id":1964586,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":10391180,"value":"distribute:111361402374564507","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"RemoveStatusService","object_id":10391200,"value":"#<RemoveStatusService:0x00007fc9327cdf78>"}},{"id":1964587,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RemoveStatusService","object_id":10391200,"value":"#<RemoveStatusService:0x00007fc9327cdf78>"}},{"id":1964588,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10391220,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10391240,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1964589,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1964590,"event":"return","thread_id":9160,"parent_id":1964589,"elapsed":2.8710346668958664e-06,"elapsed_instrumentation":7.290398934856057e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":1964591,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":10391260,"value":"__\u001e___bJ__f_____"}},{"id":1964592,"event":"return","thread_id":9160,"parent_id":1964591,"elapsed":7.010006811469793e-06,"elapsed_instrumentation":0.00012936099665239453,"return_value":{"class":"Array","value":"[2357796569, 61949, 25162, 34524, 26291, 2376247537]","object_id":10391280,"size":6}},{"id":1964593,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"discard_with_reblogs","path":"app/models/status.rb","lineno":392,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":10391300,"value":"#<Status:0x00007fc918abd6a8>"}},{"id":1964594,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":10391300,"value":"#<Status:0x00007fc918abd6a8>"}},{"id":1964595,"event":"return","thread_id":9160,"parent_id":1964594,"elapsed":1.498800702393055e-05,"elapsed_instrumentation":6.711494643241167e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1964596,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc935275dc0>"}},{"id":1964597,"event":"return","thread_id":9160,"parent_id":1964596,"elapsed":9.172200225293636e-05,"elapsed_instrumentation":0.00031880202004686,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9342b0f20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9342b1150 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9342b12b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9342b1420 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9342b15b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9342b1718 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9342b1880 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":325180,"size":7}},{"id":1964598,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":325200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc935275e10>"}},{"id":1964599,"event":"return","thread_id":9160,"parent_id":1964598,"elapsed":5.844980478286743e-06,"elapsed_instrumentation":0.0003478440339677036,"return_value":{"class":"Array","value":"[]","object_id":325220,"size":0}},{"id":1964600,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":325560,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9330bde30>"}},{"id":1964601,"event":"return","thread_id":9160,"parent_id":1964600,"elapsed":5.740963388234377e-06,"elapsed_instrumentation":0.00020166405010968447,"return_value":{"class":"Array","value":"[]","object_id":325580,"size":0}},{"id":1964602,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1964603,"event":"return","thread_id":9160,"parent_id":1964602,"elapsed":0.000486479,"elapsed_instrumentation":0.00014263601042330265},{"id":1964604,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"statuses\" SET \"updated_at\" = $1, \"deleted_at\" = $2 WHERE \"statuses\".\"id\" = $3","database_type":"postgres"}},{"id":1964605,"event":"return","thread_id":9160,"parent_id":1964604,"elapsed":0.002078459,"elapsed_instrumentation":8.421001257374883e-05},{"id":1964606,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":325560,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9330bde30>"}},{"id":1964607,"event":"return","thread_id":9160,"parent_id":1964606,"elapsed":0.00015893997624516487,"elapsed_instrumentation":0.00025243102572858334,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9330a7180 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9330a6fc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9330a6e10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9330a6c58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9330a6aa0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9330a68e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9330a6730 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9330a6578 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9330a63c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9330a6208 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...12 more items)]","object_id":325600,"size":22}},{"id":1964608,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":325200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc935275e10>"}},{"id":1964609,"event":"return","thread_id":9160,"parent_id":1964608,"elapsed":3.0500232242047787e-06,"elapsed_instrumentation":0.00020404596580192447,"return_value":{"class":"Array","value":"[]","object_id":325400,"size":0}},{"id":1964610,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc935275dc0>"}},{"id":1964611,"event":"return","thread_id":9160,"parent_id":1964610,"elapsed":0.0001460330095142126,"elapsed_instrumentation":0.00011642201570793986,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9342b0d18 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":325420,"size":1}},{"id":1964612,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1964613,"event":"return","thread_id":9160,"parent_id":1964612,"elapsed":0.000403091,"elapsed_instrumentation":0.00018218002514913678},{"id":1964614,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":325660,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc935273980>"}},{"id":1964615,"event":"return","thread_id":9160,"parent_id":1964614,"elapsed":3.7390273064374924e-06,"elapsed_instrumentation":0.00012213998707011342,"return_value":{"class":"Array","value":"[]","object_id":325680,"size":0}},{"id":1964616,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":325660,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc935273980>"}},{"id":1964617,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":10391300,"value":"#<Status:0x00007fc918abd6a8>"}},{"id":1964618,"event":"return","thread_id":9160,"parent_id":1964617,"elapsed":0.0001920919748954475,"elapsed_instrumentation":6.204901728779078e-05},{"id":1964619,"event":"return","thread_id":9160,"parent_id":1964616,"elapsed":0.00030897598480805755,"elapsed_instrumentation":0.00014494103379547596,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93428a780 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93428a500 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93428a2f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93428a0f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934289ee8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934289ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":328240,"size":6}},{"id":1964620,"event":"return","thread_id":9160,"parent_id":1964593,"elapsed":0.00842765299603343,"elapsed_instrumentation":0.00010128098074346781,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1964621,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"status_pins\".* FROM \"status_pins\" WHERE \"status_pins\".\"status_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1964622,"event":"return","thread_id":9160,"parent_id":1964621,"elapsed":0.000760916,"elapsed_instrumentation":8.584803435951471e-05},{"id":1964623,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10391380,"value":"#<Account:0x00007fc8e25fa660>"}},{"id":1964624,"event":"return","thread_id":9160,"parent_id":1964623,"elapsed":2.2110994905233383e-05,"elapsed_instrumentation":9.601103374734521e-05},{"id":1964625,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"followers_for_local_distribution","path":"app/models/concerns/account_interactions.rb","lineno":267,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10391380,"value":"#<Account:0x00007fc8e25fa660>"}},{"id":1964626,"event":"return","thread_id":9160,"parent_id":1964625,"elapsed":0.0026633619563654065,"elapsed_instrumentation":0.00010522396769374609,"return_value":{"class":"ActiveRecord::AssociationRelation","value":"#<Account::ActiveRecord_AssociationRelation:0x00007fc8e25f84a0>","object_id":10391400}},{"id":1964627,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\" AS t0_r0, \"accounts\".\"username\" AS t0_r1, \"accounts\".\"domain\" AS t0_r2, \"accounts\".\"private_key\" AS t0_r3, \"accounts\".\"public_key\" AS t0_r4, \"accounts\".\"created_at\" AS t0_r5, \"accounts\".\"updated_at\" AS t0_r6, \"accounts\".\"note\" AS t0_r7, \"accounts\".\"display_name\" AS t0_r8, \"accounts\".\"uri\" AS t0_r9, \"accounts\".\"url\" AS t0_r10, \"accounts\".\"avatar_file_name\" AS t0_r11, \"accounts\".\"avatar_content_type\" AS t0_r12, \"accounts\".\"avatar_file_size\" AS t0_r13, \"accounts\".\"avatar_updated_at\" AS t0_r14, \"accounts\".\"header_file_name\" AS t0_r15, \"accounts\".\"header_content_type\" AS t0_r16, \"accounts\".\"header_file_size\" AS t0_r17, \"accounts\".\"header_updated_at\" AS t0_r18, \"accounts\".\"avatar_remote_url\" AS t0_r19, \"accounts\".\"locked\" AS t0_r20, \"accounts\".\"header_remote_url\" AS t0_r21, \"accounts\".\"last_webfingered_at\" AS t0_r22, \"accounts\".\"inbox_url\" AS t0_r23, \"accounts\".\"outbox_url\" AS t0_r24, \"accounts\".\"shared_inbox_url\" AS t0_r25, \"accounts\".\"followers_url\" AS t0_r26, \"accounts\".\"protocol\" AS t0_r27, \"accounts\".\"memorial\" AS t0_r28, \"accounts\".\"moved_to_account_id\" AS t0_r29, \"accounts\".\"featured_collection_url\" AS t0_r30, \"accounts\".\"fields\" AS t0_r31, \"accounts\".\"actor_type\" AS t0_r32, \"accounts\".\"discoverable\" AS t0_r33, \"accounts\".\"also_known_as\" AS t0_r34, \"accounts\".\"silenced_at\" AS t0_r35, \"accounts\".\"suspended_at\" AS t0_r36, \"accounts\".\"hide_collections\" AS t0_r37, \"accounts\".\"avatar_storage_schema_version\" AS t0_r38, \"accounts\".\"header_storage_schema_version\" AS t0_r39, \"accounts\".\"devices_url\" AS t0_r40, \"accounts\".\"suspension_origin\" AS t0_r41, \"accounts\".\"sensitized_at\" AS t0_r42, \"accounts\".\"trendable\" AS t0_r43, \"accounts\".\"reviewed_at\" AS t0_r44, \"accounts\".\"requested_review_at\" AS t0_r45, \"accounts\".\"indexable\" AS t0_r46, \"users\".\"id\" AS t1_r0, \"users\".\"email\" AS t1_r1, \"users\".\"created_at\" AS t1_r2, \"users\".\"updated_at\" AS t1_r3, \"users\".\"encrypted_password\" AS t1_r4, \"users\".\"reset_password_token\" AS t1_r5, \"users\".\"reset_password_sent_at\" AS t1_r6, \"users\".\"sign_in_count\" AS t1_r7, \"users\".\"current_sign_in_at\" AS t1_r8, \"users\".\"last_sign_in_at\" AS t1_r9, \"users\".\"admin\" AS t1_r10, \"users\".\"confirmation_token\" AS t1_r11, \"users\".\"confirmed_at\" AS t1_r12, \"users\".\"confirmation_sent_at\" AS t1_r13, \"users\".\"unconfirmed_email\" AS t1_r14, \"users\".\"locale\" AS t1_r15, \"users\".\"encrypted_otp_secret\" AS t1_r16, \"users\".\"encrypted_otp_secret_iv\" AS t1_r17, \"users\".\"encrypted_otp_secret_salt\" AS t1_r18, \"users\".\"consumed_timestep\" AS t1_r19, \"users\".\"otp_required_for_login\" AS t1_r20, \"users\".\"last_emailed_at\" AS t1_r21, \"users\".\"otp_backup_codes\" AS t1_r22, \"users\".\"account_id\" AS t1_r23, \"users\".\"disabled\" AS t1_r24, \"users\".\"moderator\" AS t1_r25, \"users\".\"invite_id\" AS t1_r26, \"users\".\"chosen_languages\" AS t1_r27, \"users\".\"created_by_application_id\" AS t1_r28, \"users\".\"approved\" AS t1_r29, \"users\".\"sign_in_token\" AS t1_r30, \"users\".\"sign_in_token_sent_at\" AS t1_r31, \"users\".\"webauthn_id\" AS t1_r32, \"users\".\"sign_up_ip\" AS t1_r33, \"users\".\"role_id\" AS t1_r34, \"users\".\"settings\" AS t1_r35, \"users\".\"time_zone\" AS t1_r36 FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"account_id\" INNER JOIN \"users\" ON \"users\".\"account_id\" = \"accounts\".\"id\" WHERE \"follows\".\"target_account_id\" = $1 AND \"accounts\".\"domain\" IS NULL AND (users.current_sign_in_at > '2023-10-30 03:09:08.754272') ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1964628,"event":"return","thread_id":9160,"parent_id":1964627,"elapsed":0.002140364,"elapsed_instrumentation":0.00011085195001214743},{"id":1964629,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"lists_for_local_distribution","path":"app/models/concerns/account_interactions.rb","lineno":273,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10391380,"value":"#<Account:0x00007fc8e25fa660>"}},{"id":1964630,"event":"return","thread_id":9160,"parent_id":1964629,"elapsed":0.001590165018569678,"elapsed_instrumentation":0.00033034104853868484,"return_value":{"class":"ActiveRecord::AssociationRelation","value":"#<List::ActiveRecord_AssociationRelation:0x00007fc8e25f6560>","object_id":10391500}},{"id":1964631,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"lists\".\"id\", \"lists\".\"account_id\", \"lists\".\"id\" AS t0_r0, \"accounts\".\"id\" AS t1_r0, \"accounts\".\"username\" AS t1_r1, \"accounts\".\"domain\" AS t1_r2, \"accounts\".\"private_key\" AS t1_r3, \"accounts\".\"public_key\" AS t1_r4, \"accounts\".\"created_at\" AS t1_r5, \"accounts\".\"updated_at\" AS t1_r6, \"accounts\".\"note\" AS t1_r7, \"accounts\".\"display_name\" AS t1_r8, \"accounts\".\"uri\" AS t1_r9, \"accounts\".\"url\" AS t1_r10, \"accounts\".\"avatar_file_name\" AS t1_r11, \"accounts\".\"avatar_content_type\" AS t1_r12, \"accounts\".\"avatar_file_size\" AS t1_r13, \"accounts\".\"avatar_updated_at\" AS t1_r14, \"accounts\".\"header_file_name\" AS t1_r15, \"accounts\".\"header_content_type\" AS t1_r16, \"accounts\".\"header_file_size\" AS t1_r17, \"accounts\".\"header_updated_at\" AS t1_r18, \"accounts\".\"avatar_remote_url\" AS t1_r19, \"accounts\".\"locked\" AS t1_r20, \"accounts\".\"header_remote_url\" AS t1_r21, \"accounts\".\"last_webfingered_at\" AS t1_r22, \"accounts\".\"inbox_url\" AS t1_r23, \"accounts\".\"outbox_url\" AS t1_r24, \"accounts\".\"shared_inbox_url\" AS t1_r25, \"accounts\".\"followers_url\" AS t1_r26, \"accounts\".\"protocol\" AS t1_r27, \"accounts\".\"memorial\" AS t1_r28, \"accounts\".\"moved_to_account_id\" AS t1_r29, \"accounts\".\"featured_collection_url\" AS t1_r30, \"accounts\".\"fields\" AS t1_r31, \"accounts\".\"actor_type\" AS t1_r32, \"accounts\".\"discoverable\" AS t1_r33, \"accounts\".\"also_known_as\" AS t1_r34, \"accounts\".\"silenced_at\" AS t1_r35, \"accounts\".\"suspended_at\" AS t1_r36, \"accounts\".\"hide_collections\" AS t1_r37, \"accounts\".\"avatar_storage_schema_version\" AS t1_r38, \"accounts\".\"header_storage_schema_version\" AS t1_r39, \"accounts\".\"devices_url\" AS t1_r40, \"accounts\".\"suspension_origin\" AS t1_r41, \"accounts\".\"sensitized_at\" AS t1_r42, \"accounts\".\"trendable\" AS t1_r43, \"accounts\".\"reviewed_at\" AS t1_r44, \"accounts\".\"requested_review_at\" AS t1_r45, \"accounts\".\"indexable\" AS t1_r46, \"users\".\"id\" AS t2_r0, \"users\".\"email\" AS t2_r1, \"users\".\"created_at\" AS t2_r2, \"users\".\"updated_at\" AS t2_r3, \"users\".\"encrypted_password\" AS t2_r4, \"users\".\"reset_password_token\" AS t2_r5, \"users\".\"reset_password_sent_at\" AS t2_r6, \"users\".\"sign_in_count\" AS t2_r7, \"users\".\"current_sign_in_at\" AS t2_r8, \"users\".\"last_sign_in_at\" AS t2_r9, \"users\".\"admin\" AS t2_r10, \"users\".\"confirmation_token\" AS t2_r11, \"users\".\"confirmed_at\" AS t2_r12, \"users\".\"confirmation_sent_at\" AS t2_r13, \"users\".\"unconfirmed_email\" AS t2_r14, \"users\".\"locale\" AS t2_r15, \"users\".\"encrypted_otp_secret\" AS t2_r16, \"users\".\"encrypted_otp_secret_iv\" AS t2_r17, \"users\".\"encrypted_otp_secret_salt\" AS t2_r18, \"users\".\"consumed_timestep\" AS t2_r19, \"users\".\"otp_required_for_login\" AS t2_r20, \"users\".\"last_emailed_at\" AS t2_r21, \"users\".\"otp_backup_codes\" AS t2_r22, \"users\".\"account_id\" AS t2_r23, \"users\".\"disabled\" AS t2_r24, \"users\".\"moderator\" AS t2_r25, \"users\".\"invite_id\" AS t2_r26, \"users\".\"chosen_languages\" AS t2_r27, \"users\".\"created_by_application_id\" AS t2_r28, \"users\".\"approved\" AS t2_r29, \"users\".\"sign_in_token\" AS t2_r30, \"users\".\"sign_in_token_sent_at\" AS t2_r31, \"users\".\"webauthn_id\" AS t2_r32, \"users\".\"sign_up_ip\" AS t2_r33, \"users\".\"role_id\" AS t2_r34, \"users\".\"settings\" AS t2_r35, \"users\".\"time_zone\" AS t2_r36 FROM \"lists\" INNER JOIN \"list_accounts\" ON \"lists\".\"id\" = \"list_accounts\".\"list_id\" INNER JOIN \"accounts\" ON \"accounts\".\"id\" = \"lists\".\"account_id\" INNER JOIN \"users\" ON \"users\".\"account_id\" = \"accounts\".\"id\" WHERE \"list_accounts\".\"account_id\" = $1 AND (\"list_accounts\".\"follow_id\" IS NOT NULL OR \"lists\".\"account_id\" = $2) AND (users.current_sign_in_at > '2023-10-30 03:09:08.766003') ORDER BY \"lists\".\"id\" ASC LIMIT $3","database_type":"postgres"}},{"id":1964632,"event":"return","thread_id":9160,"parent_id":1964631,"elapsed":0.002859175,"elapsed_instrumentation":0.0001250439672730863},{"id":1964633,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":10391380,"value":"#<Account:0x00007fc8e25fa660>"}},{"id":1964634,"event":"return","thread_id":9160,"parent_id":1964633,"elapsed":1.2025993783026934e-05,"elapsed_instrumentation":0.000174839049577713},{"id":1964635,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":10391300,"value":"#<Status:0x00007fc918abd6a8>"}},{"id":1964636,"event":"return","thread_id":9160,"parent_id":1964635,"elapsed":1.3539975043386221e-05,"elapsed_instrumentation":9.217299520969391e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1964637,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"reported?","path":"app/models/status.rb","lineno":258,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":10391300,"value":"#<Status:0x00007fc918abd6a8>"}},{"id":1964638,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"reports\" WHERE \"reports\".\"target_account_id\" = $1 AND \"reports\".\"action_taken_at\" IS NULL AND (111361402374564507 = ANY(status_ids)) LIMIT $2","database_type":"postgres"}},{"id":1964639,"event":"return","thread_id":9160,"parent_id":1964638,"elapsed":0.000899201,"elapsed_instrumentation":9.256397606804967e-05},{"id":1964640,"event":"return","thread_id":9160,"parent_id":1964637,"elapsed":0.0026503619737923145,"elapsed_instrumentation":6.613798905164003e-05},{"id":1964641,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":688900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9326049d0>"}},{"id":1964642,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"unlink_from_conversations!","path":"app/models/status.rb","lineno":398,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":10391300,"value":"#<Status:0x00007fc918abd6a8>"}},{"id":1964643,"event":"return","thread_id":9160,"parent_id":1964642,"elapsed":3.467797068879008e-05,"elapsed_instrumentation":0.00014487298903986812},{"id":1964644,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1964645,"event":"return","thread_id":9160,"parent_id":1964644,"elapsed":0.000343462,"elapsed_instrumentation":9.875895921140909e-05},{"id":1964646,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"status_edits\".\"id\", \"status_edits\".\"status_id\", \"status_edits\".\"account_id\", \"status_edits\".\"text\", \"status_edits\".\"spoiler_text\", \"status_edits\".\"created_at\", \"status_edits\".\"updated_at\", \"status_edits\".\"ordered_media_attachment_ids\", \"status_edits\".\"media_descriptions\", \"status_edits\".\"poll_options\", \"status_edits\".\"sensitive\" FROM \"status_edits\" WHERE \"status_edits\".\"status_id\" = $1 ORDER BY \"status_edits\".\"id\" ASC","database_type":"postgres"}},{"id":1964647,"event":"return","thread_id":9160,"parent_id":1964646,"elapsed":0.00076409,"elapsed_instrumentation":7.756199920549989e-05},{"id":1964648,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"favourites\".* FROM \"favourites\" WHERE \"favourites\".\"status_id\" = $1","database_type":"postgres"}},{"id":1964649,"event":"return","thread_id":9160,"parent_id":1964648,"elapsed":0.000487429,"elapsed_instrumentation":0.0001799619640223682},{"id":1964650,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"bookmarks\".* FROM \"bookmarks\" WHERE \"bookmarks\".\"status_id\" = $1","database_type":"postgres"}},{"id":1964651,"event":"return","thread_id":9160,"parent_id":1964650,"elapsed":0.000512902,"elapsed_instrumentation":7.874204311519861e-05},{"id":1964652,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"statuses\".* FROM \"statuses\" WHERE \"statuses\".\"deleted_at\" IS NULL AND \"statuses\".\"reblog_of_id\" = $1 ORDER BY \"statuses\".\"id\" DESC","database_type":"postgres"}},{"id":1964653,"event":"return","thread_id":9160,"parent_id":1964652,"elapsed":0.000627521,"elapsed_instrumentation":0.00013969297287985682},{"id":1964654,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"mentions\".* FROM \"mentions\" WHERE \"mentions\".\"status_id\" = $1","database_type":"postgres"}},{"id":1964655,"event":"return","thread_id":9160,"parent_id":1964654,"elapsed":0.000603361,"elapsed_instrumentation":0.0001630629994906485},{"id":1964656,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"media_attachments\" SET \"status_id\" = $1 WHERE \"media_attachments\".\"id\" IN (SELECT \"media_attachments\".\"id\" FROM \"media_attachments\" WHERE \"media_attachments\".\"status_id\" = $2 ORDER BY \"media_attachments\".\"id\" ASC)","database_type":"postgres"}},{"id":1964657,"event":"return","thread_id":9160,"parent_id":1964656,"elapsed":0.001043553,"elapsed_instrumentation":0.0004965210100635886},{"id":1964658,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1964659,"event":"return","thread_id":9160,"parent_id":1964658,"elapsed":0.001100077,"elapsed_instrumentation":0.00010838999878615141},{"id":1964660,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"polls\".* FROM \"polls\" WHERE \"polls\".\"status_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1964661,"event":"return","thread_id":9160,"parent_id":1964660,"elapsed":0.000567728,"elapsed_instrumentation":9.472400415688753e-05},{"id":1964662,"event":"return","thread_id":9160,"parent_id":1964641,"elapsed":0.020331390027422458,"elapsed_instrumentation":0.0002766229445114732,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93229a8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93229aba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93229ace0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93229ae20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93229af60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93229b0a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93229b1e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93229b320 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93229b460 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":689040,"size":9}},{"id":1964663,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"preview_cards_statuses\" WHERE \"preview_cards_statuses\".\"status_id\" = $1","database_type":"postgres"}},{"id":1964664,"event":"return","thread_id":9160,"parent_id":1964663,"elapsed":0.000616233,"elapsed_instrumentation":0.00024077104171738029},{"id":1964665,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"statuses_tags\" WHERE \"statuses_tags\".\"status_id\" = $1","database_type":"postgres"}},{"id":1964666,"event":"return","thread_id":9160,"parent_id":1964665,"elapsed":0.000592851,"elapsed_instrumentation":8.379702921956778e-05},{"id":1964667,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"statuses\" WHERE \"statuses\".\"id\" = $1","database_type":"postgres"}},{"id":1964668,"event":"return","thread_id":9160,"parent_id":1964667,"elapsed":0.001895017,"elapsed_instrumentation":9.950302774086595e-05},{"id":1964669,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":688900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9326049d0>"}},{"id":1964670,"event":"return","thread_id":9160,"parent_id":1964669,"elapsed":0.00025768496561795473,"elapsed_instrumentation":0.00021439604461193085,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93229a9e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":689060,"size":1}},{"id":1964671,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1964672,"event":"return","thread_id":9160,"parent_id":1964671,"elapsed":0.000384847,"elapsed_instrumentation":7.990398444235325e-05},{"id":1964673,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":325660,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc935273980>"}},{"id":1964674,"event":"return","thread_id":9160,"parent_id":1964673,"elapsed":3.8800062611699104e-06,"elapsed_instrumentation":0.0001913970336318016,"return_value":{"class":"Array","value":"[]","object_id":325680,"size":0}},{"id":1964675,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":325660,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc935273980>"}},{"id":1964676,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":10391380,"value":"#<Account:0x00007fc8e25fa660>"}},{"id":1964677,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17343068,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":10391380,"value":"#<Account:0x00007fc8e25fa660>"}},{"id":1964678,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at) VALUES (111361402374532630, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1964679,"event":"return","thread_id":9160,"parent_id":1964678,"elapsed":0.000952649,"elapsed_instrumentation":7.232895586639643e-05},{"id":1964680,"event":"return","thread_id":9160,"parent_id":1964677,"elapsed":0.0016153900069184601,"elapsed_instrumentation":9.419803973287344e-05},{"id":1964681,"event":"return","thread_id":9160,"parent_id":1964676,"elapsed":0.0020032519823871553,"elapsed_instrumentation":8.204503683373332e-05},{"id":1964682,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":10391300,"value":"#<Status:0x00007fc918abd6a8>"}},{"id":1964683,"event":"return","thread_id":9160,"parent_id":1964682,"elapsed":1.0873947758227587e-05,"elapsed_instrumentation":9.409006452187896e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1964684,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"statuses\".* FROM \"statuses\" WHERE \"statuses\".\"deleted_at\" IS NULL AND \"statuses\".\"id\" = $1 ORDER BY \"statuses\".\"id\" DESC LIMIT $2","database_type":"postgres"}},{"id":1964685,"event":"return","thread_id":9160,"parent_id":1964684,"elapsed":0.000656023,"elapsed_instrumentation":7.732701487839222e-05},{"id":1964686,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"decrement_count!","path":"app/models/status.rb","lineno":296,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19392988,"value":":reblogs_count","kind":"req"}],"receiver":{"class":"Status","object_id":10391680,"value":"#<Status:0x00007fc9189f99d8>"}},{"id":1964687,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"reblogs_count","path":"app/models/status.rb","lineno":284,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":10391680,"value":"#<Status:0x00007fc9189f99d8>"}},{"id":1964688,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"status_stat","path":"app/models/status.rb","lineno":388,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":10391680,"value":"#<Status:0x00007fc9189f99d8>"}},{"id":1964689,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"status_stats\".* FROM \"status_stats\" WHERE \"status_stats\".\"status_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1964690,"event":"return","thread_id":9160,"parent_id":1964689,"elapsed":0.000427123,"elapsed_instrumentation":6.64680264890194e-05},{"id":1964691,"event":"return","thread_id":9160,"parent_id":1964688,"elapsed":0.0018024119781330228,"elapsed_instrumentation":9.013101225718856e-05,"return_value":{"class":"StatusStat","value":"#<StatusStat:0x00007fc8e25f1e20>","object_id":10391700}},{"id":1964692,"event":"call","thread_id":9160,"defined_class":"StatusStat","method_id":"reblogs_count","path":"app/models/status_stat.rb","lineno":23,"static":false,"parameters":[],"receiver":{"class":"StatusStat","object_id":10391700,"value":"#<StatusStat:0x00007fc8e25f1e20>"}},{"id":1964693,"event":"return","thread_id":9160,"parent_id":1964692,"elapsed":9.886699263006449e-05,"elapsed_instrumentation":8.398707723245025e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1964694,"event":"return","thread_id":9160,"parent_id":1964687,"elapsed":0.002114197995979339,"elapsed_instrumentation":5.824200343340635e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1964695,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"status_stat","path":"app/models/status.rb","lineno":388,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":10391680,"value":"#<Status:0x00007fc9189f99d8>"}},{"id":1964696,"event":"return","thread_id":9160,"parent_id":1964695,"elapsed":1.3963028322905302e-05,"elapsed_instrumentation":0.00019234389765188098,"return_value":{"class":"StatusStat","value":"#<StatusStat:0x00007fc8e25f1e20>","object_id":10391700}},{"id":1964697,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":1964698,"event":"return","thread_id":9160,"parent_id":1964697,"elapsed":1.9023020286113024e-05,"elapsed_instrumentation":0.00012319197412580252,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":1964699,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e620>"}},{"id":1964700,"event":"return","thread_id":9160,"parent_id":1964699,"elapsed":5.682103801518679e-05,"elapsed_instrumentation":0.00010136299533769488,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408ad90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93408af98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318960,"size":2}},{"id":1964701,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e620>"}},{"id":1964702,"event":"return","thread_id":9160,"parent_id":1964701,"elapsed":3.189023118466139e-06,"elapsed_instrumentation":7.323198951780796e-05,"return_value":{"class":"Array","value":"[]","object_id":318980,"size":0}},{"id":1964703,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":1964704,"event":"return","thread_id":9160,"parent_id":1964703,"elapsed":2.3310421966016293e-06,"elapsed_instrumentation":6.929098162800074e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":1964705,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":319040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e580>"}},{"id":1964706,"event":"return","thread_id":9160,"parent_id":1964705,"elapsed":4.022702341899276e-05,"elapsed_instrumentation":0.00015789002645760775,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9340898c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":319060,"size":1}},{"id":1964707,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1964708,"event":"return","thread_id":9160,"parent_id":1964707,"elapsed":0.000434806,"elapsed_instrumentation":7.095799082890153e-05},{"id":1964709,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"status_stats\" SET \"reblogs_count\" = $1, \"updated_at\" = $2 WHERE \"status_stats\".\"id\" = $3","database_type":"postgres"}},{"id":1964710,"event":"return","thread_id":9160,"parent_id":1964709,"elapsed":0.001299673,"elapsed_instrumentation":7.844797801226377e-05},{"id":1964711,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10391760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":319040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e580>"}},{"id":1964712,"event":"return","thread_id":9160,"parent_id":1964711,"elapsed":3.4999684430658817e-06,"elapsed_instrumentation":0.00011832802556455135,"return_value":{"class":"Array","value":"[]","object_id":319080,"size":0}},{"id":1964713,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1964714,"event":"return","thread_id":9160,"parent_id":1964713,"elapsed":0.000318099,"elapsed_instrumentation":6.50050351396203e-05},{"id":1964715,"event":"return","thread_id":9160,"parent_id":1964686,"elapsed":0.006515456945635378,"elapsed_instrumentation":0.00013041903730481863,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1964716,"event":"return","thread_id":9160,"parent_id":1964675,"elapsed":0.012014631007332355,"elapsed_instrumentation":0.00014735397417098284,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93428a780 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93428a500 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93428a2f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93428a0f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934289ee8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934289ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":328240,"size":6}},{"id":1964717,"event":"return","thread_id":9160,"parent_id":1964588,"elapsed":0.08033972699195147,"elapsed_instrumentation":0.00017501896945759654,"return_value":{"class":"Status","value":"#<Status:0x00007fc918abd6a8>","object_id":10391300}},{"id":1964718,"event":"return","thread_id":9160,"parent_id":1964587,"elapsed":0.0805399629753083,"elapsed_instrumentation":8.381798397749662e-05,"return_value":{"class":"Status","value":"#<Status:0x00007fc918abd6a8>","object_id":10391300}},{"id":1964719,"event":"return","thread_id":9160,"parent_id":1964586,"elapsed":0.08066133997635916,"elapsed_instrumentation":0.00019398302538320422,"return_value":{"class":"Status","value":"#<Status:0x00007fc918abd6a8>","object_id":10391300}},{"id":1964720,"event":"return","thread_id":9160,"parent_id":1964573,"elapsed":0.08825175499077886,"elapsed_instrumentation":6.878894055262208e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1964721,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"reblogged?","path":"app/models/concerns/account_interactions.rb","lineno":250,"static":false,"parameters":[{"name":"status","class":"Status","object_id":10390980,"value":"#<Status:0x00007fc918cf6870>","kind":"req"}],"receiver":{"class":"Account","object_id":10391060,"value":"#<Account:0x00007fc8e25fc460>"}},{"id":1964722,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"proper","path":"app/models/status.rb","lineno":216,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":10390980,"value":"#<Status:0x00007fc918cf6870>"}},{"id":1964723,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":10390980,"value":"#<Status:0x00007fc918cf6870>"}},{"id":1964724,"event":"return","thread_id":9160,"parent_id":1964723,"elapsed":1.0071962606161833e-05,"elapsed_instrumentation":5.2107032388448715e-05},{"id":1964725,"event":"return","thread_id":9160,"parent_id":1964722,"elapsed":7.9474993981421e-05,"elapsed_instrumentation":6.953300908207893e-05,"return_value":{"class":"Status","value":"#<Status:0x00007fc918cf6870>","object_id":10390980}},{"id":1964726,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"statuses\" WHERE \"statuses\".\"deleted_at\" IS NULL AND \"statuses\".\"reblog_of_id\" = $1 AND \"statuses\".\"account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1964727,"event":"return","thread_id":9160,"parent_id":1964726,"elapsed":0.000938053,"elapsed_instrumentation":0.0001113609760068357},{"id":1964728,"event":"return","thread_id":9160,"parent_id":1964721,"elapsed":0.003402300993911922,"elapsed_instrumentation":0.00012387894093990326}]}