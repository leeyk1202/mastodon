{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Filters POST /api/v2/filters behaves like unauthorized for invalid token returns http unauthorized","source_location":"spec/requests/api/v2/filters/filters_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]},{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"app","type":"package","children":[{"name":"controllers","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"Localized","type":"class","children":[{"name":"set_locale","type":"function","location":"app/controllers/concerns/localized.rb:10","static":false}]}]},{"name":"api","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"BaseController","type":"class","children":[{"name":"current_user","type":"function","location":"app/controllers/api/base_controller.rb:116","static":false},{"name":"current_resource_owner","type":"function","location":"app/controllers/api/base_controller.rb:112","static":false},{"name":"disallow_unauthenticated_api_access?","type":"function","location":"app/controllers/api/base_controller.rb:152","static":false},{"name":"require_not_suspended!","type":"function","location":"app/controllers/api/base_controller.rb:126","static":false},{"name":"doorkeeper_unauthorized_render_options","type":"function","location":"app/controllers/api/base_controller.rb:85","static":false}]}]}]},{"name":"ApplicationController","type":"class","children":[{"name":"current_session","type":"function","location":"app/controllers/application_controller.rb:153","static":false},{"name":"check_self_destruct!","type":"function","location":"app/controllers/application_controller.rb:176","static":false},{"name":"set_cache_control_defaults","type":"function","location":"app/controllers/application_controller.rb:185","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"SelfDestructHelper","type":"class","children":[{"name":"self_destruct?","type":"function","location":"app/helpers/self_destruct_helper.rb:11","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true},{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true}]}]}]},{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Request","type":"class","children":[{"name":"Session","type":"class","children":[{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/request/session.rb:112","static":false,"labels":["http.session.read"]}]}]},{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]},{"name":"ActionController","type":"class","children":[{"name":"Renderers","type":"class","children":[{"name":"render_to_body","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb:140","static":false,"labels":["mvc.render"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]}]}]}]},{"name":"lib/chewy/strategy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"Strategy","type":"class","children":[{"name":"Mastodon","type":"class","children":[{"name":"leave","type":"function","location":"lib/chewy/strategy/mastodon.rb:16","static":false}]}]}]}]}],"events":[{"id":1881490,"event":"call","thread_id":9160,"http_server_request":{"request_method":"POST","path_info":"/api/v2/filters","normalized_path_info":"/api/v2/filters","headers":{"Version":"HTTP/1.0","Host":"www.example.com","Accept":"text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5","Content-Type":"application/x-www-form-urlencoded","Content-Length":"0"}}},{"id":1881491,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10161600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":1881492,"event":"return","thread_id":9160,"parent_id":1881491,"elapsed":0.00012231201981194317,"elapsed_instrumentation":0.00023241297458298504,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0fb602e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60808 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60fd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":231360,"size":4}},{"id":1881493,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10161600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":1881494,"event":"return","thread_id":9160,"parent_id":1881493,"elapsed":2.5740009732544422e-06,"elapsed_instrumentation":8.40960128698498e-05,"return_value":{"class":"Array","value":"[]","object_id":231380,"size":0}},{"id":1881495,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":10161620,"value":"__h_8vy\n(_,nl\u001d__"}},{"id":1881496,"event":"return","thread_id":9160,"parent_id":1881495,"elapsed":9.144016075879335e-06,"elapsed_instrumentation":0.0001609889732208103,"return_value":{"class":"Array","value":"[2779998409, 14454, 30986, 10383, 11374, 1813879468]","object_id":10161640,"size":6}},{"id":1881497,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10161680,"value":"Processing by Api::V2::FiltersController#create as HTML\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1881498,"event":"return","thread_id":9160,"parent_id":1881497,"elapsed":0.001964649010915309,"elapsed_instrumentation":0.0004172359767835587,"return_value":{"class":"Integer","value":"56","object_id":113}},{"id":1881499,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10161700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":10097200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07489618>"}},{"id":1881500,"event":"return","thread_id":9160,"parent_id":1881499,"elapsed":3.3949909266084433e-06,"elapsed_instrumentation":0.00034324597800150514,"return_value":{"class":"Array","value":"[]","object_id":10097220,"size":0}},{"id":1881501,"event":"call","thread_id":9160,"defined_class":"Localized","method_id":"set_locale","path":"app/controllers/concerns/localized.rb","lineno":10,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881502,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881503,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881504,"event":"return","thread_id":9160,"parent_id":1881503,"elapsed":0.0001453440054319799,"elapsed_instrumentation":0.00018804697901941836},{"id":1881505,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Request::Session","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/request/session.rb","lineno":112,"static":false,"parameters":[{"name":"key","class":"String","object_id":10161740,"value":"warden.user.user.key","kind":"req"}],"receiver":{"class":"ActionDispatch::Request::Session","object_id":10161760,"value":"#<ActionDispatch::Request::Session:0x00007fdc0e0f4e38>"}},{"id":1881506,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":10161780,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10161800,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0e0f2ef8>"}},{"id":1881507,"event":"return","thread_id":9160,"parent_id":1881506,"elapsed":4.52430103905499e-05,"elapsed_instrumentation":0.0003806320019066334,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0e0f2ef8>","object_id":10161800}},{"id":1881508,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":1219980,"value":"_mastodon_session","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10161800,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0e0f2ef8>"}},{"id":1881509,"event":"return","thread_id":9160,"parent_id":1881508,"elapsed":5.69300027564168e-06,"elapsed_instrumentation":0.00018886002362705767},{"id":1881510,"event":"return","thread_id":9160,"parent_id":1881505,"elapsed":0.000947729975450784,"elapsed_instrumentation":0.00015335698844864964},{"id":1881511,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10161800,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0e0f2ef8>"}},{"id":1881512,"event":"return","thread_id":9160,"parent_id":1881511,"elapsed":3.3409742172807455e-06,"elapsed_instrumentation":0.00011028299923054874},{"id":1881513,"event":"return","thread_id":9160,"parent_id":1881502,"elapsed":0.0024375579960178584,"elapsed_instrumentation":6.714998744428158e-05},{"id":1881514,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10161700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":10097340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07489668>"}},{"id":1881515,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881516,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881517,"event":"return","thread_id":9160,"parent_id":1881516,"elapsed":5.16620057169348e-05,"elapsed_instrumentation":4.9977999879047275e-05},{"id":1881518,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10161800,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0e0f2ef8>"}},{"id":1881519,"event":"return","thread_id":9160,"parent_id":1881518,"elapsed":2.84801353700459e-06,"elapsed_instrumentation":7.59109971113503e-05},{"id":1881520,"event":"return","thread_id":9160,"parent_id":1881515,"elapsed":0.0004943990206811577,"elapsed_instrumentation":6.894898251630366e-05},{"id":1881521,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_session","path":"app/controllers/application_controller.rb","lineno":153,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881522,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10161800,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0e0f2ef8>"}},{"id":1881523,"event":"return","thread_id":9160,"parent_id":1881522,"elapsed":3.196008037775755e-06,"elapsed_instrumentation":8.127003093250096e-05},{"id":1881524,"event":"return","thread_id":9160,"parent_id":1881521,"elapsed":0.00011557299876585603,"elapsed_instrumentation":0.00010303599992766976},{"id":1881525,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"check_self_destruct!","path":"app/controllers/application_controller.rb","lineno":176,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881526,"event":"call","thread_id":9160,"defined_class":"SelfDestructHelper","method_id":"self_destruct?","path":"app/helpers/self_destruct_helper.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881527,"event":"return","thread_id":9160,"parent_id":1881526,"elapsed":1.11259869299829e-05,"elapsed_instrumentation":6.388899055309594e-05},{"id":1881528,"event":"return","thread_id":9160,"parent_id":1881525,"elapsed":0.00010254001244902611,"elapsed_instrumentation":6.963100167922676e-05},{"id":1881529,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881530,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881531,"event":"return","thread_id":9160,"parent_id":1881530,"elapsed":7.231300696730614e-05,"elapsed_instrumentation":0.00026436400366947055},{"id":1881532,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10161800,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0e0f2ef8>"}},{"id":1881533,"event":"return","thread_id":9160,"parent_id":1881532,"elapsed":3.381021087989211e-06,"elapsed_instrumentation":0.00010514899622648954},{"id":1881534,"event":"return","thread_id":9160,"parent_id":1881529,"elapsed":0.0006576550076715648,"elapsed_instrumentation":8.117302786558867e-05},{"id":1881535,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"set_cache_control_defaults","path":"app/controllers/application_controller.rb","lineno":185,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881536,"event":"return","thread_id":9160,"parent_id":1881535,"elapsed":5.093985237181187e-06,"elapsed_instrumentation":0.00015277299098670483,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":10161820,"size":2}},{"id":1881537,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"disallow_unauthenticated_api_access?","path":"app/controllers/api/base_controller.rb","lineno":152,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881538,"event":"return","thread_id":9160,"parent_id":1881537,"elapsed":1.9691011402755976e-05,"elapsed_instrumentation":9.787199087440968e-05},{"id":1881539,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"require_not_suspended!","path":"app/controllers/api/base_controller.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881540,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881541,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881542,"event":"return","thread_id":9160,"parent_id":1881541,"elapsed":4.564298433251679e-05,"elapsed_instrumentation":6.772601045668125e-05},{"id":1881543,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10161800,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0e0f2ef8>"}},{"id":1881544,"event":"return","thread_id":9160,"parent_id":1881543,"elapsed":4.641013219952583e-06,"elapsed_instrumentation":9.737099753692746e-05},{"id":1881545,"event":"return","thread_id":9160,"parent_id":1881540,"elapsed":0.0004363250045571476,"elapsed_instrumentation":8.641701424494386e-05},{"id":1881546,"event":"return","thread_id":9160,"parent_id":1881539,"elapsed":0.0005449710006359965,"elapsed_instrumentation":0.000282035005511716},{"id":1881547,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"doorkeeper_unauthorized_render_options","path":"app/controllers/api/base_controller.rb","lineno":85,"static":false,"parameters":[{"name":"error","class":"Doorkeeper::OAuth::InvalidTokenResponse","object_id":10161840,"value":"#<Doorkeeper::OAuth::InvalidTokenResponse:0x00007fdc0e0f05b8>","kind":"key"}],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881548,"event":"return","thread_id":9160,"parent_id":1881547,"elapsed":2.6825000531971455e-05,"elapsed_instrumentation":0.0002407460124231875,"return_value":{"class":"Hash","value":"{:json=>{:error=>The access token is invalid}}","object_id":10161860,"size":1}},{"id":1881549,"event":"call","thread_id":9160,"defined_class":"ActionController::Renderers","method_id":"render_to_body","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb","lineno":140,"static":false,"parameters":[{"name":"options","class":"Hash","object_id":10161860,"value":"{:json=>{:error=>The access token is invalid}, :status=>401, :prefixes=>[api/v2/filters, api/base, application], :template=>create, :layout=>}","kind":"req","size":5}],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881550,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881551,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::FiltersController","object_id":10161720,"value":"#<Api::V2::FiltersController:0x00007fdbf40afb40>"}},{"id":1881552,"event":"return","thread_id":9160,"parent_id":1881551,"elapsed":4.846099182032049e-05,"elapsed_instrumentation":5.6815973948687315e-05},{"id":1881553,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":10161800,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0e0f2ef8>"}},{"id":1881554,"event":"return","thread_id":9160,"parent_id":1881553,"elapsed":3.5599805414676666e-06,"elapsed_instrumentation":0.00010225898586213589},{"id":1881555,"event":"return","thread_id":9160,"parent_id":1881550,"elapsed":0.00040230699232779443,"elapsed_instrumentation":6.355202640406787e-05},{"id":1881556,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10161880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1881557,"event":"return","thread_id":9160,"parent_id":1881556,"elapsed":2.868997398763895e-06,"elapsed_instrumentation":0.00011384100071154535,"return_value":{"class":"Array","value":"[]","object_id":211300,"size":0}},{"id":1881558,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10161880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1881559,"event":"return","thread_id":9160,"parent_id":1881558,"elapsed":2.487999154254794e-06,"elapsed_instrumentation":8.154902025125921e-05,"return_value":{"class":"Array","value":"[]","object_id":211340,"size":0}},{"id":1881560,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":10161900,"value":"{error=>The access token is invalid}","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":10161920,"value":"#<JSON::Ext::Generator::State:0x00007fdbf5662f28>"}},{"id":1881561,"event":"return","thread_id":9160,"parent_id":1881560,"elapsed":6.939982995390892e-06,"elapsed_instrumentation":0.00010748498607426882,"return_value":{"class":"String","value":"{\"error\":\"The access token is invalid\"}","object_id":10161940}},{"id":1881562,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10161880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":1881563,"event":"return","thread_id":9160,"parent_id":1881562,"elapsed":2.714019501581788e-06,"elapsed_instrumentation":7.170700700953603e-05,"return_value":{"class":"Array","value":"[]","object_id":215680,"size":0}},{"id":1881564,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10161880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":1881565,"event":"return","thread_id":9160,"parent_id":1881564,"elapsed":2.2790045477449894e-06,"elapsed_instrumentation":6.635399768128991e-05,"return_value":{"class":"Array","value":"[]","object_id":215700,"size":0}},{"id":1881566,"event":"return","thread_id":9160,"parent_id":1881549,"elapsed":0.001567216997500509,"elapsed_instrumentation":0.00027138099540024996,"return_value":{"class":"String","value":"{\"error\":\"The access token is invalid\"}","object_id":10161940}},{"id":1881567,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10161960,"value":"Filter chain halted as #<Proc:0x00007fdc09587978 /workspaces/mastodon/app/controllers/api/v2/filters (...50 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1881568,"event":"return","thread_id":9160,"parent_id":1881567,"elapsed":0.0009087780199479312,"elapsed_instrumentation":0.00015168398385867476,"return_value":{"class":"Integer","value":"150","object_id":301}},{"id":1881569,"event":"return","thread_id":9160,"parent_id":1881514,"elapsed":0.00808139200671576,"elapsed_instrumentation":0.0006044809997547418,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09493da0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09493fa8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc094945e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09494a20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09494f48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09495470 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc094956a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09495880 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc094959e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc09495bf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...8 more items)]","object_id":10097520,"size":18}},{"id":1881570,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10161700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":10097340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07489668>"}},{"id":1881571,"event":"return","thread_id":9160,"parent_id":1881570,"elapsed":5.545007297769189e-06,"elapsed_instrumentation":0.00015350201283581555,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09495fb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc094942c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":10097540,"size":2}},{"id":1881572,"event":"return","thread_id":9160,"parent_id":1881501,"elapsed":0.011589868983719498,"elapsed_instrumentation":7.538998033851385e-05},{"id":1881573,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10161700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":10097200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc07489618>"}},{"id":1881574,"event":"return","thread_id":9160,"parent_id":1881573,"elapsed":3.875000402331352e-06,"elapsed_instrumentation":9.374201181344688e-05,"return_value":{"class":"Array","value":"[]","object_id":10097560,"size":0}},{"id":1881575,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":10161980,"value":"Completed 401 Unauthorized in 14ms (Views: 2.3ms | ActiveRecord: 0.0ms | Allocations: 3861)\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1881576,"event":"return","thread_id":9160,"parent_id":1881575,"elapsed":0.0009796560043469071,"elapsed_instrumentation":0.0002726120001170784,"return_value":{"class":"Integer","value":"92","object_id":185}},{"id":1881577,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1881578,"event":"return","thread_id":9160,"parent_id":1881577,"elapsed":5.0270173233002424e-06,"elapsed_instrumentation":0.00013369298540055752,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1881579,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":337880,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":10162000,"value":"[__T__G_FUE____\u000e_]"}},{"id":1881580,"event":"return","thread_id":9160,"parent_id":1881579,"elapsed":8.781993528828025e-06,"elapsed_instrumentation":0.00015044299652799964,"return_value":{"class":"String","value":"/sRUmbtHuUZVRdb5x8QOkQ==","object_id":10162020}},{"id":1881581,"event":"call","thread_id":9160,"defined_class":"Chewy::Strategy::Mastodon","method_id":"leave","path":"lib/chewy/strategy/mastodon.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Chewy::Strategy::Mastodon","object_id":10162040,"value":"#<Chewy::Strategy::Mastodon:0x00007fdbf56945f0>"}},{"id":1881582,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":10162060,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":10162080,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1881583,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1881584,"event":"return","thread_id":9160,"parent_id":1881583,"elapsed":4.158006049692631e-06,"elapsed_instrumentation":0.0001146540162153542,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1881585,"event":"return","thread_id":9160,"parent_id":1881582,"elapsed":0.00022045601508580148,"elapsed_instrumentation":0.0001851269626058638,"return_value":{"class":"Array","value":"[]","object_id":10162100,"size":0}},{"id":1881586,"event":"return","thread_id":9160,"parent_id":1881581,"elapsed":0.0004415480070747435,"elapsed_instrumentation":9.792097262106836e-05,"return_value":{"class":"Array","value":"[]","object_id":10162100,"size":0}},{"id":1881587,"event":"return","thread_id":9160,"parent_id":1881490,"elapsed":0.02191720000701025,"elapsed_instrumentation":0.001030454965075478,"return_value":{"class":"Hash","value":"{error=>The access token is invalid}","object_id":10162140,"size":1,"properties":[{"name":"error","class":"String"}]},"http_server_response":{"status_code":401,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Vary":"Authorization","Cache-Control":"private, no-store","WWW-Authenticate":"Bearer realm=\"Doorkeeper\", error=\"invalid_token\", error_description=\"The access token is invalid\"","Content-Type":"application/json; charset=utf-8","Content-Security-Policy":"default-src 'none'; frame-ancestors 'none'; form-action 'none'","X-Request-Id":"a5b368c9-3876-490a-a88f-2c6e6c1d9aac","X-Runtime":"0.021377"}}},{"id":1881588,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10162160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":1881589,"event":"return","thread_id":9160,"parent_id":1881588,"elapsed":0.00014195599942468107,"elapsed_instrumentation":0.00016319603309966624,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca3bb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3cf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3f00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca48b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":338500,"size":4}},{"id":1881590,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":10162160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":1881591,"event":"return","thread_id":9160,"parent_id":1881590,"elapsed":4.144007107242942e-06,"elapsed_instrumentation":0.00026964800781570375,"return_value":{"class":"Array","value":"[]","object_id":338520,"size":0}}]}