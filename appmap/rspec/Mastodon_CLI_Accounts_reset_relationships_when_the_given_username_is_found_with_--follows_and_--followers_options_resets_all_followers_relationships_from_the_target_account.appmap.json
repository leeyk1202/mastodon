{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --follows and --followers options resets all \"followers\" relationships from the target account","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"User","type":"class","children":[{"name":"those_who_can","type":"function","location":"app/models/user.rb:143","static":true}]},{"name":"UserRole","type":"class","children":[{"name":"that_can","type":"function","location":"app/models/user_role.rb:111","static":true},{"name":"can?","type":"function","location":"app/models/user_role.rb:131","static":false},{"name":"computed_permissions","type":"function","location":"app/models/user_role.rb:139","static":false},{"name":"everyone?","type":"function","location":"app/models/user_role.rb:115","static":false},{"name":"nobody?","type":"function","location":"app/models/user_role.rb:119","static":false},{"name":"everyone","type":"function","location":"app/models/user_role.rb:105","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"RequestPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/request_pool.rb:114","static":false}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:13","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:51","static":false}]}]}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]},{"name":"BootstrapTimelineWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/bootstrap_timeline_worker.rb:6","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":2900474,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":14342440,"value":"manie6790","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14342460,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e12d7998>"}},{"id":2900475,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":14342480,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc9186184b8>"}},{"id":2900476,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'manie6790' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2900477,"event":"return","thread_id":9160,"parent_id":2900476,"elapsed":0.001105585,"elapsed_instrumentation":9.863299783319235e-05},{"id":2900478,"event":"return","thread_id":9160,"parent_id":2900475,"elapsed":0.004828065983019769,"elapsed_instrumentation":0.00011052697664126754,"return_value":{"class":"Account","value":"#<Account:0x00007fc9181b2d10>","object_id":14342500}},{"id":2900479,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1)","database_type":"postgres"}},{"id":2900480,"event":"return","thread_id":9160,"parent_id":2900479,"elapsed":0.001328173,"elapsed_instrumentation":8.620700100436807e-05},{"id":2900481,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1)","database_type":"postgres"}},{"id":2900482,"event":"return","thread_id":9160,"parent_id":2900481,"elapsed":0.001108099,"elapsed_instrumentation":9.404198499396443e-05},{"id":2900483,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14342460,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e12d7998>"}},{"id":2900484,"event":"return","thread_id":9160,"parent_id":2900483,"elapsed":0.00011799100320786238,"elapsed_instrumentation":0.0002546499599702656,"return_value":{"class":"ProgressBar::Base","value":"","object_id":14342520}},{"id":2900485,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2900486,"event":"return","thread_id":9160,"parent_id":2900485,"elapsed":0.001854337,"elapsed_instrumentation":9.414699161425233e-05},{"id":2900487,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14342540,"value":"relationship:111361440309437019:111361440309437023","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14342560,"value":"#<UnfollowService:0x00007fc8e12d5738>"}},{"id":2900488,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14342560,"value":"#<UnfollowService:0x00007fc8e12d5738>"}},{"id":2900489,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14342580,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14342600,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900490,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900491,"event":"return","thread_id":9160,"parent_id":2900490,"elapsed":2.830987796187401e-06,"elapsed_instrumentation":7.681897841393948e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2900492,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14342620,"value":"5__\b___\u0000_ __+___"}},{"id":2900493,"event":"return","thread_id":9160,"parent_id":2900492,"elapsed":6.969028618186712e-06,"elapsed_instrumentation":0.0001474839518778026,"return_value":{"class":"Array","value":"[905415432, 51446, 61440, 58144, 62938, 732663168]","object_id":14342640,"size":6}},{"id":2900494,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900495,"event":"return","thread_id":9160,"parent_id":2900494,"elapsed":0.000476311,"elapsed_instrumentation":0.0001041879877448082},{"id":2900496,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14342660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900497,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900498,"event":"return","thread_id":9160,"parent_id":2900497,"elapsed":0.000434572,"elapsed_instrumentation":0.00017374299932271242},{"id":2900499,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900500,"event":"return","thread_id":9160,"parent_id":2900499,"elapsed":0.000398998,"elapsed_instrumentation":6.0556980315595865e-05},{"id":2900501,"event":"return","thread_id":9160,"parent_id":2900496,"elapsed":0.002380331978201866,"elapsed_instrumentation":0.0001722880406305194,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2900502,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2900503,"event":"return","thread_id":9160,"parent_id":2900502,"elapsed":0.000554464,"elapsed_instrumentation":0.0003227500128559768},{"id":2900504,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14342660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900505,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2900506,"event":"return","thread_id":9160,"parent_id":2900505,"elapsed":0.000589977,"elapsed_instrumentation":0.0002763529773801565},{"id":2900507,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900508,"event":"return","thread_id":9160,"parent_id":2900507,"elapsed":0.000532651,"elapsed_instrumentation":7.214798824861646e-05},{"id":2900509,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14342680,"value":"#<Account:0x00007fc9181b0a10>"}},{"id":2900510,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14342680,"value":"#<Account:0x00007fc9181b0a10>"}},{"id":2900511,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14342700,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14342720,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2900512,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14342740,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14342760,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2900513,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2900514,"event":"return","thread_id":13276700,"parent_id":2900513,"elapsed":6.283982656896114e-06,"elapsed_instrumentation":9.28199733607471e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2900515,"event":"return","thread_id":13276700,"parent_id":2900512,"elapsed":0.0001278010313399136,"elapsed_instrumentation":0.000128018029499799,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2900516,"event":"return","thread_id":13276700,"parent_id":2900511,"elapsed":0.000287898990791291,"elapsed_instrumentation":0.0001650610356591642,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2900517,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440309437023, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900518,"event":"return","thread_id":9160,"parent_id":2900517,"elapsed":0.00182873,"elapsed_instrumentation":8.211500244215131e-05},{"id":2900519,"event":"return","thread_id":9160,"parent_id":2900510,"elapsed":0.002357187040615827,"elapsed_instrumentation":0.00015995395369827747},{"id":2900520,"event":"return","thread_id":9160,"parent_id":2900509,"elapsed":0.0025443079648539424,"elapsed_instrumentation":0.00011598505079746246},{"id":2900521,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900522,"event":"return","thread_id":9160,"parent_id":2900521,"elapsed":0.000552166,"elapsed_instrumentation":0.00022004498168826103},{"id":2900523,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14342780,"value":"#<Account:0x00007fc91842f8e0>"}},{"id":2900524,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14342780,"value":"#<Account:0x00007fc91842f8e0>"}},{"id":2900525,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440309437019, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900526,"event":"return","thread_id":9160,"parent_id":2900525,"elapsed":0.000885915,"elapsed_instrumentation":7.067801197990775e-05},{"id":2900527,"event":"return","thread_id":9160,"parent_id":2900524,"elapsed":0.0013804229674860835,"elapsed_instrumentation":0.00012468901695683599},{"id":2900528,"event":"return","thread_id":9160,"parent_id":2900523,"elapsed":0.00153945799684152,"elapsed_instrumentation":0.00011315802112221718},{"id":2900529,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342680,"value":"#<Account:0x00007fc9181b0a10>"}},{"id":2900530,"event":"return","thread_id":9160,"parent_id":2900529,"elapsed":1.5994999557733536e-05,"elapsed_instrumentation":8.517003152519464e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900531,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342780,"value":"#<Account:0x00007fc91842f8e0>"}},{"id":2900532,"event":"return","thread_id":9160,"parent_id":2900531,"elapsed":6.564019713550806e-06,"elapsed_instrumentation":6.397493416443467e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900533,"event":"return","thread_id":9160,"parent_id":2900504,"elapsed":0.011406133999116719,"elapsed_instrumentation":0.00021987396758049726,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2900534,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900535,"event":"return","thread_id":9160,"parent_id":2900534,"elapsed":0.000363393,"elapsed_instrumentation":6.901199230924249e-05},{"id":2900536,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14342820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900537,"event":"return","thread_id":9160,"parent_id":2900536,"elapsed":3.563996870070696e-06,"elapsed_instrumentation":0.00011111400090157986,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2900538,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14342820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900539,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14342840,"value":"Cache delete: relationship:111361440309437023:111361440309437019\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900540,"event":"return","thread_id":9160,"parent_id":2900539,"elapsed":0.0010233389912173152,"elapsed_instrumentation":0.000117813004180789,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900541,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14342860,"value":"Cache delete: relationship:111361440309437019:111361440309437023\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900542,"event":"return","thread_id":9160,"parent_id":2900541,"elapsed":0.0007056839531287551,"elapsed_instrumentation":0.00013270904310047626,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900543,"event":"return","thread_id":9160,"parent_id":2900538,"elapsed":0.0022640549577772617,"elapsed_instrumentation":0.00010489200940355659,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2900544,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342880,"value":"#<Account:0x00007fc9181b1b90>"}},{"id":2900545,"event":"return","thread_id":9160,"parent_id":2900544,"elapsed":1.3270997442305088e-05,"elapsed_instrumentation":8.51080403663218e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900546,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342880,"value":"#<Account:0x00007fc9181b1b90>"}},{"id":2900547,"event":"return","thread_id":9160,"parent_id":2900546,"elapsed":4.067027475684881e-06,"elapsed_instrumentation":6.611499702557921e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900548,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2900549,"event":"return","thread_id":9160,"parent_id":2900548,"elapsed":7.396971341222525e-06,"elapsed_instrumentation":5.818001227453351e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900550,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14342900,"value":"{args=>[111361440309437019, 111361440309437023], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14342920,"value":"#<Sidekiq::Client:0x00007fc9186db7b0>"}},{"id":2900551,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14342940,"value":"__5G]B______"}},{"id":2900552,"event":"return","thread_id":9160,"parent_id":2900551,"elapsed":4.4130138121545315e-06,"elapsed_instrumentation":0.00010332296369597316,"return_value":{"class":"String","value":"96e135475d4283a68a8fc5b1","object_id":14342960}},{"id":2900553,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14342980,"value":"[111361440309437019, 111361440309437023]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14343000,"value":"#<JSON::Ext::Generator::State:0x00007fc9186d9140>"}},{"id":2900554,"event":"return","thread_id":9160,"parent_id":2900553,"elapsed":6.170012056827545e-06,"elapsed_instrumentation":0.0001489270362071693,"return_value":{"class":"String","value":"[111361440309437019,111361440309437023]","object_id":14343020}},{"id":2900555,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14343040,"value":"#<JSON::Ext::Parser:0x00007fc9186d82e0>"}},{"id":2900556,"event":"return","thread_id":9160,"parent_id":2900555,"elapsed":5.331006832420826e-06,"elapsed_instrumentation":8.475698996335268e-05,"return_value":{"class":"Array","value":"[111361440309437019, 111361440309437023]","object_id":14343060,"size":2}},{"id":2900557,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14343080,"value":"__G|\u001eg___}3_"}},{"id":2900558,"event":"return","thread_id":9160,"parent_id":2900557,"elapsed":3.999972250312567e-06,"elapsed_instrumentation":0.00012209807755425572,"return_value":{"class":"String","value":"f5c4477c1e67ad99d97d33f8","object_id":14343100}},{"id":2900559,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14343120,"value":"{retry=>true, queue=>pull, args=>[111361440309437019, 111361440309437023], class=>UnmergeWorker, jid=>96e135475d4283a68a8fc5b1, created_at=>1699240728.8875456, id=>f5c4477c1e67ad99d97d33f8}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14343140,"value":"#<JSON::Ext::Generator::State:0x00007fc9186d63c8>"}},{"id":2900560,"event":"return","thread_id":9160,"parent_id":2900559,"elapsed":1.3112032320350409e-05,"elapsed_instrumentation":0.00019378296565264463,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440309437019,111361440309437023],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14343160}},{"id":2900561,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14343180,"value":"#<JSON::Ext::Parser:0x00007fc9186d41e0>"}},{"id":2900562,"event":"return","thread_id":9160,"parent_id":2900561,"elapsed":2.014299388974905e-05,"elapsed_instrumentation":0.0002965129679068923,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440309437019, 111361440309437023], class=>UnmergeWorker, jid=>96e135475d4283a68a8fc5b1, created_at=>1699240728.8875456, id=>f5c4477c1e67ad99d97d33f8}","object_id":14343200,"size":7}},{"id":2900563,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880618874039,"value":"111361440309437019","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14343220,"value":"#<UnmergeWorker:0x00007fc9186d2048>"}},{"id":2900564,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14343220,"value":"#<UnmergeWorker:0x00007fc9186d2048>"}},{"id":2900565,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900566,"event":"return","thread_id":9160,"parent_id":2900565,"elapsed":0.000889424,"elapsed_instrumentation":7.614400237798691e-05},{"id":2900567,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900568,"event":"return","thread_id":9160,"parent_id":2900567,"elapsed":0.000598131,"elapsed_instrumentation":7.014302536845207e-05},{"id":2900569,"event":"return","thread_id":9160,"parent_id":2900564,"elapsed":0.003659519017674029,"elapsed_instrumentation":9.948498336598277e-05,"return_value":{"class":"Account","value":"#<Account:0x00007fc91842e260>","object_id":14343240}},{"id":2900570,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14343220,"value":"#<UnmergeWorker:0x00007fc9186d2048>"}},{"id":2900571,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14343260,"value":"#<Account:0x00007fc91842e3a0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14343240,"value":"#<Account:0x00007fc91842e260>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900572,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900573,"event":"return","thread_id":9160,"parent_id":2900572,"elapsed":5.4219854064285755e-06,"elapsed_instrumentation":9.537703590467572e-05,"return_value":{"class":"String","value":"feed:home:111361440309437023","object_id":14343280}},{"id":2900574,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900575,"event":"return","thread_id":9160,"parent_id":2900574,"elapsed":4.235014785081148e-06,"elapsed_instrumentation":6.932503310963511e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2900576,"event":"return","thread_id":9160,"parent_id":2900571,"elapsed":0.0031825589830987155,"elapsed_instrumentation":9.928899817168713e-05},{"id":2900577,"event":"return","thread_id":9160,"parent_id":2900570,"elapsed":0.0033127269707620144,"elapsed_instrumentation":7.617601659148932e-05},{"id":2900578,"event":"return","thread_id":9160,"parent_id":2900563,"elapsed":0.0071911520208232105,"elapsed_instrumentation":7.731595542281866e-05},{"id":2900579,"event":"return","thread_id":9160,"parent_id":2900550,"elapsed":0.008855235006194562,"elapsed_instrumentation":0.000151443004142493,"return_value":{"class":"String","value":"96e135475d4283a68a8fc5b1","object_id":14342960}},{"id":2900580,"event":"return","thread_id":9160,"parent_id":2900489,"elapsed":0.03167536202818155,"elapsed_instrumentation":0.00017492298502475023,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9181b12d0>","object_id":14342800}},{"id":2900581,"event":"return","thread_id":9160,"parent_id":2900488,"elapsed":0.031876982015091926,"elapsed_instrumentation":0.00014631799422204494,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9181b12d0>","object_id":14342800}},{"id":2900582,"event":"return","thread_id":9160,"parent_id":2900487,"elapsed":0.032069228996988386,"elapsed_instrumentation":0.0003699630033224821,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9181b12d0>","object_id":14342800}},{"id":2900583,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14343300,"value":"relationship:111361440309437020:111361440309437023","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14343320,"value":"#<UnfollowService:0x00007fc8e12ee3f0>"}},{"id":2900584,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14343320,"value":"#<UnfollowService:0x00007fc8e12ee3f0>"}},{"id":2900585,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14343340,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14343360,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900586,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900587,"event":"return","thread_id":9160,"parent_id":2900586,"elapsed":2.729997504502535e-06,"elapsed_instrumentation":6.391899660229683e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2900588,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14343380,"value":"e_J____y_>_c___\u0003"}},{"id":2900589,"event":"return","thread_id":9160,"parent_id":2900588,"elapsed":5.76098682358861e-06,"elapsed_instrumentation":0.00012523599434643984,"return_value":{"class":"Array","value":"[1711032994, 44223, 42617, 33598, 51299, 2950870019]","object_id":14343400,"size":6}},{"id":2900590,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900591,"event":"return","thread_id":9160,"parent_id":2900590,"elapsed":0.000570233,"elapsed_instrumentation":7.229996845126152e-05},{"id":2900592,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14343420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900593,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900594,"event":"return","thread_id":9160,"parent_id":2900593,"elapsed":0.000336899,"elapsed_instrumentation":7.295497925952077e-05},{"id":2900595,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900596,"event":"return","thread_id":9160,"parent_id":2900595,"elapsed":0.000411425,"elapsed_instrumentation":6.854900857433677e-05},{"id":2900597,"event":"return","thread_id":9160,"parent_id":2900592,"elapsed":0.002202095987740904,"elapsed_instrumentation":0.00035507703432813287,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2900598,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2900599,"event":"return","thread_id":9160,"parent_id":2900598,"elapsed":0.000564688,"elapsed_instrumentation":6.980699254199862e-05},{"id":2900600,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14343420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900601,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2900602,"event":"return","thread_id":9160,"parent_id":2900601,"elapsed":0.000494837,"elapsed_instrumentation":0.0001612619962543249},{"id":2900603,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900604,"event":"return","thread_id":9160,"parent_id":2900603,"elapsed":0.000580346,"elapsed_instrumentation":7.256498793140054e-05},{"id":2900605,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14343440,"value":"#<Account:0x00007fc91842ce60>"}},{"id":2900606,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14343440,"value":"#<Account:0x00007fc91842ce60>"}},{"id":2900607,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440309437023, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900608,"event":"return","thread_id":9160,"parent_id":2900607,"elapsed":0.000943873,"elapsed_instrumentation":8.094601798802614e-05},{"id":2900609,"event":"return","thread_id":9160,"parent_id":2900606,"elapsed":0.0016084699891507626,"elapsed_instrumentation":0.00010878097964450717},{"id":2900610,"event":"return","thread_id":9160,"parent_id":2900605,"elapsed":0.0017544649890623987,"elapsed_instrumentation":0.0001301569864153862},{"id":2900611,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900612,"event":"return","thread_id":9160,"parent_id":2900611,"elapsed":0.000602944,"elapsed_instrumentation":7.337401621043682e-05},{"id":2900613,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14343460,"value":"#<Account:0x00007fc91842be20>"}},{"id":2900614,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14343460,"value":"#<Account:0x00007fc91842be20>"}},{"id":2900615,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440309437020, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900616,"event":"return","thread_id":9160,"parent_id":2900615,"elapsed":0.000858439,"elapsed_instrumentation":8.404097752645612e-05},{"id":2900617,"event":"return","thread_id":9160,"parent_id":2900614,"elapsed":0.0014015490305610001,"elapsed_instrumentation":9.696598863229156e-05},{"id":2900618,"event":"return","thread_id":9160,"parent_id":2900613,"elapsed":0.0015247919945977628,"elapsed_instrumentation":0.00024205195950344205},{"id":2900619,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14343440,"value":"#<Account:0x00007fc91842ce60>"}},{"id":2900620,"event":"return","thread_id":9160,"parent_id":2900619,"elapsed":1.6050005797296762e-05,"elapsed_instrumentation":0.00011305400403216481,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900621,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14343460,"value":"#<Account:0x00007fc91842be20>"}},{"id":2900622,"event":"return","thread_id":9160,"parent_id":2900621,"elapsed":1.0771967936307192e-05,"elapsed_instrumentation":0.0002060650149360299,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900623,"event":"return","thread_id":9160,"parent_id":2900600,"elapsed":0.010548384976573288,"elapsed_instrumentation":0.0001711790100671351,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2900624,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900625,"event":"return","thread_id":9160,"parent_id":2900624,"elapsed":0.000383711,"elapsed_instrumentation":7.674598600715399e-05},{"id":2900626,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14343500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900627,"event":"return","thread_id":9160,"parent_id":2900626,"elapsed":3.6470009945333004e-06,"elapsed_instrumentation":0.00011691299732774496,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2900628,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14343500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900629,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14343520,"value":"Cache delete: relationship:111361440309437023:111361440309437020\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900630,"event":"return","thread_id":9160,"parent_id":2900629,"elapsed":0.0006702649989165366,"elapsed_instrumentation":0.00013422302436083555,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900631,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14343540,"value":"Cache delete: relationship:111361440309437020:111361440309437023\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900632,"event":"return","thread_id":9160,"parent_id":2900631,"elapsed":0.0008226600475609303,"elapsed_instrumentation":0.00015129800885915756,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900633,"event":"return","thread_id":9160,"parent_id":2900628,"elapsed":0.002086097956635058,"elapsed_instrumentation":0.00013214797945693135,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2900634,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14343560,"value":"#<Account:0x00007fc9181b1a50>"}},{"id":2900635,"event":"return","thread_id":9160,"parent_id":2900634,"elapsed":1.268601045012474e-05,"elapsed_instrumentation":9.709596633911133e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900636,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14343560,"value":"#<Account:0x00007fc9181b1a50>"}},{"id":2900637,"event":"return","thread_id":9160,"parent_id":2900636,"elapsed":4.642992280423641e-06,"elapsed_instrumentation":7.882696809247136e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900638,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2900639,"event":"return","thread_id":9160,"parent_id":2900638,"elapsed":1.3798999134451151e-05,"elapsed_instrumentation":9.34129930101335e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900640,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14343580,"value":"{args=>[111361440309437020, 111361440309437023], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14343600,"value":"#<Sidekiq::Client:0x00007fc91879bec0>"}},{"id":2900641,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14343620,"value":"_____v_\u001b_^\u00126"}},{"id":2900642,"event":"return","thread_id":9160,"parent_id":2900641,"elapsed":4.091998562216759e-06,"elapsed_instrumentation":0.00011718203313648701,"return_value":{"class":"String","value":"f4a581d39376f91bf35e1236","object_id":14343640}},{"id":2900643,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14343660,"value":"[111361440309437020, 111361440309437023]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14343680,"value":"#<JSON::Ext::Generator::State:0x00007fc918799788>"}},{"id":2900644,"event":"return","thread_id":9160,"parent_id":2900643,"elapsed":5.9229787439107895e-06,"elapsed_instrumentation":0.00010588404256850481,"return_value":{"class":"String","value":"[111361440309437020,111361440309437023]","object_id":14343700}},{"id":2900645,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14343720,"value":"#<JSON::Ext::Parser:0x00007fc9187989f0>"}},{"id":2900646,"event":"return","thread_id":9160,"parent_id":2900645,"elapsed":5.355046596378088e-06,"elapsed_instrumentation":8.39830026961863e-05,"return_value":{"class":"Array","value":"[111361440309437020, 111361440309437023]","object_id":14343740,"size":2}},{"id":2900647,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14343760,"value":"_\u0015___Ca\u0002____"}},{"id":2900648,"event":"return","thread_id":9160,"parent_id":2900647,"elapsed":3.5809935070574284e-06,"elapsed_instrumentation":9.883701568469405e-05,"return_value":{"class":"String","value":"8c15d3e3ac436102915fd1cc","object_id":14343780}},{"id":2900649,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14343800,"value":"{retry=>true, queue=>pull, args=>[111361440309437020, 111361440309437023], class=>UnmergeWorker, jid=>f4a581d39376f91bf35e1236, created_at=>1699240728.9181063, id=>8c15d3e3ac436102915fd1cc}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14343820,"value":"#<JSON::Ext::Generator::State:0x00007fc918796c68>"}},{"id":2900650,"event":"return","thread_id":9160,"parent_id":2900649,"elapsed":1.2742006219923496e-05,"elapsed_instrumentation":0.0002944660373032093,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440309437020,111361440309437023],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14343840}},{"id":2900651,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14343860,"value":"#<JSON::Ext::Parser:0x00007fc918794710>"}},{"id":2900652,"event":"return","thread_id":9160,"parent_id":2900651,"elapsed":1.88470003195107e-05,"elapsed_instrumentation":0.00015216099563986063,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440309437020, 111361440309437023], class=>UnmergeWorker, jid=>f4a581d39376f91bf35e1236, created_at=>1699240728.9181063, id=>8c15d3e3ac436102915fd1cc}","object_id":14343880,"size":7}},{"id":2900653,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880618874041,"value":"111361440309437020","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14343900,"value":"#<UnmergeWorker:0x00007fc918792960>"}},{"id":2900654,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14343900,"value":"#<UnmergeWorker:0x00007fc918792960>"}},{"id":2900655,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900656,"event":"return","thread_id":9160,"parent_id":2900655,"elapsed":0.00060311,"elapsed_instrumentation":7.156498031690717e-05},{"id":2900657,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900658,"event":"return","thread_id":9160,"parent_id":2900657,"elapsed":0.000657202,"elapsed_instrumentation":7.211999036371708e-05},{"id":2900659,"event":"return","thread_id":9160,"parent_id":2900654,"elapsed":0.003590095031540841,"elapsed_instrumentation":0.0001081600203178823,"return_value":{"class":"Account","value":"#<Account:0x00007fc91842a8e0>","object_id":14343920}},{"id":2900660,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14343900,"value":"#<UnmergeWorker:0x00007fc918792960>"}},{"id":2900661,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14343940,"value":"#<Account:0x00007fc91842aa20>","kind":"req"},{"name":"into_account","class":"Account","object_id":14343920,"value":"#<Account:0x00007fc91842a8e0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900662,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900663,"event":"return","thread_id":9160,"parent_id":2900662,"elapsed":5.709996912628412e-06,"elapsed_instrumentation":0.00011184898903593421,"return_value":{"class":"String","value":"feed:home:111361440309437023","object_id":14343960}},{"id":2900664,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900665,"event":"return","thread_id":9160,"parent_id":2900664,"elapsed":4.873028956353664e-06,"elapsed_instrumentation":7.87419849075377e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2900666,"event":"return","thread_id":9160,"parent_id":2900661,"elapsed":0.0032412249711342156,"elapsed_instrumentation":0.00013625301653519273},{"id":2900667,"event":"return","thread_id":9160,"parent_id":2900660,"elapsed":0.003412155027035624,"elapsed_instrumentation":8.849299047142267e-05},{"id":2900668,"event":"return","thread_id":9160,"parent_id":2900653,"elapsed":0.00724724296014756,"elapsed_instrumentation":7.667206227779388e-05},{"id":2900669,"event":"return","thread_id":9160,"parent_id":2900640,"elapsed":0.008539033005945385,"elapsed_instrumentation":0.0003792369971051812,"return_value":{"class":"String","value":"f4a581d39376f91bf35e1236","object_id":14343640}},{"id":2900670,"event":"return","thread_id":9160,"parent_id":2900585,"elapsed":0.029629020020365715,"elapsed_instrumentation":0.0001419589971192181,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91842d720>","object_id":14343480}},{"id":2900671,"event":"return","thread_id":9160,"parent_id":2900584,"elapsed":0.029793611029163003,"elapsed_instrumentation":7.618300151079893e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91842d720>","object_id":14343480}},{"id":2900672,"event":"return","thread_id":9160,"parent_id":2900583,"elapsed":0.029901008994784206,"elapsed_instrumentation":0.00012169498950242996,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91842d720>","object_id":14343480}},{"id":2900673,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14343980,"value":"relationship:111361440309437021:111361440309437023","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14344000,"value":"#<UnfollowService:0x00007fc8e12e6f60>"}},{"id":2900674,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14344000,"value":"#<UnfollowService:0x00007fc8e12e6f60>"}},{"id":2900675,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14344020,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14344040,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900676,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900677,"event":"return","thread_id":9160,"parent_id":2900676,"elapsed":2.9859947971999645e-06,"elapsed_instrumentation":9.316392242908478e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2900678,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14344060,"value":"'__B__\u0019___\u0004,__"}},{"id":2900679,"event":"return","thread_id":9160,"parent_id":2900678,"elapsed":8.767994586378336e-06,"elapsed_instrumentation":0.0002746370155364275,"return_value":{"class":"Array","value":"[666032767, 17102, 60185, 36603, 56836, 753531263]","object_id":14344080,"size":6}},{"id":2900680,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900681,"event":"return","thread_id":9160,"parent_id":2900680,"elapsed":0.00059067,"elapsed_instrumentation":8.54780082590878e-05},{"id":2900682,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14344100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900683,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900684,"event":"return","thread_id":9160,"parent_id":2900683,"elapsed":0.000398212,"elapsed_instrumentation":0.00022806704510003328},{"id":2900685,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900686,"event":"return","thread_id":9160,"parent_id":2900685,"elapsed":0.000391188,"elapsed_instrumentation":7.146497955545783e-05},{"id":2900687,"event":"return","thread_id":9160,"parent_id":2900682,"elapsed":0.002626645960845053,"elapsed_instrumentation":0.00016710400814190507,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2900688,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2900689,"event":"return","thread_id":9160,"parent_id":2900688,"elapsed":0.000794351,"elapsed_instrumentation":0.0001540820230729878},{"id":2900690,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14344100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900691,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2900692,"event":"return","thread_id":9160,"parent_id":2900691,"elapsed":0.000664748,"elapsed_instrumentation":8.43300367705524e-05},{"id":2900693,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900694,"event":"return","thread_id":9160,"parent_id":2900693,"elapsed":0.000656456,"elapsed_instrumentation":0.00019966298714280128},{"id":2900695,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14344120,"value":"#<Account:0x00007fc9184294e0>"}},{"id":2900696,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14344120,"value":"#<Account:0x00007fc9184294e0>"}},{"id":2900697,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440309437023, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900698,"event":"return","thread_id":9160,"parent_id":2900697,"elapsed":0.000835996,"elapsed_instrumentation":8.220202289521694e-05},{"id":2900699,"event":"return","thread_id":9160,"parent_id":2900696,"elapsed":0.001362722017802298,"elapsed_instrumentation":0.00010250299237668514},{"id":2900700,"event":"return","thread_id":9160,"parent_id":2900695,"elapsed":0.001492226030677557,"elapsed_instrumentation":0.000266555929556489},{"id":2900701,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900702,"event":"return","thread_id":9160,"parent_id":2900701,"elapsed":0.000526466,"elapsed_instrumentation":7.71929626353085e-05},{"id":2900703,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14344140,"value":"#<Account:0x00007fc918428360>"}},{"id":2900704,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14344140,"value":"#<Account:0x00007fc918428360>"}},{"id":2900705,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440309437021, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900706,"event":"return","thread_id":9160,"parent_id":2900705,"elapsed":0.0009162,"elapsed_instrumentation":0.0001365100033581257},{"id":2900707,"event":"return","thread_id":9160,"parent_id":2900704,"elapsed":0.0015887229819782078,"elapsed_instrumentation":0.00019457802409306169},{"id":2900708,"event":"return","thread_id":9160,"parent_id":2900703,"elapsed":0.001811096037272364,"elapsed_instrumentation":0.00013167003635317087},{"id":2900709,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14344120,"value":"#<Account:0x00007fc9184294e0>"}},{"id":2900710,"event":"return","thread_id":9160,"parent_id":2900709,"elapsed":2.0437990315258503e-05,"elapsed_instrumentation":0.0001737450365908444,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900711,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14344140,"value":"#<Account:0x00007fc918428360>"}},{"id":2900712,"event":"return","thread_id":9160,"parent_id":2900711,"elapsed":1.0290008503943682e-05,"elapsed_instrumentation":9.087304351851344e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900713,"event":"return","thread_id":9160,"parent_id":2900690,"elapsed":0.011070113978348672,"elapsed_instrumentation":0.00020872399909421802,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2900714,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900715,"event":"return","thread_id":9160,"parent_id":2900714,"elapsed":0.000433963,"elapsed_instrumentation":8.935399819165468e-05},{"id":2900716,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14344180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900717,"event":"return","thread_id":9160,"parent_id":2900716,"elapsed":4.4460175558924675e-06,"elapsed_instrumentation":0.00012281601084396243,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2900718,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14344180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900719,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14344200,"value":"Cache delete: relationship:111361440309437023:111361440309437021\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900720,"event":"return","thread_id":9160,"parent_id":2900719,"elapsed":0.0007576359785161912,"elapsed_instrumentation":0.00011824897956103086,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900721,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14344220,"value":"Cache delete: relationship:111361440309437021:111361440309437023\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900722,"event":"return","thread_id":9160,"parent_id":2900721,"elapsed":0.000840572000015527,"elapsed_instrumentation":0.0001269050408154726,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900723,"event":"return","thread_id":9160,"parent_id":2900718,"elapsed":0.0021306609851308167,"elapsed_instrumentation":0.00011026900028809905,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2900724,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14344240,"value":"#<Account:0x00007fc9181b1910>"}},{"id":2900725,"event":"return","thread_id":9160,"parent_id":2900724,"elapsed":1.37019669637084e-05,"elapsed_instrumentation":8.158298442140222e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900726,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14344240,"value":"#<Account:0x00007fc9181b1910>"}},{"id":2900727,"event":"return","thread_id":9160,"parent_id":2900726,"elapsed":3.869994543492794e-06,"elapsed_instrumentation":5.721091292798519e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900728,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2900729,"event":"return","thread_id":9160,"parent_id":2900728,"elapsed":3.7720310501754284e-06,"elapsed_instrumentation":5.346297984942794e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900730,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14344260,"value":"{args=>[111361440309437021, 111361440309437023], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14344280,"value":"#<Sidekiq::Client:0x00007fc9188582a0>"}},{"id":2900731,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14344300,"value":"__\u001f_E_l_c\u001c\u0015r"}},{"id":2900732,"event":"return","thread_id":9160,"parent_id":2900731,"elapsed":4.286004696041346e-06,"elapsed_instrumentation":0.00010608602315187454,"return_value":{"class":"String","value":"99d51ffb45ff6cfe631c1572","object_id":14344320}},{"id":2900733,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14344340,"value":"[111361440309437021, 111361440309437023]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14344360,"value":"#<JSON::Ext::Generator::State:0x00007fc9188555f0>"}},{"id":2900734,"event":"return","thread_id":9160,"parent_id":2900733,"elapsed":5.6800199672579765e-06,"elapsed_instrumentation":9.836896788328886e-05,"return_value":{"class":"String","value":"[111361440309437021,111361440309437023]","object_id":14344380}},{"id":2900735,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14344400,"value":"#<JSON::Ext::Parser:0x00007fc9188546f0>"}},{"id":2900736,"event":"return","thread_id":9160,"parent_id":2900735,"elapsed":5.691021215170622e-06,"elapsed_instrumentation":7.347296923398972e-05,"return_value":{"class":"Array","value":"[111361440309437021, 111361440309437023]","object_id":14344420,"size":2}},{"id":2900737,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14344440,"value":"R__\u000b_iBQ_H__"}},{"id":2900738,"event":"return","thread_id":9160,"parent_id":2900737,"elapsed":3.3070100471377373e-06,"elapsed_instrumentation":8.98489379324019e-05,"return_value":{"class":"String","value":"528ad60bf76942518b48ddf0","object_id":14344460}},{"id":2900739,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14344480,"value":"{retry=>true, queue=>pull, args=>[111361440309437021, 111361440309437023], class=>UnmergeWorker, jid=>99d51ffb45ff6cfe631c1572, created_at=>1699240728.9501088, id=>528ad60bf76942518b48ddf0}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14344500,"value":"#<JSON::Ext::Generator::State:0x00007fc9188522d8>"}},{"id":2900740,"event":"return","thread_id":9160,"parent_id":2900739,"elapsed":1.6713980585336685e-05,"elapsed_instrumentation":0.0003644819953478873,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440309437021,111361440309437023],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14344520}},{"id":2900741,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14344540,"value":"#<JSON::Ext::Parser:0x00007fc91888f818>"}},{"id":2900742,"event":"return","thread_id":9160,"parent_id":2900741,"elapsed":1.9780010916292667e-05,"elapsed_instrumentation":0.00016691500786691904,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440309437021, 111361440309437023], class=>UnmergeWorker, jid=>99d51ffb45ff6cfe631c1572, created_at=>1699240728.9501088, id=>528ad60bf76942518b48ddf0}","object_id":14344560,"size":7}},{"id":2900743,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880618874043,"value":"111361440309437021","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14344580,"value":"#<UnmergeWorker:0x00007fc91888d5e0>"}},{"id":2900744,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14344580,"value":"#<UnmergeWorker:0x00007fc91888d5e0>"}},{"id":2900745,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900746,"event":"return","thread_id":9160,"parent_id":2900745,"elapsed":0.000557062,"elapsed_instrumentation":8.531200001016259e-05},{"id":2900747,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900748,"event":"return","thread_id":9160,"parent_id":2900747,"elapsed":0.000614003,"elapsed_instrumentation":7.161800749599934e-05},{"id":2900749,"event":"return","thread_id":9160,"parent_id":2900744,"elapsed":0.0037385880132205784,"elapsed_instrumentation":0.00010695896344259381,"return_value":{"class":"Account","value":"#<Account:0x00007fc918426ce0>","object_id":14344600}},{"id":2900750,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14344580,"value":"#<UnmergeWorker:0x00007fc91888d5e0>"}},{"id":2900751,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14344620,"value":"#<Account:0x00007fc918426e20>","kind":"req"},{"name":"into_account","class":"Account","object_id":14344600,"value":"#<Account:0x00007fc918426ce0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900752,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900753,"event":"return","thread_id":9160,"parent_id":2900752,"elapsed":1.061498187482357e-05,"elapsed_instrumentation":0.0003688750439323485,"return_value":{"class":"String","value":"feed:home:111361440309437023","object_id":14344640}},{"id":2900754,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900755,"event":"return","thread_id":9160,"parent_id":2900754,"elapsed":8.684000931680202e-06,"elapsed_instrumentation":0.00014708697563037276,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2900756,"event":"return","thread_id":9160,"parent_id":2900751,"elapsed":0.005229217989835888,"elapsed_instrumentation":0.00020647502969950438},{"id":2900757,"event":"return","thread_id":9160,"parent_id":2900750,"elapsed":0.0054911000188440084,"elapsed_instrumentation":0.00020083197159692645},{"id":2900758,"event":"return","thread_id":9160,"parent_id":2900743,"elapsed":0.009629673964809626,"elapsed_instrumentation":8.08810000307858e-05},{"id":2900759,"event":"return","thread_id":9160,"parent_id":2900730,"elapsed":0.010977108031511307,"elapsed_instrumentation":0.00019753898959606886,"return_value":{"class":"String","value":"99d51ffb45ff6cfe631c1572","object_id":14344320}},{"id":2900760,"event":"return","thread_id":9160,"parent_id":2900675,"elapsed":0.03412437898805365,"elapsed_instrumentation":0.00015873200027272105,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc918429da0>","object_id":14344160}},{"id":2900761,"event":"return","thread_id":9160,"parent_id":2900674,"elapsed":0.03430767200188711,"elapsed_instrumentation":7.6299998909235e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc918429da0>","object_id":14344160}},{"id":2900762,"event":"return","thread_id":9160,"parent_id":2900673,"elapsed":0.0344151429599151,"elapsed_instrumentation":0.00012869801139459014,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc918429da0>","object_id":14344160}},{"id":2900763,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14344660,"value":"relationship:111361440309437022:111361440309437023","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14344680,"value":"#<UnfollowService:0x00007fc8e130d520>"}},{"id":2900764,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14344680,"value":"#<UnfollowService:0x00007fc8e130d520>"}},{"id":2900765,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14344700,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14344720,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900766,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900767,"event":"return","thread_id":9160,"parent_id":2900766,"elapsed":2.960034180432558e-06,"elapsed_instrumentation":7.50949839130044e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2900768,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14344740,"value":"d__\bB_-Fd_a__\u001c_N"}},{"id":2900769,"event":"return","thread_id":9160,"parent_id":2900768,"elapsed":8.140981663018465e-06,"elapsed_instrumentation":0.0001780550228431821,"return_value":{"class":"Array","value":"[1693155848, 17114, 11590, 25768, 25017, 3759966286]","object_id":14344760,"size":6}},{"id":2900770,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900771,"event":"return","thread_id":9160,"parent_id":2900770,"elapsed":0.000568761,"elapsed_instrumentation":0.00016435200814157724},{"id":2900772,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14344780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900773,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900774,"event":"return","thread_id":9160,"parent_id":2900773,"elapsed":0.000608845,"elapsed_instrumentation":9.165395749732852e-05},{"id":2900775,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900776,"event":"return","thread_id":9160,"parent_id":2900775,"elapsed":0.000450739,"elapsed_instrumentation":7.527699926868081e-05},{"id":2900777,"event":"return","thread_id":9160,"parent_id":2900772,"elapsed":0.003332836029585451,"elapsed_instrumentation":0.00019134499598294497,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2900778,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2900779,"event":"return","thread_id":9160,"parent_id":2900778,"elapsed":0.000714777,"elapsed_instrumentation":7.601297693327069e-05},{"id":2900780,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14344780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900781,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2900782,"event":"return","thread_id":9160,"parent_id":2900781,"elapsed":0.000642227,"elapsed_instrumentation":6.959098391234875e-05},{"id":2900783,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900784,"event":"return","thread_id":9160,"parent_id":2900783,"elapsed":0.000530502,"elapsed_instrumentation":7.685000309720635e-05},{"id":2900785,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14344800,"value":"#<Account:0x00007fc918424ee0>"}},{"id":2900786,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14344800,"value":"#<Account:0x00007fc918424ee0>"}},{"id":2900787,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440309437023, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900788,"event":"return","thread_id":9160,"parent_id":2900787,"elapsed":0.000890391,"elapsed_instrumentation":7.151503814384341e-05},{"id":2900789,"event":"return","thread_id":9160,"parent_id":2900786,"elapsed":0.0013752779923379421,"elapsed_instrumentation":8.775701280683279e-05},{"id":2900790,"event":"return","thread_id":9160,"parent_id":2900785,"elapsed":0.0014890999882481992,"elapsed_instrumentation":0.00020809902343899012},{"id":2900791,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900792,"event":"return","thread_id":9160,"parent_id":2900791,"elapsed":0.000661617,"elapsed_instrumentation":7.169402670115232e-05},{"id":2900793,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14344820,"value":"#<Account:0x00007fc9184239a0>"}},{"id":2900794,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14344820,"value":"#<Account:0x00007fc9184239a0>"}},{"id":2900795,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14344840,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14344860,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2900796,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14344880,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14344900,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2900797,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2900798,"event":"return","thread_id":13276700,"parent_id":2900797,"elapsed":5.7819997891783714e-06,"elapsed_instrumentation":7.067696424201131e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2900799,"event":"return","thread_id":13276700,"parent_id":2900796,"elapsed":9.557302109897137e-05,"elapsed_instrumentation":0.00010785000631585717,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2900800,"event":"return","thread_id":13276700,"parent_id":2900795,"elapsed":0.00022408098448067904,"elapsed_instrumentation":0.00035043508978560567,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2900801,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440309437022, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900802,"event":"return","thread_id":9160,"parent_id":2900801,"elapsed":0.000939219,"elapsed_instrumentation":7.273099618032575e-05},{"id":2900803,"event":"return","thread_id":9160,"parent_id":2900794,"elapsed":0.0014412489836104214,"elapsed_instrumentation":8.43810266815126e-05},{"id":2900804,"event":"return","thread_id":9160,"parent_id":2900793,"elapsed":0.00155002495739609,"elapsed_instrumentation":0.0001276290277019143},{"id":2900805,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14344800,"value":"#<Account:0x00007fc918424ee0>"}},{"id":2900806,"event":"return","thread_id":9160,"parent_id":2900805,"elapsed":2.6460038498044014e-05,"elapsed_instrumentation":0.00010050198761746287,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900807,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14344820,"value":"#<Account:0x00007fc9184239a0>"}},{"id":2900808,"event":"return","thread_id":9160,"parent_id":2900807,"elapsed":7.5499992817640305e-06,"elapsed_instrumentation":7.36730289645493e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900809,"event":"return","thread_id":9160,"parent_id":2900780,"elapsed":0.010426512046251446,"elapsed_instrumentation":0.0001687279436737299,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2900810,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900811,"event":"return","thread_id":9160,"parent_id":2900810,"elapsed":0.000296616,"elapsed_instrumentation":6.328802555799484e-05},{"id":2900812,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14344940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900813,"event":"return","thread_id":9160,"parent_id":2900812,"elapsed":3.3609685488045216e-06,"elapsed_instrumentation":0.0001814700081013143,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2900814,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14344940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900815,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14344960,"value":"Cache delete: relationship:111361440309437023:111361440309437022\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900816,"event":"return","thread_id":9160,"parent_id":2900815,"elapsed":0.00045459397369995713,"elapsed_instrumentation":0.00010593101615086198,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900817,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14344980,"value":"Cache delete: relationship:111361440309437022:111361440309437023\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900818,"event":"return","thread_id":9160,"parent_id":2900817,"elapsed":0.0004310379736125469,"elapsed_instrumentation":0.00021240604110062122,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900819,"event":"return","thread_id":9160,"parent_id":2900814,"elapsed":0.0014478020020760596,"elapsed_instrumentation":0.00010766304330900311,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2900820,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14345000,"value":"#<Account:0x00007fc9181b17d0>"}},{"id":2900821,"event":"return","thread_id":9160,"parent_id":2900820,"elapsed":1.2078031431883574e-05,"elapsed_instrumentation":7.41609837859869e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900822,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14345000,"value":"#<Account:0x00007fc9181b17d0>"}},{"id":2900823,"event":"return","thread_id":9160,"parent_id":2900822,"elapsed":3.6060228012502193e-06,"elapsed_instrumentation":5.6980003137141466e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900824,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2900825,"event":"return","thread_id":9160,"parent_id":2900824,"elapsed":3.7829740904271603e-06,"elapsed_instrumentation":5.272100679576397e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900826,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14345020,"value":"{args=>[111361440309437022, 111361440309437023], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14345040,"value":"#<Sidekiq::Client:0x00007fc91895c778>"}},{"id":2900827,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14345060,"value":"r_X~\f_U?_\u0016i_"}},{"id":2900828,"event":"return","thread_id":9160,"parent_id":2900827,"elapsed":4.110974259674549e-06,"elapsed_instrumentation":0.00010604102862998843,"return_value":{"class":"String","value":"72e5587e0ccf553fac166991","object_id":14345080}},{"id":2900829,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14345100,"value":"[111361440309437022, 111361440309437023]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14345120,"value":"#<JSON::Ext::Generator::State:0x00007fc918959ff0>"}},{"id":2900830,"event":"return","thread_id":9160,"parent_id":2900829,"elapsed":5.751964636147022e-06,"elapsed_instrumentation":9.976903675124049e-05,"return_value":{"class":"String","value":"[111361440309437022,111361440309437023]","object_id":14345140}},{"id":2900831,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14345160,"value":"#<JSON::Ext::Parser:0x00007fc918958e20>"}},{"id":2900832,"event":"return","thread_id":9160,"parent_id":2900831,"elapsed":5.256966687738895e-06,"elapsed_instrumentation":7.177598308771849e-05,"return_value":{"class":"Array","value":"[111361440309437022, 111361440309437023]","object_id":14345180,"size":2}},{"id":2900833,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14345200,"value":"__Ws___U\u001b`d"}},{"id":2900834,"event":"return","thread_id":9160,"parent_id":2900833,"elapsed":3.3060205169022083e-06,"elapsed_instrumentation":8.32559890113771e-05,"return_value":{"class":"String","value":"f3c257739fa77ff6551b6064","object_id":14345220}},{"id":2900835,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14345240,"value":"{retry=>true, queue=>pull, args=>[111361440309437022, 111361440309437023], class=>UnmergeWorker, jid=>72e5587e0ccf553fac166991, created_at=>1699240728.9840157, id=>f3c257739fa77ff6551b6064}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14345260,"value":"#<JSON::Ext::Generator::State:0x00007fc918956c38>"}},{"id":2900836,"event":"return","thread_id":9160,"parent_id":2900835,"elapsed":1.3943994417786598e-05,"elapsed_instrumentation":0.0001653130166232586,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440309437022,111361440309437023],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14345280}},{"id":2900837,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14345300,"value":"#<JSON::Ext::Parser:0x00007fc91898ba28>"}},{"id":2900838,"event":"return","thread_id":9160,"parent_id":2900837,"elapsed":1.6698031686246395e-05,"elapsed_instrumentation":0.00024906499311327934,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440309437022, 111361440309437023], class=>UnmergeWorker, jid=>72e5587e0ccf553fac166991, created_at=>1699240728.9840157, id=>f3c257739fa77ff6551b6064}","object_id":14345320,"size":7}},{"id":2900839,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880618874045,"value":"111361440309437022","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14345340,"value":"#<UnmergeWorker:0x00007fc918987b58>"}},{"id":2900840,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14345340,"value":"#<UnmergeWorker:0x00007fc918987b58>"}},{"id":2900841,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900842,"event":"return","thread_id":9160,"parent_id":2900841,"elapsed":0.000446329,"elapsed_instrumentation":6.651401054114103e-05},{"id":2900843,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900844,"event":"return","thread_id":9160,"parent_id":2900843,"elapsed":0.000466438,"elapsed_instrumentation":7.194996578618884e-05},{"id":2900845,"event":"return","thread_id":9160,"parent_id":2900840,"elapsed":0.003155892016366124,"elapsed_instrumentation":0.00013907300308346748,"return_value":{"class":"Account","value":"#<Account:0x00007fc9184221e0>","object_id":14345360}},{"id":2900846,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14345340,"value":"#<UnmergeWorker:0x00007fc918987b58>"}},{"id":2900847,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14345380,"value":"#<Account:0x00007fc918422320>","kind":"req"},{"name":"into_account","class":"Account","object_id":14345360,"value":"#<Account:0x00007fc9184221e0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900848,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900849,"event":"return","thread_id":9160,"parent_id":2900848,"elapsed":5.71901910007e-06,"elapsed_instrumentation":0.00018540496239438653,"return_value":{"class":"String","value":"feed:home:111361440309437023","object_id":14345400}},{"id":2900850,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900851,"event":"return","thread_id":9160,"parent_id":2900850,"elapsed":4.675996024161577e-06,"elapsed_instrumentation":9.190704440698028e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2900852,"event":"return","thread_id":9160,"parent_id":2900847,"elapsed":0.003059713984839618,"elapsed_instrumentation":0.000146319973282516},{"id":2900853,"event":"return","thread_id":9160,"parent_id":2900846,"elapsed":0.0032450539874844253,"elapsed_instrumentation":0.00011563400039449334},{"id":2900854,"event":"return","thread_id":9160,"parent_id":2900839,"elapsed":0.00670928496401757,"elapsed_instrumentation":0.00011085002915933728},{"id":2900855,"event":"return","thread_id":9160,"parent_id":2900826,"elapsed":0.007941443007439375,"elapsed_instrumentation":0.0002461120020598173,"return_value":{"class":"String","value":"72e5587e0ccf553fac166991","object_id":14345080}},{"id":2900856,"event":"return","thread_id":9160,"parent_id":2900765,"elapsed":0.029967918002512306,"elapsed_instrumentation":0.00016752700321376324,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9184258e0>","object_id":14344920}},{"id":2900857,"event":"return","thread_id":9160,"parent_id":2900764,"elapsed":0.030159401008859277,"elapsed_instrumentation":8.292804704979062e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9184258e0>","object_id":14344920}},{"id":2900858,"event":"return","thread_id":9160,"parent_id":2900763,"elapsed":0.030277111975010484,"elapsed_instrumentation":0.000183803029358387,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9184258e0>","object_id":14344920}},{"id":2900859,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14345420,"value":"{args=>[111361440309437023], class=>BootstrapTimelineWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14345440,"value":"#<Sidekiq::Client:0x00007fc9189c5188>"}},{"id":2900860,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14345460,"value":"}_@D_____B__"}},{"id":2900861,"event":"return","thread_id":9160,"parent_id":2900860,"elapsed":4.2199972085654736e-06,"elapsed_instrumentation":0.00010512699373066425,"return_value":{"class":"String","value":"7dcf4044c98decb2d2428fe5","object_id":14345480}},{"id":2900862,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14345500,"value":"[111361440309437023]","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14345520,"value":"#<JSON::Ext::Generator::State:0x00007fc9189c25f0>"}},{"id":2900863,"event":"return","thread_id":9160,"parent_id":2900862,"elapsed":6.113958079367876e-06,"elapsed_instrumentation":0.00010716501856222749,"return_value":{"class":"String","value":"[111361440309437023]","object_id":14345540}},{"id":2900864,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14345560,"value":"#<JSON::Ext::Parser:0x00007fc9189c1650>"}},{"id":2900865,"event":"return","thread_id":9160,"parent_id":2900864,"elapsed":4.670990165323019e-06,"elapsed_instrumentation":7.0615962613374e-05,"return_value":{"class":"Array","value":"[111361440309437023]","object_id":14345580,"size":1}},{"id":2900866,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14345600,"value":"qa\u0005_\u0015_\u0000\"\n_@#"}},{"id":2900867,"event":"return","thread_id":9160,"parent_id":2900866,"elapsed":3.1520030461251736e-06,"elapsed_instrumentation":8.811504812911153e-05,"return_value":{"class":"String","value":"716105a315fa00220aa64023","object_id":14345620}},{"id":2900868,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14345640,"value":"{retry=>true, queue=>default, args=>[111361440309437023], class=>BootstrapTimelineWorker, jid=>7dcf4044c98decb2d2428fe5, created_at=>1699240728.9927719, id=>716105a315fa00220aa64023}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14345660,"value":"#<JSON::Ext::Generator::State:0x00007fc918a0c308>"}},{"id":2900869,"event":"return","thread_id":9160,"parent_id":2900868,"elapsed":1.5515019185841084e-05,"elapsed_instrumentation":0.0001683770096860826,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111361440309437023],\"class\":\"BootstrapTimelineWorker\",\"jid\": (...91 more characters)","object_id":14345680}},{"id":2900870,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14345700,"value":"#<JSON::Ext::Parser:0x00007fc918a08988>"}},{"id":2900871,"event":"return","thread_id":9160,"parent_id":2900870,"elapsed":1.681997673586011e-05,"elapsed_instrumentation":0.00014627905329689384,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111361440309437023], class=>BootstrapTimelineWorker, jid=>7dcf4044c98decb2d2428fe5, created_at=>1699240728.9927719, id=>716105a315fa00220aa64023}","object_id":14345720,"size":7}},{"id":2900872,"event":"call","thread_id":9160,"defined_class":"BootstrapTimelineWorker","method_id":"perform","path":"app/workers/bootstrap_timeline_worker.rb","lineno":6,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"}],"receiver":{"class":"BootstrapTimelineWorker","object_id":14345740,"value":"#<BootstrapTimelineWorker:0x00007fc918a05a80>"}},{"id":2900873,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900874,"event":"return","thread_id":9160,"parent_id":2900873,"elapsed":0.00068416,"elapsed_instrumentation":8.179101860150695e-05},{"id":2900875,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900876,"event":"return","thread_id":9160,"parent_id":2900875,"elapsed":0.000426721,"elapsed_instrumentation":8.282001363113523e-05},{"id":2900877,"event":"call","thread_id":9160,"defined_class":"User","method_id":"those_who_can","path":"app/models/user.rb","lineno":143,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14345760,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":35120,"value":"User"}},{"id":2900878,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"that_can","path":"app/models/user_role.rb","lineno":111,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14345780,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2900879,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\"","database_type":"postgres"}},{"id":2900880,"event":"return","thread_id":9160,"parent_id":2900879,"elapsed":0.000476038,"elapsed_instrumentation":0.0001768159563653171},{"id":2900881,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14345800,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14345820,"value":"#<UserRole:0x00007fc91858f000>"}},{"id":2900882,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14345820,"value":"#<UserRole:0x00007fc91858f000>"}},{"id":2900883,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14345820,"value":"#<UserRole:0x00007fc91858f000>"}},{"id":2900884,"event":"return","thread_id":9160,"parent_id":2900883,"elapsed":1.2684031389653683e-05,"elapsed_instrumentation":6.286700954660773e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900885,"event":"return","thread_id":9160,"parent_id":2900882,"elapsed":9.819900151342154e-05,"elapsed_instrumentation":6.108201341703534e-05,"return_value":{"class":"Integer","value":"65536","object_id":131073}},{"id":2900886,"event":"return","thread_id":9160,"parent_id":2900881,"elapsed":0.00018275401089340448,"elapsed_instrumentation":0.00010188797023147345},{"id":2900887,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14345840,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14345860,"value":"#<UserRole:0x00007fc91858eec0>"}},{"id":2900888,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14345860,"value":"#<UserRole:0x00007fc91858eec0>"}},{"id":2900889,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14345860,"value":"#<UserRole:0x00007fc91858eec0>"}},{"id":2900890,"event":"return","thread_id":9160,"parent_id":2900889,"elapsed":1.2793985661119223e-05,"elapsed_instrumentation":7.21460091881454e-05},{"id":2900891,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14345860,"value":"#<UserRole:0x00007fc91858eec0>"}},{"id":2900892,"event":"return","thread_id":9160,"parent_id":2900891,"elapsed":4.931993316859007e-06,"elapsed_instrumentation":5.0774950068444014e-05},{"id":2900893,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2900894,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900895,"event":"return","thread_id":9160,"parent_id":2900894,"elapsed":0.000369777,"elapsed_instrumentation":7.802702020853758e-05},{"id":2900896,"event":"return","thread_id":9160,"parent_id":2900893,"elapsed":0.001075521984603256,"elapsed_instrumentation":0.00010242004645988345,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fc91858e600>","object_id":14345880}},{"id":2900897,"event":"return","thread_id":9160,"parent_id":2900888,"elapsed":0.0014343049842864275,"elapsed_instrumentation":0.00010869099060073495,"return_value":{"class":"Integer","value":"66844","object_id":133689}},{"id":2900898,"event":"return","thread_id":9160,"parent_id":2900887,"elapsed":0.001642765011638403,"elapsed_instrumentation":0.00011016294592991471,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900899,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14345900,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14345920,"value":"#<UserRole:0x00007fc91858ed80>"}},{"id":2900900,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14345920,"value":"#<UserRole:0x00007fc91858ed80>"}},{"id":2900901,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14345920,"value":"#<UserRole:0x00007fc91858ed80>"}},{"id":2900902,"event":"return","thread_id":9160,"parent_id":2900901,"elapsed":8.565024472773075e-06,"elapsed_instrumentation":4.92759863846004e-05},{"id":2900903,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14345920,"value":"#<UserRole:0x00007fc91858ed80>"}},{"id":2900904,"event":"return","thread_id":9160,"parent_id":2900903,"elapsed":4.39200084656477e-06,"elapsed_instrumentation":4.7739013098180294e-05},{"id":2900905,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2900906,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900907,"event":"return","thread_id":9160,"parent_id":2900906,"elapsed":0.000395412,"elapsed_instrumentation":7.072597509250045e-05},{"id":2900908,"event":"return","thread_id":9160,"parent_id":2900905,"elapsed":0.0009107759688049555,"elapsed_instrumentation":9.266904089599848e-05,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fc91858e100>","object_id":14345940}},{"id":2900909,"event":"return","thread_id":9160,"parent_id":2900900,"elapsed":0.0011703409836627543,"elapsed_instrumentation":6.450002547353506e-05,"return_value":{"class":"Integer","value":"1048572","object_id":2097145}},{"id":2900910,"event":"return","thread_id":9160,"parent_id":2900899,"elapsed":0.001254800008609891,"elapsed_instrumentation":0.00010430201655253768,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900911,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14345960,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14345980,"value":"#<UserRole:0x00007fc91858e9c0>"}},{"id":2900912,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14345980,"value":"#<UserRole:0x00007fc91858e9c0>"}},{"id":2900913,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14345980,"value":"#<UserRole:0x00007fc91858e9c0>"}},{"id":2900914,"event":"return","thread_id":9160,"parent_id":2900913,"elapsed":8.85099871084094e-06,"elapsed_instrumentation":4.8114045057445765e-05},{"id":2900915,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14345980,"value":"#<UserRole:0x00007fc91858e9c0>"}},{"id":2900916,"event":"return","thread_id":9160,"parent_id":2900915,"elapsed":6.1899772845208645e-06,"elapsed_instrumentation":0.0001389139797538519},{"id":2900917,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2900918,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900919,"event":"return","thread_id":9160,"parent_id":2900918,"elapsed":0.000348057,"elapsed_instrumentation":6.480497540906072e-05},{"id":2900920,"event":"return","thread_id":9160,"parent_id":2900917,"elapsed":0.0009332470363005996,"elapsed_instrumentation":0.00010226998711004853,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fc91858de80>","object_id":14346000}},{"id":2900921,"event":"return","thread_id":9160,"parent_id":2900912,"elapsed":0.0013022199855186045,"elapsed_instrumentation":6.157299503684044e-05,"return_value":{"class":"Integer","value":"1048575","object_id":2097151}},{"id":2900922,"event":"return","thread_id":9160,"parent_id":2900911,"elapsed":0.0013844849891029298,"elapsed_instrumentation":9.82109340839088e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900923,"event":"return","thread_id":9160,"parent_id":2900878,"elapsed":0.006246011005714536,"elapsed_instrumentation":0.00012068799696862698,"return_value":{"class":"Array","value":"[#<UserRole:0x00007fc91858eec0>, #<UserRole:0x00007fc91858ed80>, #<UserRole:0x00007fc91858e9c0>]","object_id":14346020,"size":3}},{"id":2900924,"event":"return","thread_id":9160,"parent_id":2900877,"elapsed":0.0065950240241363645,"elapsed_instrumentation":0.0001515419571660459,"return_value":{"class":"ActiveRecord::Relation","value":"#<User::ActiveRecord_Relation:0x00007fc91a0f17d0>","object_id":14346040}},{"id":2900925,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"role_id\" IN ($1, $2, $3) ORDER BY \"users\".\"id\" ASC LIMIT $4","database_type":"postgres"}},{"id":2900926,"event":"return","thread_id":9160,"parent_id":2900925,"elapsed":0.000954101,"elapsed_instrumentation":8.947501191869378e-05},{"id":2900927,"event":"return","thread_id":9160,"parent_id":2900872,"elapsed":0.014147564012091607,"elapsed_instrumentation":0.00016807601787149906},{"id":2900928,"event":"return","thread_id":9160,"parent_id":2900859,"elapsed":0.015433132997713983,"elapsed_instrumentation":0.00017224001931026578,"return_value":{"class":"String","value":"7dcf4044c98decb2d2428fe5","object_id":14345480}},{"id":2900929,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2900930,"event":"return","thread_id":9160,"parent_id":2900929,"elapsed":0.001843329,"elapsed_instrumentation":0.00011131999781355262},{"id":2900931,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14346060,"value":"relationship:111361440309437013:111361440309437023","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14346080,"value":"#<UnfollowService:0x00007fc8e1300230>"}},{"id":2900932,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14346080,"value":"#<UnfollowService:0x00007fc8e1300230>"}},{"id":2900933,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14346100,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14346120,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900934,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900935,"event":"return","thread_id":9160,"parent_id":2900934,"elapsed":2.935994416475296e-06,"elapsed_instrumentation":7.105193799361587e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2900936,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14346140,"value":"q___P_j\u0013\"__z\u00059_\""}},{"id":2900937,"event":"return","thread_id":9160,"parent_id":2900936,"elapsed":6.296962965279818e-06,"elapsed_instrumentation":0.0001290890504606068,"return_value":{"class":"Array","value":"[1905262222, 20693, 27155, 8922, 45690, 87684898]","object_id":14346160,"size":6}},{"id":2900938,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900939,"event":"return","thread_id":9160,"parent_id":2900938,"elapsed":0.000472959,"elapsed_instrumentation":7.38420058041811e-05},{"id":2900940,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14346180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900941,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900942,"event":"return","thread_id":9160,"parent_id":2900941,"elapsed":0.000405036,"elapsed_instrumentation":6.647297414019704e-05},{"id":2900943,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900944,"event":"return","thread_id":9160,"parent_id":2900943,"elapsed":0.000323304,"elapsed_instrumentation":5.790503928437829e-05},{"id":2900945,"event":"return","thread_id":9160,"parent_id":2900940,"elapsed":0.0022031100234016776,"elapsed_instrumentation":0.0001428389805369079,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2900946,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2900947,"event":"return","thread_id":9160,"parent_id":2900946,"elapsed":0.000483174,"elapsed_instrumentation":0.0002081620041280985},{"id":2900948,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14346180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900949,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2900950,"event":"return","thread_id":9160,"parent_id":2900949,"elapsed":0.000593032,"elapsed_instrumentation":6.965798093006015e-05},{"id":2900951,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900952,"event":"return","thread_id":9160,"parent_id":2900951,"elapsed":0.000663818,"elapsed_instrumentation":7.651402847841382e-05},{"id":2900953,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14346200,"value":"#<Account:0x00007fc91858b540>"}},{"id":2900954,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14346200,"value":"#<Account:0x00007fc91858b540>"}},{"id":2900955,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440309437013, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900956,"event":"return","thread_id":9160,"parent_id":2900955,"elapsed":0.000806329,"elapsed_instrumentation":7.292296504601836e-05},{"id":2900957,"event":"return","thread_id":9160,"parent_id":2900954,"elapsed":0.0013164120027795434,"elapsed_instrumentation":8.692604023963213e-05},{"id":2900958,"event":"return","thread_id":9160,"parent_id":2900953,"elapsed":0.001428782008588314,"elapsed_instrumentation":0.0001269179629161954},{"id":2900959,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900960,"event":"return","thread_id":9160,"parent_id":2900959,"elapsed":0.00051139,"elapsed_instrumentation":0.00012357201194390655},{"id":2900961,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14346220,"value":"#<Account:0x00007fc918589ec0>"}},{"id":2900962,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14346220,"value":"#<Account:0x00007fc918589ec0>"}},{"id":2900963,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440309437023, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900964,"event":"return","thread_id":9160,"parent_id":2900963,"elapsed":0.000719271,"elapsed_instrumentation":6.725604180246592e-05},{"id":2900965,"event":"return","thread_id":9160,"parent_id":2900962,"elapsed":0.0011776029714383185,"elapsed_instrumentation":8.705898653715849e-05},{"id":2900966,"event":"return","thread_id":9160,"parent_id":2900961,"elapsed":0.0012873809901066124,"elapsed_instrumentation":0.00020514498464763165},{"id":2900967,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14346200,"value":"#<Account:0x00007fc91858b540>"}},{"id":2900968,"event":"return","thread_id":9160,"parent_id":2900967,"elapsed":1.3877986930310726e-05,"elapsed_instrumentation":9.185203816741705e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900969,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14346220,"value":"#<Account:0x00007fc918589ec0>"}},{"id":2900970,"event":"return","thread_id":9160,"parent_id":2900969,"elapsed":6.768968887627125e-06,"elapsed_instrumentation":6.403500447049737e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900971,"event":"return","thread_id":9160,"parent_id":2900948,"elapsed":0.009286977001465857,"elapsed_instrumentation":0.00014050101162865758,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2900972,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900973,"event":"return","thread_id":9160,"parent_id":2900972,"elapsed":0.000393819,"elapsed_instrumentation":6.756401853635907e-05},{"id":2900974,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14346260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900975,"event":"return","thread_id":9160,"parent_id":2900974,"elapsed":3.5710399970412254e-06,"elapsed_instrumentation":0.00010956096230074763,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2900976,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14346260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900977,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14346280,"value":"Cache delete: relationship:111361440309437013:111361440309437023\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900978,"event":"return","thread_id":9160,"parent_id":2900977,"elapsed":0.0005957690300419927,"elapsed_instrumentation":0.00011191796511411667,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900979,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14346300,"value":"Cache delete: relationship:111361440309437023:111361440309437013\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900980,"event":"return","thread_id":9160,"parent_id":2900979,"elapsed":0.0006060909945517778,"elapsed_instrumentation":0.00012719997903332114,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900981,"event":"return","thread_id":9160,"parent_id":2900976,"elapsed":0.0017003099783323705,"elapsed_instrumentation":0.00010475306771695614,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2900982,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2900983,"event":"return","thread_id":9160,"parent_id":2900982,"elapsed":7.240974809974432e-06,"elapsed_instrumentation":7.987197022885084e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900984,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2900985,"event":"return","thread_id":9160,"parent_id":2900984,"elapsed":3.8619618862867355e-06,"elapsed_instrumentation":5.7137047406286e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900986,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14346320,"value":"#<Account:0x00007fc91858ca80>"}},{"id":2900987,"event":"return","thread_id":9160,"parent_id":2900986,"elapsed":8.548027835786343e-06,"elapsed_instrumentation":5.4725969675928354e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900988,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14346340,"value":"{args=>[111361440309437023, 111361440309437013], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14346360,"value":"#<Sidekiq::Client:0x00007fc918b32700>"}},{"id":2900989,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14346380,"value":"<1WE\u000b___;4__"}},{"id":2900990,"event":"return","thread_id":9160,"parent_id":2900989,"elapsed":3.9869919419288635e-06,"elapsed_instrumentation":0.0001913230516947806,"return_value":{"class":"String","value":"3c3157450b85aff43b34c3f3","object_id":14346400}},{"id":2900991,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14346420,"value":"[111361440309437023, 111361440309437013]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14346440,"value":"#<JSON::Ext::Generator::State:0x00007fc918b6fd80>"}},{"id":2900992,"event":"return","thread_id":9160,"parent_id":2900991,"elapsed":3.970297984778881e-05,"elapsed_instrumentation":0.00014097098028287292,"return_value":{"class":"String","value":"[111361440309437023,111361440309437013]","object_id":14346460}},{"id":2900993,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14346480,"value":"#<JSON::Ext::Parser:0x00007fc918b6e818>"}},{"id":2900994,"event":"return","thread_id":9160,"parent_id":2900993,"elapsed":5.800975486636162e-06,"elapsed_instrumentation":0.0001059730420820415,"return_value":{"class":"Array","value":"[111361440309437023, 111361440309437013]","object_id":14346500,"size":2}},{"id":2900995,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14346520,"value":"__[__e______"}},{"id":2900996,"event":"return","thread_id":9160,"parent_id":2900995,"elapsed":4.017027094960213e-06,"elapsed_instrumentation":0.00010662799468263984,"return_value":{"class":"String","value":"c9aa5b969e65ce819aafcdba","object_id":14346540}},{"id":2900997,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14346560,"value":"{retry=>true, queue=>pull, args=>[111361440309437023, 111361440309437013], class=>UnmergeWorker, jid=>3c3157450b85aff43b34c3f3, created_at=>1699240729.0327523, id=>c9aa5b969e65ce819aafcdba}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14346580,"value":"#<JSON::Ext::Generator::State:0x00007fc918b6bb40>"}},{"id":2900998,"event":"return","thread_id":9160,"parent_id":2900997,"elapsed":1.4918972738087177e-05,"elapsed_instrumentation":0.00021453795488923788,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440309437023,111361440309437013],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14346600}},{"id":2900999,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14346620,"value":"#<JSON::Ext::Parser:0x00007fc918b69368>"}},{"id":2901000,"event":"return","thread_id":9160,"parent_id":2900999,"elapsed":1.9623024854809046e-05,"elapsed_instrumentation":0.00015316496137529612,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440309437023, 111361440309437013], class=>UnmergeWorker, jid=>3c3157450b85aff43b34c3f3, created_at=>1699240729.0327523, id=>c9aa5b969e65ce819aafcdba}","object_id":14346640,"size":7}},{"id":2901001,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880618874027,"value":"111361440309437013","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14346660,"value":"#<UnmergeWorker:0x00007fc918b65920>"}},{"id":2901002,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14346660,"value":"#<UnmergeWorker:0x00007fc918b65920>"}},{"id":2901003,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901004,"event":"return","thread_id":9160,"parent_id":2901003,"elapsed":0.000519244,"elapsed_instrumentation":7.814401760697365e-05},{"id":2901005,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901006,"event":"return","thread_id":9160,"parent_id":2901005,"elapsed":0.000510397,"elapsed_instrumentation":7.469498086720705e-05},{"id":2901007,"event":"return","thread_id":9160,"parent_id":2901002,"elapsed":0.003260714001953602,"elapsed_instrumentation":0.0001062699593603611,"return_value":{"class":"Account","value":"#<Account:0x00007fc918588340>","object_id":14346680}},{"id":2901008,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14346660,"value":"#<UnmergeWorker:0x00007fc918b65920>"}},{"id":2901009,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14346700,"value":"#<Account:0x00007fc918588480>","kind":"req"},{"name":"into_account","class":"Account","object_id":14346680,"value":"#<Account:0x00007fc918588340>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901010,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880618874027,"value":"111361440309437013","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901011,"event":"return","thread_id":9160,"parent_id":2901010,"elapsed":6.383983418345451e-06,"elapsed_instrumentation":0.00022200803505256772,"return_value":{"class":"String","value":"feed:home:111361440309437013","object_id":14346720}},{"id":2901012,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901013,"event":"return","thread_id":9160,"parent_id":2901012,"elapsed":4.970002919435501e-06,"elapsed_instrumentation":7.952802116051316e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2901014,"event":"return","thread_id":9160,"parent_id":2901009,"elapsed":0.0031570339924655855,"elapsed_instrumentation":0.00010444101644679904},{"id":2901015,"event":"return","thread_id":9160,"parent_id":2901008,"elapsed":0.003292759007308632,"elapsed_instrumentation":7.994298357516527e-05},{"id":2901016,"event":"return","thread_id":9160,"parent_id":2901001,"elapsed":0.006783582037314773,"elapsed_instrumentation":9.661598596721888e-05},{"id":2901017,"event":"return","thread_id":9160,"parent_id":2900988,"elapsed":0.008292170998174697,"elapsed_instrumentation":0.0001489270362071693,"return_value":{"class":"String","value":"3c3157450b85aff43b34c3f3","object_id":14346400}},{"id":2901018,"event":"return","thread_id":9160,"parent_id":2900933,"elapsed":0.02688798902090639,"elapsed_instrumentation":0.0001473050215281546,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91858c080>","object_id":14346240}},{"id":2901019,"event":"return","thread_id":9160,"parent_id":2900932,"elapsed":0.027059051964897662,"elapsed_instrumentation":7.884303340688348e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91858c080>","object_id":14346240}},{"id":2901020,"event":"return","thread_id":9160,"parent_id":2900931,"elapsed":0.02716948598390445,"elapsed_instrumentation":0.00017900305101647973,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91858c080>","object_id":14346240}},{"id":2901021,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14346740,"value":"relationship:111361440309437014:111361440309437023","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14346760,"value":"#<UnfollowService:0x00007fc8e1313a88>"}},{"id":2901022,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14346760,"value":"#<UnfollowService:0x00007fc8e1313a88>"}},{"id":2901023,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14346780,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14346800,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2901024,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2901025,"event":"return","thread_id":9160,"parent_id":2901024,"elapsed":2.7370406314730644e-06,"elapsed_instrumentation":7.095391629263759e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2901026,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14346820,"value":"\u0004EZ_k|\u001d_zfvH&_Oe"}},{"id":2901027,"event":"return","thread_id":9160,"parent_id":2901026,"elapsed":7.989001460373402e-06,"elapsed_instrumentation":0.0002283039502799511,"return_value":{"class":"Array","value":"[71654067, 27516, 7632, 31334, 30280, 646270821]","object_id":14346840,"size":6}},{"id":2901028,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2901029,"event":"return","thread_id":9160,"parent_id":2901028,"elapsed":0.000415469,"elapsed_instrumentation":0.00018566101789474487},{"id":2901030,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14346860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2901031,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2901032,"event":"return","thread_id":9160,"parent_id":2901031,"elapsed":0.000399449,"elapsed_instrumentation":7.690698839724064e-05},{"id":2901033,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2901034,"event":"return","thread_id":9160,"parent_id":2901033,"elapsed":0.000278903,"elapsed_instrumentation":6.103800842538476e-05},{"id":2901035,"event":"return","thread_id":9160,"parent_id":2901030,"elapsed":0.0022914940491318703,"elapsed_instrumentation":0.00015191396232694387,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2901036,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2901037,"event":"return","thread_id":9160,"parent_id":2901036,"elapsed":0.000493085,"elapsed_instrumentation":6.72590103931725e-05},{"id":2901038,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14346860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2901039,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2901040,"event":"return","thread_id":9160,"parent_id":2901039,"elapsed":0.000568782,"elapsed_instrumentation":6.319402018561959e-05},{"id":2901041,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901042,"event":"return","thread_id":9160,"parent_id":2901041,"elapsed":0.000434778,"elapsed_instrumentation":6.0647027567029e-05},{"id":2901043,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14346880,"value":"#<Account:0x00007fc9185867c0>"}},{"id":2901044,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14346880,"value":"#<Account:0x00007fc9185867c0>"}},{"id":2901045,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440309437014, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2901046,"event":"return","thread_id":9160,"parent_id":2901045,"elapsed":0.000638353,"elapsed_instrumentation":0.00018855102825909853},{"id":2901047,"event":"return","thread_id":9160,"parent_id":2901044,"elapsed":0.0013620950048789382,"elapsed_instrumentation":8.229294326156378e-05},{"id":2901048,"event":"return","thread_id":9160,"parent_id":2901043,"elapsed":0.0014683630433864892,"elapsed_instrumentation":9.99769545160234e-05},{"id":2901049,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901050,"event":"return","thread_id":9160,"parent_id":2901049,"elapsed":0.000671311,"elapsed_instrumentation":7.383496267721057e-05},{"id":2901051,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14346900,"value":"#<Account:0x00007fc918585780>"}},{"id":2901052,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14346900,"value":"#<Account:0x00007fc918585780>"}},{"id":2901053,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440309437023, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2901054,"event":"return","thread_id":9160,"parent_id":2901053,"elapsed":0.000930318,"elapsed_instrumentation":9.231799049302936e-05},{"id":2901055,"event":"return","thread_id":9160,"parent_id":2901052,"elapsed":0.0015933550312183797,"elapsed_instrumentation":8.904800051823258e-05},{"id":2901056,"event":"return","thread_id":9160,"parent_id":2901051,"elapsed":0.0017080639954656363,"elapsed_instrumentation":0.0001317699789069593},{"id":2901057,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14346880,"value":"#<Account:0x00007fc9185867c0>"}},{"id":2901058,"event":"return","thread_id":9160,"parent_id":2901057,"elapsed":1.563597470521927e-05,"elapsed_instrumentation":9.884004248306155e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901059,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14346900,"value":"#<Account:0x00007fc918585780>"}},{"id":2901060,"event":"return","thread_id":9160,"parent_id":2901059,"elapsed":7.3150149546563625e-06,"elapsed_instrumentation":6.624998059123755e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901061,"event":"return","thread_id":9160,"parent_id":2901038,"elapsed":0.009379768976941705,"elapsed_instrumentation":0.00015078700380399823,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2901062,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2901063,"event":"return","thread_id":9160,"parent_id":2901062,"elapsed":0.000385353,"elapsed_instrumentation":7.268600165843964e-05},{"id":2901064,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14346940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2901065,"event":"return","thread_id":9160,"parent_id":2901064,"elapsed":3.6800047382712364e-06,"elapsed_instrumentation":0.00010207499144598842,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2901066,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14346940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2901067,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14346960,"value":"Cache delete: relationship:111361440309437014:111361440309437023\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2901068,"event":"return","thread_id":9160,"parent_id":2901067,"elapsed":0.0005132820224389434,"elapsed_instrumentation":0.00011353398440405726,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2901069,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14346980,"value":"Cache delete: relationship:111361440309437023:111361440309437014\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2901070,"event":"return","thread_id":9160,"parent_id":2901069,"elapsed":0.0004555450286716223,"elapsed_instrumentation":0.0001339089940302074,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2901071,"event":"return","thread_id":9160,"parent_id":2901066,"elapsed":0.0014899050001986325,"elapsed_instrumentation":0.0001029319828376174,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2901072,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2901073,"event":"return","thread_id":9160,"parent_id":2901072,"elapsed":8.194998372346163e-06,"elapsed_instrumentation":8.403998799622059e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901074,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2901075,"event":"return","thread_id":9160,"parent_id":2901074,"elapsed":3.6999699659645557e-06,"elapsed_instrumentation":5.998898996040225e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901076,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14347000,"value":"#<Account:0x00007fc91858c940>"}},{"id":2901077,"event":"return","thread_id":9160,"parent_id":2901076,"elapsed":1.0324001777917147e-05,"elapsed_instrumentation":5.727203097194433e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901078,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14347020,"value":"{args=>[111361440309437023, 111361440309437014], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14347040,"value":"#<Sidekiq::Client:0x00007fc918c5eb10>"}},{"id":2901079,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14347060,"value":"_M_*__H@1__\b"}},{"id":2901080,"event":"return","thread_id":9160,"parent_id":2901079,"elapsed":4.114001058042049e-06,"elapsed_instrumentation":0.00010837503941729665,"return_value":{"class":"String","value":"c04dd62afddb484031fbd408","object_id":14347080}},{"id":2901081,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14347100,"value":"[111361440309437023, 111361440309437014]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14347120,"value":"#<JSON::Ext::Generator::State:0x00007fc918c5bf78>"}},{"id":2901082,"event":"return","thread_id":9160,"parent_id":2901081,"elapsed":5.698006134480238e-06,"elapsed_instrumentation":9.89820109680295e-05,"return_value":{"class":"String","value":"[111361440309437023,111361440309437014]","object_id":14347140}},{"id":2901083,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14347160,"value":"#<JSON::Ext::Parser:0x00007fc918c5b1e0>"}},{"id":2901084,"event":"return","thread_id":9160,"parent_id":2901083,"elapsed":5.934969522058964e-06,"elapsed_instrumentation":0.00010617799125611782,"return_value":{"class":"Array","value":"[111361440309437023, 111361440309437014]","object_id":14347180,"size":2}},{"id":2901085,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14347200,"value":"___M\u0005_e_____"}},{"id":2901086,"event":"return","thread_id":9160,"parent_id":2901085,"elapsed":3.891007509082556e-06,"elapsed_instrumentation":0.00010209501488134265,"return_value":{"class":"String","value":"f180d04d059f65f6d89b8fec","object_id":14347220}},{"id":2901087,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14347240,"value":"{retry=>true, queue=>pull, args=>[111361440309437023, 111361440309437014], class=>UnmergeWorker, jid=>c04dd62afddb484031fbd408, created_at=>1699240729.0604992, id=>f180d04d059f65f6d89b8fec}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14347260,"value":"#<JSON::Ext::Generator::State:0x00007fc918c596b0>"}},{"id":2901088,"event":"return","thread_id":9160,"parent_id":2901087,"elapsed":1.191598130390048e-05,"elapsed_instrumentation":0.00017987703904509544,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440309437023,111361440309437014],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14347280}},{"id":2901089,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14347300,"value":"#<JSON::Ext::Parser:0x00007fc918c57568>"}},{"id":2901090,"event":"return","thread_id":9160,"parent_id":2901089,"elapsed":1.8545950297266245e-05,"elapsed_instrumentation":0.00015022698789834976,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440309437023, 111361440309437014], class=>UnmergeWorker, jid=>c04dd62afddb484031fbd408, created_at=>1699240729.0604992, id=>f180d04d059f65f6d89b8fec}","object_id":14347320,"size":7}},{"id":2901091,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880618874029,"value":"111361440309437014","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14347340,"value":"#<UnmergeWorker:0x00007fc918c556a0>"}},{"id":2901092,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14347340,"value":"#<UnmergeWorker:0x00007fc918c556a0>"}},{"id":2901093,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901094,"event":"return","thread_id":9160,"parent_id":2901093,"elapsed":0.000485908,"elapsed_instrumentation":7.93060171417892e-05},{"id":2901095,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901096,"event":"return","thread_id":9160,"parent_id":2901095,"elapsed":0.000556389,"elapsed_instrumentation":7.252499926835299e-05},{"id":2901097,"event":"return","thread_id":9160,"parent_id":2901092,"elapsed":0.0033276440226472914,"elapsed_instrumentation":0.00010344799375161529,"return_value":{"class":"Account","value":"#<Account:0x00007fc918583e80>","object_id":14347360}},{"id":2901098,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14347340,"value":"#<UnmergeWorker:0x00007fc918c556a0>"}},{"id":2901099,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14347380,"value":"#<Account:0x00007fc918583fc0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14347360,"value":"#<Account:0x00007fc918583e80>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901100,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880618874029,"value":"111361440309437014","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901101,"event":"return","thread_id":9160,"parent_id":2901100,"elapsed":5.179957952350378e-06,"elapsed_instrumentation":0.00011947902385145426,"return_value":{"class":"String","value":"feed:home:111361440309437014","object_id":14347400}},{"id":2901102,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901103,"event":"return","thread_id":9160,"parent_id":2901102,"elapsed":4.465982783585787e-06,"elapsed_instrumentation":7.398601155728102e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2901104,"event":"return","thread_id":9160,"parent_id":2901099,"elapsed":0.0032346589723601937,"elapsed_instrumentation":0.00011331995483487844},{"id":2901105,"event":"return","thread_id":9160,"parent_id":2901098,"elapsed":0.0033925630268640816,"elapsed_instrumentation":8.279498433694243e-05},{"id":2901106,"event":"return","thread_id":9160,"parent_id":2901091,"elapsed":0.006949709029868245,"elapsed_instrumentation":7.565197302028537e-05},{"id":2901107,"event":"return","thread_id":9160,"parent_id":2901078,"elapsed":0.008226533012930304,"elapsed_instrumentation":0.0001971669844351709,"return_value":{"class":"String","value":"c04dd62afddb484031fbd408","object_id":14347080}},{"id":2901108,"event":"return","thread_id":9160,"parent_id":2901023,"elapsed":0.02729423699202016,"elapsed_instrumentation":0.0002457030350342393,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc918587080>","object_id":14346920}},{"id":2901109,"event":"return","thread_id":9160,"parent_id":2901022,"elapsed":0.02756546001182869,"elapsed_instrumentation":7.555494084954262e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc918587080>","object_id":14346920}},{"id":2901110,"event":"return","thread_id":9160,"parent_id":2901021,"elapsed":0.02767233003396541,"elapsed_instrumentation":0.0001237489632330835,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc918587080>","object_id":14346920}},{"id":2901111,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14347420,"value":"relationship:111361440309437015:111361440309437023","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14347440,"value":"#<UnfollowService:0x00007fc8e1327a38>"}},{"id":2901112,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14347440,"value":"#<UnfollowService:0x00007fc8e1327a38>"}},{"id":2901113,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14347460,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14347480,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2901114,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2901115,"event":"return","thread_id":9160,"parent_id":2901114,"elapsed":2.794025931507349e-06,"elapsed_instrumentation":0.00014158000703901052,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2901116,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14347500,"value":"{x__]\t___k\u0015TG.__"}},{"id":2901117,"event":"return","thread_id":9160,"parent_id":2901116,"elapsed":7.3150149546563625e-06,"elapsed_instrumentation":0.0001418759929947555,"return_value":{"class":"Array","value":"[2071496957, 23817, 39671, 60267, 5460, 1194231005]","object_id":14347520,"size":6}},{"id":2901118,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2901119,"event":"return","thread_id":9160,"parent_id":2901118,"elapsed":0.000481576,"elapsed_instrumentation":9.235000470653176e-05},{"id":2901120,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14347540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2901121,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2901122,"event":"return","thread_id":9160,"parent_id":2901121,"elapsed":0.000469746,"elapsed_instrumentation":8.616095874458551e-05},{"id":2901123,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2901124,"event":"return","thread_id":9160,"parent_id":2901123,"elapsed":0.0003574,"elapsed_instrumentation":6.16610050201416e-05},{"id":2901125,"event":"return","thread_id":9160,"parent_id":2901120,"elapsed":0.002551065990701318,"elapsed_instrumentation":0.00017562898574396968,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2901126,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2901127,"event":"return","thread_id":9160,"parent_id":2901126,"elapsed":0.000453781,"elapsed_instrumentation":6.056902930140495e-05},{"id":2901128,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14347540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2901129,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2901130,"event":"return","thread_id":9160,"parent_id":2901129,"elapsed":0.00071606,"elapsed_instrumentation":0.00013488199329003692},{"id":2901131,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901132,"event":"return","thread_id":9160,"parent_id":2901131,"elapsed":0.000515129,"elapsed_instrumentation":6.53970055282116e-05},{"id":2901133,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14347560,"value":"#<Account:0x00007fc918582940>"}},{"id":2901134,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14347560,"value":"#<Account:0x00007fc918582940>"}},{"id":2901135,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14347580,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14347600,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2901136,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14347620,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14347640,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2901137,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2901138,"event":"return","thread_id":13276700,"parent_id":2901137,"elapsed":5.9140147641301155e-06,"elapsed_instrumentation":7.023999933153391e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2901139,"event":"return","thread_id":13276700,"parent_id":2901136,"elapsed":9.550905087962747e-05,"elapsed_instrumentation":9.717297507449985e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2901140,"event":"return","thread_id":13276700,"parent_id":2901135,"elapsed":0.00021202699281275272,"elapsed_instrumentation":0.00020277895964682102,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2901141,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440309437015, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2901142,"event":"return","thread_id":9160,"parent_id":2901141,"elapsed":0.000730118,"elapsed_instrumentation":7.645704317837954e-05},{"id":2901143,"event":"return","thread_id":9160,"parent_id":2901134,"elapsed":0.0012601939961314201,"elapsed_instrumentation":8.684600470587611e-05},{"id":2901144,"event":"return","thread_id":9160,"parent_id":2901133,"elapsed":0.0013725669705308974,"elapsed_instrumentation":0.0001370589598082006},{"id":2901145,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901146,"event":"return","thread_id":9160,"parent_id":2901145,"elapsed":0.000479798,"elapsed_instrumentation":7.240998093038797e-05},{"id":2901147,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14347660,"value":"#<Account:0x00007fc918581540>"}},{"id":2901148,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14347660,"value":"#<Account:0x00007fc918581540>"}},{"id":2901149,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440309437023, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2901150,"event":"return","thread_id":9160,"parent_id":2901149,"elapsed":0.000657372,"elapsed_instrumentation":6.336596561595798e-05},{"id":2901151,"event":"return","thread_id":9160,"parent_id":2901148,"elapsed":0.0011999940034002066,"elapsed_instrumentation":7.887196261435747e-05},{"id":2901152,"event":"return","thread_id":9160,"parent_id":2901147,"elapsed":0.0013000339968129992,"elapsed_instrumentation":0.00010103202657774091},{"id":2901153,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14347560,"value":"#<Account:0x00007fc918582940>"}},{"id":2901154,"event":"return","thread_id":9160,"parent_id":2901153,"elapsed":1.4649995137006044e-05,"elapsed_instrumentation":8.485297439619899e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901155,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14347660,"value":"#<Account:0x00007fc918581540>"}},{"id":2901156,"event":"return","thread_id":9160,"parent_id":2901155,"elapsed":6.344984285533428e-06,"elapsed_instrumentation":6.173498695716262e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901157,"event":"return","thread_id":9160,"parent_id":2901128,"elapsed":0.009164144983515143,"elapsed_instrumentation":0.00014815304894000292,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2901158,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2901159,"event":"return","thread_id":9160,"parent_id":2901158,"elapsed":0.000353081,"elapsed_instrumentation":6.220897193998098e-05},{"id":2901160,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14347700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2901161,"event":"return","thread_id":9160,"parent_id":2901160,"elapsed":3.4740078262984753e-06,"elapsed_instrumentation":9.853806113824248e-05,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2901162,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14347700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2901163,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14347720,"value":"Cache delete: relationship:111361440309437015:111361440309437023\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2901164,"event":"return","thread_id":9160,"parent_id":2901163,"elapsed":0.0005239900201559067,"elapsed_instrumentation":0.00010074494639411569,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2901165,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14347740,"value":"Cache delete: relationship:111361440309437023:111361440309437015\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2901166,"event":"return","thread_id":9160,"parent_id":2901165,"elapsed":0.00046004803152754903,"elapsed_instrumentation":0.00011365499813109636,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2901167,"event":"return","thread_id":9160,"parent_id":2901162,"elapsed":0.001443235029000789,"elapsed_instrumentation":9.817798854783177e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2901168,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2901169,"event":"return","thread_id":9160,"parent_id":2901168,"elapsed":8.100992999970913e-06,"elapsed_instrumentation":0.00017795205349102616,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901170,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2901171,"event":"return","thread_id":9160,"parent_id":2901170,"elapsed":4.860048647969961e-06,"elapsed_instrumentation":7.712695514783263e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901172,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14347760,"value":"#<Account:0x00007fc91858c800>"}},{"id":2901173,"event":"return","thread_id":9160,"parent_id":2901172,"elapsed":9.534007403999567e-06,"elapsed_instrumentation":5.888199666514993e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901174,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14347780,"value":"{args=>[111361440309437023, 111361440309437015], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14347800,"value":"#<Sidekiq::Client:0x00007fc918d12688>"}},{"id":2901175,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14347820,"value":"_!\u000bp__\u000b}____"}},{"id":2901176,"event":"return","thread_id":9160,"parent_id":2901175,"elapsed":4.0209852159023285e-06,"elapsed_instrumentation":0.00010310602374374866,"return_value":{"class":"String","value":"fd210b70d5c60b7db691c8c8","object_id":14347840}},{"id":2901177,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14347860,"value":"[111361440309437023, 111361440309437015]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14347880,"value":"#<JSON::Ext::Generator::State:0x00007fc918d10428>"}},{"id":2901178,"event":"return","thread_id":9160,"parent_id":2901177,"elapsed":6.662972737103701e-06,"elapsed_instrumentation":0.00014720199396833777,"return_value":{"class":"String","value":"[111361440309437023,111361440309437015]","object_id":14347900}},{"id":2901179,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14347920,"value":"#<JSON::Ext::Parser:0x00007fc918d5f640>"}},{"id":2901180,"event":"return","thread_id":9160,"parent_id":2901179,"elapsed":5.8800214901566505e-06,"elapsed_instrumentation":8.023896953091025e-05,"return_value":{"class":"Array","value":"[111361440309437023, 111361440309437015]","object_id":14347940,"size":2}},{"id":2901181,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14347960,"value":"\u0003____/__\u001f!_Y"}},{"id":2901182,"event":"return","thread_id":9160,"parent_id":2901181,"elapsed":3.997993189841509e-06,"elapsed_instrumentation":0.00016381993191316724,"return_value":{"class":"String","value":"039d89aed32ffe841f21ef59","object_id":14347980}},{"id":2901183,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14348000,"value":"{retry=>true, queue=>pull, args=>[111361440309437023, 111361440309437015], class=>UnmergeWorker, jid=>fd210b70d5c60b7db691c8c8, created_at=>1699240729.0882685, id=>039d89aed32ffe841f21ef59}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14348020,"value":"#<JSON::Ext::Generator::State:0x00007fc918d5d7f0>"}},{"id":2901184,"event":"return","thread_id":9160,"parent_id":2901183,"elapsed":1.3836019206792116e-05,"elapsed_instrumentation":0.00017895904602482915,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440309437023,111361440309437015],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14348040}},{"id":2901185,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14348060,"value":"#<JSON::Ext::Parser:0x00007fc918d5b2e8>"}},{"id":2901186,"event":"return","thread_id":9160,"parent_id":2901185,"elapsed":1.9426981452852488e-05,"elapsed_instrumentation":0.00020163704175502062,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440309437023, 111361440309437015], class=>UnmergeWorker, jid=>fd210b70d5c60b7db691c8c8, created_at=>1699240729.0882685, id=>039d89aed32ffe841f21ef59}","object_id":14348080,"size":7}},{"id":2901187,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880618874031,"value":"111361440309437015","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14348100,"value":"#<UnmergeWorker:0x00007fc918d575f8>"}},{"id":2901188,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14348100,"value":"#<UnmergeWorker:0x00007fc918d575f8>"}},{"id":2901189,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901190,"event":"return","thread_id":9160,"parent_id":2901189,"elapsed":0.000557284,"elapsed_instrumentation":0.00017067196313291788},{"id":2901191,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901192,"event":"return","thread_id":9160,"parent_id":2901191,"elapsed":0.000597072,"elapsed_instrumentation":0.00011096498928964138},{"id":2901193,"event":"return","thread_id":9160,"parent_id":2901188,"elapsed":0.0038331460091285408,"elapsed_instrumentation":0.00012444803724065423,"return_value":{"class":"Account","value":"#<Account:0x00007fc919a7f780>","object_id":14348120}},{"id":2901194,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14348100,"value":"#<UnmergeWorker:0x00007fc918d575f8>"}},{"id":2901195,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14348140,"value":"#<Account:0x00007fc919a7f8c0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14348120,"value":"#<Account:0x00007fc919a7f780>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901196,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880618874031,"value":"111361440309437015","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901197,"event":"return","thread_id":9160,"parent_id":2901196,"elapsed":5.453010089695454e-06,"elapsed_instrumentation":0.00012035900726914406,"return_value":{"class":"String","value":"feed:home:111361440309437015","object_id":14348160}},{"id":2901198,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901199,"event":"return","thread_id":9160,"parent_id":2901198,"elapsed":4.283967427909374e-06,"elapsed_instrumentation":7.3529954534024e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2901200,"event":"return","thread_id":9160,"parent_id":2901195,"elapsed":0.0031597859924659133,"elapsed_instrumentation":0.00010325200855731964},{"id":2901201,"event":"return","thread_id":9160,"parent_id":2901194,"elapsed":0.003334707987960428,"elapsed_instrumentation":0.00010865397052839398},{"id":2901202,"event":"return","thread_id":9160,"parent_id":2901187,"elapsed":0.007470063981600106,"elapsed_instrumentation":8.165696635842323e-05},{"id":2901203,"event":"return","thread_id":9160,"parent_id":2901174,"elapsed":0.00891159096499905,"elapsed_instrumentation":0.000150964071508497,"return_value":{"class":"String","value":"fd210b70d5c60b7db691c8c8","object_id":14347840}},{"id":2901204,"event":"return","thread_id":9160,"parent_id":2901113,"elapsed":0.027848477999214083,"elapsed_instrumentation":0.0001372819533571601,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc918583340>","object_id":14347680}},{"id":2901205,"event":"return","thread_id":9160,"parent_id":2901112,"elapsed":0.028006851964164525,"elapsed_instrumentation":7.623597048223019e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc918583340>","object_id":14347680}},{"id":2901206,"event":"return","thread_id":9160,"parent_id":2901111,"elapsed":0.028114896966144443,"elapsed_instrumentation":0.0001297680428251624,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc918583340>","object_id":14347680}},{"id":2901207,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14348180,"value":"relationship:111361440309437016:111361440309437023","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14348200,"value":"#<UnfollowService:0x00007fc8e133de50>"}},{"id":2901208,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14348200,"value":"#<UnfollowService:0x00007fc8e133de50>"}},{"id":2901209,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14348220,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14348240,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2901210,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2901211,"event":"return","thread_id":9160,"parent_id":2901210,"elapsed":2.6390189304947853e-06,"elapsed_instrumentation":6.432196823880076e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2901212,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14348260,"value":"*\u0014[__b_(__@_ @,P"}},{"id":2901213,"event":"return","thread_id":9160,"parent_id":2901212,"elapsed":6.749993190169334e-06,"elapsed_instrumentation":0.00014151301002129912,"return_value":{"class":"Array","value":"[705977302, 53858, 61736, 49365, 16561, 541076560]","object_id":14348280,"size":6}},{"id":2901214,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2901215,"event":"return","thread_id":9160,"parent_id":2901214,"elapsed":0.000386875,"elapsed_instrumentation":8.164194878190756e-05},{"id":2901216,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14348300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2901217,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2901218,"event":"return","thread_id":9160,"parent_id":2901217,"elapsed":0.000423938,"elapsed_instrumentation":8.297903696075082e-05},{"id":2901219,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2901220,"event":"return","thread_id":9160,"parent_id":2901219,"elapsed":0.000298421,"elapsed_instrumentation":6.803503492847085e-05},{"id":2901221,"event":"return","thread_id":9160,"parent_id":2901216,"elapsed":0.0022408110089600086,"elapsed_instrumentation":0.00017706595826894045,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2901222,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2901223,"event":"return","thread_id":9160,"parent_id":2901222,"elapsed":0.000621838,"elapsed_instrumentation":7.370999082922935e-05},{"id":2901224,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14348300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2901225,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2901226,"event":"return","thread_id":9160,"parent_id":2901225,"elapsed":0.000492776,"elapsed_instrumentation":7.328699575737119e-05},{"id":2901227,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901228,"event":"return","thread_id":9160,"parent_id":2901227,"elapsed":0.00048956,"elapsed_instrumentation":6.78299693390727e-05},{"id":2901229,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14348320,"value":"#<Account:0x00007fc919a7dfc0>"}},{"id":2901230,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14348320,"value":"#<Account:0x00007fc919a7dfc0>"}},{"id":2901231,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440309437016, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2901232,"event":"return","thread_id":9160,"parent_id":2901231,"elapsed":0.000692266,"elapsed_instrumentation":6.6694978158921e-05},{"id":2901233,"event":"return","thread_id":9160,"parent_id":2901230,"elapsed":0.001160003012046218,"elapsed_instrumentation":0.00010400597238913178},{"id":2901234,"event":"return","thread_id":9160,"parent_id":2901229,"elapsed":0.001292878994718194,"elapsed_instrumentation":0.0001948910648934543},{"id":2901235,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901236,"event":"return","thread_id":9160,"parent_id":2901235,"elapsed":0.000427153,"elapsed_instrumentation":6.195402238518e-05},{"id":2901237,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14348340,"value":"#<Account:0x00007fc919a7c940>"}},{"id":2901238,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14348340,"value":"#<Account:0x00007fc919a7c940>"}},{"id":2901239,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440309437023, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2901240,"event":"return","thread_id":9160,"parent_id":2901239,"elapsed":0.000693014,"elapsed_instrumentation":7.005198858678341e-05},{"id":2901241,"event":"return","thread_id":9160,"parent_id":2901238,"elapsed":0.0011427989811636508,"elapsed_instrumentation":8.002604590728879e-05},{"id":2901242,"event":"return","thread_id":9160,"parent_id":2901237,"elapsed":0.00124452100135386,"elapsed_instrumentation":9.833299554884434e-05},{"id":2901243,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14348320,"value":"#<Account:0x00007fc919a7dfc0>"}},{"id":2901244,"event":"return","thread_id":9160,"parent_id":2901243,"elapsed":1.3555050827562809e-05,"elapsed_instrumentation":9.018101263791323e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901245,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14348340,"value":"#<Account:0x00007fc919a7c940>"}},{"id":2901246,"event":"return","thread_id":9160,"parent_id":2901245,"elapsed":6.4820051193237305e-06,"elapsed_instrumentation":6.46259868517518e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901247,"event":"return","thread_id":9160,"parent_id":2901224,"elapsed":0.008478712989017367,"elapsed_instrumentation":0.00016070000128820539,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2901248,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2901249,"event":"return","thread_id":9160,"parent_id":2901248,"elapsed":0.000385135,"elapsed_instrumentation":6.488198414444923e-05},{"id":2901250,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14348380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2901251,"event":"return","thread_id":9160,"parent_id":2901250,"elapsed":3.5949633456766605e-06,"elapsed_instrumentation":0.00010789005318656564,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2901252,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14348380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2901253,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14348400,"value":"Cache delete: relationship:111361440309437016:111361440309437023\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2901254,"event":"return","thread_id":9160,"parent_id":2901253,"elapsed":0.000594894983805716,"elapsed_instrumentation":0.00013930501881986856,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2901255,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14348420,"value":"Cache delete: relationship:111361440309437023:111361440309437016\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2901256,"event":"return","thread_id":9160,"parent_id":2901255,"elapsed":0.0005161479930393398,"elapsed_instrumentation":0.00014171900693327188,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2901257,"event":"return","thread_id":9160,"parent_id":2901252,"elapsed":0.0019222709815949202,"elapsed_instrumentation":0.00010319700231775641,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2901258,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2901259,"event":"return","thread_id":9160,"parent_id":2901258,"elapsed":1.0361953172832727e-05,"elapsed_instrumentation":0.00026191904908046126,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901260,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2901261,"event":"return","thread_id":9160,"parent_id":2901260,"elapsed":4.186003934592009e-06,"elapsed_instrumentation":7.121195085346699e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901262,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14348440,"value":"#<Account:0x00007fc91858c6c0>"}},{"id":2901263,"event":"return","thread_id":9160,"parent_id":2901262,"elapsed":1.1383963283151388e-05,"elapsed_instrumentation":5.734199658036232e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901264,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14348460,"value":"{args=>[111361440309437023, 111361440309437016], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14348480,"value":"#<Sidekiq::Client:0x00007fc918e6f328>"}},{"id":2901265,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14348500,"value":"\tm\r\u0003\u0005u$yCq@'"}},{"id":2901266,"event":"return","thread_id":9160,"parent_id":2901265,"elapsed":4.555040504783392e-06,"elapsed_instrumentation":8.789997082203627e-05,"return_value":{"class":"String","value":"096d0d030575247943714027","object_id":14348520}},{"id":2901267,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14348540,"value":"[111361440309437023, 111361440309437016]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14348560,"value":"#<JSON::Ext::Generator::State:0x00007fc918e6c790>"}},{"id":2901268,"event":"return","thread_id":9160,"parent_id":2901267,"elapsed":6.493006367236376e-06,"elapsed_instrumentation":9.850598871707916e-05,"return_value":{"class":"String","value":"[111361440309437023,111361440309437016]","object_id":14348580}},{"id":2901269,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14348600,"value":"#<JSON::Ext::Parser:0x00007fc918e6b750>"}},{"id":2901270,"event":"return","thread_id":9160,"parent_id":2901269,"elapsed":5.806970875710249e-06,"elapsed_instrumentation":0.0001773859839886427,"return_value":{"class":"Array","value":"[111361440309437023, 111361440309437016]","object_id":14348620,"size":2}},{"id":2901271,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14348640,"value":"_\u0005\u0000__w___\u0012_)"}},{"id":2901272,"event":"return","thread_id":9160,"parent_id":2901271,"elapsed":3.5479897633194923e-06,"elapsed_instrumentation":0.00010265503078699112,"return_value":{"class":"String","value":"c005008ffa77a48fb612b229","object_id":14348660}},{"id":2901273,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14348680,"value":"{retry=>true, queue=>pull, args=>[111361440309437023, 111361440309437016], class=>UnmergeWorker, jid=>096d0d030575247943714027, created_at=>1699240729.1164055, id=>c005008ffa77a48fb612b229}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14348700,"value":"#<JSON::Ext::Generator::State:0x00007fc918e69a90>"}},{"id":2901274,"event":"return","thread_id":9160,"parent_id":2901273,"elapsed":1.6258039977401495e-05,"elapsed_instrumentation":0.00017601798754185438,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440309437023,111361440309437016],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14348720}},{"id":2901275,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14348740,"value":"#<JSON::Ext::Parser:0x00007fc918e67768>"}},{"id":2901276,"event":"return","thread_id":9160,"parent_id":2901275,"elapsed":1.871405402198434e-05,"elapsed_instrumentation":0.00014928804012015462,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440309437023, 111361440309437016], class=>UnmergeWorker, jid=>096d0d030575247943714027, created_at=>1699240729.1164055, id=>c005008ffa77a48fb612b229}","object_id":14348760,"size":7}},{"id":2901277,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880618874033,"value":"111361440309437016","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14348780,"value":"#<UnmergeWorker:0x00007fc918e65800>"}},{"id":2901278,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14348780,"value":"#<UnmergeWorker:0x00007fc918e65800>"}},{"id":2901279,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901280,"event":"return","thread_id":9160,"parent_id":2901279,"elapsed":0.000512239,"elapsed_instrumentation":7.631594780832529e-05},{"id":2901281,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901282,"event":"return","thread_id":9160,"parent_id":2901281,"elapsed":0.000525564,"elapsed_instrumentation":6.317801307886839e-05},{"id":2901283,"event":"return","thread_id":9160,"parent_id":2901278,"elapsed":0.003158794017508626,"elapsed_instrumentation":9.467400377616286e-05,"return_value":{"class":"Account","value":"#<Account:0x00007fc919a7ab40>","object_id":14348800}},{"id":2901284,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14348780,"value":"#<UnmergeWorker:0x00007fc918e65800>"}},{"id":2901285,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14348820,"value":"#<Account:0x00007fc919a7ac80>","kind":"req"},{"name":"into_account","class":"Account","object_id":14348800,"value":"#<Account:0x00007fc919a7ab40>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901286,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880618874033,"value":"111361440309437016","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901287,"event":"return","thread_id":9160,"parent_id":2901286,"elapsed":5.133042577654123e-06,"elapsed_instrumentation":9.569193935021758e-05,"return_value":{"class":"String","value":"feed:home:111361440309437016","object_id":14348840}},{"id":2901288,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901289,"event":"return","thread_id":9160,"parent_id":2901288,"elapsed":4.42104646936059e-06,"elapsed_instrumentation":7.048196857795119e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2901290,"event":"return","thread_id":9160,"parent_id":2901285,"elapsed":0.003958165005315095,"elapsed_instrumentation":0.00010905798990279436},{"id":2901291,"event":"return","thread_id":9160,"parent_id":2901284,"elapsed":0.004104089981410652,"elapsed_instrumentation":8.686399087309837e-05},{"id":2901292,"event":"return","thread_id":9160,"parent_id":2901277,"elapsed":0.007572643982712179,"elapsed_instrumentation":7.507402915507555e-05},{"id":2901293,"event":"return","thread_id":9160,"parent_id":2901264,"elapsed":0.008792382024694234,"elapsed_instrumentation":0.00016553798923268914,"return_value":{"class":"String","value":"096d0d030575247943714027","object_id":14348520}},{"id":2901294,"event":"return","thread_id":9160,"parent_id":2901209,"elapsed":0.027595438004937023,"elapsed_instrumentation":0.00021889701019972563,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a7eb00>","object_id":14348360}},{"id":2901295,"event":"return","thread_id":9160,"parent_id":2901208,"elapsed":0.027839028043672442,"elapsed_instrumentation":8.33580270409584e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a7eb00>","object_id":14348360}},{"id":2901296,"event":"return","thread_id":9160,"parent_id":2901207,"elapsed":0.02795381797477603,"elapsed_instrumentation":0.000137658033054322,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a7eb00>","object_id":14348360}},{"id":2901297,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14348860,"value":"relationship:111361440309437017:111361440309437023","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14348880,"value":"#<UnfollowService:0x00007fc8e1332d20>"}},{"id":2901298,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14348880,"value":"#<UnfollowService:0x00007fc8e1332d20>"}},{"id":2901299,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14348900,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14348920,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2901300,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2901301,"event":"return","thread_id":9160,"parent_id":2901300,"elapsed":2.5810441002249718e-06,"elapsed_instrumentation":6.377394311130047e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2901302,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14348940,"value":"_XD\u0010\u001cN\u000b_\u0001[5__Y'_"}},{"id":2901303,"event":"return","thread_id":9160,"parent_id":2901302,"elapsed":6.1239697970449924e-06,"elapsed_instrumentation":0.0001249570050276816,"return_value":{"class":"Array","value":"[3176678416, 7246, 3052, 347, 13809, 2203658195]","object_id":14348960,"size":6}},{"id":2901304,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2901305,"event":"return","thread_id":9160,"parent_id":2901304,"elapsed":0.000452205,"elapsed_instrumentation":0.0001615770161151886},{"id":2901306,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14348980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2901307,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2901308,"event":"return","thread_id":9160,"parent_id":2901307,"elapsed":0.000412793,"elapsed_instrumentation":6.936199497431517e-05},{"id":2901309,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2901310,"event":"return","thread_id":9160,"parent_id":2901309,"elapsed":0.000325574,"elapsed_instrumentation":6.081402534618974e-05},{"id":2901311,"event":"return","thread_id":9160,"parent_id":2901306,"elapsed":0.0021393289789557457,"elapsed_instrumentation":0.0001483469968661666,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2901312,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2901313,"event":"return","thread_id":9160,"parent_id":2901312,"elapsed":0.000493848,"elapsed_instrumentation":6.244704127311707e-05},{"id":2901314,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14348980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2901315,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2901316,"event":"return","thread_id":9160,"parent_id":2901315,"elapsed":0.00059476,"elapsed_instrumentation":6.606400711461902e-05},{"id":2901317,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901318,"event":"return","thread_id":9160,"parent_id":2901317,"elapsed":0.000521006,"elapsed_instrumentation":9.489600779488683e-05},{"id":2901319,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14349000,"value":"#<Account:0x00007fc919a78fc0>"}},{"id":2901320,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14349000,"value":"#<Account:0x00007fc919a78fc0>"}},{"id":2901321,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440309437017, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2901322,"event":"return","thread_id":9160,"parent_id":2901321,"elapsed":0.000809038,"elapsed_instrumentation":0.00011660397285595536},{"id":2901323,"event":"return","thread_id":9160,"parent_id":2901320,"elapsed":0.0015153780113905668,"elapsed_instrumentation":0.00010098505299538374},{"id":2901324,"event":"return","thread_id":9160,"parent_id":2901319,"elapsed":0.0016484789666719735,"elapsed_instrumentation":0.00023378600599244237},{"id":2901325,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901326,"event":"return","thread_id":9160,"parent_id":2901325,"elapsed":0.000513686,"elapsed_instrumentation":6.896600825712085e-05},{"id":2901327,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14349020,"value":"#<Account:0x00007fc919a77e40>"}},{"id":2901328,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14349020,"value":"#<Account:0x00007fc919a77e40>"}},{"id":2901329,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440309437023, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2901330,"event":"return","thread_id":9160,"parent_id":2901329,"elapsed":0.000674243,"elapsed_instrumentation":6.418698467314243e-05},{"id":2901331,"event":"return","thread_id":9160,"parent_id":2901328,"elapsed":0.001127696014009416,"elapsed_instrumentation":8.319300832226872e-05},{"id":2901332,"event":"return","thread_id":9160,"parent_id":2901327,"elapsed":0.00123413500841707,"elapsed_instrumentation":0.00012196501484140754},{"id":2901333,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14349000,"value":"#<Account:0x00007fc919a78fc0>"}},{"id":2901334,"event":"return","thread_id":9160,"parent_id":2901333,"elapsed":1.481996150687337e-05,"elapsed_instrumentation":8.592003723606467e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901335,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14349020,"value":"#<Account:0x00007fc919a77e40>"}},{"id":2901336,"event":"return","thread_id":9160,"parent_id":2901335,"elapsed":6.4730411395430565e-06,"elapsed_instrumentation":6.33249874226749e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901337,"event":"return","thread_id":9160,"parent_id":2901314,"elapsed":0.009625719976611435,"elapsed_instrumentation":0.00013872497947886586,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2901338,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2901339,"event":"return","thread_id":9160,"parent_id":2901338,"elapsed":0.000422484,"elapsed_instrumentation":6.628700066357851e-05},{"id":2901340,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14349060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2901341,"event":"return","thread_id":9160,"parent_id":2901340,"elapsed":3.2990355975925922e-06,"elapsed_instrumentation":0.00010940595529973507,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2901342,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14349060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2901343,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14349080,"value":"Cache delete: relationship:111361440309437017:111361440309437023\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2901344,"event":"return","thread_id":9160,"parent_id":2901343,"elapsed":0.000683146994560957,"elapsed_instrumentation":0.00011329300468787551,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2901345,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14349100,"value":"Cache delete: relationship:111361440309437023:111361440309437017\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2901346,"event":"return","thread_id":9160,"parent_id":2901345,"elapsed":0.0005478860111907125,"elapsed_instrumentation":0.00013319100253283978,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2901347,"event":"return","thread_id":9160,"parent_id":2901342,"elapsed":0.0017970880144275725,"elapsed_instrumentation":0.0001307849888689816,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2901348,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2901349,"event":"return","thread_id":9160,"parent_id":2901348,"elapsed":7.94598599895835e-06,"elapsed_instrumentation":8.540000999346375e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901350,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2901351,"event":"return","thread_id":9160,"parent_id":2901350,"elapsed":3.6159763112664223e-06,"elapsed_instrumentation":5.7474011555314064e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901352,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14349120,"value":"#<Account:0x00007fc91858c580>"}},{"id":2901353,"event":"return","thread_id":9160,"parent_id":2901352,"elapsed":1.1341995559632778e-05,"elapsed_instrumentation":7.223698776215315e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901354,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14349140,"value":"{args=>[111361440309437023, 111361440309437017], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14349160,"value":"#<Sidekiq::Client:0x00007fc918f3bfb8>"}},{"id":2901355,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14349180,"value":"\"\u001e\b<__|_\u0019~__"}},{"id":2901356,"event":"return","thread_id":9160,"parent_id":2901355,"elapsed":4.125002305954695e-06,"elapsed_instrumentation":0.00011630600783973932,"return_value":{"class":"String","value":"221e083cecb57c9d197ea8d5","object_id":14349200}},{"id":2901357,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14349220,"value":"[111361440309437023, 111361440309437017]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14349240,"value":"#<JSON::Ext::Generator::State:0x00007fc918f39c90>"}},{"id":2901358,"event":"return","thread_id":9160,"parent_id":2901357,"elapsed":6.254005711525679e-06,"elapsed_instrumentation":9.859493002295494e-05,"return_value":{"class":"String","value":"[111361440309437023,111361440309437017]","object_id":14349260}},{"id":2901359,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14349280,"value":"#<JSON::Ext::Parser:0x00007fc918f38f70>"}},{"id":2901360,"event":"return","thread_id":9160,"parent_id":2901359,"elapsed":4.942005034536123e-06,"elapsed_instrumentation":7.063202792778611e-05,"return_value":{"class":"Array","value":"[111361440309437023, 111361440309437017]","object_id":14349300,"size":2}},{"id":2901361,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14349320,"value":"'~r____B`_`_"}},{"id":2901362,"event":"return","thread_id":9160,"parent_id":2901361,"elapsed":2.956017851829529e-06,"elapsed_instrumentation":9.044597391039133e-05,"return_value":{"class":"String","value":"277e729becb6844260a660c8","object_id":14349340}},{"id":2901363,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14349360,"value":"{retry=>true, queue=>pull, args=>[111361440309437023, 111361440309437017], class=>UnmergeWorker, jid=>221e083cecb57c9d197ea8d5, created_at=>1699240729.145013, id=>277e729becb6844260a660c8}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14349380,"value":"#<JSON::Ext::Generator::State:0x00007fc918f375a8>"}},{"id":2901364,"event":"return","thread_id":9160,"parent_id":2901363,"elapsed":1.8969993107020855e-05,"elapsed_instrumentation":0.00040060392348095775,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440309437023,111361440309437017],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14349400}},{"id":2901365,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14349420,"value":"#<JSON::Ext::Parser:0x00007fc918f35370>"}},{"id":2901366,"event":"return","thread_id":9160,"parent_id":2901365,"elapsed":2.0325009245425463e-05,"elapsed_instrumentation":0.00016685802256688476,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440309437023, 111361440309437017], class=>UnmergeWorker, jid=>221e083cecb57c9d197ea8d5, created_at=>1699240729.145013, id=>277e729becb6844260a660c8}","object_id":14349440,"size":7}},{"id":2901367,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880618874035,"value":"111361440309437017","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14349460,"value":"#<UnmergeWorker:0x00007fc918f33340>"}},{"id":2901368,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14349460,"value":"#<UnmergeWorker:0x00007fc918f33340>"}},{"id":2901369,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901370,"event":"return","thread_id":9160,"parent_id":2901369,"elapsed":0.00061971,"elapsed_instrumentation":8.263200288638473e-05},{"id":2901371,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901372,"event":"return","thread_id":9160,"parent_id":2901371,"elapsed":0.000565696,"elapsed_instrumentation":6.990897236391902e-05},{"id":2901373,"event":"return","thread_id":9160,"parent_id":2901368,"elapsed":0.0033988190116360784,"elapsed_instrumentation":0.0001807140070013702,"return_value":{"class":"Account","value":"#<Account:0x00007fc919a75f00>","object_id":14349480}},{"id":2901374,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14349460,"value":"#<UnmergeWorker:0x00007fc918f33340>"}},{"id":2901375,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14349500,"value":"#<Account:0x00007fc919a76040>","kind":"req"},{"name":"into_account","class":"Account","object_id":14349480,"value":"#<Account:0x00007fc919a75f00>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901376,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880618874035,"value":"111361440309437017","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901377,"event":"return","thread_id":9160,"parent_id":2901376,"elapsed":5.533045623451471e-06,"elapsed_instrumentation":9.577895980328321e-05,"return_value":{"class":"String","value":"feed:home:111361440309437017","object_id":14349520}},{"id":2901378,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901379,"event":"return","thread_id":9160,"parent_id":2901378,"elapsed":3.928027581423521e-06,"elapsed_instrumentation":7.005000952631235e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2901380,"event":"return","thread_id":9160,"parent_id":2901375,"elapsed":0.002761762007139623,"elapsed_instrumentation":9.980401955544949e-05},{"id":2901381,"event":"return","thread_id":9160,"parent_id":2901374,"elapsed":0.002891934011131525,"elapsed_instrumentation":8.513499051332474e-05},{"id":2901382,"event":"return","thread_id":9160,"parent_id":2901367,"elapsed":0.006601438974030316,"elapsed_instrumentation":8.162704762071371e-05},{"id":2901383,"event":"return","thread_id":9160,"parent_id":2901354,"elapsed":0.007989516016095877,"elapsed_instrumentation":0.00023819500347599387,"return_value":{"class":"String","value":"221e083cecb57c9d197ea8d5","object_id":14349200}},{"id":2901384,"event":"return","thread_id":9160,"parent_id":2901299,"elapsed":0.027065464993938804,"elapsed_instrumentation":0.00014018896035850048,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a79b00>","object_id":14349040}},{"id":2901385,"event":"return","thread_id":9160,"parent_id":2901298,"elapsed":0.02722818497568369,"elapsed_instrumentation":7.479102350771427e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a79b00>","object_id":14349040}},{"id":2901386,"event":"return","thread_id":9160,"parent_id":2901297,"elapsed":0.0273355069803074,"elapsed_instrumentation":0.0001367330551147461,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a79b00>","object_id":14349040}},{"id":2901387,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14349540,"value":"relationship:111361440309437018:111361440309437023","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14349560,"value":"#<UnfollowService:0x00007fc8e136f0b8>"}},{"id":2901388,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14349560,"value":"#<UnfollowService:0x00007fc8e136f0b8>"}},{"id":2901389,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14349580,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14349600,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2901390,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2901391,"event":"return","thread_id":9160,"parent_id":2901390,"elapsed":3.851018846035004e-06,"elapsed_instrumentation":0.00010021001799032092,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2901392,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14349620,"value":"D_\u0004__\bf__C_D \u0016c_"}},{"id":2901393,"event":"return","thread_id":9160,"parent_id":2901392,"elapsed":6.318965461105108e-06,"elapsed_instrumentation":0.00013700802810490131,"return_value":{"class":"Array","value":"[1155138761, 35592, 26254, 36419, 62532, 538338193]","object_id":14349640,"size":6}},{"id":2901394,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2901395,"event":"return","thread_id":9160,"parent_id":2901394,"elapsed":0.000403938,"elapsed_instrumentation":0.00012563198106363416},{"id":2901396,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14349660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2901397,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2901398,"event":"return","thread_id":9160,"parent_id":2901397,"elapsed":0.00054881,"elapsed_instrumentation":0.00011740095214918256},{"id":2901399,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2901400,"event":"return","thread_id":9160,"parent_id":2901399,"elapsed":0.000366558,"elapsed_instrumentation":7.884198566898704e-05},{"id":2901401,"event":"return","thread_id":9160,"parent_id":2901396,"elapsed":0.0027915069949813187,"elapsed_instrumentation":0.00020876305643469095,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2901402,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2901403,"event":"return","thread_id":9160,"parent_id":2901402,"elapsed":0.000506462,"elapsed_instrumentation":7.602805271744728e-05},{"id":2901404,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14349660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2901405,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2901406,"event":"return","thread_id":9160,"parent_id":2901405,"elapsed":0.000578056,"elapsed_instrumentation":7.300596917048097e-05},{"id":2901407,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901408,"event":"return","thread_id":9160,"parent_id":2901407,"elapsed":0.000476118,"elapsed_instrumentation":7.060501957312226e-05},{"id":2901409,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14349680,"value":"#<Account:0x00007fc919a74100>"}},{"id":2901410,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14349680,"value":"#<Account:0x00007fc919a74100>"}},{"id":2901411,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440309437018, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2901412,"event":"return","thread_id":9160,"parent_id":2901411,"elapsed":0.000710083,"elapsed_instrumentation":7.081701187416911e-05},{"id":2901413,"event":"return","thread_id":9160,"parent_id":2901410,"elapsed":0.0011901080142706633,"elapsed_instrumentation":8.673802949488163e-05},{"id":2901414,"event":"return","thread_id":9160,"parent_id":2901409,"elapsed":0.001302399963606149,"elapsed_instrumentation":0.00017147103790193796},{"id":2901415,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901416,"event":"return","thread_id":9160,"parent_id":2901415,"elapsed":0.00049303,"elapsed_instrumentation":7.148197619244456e-05},{"id":2901417,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14349700,"value":"#<Account:0x00007fc919a72bc0>"}},{"id":2901418,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14349700,"value":"#<Account:0x00007fc919a72bc0>"}},{"id":2901419,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440309437023, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2901420,"event":"return","thread_id":9160,"parent_id":2901419,"elapsed":0.00078951,"elapsed_instrumentation":7.277197437360883e-05},{"id":2901421,"event":"return","thread_id":9160,"parent_id":2901418,"elapsed":0.0013257510145194829,"elapsed_instrumentation":8.351396536454558e-05},{"id":2901422,"event":"return","thread_id":9160,"parent_id":2901417,"elapsed":0.001432769000530243,"elapsed_instrumentation":0.00011873600305989385},{"id":2901423,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14349680,"value":"#<Account:0x00007fc919a74100>"}},{"id":2901424,"event":"return","thread_id":9160,"parent_id":2901423,"elapsed":1.4881021343171597e-05,"elapsed_instrumentation":8.870603051036596e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901425,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14349700,"value":"#<Account:0x00007fc919a72bc0>"}},{"id":2901426,"event":"return","thread_id":9160,"parent_id":2901425,"elapsed":6.173970177769661e-06,"elapsed_instrumentation":6.128102540969849e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901427,"event":"return","thread_id":9160,"parent_id":2901404,"elapsed":0.009221302985679358,"elapsed_instrumentation":0.00016324000898748636,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2901428,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2901429,"event":"return","thread_id":9160,"parent_id":2901428,"elapsed":0.000324116,"elapsed_instrumentation":6.696401396766305e-05},{"id":2901430,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14349740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2901431,"event":"return","thread_id":9160,"parent_id":2901430,"elapsed":3.5510165616869926e-06,"elapsed_instrumentation":0.00011418102076277137,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2901432,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14349740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2901433,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14349760,"value":"Cache delete: relationship:111361440309437018:111361440309437023\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2901434,"event":"return","thread_id":9160,"parent_id":2901433,"elapsed":0.0005233309930190444,"elapsed_instrumentation":0.0001071720034815371,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2901435,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14349780,"value":"Cache delete: relationship:111361440309437023:111361440309437018\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2901436,"event":"return","thread_id":9160,"parent_id":2901435,"elapsed":0.0004342419560998678,"elapsed_instrumentation":0.00011257000733166933,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2901437,"event":"return","thread_id":9160,"parent_id":2901432,"elapsed":0.0014268159866333008,"elapsed_instrumentation":9.852397488430142e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2901438,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2901439,"event":"return","thread_id":9160,"parent_id":2901438,"elapsed":1.0450952686369419e-05,"elapsed_instrumentation":8.61570006236434e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901440,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14342500,"value":"#<Account:0x00007fc9181b2d10>"}},{"id":2901441,"event":"return","thread_id":9160,"parent_id":2901440,"elapsed":4.102999810129404e-06,"elapsed_instrumentation":7.099297363311052e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901442,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14349800,"value":"#<Account:0x00007fc91858c440>"}},{"id":2901443,"event":"return","thread_id":9160,"parent_id":2901442,"elapsed":1.0087969712913036e-05,"elapsed_instrumentation":5.623098695650697e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2901444,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14349820,"value":"{args=>[111361440309437023, 111361440309437018], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14349840,"value":"#<Sidekiq::Client:0x00007fc918ffff08>"}},{"id":2901445,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14349860,"value":"{__\u000e_T__Y_l_"}},{"id":2901446,"event":"return","thread_id":9160,"parent_id":2901445,"elapsed":4.870991688221693e-06,"elapsed_instrumentation":0.00010513607412576675,"return_value":{"class":"String","value":"7b8ca20ec054f89659c26ca4","object_id":14349880}},{"id":2901447,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14349900,"value":"[111361440309437023, 111361440309437018]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14349920,"value":"#<JSON::Ext::Generator::State:0x00007fc918ffde10>"}},{"id":2901448,"event":"return","thread_id":9160,"parent_id":2901447,"elapsed":6.276008207350969e-06,"elapsed_instrumentation":9.760999819263816e-05,"return_value":{"class":"String","value":"[111361440309437023,111361440309437018]","object_id":14349940}},{"id":2901449,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14349960,"value":"#<JSON::Ext::Parser:0x00007fc918ffcf88>"}},{"id":2901450,"event":"return","thread_id":9160,"parent_id":2901449,"elapsed":5.509995389729738e-06,"elapsed_instrumentation":7.08679435774684e-05,"return_value":{"class":"Array","value":"[111361440309437023, 111361440309437018]","object_id":14349980,"size":2}},{"id":2901451,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14350000,"value":"%O___k_~y_O"}},{"id":2901452,"event":"return","thread_id":9160,"parent_id":2901451,"elapsed":3.4180120564997196e-06,"elapsed_instrumentation":8.682202314957976e-05,"return_value":{"class":"String","value":"254fac91d26b7ff87e79e94f","object_id":14350020}},{"id":2901453,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14350040,"value":"{retry=>true, queue=>pull, args=>[111361440309437023, 111361440309437018], class=>UnmergeWorker, jid=>7b8ca20ec054f89659c26ca4, created_at=>1699240729.1732683, id=>254fac91d26b7ff87e79e94f}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14350060,"value":"#<JSON::Ext::Generator::State:0x00007fc918ffb188>"}},{"id":2901454,"event":"return","thread_id":9160,"parent_id":2901453,"elapsed":1.5441037248820066e-05,"elapsed_instrumentation":0.00023768894607201219,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440309437023,111361440309437018],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14350080}},{"id":2901455,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14350100,"value":"#<JSON::Ext::Parser:0x00007fc918ff90e0>"}},{"id":2901456,"event":"return","thread_id":9160,"parent_id":2901455,"elapsed":1.740100560709834e-05,"elapsed_instrumentation":0.00014884595293551683,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440309437023, 111361440309437018], class=>UnmergeWorker, jid=>7b8ca20ec054f89659c26ca4, created_at=>1699240729.1732683, id=>254fac91d26b7ff87e79e94f}","object_id":14350120,"size":7}},{"id":2901457,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880618874047,"value":"111361440309437023","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880618874037,"value":"111361440309437018","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14350140,"value":"#<UnmergeWorker:0x00007fc918ff73f8>"}},{"id":2901458,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14350140,"value":"#<UnmergeWorker:0x00007fc918ff73f8>"}},{"id":2901459,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901460,"event":"return","thread_id":9160,"parent_id":2901459,"elapsed":0.000537128,"elapsed_instrumentation":6.50209840387106e-05},{"id":2901461,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901462,"event":"return","thread_id":9160,"parent_id":2901461,"elapsed":0.00050689,"elapsed_instrumentation":6.235099863260984e-05},{"id":2901463,"event":"return","thread_id":9160,"parent_id":2901458,"elapsed":0.00309298699721694,"elapsed_instrumentation":0.00010096700862050056,"return_value":{"class":"Account","value":"#<Account:0x00007fc919a70a00>","object_id":14350160}},{"id":2901464,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14350140,"value":"#<UnmergeWorker:0x00007fc918ff73f8>"}},{"id":2901465,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14350180,"value":"#<Account:0x00007fc919a70c80>","kind":"req"},{"name":"into_account","class":"Account","object_id":14350160,"value":"#<Account:0x00007fc919a70a00>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901466,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880618874037,"value":"111361440309437018","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901467,"event":"return","thread_id":9160,"parent_id":2901466,"elapsed":5.5919517762959e-06,"elapsed_instrumentation":0.00010764400940388441,"return_value":{"class":"String","value":"feed:home:111361440309437018","object_id":14350200}},{"id":2901468,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2901469,"event":"return","thread_id":9160,"parent_id":2901468,"elapsed":4.645960871130228e-06,"elapsed_instrumentation":7.49670434743166e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2901470,"event":"return","thread_id":9160,"parent_id":2901465,"elapsed":0.002938996010925621,"elapsed_instrumentation":0.00017390900757163763},{"id":2901471,"event":"return","thread_id":9160,"parent_id":2901464,"elapsed":0.0031729440088383853,"elapsed_instrumentation":8.006300777196884e-05},{"id":2901472,"event":"return","thread_id":9160,"parent_id":2901457,"elapsed":0.006490892032161355,"elapsed_instrumentation":8.925300789996982e-05},{"id":2901473,"event":"return","thread_id":9160,"parent_id":2901444,"elapsed":0.0076615369762293994,"elapsed_instrumentation":0.00014856696361675858,"return_value":{"class":"String","value":"7b8ca20ec054f89659c26ca4","object_id":14349880}},{"id":2901474,"event":"return","thread_id":9160,"parent_id":2901389,"elapsed":0.02744522097054869,"elapsed_instrumentation":0.00032162602292373776,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a75280>","object_id":14349720}},{"id":2901475,"event":"return","thread_id":9160,"parent_id":2901388,"elapsed":0.02779337397078052,"elapsed_instrumentation":7.308402564376593e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a75280>","object_id":14349720}},{"id":2901476,"event":"return","thread_id":9160,"parent_id":2901387,"elapsed":0.0278964449535124,"elapsed_instrumentation":0.00011585507309064269,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a75280>","object_id":14349720}},{"id":2901477,"event":"return","thread_id":9160,"parent_id":2900474,"elapsed":0.33424514898797497,"elapsed_instrumentation":0.0002548139891587198,"return_value":{"class":"IO","value":"#<IO:0x00007fc94b108f80>","object_id":195040}},{"id":2901478,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14350220,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14350240,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2901479,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14350260,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14350280,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2901480,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2901481,"event":"return","thread_id":13276700,"parent_id":2901480,"elapsed":5.8480072766542435e-06,"elapsed_instrumentation":6.770604522898793e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2901482,"event":"return","thread_id":13276700,"parent_id":2901479,"elapsed":9.154999861493707e-05,"elapsed_instrumentation":9.658792987465858e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2901483,"event":"return","thread_id":13276700,"parent_id":2901478,"elapsed":0.0002070469781756401,"elapsed_instrumentation":0.000153913046233356,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2901484,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901485,"event":"return","thread_id":9160,"parent_id":2901484,"elapsed":0.000661916,"elapsed_instrumentation":7.498101331293583e-05},{"id":2901486,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"account_id\" WHERE \"follows\".\"target_account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2901487,"event":"return","thread_id":9160,"parent_id":2901486,"elapsed":0.000809759,"elapsed_instrumentation":7.654796354472637e-05}]}