{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --follows and --followers options resets all \"followers\" relationships from the target account","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"User","type":"class","children":[{"name":"those_who_can","type":"function","location":"app/models/user.rb:143","static":true}]},{"name":"UserRole","type":"class","children":[{"name":"that_can","type":"function","location":"app/models/user_role.rb:111","static":true},{"name":"can?","type":"function","location":"app/models/user_role.rb:131","static":false},{"name":"computed_permissions","type":"function","location":"app/models/user_role.rb:139","static":false},{"name":"everyone?","type":"function","location":"app/models/user_role.rb:115","static":false},{"name":"nobody?","type":"function","location":"app/models/user_role.rb:119","static":false},{"name":"everyone","type":"function","location":"app/models/user_role.rb:105","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]},{"name":"BootstrapTimelineWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/bootstrap_timeline_worker.rb:6","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":1490663,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":8111800,"value":"florentino3188","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8111820,"value":"#<Mastodon::CLI::Accounts:0x00007fdc0914d998>"}},{"id":1490664,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":8111840,"value":"#<AccountFinderConcern::AccountFinder:0x00007fdc0a0c6bb8>"}},{"id":1490665,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'florentino3188' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":1490666,"event":"return","thread_id":9160,"parent_id":1490665,"elapsed":0.001126703,"elapsed_instrumentation":0.00011309300316497684},{"id":1490667,"event":"return","thread_id":9160,"parent_id":1490664,"elapsed":0.005715677019907162,"elapsed_instrumentation":0.00020704796770587564,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0727a2a0>","object_id":8111860}},{"id":1490668,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1)","database_type":"postgres"}},{"id":1490669,"event":"return","thread_id":9160,"parent_id":1490668,"elapsed":0.001857985,"elapsed_instrumentation":0.00011912998161278665},{"id":1490670,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1)","database_type":"postgres"}},{"id":1490671,"event":"return","thread_id":9160,"parent_id":1490670,"elapsed":0.001390141,"elapsed_instrumentation":0.00010548898717388511},{"id":1490672,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8111820,"value":"#<Mastodon::CLI::Accounts:0x00007fdc0914d998>"}},{"id":1490673,"event":"return","thread_id":9160,"parent_id":1490672,"elapsed":0.0001215189986396581,"elapsed_instrumentation":0.000254271988524124,"return_value":{"class":"ProgressBar::Base","value":"","object_id":8111880}},{"id":1490674,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1490675,"event":"return","thread_id":9160,"parent_id":1490674,"elapsed":0.002169767,"elapsed_instrumentation":0.00011028899461962283},{"id":1490676,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8111900,"value":"relationship:111360521959113261:111360521959113265","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8111920,"value":"#<UnfollowService:0x00007fdc0914a018>"}},{"id":1490677,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8111920,"value":"#<UnfollowService:0x00007fdc0914a018>"}},{"id":1490678,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8111940,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8111960,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490679,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490680,"event":"return","thread_id":9160,"parent_id":1490679,"elapsed":4.653003998100758e-06,"elapsed_instrumentation":0.00027001500711776316,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1490681,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8111980,"value":"I0__A_____1_/_5_"}},{"id":1490682,"event":"return","thread_id":9160,"parent_id":1490681,"elapsed":1.0504998499527574e-05,"elapsed_instrumentation":0.0003628009872045368,"return_value":{"class":"Array","value":"[1227932832, 16881, 43246, 49552, 12779, 798766469]","object_id":8112000,"size":6}},{"id":1490683,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490684,"event":"return","thread_id":9160,"parent_id":1490683,"elapsed":0.000636657,"elapsed_instrumentation":0.00037700001848861575},{"id":1490685,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8112020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490686,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490687,"event":"return","thread_id":9160,"parent_id":1490686,"elapsed":0.000705592,"elapsed_instrumentation":9.038401185534894e-05},{"id":1490688,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490689,"event":"return","thread_id":9160,"parent_id":1490688,"elapsed":0.000525185,"elapsed_instrumentation":7.295000250451267e-05},{"id":1490690,"event":"return","thread_id":9160,"parent_id":1490685,"elapsed":0.003424695023568347,"elapsed_instrumentation":0.00026680296286940575,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1490691,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1490692,"event":"return","thread_id":9160,"parent_id":1490691,"elapsed":0.00097174,"elapsed_instrumentation":9.621100616641343e-05},{"id":1490693,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8112020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490694,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1490695,"event":"return","thread_id":9160,"parent_id":1490694,"elapsed":0.000780092,"elapsed_instrumentation":7.268300396390259e-05},{"id":1490696,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490697,"event":"return","thread_id":9160,"parent_id":1490696,"elapsed":0.000818941,"elapsed_instrumentation":0.00011898402590304613},{"id":1490698,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8112040,"value":"#<Account:0x00007fdc072775a0>"}},{"id":1490699,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8112040,"value":"#<Account:0x00007fdc072775a0>"}},{"id":1490700,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521959113265, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490701,"event":"return","thread_id":9160,"parent_id":1490700,"elapsed":0.001253738,"elapsed_instrumentation":0.00011839601211249828},{"id":1490702,"event":"return","thread_id":9160,"parent_id":1490699,"elapsed":0.0025530440034344792,"elapsed_instrumentation":0.00017983000725507736},{"id":1490703,"event":"return","thread_id":9160,"parent_id":1490698,"elapsed":0.002777521003736183,"elapsed_instrumentation":0.00019080800120718777},{"id":1490704,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490705,"event":"return","thread_id":9160,"parent_id":1490704,"elapsed":0.000989948,"elapsed_instrumentation":8.769499254412949e-05},{"id":1490706,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8112060,"value":"#<Account:0x00007fdc07276560>"}},{"id":1490707,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8112060,"value":"#<Account:0x00007fdc07276560>"}},{"id":1490708,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521959113261, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490709,"event":"return","thread_id":9160,"parent_id":1490708,"elapsed":0.001160724,"elapsed_instrumentation":0.00012798799434676766},{"id":1490710,"event":"return","thread_id":9160,"parent_id":1490707,"elapsed":0.0019144440011586994,"elapsed_instrumentation":0.00034328800393268466},{"id":1490711,"event":"return","thread_id":9160,"parent_id":1490706,"elapsed":0.002292943012434989,"elapsed_instrumentation":0.00019608598086051643},{"id":1490712,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8112040,"value":"#<Account:0x00007fdc072775a0>"}},{"id":1490713,"event":"return","thread_id":9160,"parent_id":1490712,"elapsed":1.8997001461684704e-05,"elapsed_instrumentation":0.00011722298222593963,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490714,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8112060,"value":"#<Account:0x00007fdc07276560>"}},{"id":1490715,"event":"return","thread_id":9160,"parent_id":1490714,"elapsed":7.92299397289753e-06,"elapsed_instrumentation":7.764098700135946e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490716,"event":"return","thread_id":9160,"parent_id":1490693,"elapsed":0.014758652017917484,"elapsed_instrumentation":0.0001860109914559871,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1490717,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490718,"event":"return","thread_id":9160,"parent_id":1490717,"elapsed":0.000717051,"elapsed_instrumentation":0.00010205301805399358},{"id":1490719,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8112100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490720,"event":"return","thread_id":9160,"parent_id":1490719,"elapsed":3.1240051612257957e-06,"elapsed_instrumentation":0.00012174301082268357,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1490721,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8112100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490722,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8112120,"value":"Cache delete: relationship:111360521959113265:111360521959113261\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490723,"event":"return","thread_id":9160,"parent_id":1490722,"elapsed":0.001275843009352684,"elapsed_instrumentation":0.00015760899987071753,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490724,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8112140,"value":"Cache delete: relationship:111360521959113261:111360521959113265\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490725,"event":"return","thread_id":9160,"parent_id":1490724,"elapsed":0.0014036939828656614,"elapsed_instrumentation":0.0002696859883144498,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490726,"event":"return","thread_id":9160,"parent_id":1490721,"elapsed":0.003474258992355317,"elapsed_instrumentation":0.00030158000299707055,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1490727,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8112160,"value":"#<Account:0x00007fdc07278c20>"}},{"id":1490728,"event":"return","thread_id":9160,"parent_id":1490727,"elapsed":1.3630022294819355e-05,"elapsed_instrumentation":0.00010464098886586726,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490729,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8112160,"value":"#<Account:0x00007fdc07278c20>"}},{"id":1490730,"event":"return","thread_id":9160,"parent_id":1490729,"elapsed":4.323985194787383e-06,"elapsed_instrumentation":6.543597555719316e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490731,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1490732,"event":"return","thread_id":9160,"parent_id":1490731,"elapsed":1.3540993677452207e-05,"elapsed_instrumentation":0.00035388499964028597,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490733,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8112180,"value":"{args=>[111360521959113261, 111360521959113265], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8112200,"value":"#<Sidekiq::Client:0x00007fdc0a2e1c90>"}},{"id":1490734,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8112220,"value":"\u000e\u0015_3t_\u0016____\u0017"}},{"id":1490735,"event":"return","thread_id":9160,"parent_id":1490734,"elapsed":5.609996151179075e-06,"elapsed_instrumentation":0.00011891601025126874,"return_value":{"class":"String","value":"0e15983374c316ccf1c98c17","object_id":8112240}},{"id":1490736,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8112260,"value":"[111360521959113261, 111360521959113265]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8112280,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a3d9198>"}},{"id":1490737,"event":"return","thread_id":9160,"parent_id":1490736,"elapsed":2.338699414394796e-05,"elapsed_instrumentation":0.0004621570114977658,"return_value":{"class":"String","value":"[111360521959113261,111360521959113265]","object_id":8112300}},{"id":1490738,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8112320,"value":"#<JSON::Ext::Parser:0x00007fdc0a3d37c0>"}},{"id":1490739,"event":"return","thread_id":9160,"parent_id":1490738,"elapsed":9.290000889450312e-06,"elapsed_instrumentation":0.00015085199265740812,"return_value":{"class":"Array","value":"[111360521959113261, 111360521959113265]","object_id":8112340,"size":2}},{"id":1490740,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8112360,"value":"H__\"_3\u0011o\u0003!"}},{"id":1490741,"event":"return","thread_id":9160,"parent_id":1490740,"elapsed":5.212990799918771e-06,"elapsed_instrumentation":0.0002229530073236674,"return_value":{"class":"String","value":"487f81ac2293337f116f0321","object_id":8112380}},{"id":1490742,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8112400,"value":"{retry=>true, queue=>pull, args=>[111360521959113261, 111360521959113265], class=>UnmergeWorker, jid=>0e15983374c316ccf1c98c17, created_at=>1699226715.9227564, id=>487f81ac2293337f116f0321}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8112420,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a48fc68>"}},{"id":1490743,"event":"return","thread_id":9160,"parent_id":1490742,"elapsed":2.709697582758963e-05,"elapsed_instrumentation":0.0004205209843348712,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521959113261,111360521959113265],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8112440}},{"id":1490744,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8112460,"value":"#<JSON::Ext::Parser:0x00007fdc0a58f6b8>"}},{"id":1490745,"event":"return","thread_id":9160,"parent_id":1490744,"elapsed":2.4648994440212846e-05,"elapsed_instrumentation":0.0003297919756732881,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521959113261, 111360521959113265], class=>UnmergeWorker, jid=>0e15983374c316ccf1c98c17, created_at=>1699226715.9227564, id=>487f81ac2293337f116f0321}","object_id":8112480,"size":7}},{"id":1490746,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043918226523,"value":"111360521959113261","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8112500,"value":"#<UnmergeWorker:0x00007fdc0a587f08>"}},{"id":1490747,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8112500,"value":"#<UnmergeWorker:0x00007fdc0a587f08>"}},{"id":1490748,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490749,"event":"return","thread_id":9160,"parent_id":1490748,"elapsed":0.001168894,"elapsed_instrumentation":0.00010459500481374562},{"id":1490750,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490751,"event":"return","thread_id":9160,"parent_id":1490750,"elapsed":0.000855706,"elapsed_instrumentation":9.269299334846437e-05},{"id":1490752,"event":"return","thread_id":9160,"parent_id":1490747,"elapsed":0.005309110012603924,"elapsed_instrumentation":0.0004665360029321164,"return_value":{"class":"Account","value":"#<Account:0x00007fdc07274260>","object_id":8112520}},{"id":1490753,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8112500,"value":"#<UnmergeWorker:0x00007fdc0a587f08>"}},{"id":1490754,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8112540,"value":"#<Account:0x00007fdc072744e0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8112520,"value":"#<Account:0x00007fdc07274260>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490755,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490756,"event":"return","thread_id":9160,"parent_id":1490755,"elapsed":5.462003173306584e-06,"elapsed_instrumentation":0.00010971300071105361,"return_value":{"class":"String","value":"feed:home:111360521959113265","object_id":8112560}},{"id":1490757,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490758,"event":"return","thread_id":9160,"parent_id":1490757,"elapsed":5.478999810293317e-06,"elapsed_instrumentation":7.725600153207779e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1490759,"event":"return","thread_id":9160,"parent_id":1490754,"elapsed":0.004448827006854117,"elapsed_instrumentation":0.0002567499759607017},{"id":1490760,"event":"return","thread_id":9160,"parent_id":1490753,"elapsed":0.004746279999380931,"elapsed_instrumentation":0.00011188999633304775},{"id":1490761,"event":"return","thread_id":9160,"parent_id":1490746,"elapsed":0.010797725000884384,"elapsed_instrumentation":0.00018466601613909006},{"id":1490762,"event":"return","thread_id":9160,"parent_id":1490733,"elapsed":0.013644515012856573,"elapsed_instrumentation":0.00020721499458886683,"return_value":{"class":"String","value":"0e15983374c316ccf1c98c17","object_id":8112240}},{"id":1490763,"event":"return","thread_id":9160,"parent_id":1490678,"elapsed":0.04545571599737741,"elapsed_instrumentation":0.0006409359921235591,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc072785e0>","object_id":8112080}},{"id":1490764,"event":"return","thread_id":9160,"parent_id":1490677,"elapsed":0.04614238001522608,"elapsed_instrumentation":0.00015554498531855643,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc072785e0>","object_id":8112080}},{"id":1490765,"event":"return","thread_id":9160,"parent_id":1490676,"elapsed":0.04636447600205429,"elapsed_instrumentation":0.00032339198514819145,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc072785e0>","object_id":8112080}},{"id":1490766,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8112580,"value":"relationship:111360521959113262:111360521959113265","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8112600,"value":"#<UnfollowService:0x00007fdc09141af8>"}},{"id":1490767,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8112600,"value":"#<UnfollowService:0x00007fdc09141af8>"}},{"id":1490768,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8112620,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8112640,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490769,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490770,"event":"return","thread_id":9160,"parent_id":1490769,"elapsed":7.193011697381735e-06,"elapsed_instrumentation":0.0004708999767899513,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1490771,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8112660,"value":"__\u001c\u0001/__:>_\\_v\n]_"}},{"id":1490772,"event":"return","thread_id":9160,"parent_id":1490771,"elapsed":7.244001608341932e-06,"elapsed_instrumentation":0.00020106497686356306,"return_value":{"class":"Array","value":"[2415139841, 12227, 49722, 16068, 23715, 1980390862]","object_id":8112680,"size":6}},{"id":1490773,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490774,"event":"return","thread_id":9160,"parent_id":1490773,"elapsed":0.000988257,"elapsed_instrumentation":0.00018780800746753812},{"id":1490775,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8112700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490776,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490777,"event":"return","thread_id":9160,"parent_id":1490776,"elapsed":0.000751349,"elapsed_instrumentation":0.00010479099000804126},{"id":1490778,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490779,"event":"return","thread_id":9160,"parent_id":1490778,"elapsed":0.000492131,"elapsed_instrumentation":7.925499812699854e-05},{"id":1490780,"event":"return","thread_id":9160,"parent_id":1490775,"elapsed":0.003710205026436597,"elapsed_instrumentation":0.00047601500409655273,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1490781,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1490782,"event":"return","thread_id":9160,"parent_id":1490781,"elapsed":0.000872935,"elapsed_instrumentation":7.744799950160086e-05},{"id":1490783,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8112700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490784,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1490785,"event":"return","thread_id":9160,"parent_id":1490784,"elapsed":0.000974278,"elapsed_instrumentation":8.288101525977254e-05},{"id":1490786,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490787,"event":"return","thread_id":9160,"parent_id":1490786,"elapsed":0.000665355,"elapsed_instrumentation":0.0002462090051267296},{"id":1490788,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8112720,"value":"#<Account:0x00007fdc072735e0>"}},{"id":1490789,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8112720,"value":"#<Account:0x00007fdc072735e0>"}},{"id":1490790,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521959113265, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490791,"event":"return","thread_id":9160,"parent_id":1490790,"elapsed":0.001388634,"elapsed_instrumentation":0.00010451997513882816},{"id":1490792,"event":"return","thread_id":9160,"parent_id":1490789,"elapsed":0.0020613880187738687,"elapsed_instrumentation":0.00010645599104464054},{"id":1490793,"event":"return","thread_id":9160,"parent_id":1490788,"elapsed":0.0021984280028846115,"elapsed_instrumentation":0.00015080100274644792},{"id":1490794,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490795,"event":"return","thread_id":9160,"parent_id":1490794,"elapsed":0.001094397,"elapsed_instrumentation":0.0001614159846212715},{"id":1490796,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8112740,"value":"#<Account:0x00007fdc072725a0>"}},{"id":1490797,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8112740,"value":"#<Account:0x00007fdc072725a0>"}},{"id":1490798,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521959113262, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490799,"event":"return","thread_id":9160,"parent_id":1490798,"elapsed":0.001137608,"elapsed_instrumentation":9.3224982265383e-05},{"id":1490800,"event":"return","thread_id":9160,"parent_id":1490797,"elapsed":0.0020423630194272846,"elapsed_instrumentation":0.00010237499373033643},{"id":1490801,"event":"return","thread_id":9160,"parent_id":1490796,"elapsed":0.00217390398029238,"elapsed_instrumentation":0.0001730619987938553},{"id":1490802,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8112720,"value":"#<Account:0x00007fdc072735e0>"}},{"id":1490803,"event":"return","thread_id":9160,"parent_id":1490802,"elapsed":1.719998545013368e-05,"elapsed_instrumentation":0.0002077429962810129,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490804,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8112740,"value":"#<Account:0x00007fdc072725a0>"}},{"id":1490805,"event":"return","thread_id":9160,"parent_id":1490804,"elapsed":7.750000804662704e-06,"elapsed_instrumentation":7.6744967373088e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490806,"event":"return","thread_id":9160,"parent_id":1490783,"elapsed":0.01565310900332406,"elapsed_instrumentation":0.0001868339895736426,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1490807,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490808,"event":"return","thread_id":9160,"parent_id":1490807,"elapsed":0.000744283,"elapsed_instrumentation":0.00014770799316465855},{"id":1490809,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8112780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490810,"event":"return","thread_id":9160,"parent_id":1490809,"elapsed":3.6520068533718586e-06,"elapsed_instrumentation":0.000126630999147892,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1490811,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8112780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490812,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8112800,"value":"Cache delete: relationship:111360521959113265:111360521959113262\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490813,"event":"return","thread_id":9160,"parent_id":1490812,"elapsed":0.0016788860084488988,"elapsed_instrumentation":0.0001422919740434736,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490814,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8112820,"value":"Cache delete: relationship:111360521959113262:111360521959113265\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490815,"event":"return","thread_id":9160,"parent_id":1490814,"elapsed":0.0016277979884762317,"elapsed_instrumentation":0.00033626999356783926,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490816,"event":"return","thread_id":9160,"parent_id":1490811,"elapsed":0.004172952991211787,"elapsed_instrumentation":0.00012552700354717672,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1490817,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8112840,"value":"#<Account:0x00007fdc07278ae0>"}},{"id":1490818,"event":"return","thread_id":9160,"parent_id":1490817,"elapsed":1.6799982404336333e-05,"elapsed_instrumentation":0.00012943698675371706,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490819,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8112840,"value":"#<Account:0x00007fdc07278ae0>"}},{"id":1490820,"event":"return","thread_id":9160,"parent_id":1490819,"elapsed":4.4209882616996765e-06,"elapsed_instrumentation":6.82600075379014e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490821,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1490822,"event":"return","thread_id":9160,"parent_id":1490821,"elapsed":5.02000330016017e-06,"elapsed_instrumentation":6.166199455037713e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490823,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8112860,"value":"{args=>[111360521959113262, 111360521959113265], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8112880,"value":"#<Sidekiq::Client:0x00007fdc0b1bfd70>"}},{"id":1490824,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8112900,"value":"~Y_,3______p"}},{"id":1490825,"event":"return","thread_id":9160,"parent_id":1490824,"elapsed":5.0209928303956985e-06,"elapsed_instrumentation":0.00011625603656284511,"return_value":{"class":"String","value":"7e59ea2c3396d1fdae9fe170","object_id":8112920}},{"id":1490826,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8112940,"value":"[111360521959113262, 111360521959113265]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8112960,"value":"#<JSON::Ext::Generator::State:0x00007fdc0b1b3480>"}},{"id":1490827,"event":"return","thread_id":9160,"parent_id":1490826,"elapsed":8.735019946470857e-06,"elapsed_instrumentation":0.00013945397222414613,"return_value":{"class":"String","value":"[111360521959113262,111360521959113265]","object_id":8112980}},{"id":1490828,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8113000,"value":"#<JSON::Ext::Parser:0x00007fdc0b333260>"}},{"id":1490829,"event":"return","thread_id":9160,"parent_id":1490828,"elapsed":6.54999166727066e-06,"elapsed_instrumentation":8.937000529840589e-05,"return_value":{"class":"Array","value":"[111360521959113262, 111360521959113265]","object_id":8113020,"size":2}},{"id":1490830,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8113040,"value":"P%_\u0002___\u001d_T_\u001b"}},{"id":1490831,"event":"return","thread_id":9160,"parent_id":1490830,"elapsed":3.7129793781787157e-06,"elapsed_instrumentation":0.00010293402010574937,"return_value":{"class":"String","value":"5025fc0281ded91d8c54f61b","object_id":8113060}},{"id":1490832,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8113080,"value":"{retry=>true, queue=>pull, args=>[111360521959113262, 111360521959113265], class=>UnmergeWorker, jid=>7e59ea2c3396d1fdae9fe170, created_at=>1699226715.971949, id=>5025fc0281ded91d8c54f61b}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8113100,"value":"#<JSON::Ext::Generator::State:0x00007fdc0b5c43d0>"}},{"id":1490833,"event":"return","thread_id":9160,"parent_id":1490832,"elapsed":1.620801049284637e-05,"elapsed_instrumentation":0.00019464598153717816,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521959113262,111360521959113265],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8113120}},{"id":1490834,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8113140,"value":"#<JSON::Ext::Parser:0x00007fdc0dbd10f0>"}},{"id":1490835,"event":"return","thread_id":9160,"parent_id":1490834,"elapsed":1.9419007003307343e-05,"elapsed_instrumentation":0.00041661900468170643,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521959113262, 111360521959113265], class=>UnmergeWorker, jid=>7e59ea2c3396d1fdae9fe170, created_at=>1699226715.971949, id=>5025fc0281ded91d8c54f61b}","object_id":8113160,"size":7}},{"id":1490836,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043918226525,"value":"111360521959113262","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8113180,"value":"#<UnmergeWorker:0x00007fdc0dcf8ac8>"}},{"id":1490837,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8113180,"value":"#<UnmergeWorker:0x00007fdc0dcf8ac8>"}},{"id":1490838,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490839,"event":"return","thread_id":9160,"parent_id":1490838,"elapsed":0.001150832,"elapsed_instrumentation":0.00013769499491900206},{"id":1490840,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490841,"event":"return","thread_id":9160,"parent_id":1490840,"elapsed":0.000792836,"elapsed_instrumentation":8.914701174944639e-05},{"id":1490842,"event":"return","thread_id":9160,"parent_id":1490837,"elapsed":0.005221261002589017,"elapsed_instrumentation":0.00013703599688597023,"return_value":{"class":"Account","value":"#<Account:0x00007fdc07270f20>","object_id":8113200}},{"id":1490843,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8113180,"value":"#<UnmergeWorker:0x00007fdc0dcf8ac8>"}},{"id":1490844,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8113220,"value":"#<Account:0x00007fdc07271060>","kind":"req"},{"name":"into_account","class":"Account","object_id":8113200,"value":"#<Account:0x00007fdc07270f20>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490845,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490846,"event":"return","thread_id":9160,"parent_id":1490845,"elapsed":5.451001925393939e-06,"elapsed_instrumentation":0.0001288719940930605,"return_value":{"class":"String","value":"feed:home:111360521959113265","object_id":8113240}},{"id":1490847,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490848,"event":"return","thread_id":9160,"parent_id":1490847,"elapsed":8.68999632075429e-06,"elapsed_instrumentation":0.00011606301995925605,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1490849,"event":"return","thread_id":9160,"parent_id":1490844,"elapsed":0.00410586700309068,"elapsed_instrumentation":0.0003490480303298682},{"id":1490850,"event":"return","thread_id":9160,"parent_id":1490843,"elapsed":0.004503267991822213,"elapsed_instrumentation":0.00013373600086197257},{"id":1490851,"event":"return","thread_id":9160,"parent_id":1490836,"elapsed":0.010062093992019072,"elapsed_instrumentation":0.00010416703298687935},{"id":1490852,"event":"return","thread_id":9160,"parent_id":1490823,"elapsed":0.011749313009204343,"elapsed_instrumentation":0.00017502799164503813,"return_value":{"class":"String","value":"7e59ea2c3396d1fdae9fe170","object_id":8112920}},{"id":1490853,"event":"return","thread_id":9160,"parent_id":1490768,"elapsed":0.04619792100857012,"elapsed_instrumentation":0.00022821599850431085,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc07273ea0>","object_id":8112760}},{"id":1490854,"event":"return","thread_id":9160,"parent_id":1490767,"elapsed":0.04646440898068249,"elapsed_instrumentation":0.00012997302110306919,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc07273ea0>","object_id":8112760}},{"id":1490855,"event":"return","thread_id":9160,"parent_id":1490766,"elapsed":0.04664672998478636,"elapsed_instrumentation":0.0002061940322164446,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc07273ea0>","object_id":8112760}},{"id":1490856,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8113260,"value":"relationship:111360521959113263:111360521959113265","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8113280,"value":"#<UnfollowService:0x00007fdc09179480>"}},{"id":1490857,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8113280,"value":"#<UnfollowService:0x00007fdc09179480>"}},{"id":1490858,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8113300,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8113320,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490859,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490860,"event":"return","thread_id":9160,"parent_id":1490859,"elapsed":4.085013642907143e-06,"elapsed_instrumentation":0.00015763400006107986,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1490861,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8113340,"value":"S\u0005_____~+k_WX4'f"}},{"id":1490862,"event":"return","thread_id":9160,"parent_id":1490861,"elapsed":1.1472991900518537e-05,"elapsed_instrumentation":0.0002998160198330879,"return_value":{"class":"Array","value":"[1392886673, 53147, 34942, 11115, 48215, 1479812966]","object_id":8113360,"size":6}},{"id":1490863,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490864,"event":"return","thread_id":9160,"parent_id":1490863,"elapsed":0.000659502,"elapsed_instrumentation":0.00010507201659493148},{"id":1490865,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8113380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490866,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490867,"event":"return","thread_id":9160,"parent_id":1490866,"elapsed":0.000528721,"elapsed_instrumentation":9.158399188891053e-05},{"id":1490868,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490869,"event":"return","thread_id":9160,"parent_id":1490868,"elapsed":0.000533704,"elapsed_instrumentation":7.737200940027833e-05},{"id":1490870,"event":"return","thread_id":9160,"parent_id":1490865,"elapsed":0.003746160975424573,"elapsed_instrumentation":0.00020912400214001536,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1490871,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1490872,"event":"return","thread_id":9160,"parent_id":1490871,"elapsed":0.001280645,"elapsed_instrumentation":0.00017848200513981283},{"id":1490873,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8113380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490874,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1490875,"event":"return","thread_id":9160,"parent_id":1490874,"elapsed":0.00069381,"elapsed_instrumentation":0.00012224700185470283},{"id":1490876,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490877,"event":"return","thread_id":9160,"parent_id":1490876,"elapsed":0.000747793,"elapsed_instrumentation":8.20079876575619e-05},{"id":1490878,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8113400,"value":"#<Account:0x00007fdc082aec48>"}},{"id":1490879,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8113400,"value":"#<Account:0x00007fdc082aec48>"}},{"id":1490880,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521959113265, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490881,"event":"return","thread_id":9160,"parent_id":1490880,"elapsed":0.000979995,"elapsed_instrumentation":0.0002565240138210356},{"id":1490882,"event":"return","thread_id":9160,"parent_id":1490879,"elapsed":0.0017682220204733312,"elapsed_instrumentation":0.00011019498924724758},{"id":1490883,"event":"return","thread_id":9160,"parent_id":1490878,"elapsed":0.0019167959981132299,"elapsed_instrumentation":0.00016185399726964533},{"id":1490884,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490885,"event":"return","thread_id":9160,"parent_id":1490884,"elapsed":0.000880839,"elapsed_instrumentation":9.661898366175592e-05},{"id":1490886,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8113420,"value":"#<Account:0x00007fdc082ad708>"}},{"id":1490887,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8113420,"value":"#<Account:0x00007fdc082ad708>"}},{"id":1490888,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521959113263, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490889,"event":"return","thread_id":9160,"parent_id":1490888,"elapsed":0.000932876,"elapsed_instrumentation":8.118100231513381e-05},{"id":1490890,"event":"return","thread_id":9160,"parent_id":1490887,"elapsed":0.0014983850123826414,"elapsed_instrumentation":0.00029257099959068},{"id":1490891,"event":"return","thread_id":9160,"parent_id":1490886,"elapsed":0.0018294119799975306,"elapsed_instrumentation":0.00017181900329887867},{"id":1490892,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8113400,"value":"#<Account:0x00007fdc082aec48>"}},{"id":1490893,"event":"return","thread_id":9160,"parent_id":1490892,"elapsed":1.676499960012734e-05,"elapsed_instrumentation":0.00013528999988920987,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490894,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8113420,"value":"#<Account:0x00007fdc082ad708>"}},{"id":1490895,"event":"return","thread_id":9160,"parent_id":1490894,"elapsed":8.208997314795852e-06,"elapsed_instrumentation":7.333798566833138e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490896,"event":"return","thread_id":9160,"parent_id":1490873,"elapsed":0.013196173997130245,"elapsed_instrumentation":0.0005910210311412811,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1490897,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490898,"event":"return","thread_id":9160,"parent_id":1490897,"elapsed":0.000672042,"elapsed_instrumentation":8.040899410843849e-05},{"id":1490899,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8113460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490900,"event":"return","thread_id":9160,"parent_id":1490899,"elapsed":4.155997885391116e-06,"elapsed_instrumentation":0.00012789698666892946,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1490901,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8113460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490902,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8113480,"value":"Cache delete: relationship:111360521959113265:111360521959113263\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490903,"event":"return","thread_id":9160,"parent_id":1490902,"elapsed":0.0014015190245117992,"elapsed_instrumentation":0.00017324500367976725,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490904,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8113500,"value":"Cache delete: relationship:111360521959113263:111360521959113265\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490905,"event":"return","thread_id":9160,"parent_id":1490904,"elapsed":0.0011493079946376383,"elapsed_instrumentation":0.000256252009421587,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490906,"event":"return","thread_id":9160,"parent_id":1490901,"elapsed":0.00377225098782219,"elapsed_instrumentation":0.00015970401000231504,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1490907,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8113520,"value":"#<Account:0x00007fdc072789a0>"}},{"id":1490908,"event":"return","thread_id":9160,"parent_id":1490907,"elapsed":2.8445007046684623e-05,"elapsed_instrumentation":0.0001669619814492762,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490909,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8113520,"value":"#<Account:0x00007fdc072789a0>"}},{"id":1490910,"event":"return","thread_id":9160,"parent_id":1490909,"elapsed":9.057024726644158e-06,"elapsed_instrumentation":0.0002735799935180694,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490911,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1490912,"event":"return","thread_id":9160,"parent_id":1490911,"elapsed":6.008980562910438e-06,"elapsed_instrumentation":8.187699131667614e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490913,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8113540,"value":"{args=>[111360521959113263, 111360521959113265], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8113560,"value":"#<Sidekiq::Client:0x00007fdc146d1cd8>"}},{"id":1490914,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8113580,"value":"\u000f___\u0016__fn\u0002__"}},{"id":1490915,"event":"return","thread_id":9160,"parent_id":1490914,"elapsed":4.939996870234609e-06,"elapsed_instrumentation":0.00011669399100355804,"return_value":{"class":"String","value":"0feaf3a116e0d6666e02a2aa","object_id":8113600}},{"id":1490916,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8113620,"value":"[111360521959113263, 111360521959113265]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8113640,"value":"#<JSON::Ext::Generator::State:0x00007fdc14940320>"}},{"id":1490917,"event":"return","thread_id":9160,"parent_id":1490916,"elapsed":8.14601662568748e-06,"elapsed_instrumentation":0.00043590698624029756,"return_value":{"class":"String","value":"[111360521959113263,111360521959113265]","object_id":8113660}},{"id":1490918,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8113680,"value":"#<JSON::Ext::Parser:0x00007fdc14a87378>"}},{"id":1490919,"event":"return","thread_id":9160,"parent_id":1490918,"elapsed":8.62200977280736e-06,"elapsed_instrumentation":0.0001169429742731154,"return_value":{"class":"Array","value":"[111360521959113263, 111360521959113265]","object_id":8113700,"size":2}},{"id":1490920,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8113720,"value":"\r;\"_bW_____P"}},{"id":1490921,"event":"return","thread_id":9160,"parent_id":1490920,"elapsed":4.925008397549391e-06,"elapsed_instrumentation":0.00011397598427720368,"return_value":{"class":"String","value":"0d3b22ea6257c1e4fee78850","object_id":8113740}},{"id":1490922,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8113760,"value":"{retry=>true, queue=>pull, args=>[111360521959113263, 111360521959113265], class=>UnmergeWorker, jid=>0feaf3a116e0d6666e02a2aa, created_at=>1699226716.0458093, id=>0d3b22ea6257c1e4fee78850}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8113780,"value":"#<JSON::Ext::Generator::State:0x00007fdc14bf5070>"}},{"id":1490923,"event":"return","thread_id":9160,"parent_id":1490922,"elapsed":1.6694975784048438e-05,"elapsed_instrumentation":0.00021257199114188552,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521959113263,111360521959113265],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8113800}},{"id":1490924,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8113820,"value":"#<JSON::Ext::Parser:0x00007fdc14cc94b0>"}},{"id":1490925,"event":"return","thread_id":9160,"parent_id":1490924,"elapsed":3.369100159034133e-05,"elapsed_instrumentation":0.00036899998667649925,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521959113263, 111360521959113265], class=>UnmergeWorker, jid=>0feaf3a116e0d6666e02a2aa, created_at=>1699226716.0458093, id=>0d3b22ea6257c1e4fee78850}","object_id":8113840,"size":7}},{"id":1490926,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043918226527,"value":"111360521959113263","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8113860,"value":"#<UnmergeWorker:0x00007fdc14e38fd0>"}},{"id":1490927,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8113860,"value":"#<UnmergeWorker:0x00007fdc14e38fd0>"}},{"id":1490928,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490929,"event":"return","thread_id":9160,"parent_id":1490928,"elapsed":0.00097928,"elapsed_instrumentation":0.00010008597746491432},{"id":1490930,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490931,"event":"return","thread_id":9160,"parent_id":1490930,"elapsed":0.000818832,"elapsed_instrumentation":9.070200030691922e-05},{"id":1490932,"event":"return","thread_id":9160,"parent_id":1490927,"elapsed":0.005962431023363024,"elapsed_instrumentation":0.00012256597983650863,"return_value":{"class":"Account","value":"#<Account:0x00007fdc082ab2c8>","object_id":8113880}},{"id":1490933,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8113860,"value":"#<UnmergeWorker:0x00007fdc14e38fd0>"}},{"id":1490934,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8113900,"value":"#<Account:0x00007fdc082ab408>","kind":"req"},{"name":"into_account","class":"Account","object_id":8113880,"value":"#<Account:0x00007fdc082ab2c8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490935,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490936,"event":"return","thread_id":9160,"parent_id":1490935,"elapsed":5.9680023696273565e-06,"elapsed_instrumentation":0.00012131297262385488,"return_value":{"class":"String","value":"feed:home:111360521959113265","object_id":8113920}},{"id":1490937,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1490938,"event":"return","thread_id":9160,"parent_id":1490937,"elapsed":5.718000466004014e-06,"elapsed_instrumentation":8.388701826334e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1490939,"event":"return","thread_id":9160,"parent_id":1490934,"elapsed":0.005625527002848685,"elapsed_instrumentation":0.00016494598821736872},{"id":1490940,"event":"return","thread_id":9160,"parent_id":1490933,"elapsed":0.00600831100018695,"elapsed_instrumentation":0.0002745469973888248},{"id":1490941,"event":"return","thread_id":9160,"parent_id":1490926,"elapsed":0.012434623000444844,"elapsed_instrumentation":0.0001011929998639971},{"id":1490942,"event":"return","thread_id":9160,"parent_id":1490913,"elapsed":0.014600194990634918,"elapsed_instrumentation":0.00022959700436331332,"return_value":{"class":"String","value":"0feaf3a116e0d6666e02a2aa","object_id":8113600}},{"id":1490943,"event":"return","thread_id":9160,"parent_id":1490858,"elapsed":0.04516246501589194,"elapsed_instrumentation":0.00021162198390811682,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc082afa08>","object_id":8113440}},{"id":1490944,"event":"return","thread_id":9160,"parent_id":1490857,"elapsed":0.04540746798738837,"elapsed_instrumentation":0.00019616499776020646,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc082afa08>","object_id":8113440}},{"id":1490945,"event":"return","thread_id":9160,"parent_id":1490856,"elapsed":0.07680972199887037,"elapsed_instrumentation":0.00014028899022378027,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc082afa08>","object_id":8113440}},{"id":1490946,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8113940,"value":"relationship:111360521959113264:111360521959113265","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8113960,"value":"#<UnfollowService:0x00007fdc0e528c20>"}},{"id":1490947,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8113960,"value":"#<UnfollowService:0x00007fdc0e528c20>"}},{"id":1490948,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8113980,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8114000,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490949,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1490950,"event":"return","thread_id":9160,"parent_id":1490949,"elapsed":3.5120174288749695e-06,"elapsed_instrumentation":0.00012082996545359492,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1490951,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8114020,"value":"__dv_\u0012_tn_\u0003____\u001c"}},{"id":1490952,"event":"return","thread_id":9160,"parent_id":1490951,"elapsed":7.6039868872612715e-06,"elapsed_instrumentation":0.00016666299779899418,"return_value":{"class":"Array","value":"[2595644534, 47378, 36724, 28404, 910, 2414910492]","object_id":8114040,"size":6}},{"id":1490953,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490954,"event":"return","thread_id":9160,"parent_id":1490953,"elapsed":0.001201526,"elapsed_instrumentation":0.000341220002155751},{"id":1490955,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8114060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490956,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490957,"event":"return","thread_id":9160,"parent_id":1490956,"elapsed":0.000711489,"elapsed_instrumentation":9.856899851001799e-05},{"id":1490958,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1490959,"event":"return","thread_id":9160,"parent_id":1490958,"elapsed":0.000696827,"elapsed_instrumentation":7.499998901039362e-05},{"id":1490960,"event":"return","thread_id":9160,"parent_id":1490955,"elapsed":0.003971583006205037,"elapsed_instrumentation":0.0002177169662900269,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1490961,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1490962,"event":"return","thread_id":9160,"parent_id":1490961,"elapsed":0.001216837,"elapsed_instrumentation":0.00028127897530794144},{"id":1490963,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8114060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1490964,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1490965,"event":"return","thread_id":9160,"parent_id":1490964,"elapsed":0.001234528,"elapsed_instrumentation":0.0001618209935259074},{"id":1490966,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490967,"event":"return","thread_id":9160,"parent_id":1490966,"elapsed":0.000962443,"elapsed_instrumentation":0.0002933060168288648},{"id":1490968,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8114080,"value":"#<Account:0x00007fdc082aa508>"}},{"id":1490969,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8114080,"value":"#<Account:0x00007fdc082aa508>"}},{"id":1490970,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521959113265, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490971,"event":"return","thread_id":9160,"parent_id":1490970,"elapsed":0.001077842,"elapsed_instrumentation":8.444100967608392e-05},{"id":1490972,"event":"return","thread_id":9160,"parent_id":1490969,"elapsed":0.0018156839942093939,"elapsed_instrumentation":0.0001440960040781647},{"id":1490973,"event":"return","thread_id":9160,"parent_id":1490968,"elapsed":0.001995092985453084,"elapsed_instrumentation":0.00021821301197633147},{"id":1490974,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1490975,"event":"return","thread_id":9160,"parent_id":1490974,"elapsed":0.000789179,"elapsed_instrumentation":8.285397780127823e-05},{"id":1490976,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8114100,"value":"#<Account:0x00007fdc082a9608>"}},{"id":1490977,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8114100,"value":"#<Account:0x00007fdc082a9608>"}},{"id":1490978,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521959113264, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1490979,"event":"return","thread_id":9160,"parent_id":1490978,"elapsed":0.001165317,"elapsed_instrumentation":7.892699795775115e-05},{"id":1490980,"event":"return","thread_id":9160,"parent_id":1490977,"elapsed":0.0018721770029515028,"elapsed_instrumentation":9.99000039882958e-05},{"id":1490981,"event":"return","thread_id":9160,"parent_id":1490976,"elapsed":0.001997576007852331,"elapsed_instrumentation":0.00012517799041233957},{"id":1490982,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8114080,"value":"#<Account:0x00007fdc082aa508>"}},{"id":1490983,"event":"return","thread_id":9160,"parent_id":1490982,"elapsed":1.4329998521134257e-05,"elapsed_instrumentation":0.0001055239699780941,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490984,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8114100,"value":"#<Account:0x00007fdc082a9608>"}},{"id":1490985,"event":"return","thread_id":9160,"parent_id":1490984,"elapsed":1.0296003893017769e-05,"elapsed_instrumentation":0.00011219200678169727,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490986,"event":"return","thread_id":9160,"parent_id":1490963,"elapsed":0.015617764001945034,"elapsed_instrumentation":0.00027946598129346967,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1490987,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1490988,"event":"return","thread_id":9160,"parent_id":1490987,"elapsed":0.000723007,"elapsed_instrumentation":0.00010343801113776863},{"id":1490989,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8114140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490990,"event":"return","thread_id":9160,"parent_id":1490989,"elapsed":6.103015039116144e-06,"elapsed_instrumentation":0.00017689098604023457,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1490991,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8114140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1490992,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8114160,"value":"Cache delete: relationship:111360521959113265:111360521959113264\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490993,"event":"return","thread_id":9160,"parent_id":1490992,"elapsed":0.0011587109765969217,"elapsed_instrumentation":0.0002414360351394862,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490994,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8114180,"value":"Cache delete: relationship:111360521959113264:111360521959113265\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1490995,"event":"return","thread_id":9160,"parent_id":1490994,"elapsed":0.001054526015650481,"elapsed_instrumentation":0.00043013098184019327,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1490996,"event":"return","thread_id":9160,"parent_id":1490991,"elapsed":0.0036737470072694123,"elapsed_instrumentation":0.00016039999900385737,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1490997,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8114200,"value":"#<Account:0x00007fdc07278860>"}},{"id":1490998,"event":"return","thread_id":9160,"parent_id":1490997,"elapsed":0.0008236759749706835,"elapsed_instrumentation":0.00013756501721218228,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1490999,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8114200,"value":"#<Account:0x00007fdc07278860>"}},{"id":1491000,"event":"return","thread_id":9160,"parent_id":1490999,"elapsed":5.720008630305529e-06,"elapsed_instrumentation":0.00010241800919175148,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491001,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1491002,"event":"return","thread_id":9160,"parent_id":1491001,"elapsed":4.647998139262199e-06,"elapsed_instrumentation":6.693499744869769e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491003,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8114220,"value":"{args=>[111360521959113264, 111360521959113265], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8114240,"value":"#<Sidekiq::Client:0x00007fdc0f59be68>"}},{"id":1491004,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8114260,"value":"\u0000_\u001ahJ__\u0005z\u001a_\f"}},{"id":1491005,"event":"return","thread_id":9160,"parent_id":1491004,"elapsed":5.677022272720933e-06,"elapsed_instrumentation":0.00022216697107069194,"return_value":{"class":"String","value":"00c51a684a9790057a1ae50c","object_id":8114280}},{"id":1491006,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8114300,"value":"[111360521959113264, 111360521959113265]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8114320,"value":"#<JSON::Ext::Generator::State:0x00007fdc0f5f02b0>"}},{"id":1491007,"event":"return","thread_id":9160,"parent_id":1491006,"elapsed":9.659008355811238e-06,"elapsed_instrumentation":0.0001621220144443214,"return_value":{"class":"String","value":"[111360521959113264,111360521959113265]","object_id":8114340}},{"id":1491008,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8114360,"value":"#<JSON::Ext::Parser:0x00007fdc0f601358>"}},{"id":1491009,"event":"return","thread_id":9160,"parent_id":1491008,"elapsed":8.185015758499503e-06,"elapsed_instrumentation":0.0003844320308417082,"return_value":{"class":"Array","value":"[111360521959113264, 111360521959113265]","object_id":8114380,"size":2}},{"id":1491010,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8114400,"value":"}\u0006G_________"}},{"id":1491011,"event":"return","thread_id":9160,"parent_id":1491010,"elapsed":3.977009328082204e-06,"elapsed_instrumentation":0.00011795698083005846,"return_value":{"class":"String","value":"7d064783f4ebaaf6ccf294a6","object_id":8114420}},{"id":1491012,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8114440,"value":"{retry=>true, queue=>pull, args=>[111360521959113264, 111360521959113265], class=>UnmergeWorker, jid=>00c51a684a9790057a1ae50c, created_at=>1699226716.0955782, id=>7d064783f4ebaaf6ccf294a6}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8114460,"value":"#<JSON::Ext::Generator::State:0x00007fdc0f64b908>"}},{"id":1491013,"event":"return","thread_id":9160,"parent_id":1491012,"elapsed":2.0920997485518456e-05,"elapsed_instrumentation":0.00023449200671166182,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521959113264,111360521959113265],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8114480}},{"id":1491014,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8114500,"value":"#<JSON::Ext::Parser:0x00007fdc0f6abc40>"}},{"id":1491015,"event":"return","thread_id":9160,"parent_id":1491014,"elapsed":2.1980988094583154e-05,"elapsed_instrumentation":0.00017759800539352,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521959113264, 111360521959113265], class=>UnmergeWorker, jid=>00c51a684a9790057a1ae50c, created_at=>1699226716.0955782, id=>7d064783f4ebaaf6ccf294a6}","object_id":8114520,"size":7}},{"id":1491016,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043918226529,"value":"111360521959113264","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8114540,"value":"#<UnmergeWorker:0x00007fdc0f6d3290>"}},{"id":1491017,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8114540,"value":"#<UnmergeWorker:0x00007fdc0f6d3290>"}},{"id":1491018,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491019,"event":"return","thread_id":9160,"parent_id":1491018,"elapsed":0.00093945,"elapsed_instrumentation":0.00021633200231008232},{"id":1491020,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491021,"event":"return","thread_id":9160,"parent_id":1491020,"elapsed":0.000965986,"elapsed_instrumentation":0.00011191199882887304},{"id":1491022,"event":"return","thread_id":9160,"parent_id":1491017,"elapsed":0.005287651001708582,"elapsed_instrumentation":0.0001526220003142953,"return_value":{"class":"Account","value":"#<Account:0x00007fdc082a76c8>","object_id":8114560}},{"id":1491023,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8114540,"value":"#<UnmergeWorker:0x00007fdc0f6d3290>"}},{"id":1491024,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8114580,"value":"#<Account:0x00007fdc082a7808>","kind":"req"},{"name":"into_account","class":"Account","object_id":8114560,"value":"#<Account:0x00007fdc082a76c8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491025,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491026,"event":"return","thread_id":9160,"parent_id":1491025,"elapsed":5.053007043898106e-06,"elapsed_instrumentation":0.00012888599303551018,"return_value":{"class":"String","value":"feed:home:111360521959113265","object_id":8114600}},{"id":1491027,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491028,"event":"return","thread_id":9160,"parent_id":1491027,"elapsed":8.244998753070831e-06,"elapsed_instrumentation":0.00014026599819771945,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1491029,"event":"return","thread_id":9160,"parent_id":1491024,"elapsed":0.006339687010040507,"elapsed_instrumentation":0.00016664600116200745},{"id":1491030,"event":"return","thread_id":9160,"parent_id":1491023,"elapsed":0.0065549339924473315,"elapsed_instrumentation":0.00030292902374640107},{"id":1491031,"event":"return","thread_id":9160,"parent_id":1491016,"elapsed":0.012365898001007736,"elapsed_instrumentation":0.00040134499431587756},{"id":1491032,"event":"return","thread_id":9160,"parent_id":1491003,"elapsed":0.014524091995554045,"elapsed_instrumentation":0.000370513997040689,"return_value":{"class":"String","value":"00c51a684a9790057a1ae50c","object_id":8114280}},{"id":1491033,"event":"return","thread_id":9160,"parent_id":1490948,"elapsed":0.04887593301828019,"elapsed_instrumentation":0.0002465830184519291,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc082aadc8>","object_id":8114120}},{"id":1491034,"event":"return","thread_id":9160,"parent_id":1490947,"elapsed":0.04916078399401158,"elapsed_instrumentation":0.0001368879748042673,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc082aadc8>","object_id":8114120}},{"id":1491035,"event":"return","thread_id":9160,"parent_id":1490946,"elapsed":0.049338454991811886,"elapsed_instrumentation":0.00016098699416033924,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc082aadc8>","object_id":8114120}},{"id":1491036,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8114620,"value":"{args=>[111360521959113265], class=>BootstrapTimelineWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8114640,"value":"#<Sidekiq::Client:0x00007fdc0f2cb5f8>"}},{"id":1491037,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8114660,"value":"@l__`_|X\\$__"}},{"id":1491038,"event":"return","thread_id":9160,"parent_id":1491037,"elapsed":6.678019417449832e-06,"elapsed_instrumentation":0.0004486729740165174,"return_value":{"class":"String","value":"406cb5c5608b7c585c24f0d8","object_id":8114680}},{"id":1491039,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8114700,"value":"[111360521959113265]","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8114720,"value":"#<JSON::Ext::Generator::State:0x00007fdc0f2ed8b0>"}},{"id":1491040,"event":"return","thread_id":9160,"parent_id":1491039,"elapsed":1.1497002560645342e-05,"elapsed_instrumentation":0.0004122100071981549,"return_value":{"class":"String","value":"[111360521959113265]","object_id":8114740}},{"id":1491041,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8114760,"value":"#<JSON::Ext::Parser:0x00007fdc0f2e7938>"}},{"id":1491042,"event":"return","thread_id":9160,"parent_id":1491041,"elapsed":9.298004442825913e-06,"elapsed_instrumentation":0.00014142299187369645,"return_value":{"class":"Array","value":"[111360521959113265]","object_id":8114780,"size":1}},{"id":1491043,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8114800,"value":"_/_\u0017|__/__\u0001\u0015"}},{"id":1491044,"event":"return","thread_id":9160,"parent_id":1491043,"elapsed":4.4330081436783075e-06,"elapsed_instrumentation":0.00011337597970850766,"return_value":{"class":"String","value":"9f2fc1177cf4972fdcf70115","object_id":8114820}},{"id":1491045,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8114840,"value":"{retry=>true, queue=>default, args=>[111360521959113265], class=>BootstrapTimelineWorker, jid=>406cb5c5608b7c585c24f0d8, created_at=>1699226716.1118205, id=>9f2fc1177cf4972fdcf70115}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8114860,"value":"#<JSON::Ext::Generator::State:0x00007fdc0f333360>"}},{"id":1491046,"event":"return","thread_id":9160,"parent_id":1491045,"elapsed":1.384899951517582e-05,"elapsed_instrumentation":0.00033576699206605554,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111360521959113265],\"class\":\"BootstrapTimelineWorker\",\"jid\": (...91 more characters)","object_id":8114880}},{"id":1491047,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8114900,"value":"#<JSON::Ext::Parser:0x00007fdc0f399520>"}},{"id":1491048,"event":"return","thread_id":9160,"parent_id":1491047,"elapsed":2.191500971093774e-05,"elapsed_instrumentation":0.00021361900144256651,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111360521959113265], class=>BootstrapTimelineWorker, jid=>406cb5c5608b7c585c24f0d8, created_at=>1699226716.1118205, id=>9f2fc1177cf4972fdcf70115}","object_id":8114920,"size":7}},{"id":1491049,"event":"call","thread_id":9160,"defined_class":"BootstrapTimelineWorker","method_id":"perform","path":"app/workers/bootstrap_timeline_worker.rb","lineno":6,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"}],"receiver":{"class":"BootstrapTimelineWorker","object_id":8114940,"value":"#<BootstrapTimelineWorker:0x00007fdc0f3c7f88>"}},{"id":1491050,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491051,"event":"return","thread_id":9160,"parent_id":1491050,"elapsed":0.001006721,"elapsed_instrumentation":0.0003037450078409165},{"id":1491052,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491053,"event":"return","thread_id":9160,"parent_id":1491052,"elapsed":0.000840722,"elapsed_instrumentation":8.66290065459907e-05},{"id":1491054,"event":"call","thread_id":9160,"defined_class":"User","method_id":"those_who_can","path":"app/models/user.rb","lineno":143,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8114960,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":35120,"value":"User"}},{"id":1491055,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"that_can","path":"app/models/user_role.rb","lineno":111,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8114980,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1491056,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\"","database_type":"postgres"}},{"id":1491057,"event":"return","thread_id":9160,"parent_id":1491056,"elapsed":0.001038773,"elapsed_instrumentation":0.0001502359809819609},{"id":1491058,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8115000,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8115020,"value":"#<UserRole:0x00007fdc082a5648>"}},{"id":1491059,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8115020,"value":"#<UserRole:0x00007fdc082a5648>"}},{"id":1491060,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8115020,"value":"#<UserRole:0x00007fdc082a5648>"}},{"id":1491061,"event":"return","thread_id":9160,"parent_id":1491060,"elapsed":1.894598244689405e-05,"elapsed_instrumentation":0.00017121201381087303,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491062,"event":"return","thread_id":9160,"parent_id":1491059,"elapsed":0.00041184001020155847,"elapsed_instrumentation":0.0001105479896068573,"return_value":{"class":"Integer","value":"65536","object_id":131073}},{"id":1491063,"event":"return","thread_id":9160,"parent_id":1491058,"elapsed":0.0005549399938900024,"elapsed_instrumentation":0.00013290400966070592},{"id":1491064,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8115040,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8115060,"value":"#<UserRole:0x00007fdc082a53c8>"}},{"id":1491065,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8115060,"value":"#<UserRole:0x00007fdc082a53c8>"}},{"id":1491066,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8115060,"value":"#<UserRole:0x00007fdc082a53c8>"}},{"id":1491067,"event":"return","thread_id":9160,"parent_id":1491066,"elapsed":2.340800710953772e-05,"elapsed_instrumentation":0.00018153298879042268},{"id":1491068,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8115060,"value":"#<UserRole:0x00007fdc082a53c8>"}},{"id":1491069,"event":"return","thread_id":9160,"parent_id":1491068,"elapsed":8.134986273944378e-06,"elapsed_instrumentation":9.502196917310357e-05},{"id":1491070,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1491071,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491072,"event":"return","thread_id":9160,"parent_id":1491071,"elapsed":0.001331188,"elapsed_instrumentation":0.00010858700261451304},{"id":1491073,"event":"return","thread_id":9160,"parent_id":1491070,"elapsed":0.002486743003828451,"elapsed_instrumentation":0.00021861199638806283,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdc082a4c48>","object_id":8115080}},{"id":1491074,"event":"return","thread_id":9160,"parent_id":1491065,"elapsed":0.0033740389917511493,"elapsed_instrumentation":0.00044849299592897296,"return_value":{"class":"Integer","value":"66844","object_id":133689}},{"id":1491075,"event":"return","thread_id":9160,"parent_id":1491064,"elapsed":0.0038925659900996834,"elapsed_instrumentation":0.0002531540230847895,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491076,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8115100,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8115120,"value":"#<UserRole:0x00007fdc082a5288>"}},{"id":1491077,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8115120,"value":"#<UserRole:0x00007fdc082a5288>"}},{"id":1491078,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8115120,"value":"#<UserRole:0x00007fdc082a5288>"}},{"id":1491079,"event":"return","thread_id":9160,"parent_id":1491078,"elapsed":1.505500404164195e-05,"elapsed_instrumentation":5.401301314122975e-05},{"id":1491080,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8115120,"value":"#<UserRole:0x00007fdc082a5288>"}},{"id":1491081,"event":"return","thread_id":9160,"parent_id":1491080,"elapsed":6.466987542808056e-06,"elapsed_instrumentation":5.4208998335525393e-05},{"id":1491082,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1491083,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491084,"event":"return","thread_id":9160,"parent_id":1491083,"elapsed":0.000559271,"elapsed_instrumentation":8.543801959604025e-05},{"id":1491085,"event":"return","thread_id":9160,"parent_id":1491082,"elapsed":0.001820325996959582,"elapsed_instrumentation":0.0001214680087286979,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdc082a49c8>","object_id":8115140}},{"id":1491086,"event":"return","thread_id":9160,"parent_id":1491077,"elapsed":0.002138720010407269,"elapsed_instrumentation":7.838199962861836e-05,"return_value":{"class":"Integer","value":"1048572","object_id":2097145}},{"id":1491087,"event":"return","thread_id":9160,"parent_id":1491076,"elapsed":0.0022441049804911017,"elapsed_instrumentation":0.00017156501417048275,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491088,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8115160,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8115180,"value":"#<UserRole:0x00007fdc082a5008>"}},{"id":1491089,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8115180,"value":"#<UserRole:0x00007fdc082a5008>"}},{"id":1491090,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8115180,"value":"#<UserRole:0x00007fdc082a5008>"}},{"id":1491091,"event":"return","thread_id":9160,"parent_id":1491090,"elapsed":1.0404997738078237e-05,"elapsed_instrumentation":5.4432020988315344e-05},{"id":1491092,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8115180,"value":"#<UserRole:0x00007fdc082a5008>"}},{"id":1491093,"event":"return","thread_id":9160,"parent_id":1491092,"elapsed":1.3477983884513378e-05,"elapsed_instrumentation":0.0004986970161553472},{"id":1491094,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1491095,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491096,"event":"return","thread_id":9160,"parent_id":1491095,"elapsed":0.000537945,"elapsed_instrumentation":8.8819011580199e-05},{"id":1491097,"event":"return","thread_id":9160,"parent_id":1491094,"elapsed":0.0018158329767175019,"elapsed_instrumentation":0.00014001401723362505,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdc082a4748>","object_id":8115200}},{"id":1491098,"event":"return","thread_id":9160,"parent_id":1491089,"elapsed":0.0026125279837287962,"elapsed_instrumentation":7.342902245000005e-05,"return_value":{"class":"Integer","value":"1048575","object_id":2097151}},{"id":1491099,"event":"return","thread_id":9160,"parent_id":1491088,"elapsed":0.002709471998969093,"elapsed_instrumentation":0.00011925800936296582,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491100,"event":"return","thread_id":9160,"parent_id":1491055,"elapsed":0.01317981700412929,"elapsed_instrumentation":0.00021953100804239511,"return_value":{"class":"Array","value":"[#<UserRole:0x00007fdc082a53c8>, #<UserRole:0x00007fdc082a5288>, #<UserRole:0x00007fdc082a5008>]","object_id":8115220,"size":3}},{"id":1491101,"event":"return","thread_id":9160,"parent_id":1491054,"elapsed":0.013752239989116788,"elapsed_instrumentation":0.00022296301904134452,"return_value":{"class":"ActiveRecord::Relation","value":"#<User::ActiveRecord_Relation:0x00007fdc0a386060>","object_id":8115240}},{"id":1491102,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"role_id\" IN ($1, $2, $3) ORDER BY \"users\".\"id\" ASC LIMIT $4","database_type":"postgres"}},{"id":1491103,"event":"return","thread_id":9160,"parent_id":1491102,"elapsed":0.001110213,"elapsed_instrumentation":9.077897993847728e-05},{"id":1491104,"event":"return","thread_id":9160,"parent_id":1491049,"elapsed":0.02542483201250434,"elapsed_instrumentation":9.684497490525246e-05},{"id":1491105,"event":"return","thread_id":9160,"parent_id":1491036,"elapsed":0.02771485099219717,"elapsed_instrumentation":0.0008102120191324502,"return_value":{"class":"String","value":"406cb5c5608b7c585c24f0d8","object_id":8114680}},{"id":1491106,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1491107,"event":"return","thread_id":9160,"parent_id":1491106,"elapsed":0.002455163,"elapsed_instrumentation":0.00010748498607426882},{"id":1491108,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8115260,"value":"relationship:111360521959113255:111360521959113265","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8115280,"value":"#<UnfollowService:0x00007fdc0dce0978>"}},{"id":1491109,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8115280,"value":"#<UnfollowService:0x00007fdc0dce0978>"}},{"id":1491110,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8115300,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8115320,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491111,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491112,"event":"return","thread_id":9160,"parent_id":1491111,"elapsed":4.550005542114377e-06,"elapsed_instrumentation":7.740201544947922e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1491113,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8115340,"value":"___N_e\u0018_V_sNk__\u001a"}},{"id":1491114,"event":"return","thread_id":9160,"parent_id":1491113,"elapsed":9.076000424101949e-06,"elapsed_instrumentation":0.0005204869667068124,"return_value":{"class":"Array","value":"[3515935822, 37989, 6397, 22156, 29518, 1804260890]","object_id":8115360,"size":6}},{"id":1491115,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491116,"event":"return","thread_id":9160,"parent_id":1491115,"elapsed":0.000987644,"elapsed_instrumentation":9.353499626740813e-05},{"id":1491117,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8115380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491118,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491119,"event":"return","thread_id":9160,"parent_id":1491118,"elapsed":0.000663148,"elapsed_instrumentation":0.00010550700244493783},{"id":1491120,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491121,"event":"return","thread_id":9160,"parent_id":1491120,"elapsed":0.000737566,"elapsed_instrumentation":0.00019049798720516264},{"id":1491122,"event":"return","thread_id":9160,"parent_id":1491117,"elapsed":0.0045434400090016425,"elapsed_instrumentation":0.0004538109933491796,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1491123,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1491124,"event":"return","thread_id":9160,"parent_id":1491123,"elapsed":0.001158341,"elapsed_instrumentation":0.0001980310189537704},{"id":1491125,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8115380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491126,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1491127,"event":"return","thread_id":9160,"parent_id":1491126,"elapsed":0.00085032,"elapsed_instrumentation":8.578499546274543e-05},{"id":1491128,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491129,"event":"return","thread_id":9160,"parent_id":1491128,"elapsed":0.000740471,"elapsed_instrumentation":7.826901855878532e-05},{"id":1491130,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8115400,"value":"#<Account:0x00007fdc082a0f08>"}},{"id":1491131,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8115400,"value":"#<Account:0x00007fdc082a0f08>"}},{"id":1491132,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521959113255, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491133,"event":"return","thread_id":9160,"parent_id":1491132,"elapsed":0.000947629,"elapsed_instrumentation":7.520098006352782e-05},{"id":1491134,"event":"return","thread_id":9160,"parent_id":1491131,"elapsed":0.0016561869997531176,"elapsed_instrumentation":9.690699516795576e-05},{"id":1491135,"event":"return","thread_id":9160,"parent_id":1491130,"elapsed":0.0017798070039134473,"elapsed_instrumentation":0.0001339470036327839},{"id":1491136,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491137,"event":"return","thread_id":9160,"parent_id":1491136,"elapsed":0.000935313,"elapsed_instrumentation":7.4281997513026e-05},{"id":1491138,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8115420,"value":"#<Account:0x00007fdbf649fc80>"}},{"id":1491139,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8115420,"value":"#<Account:0x00007fdbf649fc80>"}},{"id":1491140,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521959113265, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491141,"event":"return","thread_id":9160,"parent_id":1491140,"elapsed":0.001211597,"elapsed_instrumentation":0.00010211602784693241},{"id":1491142,"event":"return","thread_id":9160,"parent_id":1491139,"elapsed":0.0020482010149862617,"elapsed_instrumentation":0.00010984198888763785},{"id":1491143,"event":"return","thread_id":9160,"parent_id":1491138,"elapsed":0.0021903440065216273,"elapsed_instrumentation":0.000433028006227687},{"id":1491144,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8115400,"value":"#<Account:0x00007fdc082a0f08>"}},{"id":1491145,"event":"return","thread_id":9160,"parent_id":1491144,"elapsed":1.938900095410645e-05,"elapsed_instrumentation":0.000207712990231812,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491146,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8115420,"value":"#<Account:0x00007fdbf649fc80>"}},{"id":1491147,"event":"return","thread_id":9160,"parent_id":1491146,"elapsed":1.4752004062756896e-05,"elapsed_instrumentation":0.00011054100468754768,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491148,"event":"return","thread_id":9160,"parent_id":1491125,"elapsed":0.01412280902150087,"elapsed_instrumentation":0.0002771110157482326,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1491149,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491150,"event":"return","thread_id":9160,"parent_id":1491149,"elapsed":0.000612551,"elapsed_instrumentation":9.617998148314655e-05},{"id":1491151,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8115460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491152,"event":"return","thread_id":9160,"parent_id":1491151,"elapsed":4.025001544505358e-06,"elapsed_instrumentation":0.00016225798754021525,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1491153,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8115460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491154,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8115480,"value":"Cache delete: relationship:111360521959113255:111360521959113265\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491155,"event":"return","thread_id":9160,"parent_id":1491154,"elapsed":0.0015839669795241207,"elapsed_instrumentation":0.00012973698903806508,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491156,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8115500,"value":"Cache delete: relationship:111360521959113265:111360521959113255\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491157,"event":"return","thread_id":9160,"parent_id":1491156,"elapsed":0.0009577969904057682,"elapsed_instrumentation":0.00015269601135514677,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491158,"event":"return","thread_id":9160,"parent_id":1491153,"elapsed":0.0031492150155827403,"elapsed_instrumentation":0.0001470749848522246,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1491159,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1491160,"event":"return","thread_id":9160,"parent_id":1491159,"elapsed":1.5143014024943113e-05,"elapsed_instrumentation":0.00015406700549647212,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491161,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1491162,"event":"return","thread_id":9160,"parent_id":1491161,"elapsed":8.575996616855264e-06,"elapsed_instrumentation":0.000246573006734252,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491163,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8115520,"value":"#<Account:0x00007fdc082a3208>"}},{"id":1491164,"event":"return","thread_id":9160,"parent_id":1491163,"elapsed":2.0625011529773474e-05,"elapsed_instrumentation":0.0001461080100852996,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491165,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8115540,"value":"{args=>[111360521959113265, 111360521959113255], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8115560,"value":"#<Sidekiq::Client:0x00007fdc0ed1bfb8>"}},{"id":1491166,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8115580,"value":",We_cJL____|"}},{"id":1491167,"event":"return","thread_id":9160,"parent_id":1491166,"elapsed":7.816997822374105e-06,"elapsed_instrumentation":0.0005043039855081588,"return_value":{"class":"String","value":"2c5765fb634a4caaf7b78c7c","object_id":8115600}},{"id":1491168,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8115620,"value":"[111360521959113265, 111360521959113255]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8115640,"value":"#<JSON::Ext::Generator::State:0x00007fdc0ed6dca0>"}},{"id":1491169,"event":"return","thread_id":9160,"parent_id":1491168,"elapsed":1.2222008081153035e-05,"elapsed_instrumentation":0.00022385802003555,"return_value":{"class":"String","value":"[111360521959113265,111360521959113255]","object_id":8115660}},{"id":1491170,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8115680,"value":"#<JSON::Ext::Parser:0x00007fdc0ed68db8>"}},{"id":1491171,"event":"return","thread_id":9160,"parent_id":1491170,"elapsed":9.415001841261983e-06,"elapsed_instrumentation":0.00015929900109767914,"return_value":{"class":"Array","value":"[111360521959113265, 111360521959113255]","object_id":8115700,"size":2}},{"id":1491172,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8115720,"value":"\n___X(__\u0019__x"}},{"id":1491173,"event":"return","thread_id":9160,"parent_id":1491172,"elapsed":7.843016646802425e-06,"elapsed_instrumentation":0.00044917798368260264,"return_value":{"class":"String","value":"0a8f8a925828928719aabb78","object_id":8115740}},{"id":1491174,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8115760,"value":"{retry=>true, queue=>pull, args=>[111360521959113265, 111360521959113255], class=>UnmergeWorker, jid=>2c5765fb634a4caaf7b78c7c, created_at=>1699226716.1822813, id=>0a8f8a925828928719aabb78}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8115780,"value":"#<JSON::Ext::Generator::State:0x00007fdc0ed72fe8>"}},{"id":1491175,"event":"return","thread_id":9160,"parent_id":1491174,"elapsed":1.4178978744894266e-05,"elapsed_instrumentation":0.00031701699481345713,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521959113265,111360521959113255],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8115800}},{"id":1491176,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8115820,"value":"#<JSON::Ext::Parser:0x00007fdc0ebfb570>"}},{"id":1491177,"event":"return","thread_id":9160,"parent_id":1491176,"elapsed":2.239900641143322e-05,"elapsed_instrumentation":0.00020327299716882408,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521959113265, 111360521959113255], class=>UnmergeWorker, jid=>2c5765fb634a4caaf7b78c7c, created_at=>1699226716.1822813, id=>0a8f8a925828928719aabb78}","object_id":8115840,"size":7}},{"id":1491178,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043918226511,"value":"111360521959113255","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8115860,"value":"#<UnmergeWorker:0x00007fdc0ebf03f0>"}},{"id":1491179,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8115860,"value":"#<UnmergeWorker:0x00007fdc0ebf03f0>"}},{"id":1491180,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491181,"event":"return","thread_id":9160,"parent_id":1491180,"elapsed":0.001022613,"elapsed_instrumentation":0.00010617601219564676},{"id":1491182,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491183,"event":"return","thread_id":9160,"parent_id":1491182,"elapsed":0.001197075,"elapsed_instrumentation":0.0002702210040297359},{"id":1491184,"event":"return","thread_id":9160,"parent_id":1491179,"elapsed":0.006207983999047428,"elapsed_instrumentation":0.0006402790022548288,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf649e600>","object_id":8115880}},{"id":1491185,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8115860,"value":"#<UnmergeWorker:0x00007fdc0ebf03f0>"}},{"id":1491186,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8115900,"value":"#<Account:0x00007fdbf649e740>","kind":"req"},{"name":"into_account","class":"Account","object_id":8115880,"value":"#<Account:0x00007fdbf649e600>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491187,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043918226511,"value":"111360521959113255","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491188,"event":"return","thread_id":9160,"parent_id":1491187,"elapsed":1.0023999493569136e-05,"elapsed_instrumentation":0.00024839703110046685,"return_value":{"class":"String","value":"feed:home:111360521959113255","object_id":8115920}},{"id":1491189,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491190,"event":"return","thread_id":9160,"parent_id":1491189,"elapsed":6.1689934227615595e-06,"elapsed_instrumentation":0.00016518001211807132,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1491191,"event":"return","thread_id":9160,"parent_id":1491186,"elapsed":0.005204341985518113,"elapsed_instrumentation":0.00019014300778508186},{"id":1491192,"event":"return","thread_id":9160,"parent_id":1491185,"elapsed":0.0056250959751196206,"elapsed_instrumentation":0.00018718698993325233},{"id":1491193,"event":"return","thread_id":9160,"parent_id":1491178,"elapsed":0.012748094974085689,"elapsed_instrumentation":0.00010432602721266448},{"id":1491194,"event":"return","thread_id":9160,"parent_id":1491165,"elapsed":0.01604959400719963,"elapsed_instrumentation":0.0002949920017272234,"return_value":{"class":"String","value":"2c5765fb634a4caaf7b78c7c","object_id":8115600}},{"id":1491195,"event":"return","thread_id":9160,"parent_id":1491110,"elapsed":0.049115909001557156,"elapsed_instrumentation":0.00040968001121655107,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc082a1e08>","object_id":8115440}},{"id":1491196,"event":"return","thread_id":9160,"parent_id":1491109,"elapsed":0.049559312989003956,"elapsed_instrumentation":0.0001198869722429663,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc082a1e08>","object_id":8115440}},{"id":1491197,"event":"return","thread_id":9160,"parent_id":1491108,"elapsed":0.04972675701719709,"elapsed_instrumentation":0.00023464398691430688,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc082a1e08>","object_id":8115440}},{"id":1491198,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8115940,"value":"relationship:111360521959113256:111360521959113265","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8115960,"value":"#<UnfollowService:0x00007fdc0a5c8120>"}},{"id":1491199,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8115960,"value":"#<UnfollowService:0x00007fdc0a5c8120>"}},{"id":1491200,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8115980,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8116000,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491201,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491202,"event":"return","thread_id":9160,"parent_id":1491201,"elapsed":2.949003828689456e-06,"elapsed_instrumentation":0.0005877670191694051,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1491203,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8116020,"value":"__,o\"____^\u00067__\u0015_"}},{"id":1491204,"event":"return","thread_id":9160,"parent_id":1491203,"elapsed":7.866998203098774e-06,"elapsed_instrumentation":0.0002340670325793326,"return_value":{"class":"Array","value":"[2661166191, 8858, 64726, 50526, 1591, 2979075490]","object_id":8116040,"size":6}},{"id":1491205,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491206,"event":"return","thread_id":9160,"parent_id":1491205,"elapsed":0.000855161,"elapsed_instrumentation":0.00011116600944660604},{"id":1491207,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8116060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491208,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491209,"event":"return","thread_id":9160,"parent_id":1491208,"elapsed":0.0008598,"elapsed_instrumentation":0.00011336000170558691},{"id":1491210,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491211,"event":"return","thread_id":9160,"parent_id":1491210,"elapsed":0.000780717,"elapsed_instrumentation":0.00012245599646121264},{"id":1491212,"event":"return","thread_id":9160,"parent_id":1491207,"elapsed":0.004079810983967036,"elapsed_instrumentation":0.00036432899651117623,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1491213,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1491214,"event":"return","thread_id":9160,"parent_id":1491213,"elapsed":0.001632779,"elapsed_instrumentation":0.00011278301826678216},{"id":1491215,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8116060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491216,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1491217,"event":"return","thread_id":9160,"parent_id":1491216,"elapsed":0.000796504,"elapsed_instrumentation":8.101901039481163e-05},{"id":1491218,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491219,"event":"return","thread_id":9160,"parent_id":1491218,"elapsed":0.000979363,"elapsed_instrumentation":7.590200402773917e-05},{"id":1491220,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8116080,"value":"#<Account:0x00007fdbf649d700>"}},{"id":1491221,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8116080,"value":"#<Account:0x00007fdbf649d700>"}},{"id":1491222,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521959113256, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491223,"event":"return","thread_id":9160,"parent_id":1491222,"elapsed":0.001174998,"elapsed_instrumentation":8.2949991337955e-05},{"id":1491224,"event":"return","thread_id":9160,"parent_id":1491221,"elapsed":0.0019130290020257235,"elapsed_instrumentation":0.00010428702807985246},{"id":1491225,"event":"return","thread_id":9160,"parent_id":1491220,"elapsed":0.0020474559860304,"elapsed_instrumentation":0.0001535880146548152},{"id":1491226,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491227,"event":"return","thread_id":9160,"parent_id":1491226,"elapsed":0.000905714,"elapsed_instrumentation":7.441698107868433e-05},{"id":1491228,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8116100,"value":"#<Account:0x00007fdbf649c080>"}},{"id":1491229,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8116100,"value":"#<Account:0x00007fdbf649c080>"}},{"id":1491230,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521959113265, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491231,"event":"return","thread_id":9160,"parent_id":1491230,"elapsed":0.00176345,"elapsed_instrumentation":0.00031228800071403384},{"id":1491232,"event":"return","thread_id":9160,"parent_id":1491229,"elapsed":0.0029242690070532262,"elapsed_instrumentation":0.0001810890098568052},{"id":1491233,"event":"return","thread_id":9160,"parent_id":1491228,"elapsed":0.0031527139944955707,"elapsed_instrumentation":0.00023109299945645034},{"id":1491234,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8116080,"value":"#<Account:0x00007fdbf649d700>"}},{"id":1491235,"event":"return","thread_id":9160,"parent_id":1491234,"elapsed":2.9618007829412818e-05,"elapsed_instrumentation":0.00029199401615187526,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491236,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8116100,"value":"#<Account:0x00007fdbf649c080>"}},{"id":1491237,"event":"return","thread_id":9160,"parent_id":1491236,"elapsed":1.7910002497956157e-05,"elapsed_instrumentation":0.00026284699561074376,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491238,"event":"return","thread_id":9160,"parent_id":1491215,"elapsed":0.015119007002795115,"elapsed_instrumentation":0.0004869939584750682,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1491239,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491240,"event":"return","thread_id":9160,"parent_id":1491239,"elapsed":0.000683351,"elapsed_instrumentation":0.00014143998851068318},{"id":1491241,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8116140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491242,"event":"return","thread_id":9160,"parent_id":1491241,"elapsed":3.88998887501657e-06,"elapsed_instrumentation":0.0001427080132998526,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1491243,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8116140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491244,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8116160,"value":"Cache delete: relationship:111360521959113256:111360521959113265\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491245,"event":"return","thread_id":9160,"parent_id":1491244,"elapsed":0.0017177650006487966,"elapsed_instrumentation":0.00015123203047551215,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491246,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8116180,"value":"Cache delete: relationship:111360521959113265:111360521959113256\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491247,"event":"return","thread_id":9160,"parent_id":1491246,"elapsed":0.0015171580016613007,"elapsed_instrumentation":0.00020749098621308804,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491248,"event":"return","thread_id":9160,"parent_id":1491243,"elapsed":0.004079484002431855,"elapsed_instrumentation":0.0001384149945806712,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1491249,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1491250,"event":"return","thread_id":9160,"parent_id":1491249,"elapsed":9.038019925355911e-06,"elapsed_instrumentation":9.788299212232232e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491251,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1491252,"event":"return","thread_id":9160,"parent_id":1491251,"elapsed":6.449990905821323e-06,"elapsed_instrumentation":0.00010395800927653909,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491253,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8116200,"value":"#<Account:0x00007fdc082a2e48>"}},{"id":1491254,"event":"return","thread_id":9160,"parent_id":1491253,"elapsed":1.2397998943924904e-05,"elapsed_instrumentation":6.68749853502959e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491255,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8116220,"value":"{args=>[111360521959113265, 111360521959113256], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8116240,"value":"#<Sidekiq::Client:0x00007fdc0d798600>"}},{"id":1491256,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8116260,"value":"e9^___\u001a__\u001e_*"}},{"id":1491257,"event":"return","thread_id":9160,"parent_id":1491256,"elapsed":7.916009053587914e-06,"elapsed_instrumentation":0.00020653096726164222,"return_value":{"class":"String","value":"65395eb0cfff1aa1c01eb92a","object_id":8116280}},{"id":1491258,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8116300,"value":"[111360521959113265, 111360521959113256]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8116320,"value":"#<JSON::Ext::Generator::State:0x00007fdc0d792e30>"}},{"id":1491259,"event":"return","thread_id":9160,"parent_id":1491258,"elapsed":8.497008820995688e-06,"elapsed_instrumentation":0.0002283609937876463,"return_value":{"class":"String","value":"[111360521959113265,111360521959113256]","object_id":8116340}},{"id":1491260,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8116360,"value":"#<JSON::Ext::Parser:0x00007fdc0d7af9e0>"}},{"id":1491261,"event":"return","thread_id":9160,"parent_id":1491260,"elapsed":5.809997674077749e-06,"elapsed_instrumentation":0.00011060803080908954,"return_value":{"class":"Array","value":"[111360521959113265, 111360521959113256]","object_id":8116380,"size":2}},{"id":1491262,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8116400,"value":"\u0001,pT__:_z{\u0006\u0002"}},{"id":1491263,"event":"return","thread_id":9160,"parent_id":1491262,"elapsed":4.878995241597295e-06,"elapsed_instrumentation":0.00013445300282910466,"return_value":{"class":"String","value":"012c7054bb9c3ade7a7b0602","object_id":8116420}},{"id":1491264,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8116440,"value":"{retry=>true, queue=>pull, args=>[111360521959113265, 111360521959113256], class=>UnmergeWorker, jid=>65395eb0cfff1aa1c01eb92a, created_at=>1699226716.2339056, id=>012c7054bb9c3ade7a7b0602}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8116460,"value":"#<JSON::Ext::Generator::State:0x00007fdc0d7aa490>"}},{"id":1491265,"event":"return","thread_id":9160,"parent_id":1491264,"elapsed":2.7646019589155912e-05,"elapsed_instrumentation":0.0004946499830111861,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521959113265,111360521959113256],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8116480}},{"id":1491266,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8116500,"value":"#<JSON::Ext::Parser:0x00007fdc0d7a1bd8>"}},{"id":1491267,"event":"return","thread_id":9160,"parent_id":1491266,"elapsed":7.241699495352805e-05,"elapsed_instrumentation":0.00024834598298184574,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521959113265, 111360521959113256], class=>UnmergeWorker, jid=>65395eb0cfff1aa1c01eb92a, created_at=>1699226716.2339056, id=>012c7054bb9c3ade7a7b0602}","object_id":8116520,"size":7}},{"id":1491268,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043918226513,"value":"111360521959113256","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8116540,"value":"#<UnmergeWorker:0x00007fdc0d7b9fd0>"}},{"id":1491269,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8116540,"value":"#<UnmergeWorker:0x00007fdc0d7b9fd0>"}},{"id":1491270,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491271,"event":"return","thread_id":9160,"parent_id":1491270,"elapsed":0.001140244,"elapsed_instrumentation":9.841399150900543e-05},{"id":1491272,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491273,"event":"return","thread_id":9160,"parent_id":1491272,"elapsed":0.000960103,"elapsed_instrumentation":0.00015345701831392944},{"id":1491274,"event":"return","thread_id":9160,"parent_id":1491269,"elapsed":0.006774737994419411,"elapsed_instrumentation":0.0001554320042487234,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf6499c40>","object_id":8116560}},{"id":1491275,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8116540,"value":"#<UnmergeWorker:0x00007fdc0d7b9fd0>"}},{"id":1491276,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8116580,"value":"#<Account:0x00007fdbf649a000>","kind":"req"},{"name":"into_account","class":"Account","object_id":8116560,"value":"#<Account:0x00007fdbf6499c40>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491277,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043918226513,"value":"111360521959113256","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491278,"event":"return","thread_id":9160,"parent_id":1491277,"elapsed":7.97101529315114e-06,"elapsed_instrumentation":0.00021293899044394493,"return_value":{"class":"String","value":"feed:home:111360521959113256","object_id":8116600}},{"id":1491279,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491280,"event":"return","thread_id":9160,"parent_id":1491279,"elapsed":9.137002052739263e-06,"elapsed_instrumentation":0.00012396197416819632,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1491281,"event":"return","thread_id":9160,"parent_id":1491276,"elapsed":0.00511698899208568,"elapsed_instrumentation":0.00012897604028694332},{"id":1491282,"event":"return","thread_id":9160,"parent_id":1491275,"elapsed":0.005290655011776835,"elapsed_instrumentation":0.00012691898155026138},{"id":1491283,"event":"return","thread_id":9160,"parent_id":1491268,"elapsed":0.01241334099904634,"elapsed_instrumentation":0.00010775399277918041},{"id":1491284,"event":"return","thread_id":9160,"parent_id":1491255,"elapsed":0.014603698014980182,"elapsed_instrumentation":0.0002692239941097796,"return_value":{"class":"String","value":"65395eb0cfff1aa1c01eb92a","object_id":8116280}},{"id":1491285,"event":"return","thread_id":9160,"parent_id":1491200,"elapsed":0.049322889011818916,"elapsed_instrumentation":0.00018390000332146883,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf649e380>","object_id":8116120}},{"id":1491286,"event":"return","thread_id":9160,"parent_id":1491199,"elapsed":0.04953814501641318,"elapsed_instrumentation":0.00010056496830657125,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf649e380>","object_id":8116120}},{"id":1491287,"event":"return","thread_id":9160,"parent_id":1491198,"elapsed":0.04967904300428927,"elapsed_instrumentation":0.0001618419773876667,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf649e380>","object_id":8116120}},{"id":1491288,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8116620,"value":"relationship:111360521959113257:111360521959113265","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8116640,"value":"#<UnfollowService:0x00007fdc09e4fc90>"}},{"id":1491289,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8116640,"value":"#<UnfollowService:0x00007fdc09e4fc90>"}},{"id":1491290,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8116660,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8116680,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491291,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491292,"event":"return","thread_id":9160,"parent_id":1491291,"elapsed":5.5549899116158485e-06,"elapsed_instrumentation":0.00032576703233644366,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1491293,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8116700,"value":"__L__\u0013*__I__2___"}},{"id":1491294,"event":"return","thread_id":9160,"parent_id":1491293,"elapsed":7.522990927100182e-06,"elapsed_instrumentation":0.00021012200159020722,"return_value":{"class":"Array","value":"[3151318209, 35347, 10899, 42825, 40097, 848930248]","object_id":8116720,"size":6}},{"id":1491295,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491296,"event":"return","thread_id":9160,"parent_id":1491295,"elapsed":0.000716578,"elapsed_instrumentation":0.00014498899690806866},{"id":1491297,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8116740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491298,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491299,"event":"return","thread_id":9160,"parent_id":1491298,"elapsed":0.000663921,"elapsed_instrumentation":0.00012621399946510792},{"id":1491300,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491301,"event":"return","thread_id":9160,"parent_id":1491300,"elapsed":0.000749998,"elapsed_instrumentation":0.00010922600631602108},{"id":1491302,"event":"return","thread_id":9160,"parent_id":1491297,"elapsed":0.0035388940013945103,"elapsed_instrumentation":0.00026338500902056694,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1491303,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1491304,"event":"return","thread_id":9160,"parent_id":1491303,"elapsed":0.000976795,"elapsed_instrumentation":0.0002034009958151728},{"id":1491305,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8116740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491306,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1491307,"event":"return","thread_id":9160,"parent_id":1491306,"elapsed":0.000888647,"elapsed_instrumentation":9.198597399517894e-05},{"id":1491308,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491309,"event":"return","thread_id":9160,"parent_id":1491308,"elapsed":0.000741186,"elapsed_instrumentation":8.27409967314452e-05},{"id":1491310,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8116760,"value":"#<Account:0x00007fdbf6498340>"}},{"id":1491311,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8116760,"value":"#<Account:0x00007fdbf6498340>"}},{"id":1491312,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521959113257, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491313,"event":"return","thread_id":9160,"parent_id":1491312,"elapsed":0.001028791,"elapsed_instrumentation":7.58010137360543e-05},{"id":1491314,"event":"return","thread_id":9160,"parent_id":1491311,"elapsed":0.0015589469985570759,"elapsed_instrumentation":0.00010108100832439959},{"id":1491315,"event":"return","thread_id":9160,"parent_id":1491310,"elapsed":0.0016875530127435923,"elapsed_instrumentation":0.00022729701595380902},{"id":1491316,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491317,"event":"return","thread_id":9160,"parent_id":1491316,"elapsed":0.000733936,"elapsed_instrumentation":7.968000136315823e-05},{"id":1491318,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8116780,"value":"#<Account:0x00007fdbf6497440>"}},{"id":1491319,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8116780,"value":"#<Account:0x00007fdbf6497440>"}},{"id":1491320,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521959113265, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491321,"event":"return","thread_id":9160,"parent_id":1491320,"elapsed":0.00107821,"elapsed_instrumentation":7.842702325433493e-05},{"id":1491322,"event":"return","thread_id":9160,"parent_id":1491319,"elapsed":0.001599456008989364,"elapsed_instrumentation":0.0001817250158637762},{"id":1491323,"event":"return","thread_id":9160,"parent_id":1491318,"elapsed":0.0018084049806930125,"elapsed_instrumentation":0.00012899099965579808},{"id":1491324,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8116760,"value":"#<Account:0x00007fdbf6498340>"}},{"id":1491325,"event":"return","thread_id":9160,"parent_id":1491324,"elapsed":1.4079996617510915e-05,"elapsed_instrumentation":0.0001083100214600563,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491326,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8116780,"value":"#<Account:0x00007fdbf6497440>"}},{"id":1491327,"event":"return","thread_id":9160,"parent_id":1491326,"elapsed":1.757699646987021e-05,"elapsed_instrumentation":0.00025981501676142216,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491328,"event":"return","thread_id":9160,"parent_id":1491305,"elapsed":0.012431281997123733,"elapsed_instrumentation":0.000360803009243682,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1491329,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491330,"event":"return","thread_id":9160,"parent_id":1491329,"elapsed":0.000566165,"elapsed_instrumentation":0.00011281401384621859},{"id":1491331,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8116820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491332,"event":"return","thread_id":9160,"parent_id":1491331,"elapsed":6.107991794124246e-06,"elapsed_instrumentation":0.00020476800273172557,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1491333,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8116820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491334,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8116840,"value":"Cache delete: relationship:111360521959113257:111360521959113265\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491335,"event":"return","thread_id":9160,"parent_id":1491334,"elapsed":0.0013713449880015105,"elapsed_instrumentation":0.0002198540314566344,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491336,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8116860,"value":"Cache delete: relationship:111360521959113265:111360521959113257\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491337,"event":"return","thread_id":9160,"parent_id":1491336,"elapsed":0.0011471059988252819,"elapsed_instrumentation":0.0003011150110978633,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491338,"event":"return","thread_id":9160,"parent_id":1491333,"elapsed":0.003733746998477727,"elapsed_instrumentation":0.00013911002315580845,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1491339,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1491340,"event":"return","thread_id":9160,"parent_id":1491339,"elapsed":1.1213996913284063e-05,"elapsed_instrumentation":0.00010558197391219437,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491341,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1491342,"event":"return","thread_id":9160,"parent_id":1491341,"elapsed":4.261004505679011e-06,"elapsed_instrumentation":6.546301301568747e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491343,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8116880,"value":"#<Account:0x00007fdc082a2a88>"}},{"id":1491344,"event":"return","thread_id":9160,"parent_id":1491343,"elapsed":1.2528995284810662e-05,"elapsed_instrumentation":6.307099829427898e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491345,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8116900,"value":"{args=>[111360521959113265, 111360521959113257], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8116920,"value":"#<Sidekiq::Client:0x00007fdc0dd662d0>"}},{"id":1491346,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8116940,"value":"__\u000e__N_xg\u001385"}},{"id":1491347,"event":"return","thread_id":9160,"parent_id":1491346,"elapsed":4.920002538710833e-06,"elapsed_instrumentation":0.000116286042612046,"return_value":{"class":"String","value":"a1e90edfdd4eae7867133835","object_id":8116960}},{"id":1491348,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8116980,"value":"[111360521959113265, 111360521959113257]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8117000,"value":"#<JSON::Ext::Generator::State:0x00007fdc0dd8c250>"}},{"id":1491349,"event":"return","thread_id":9160,"parent_id":1491348,"elapsed":7.739989086985588e-06,"elapsed_instrumentation":0.00012855997192673385,"return_value":{"class":"String","value":"[111360521959113265,111360521959113257]","object_id":8117020}},{"id":1491350,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8117040,"value":"#<JSON::Ext::Parser:0x00007fdc0dd8a4c8>"}},{"id":1491351,"event":"return","thread_id":9160,"parent_id":1491350,"elapsed":6.223999662324786e-06,"elapsed_instrumentation":0.00033657700987532735,"return_value":{"class":"Array","value":"[111360521959113265, 111360521959113257]","object_id":8117060,"size":2}},{"id":1491352,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8117080,"value":"_0\u001f_E\u0019\u0015___7j"}},{"id":1491353,"event":"return","thread_id":9160,"parent_id":1491352,"elapsed":4.563014954328537e-06,"elapsed_instrumentation":0.00014778698096051812,"return_value":{"class":"String","value":"f9301f93451915f2ac96376a","object_id":8117100}},{"id":1491354,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8117120,"value":"{retry=>true, queue=>pull, args=>[111360521959113265, 111360521959113257], class=>UnmergeWorker, jid=>a1e90edfdd4eae7867133835, created_at=>1699226716.2786062, id=>f9301f93451915f2ac96376a}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8117140,"value":"#<JSON::Ext::Generator::State:0x00007fdc0dd86878>"}},{"id":1491355,"event":"return","thread_id":9160,"parent_id":1491354,"elapsed":1.8580991309136152e-05,"elapsed_instrumentation":0.00022146801347844303,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521959113265,111360521959113257],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8117160}},{"id":1491356,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8117180,"value":"#<JSON::Ext::Parser:0x00007fdc0dd81238>"}},{"id":1491357,"event":"return","thread_id":9160,"parent_id":1491356,"elapsed":2.2909982362762094e-05,"elapsed_instrumentation":0.00019749300554394722,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521959113265, 111360521959113257], class=>UnmergeWorker, jid=>a1e90edfdd4eae7867133835, created_at=>1699226716.2786062, id=>f9301f93451915f2ac96376a}","object_id":8117200,"size":7}},{"id":1491358,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043918226515,"value":"111360521959113257","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8117220,"value":"#<UnmergeWorker:0x00007fdc0ddc8958>"}},{"id":1491359,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8117220,"value":"#<UnmergeWorker:0x00007fdc0ddc8958>"}},{"id":1491360,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491361,"event":"return","thread_id":9160,"parent_id":1491360,"elapsed":0.00099328,"elapsed_instrumentation":0.00037249299930408597},{"id":1491362,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491363,"event":"return","thread_id":9160,"parent_id":1491362,"elapsed":0.000617833,"elapsed_instrumentation":0.00010937100159935653},{"id":1491364,"event":"return","thread_id":9160,"parent_id":1491359,"elapsed":0.005190444993786514,"elapsed_instrumentation":0.00013306099572218955,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf6495a00>","object_id":8117240}},{"id":1491365,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8117220,"value":"#<UnmergeWorker:0x00007fdc0ddc8958>"}},{"id":1491366,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8117260,"value":"#<Account:0x00007fdbf6495b40>","kind":"req"},{"name":"into_account","class":"Account","object_id":8117240,"value":"#<Account:0x00007fdbf6495a00>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491367,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043918226515,"value":"111360521959113257","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491368,"event":"return","thread_id":9160,"parent_id":1491367,"elapsed":5.289010005071759e-06,"elapsed_instrumentation":0.00016982495435513556,"return_value":{"class":"String","value":"feed:home:111360521959113257","object_id":8117280}},{"id":1491369,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491370,"event":"return","thread_id":9160,"parent_id":1491369,"elapsed":8.084025466814637e-06,"elapsed_instrumentation":0.00010745596955530345,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1491371,"event":"return","thread_id":9160,"parent_id":1491366,"elapsed":0.005342193995602429,"elapsed_instrumentation":0.00011784798698499799},{"id":1491372,"event":"return","thread_id":9160,"parent_id":1491365,"elapsed":0.0056902609940152615,"elapsed_instrumentation":9.264500113204122e-05},{"id":1491373,"event":"return","thread_id":9160,"parent_id":1491358,"elapsed":0.011159251007484272,"elapsed_instrumentation":0.0003983959904871881},{"id":1491374,"event":"return","thread_id":9160,"parent_id":1491345,"elapsed":0.013154619984561577,"elapsed_instrumentation":0.0002134130336344242,"return_value":{"class":"String","value":"a1e90edfdd4eae7867133835","object_id":8116960}},{"id":1491375,"event":"return","thread_id":9160,"parent_id":1491290,"elapsed":0.04244877499877475,"elapsed_instrumentation":0.00041000801138579845,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf6499880>","object_id":8116800}},{"id":1491376,"event":"return","thread_id":9160,"parent_id":1491289,"elapsed":0.042900909000309184,"elapsed_instrumentation":0.00014242198085412383,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf6499880>","object_id":8116800}},{"id":1491377,"event":"return","thread_id":9160,"parent_id":1491288,"elapsed":0.04309671898954548,"elapsed_instrumentation":0.0002196040004491806,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf6499880>","object_id":8116800}},{"id":1491378,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8117300,"value":"relationship:111360521959113258:111360521959113265","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8117320,"value":"#<UnfollowService:0x00007fdc09e489e0>"}},{"id":1491379,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8117320,"value":"#<UnfollowService:0x00007fdc09e489e0>"}},{"id":1491380,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8117340,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8117360,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491381,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491382,"event":"return","thread_id":9160,"parent_id":1491381,"elapsed":3.847002517431974e-06,"elapsed_instrumentation":7.754997932352126e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1491383,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8117380,"value":"\u0010____4_(g_\f\u001d__k_"}},{"id":1491384,"event":"return","thread_id":9160,"parent_id":1491383,"elapsed":7.091002771630883e-06,"elapsed_instrumentation":0.00015041601727716625,"return_value":{"class":"Array","value":"[281082058, 57396, 57128, 26525, 3101, 3196283875]","object_id":8117400,"size":6}},{"id":1491385,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491386,"event":"return","thread_id":9160,"parent_id":1491385,"elapsed":0.000473653,"elapsed_instrumentation":0.0003104400238953531},{"id":1491387,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8117420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491388,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491389,"event":"return","thread_id":9160,"parent_id":1491388,"elapsed":0.000474006,"elapsed_instrumentation":0.00011389600695110857},{"id":1491390,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491391,"event":"return","thread_id":9160,"parent_id":1491390,"elapsed":0.000575715,"elapsed_instrumentation":7.653699140064418e-05},{"id":1491392,"event":"return","thread_id":9160,"parent_id":1491387,"elapsed":0.003639451984781772,"elapsed_instrumentation":0.0002229000092484057,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1491393,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1491394,"event":"return","thread_id":9160,"parent_id":1491393,"elapsed":0.000776107,"elapsed_instrumentation":9.51009860727936e-05},{"id":1491395,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8117420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491396,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1491397,"event":"return","thread_id":9160,"parent_id":1491396,"elapsed":0.000630004,"elapsed_instrumentation":0.00019869799143634737},{"id":1491398,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491399,"event":"return","thread_id":9160,"parent_id":1491398,"elapsed":0.000934921,"elapsed_instrumentation":0.00014951397315599024},{"id":1491400,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8117440,"value":"#<Account:0x00007fdbf6494ec0>"}},{"id":1491401,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8117440,"value":"#<Account:0x00007fdbf6494ec0>"}},{"id":1491402,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521959113258, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491403,"event":"return","thread_id":9160,"parent_id":1491402,"elapsed":0.001031934,"elapsed_instrumentation":0.00012274502660147846},{"id":1491404,"event":"return","thread_id":9160,"parent_id":1491401,"elapsed":0.0021518919966183603,"elapsed_instrumentation":0.00010970700532197952},{"id":1491405,"event":"return","thread_id":9160,"parent_id":1491400,"elapsed":0.002292752993525937,"elapsed_instrumentation":0.0001869850093498826},{"id":1491406,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491407,"event":"return","thread_id":9160,"parent_id":1491406,"elapsed":0.000771622,"elapsed_instrumentation":0.00015073601389303803},{"id":1491408,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8117460,"value":"#<Account:0x00007fdbf6493d40>"}},{"id":1491409,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8117460,"value":"#<Account:0x00007fdbf6493d40>"}},{"id":1491410,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521959113265, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491411,"event":"return","thread_id":9160,"parent_id":1491410,"elapsed":0.001086309,"elapsed_instrumentation":0.00020414701430127025},{"id":1491412,"event":"return","thread_id":9160,"parent_id":1491409,"elapsed":0.002330265997443348,"elapsed_instrumentation":0.00010988800204358995},{"id":1491413,"event":"return","thread_id":9160,"parent_id":1491408,"elapsed":0.0024709429999347776,"elapsed_instrumentation":0.0001652069913689047},{"id":1491414,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8117440,"value":"#<Account:0x00007fdbf6494ec0>"}},{"id":1491415,"event":"return","thread_id":9160,"parent_id":1491414,"elapsed":2.410597517155111e-05,"elapsed_instrumentation":0.00015711798914708197,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491416,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8117460,"value":"#<Account:0x00007fdbf6493d40>"}},{"id":1491417,"event":"return","thread_id":9160,"parent_id":1491416,"elapsed":1.3329990906640887e-05,"elapsed_instrumentation":0.00011410500155761838,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491418,"event":"return","thread_id":9160,"parent_id":1491395,"elapsed":0.015559608989860862,"elapsed_instrumentation":0.0007966789999045432,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1491419,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491420,"event":"return","thread_id":9160,"parent_id":1491419,"elapsed":0.000769681,"elapsed_instrumentation":8.371000876650214e-05},{"id":1491421,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8117500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491422,"event":"return","thread_id":9160,"parent_id":1491421,"elapsed":5.723006324842572e-06,"elapsed_instrumentation":0.00037374699604697526,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1491423,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8117500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491424,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8117520,"value":"Cache delete: relationship:111360521959113258:111360521959113265\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491425,"event":"return","thread_id":9160,"parent_id":1491424,"elapsed":0.0015447739860974252,"elapsed_instrumentation":0.00013443001080304384,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491426,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8117540,"value":"Cache delete: relationship:111360521959113265:111360521959113258\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491427,"event":"return","thread_id":9160,"parent_id":1491426,"elapsed":0.0011267329973634332,"elapsed_instrumentation":0.00022123902454040945,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491428,"event":"return","thread_id":9160,"parent_id":1491423,"elapsed":0.0034306159941479564,"elapsed_instrumentation":0.00017624502652324736,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1491429,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1491430,"event":"return","thread_id":9160,"parent_id":1491429,"elapsed":1.759998849593103e-05,"elapsed_instrumentation":0.00020577199757099152,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491431,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1491432,"event":"return","thread_id":9160,"parent_id":1491431,"elapsed":9.350012987852097e-06,"elapsed_instrumentation":0.00014369998825713992,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491433,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8117560,"value":"#<Account:0x00007fdc082a2948>"}},{"id":1491434,"event":"return","thread_id":9160,"parent_id":1491433,"elapsed":1.7565995221957564e-05,"elapsed_instrumentation":0.000123867008369416,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491435,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8117580,"value":"{args=>[111360521959113265, 111360521959113258], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8117600,"value":"#<Sidekiq::Client:0x00007fdc0db84778>"}},{"id":1491436,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8117620,"value":"\u001e\u0010_h_\u0017_|^_Z*"}},{"id":1491437,"event":"return","thread_id":9160,"parent_id":1491436,"elapsed":6.027985364198685e-06,"elapsed_instrumentation":0.0003683589748106897,"return_value":{"class":"String","value":"1e10d368bd17847c5e955a2a","object_id":8117640}},{"id":1491438,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8117660,"value":"[111360521959113265, 111360521959113258]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8117680,"value":"#<JSON::Ext::Generator::State:0x00007fdc0dba4820>"}},{"id":1491439,"event":"return","thread_id":9160,"parent_id":1491438,"elapsed":1.7112994100898504e-05,"elapsed_instrumentation":0.0006048640061635524,"return_value":{"class":"String","value":"[111360521959113265,111360521959113258]","object_id":8117700}},{"id":1491440,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8117720,"value":"#<JSON::Ext::Parser:0x00007fdc0dba0888>"}},{"id":1491441,"event":"return","thread_id":9160,"parent_id":1491440,"elapsed":6.838992703706026e-06,"elapsed_instrumentation":0.0001329889928456396,"return_value":{"class":"Array","value":"[111360521959113265, 111360521959113258]","object_id":8117740,"size":2}},{"id":1491442,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8117760,"value":">'{w0N_h%tN"}},{"id":1491443,"event":"return","thread_id":9160,"parent_id":1491442,"elapsed":5.2470131777226925e-06,"elapsed_instrumentation":0.0002802659582812339,"return_value":{"class":"String","value":"3e7f277b77304ecd6825744e","object_id":8117780}},{"id":1491444,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8117800,"value":"{retry=>true, queue=>pull, args=>[111360521959113265, 111360521959113258], class=>UnmergeWorker, jid=>1e10d368bd17847c5e955a2a, created_at=>1699226716.3254435, id=>3e7f277b77304ecd6825744e}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8117820,"value":"#<JSON::Ext::Generator::State:0x00007fdc0b446e90>"}},{"id":1491445,"event":"return","thread_id":9160,"parent_id":1491444,"elapsed":1.944799441844225e-05,"elapsed_instrumentation":0.00024950600345619023,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521959113265,111360521959113258],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8117840}},{"id":1491446,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8117860,"value":"#<JSON::Ext::Parser:0x00007fdc0b47e408>"}},{"id":1491447,"event":"return","thread_id":9160,"parent_id":1491446,"elapsed":2.231498365290463e-05,"elapsed_instrumentation":0.00039166799979284406,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521959113265, 111360521959113258], class=>UnmergeWorker, jid=>1e10d368bd17847c5e955a2a, created_at=>1699226716.3254435, id=>3e7f277b77304ecd6825744e}","object_id":8117880,"size":7}},{"id":1491448,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043918226517,"value":"111360521959113258","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8117900,"value":"#<UnmergeWorker:0x00007fdc0b48abb8>"}},{"id":1491449,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8117900,"value":"#<UnmergeWorker:0x00007fdc0b48abb8>"}},{"id":1491450,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491451,"event":"return","thread_id":9160,"parent_id":1491450,"elapsed":0.000956482,"elapsed_instrumentation":0.00010426697554066777},{"id":1491452,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491453,"event":"return","thread_id":9160,"parent_id":1491452,"elapsed":0.000766101,"elapsed_instrumentation":0.00014770901179872453},{"id":1491454,"event":"return","thread_id":9160,"parent_id":1491449,"elapsed":0.004902021988527849,"elapsed_instrumentation":0.0001278810086660087,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf6492800>","object_id":8117920}},{"id":1491455,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8117900,"value":"#<UnmergeWorker:0x00007fdc0b48abb8>"}},{"id":1491456,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8117940,"value":"#<Account:0x00007fdbf6492940>","kind":"req"},{"name":"into_account","class":"Account","object_id":8117920,"value":"#<Account:0x00007fdbf6492800>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491457,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043918226517,"value":"111360521959113258","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491458,"event":"return","thread_id":9160,"parent_id":1491457,"elapsed":5.058012902736664e-06,"elapsed_instrumentation":0.00010455597657710314,"return_value":{"class":"String","value":"feed:home:111360521959113258","object_id":8117960}},{"id":1491459,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491460,"event":"return","thread_id":9160,"parent_id":1491459,"elapsed":5.556998075917363e-06,"elapsed_instrumentation":7.572499453090131e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1491461,"event":"return","thread_id":9160,"parent_id":1491456,"elapsed":0.0035915490007027984,"elapsed_instrumentation":0.00010984201799146831},{"id":1491462,"event":"return","thread_id":9160,"parent_id":1491455,"elapsed":0.0037356239918153733,"elapsed_instrumentation":9.561202023178339e-05},{"id":1491463,"event":"return","thread_id":9160,"parent_id":1491448,"elapsed":0.008910468983231112,"elapsed_instrumentation":0.00010964099783450365},{"id":1491464,"event":"return","thread_id":9160,"parent_id":1491435,"elapsed":0.012287723016925156,"elapsed_instrumentation":0.00020577298710122705,"return_value":{"class":"String","value":"1e10d368bd17847c5e955a2a","object_id":8117640}},{"id":1491465,"event":"return","thread_id":9160,"parent_id":1491380,"elapsed":0.044212658976903185,"elapsed_instrumentation":0.00016824400518089533,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf6495780>","object_id":8117480}},{"id":1491466,"event":"return","thread_id":9160,"parent_id":1491379,"elapsed":0.04440687401802279,"elapsed_instrumentation":0.00013324999599717557,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf6495780>","object_id":8117480}},{"id":1491467,"event":"return","thread_id":9160,"parent_id":1491378,"elapsed":0.044667934998869896,"elapsed_instrumentation":0.0004491180006880313,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf6495780>","object_id":8117480}},{"id":1491468,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8117980,"value":"relationship:111360521959113259:111360521959113265","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8118000,"value":"#<UnfollowService:0x00007fdc09e41500>"}},{"id":1491469,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8118000,"value":"#<UnfollowService:0x00007fdc09e41500>"}},{"id":1491470,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8118020,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8118040,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491471,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491472,"event":"return","thread_id":9160,"parent_id":1491471,"elapsed":3.1129748094826937e-06,"elapsed_instrumentation":0.0003790290211327374,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1491473,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8118060,"value":"K\u00196__.R}#V&__F\u00048"}},{"id":1491474,"event":"return","thread_id":9160,"parent_id":1491473,"elapsed":7.811991963535547e-06,"elapsed_instrumentation":0.00022791296942159534,"return_value":{"class":"Array","value":"[1259943557, 41518, 21117, 9046, 9862, 3829793848]","object_id":8118080,"size":6}},{"id":1491475,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491476,"event":"return","thread_id":9160,"parent_id":1491475,"elapsed":0.001330075,"elapsed_instrumentation":0.00022785502369515598},{"id":1491477,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8118100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491478,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491479,"event":"return","thread_id":9160,"parent_id":1491478,"elapsed":0.000698133,"elapsed_instrumentation":9.746997966431081e-05},{"id":1491480,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491481,"event":"return","thread_id":9160,"parent_id":1491480,"elapsed":0.000403442,"elapsed_instrumentation":8.346501272171736e-05},{"id":1491482,"event":"return","thread_id":9160,"parent_id":1491477,"elapsed":0.0033818329975474626,"elapsed_instrumentation":0.00027358002262189984,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1491483,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1491484,"event":"return","thread_id":9160,"parent_id":1491483,"elapsed":0.000964742,"elapsed_instrumentation":7.783298497088253e-05},{"id":1491485,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8118100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491486,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1491487,"event":"return","thread_id":9160,"parent_id":1491486,"elapsed":0.000933026,"elapsed_instrumentation":8.246599463745952e-05},{"id":1491488,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491489,"event":"return","thread_id":9160,"parent_id":1491488,"elapsed":0.000925175,"elapsed_instrumentation":7.93730141595006e-05},{"id":1491490,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8118120,"value":"#<Account:0x00007fdbf6491900>"}},{"id":1491491,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8118120,"value":"#<Account:0x00007fdbf6491900>"}},{"id":1491492,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521959113259, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491493,"event":"return","thread_id":9160,"parent_id":1491492,"elapsed":0.001235596,"elapsed_instrumentation":0.00011481900583021343},{"id":1491494,"event":"return","thread_id":9160,"parent_id":1491491,"elapsed":0.001902540010632947,"elapsed_instrumentation":0.00011769702541641891},{"id":1491495,"event":"return","thread_id":9160,"parent_id":1491490,"elapsed":0.0020547900057863444,"elapsed_instrumentation":0.00022152700694277883},{"id":1491496,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491497,"event":"return","thread_id":9160,"parent_id":1491496,"elapsed":0.000972772,"elapsed_instrumentation":0.00033042000723071396},{"id":1491498,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8118140,"value":"#<Account:0x00007fdbf6490a00>"}},{"id":1491499,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8118140,"value":"#<Account:0x00007fdbf6490a00>"}},{"id":1491500,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521959113265, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491501,"event":"return","thread_id":9160,"parent_id":1491500,"elapsed":0.001362078,"elapsed_instrumentation":0.0001072439772542566},{"id":1491502,"event":"return","thread_id":9160,"parent_id":1491499,"elapsed":0.0029233010136522353,"elapsed_instrumentation":0.00016203196719288826},{"id":1491503,"event":"return","thread_id":9160,"parent_id":1491498,"elapsed":0.0031255180074367672,"elapsed_instrumentation":0.00023217301350086927},{"id":1491504,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8118120,"value":"#<Account:0x00007fdbf6491900>"}},{"id":1491505,"event":"return","thread_id":9160,"parent_id":1491504,"elapsed":1.9490980776026845e-05,"elapsed_instrumentation":0.00015660602366551757,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491506,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8118140,"value":"#<Account:0x00007fdbf6490a00>"}},{"id":1491507,"event":"return","thread_id":9160,"parent_id":1491506,"elapsed":8.281000191345811e-06,"elapsed_instrumentation":7.730000652372837e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491508,"event":"return","thread_id":9160,"parent_id":1491485,"elapsed":0.01584972601267509,"elapsed_instrumentation":0.0002356469922233373,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1491509,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491510,"event":"return","thread_id":9160,"parent_id":1491509,"elapsed":0.000553352,"elapsed_instrumentation":0.00010095699690282345},{"id":1491511,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8118180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491512,"event":"return","thread_id":9160,"parent_id":1491511,"elapsed":3.5190023481845856e-06,"elapsed_instrumentation":0.00014277099398896098,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1491513,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8118180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491514,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8118200,"value":"Cache delete: relationship:111360521959113259:111360521959113265\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491515,"event":"return","thread_id":9160,"parent_id":1491514,"elapsed":0.0015097369905561209,"elapsed_instrumentation":0.00030875002266839147,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491516,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8118220,"value":"Cache delete: relationship:111360521959113265:111360521959113259\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491517,"event":"return","thread_id":9160,"parent_id":1491516,"elapsed":0.0019350869988556951,"elapsed_instrumentation":0.00019985903054475784,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491518,"event":"return","thread_id":9160,"parent_id":1491513,"elapsed":0.004722116980701685,"elapsed_instrumentation":0.0002107640029862523,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1491519,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1491520,"event":"return","thread_id":9160,"parent_id":1491519,"elapsed":1.3479002518579364e-05,"elapsed_instrumentation":0.00012438299017958343,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491521,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1491522,"event":"return","thread_id":9160,"parent_id":1491521,"elapsed":5.173002136871219e-06,"elapsed_instrumentation":9.261499508284032e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491523,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8118240,"value":"#<Account:0x00007fdc082a26c8>"}},{"id":1491524,"event":"return","thread_id":9160,"parent_id":1491523,"elapsed":5.4755015298724174e-05,"elapsed_instrumentation":0.0003185319947078824,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491525,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8118260,"value":"{args=>[111360521959113265, 111360521959113259], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8118280,"value":"#<Sidekiq::Client:0x00007fdc0b26ae50>"}},{"id":1491526,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8118300,"value":"|_$9___\"w=[f"}},{"id":1491527,"event":"return","thread_id":9160,"parent_id":1491526,"elapsed":5.257985321804881e-06,"elapsed_instrumentation":0.00012243000674061477,"return_value":{"class":"String","value":"7cbf243980d08422773d5b66","object_id":8118320}},{"id":1491528,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8118340,"value":"[111360521959113265, 111360521959113259]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8118360,"value":"#<JSON::Ext::Generator::State:0x00007fdc0b28b060>"}},{"id":1491529,"event":"return","thread_id":9160,"parent_id":1491528,"elapsed":1.697000698186457e-05,"elapsed_instrumentation":0.0004296130209695548,"return_value":{"class":"String","value":"[111360521959113265,111360521959113259]","object_id":8118380}},{"id":1491530,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8118400,"value":"#<JSON::Ext::Parser:0x00007fdc0b287488>"}},{"id":1491531,"event":"return","thread_id":9160,"parent_id":1491530,"elapsed":6.0019956436008215e-06,"elapsed_instrumentation":0.00011466298019513488,"return_value":{"class":"Array","value":"[111360521959113265, 111360521959113259]","object_id":8118420,"size":2}},{"id":1491532,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8118440,"value":"\u0019_#t_&\u0005_A\u0016=\u0018"}},{"id":1491533,"event":"return","thread_id":9160,"parent_id":1491532,"elapsed":4.069006536155939e-06,"elapsed_instrumentation":0.00010949998977594078,"return_value":{"class":"String","value":"19c42374d326059541163d18","object_id":8118460}},{"id":1491534,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8118480,"value":"{retry=>true, queue=>pull, args=>[111360521959113265, 111360521959113259], class=>UnmergeWorker, jid=>7cbf243980d08422773d5b66, created_at=>1699226716.3728313, id=>19c42374d326059541163d18}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8118500,"value":"#<JSON::Ext::Generator::State:0x00007fdc0b282230>"}},{"id":1491535,"event":"return","thread_id":9160,"parent_id":1491534,"elapsed":2.0251987734809518e-05,"elapsed_instrumentation":0.0004913299926556647,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521959113265,111360521959113259],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8118520}},{"id":1491536,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8118540,"value":"#<JSON::Ext::Parser:0x00007fdc0b2a03e8>"}},{"id":1491537,"event":"return","thread_id":9160,"parent_id":1491536,"elapsed":3.712298348546028e-05,"elapsed_instrumentation":0.00032132602063938975,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521959113265, 111360521959113259], class=>UnmergeWorker, jid=>7cbf243980d08422773d5b66, created_at=>1699226716.3728313, id=>19c42374d326059541163d18}","object_id":8118560,"size":7}},{"id":1491538,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043918226519,"value":"111360521959113259","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8118580,"value":"#<UnmergeWorker:0x00007fdc0b2c45b8>"}},{"id":1491539,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8118580,"value":"#<UnmergeWorker:0x00007fdc0b2c45b8>"}},{"id":1491540,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491541,"event":"return","thread_id":9160,"parent_id":1491540,"elapsed":0.001393401,"elapsed_instrumentation":0.00014764699153602123},{"id":1491542,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491543,"event":"return","thread_id":9160,"parent_id":1491542,"elapsed":0.00098874,"elapsed_instrumentation":0.00010670701158232987},{"id":1491544,"event":"return","thread_id":9160,"parent_id":1491539,"elapsed":0.006732673005899414,"elapsed_instrumentation":0.00018695701146498322,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64aeed8>","object_id":8118600}},{"id":1491545,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8118580,"value":"#<UnmergeWorker:0x00007fdc0b2c45b8>"}},{"id":1491546,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8118620,"value":"#<Account:0x00007fdbf64af018>","kind":"req"},{"name":"into_account","class":"Account","object_id":8118600,"value":"#<Account:0x00007fdbf64aeed8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491547,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043918226519,"value":"111360521959113259","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491548,"event":"return","thread_id":9160,"parent_id":1491547,"elapsed":5.457986844703555e-06,"elapsed_instrumentation":0.00018005797755904496,"return_value":{"class":"String","value":"feed:home:111360521959113259","object_id":8118640}},{"id":1491549,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491550,"event":"return","thread_id":9160,"parent_id":1491549,"elapsed":6.030022632330656e-06,"elapsed_instrumentation":9.75669827312231e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1491551,"event":"return","thread_id":9160,"parent_id":1491546,"elapsed":0.004293033998692408,"elapsed_instrumentation":0.00027564598713070154},{"id":1491552,"event":"return","thread_id":9160,"parent_id":1491545,"elapsed":0.004629369010217488,"elapsed_instrumentation":0.00011936202645301819},{"id":1491553,"event":"return","thread_id":9160,"parent_id":1491538,"elapsed":0.012054519000230357,"elapsed_instrumentation":0.0006778509996365756},{"id":1491554,"event":"return","thread_id":9160,"parent_id":1491525,"elapsed":0.014895244006766006,"elapsed_instrumentation":0.00025707803433761,"return_value":{"class":"String","value":"7cbf243980d08422773d5b66","object_id":8118320}},{"id":1491555,"event":"return","thread_id":9160,"parent_id":1491470,"elapsed":0.04936826799530536,"elapsed_instrumentation":0.00047444101073779166,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf6492580>","object_id":8118160}},{"id":1491556,"event":"return","thread_id":9160,"parent_id":1491469,"elapsed":0.04987408401211724,"elapsed_instrumentation":0.00013002398191019893,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf6492580>","object_id":8118160}},{"id":1491557,"event":"return","thread_id":9160,"parent_id":1491468,"elapsed":0.05004856301820837,"elapsed_instrumentation":0.00022995698964223266,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf6492580>","object_id":8118160}},{"id":1491558,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8118660,"value":"relationship:111360521959113260:111360521959113265","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8118680,"value":"#<UnfollowService:0x00007fdc096c74f0>"}},{"id":1491559,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8118680,"value":"#<UnfollowService:0x00007fdc096c74f0>"}},{"id":1491560,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8118700,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8118720,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491561,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491562,"event":"return","thread_id":9160,"parent_id":1491561,"elapsed":4.893983714282513e-06,"elapsed_instrumentation":0.00017748400568962097,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1491563,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8118740,"value":"{[_____1F_&#____"}},{"id":1491564,"event":"return","thread_id":9160,"parent_id":1491563,"elapsed":1.126498682424426e-05,"elapsed_instrumentation":0.00025460601318627596,"return_value":{"class":"Array","value":"[2069614779, 65208, 37425, 18118, 9763, 3317802675]","object_id":8118760,"size":6}},{"id":1491565,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491566,"event":"return","thread_id":9160,"parent_id":1491565,"elapsed":0.000993844,"elapsed_instrumentation":0.00012982499902136624},{"id":1491567,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8118780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491568,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491569,"event":"return","thread_id":9160,"parent_id":1491568,"elapsed":0.000772117,"elapsed_instrumentation":0.00013196401414461434},{"id":1491570,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491571,"event":"return","thread_id":9160,"parent_id":1491570,"elapsed":0.000552197,"elapsed_instrumentation":7.972700404934585e-05},{"id":1491572,"event":"return","thread_id":9160,"parent_id":1491567,"elapsed":0.0037516340089496225,"elapsed_instrumentation":0.0002371680166106671,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1491573,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1491574,"event":"return","thread_id":9160,"parent_id":1491573,"elapsed":0.000980713,"elapsed_instrumentation":8.785098907537758e-05},{"id":1491575,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8118780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491576,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1491577,"event":"return","thread_id":9160,"parent_id":1491576,"elapsed":0.00078616,"elapsed_instrumentation":8.30679782666266e-05},{"id":1491578,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491579,"event":"return","thread_id":9160,"parent_id":1491578,"elapsed":0.000861,"elapsed_instrumentation":8.212399552576244e-05},{"id":1491580,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8118800,"value":"#<Account:0x00007fdbf64ae398>"}},{"id":1491581,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8118800,"value":"#<Account:0x00007fdbf64ae398>"}},{"id":1491582,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360521959113260, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491583,"event":"return","thread_id":9160,"parent_id":1491582,"elapsed":0.001364828,"elapsed_instrumentation":0.00017892199684865773},{"id":1491584,"event":"return","thread_id":9160,"parent_id":1491581,"elapsed":0.0027362969995010644,"elapsed_instrumentation":0.00017006401321850717},{"id":1491585,"event":"return","thread_id":9160,"parent_id":1491580,"elapsed":0.003016219998244196,"elapsed_instrumentation":0.0002335270110052079},{"id":1491586,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491587,"event":"return","thread_id":9160,"parent_id":1491586,"elapsed":0.000993334,"elapsed_instrumentation":0.00010348600335419178},{"id":1491588,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8118820,"value":"#<Account:0x00007fdbf64ad218>"}},{"id":1491589,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8118820,"value":"#<Account:0x00007fdbf64ad218>"}},{"id":1491590,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360521959113265, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491591,"event":"return","thread_id":9160,"parent_id":1491590,"elapsed":0.001104386,"elapsed_instrumentation":0.000101146986708045},{"id":1491592,"event":"return","thread_id":9160,"parent_id":1491589,"elapsed":0.001942815986694768,"elapsed_instrumentation":0.00010882402420975268},{"id":1491593,"event":"return","thread_id":9160,"parent_id":1491588,"elapsed":0.0020842630183324218,"elapsed_instrumentation":0.00016569197759963572},{"id":1491594,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8118800,"value":"#<Account:0x00007fdbf64ae398>"}},{"id":1491595,"event":"return","thread_id":9160,"parent_id":1491594,"elapsed":1.7037003999575973e-05,"elapsed_instrumentation":0.00016708698240108788,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491596,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8118820,"value":"#<Account:0x00007fdbf64ad218>"}},{"id":1491597,"event":"return","thread_id":9160,"parent_id":1491596,"elapsed":5.3809984819963574e-05,"elapsed_instrumentation":0.00010550703154876828,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491598,"event":"return","thread_id":9160,"parent_id":1491575,"elapsed":0.01625371299451217,"elapsed_instrumentation":0.000216982007259503,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1491599,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491600,"event":"return","thread_id":9160,"parent_id":1491599,"elapsed":0.000471353,"elapsed_instrumentation":0.00011853600153699517},{"id":1491601,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8118860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491602,"event":"return","thread_id":9160,"parent_id":1491601,"elapsed":4.76097920909524e-06,"elapsed_instrumentation":0.00041370702092535794,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1491603,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8118860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491604,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8118880,"value":"Cache delete: relationship:111360521959113260:111360521959113265\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491605,"event":"return","thread_id":9160,"parent_id":1491604,"elapsed":0.0017999009869527072,"elapsed_instrumentation":0.0001678669941611588,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491606,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8118900,"value":"Cache delete: relationship:111360521959113265:111360521959113260\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491607,"event":"return","thread_id":9160,"parent_id":1491606,"elapsed":0.0015847570030018687,"elapsed_instrumentation":0.00022469402756541967,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491608,"event":"return","thread_id":9160,"parent_id":1491603,"elapsed":0.004141787008848041,"elapsed_instrumentation":0.00019061801140196621,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1491609,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1491610,"event":"return","thread_id":9160,"parent_id":1491609,"elapsed":1.9072002032771707e-05,"elapsed_instrumentation":0.00019938699551858008,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491611,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8111860,"value":"#<Account:0x00007fdc0727a2a0>"}},{"id":1491612,"event":"return","thread_id":9160,"parent_id":1491611,"elapsed":1.1764001101255417e-05,"elapsed_instrumentation":0.00017075901268981397,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491613,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8118920,"value":"#<Account:0x00007fdc082a2448>"}},{"id":1491614,"event":"return","thread_id":9160,"parent_id":1491613,"elapsed":1.6278994735330343e-05,"elapsed_instrumentation":0.0001402990019414574,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491615,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8118940,"value":"{args=>[111360521959113265, 111360521959113260], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8118960,"value":"#<Sidekiq::Client:0x00007fdc0affb3e0>"}},{"id":1491616,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8118980,"value":"@HFQ_\u0006__j__C"}},{"id":1491617,"event":"return","thread_id":9160,"parent_id":1491616,"elapsed":8.992006769403815e-06,"elapsed_instrumentation":0.0002947560278698802,"return_value":{"class":"String","value":"40484651b706cef66a97b543","object_id":8119000}},{"id":1491618,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8119020,"value":"[111360521959113265, 111360521959113260]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8119040,"value":"#<JSON::Ext::Generator::State:0x00007fdc0b04a1c0>"}},{"id":1491619,"event":"return","thread_id":9160,"parent_id":1491618,"elapsed":1.4546996681019664e-05,"elapsed_instrumentation":0.0002092240029014647,"return_value":{"class":"String","value":"[111360521959113265,111360521959113260]","object_id":8119060}},{"id":1491620,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8119080,"value":"#<JSON::Ext::Parser:0x00007fdc0b05a548>"}},{"id":1491621,"event":"return","thread_id":9160,"parent_id":1491620,"elapsed":9.589013643562794e-06,"elapsed_instrumentation":0.0001636189699638635,"return_value":{"class":"Array","value":"[111360521959113265, 111360521959113260]","object_id":8119100,"size":2}},{"id":1491622,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8119120,"value":"_______`_e\n\b"}},{"id":1491623,"event":"return","thread_id":9160,"parent_id":1491622,"elapsed":1.295600668527186e-05,"elapsed_instrumentation":0.0003452820237725973,"return_value":{"class":"String","value":"feaffebc84a58d60ee650a08","object_id":8119140}},{"id":1491624,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8119160,"value":"{retry=>true, queue=>pull, args=>[111360521959113265, 111360521959113260], class=>UnmergeWorker, jid=>40484651b706cef66a97b543, created_at=>1699226716.4243543, id=>feaffebc84a58d60ee650a08}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8119180,"value":"#<JSON::Ext::Generator::State:0x00007fdc0ac6ed80>"}},{"id":1491625,"event":"return","thread_id":9160,"parent_id":1491624,"elapsed":3.27480083797127e-05,"elapsed_instrumentation":0.0005682619812432677,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360521959113265,111360521959113260],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8119200}},{"id":1491626,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8119220,"value":"#<JSON::Ext::Parser:0x00007fdc0ac67f58>"}},{"id":1491627,"event":"return","thread_id":9160,"parent_id":1491626,"elapsed":3.496999852359295e-05,"elapsed_instrumentation":0.00033340597292408347,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360521959113265, 111360521959113260], class=>UnmergeWorker, jid=>40484651b706cef66a97b543, created_at=>1699226716.4243543, id=>feaffebc84a58d60ee650a08}","object_id":8119240,"size":7}},{"id":1491628,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721043918226531,"value":"111360521959113265","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721043918226521,"value":"111360521959113260","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8119260,"value":"#<UnmergeWorker:0x00007fdc0ac63db8>"}},{"id":1491629,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8119260,"value":"#<UnmergeWorker:0x00007fdc0ac63db8>"}},{"id":1491630,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491631,"event":"return","thread_id":9160,"parent_id":1491630,"elapsed":0.00089461,"elapsed_instrumentation":0.00010585400741547346},{"id":1491632,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491633,"event":"return","thread_id":9160,"parent_id":1491632,"elapsed":0.000946243,"elapsed_instrumentation":0.00015349200111813843},{"id":1491634,"event":"return","thread_id":9160,"parent_id":1491629,"elapsed":0.005914379988098517,"elapsed_instrumentation":0.00017117700190283358,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64aba58>","object_id":8119280}},{"id":1491635,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8119260,"value":"#<UnmergeWorker:0x00007fdc0ac63db8>"}},{"id":1491636,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8119300,"value":"#<Account:0x00007fdbf64abb98>","kind":"req"},{"name":"into_account","class":"Account","object_id":8119280,"value":"#<Account:0x00007fdbf64aba58>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491637,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721043918226521,"value":"111360521959113260","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491638,"event":"return","thread_id":9160,"parent_id":1491637,"elapsed":1.1516996892169118e-05,"elapsed_instrumentation":0.0003110579855274409,"return_value":{"class":"String","value":"feed:home:111360521959113260","object_id":8119320}},{"id":1491639,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491640,"event":"return","thread_id":9160,"parent_id":1491639,"elapsed":8.4240164142102e-06,"elapsed_instrumentation":0.0003174789890181273,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1491641,"event":"return","thread_id":9160,"parent_id":1491636,"elapsed":0.005942557996604592,"elapsed_instrumentation":0.00020112897618673742},{"id":1491642,"event":"return","thread_id":9160,"parent_id":1491635,"elapsed":0.006201673997566104,"elapsed_instrumentation":0.0003800950071308762},{"id":1491643,"event":"return","thread_id":9160,"parent_id":1491628,"elapsed":0.012745915009872988,"elapsed_instrumentation":0.00011696296860463917},{"id":1491644,"event":"return","thread_id":9160,"parent_id":1491615,"elapsed":0.01665052300086245,"elapsed_instrumentation":0.0002844950067810714,"return_value":{"class":"String","value":"40484651b706cef66a97b543","object_id":8119000}},{"id":1491645,"event":"return","thread_id":9160,"parent_id":1491560,"elapsed":0.052166014997055754,"elapsed_instrumentation":0.0004589039890561253,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64aec58>","object_id":8118840}},{"id":1491646,"event":"return","thread_id":9160,"parent_id":1491559,"elapsed":0.05267275799997151,"elapsed_instrumentation":0.00011888399603776634,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64aec58>","object_id":8118840}},{"id":1491647,"event":"return","thread_id":9160,"parent_id":1491558,"elapsed":0.05285926797660068,"elapsed_instrumentation":0.0002095219970215112,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64aec58>","object_id":8118840}},{"id":1491648,"event":"return","thread_id":9160,"parent_id":1490663,"elapsed":0.5747947329946328,"elapsed_instrumentation":0.0006405290041584522,"return_value":{"class":"IO","value":"#<IO:0x00007fdc21298f60>","object_id":4113040}},{"id":1491649,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491650,"event":"return","thread_id":9160,"parent_id":1491649,"elapsed":0.000868717,"elapsed_instrumentation":0.00015105100465007126},{"id":1491651,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"account_id\" WHERE \"follows\".\"target_account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491652,"event":"return","thread_id":9160,"parent_id":1491651,"elapsed":0.00141244,"elapsed_instrumentation":0.00017081198166124523}]}