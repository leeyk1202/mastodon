{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::PreviewCards #remove with relevant preview cards with the --link option deletes thumbnails for local preview cards","source_location":"spec/lib/mastodon/cli/preview_cards_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib","type":"package","children":[{"name":"mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"PreviewCards","type":"class","children":[{"name":"remove","type":"function","location":"lib/mastodon/cli/preview_cards.rb:28","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"parallelize_with_progress","type":"function","location":"lib/mastodon/cli/progress_helper.rb:27","static":false},{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"storage_schema_version","type":"function","location":"lib/paperclip/attachment_extensions.rb:50","static":false},{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false}]}]}]},{"name":"chewy/strategy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"Strategy","type":"class","children":[{"name":"Mastodon","type":"class","children":[{"name":"leave","type":"function","location":"lib/chewy/strategy/mastodon.rb:16","static":false}]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"PreviewCard","type":"class","children":[{"name":"local?","type":"function","location":"app/models/preview_card.rb:101","static":false}]}]},{"name":"validators","type":"package","children":[{"name":"URLValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"app/validators/url_validator.rb:6","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]}],"events":[{"id":1106630,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::PreviewCards","method_id":"remove","path":"lib/mastodon/cli/preview_cards.rb","lineno":28,"static":false,"parameters":[],"receiver":{"class":"Mastodon::CLI::PreviewCards","object_id":6410560,"value":"#<Mastodon::CLI::PreviewCards:0x00007fc9344eb1f0>"}},{"id":1106631,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"parallelize_with_progress","path":"lib/mastodon/cli/progress_helper.rb","lineno":27,"static":false,"parameters":[{"name":"scope","class":"ActiveRecord::Relation","object_id":6410580,"value":"#<PreviewCard::ActiveRecord_Relation:0x00007fc91a2df790>","kind":"req"}],"receiver":{"class":"Mastodon::CLI::PreviewCards","object_id":6410560,"value":"#<Mastodon::CLI::PreviewCards:0x00007fc9344eb1f0>"}},{"id":1106632,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"preview_cards\" WHERE NOT ((\"preview_cards\".\"image_file_name\" = $1 OR \"preview_cards\".\"image_file_name\" IS NULL)) AND \"preview_cards\".\"type\" = $2 AND (updated_at < '2023-05-10 03:00:39.018945')","database_type":"postgres"}},{"id":1106633,"event":"return","thread_id":9160,"parent_id":1106632,"elapsed":0.001175579,"elapsed_instrumentation":0.0002476869849488139},{"id":1106634,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":3,"value":"1","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::PreviewCards","object_id":6410560,"value":"#<Mastodon::CLI::PreviewCards:0x00007fc9344eb1f0>"}},{"id":1106635,"event":"return","thread_id":9160,"parent_id":1106634,"elapsed":0.00011170899961143732,"elapsed_instrumentation":0.00021920102881267667,"return_value":{"class":"ProgressBar::Base","value":"","object_id":6410600}},{"id":1106636,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"preview_cards\".* FROM \"preview_cards\" WHERE NOT ((\"preview_cards\".\"image_file_name\" = $1 OR \"preview_cards\".\"image_file_name\" IS NULL)) AND \"preview_cards\".\"type\" = $2 AND (updated_at < '2023-05-10 03:00:39.018945') ORDER BY \"preview_cards\".\"id\" ASC LIMIT $3","database_type":"postgres"}},{"id":1106637,"event":"return","thread_id":9160,"parent_id":1106636,"elapsed":0.001334736,"elapsed_instrumentation":0.00015536003047600389},{"id":1106638,"event":"call","thread_id":6410620,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6410640,"value":"/system/cache/preview_cards/images/000/000/176/original/attachment.jpg"}},{"id":1106639,"event":"return","thread_id":6410620,"parent_id":1106638,"elapsed":3.438594285398722e-05,"elapsed_instrumentation":0.0007123190443962812,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1106640,"event":"call","thread_id":6410620,"defined_class":"PreviewCard","method_id":"local?","path":"app/models/preview_card.rb","lineno":101,"static":false,"parameters":[],"receiver":{"class":"PreviewCard","object_id":6410660,"value":"#<PreviewCard:0x00007fc91a3d1400>"}},{"id":1106641,"event":"return","thread_id":6410620,"parent_id":1106640,"elapsed":7.761991582810879e-06,"elapsed_instrumentation":0.00040398997953161597},{"id":1106642,"event":"call","thread_id":6410620,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6410640,"value":"/system/cache/preview_cards/images/000/000/176/original/attachment.jpg"}},{"id":1106643,"event":"return","thread_id":6410620,"parent_id":1106642,"elapsed":2.9829039704054594e-05,"elapsed_instrumentation":0.0007704019662924111,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1106644,"event":"call","thread_id":6410620,"defined_class":"PreviewCard","method_id":"local?","path":"app/models/preview_card.rb","lineno":101,"static":false,"parameters":[],"receiver":{"class":"PreviewCard","object_id":6410660,"value":"#<PreviewCard:0x00007fc91a3d1400>"}},{"id":1106645,"event":"return","thread_id":6410620,"parent_id":1106644,"elapsed":4.931003786623478e-06,"elapsed_instrumentation":0.00016771495575085282},{"id":1106646,"event":"call","thread_id":6410620,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6410640,"value":"/images/original/missing.png"}},{"id":1106647,"event":"return","thread_id":6410620,"parent_id":1106646,"elapsed":0.03262045595329255,"elapsed_instrumentation":0.00032961100805550814,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1106648,"event":"call","thread_id":6410620,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6410680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6409000,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931226aa8>"}},{"id":1106649,"event":"return","thread_id":6410620,"parent_id":1106648,"elapsed":3.230199217796326e-05,"elapsed_instrumentation":0.0006297880318015814,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931d4f0b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":6409020,"size":1}},{"id":1106650,"event":"call","thread_id":6410620,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6410700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6409060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931226a58>"}},{"id":1106651,"event":"call","thread_id":6410620,"defined_class":"URLValidator","method_id":"validate_each","path":"app/validators/url_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"PreviewCard","object_id":6410660,"value":"#<PreviewCard:0x00007fc91a3d1400>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":1292188,"value":":url","kind":"req"},{"name":"value","class":"String","object_id":6410720,"value":"http://fahey.test/sandy","kind":"req"}],"receiver":{"class":"URLValidator","object_id":2571080,"value":"#<URLValidator:0x00007fc938645ec0>"}},{"id":1106652,"event":"return","thread_id":6410620,"parent_id":1106651,"elapsed":0.0005141919828020036,"elapsed_instrumentation":0.00026556896045804024},{"id":1106653,"event":"return","thread_id":6410620,"parent_id":1106650,"elapsed":0.001808214990887791,"elapsed_instrumentation":0.001083073962945491,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931d4d3f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d4d620 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d4d800 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d4daa8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d4dcb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d4df58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d4e138 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d4e318 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931d4e5c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":6409100,"size":9}},{"id":1106654,"event":"call","thread_id":6410620,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6410700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6409060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931226a58>"}},{"id":1106655,"event":"return","thread_id":6410620,"parent_id":1106654,"elapsed":7.278984412550926e-06,"elapsed_instrumentation":0.00023711303947493434,"return_value":{"class":"Array","value":"[]","object_id":6409120,"size":0}},{"id":1106656,"event":"call","thread_id":6410620,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6410680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6409000,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931226aa8>"}},{"id":1106657,"event":"return","thread_id":6410620,"parent_id":1106656,"elapsed":2.022995613515377e-05,"elapsed_instrumentation":0.00016499805497005582,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931d4ee30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":6409140,"size":1}},{"id":1106658,"event":"call","thread_id":6410620,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6410740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6409180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931225f18>"}},{"id":1106659,"event":"return","thread_id":6410620,"parent_id":1106658,"elapsed":6.732996553182602e-06,"elapsed_instrumentation":0.0001729929936118424,"return_value":{"class":"Array","value":"[]","object_id":6409200,"size":0}},{"id":1106660,"event":"call","thread_id":6410620,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6410740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6409220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931225f68>"}},{"id":1106661,"event":"return","thread_id":6410620,"parent_id":1106660,"elapsed":0.00014469900634139776,"elapsed_instrumentation":0.0001909379498101771,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931d59790 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":6409240,"size":1}},{"id":1106662,"event":"call","thread_id":6410620,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6410760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6409280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932d2f2f0>"}},{"id":1106663,"event":"return","thread_id":6410620,"parent_id":1106662,"elapsed":5.9889862313866615e-06,"elapsed_instrumentation":0.00018688099225983024,"return_value":{"class":"Array","value":"[]","object_id":6409300,"size":0}},{"id":1106664,"event":"call","thread_id":6410620,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1106665,"event":"return","thread_id":6410620,"parent_id":1106664,"elapsed":0.000720929,"elapsed_instrumentation":0.00012828997569158673},{"id":1106666,"event":"call","thread_id":6410620,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":6410780,"value":"__\u001a8_eH\t_2"}},{"id":1106667,"event":"return","thread_id":6410620,"parent_id":1106666,"elapsed":5.69602707400918e-06,"elapsed_instrumentation":0.0001535439514555037,"return_value":{"class":"String","value":"e89c1a38c16548098132","object_id":6410800}},{"id":1106668,"event":"call","thread_id":6410620,"sql_query":{"sql":"UPDATE \"preview_cards\" SET \"image_file_name\" = $1, \"image_content_type\" = $2, \"image_file_size\" = $3, \"image_updated_at\" = $4, \"updated_at\" = $5 WHERE \"preview_cards\".\"id\" = $6","database_type":"postgres"}},{"id":1106669,"event":"return","thread_id":6410620,"parent_id":1106668,"elapsed":0.002044669,"elapsed_instrumentation":8.178700227290392e-05},{"id":1106670,"event":"call","thread_id":6410620,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6410760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6409280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932d2f2f0>"}},{"id":1106671,"event":"return","thread_id":6410620,"parent_id":1106670,"elapsed":0.00013431900879368186,"elapsed_instrumentation":0.00017707602819427848,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932fd50b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932fd4c80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932fd4938 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":6409460,"size":3}},{"id":1106672,"event":"call","thread_id":6410620,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6410740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6409220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931225f68>"}},{"id":1106673,"event":"return","thread_id":6410620,"parent_id":1106672,"elapsed":3.423017915338278e-06,"elapsed_instrumentation":8.827104466035962e-05,"return_value":{"class":"Array","value":"[]","object_id":6409480,"size":0}},{"id":1106674,"event":"call","thread_id":6410620,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6410740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6409180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931225f18>"}},{"id":1106675,"event":"call","thread_id":6410620,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":6410640,"value":"/images/original/missing.png"}},{"id":1106676,"event":"return","thread_id":6410620,"parent_id":1106675,"elapsed":2.6190944481641054e-05,"elapsed_instrumentation":0.0001868830295279622,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1106677,"event":"return","thread_id":6410620,"parent_id":1106674,"elapsed":0.00025331496726721525,"elapsed_instrumentation":9.033299284055829e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931d58ea8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":6409500,"size":1}},{"id":1106678,"event":"call","thread_id":6410620,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1106679,"event":"return","thread_id":6410620,"parent_id":1106678,"elapsed":0.000583759,"elapsed_instrumentation":7.711199577897787e-05},{"id":1106680,"event":"call","thread_id":6410620,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6410820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6409540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93144fc80>"}},{"id":1106681,"event":"return","thread_id":6410620,"parent_id":1106680,"elapsed":3.7819845601916313e-06,"elapsed_instrumentation":0.0001285020262002945,"return_value":{"class":"Array","value":"[]","object_id":6409560,"size":0}},{"id":1106682,"event":"call","thread_id":6410620,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6410820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":6409540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93144fc80>"}},{"id":1106683,"event":"return","thread_id":6410620,"parent_id":1106682,"elapsed":1.737801358103752e-05,"elapsed_instrumentation":0.00012202601647004485,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931c2ebb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":6409580,"size":1}},{"id":1106684,"event":"call","thread_id":6410620,"defined_class":"Chewy::Strategy::Mastodon","method_id":"leave","path":"lib/chewy/strategy/mastodon.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Chewy::Strategy::Mastodon","object_id":6410840,"value":"#<Chewy::Strategy::Mastodon:0x00007fc932b0a8d0>"}},{"id":1106685,"event":"call","thread_id":6410620,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":6410860,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":6410880,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1106686,"event":"call","thread_id":6410620,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1106687,"event":"return","thread_id":6410620,"parent_id":1106686,"elapsed":3.172957804054022e-06,"elapsed_instrumentation":9.891798254102468e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":1106688,"event":"return","thread_id":6410620,"parent_id":1106685,"elapsed":0.00020945101277902722,"elapsed_instrumentation":0.0001642039860598743,"return_value":{"class":"Array","value":"[]","object_id":6410900,"size":0}},{"id":1106689,"event":"return","thread_id":6410620,"parent_id":1106684,"elapsed":0.000399888027459383,"elapsed_instrumentation":9.280297672376037e-05,"return_value":{"class":"Array","value":"[]","object_id":6410900,"size":0}},{"id":1106690,"event":"return","thread_id":9160,"parent_id":1106631,"elapsed":0.059521107992623,"elapsed_instrumentation":0.0002893590135499835,"return_value":{"class":"Array","value":"[1, 61022]","object_id":6410920,"size":2}},{"id":1106691,"event":"return","thread_id":9160,"parent_id":1106630,"elapsed":0.06166958203539252,"elapsed_instrumentation":0.0003074349369853735,"return_value":{"class":"StringIO","value":"#<StringIO:0x00007fc932b820d8>","object_id":6410940}}]}