{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Tag .search_for finds the exact matching tag as the first item","source_location":"spec/models/tag_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Tag","type":"class","children":[{"name":"display_name","type":"function","location":"app/models/tag.rb:67","static":false},{"name":"search_for","type":"function","location":"app/models/tag.rb:127","static":true},{"name":"normalize","type":"function","location":"app/models/tag.rb:156","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"HashtagNormalizer","type":"class","children":[{"name":"normalize","type":"function","location":"app/lib/hashtag_normalizer.rb:4","static":false}]},{"name":"ASCIIFolding","type":"class","children":[{"name":"fold","type":"function","location":"app/lib/ascii_folding.rb:7","static":false}]}]}]}],"events":[{"id":1181214,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5700>"}},{"id":1181215,"event":"return","thread_id":9160,"parent_id":1181214,"elapsed":2.5074987206608057e-05,"elapsed_instrumentation":0.00043730996549129486,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f63f80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1464740,"size":1}},{"id":1181216,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce56b0>"}},{"id":1181217,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"display_name","path":"app/models/tag.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":6824480,"value":"#<Tag:0x00007fc91a42f640>"}},{"id":1181218,"event":"return","thread_id":9160,"parent_id":1181217,"elapsed":0.00031723297433927655,"elapsed_instrumentation":0.0001870359992608428,"return_value":{"class":"String","value":"matchlater","object_id":6824500}},{"id":1181219,"event":"return","thread_id":9160,"parent_id":1181216,"elapsed":0.0009192810393869877,"elapsed_instrumentation":0.00021877896506339312,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f624c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62680 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f627c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62900 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62a40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62b80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62cc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62e00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62f40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f63120 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...3 more items)]","object_id":1464840,"size":13}},{"id":1181220,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce56b0>"}},{"id":1181221,"event":"return","thread_id":9160,"parent_id":1181220,"elapsed":3.842986188828945e-06,"elapsed_instrumentation":9.781803237274289e-05,"return_value":{"class":"Array","value":"[]","object_id":1464860,"size":0}},{"id":1181222,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5700>"}},{"id":1181223,"event":"return","thread_id":9160,"parent_id":1181222,"elapsed":1.205899752676487e-05,"elapsed_instrumentation":9.179703192785382e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f63e40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1464880,"size":1}},{"id":1181224,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5610>"}},{"id":1181225,"event":"return","thread_id":9160,"parent_id":1181224,"elapsed":4.115980118513107e-06,"elapsed_instrumentation":0.0002387029817327857,"return_value":{"class":"Array","value":"[]","object_id":1464940,"size":0}},{"id":1181226,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5660>"}},{"id":1181227,"event":"return","thread_id":9160,"parent_id":1181226,"elapsed":3.336986992508173e-06,"elapsed_instrumentation":0.00041657802648842335,"return_value":{"class":"Array","value":"[]","object_id":1464980,"size":0}},{"id":1181228,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1465020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5520>"}},{"id":1181229,"event":"return","thread_id":9160,"parent_id":1181228,"elapsed":3.070977982133627e-06,"elapsed_instrumentation":8.849502773955464e-05,"return_value":{"class":"Array","value":"[]","object_id":1465040,"size":0}},{"id":1181230,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1181231,"event":"return","thread_id":9160,"parent_id":1181230,"elapsed":0.000535889,"elapsed_instrumentation":0.00011021399404853582},{"id":1181232,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"tags\" (\"name\", \"created_at\", \"updated_at\", \"usable\", \"trendable\", \"listable\", \"reviewed_at\", \"requested_review_at\", \"last_status_at\", \"max_score\", \"max_score_at\", \"display_name\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":1181233,"event":"return","thread_id":9160,"parent_id":1181232,"elapsed":0.001869494,"elapsed_instrumentation":7.655698573216796e-05},{"id":1181234,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1465020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5520>"}},{"id":1181235,"event":"return","thread_id":9160,"parent_id":1181234,"elapsed":0.00013696402311325073,"elapsed_instrumentation":0.0003630000283010304,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f8f400 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8f220 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8f068 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8eeb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8ecf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8eb40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8e988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1465060,"size":7}},{"id":1181236,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5660>"}},{"id":1181237,"event":"return","thread_id":9160,"parent_id":1181236,"elapsed":6.196030881255865e-06,"elapsed_instrumentation":0.0002745380043052137,"return_value":{"class":"Array","value":"[]","object_id":1465080,"size":0}},{"id":1181238,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5610>"}},{"id":1181239,"event":"return","thread_id":9160,"parent_id":1181238,"elapsed":0.00015312398318201303,"elapsed_instrumentation":0.00018550403183326125,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f60498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1465100,"size":1}},{"id":1181240,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1181241,"event":"return","thread_id":9160,"parent_id":1181240,"elapsed":0.000658924,"elapsed_instrumentation":0.00016409903764724731},{"id":1181242,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5700>"}},{"id":1181243,"event":"return","thread_id":9160,"parent_id":1181242,"elapsed":0.00017798301996663213,"elapsed_instrumentation":0.0002879539970308542,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f63f80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1464740,"size":1}},{"id":1181244,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce56b0>"}},{"id":1181245,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"display_name","path":"app/models/tag.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":6824600,"value":"#<Tag:0x00007fc91a42f000>"}},{"id":1181246,"event":"return","thread_id":9160,"parent_id":1181245,"elapsed":0.00025674799690023065,"elapsed_instrumentation":0.0004643920110538602,"return_value":{"class":"String","value":"match","object_id":6824620}},{"id":1181247,"event":"return","thread_id":9160,"parent_id":1181244,"elapsed":0.001392045000102371,"elapsed_instrumentation":0.0005172429955564439,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f624c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62680 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f627c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62900 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62a40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62b80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62cc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62e00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f62f40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f63120 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...3 more items)]","object_id":1464840,"size":13}},{"id":1181248,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce56b0>"}},{"id":1181249,"event":"return","thread_id":9160,"parent_id":1181248,"elapsed":6.62502134218812e-06,"elapsed_instrumentation":0.0001731460215523839,"return_value":{"class":"Array","value":"[]","object_id":1464860,"size":0}},{"id":1181250,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5700>"}},{"id":1181251,"event":"return","thread_id":9160,"parent_id":1181250,"elapsed":1.719500869512558e-05,"elapsed_instrumentation":0.00017030397430062294,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f63e40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1464880,"size":1}},{"id":1181252,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5610>"}},{"id":1181253,"event":"return","thread_id":9160,"parent_id":1181252,"elapsed":5.070003680884838e-06,"elapsed_instrumentation":0.00015365000581368804,"return_value":{"class":"Array","value":"[]","object_id":1464940,"size":0}},{"id":1181254,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5660>"}},{"id":1181255,"event":"return","thread_id":9160,"parent_id":1181254,"elapsed":8.652044925838709e-06,"elapsed_instrumentation":0.0003826690372079611,"return_value":{"class":"Array","value":"[]","object_id":1464980,"size":0}},{"id":1181256,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1465020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5520>"}},{"id":1181257,"event":"return","thread_id":9160,"parent_id":1181256,"elapsed":5.168025381863117e-06,"elapsed_instrumentation":0.00016747397603467107,"return_value":{"class":"Array","value":"[]","object_id":1465040,"size":0}},{"id":1181258,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1181259,"event":"return","thread_id":9160,"parent_id":1181258,"elapsed":0.00069005,"elapsed_instrumentation":0.00016268703620880842},{"id":1181260,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"tags\" (\"name\", \"created_at\", \"updated_at\", \"usable\", \"trendable\", \"listable\", \"reviewed_at\", \"requested_review_at\", \"last_status_at\", \"max_score\", \"max_score_at\", \"display_name\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":1181261,"event":"return","thread_id":9160,"parent_id":1181260,"elapsed":0.002471611,"elapsed_instrumentation":0.0001613189815543592},{"id":1181262,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1465020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5520>"}},{"id":1181263,"event":"return","thread_id":9160,"parent_id":1181262,"elapsed":0.00011611898662522435,"elapsed_instrumentation":0.0007127419812604785,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f8f400 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8f220 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8f068 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8eeb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8ecf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8eb40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932f8e988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1465060,"size":7}},{"id":1181264,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5660>"}},{"id":1181265,"event":"return","thread_id":9160,"parent_id":1181264,"elapsed":4.7539942897856236e-06,"elapsed_instrumentation":0.0001782409381121397,"return_value":{"class":"Array","value":"[]","object_id":1465080,"size":0}},{"id":1181266,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6824640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1464920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce5610>"}},{"id":1181267,"event":"return","thread_id":9160,"parent_id":1181266,"elapsed":0.0001763819600455463,"elapsed_instrumentation":0.00019854004494845867,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932f60498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1465100,"size":1}},{"id":1181268,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1181269,"event":"return","thread_id":9160,"parent_id":1181268,"elapsed":0.00083347,"elapsed_instrumentation":0.0001100699882954359},{"id":1181270,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"search_for","path":"app/models/tag.rb","lineno":127,"static":true,"parameters":[{"name":"term","class":"String","object_id":6824680,"value":"match","kind":"req"},{"name":"limit","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":37120,"value":"Tag"}},{"id":1181271,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"normalize","path":"app/models/tag.rb","lineno":156,"static":true,"parameters":[{"name":"str","class":"String","object_id":6824700,"value":"match","kind":"req"}],"receiver":{"class":"Class","object_id":37120,"value":"Tag"}},{"id":1181272,"event":"call","thread_id":9160,"defined_class":"HashtagNormalizer","method_id":"normalize","path":"app/lib/hashtag_normalizer.rb","lineno":4,"static":false,"parameters":[{"name":"str","class":"String","object_id":6824700,"value":"match","kind":"req"}],"receiver":{"class":"HashtagNormalizer","object_id":6824720,"value":"#<HashtagNormalizer:0x00007fc931defa88>"}},{"id":1181273,"event":"call","thread_id":9160,"defined_class":"ASCIIFolding","method_id":"fold","path":"app/lib/ascii_folding.rb","lineno":7,"static":false,"parameters":[{"name":"str","class":"String","object_id":6824740,"value":"match","kind":"req"}],"receiver":{"class":"ASCIIFolding","object_id":6824760,"value":"#<ASCIIFolding:0x00007fc931dee750>"}},{"id":1181274,"event":"return","thread_id":9160,"parent_id":1181273,"elapsed":8.309603435918689e-05,"elapsed_instrumentation":0.00016027799574658275,"return_value":{"class":"String","value":"match","object_id":6824780}},{"id":1181275,"event":"return","thread_id":9160,"parent_id":1181272,"elapsed":0.0003134669968858361,"elapsed_instrumentation":0.0001101650414057076,"return_value":{"class":"String","value":"match","object_id":6824800}},{"id":1181276,"event":"return","thread_id":9160,"parent_id":1181271,"elapsed":0.0004512969753704965,"elapsed_instrumentation":0.0004208130412735045,"return_value":{"class":"String","value":"match","object_id":6824800}},{"id":1181277,"event":"return","thread_id":9160,"parent_id":1181270,"elapsed":0.0017083780257962644,"elapsed_instrumentation":0.0002191800158470869,"return_value":{"class":"ActiveRecord::Relation","value":"#<Tag::ActiveRecord_Relation:0x00007fc91a6c14a8>","object_id":6824820}},{"id":1181278,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"tags\".* FROM \"tags\" WHERE (\"tags\".\"listable\" = $1 OR \"tags\".\"listable\" IS NULL) AND LOWER(\"tags\".\"name\") LIKE LOWER('match%') ORDER BY length(name) ASC, name ASC LIMIT $2 OFFSET $3","database_type":"postgres"}},{"id":1181279,"event":"return","thread_id":9160,"parent_id":1181278,"elapsed":0.001458662,"elapsed_instrumentation":0.00010920502245426178}]}