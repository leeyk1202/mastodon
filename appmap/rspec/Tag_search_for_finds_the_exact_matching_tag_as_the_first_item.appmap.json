{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Tag .search_for finds the exact matching tag as the first item","source_location":"spec/models/tag_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Tag","type":"class","children":[{"name":"display_name","type":"function","location":"app/models/tag.rb:67","static":false},{"name":"search_for","type":"function","location":"app/models/tag.rb:127","static":true},{"name":"normalize","type":"function","location":"app/models/tag.rb:156","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"HashtagNormalizer","type":"class","children":[{"name":"normalize","type":"function","location":"app/lib/hashtag_normalizer.rb:4","static":false}]},{"name":"ASCIIFolding","type":"class","children":[{"name":"fold","type":"function","location":"app/lib/ascii_folding.rb:7","static":false}]}]}]}],"events":[{"id":427058,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb70>"}},{"id":427059,"event":"return","thread_id":9160,"parent_id":427058,"elapsed":3.185402601957321e-05,"elapsed_instrumentation":0.0003050199884455651,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d9af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1592760,"size":1}},{"id":427060,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb20>"}},{"id":427061,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"display_name","path":"app/models/tag.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":2790800,"value":"#<Tag:0x00007fdc06fe4388>"}},{"id":427062,"event":"return","thread_id":9160,"parent_id":427061,"elapsed":0.020898967020912096,"elapsed_instrumentation":0.00023761301417835057,"return_value":{"class":"String","value":"matchlater","object_id":2790820}},{"id":427063,"event":"return","thread_id":9160,"parent_id":427060,"elapsed":0.022475873003713787,"elapsed_instrumentation":0.0003701539826579392,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d4ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d55e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5840 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5ae8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5d40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5f98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d6380 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d6a38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d6f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d75c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...3 more items)]","object_id":1592840,"size":13}},{"id":427064,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb20>"}},{"id":427065,"event":"return","thread_id":9160,"parent_id":427064,"elapsed":6.098009180277586e-06,"elapsed_instrumentation":0.00016780299483798444,"return_value":{"class":"Array","value":"[]","object_id":1592860,"size":0}},{"id":427066,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb70>"}},{"id":427067,"event":"return","thread_id":9160,"parent_id":427066,"elapsed":2.0659994333982468e-05,"elapsed_instrumentation":0.0003593590226955712,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d9698 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1592880,"size":1}},{"id":427068,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738ca80>"}},{"id":427069,"event":"return","thread_id":9160,"parent_id":427068,"elapsed":4.612986231222749e-06,"elapsed_instrumentation":0.00012454003444872797,"return_value":{"class":"Array","value":"[]","object_id":1614660,"size":0}},{"id":427070,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cad0>"}},{"id":427071,"event":"return","thread_id":9160,"parent_id":427070,"elapsed":3.60200647264719e-06,"elapsed_instrumentation":9.068901999853551e-05,"return_value":{"class":"Array","value":"[]","object_id":1614700,"size":0}},{"id":427072,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738c940>"}},{"id":427073,"event":"return","thread_id":9160,"parent_id":427072,"elapsed":6.412999937310815e-06,"elapsed_instrumentation":0.0001396269944962114,"return_value":{"class":"Array","value":"[]","object_id":1614760,"size":0}},{"id":427074,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":427075,"event":"return","thread_id":9160,"parent_id":427074,"elapsed":0.000654996,"elapsed_instrumentation":0.00014883599942550063},{"id":427076,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"tags\" (\"name\", \"created_at\", \"updated_at\", \"usable\", \"trendable\", \"listable\", \"reviewed_at\", \"requested_review_at\", \"last_status_at\", \"max_score\", \"max_score_at\", \"display_name\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":427077,"event":"return","thread_id":9160,"parent_id":427076,"elapsed":0.0023797,"elapsed_instrumentation":0.0001139430096372962},{"id":427078,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738c940>"}},{"id":427079,"event":"return","thread_id":9160,"parent_id":427078,"elapsed":0.000119310017907992,"elapsed_instrumentation":0.0005403949762694538,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a2ee828 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ee3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ee120 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ede00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2edb08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ed810 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ed568 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1614780,"size":7}},{"id":427080,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cad0>"}},{"id":427081,"event":"return","thread_id":9160,"parent_id":427080,"elapsed":6.861984729766846e-06,"elapsed_instrumentation":0.00015975302085280418,"return_value":{"class":"Array","value":"[]","object_id":1614800,"size":0}},{"id":427082,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738ca80>"}},{"id":427083,"event":"return","thread_id":9160,"parent_id":427082,"elapsed":0.0001533710164949298,"elapsed_instrumentation":0.00017190398648381233,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d09f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1614820,"size":1}},{"id":427084,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":427085,"event":"return","thread_id":9160,"parent_id":427084,"elapsed":0.000905276,"elapsed_instrumentation":0.0001432510034646839},{"id":427086,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb70>"}},{"id":427087,"event":"return","thread_id":9160,"parent_id":427086,"elapsed":2.7583999326452613e-05,"elapsed_instrumentation":0.00024454298545606434,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d9af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1592760,"size":1}},{"id":427088,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb20>"}},{"id":427089,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"display_name","path":"app/models/tag.rb","lineno":67,"static":false,"parameters":[],"receiver":{"class":"Tag","object_id":2790920,"value":"#<Tag:0x00007fdc082af508>"}},{"id":427090,"event":"return","thread_id":9160,"parent_id":427089,"elapsed":0.0002066149900201708,"elapsed_instrumentation":0.00018873100634664297,"return_value":{"class":"String","value":"match","object_id":2790940}},{"id":427091,"event":"return","thread_id":9160,"parent_id":427088,"elapsed":0.0012399099941831082,"elapsed_instrumentation":0.0003645700344350189,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d4ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d55e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5840 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5ae8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5d40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d5f98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d6380 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d6a38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d6f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a3d75c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...3 more items)]","object_id":1592840,"size":13}},{"id":427092,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb20>"}},{"id":427093,"event":"return","thread_id":9160,"parent_id":427092,"elapsed":8.300004992634058e-06,"elapsed_instrumentation":0.00015833400539122522,"return_value":{"class":"Array","value":"[]","object_id":1592860,"size":0}},{"id":427094,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1592740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cb70>"}},{"id":427095,"event":"return","thread_id":9160,"parent_id":427094,"elapsed":1.9397004507482052e-05,"elapsed_instrumentation":0.00017082400154322386,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d9698 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1592880,"size":1}},{"id":427096,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738ca80>"}},{"id":427097,"event":"return","thread_id":9160,"parent_id":427096,"elapsed":7.811002433300018e-06,"elapsed_instrumentation":0.00036747398553416133,"return_value":{"class":"Array","value":"[]","object_id":1614660,"size":0}},{"id":427098,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cad0>"}},{"id":427099,"event":"return","thread_id":9160,"parent_id":427098,"elapsed":5.452980985864997e-06,"elapsed_instrumentation":0.0001271730288863182,"return_value":{"class":"Array","value":"[]","object_id":1614700,"size":0}},{"id":427100,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738c940>"}},{"id":427101,"event":"return","thread_id":9160,"parent_id":427100,"elapsed":4.832982085645199e-06,"elapsed_instrumentation":0.0001367240329273045,"return_value":{"class":"Array","value":"[]","object_id":1614760,"size":0}},{"id":427102,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":427103,"event":"return","thread_id":9160,"parent_id":427102,"elapsed":0.000567549,"elapsed_instrumentation":0.00011744900257326663},{"id":427104,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"tags\" (\"name\", \"created_at\", \"updated_at\", \"usable\", \"trendable\", \"listable\", \"reviewed_at\", \"requested_review_at\", \"last_status_at\", \"max_score\", \"max_score_at\", \"display_name\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":427105,"event":"return","thread_id":9160,"parent_id":427104,"elapsed":0.00211992,"elapsed_instrumentation":8.625001646578312e-05},{"id":427106,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738c940>"}},{"id":427107,"event":"return","thread_id":9160,"parent_id":427106,"elapsed":0.00010330500663258135,"elapsed_instrumentation":0.0003142649948131293,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a2ee828 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ee3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ee120 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ede00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2edb08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ed810 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a2ed568 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1614780,"size":7}},{"id":427108,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738cad0>"}},{"id":427109,"event":"return","thread_id":9160,"parent_id":427108,"elapsed":6.03898661211133e-06,"elapsed_instrumentation":0.00033171303221024573,"return_value":{"class":"Array","value":"[]","object_id":1614800,"size":0}},{"id":427110,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":2790960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1614640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0738ca80>"}},{"id":427111,"event":"return","thread_id":9160,"parent_id":427110,"elapsed":0.00010723000741563737,"elapsed_instrumentation":0.00011800701031461358,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a3d09f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1614820,"size":1}},{"id":427112,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":427113,"event":"return","thread_id":9160,"parent_id":427112,"elapsed":0.000542174,"elapsed_instrumentation":0.00010642400593496859},{"id":427114,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"search_for","path":"app/models/tag.rb","lineno":127,"static":true,"parameters":[{"name":"term","class":"String","object_id":2791000,"value":"match","kind":"req"},{"name":"limit","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":37120,"value":"Tag"}},{"id":427115,"event":"call","thread_id":9160,"defined_class":"Tag","method_id":"normalize","path":"app/models/tag.rb","lineno":156,"static":true,"parameters":[{"name":"str","class":"String","object_id":2791020,"value":"match","kind":"req"}],"receiver":{"class":"Class","object_id":37120,"value":"Tag"}},{"id":427116,"event":"call","thread_id":9160,"defined_class":"HashtagNormalizer","method_id":"normalize","path":"app/lib/hashtag_normalizer.rb","lineno":4,"static":false,"parameters":[{"name":"str","class":"String","object_id":2791020,"value":"match","kind":"req"}],"receiver":{"class":"HashtagNormalizer","object_id":2791040,"value":"#<HashtagNormalizer:0x00007fdc14bb3080>"}},{"id":427117,"event":"call","thread_id":9160,"defined_class":"ASCIIFolding","method_id":"fold","path":"app/lib/ascii_folding.rb","lineno":7,"static":false,"parameters":[{"name":"str","class":"String","object_id":2791060,"value":"match","kind":"req"}],"receiver":{"class":"ASCIIFolding","object_id":2791080,"value":"#<ASCIIFolding:0x00007fdc14bfbad8>"}},{"id":427118,"event":"return","thread_id":9160,"parent_id":427117,"elapsed":3.1109986593946815e-05,"elapsed_instrumentation":8.51970398798585e-05,"return_value":{"class":"String","value":"match","object_id":2791100}},{"id":427119,"event":"return","thread_id":9160,"parent_id":427116,"elapsed":0.00017585200839675963,"elapsed_instrumentation":7.892900612205267e-05,"return_value":{"class":"String","value":"match","object_id":2791120}},{"id":427120,"event":"return","thread_id":9160,"parent_id":427115,"elapsed":0.0002741799980867654,"elapsed_instrumentation":0.00010699997073970735,"return_value":{"class":"String","value":"match","object_id":2791120}},{"id":427121,"event":"return","thread_id":9160,"parent_id":427114,"elapsed":0.0012121399922762066,"elapsed_instrumentation":0.00040166001417674124,"return_value":{"class":"ActiveRecord::Relation","value":"#<Tag::ActiveRecord_Relation:0x00007fdc0e486100>","object_id":2791140}},{"id":427122,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"tags\".* FROM \"tags\" WHERE (\"tags\".\"listable\" = $1 OR \"tags\".\"listable\" IS NULL) AND LOWER(\"tags\".\"name\") LIKE LOWER('match%') ORDER BY length(name) ASC, name ASC LIMIT $2 OFFSET $3","database_type":"postgres"}},{"id":427123,"event":"return","thread_id":9160,"parent_id":427122,"elapsed":0.00156726,"elapsed_instrumentation":0.00015141599578782916}]}