{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Auth::SessionsController GET #webauthn_options with WebAuthn and OTP enabled as second factor returns http success","source_location":"spec/controllers/auth/sessions_controller_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]},{"name":"ActionController","type":"class","children":[{"name":"Renderers","type":"class","children":[{"name":"render_to_body","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb:140","static":false,"labels":["mvc.render"]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"app","type":"package","children":[{"name":"controllers","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"Localized","type":"class","children":[{"name":"set_locale","type":"function","location":"app/controllers/concerns/localized.rb:10","static":false}]},{"name":"CacheConcern","type":"class","children":[{"name":"enforce_cache_control!","type":"function","location":"app/controllers/concerns/cache_concern.rb:165","static":false}]}]},{"name":"ApplicationController","type":"class","children":[{"name":"current_session","type":"function","location":"app/controllers/application_controller.rb:153","static":false},{"name":"set_cache_control_defaults","type":"function","location":"app/controllers/application_controller.rb:185","static":false}]},{"name":"auth","type":"package","children":[{"name":"Auth","type":"class","children":[{"name":"SessionsController","type":"class","children":[{"name":"webauthn_options","type":"function","location":"app/controllers/auth/sessions_controller.rb:44","static":false}]}]}]}]},{"name":"models","type":"package","children":[{"name":"User","type":"class","children":[{"name":"webauthn_enabled?","type":"function","location":"app/models/user.rb:283","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]}]}]}]}],"events":[{"id":5494,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":371040,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":371060,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc096073f8>"}},{"id":5495,"event":"return","thread_id":9160,"parent_id":5494,"elapsed":4.330999217927456e-06,"elapsed_instrumentation":0.00014013602049089968,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc096073f8>","object_id":371060}},{"id":5496,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":371100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":5497,"event":"return","thread_id":9160,"parent_id":5496,"elapsed":7.889000698924065e-05,"elapsed_instrumentation":0.000131637993035838,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0fb602e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60808 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0fb60fd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":231360,"size":4}},{"id":5498,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":371100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":231340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0b5853d8>"}},{"id":5499,"event":"return","thread_id":9160,"parent_id":5498,"elapsed":2.173997927457094e-06,"elapsed_instrumentation":6.117200246080756e-05,"return_value":{"class":"Array","value":"[]","object_id":231380,"size":0}},{"id":5500,"event":"call","thread_id":9160,"http_server_request":{"request_method":"GET","path_info":"/auth/sign_in","normalized_path_info":"/auth/sign_in","headers":{"Host":"test.host","User-Agent":"Rails Testing","Content-Type":"application/x-www-form-urlencoded"}},"message":[{"name":"controller","class":"String","value":"auth/sessions","object_id":371720},{"name":"action","class":"String","value":"webauthn_options","object_id":371740}]},{"id":5501,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":371120,"value":"Processing by Auth::SessionsController#webauthn_options as HTML\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":5502,"event":"return","thread_id":9160,"parent_id":5501,"elapsed":0.000901927996892482,"elapsed_instrumentation":0.00018905798788182437,"return_value":{"class":"Integer","value":"64","object_id":129}},{"id":5503,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":371140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":371160,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0963f1e0>"}},{"id":5504,"event":"return","thread_id":9160,"parent_id":5503,"elapsed":0.00019884901121258736,"elapsed_instrumentation":0.00043333799112588167,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a0660 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a1a0908 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a1a0e30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a1a1290 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a1a1538 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a1a17b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a1a1ad8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a1a1c18 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":371180,"size":8}},{"id":5505,"event":"call","thread_id":9160,"defined_class":"Localized","method_id":"set_locale","path":"app/controllers/concerns/localized.rb","lineno":10,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Auth::SessionsController","object_id":371200,"value":"#<Auth::SessionsController:0x00007fdc09574ee0>"}},{"id":5506,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":371220,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":371240,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0a61f380>"}},{"id":5507,"event":"return","thread_id":9160,"parent_id":5506,"elapsed":6.684975232928991e-06,"elapsed_instrumentation":0.0003241690283175558,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0a61f380>","object_id":371240}},{"id":5508,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":371240,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0a61f380>"}},{"id":5509,"event":"return","thread_id":9160,"parent_id":5508,"elapsed":4.439993062987924e-06,"elapsed_instrumentation":0.00012382998829707503},{"id":5510,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":371140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":371260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0963f230>"}},{"id":5511,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_session","path":"app/controllers/application_controller.rb","lineno":153,"static":false,"parameters":[],"receiver":{"class":"Auth::SessionsController","object_id":371200,"value":"#<Auth::SessionsController:0x00007fdc09574ee0>"}},{"id":5512,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":371240,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0a61f380>"}},{"id":5513,"event":"return","thread_id":9160,"parent_id":5512,"elapsed":4.6470086090266705e-06,"elapsed_instrumentation":0.00013528100680559874},{"id":5514,"event":"return","thread_id":9160,"parent_id":5511,"elapsed":0.00036344502586871386,"elapsed_instrumentation":7.599598029628396e-05},{"id":5515,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"set_cache_control_defaults","path":"app/controllers/application_controller.rb","lineno":185,"static":false,"parameters":[],"receiver":{"class":"Auth::SessionsController","object_id":371200,"value":"#<Auth::SessionsController:0x00007fdc09574ee0>"}},{"id":5516,"event":"return","thread_id":9160,"parent_id":5515,"elapsed":6.496004061773419e-06,"elapsed_instrumentation":0.0001499190111644566,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":371280,"size":2}},{"id":5517,"event":"return","thread_id":9160,"parent_id":5510,"elapsed":0.0007620410178788006,"elapsed_instrumentation":0.0002203119802288711,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2078 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a1a2690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a1a2b68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a1a2d70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0a1a31f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":371300,"size":5}},{"id":5518,"event":"call","thread_id":9160,"defined_class":"Auth::SessionsController","method_id":"webauthn_options","path":"app/controllers/auth/sessions_controller.rb","lineno":44,"static":false,"parameters":[],"receiver":{"class":"Auth::SessionsController","object_id":371200,"value":"#<Auth::SessionsController:0x00007fdc09574ee0>"}},{"id":5519,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":5520,"event":"return","thread_id":9160,"parent_id":5519,"elapsed":0.000847182,"elapsed_instrumentation":0.000122779980301857},{"id":5521,"event":"call","thread_id":9160,"defined_class":"User","method_id":"webauthn_enabled?","path":"app/models/user.rb","lineno":283,"static":false,"parameters":[],"receiver":{"class":"User","object_id":371320,"value":"#<User:0x00007fdc1cd6be10>"}},{"id":5522,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"webauthn_credentials\" WHERE \"webauthn_credentials\".\"user_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":5523,"event":"return","thread_id":9160,"parent_id":5522,"elapsed":0.000764375,"elapsed_instrumentation":0.00013507300172932446},{"id":5524,"event":"return","thread_id":9160,"parent_id":5521,"elapsed":0.00306727402494289,"elapsed_instrumentation":0.0004145400016568601,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5525,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"webauthn_credentials\".\"external_id\" FROM \"webauthn_credentials\" WHERE \"webauthn_credentials\".\"user_id\" = $1","database_type":"postgres"}},{"id":5526,"event":"return","thread_id":9160,"parent_id":5525,"elapsed":0.000744294,"elapsed_instrumentation":0.000122519995784387},{"id":5527,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":326460,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":371340,"value":"[_N\u0017*__z_'__\u0019_______v\u0006__+\f_\f__\u0016_\u0003]"}},{"id":5528,"event":"return","thread_id":9160,"parent_id":5527,"elapsed":6.090005626901984e-06,"elapsed_instrumentation":0.00016129398136399686,"return_value":{"class":"String","value":"h04XKvDxep4n5+sZjIeIqIadvnYG8YMrDLIMiaQWzgM=","object_id":371360}},{"id":5529,"event":"call","thread_id":9160,"defined_class":"ActionController::Renderers","method_id":"render_to_body","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb","lineno":140,"static":false,"parameters":[{"name":"options","class":"Hash","object_id":371380,"value":"{:json=>#<WebAuthn::PublicKeyCredential::RequestOptions:0x00007fdc0a61c680>, :status=>200, :prefixes=>[auth/sessions, devise/sessions, devise, application], :template=>webauthn_options, :layout=>#<Proc:0x00007fdc0841ab68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/ac}","kind":"req","size":5}],"receiver":{"class":"Auth::SessionsController","object_id":371200,"value":"#<Auth::SessionsController:0x00007fdc09574ee0>"}},{"id":5530,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":326360,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":371240,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc0a61f380>"}},{"id":5531,"event":"return","thread_id":9160,"parent_id":5530,"elapsed":4.201981937512755e-06,"elapsed_instrumentation":0.00016779301222413778},{"id":5532,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":371400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":5533,"event":"return","thread_id":9160,"parent_id":5532,"elapsed":2.649991074576974e-06,"elapsed_instrumentation":0.00010243098950013518,"return_value":{"class":"Array","value":"[]","object_id":211300,"size":0}},{"id":5534,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":371400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":5535,"event":"return","thread_id":9160,"parent_id":5534,"elapsed":1.9189901649951935e-06,"elapsed_instrumentation":6.832997314631939e-05,"return_value":{"class":"Array","value":"[]","object_id":211340,"size":0}},{"id":5536,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":326460,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":371420,"value":"[_N\u0017*__z_'__\u0019_______v\u0006__+\f_\f__\u0016_\u0003]"}},{"id":5537,"event":"return","thread_id":9160,"parent_id":5536,"elapsed":7.363996701315045e-06,"elapsed_instrumentation":0.00010269501945003867,"return_value":{"class":"String","value":"h04XKvDxep4n5+sZjIeIqIadvnYG8YMrDLIMiaQWzgM=","object_id":371440}},{"id":5538,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":371460,"value":"{:challenge=>h04XKvDxep4n5-sZjIeIqIadvnYG8YMrDLIMiaQWzgM, :timeout=>120000, :extensions=>{}, :allowCredentials=>[{type=>public-key, id=>2GZfvxdyyPI29QGemDvsSg}], :userVerification=>discouraged}","kind":"req","size":5}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":371480,"value":"#<JSON::Ext::Generator::State:0x00007fdc08412a80>"}},{"id":5539,"event":"return","thread_id":9160,"parent_id":5538,"elapsed":1.1633994290605187e-05,"elapsed_instrumentation":0.0004808589874301106,"return_value":{"class":"String","value":"{\"challenge\":\"h04XKvDxep4n5-sZjIeIqIadvnYG8YMrDLIMiaQWzgM\",\"timeout\":120000,\"extensions\":{},\"allowCr (...98 more characters)","object_id":371500}},{"id":5540,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":371400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f80>"}},{"id":5541,"event":"return","thread_id":9160,"parent_id":5540,"elapsed":2.52100289799273e-06,"elapsed_instrumentation":9.227698319591582e-05,"return_value":{"class":"Array","value":"[]","object_id":215680,"size":0}},{"id":5542,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":371400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":211280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0dc73f30>"}},{"id":5543,"event":"return","thread_id":9160,"parent_id":5542,"elapsed":2.7370115276426077e-06,"elapsed_instrumentation":0.00018543601618148386,"return_value":{"class":"Array","value":"[]","object_id":215700,"size":0}},{"id":5544,"event":"return","thread_id":9160,"parent_id":5529,"elapsed":0.002871267992304638,"elapsed_instrumentation":0.00024271098664030433,"return_value":{"class":"String","value":"{\"challenge\":\"h04XKvDxep4n5-sZjIeIqIadvnYG8YMrDLIMiaQWzgM\",\"timeout\":120000,\"extensions\":{},\"allowCr (...98 more characters)","object_id":371500}},{"id":5545,"event":"return","thread_id":9160,"parent_id":5518,"elapsed":0.01272031498956494,"elapsed_instrumentation":0.0002952940121758729,"return_value":{"class":"String","value":"{\"challenge\":\"h04XKvDxep4n5-sZjIeIqIadvnYG8YMrDLIMiaQWzgM\",\"timeout\":120000,\"extensions\":{},\"allowCr (...98 more characters)","object_id":371500}},{"id":5546,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":371140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":371260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0963f230>"}},{"id":5547,"event":"call","thread_id":9160,"defined_class":"CacheConcern","method_id":"enforce_cache_control!","path":"app/controllers/concerns/cache_concern.rb","lineno":165,"static":false,"parameters":[],"receiver":{"class":"Auth::SessionsController","object_id":371200,"value":"#<Auth::SessionsController:0x00007fdc09574ee0>"}},{"id":5548,"event":"return","thread_id":9160,"parent_id":5547,"elapsed":1.0184012353420258e-05,"elapsed_instrumentation":7.555299089290202e-05},{"id":5549,"event":"return","thread_id":9160,"parent_id":5546,"elapsed":0.00011726398952305317,"elapsed_instrumentation":9.288100409321487e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a2280 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":371520,"size":1}},{"id":5550,"event":"return","thread_id":9160,"parent_id":5505,"elapsed":0.015502511989325285,"elapsed_instrumentation":0.00015244301175698638,"return_value":{"class":"String","value":"{\"challenge\":\"h04XKvDxep4n5-sZjIeIqIadvnYG8YMrDLIMiaQWzgM\",\"timeout\":120000,\"extensions\":{},\"allowCr (...98 more characters)","object_id":371500}},{"id":5551,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":371140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":371160,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0963f1e0>"}},{"id":5552,"event":"return","thread_id":9160,"parent_id":5551,"elapsed":2.8063979698345065e-05,"elapsed_instrumentation":8.337802137248218e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0a1a1e48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":371540,"size":1}},{"id":5553,"event":"return","thread_id":9160,"parent_id":1835,"elapsed":0.016549001,"elapsed_instrumentation":0.04448596001020633,"return_value":{"class":"Hash","value":"{challenge=>h04XKvDxep4n5-sZjIeIqIadvnYG8YMrDLIMiaQWzgM, timeout=>120000, extensions=>{}, allowCredentials=>[{type=>public-key, id=>2GZfvxdyyPI29QGemDvsSg}], userVerification=>discouraged}","object_id":371560,"size":5,"properties":[{"name":"challenge","class":"String"},{"name":"timeout","class":"Integer"},{"name":"extensions","class":"Hash"},{"name":"allowCredentials","class":"Array","items":[{"class":"Hash","properties":[{"name":"type","class":"String"},{"name":"id","class":"String"}]}]},{"name":"userVerification","class":"String"}]},"http_server_response":{"status_code":200,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Content-Type":"application/json; charset=utf-8"}}},{"id":5554,"event":"return","thread_id":9160,"parent_id":2461,"elapsed":0.016549001,"elapsed_instrumentation":0.0006031480152159929,"http_server_response":{"status_code":200,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Content-Type":"application/json; charset=utf-8"}}},{"id":5555,"event":"return","thread_id":9160,"parent_id":3144,"elapsed":0.016549001,"elapsed_instrumentation":0.0015129199891816825,"http_server_response":{"status_code":200,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Content-Type":"application/json; charset=utf-8"}}},{"id":5556,"event":"return","thread_id":9160,"parent_id":3930,"elapsed":0.016549001,"elapsed_instrumentation":0.00039448999450542033,"http_server_response":{"status_code":200,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Content-Type":"application/json; charset=utf-8"}}},{"id":5557,"event":"return","thread_id":9160,"parent_id":4717,"elapsed":0.016549001,"elapsed_instrumentation":0.0003532710252329707,"http_server_response":{"status_code":200,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Content-Type":"application/json; charset=utf-8"}}},{"id":5558,"event":"return","thread_id":9160,"parent_id":5487,"elapsed":0.016549001,"elapsed_instrumentation":0.0005565070314332843,"http_server_response":{"status_code":200,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Content-Type":"application/json; charset=utf-8"}}},{"id":5559,"event":"return","thread_id":9160,"parent_id":5500,"elapsed":0.016549001,"elapsed_instrumentation":0.000718574010534212,"http_server_response":{"status_code":200,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Content-Type":"application/json; charset=utf-8"}}},{"id":5560,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":371620,"value":"Completed 200 OK in 17ms (Views: 3.2ms | ActiveRecord: 6.7ms | Allocations: 3878)\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":5561,"event":"return","thread_id":9160,"parent_id":5560,"elapsed":0.001216757984366268,"elapsed_instrumentation":0.0002404589904472232,"return_value":{"class":"Integer","value":"82","object_id":165}},{"id":5562,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":371640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":5563,"event":"return","thread_id":9160,"parent_id":5562,"elapsed":0.00013926398241892457,"elapsed_instrumentation":0.0003612989967223257,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dca3bb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3cf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca3f00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc0dca48b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":338500,"size":4}},{"id":5564,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":371640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":338480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc0a6c7b20>"}},{"id":5565,"event":"return","thread_id":9160,"parent_id":5564,"elapsed":2.83500412479043e-06,"elapsed_instrumentation":8.220202289521694e-05,"return_value":{"class":"Array","value":"[]","object_id":338520,"size":0}},{"id":5566,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":371660,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":371060,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc096073f8>"}},{"id":5567,"event":"return","thread_id":9160,"parent_id":5566,"elapsed":7.244001608341932e-06,"elapsed_instrumentation":0.00010464902152307332,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc096073f8>","object_id":371060}},{"id":5568,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":371680,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":371060,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc096073f8>"}},{"id":5569,"event":"return","thread_id":9160,"parent_id":5568,"elapsed":3.269989974796772e-06,"elapsed_instrumentation":8.250700193457305e-05,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fdc096073f8>","object_id":371060}}]}