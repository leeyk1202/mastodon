{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::AccountAction .types_for_account with !account.local? returns [\"sensitive\", \"silence\", \"suspend\"]","source_location":"spec/models/admin/account_action_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"concerns","type":"package","children":[{"name":"DomainMaterializable","type":"class","children":[{"name":"refresh_instances_view","type":"function","location":"app/models/concerns/domain_materializable.rb:12","static":false},{"name":"count_unique_subdomains!","type":"function","location":"app/models/concerns/domain_materializable.rb:19","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false}]}]},{"name":"Instance","type":"class","children":[{"name":"refresh","type":"function","location":"app/models/instance.rb:28","static":true}]},{"name":"admin","type":"package","children":[{"name":"Admin","type":"class","children":[{"name":"AccountAction","type":"class","children":[{"name":"types_for_account","type":"function","location":"app/models/admin/account_action.rb:68","static":true}]}]}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]}]}]},{"name":"lib/paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false}]}]}]}],"events":[{"id":2704799,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13305860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":2704800,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704801,"event":"return","thread_id":9160,"parent_id":2704800,"elapsed":3.0244002118706703e-05,"elapsed_instrumentation":0.00015295000048354268},{"id":2704802,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":13305900,"value":"hoge.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2704803,"event":"return","thread_id":9160,"parent_id":2704802,"elapsed":0.00041434395825490355,"elapsed_instrumentation":0.00016312202205881476,"return_value":{"class":"String","value":"hoge.com","object_id":13305920}},{"id":2704804,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704805,"event":"return","thread_id":9160,"parent_id":2704804,"elapsed":1.6072997823357582e-05,"elapsed_instrumentation":0.00013600499369204044},{"id":2704806,"event":"return","thread_id":9160,"parent_id":2704799,"elapsed":0.0011680409661494195,"elapsed_instrumentation":0.000392074987757951,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28e78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b2b5d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323140,"size":4}},{"id":2704807,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13305940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":2704808,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":323320,"value":"#<UniqueUsernameValidator:0x00007fc9402767b0>"}},{"id":2704809,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2704810,"event":"return","thread_id":9160,"parent_id":2704809,"elapsed":0.000754954,"elapsed_instrumentation":0.00011497299419716},{"id":2704811,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'lois_cruickshank6300' AND LOWER(\"accounts\".\"domain\") = 'hoge.com' LIMIT $1","database_type":"postgres"}},{"id":2704812,"event":"return","thread_id":9160,"parent_id":2704811,"elapsed":0.00203615,"elapsed_instrumentation":9.32120019569993e-05},{"id":2704813,"event":"return","thread_id":9160,"parent_id":2704808,"elapsed":0.003437282983213663,"elapsed_instrumentation":0.0003785380977205932},{"id":2704814,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704815,"event":"return","thread_id":9160,"parent_id":2704814,"elapsed":1.3543001841753721e-05,"elapsed_instrumentation":0.0005933990469202399},{"id":2704816,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704817,"event":"return","thread_id":9160,"parent_id":2704816,"elapsed":5.2130199037492275e-06,"elapsed_instrumentation":7.951603038236499e-05},{"id":2704818,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704819,"event":"return","thread_id":9160,"parent_id":2704818,"elapsed":4.311033990234137e-06,"elapsed_instrumentation":5.859904922544956e-05},{"id":2704820,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704821,"event":"return","thread_id":9160,"parent_id":2704820,"elapsed":4.337984137237072e-06,"elapsed_instrumentation":5.476200021803379e-05},{"id":2704822,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704823,"event":"return","thread_id":9160,"parent_id":2704822,"elapsed":3.969995304942131e-06,"elapsed_instrumentation":5.086400778964162e-05},{"id":2704824,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704825,"event":"return","thread_id":9160,"parent_id":2704824,"elapsed":4.2889732867479324e-06,"elapsed_instrumentation":5.0959992222487926e-05},{"id":2704826,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704827,"event":"return","thread_id":9160,"parent_id":2704826,"elapsed":5.553010851144791e-06,"elapsed_instrumentation":7.67239835113287e-05},{"id":2704828,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704829,"event":"return","thread_id":9160,"parent_id":2704828,"elapsed":4.595029167830944e-06,"elapsed_instrumentation":5.2668037824332714e-05},{"id":2704830,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704831,"event":"return","thread_id":9160,"parent_id":2704830,"elapsed":4.531990271061659e-06,"elapsed_instrumentation":5.3144991397857666e-05},{"id":2704832,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704833,"event":"return","thread_id":9160,"parent_id":2704832,"elapsed":4.936009645462036e-06,"elapsed_instrumentation":5.0821981858462095e-05},{"id":2704834,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704835,"event":"return","thread_id":9160,"parent_id":2704834,"elapsed":4.759000148624182e-06,"elapsed_instrumentation":5.150801734998822e-05},{"id":2704836,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704837,"event":"return","thread_id":9160,"parent_id":2704836,"elapsed":4.385015927255154e-06,"elapsed_instrumentation":5.265302024781704e-05},{"id":2704838,"event":"return","thread_id":9160,"parent_id":2704807,"elapsed":0.007610518950968981,"elapsed_instrumentation":0.0004286910407245159,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939c310e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c31f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c320d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32468 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c325f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32a08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c337f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":323620,"size":71}},{"id":2704839,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13305940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":2704840,"event":"return","thread_id":9160,"parent_id":2704839,"elapsed":4.2780302464962006e-06,"elapsed_instrumentation":0.00019200699171051383,"return_value":{"class":"Array","value":"[]","object_id":323640,"size":0}},{"id":2704841,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13305860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":2704842,"event":"return","thread_id":9160,"parent_id":2704841,"elapsed":1.5918980352580547e-05,"elapsed_instrumentation":0.00011789397103711963,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28b08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323660,"size":1}},{"id":2704843,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13305960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":2704844,"event":"return","thread_id":9160,"parent_id":2704843,"elapsed":2.89080198854208e-05,"elapsed_instrumentation":0.00010788592044264078,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93912dae0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323720,"size":1}},{"id":2704845,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13305960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":2704846,"event":"return","thread_id":9160,"parent_id":2704845,"elapsed":2.870976459234953e-06,"elapsed_instrumentation":7.84830772317946e-05,"return_value":{"class":"Array","value":"[]","object_id":323760,"size":0}},{"id":2704847,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13305980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":2704848,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704849,"event":"return","thread_id":9160,"parent_id":2704848,"elapsed":7.3160044848918915e-06,"elapsed_instrumentation":6.493297405540943e-05},{"id":2704850,"event":"return","thread_id":9160,"parent_id":2704847,"elapsed":0.00010593899060040712,"elapsed_instrumentation":0.00031009502708911896,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939190c58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323820,"size":1}},{"id":2704851,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":2704852,"event":"return","thread_id":9160,"parent_id":2704851,"elapsed":0.00163523,"elapsed_instrumentation":0.00011864496627822518},{"id":2704853,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13305980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":2704854,"event":"return","thread_id":9160,"parent_id":2704853,"elapsed":0.00041657104156911373,"elapsed_instrumentation":0.00030103803146630526,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93920f3f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920eea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e540 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920dff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920d140 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920c448 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920adf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":325440,"size":53}},{"id":2704855,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13305960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":2704856,"event":"return","thread_id":9160,"parent_id":2704855,"elapsed":3.5259872674942017e-06,"elapsed_instrumentation":0.00027307606069371104,"return_value":{"class":"Array","value":"[]","object_id":325460,"size":0}},{"id":2704857,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13305960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":2704858,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":13306000,"value":"/avatars/original/missing.png"}},{"id":2704859,"event":"return","thread_id":9160,"parent_id":2704858,"elapsed":3.417499829083681e-05,"elapsed_instrumentation":0.00022327702026814222,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2704860,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":13306020,"value":"/headers/original/missing.png"}},{"id":2704861,"event":"return","thread_id":9160,"parent_id":2704860,"elapsed":2.4334003683179617e-05,"elapsed_instrumentation":0.00015499204164370894,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2704862,"event":"return","thread_id":9160,"parent_id":2704857,"elapsed":0.0006753330235369503,"elapsed_instrumentation":0.00023946096189320087,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939129148 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939125ef8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939121470 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939120b88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":325520,"size":4}},{"id":2704863,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2704864,"event":"return","thread_id":9160,"parent_id":2704863,"elapsed":0.00058539,"elapsed_instrumentation":9.41360485740006e-05},{"id":2704865,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13306040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":2704866,"event":"return","thread_id":9160,"parent_id":2704865,"elapsed":4.125002305954695e-06,"elapsed_instrumentation":0.00012278405483812094,"return_value":{"class":"Array","value":"[]","object_id":328300,"size":0}},{"id":2704867,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13306040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":2704868,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704869,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2704870,"event":"return","thread_id":9160,"parent_id":2704869,"elapsed":0.001897745,"elapsed_instrumentation":0.00012207002146169543},{"id":2704871,"event":"call","thread_id":9160,"defined_class":"Instance","method_id":"refresh","path":"app/models/instance.rb","lineno":28,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":52400,"value":"Instance"}},{"id":2704872,"event":"call","thread_id":9160,"sql_query":{"sql":"REFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";","database_type":"postgres"}},{"id":2704873,"event":"return","thread_id":9160,"parent_id":2704872,"elapsed":0.023712143,"elapsed_instrumentation":0.00014586898032575846},{"id":2704874,"event":"return","thread_id":9160,"parent_id":2704871,"elapsed":0.024256075033918023,"elapsed_instrumentation":0.00025496300077065825,"return_value":{"class":"PG::Result","value":"#<PG::Result:0x00007fc91805ab70>","object_id":13306060}},{"id":2704875,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"count_unique_subdomains!","path":"app/models/concerns/domain_materializable.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704876,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704877,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":13306080,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":13306100,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2704878,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2704879,"event":"return","thread_id":9160,"parent_id":2704878,"elapsed":3.0850060284137726e-06,"elapsed_instrumentation":9.761704131960869e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2704880,"event":"return","thread_id":9160,"parent_id":2704877,"elapsed":0.0014069160097278655,"elapsed_instrumentation":0.00018723594257608056,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2704881,"event":"return","thread_id":9160,"parent_id":2704876,"elapsed":0.0016338819987140596,"elapsed_instrumentation":0.00010701001156121492,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2704882,"event":"return","thread_id":9160,"parent_id":2704875,"elapsed":0.0019348939531482756,"elapsed_instrumentation":0.00017157004913315177,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2704883,"event":"return","thread_id":9160,"parent_id":2704868,"elapsed":0.030285975022707134,"elapsed_instrumentation":6.60129589959979e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2704884,"event":"return","thread_id":9160,"parent_id":2704867,"elapsed":0.030419256014283746,"elapsed_instrumentation":0.00016582297394052148,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc938945850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc938942a10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855fba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855f0b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855ebb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855de40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":328320,"size":6}},{"id":2704885,"event":"call","thread_id":9160,"defined_class":"Admin::AccountAction","method_id":"types_for_account","path":"app/models/admin/account_action.rb","lineno":68,"static":true,"parameters":[{"name":"account","class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>","kind":"req"}],"receiver":{"class":"Class","object_id":57840,"value":"Admin::AccountAction"}},{"id":2704886,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":13305880,"value":"#<Account:0x00007fc8e21b7940>"}},{"id":2704887,"event":"return","thread_id":9160,"parent_id":2704886,"elapsed":9.747978765517473e-06,"elapsed_instrumentation":7.503200322389603e-05},{"id":2704888,"event":"return","thread_id":9160,"parent_id":2704885,"elapsed":0.00011642702156677842,"elapsed_instrumentation":0.00016778300050646067,"return_value":{"class":"Array","value":"[sensitive, silence, suspend]","object_id":13306120,"size":3}}]}