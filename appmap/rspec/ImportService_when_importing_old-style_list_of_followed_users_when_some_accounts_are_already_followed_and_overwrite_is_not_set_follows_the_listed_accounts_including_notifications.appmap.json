{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ImportService when importing old-style list of followed users when some accounts are already followed and overwrite is not set follows the listed accounts, including notifications","source_location":"spec/services/import_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"failed","test_failure":{"message":"body has already been consumed","location":"app/lib/request.rb:217"},"exception":{"class":"HTTP::StateError","message":"body has already been consumed"}},"classMap":[{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountInteractions","type":"class","children":[{"name":"follow!","type":"function","location":"app/models/concerns/account_interactions.rb:115","static":false},{"name":"blocking?","type":"function","location":"app/models/concerns/account_interactions.rb:214","static":false},{"name":"domain_blocking?","type":"function","location":"app/models/concerns/account_interactions.rb:218","static":false},{"name":"following?","type":"function","location":"app/models/concerns/account_interactions.rb:198","static":false},{"name":"requested?","type":"function","location":"app/models/concerns/account_interactions.rb:238","static":false},{"name":"not_following_anyone?","type":"function","location":"app/models/concerns/account_interactions.rb:206","static":false},{"name":"following_anyone?","type":"function","location":"app/models/concerns/account_interactions.rb:202","static":false},{"name":"request_follow!","type":"function","location":"app/models/concerns/account_interactions.rb:130","static":false}]},{"name":"RateLimitable","type":"class","children":[{"name":"rate_limit=","type":"function","location":"app/models/concerns/rate_limitable.rb:6","static":false},{"name":"rate_limit?","type":"function","location":"app/models/concerns/rate_limitable.rb:10","static":false}]},{"name":"FollowLimitable","type":"class","children":[{"name":"bypass_follow_limit=","type":"function","location":"app/models/concerns/follow_limitable.rb:10","static":false},{"name":"bypass_follow_limit?","type":"function","location":"app/models/concerns/follow_limitable.rb:14","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"following_count","type":"function","location":"app/models/concerns/account_counters.rb:13","static":false},{"name":"account_stat","type":"function","location":"app/models/concerns/account_counters.rb:76","static":false},{"name":"increment_count!","type":"function","location":"app/models/concerns/account_counters.rb:23","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false},{"name":"moved?","type":"function","location":"app/models/account.rb:167","static":false},{"name":"possibly_stale?","type":"function","location":"app/models/account.rb:211","static":false},{"name":"silenced?","type":"function","location":"app/models/account.rb:225","static":false},{"name":"object_type","type":"function","location":"app/models/account.rb:385","static":false},{"name":"instance_actor?","type":"function","location":"app/models/account.rb:175","static":false},{"name":"to_param","type":"function","location":"app/models/account.rb:389","static":false},{"name":"keypair","type":"function","location":"app/models/account.rb:293","static":false}]},{"name":"AccountStat","type":"class","children":[{"name":"following_count","type":"function","location":"app/models/account_stat.rb:25","static":false}]},{"name":"DomainBlock","type":"class","children":[{"name":"blocked?","type":"function","location":"app/models/domain_block.rb:49","static":true},{"name":"rule_for","type":"function","location":"app/models/domain_block.rb:67","static":true}]},{"name":"FollowRequest","type":"class","children":[{"name":"local?","type":"function","location":"app/models/follow_request.rb:43","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"generate_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:61","static":false},{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false},{"name":"key_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:53","static":false}]},{"name":"Adapter","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/adapter.rb:14","static":false},{"name":"transform_key_casing!","type":"function","location":"app/lib/activitypub/adapter.rb:10","static":true}]},{"name":"Serializer","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/serializer.rb:31","static":false}]},{"name":"CaseTransform","type":"class","children":[{"name":"camel_lower","type":"function","location":"app/lib/activitypub/case_transform.rb:9","static":true},{"name":"camel_lower_cache","type":"function","location":"app/lib/activitypub/case_transform.rb:5","static":true}]}]}]},{"name":"PotentialFriendshipTracker","type":"class","children":[{"name":"remove","type":"function","location":"app/lib/potential_friendship_tracker.rb:27","static":true}]},{"name":"TagManager","type":"class","children":[{"name":"local_domain?","type":"function","location":"app/lib/tag_manager.rb:13","static":false},{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"DeliveryFailureTracker","type":"class","children":[{"name":"available?","type":"function","location":"app/lib/delivery_failure_tracker.rb:52","static":true},{"name":"available?","type":"function","location":"app/lib/delivery_failure_tracker.rb:30","static":false},{"name":"track_failure!","type":"function","location":"app/lib/delivery_failure_tracker.rb:12","static":false},{"name":"days","type":"function","location":"app/lib/delivery_failure_tracker.rb:26","static":false}]},{"name":"ActivityTracker","type":"class","children":[{"name":"increment","type":"function","location":"app/lib/activity_tracker.rb:53","static":true},{"name":"add","type":"function","location":"app/lib/activity_tracker.rb:13","static":false}]},{"name":"RequestPool","type":"class","children":[{"name":"current","type":"function","location":"app/lib/request_pool.rb:6","static":true},{"name":"with","type":"function","location":"app/lib/request_pool.rb:106","static":false},{"name":"Connection","type":"class","children":[{"name":"use","type":"function","location":"app/lib/request_pool.rb:47","static":false},{"name":"close","type":"function","location":"app/lib/request_pool.rb:85","static":false}]}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"with","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:15","static":false},{"name":"checkout","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:29","static":false},{"name":"checkin","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:39","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"pop","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:23","static":false},{"name":"push","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:14","static":false}]}]}]},{"name":"Request","type":"class","children":[{"name":"on_behalf_of","type":"function","location":"app/lib/request.rb:91","static":false},{"name":"add_headers","type":"function","location":"app/lib/request.rb:100","static":false},{"name":"perform","type":"function","location":"app/lib/request.rb:105","static":false},{"name":"headers","type":"function","location":"app/lib/request.rb:126","static":false},{"name":"ClientLimit","type":"class","children":[{"name":"body_with_limit","type":"function","location":"app/lib/request.rb:227","static":false},{"name":"truncated_body","type":"function","location":"app/lib/request.rb:204","static":false}]}]}]},{"name":"helpers","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]},{"name":"DomainControlHelper","type":"class","children":[{"name":"domain_not_allowed?","type":"function","location":"app/helpers/domain_control_helper.rb:4","static":false},{"name":"limited_federation_mode?","type":"function","location":"app/helpers/domain_control_helper.rb:20","static":false}]},{"name":"ContextHelper","type":"class","children":[{"name":"serialized_context","type":"function","location":"app/helpers/context_helper.rb:41","static":false}]}]},{"name":"validators","type":"package","children":[{"name":"FollowLimitValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/follow_limit_validator.rb:7","static":false},{"name":"limit_for_account","type":"function","location":"app/validators/follow_limit_validator.rb:14","static":true}]},{"name":"LanguageValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"app/validators/language_validator.rb:6","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"import","type":"package","children":[{"name":"Import","type":"class","children":[{"name":"RelationshipWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/import/relationship_worker.rb:11","static":false},{"name":"domain","type":"function","location":"app/workers/import/relationship_worker.rb:41","static":false},{"name":"stoplight_wrap_request","type":"function","location":"app/workers/import/relationship_worker.rb:46","static":false}]}]}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"DeliveryWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/activitypub/delivery_worker.rb:25","static":false}]}]}]}]},{"name":"services/concerns","type":"package","children":[{"name":"Payloadable","type":"class","children":[{"name":"serialize_payload","type":"function","location":"app/services/concerns/payloadable.rb:13","static":false}]}]},{"name":"serializers/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"FollowSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:7","static":false},{"name":"type","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:11","static":false},{"name":"actor","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:15","static":false},{"name":"virtual_object","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:19","static":false}]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]},{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"lib","type":"package","children":[{"name":"paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"assign_attributes","type":"function","location":"lib/paperclip/attachment_extensions.rb:54","static":false},{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false},{"name":"storage_schema_version","type":"function","location":"lib/paperclip/attachment_extensions.rb:50","static":false}]},{"name":"MediaTypeSpoofDetectorExtensions","type":"class","children":[{"name":"calculated_content_type","type":"function","location":"lib/paperclip/media_type_spoof_detector_extensions.rb:7","static":false}]}]}]},{"name":"terrapin","type":"package","children":[{"name":"Terrapin","type":"class","children":[{"name":"MultiPipeExtensions","type":"class","children":[{"name":"pipe_options","type":"function","location":"lib/terrapin/multi_pipe_extensions.rb:14","static":false},{"name":"read","type":"function","location":"lib/terrapin/multi_pipe_extensions.rb:19","static":false}]}]}]},{"name":"mastodon","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"Version","type":"class","children":[{"name":"user_agent","type":"function","location":"lib/mastodon/version.rb:67","static":true}]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"sign","type":"function","location":"OpenSSL::PKey::PKey#sign","static":false,"labels":["crypto.pkey"]}]}]}]}]}],"events":[{"id":2506339,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"follow!","path":"app/models/concerns/account_interactions.rb","lineno":115,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":12380040,"value":"#<Account:0x00007fc8e17530d0>","kind":"req"},{"name":"reblogs","class":"FalseClass","object_id":0,"value":"false","kind":"key"},{"name":"notify","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"bypass_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506340,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2506341,"event":"return","thread_id":9160,"parent_id":2506340,"elapsed":0.000729013,"elapsed_instrumentation":0.00010579300578683615},{"id":2506342,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":12380100,"value":"#<Follow:0x00007fc8e176d0c0>"}},{"id":2506343,"event":"return","thread_id":9160,"parent_id":2506342,"elapsed":6.39201607555151e-06,"elapsed_instrumentation":0.00012895301915705204},{"id":2506344,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":12380100,"value":"#<Follow:0x00007fc8e176d0c0>"}},{"id":2506345,"event":"return","thread_id":9160,"parent_id":2506344,"elapsed":3.874010872095823e-06,"elapsed_instrumentation":6.799196125939488e-05},{"id":2506346,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":12380100,"value":"#<Follow:0x00007fc8e176d0c0>"}},{"id":2506347,"event":"return","thread_id":9160,"parent_id":2506346,"elapsed":4.723027814179659e-06,"elapsed_instrumentation":0.00011384097160771489},{"id":2506348,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":12380100,"value":"#<Follow:0x00007fc8e176d0c0>"}},{"id":2506349,"event":"return","thread_id":9160,"parent_id":2506348,"elapsed":3.502995241433382e-06,"elapsed_instrumentation":6.930797826498747e-05},{"id":2506350,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931ff0>"}},{"id":2506351,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"generate_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":61,"static":false,"parameters":[{"name":"_target","class":"Follow","object_id":12380100,"value":"#<Follow:0x00007fc8e176d0c0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506352,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506353,"event":"return","thread_id":9160,"parent_id":2506352,"elapsed":5.831010639667511e-06,"elapsed_instrumentation":0.00011861295206472278,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":2506354,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506355,"event":"return","thread_id":9160,"parent_id":2506354,"elapsed":3.400025889277458e-06,"elapsed_instrumentation":0.00010074791498482227,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":2506356,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12380140,"value":"]__C__m_0,_hn___"}},{"id":2506357,"event":"return","thread_id":9160,"parent_id":2506356,"elapsed":7.024034857749939e-06,"elapsed_instrumentation":0.0001422810018993914,"return_value":{"class":"Array","value":"[1571224387, 53695, 28115, 12332, 54376, 1859842535]","object_id":12380160,"size":6}},{"id":2506358,"event":"return","thread_id":9160,"parent_id":2506351,"elapsed":0.0008242029580287635,"elapsed_instrumentation":0.0001488479902036488,"return_value":{"class":"URI::HTTPS","value":"https://cb6e6126.ngrok.io/5da6fb43-d1bf-4dd3-b02c-d4686edaf1e7","object_id":12380180}},{"id":2506359,"event":"return","thread_id":9160,"parent_id":2506350,"elapsed":0.0012219580239616334,"elapsed_instrumentation":0.0001319359871558845,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324c9278 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c93b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342160,"size":2}},{"id":2506360,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931d70>"}},{"id":2506361,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit?","path":"app/models/concerns/follow_limitable.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":12380100,"value":"#<Follow:0x00007fc8e176d0c0>"}},{"id":2506362,"event":"return","thread_id":9160,"parent_id":2506361,"elapsed":4.025001544505358e-06,"elapsed_instrumentation":5.66940288990736e-05},{"id":2506363,"event":"call","thread_id":9160,"defined_class":"FollowLimitValidator","method_id":"validate","path":"app/validators/follow_limit_validator.rb","lineno":7,"static":false,"parameters":[{"name":"follow","class":"Follow","object_id":12380100,"value":"#<Follow:0x00007fc8e176d0c0>","kind":"req"}],"receiver":{"class":"FollowLimitValidator","object_id":1342220,"value":"#<FollowLimitValidator:0x00007fc93955dc50>"}},{"id":2506364,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506365,"event":"return","thread_id":9160,"parent_id":2506364,"elapsed":9.586976375430822e-06,"elapsed_instrumentation":0.00024153903359547257,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506366,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":12380220,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":12380240,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506367,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506368,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2506369,"event":"return","thread_id":9160,"parent_id":2506368,"elapsed":0.000452132,"elapsed_instrumentation":8.418899960815907e-05},{"id":2506370,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2506371,"event":"return","thread_id":9160,"parent_id":2506370,"elapsed":0.000589796,"elapsed_instrumentation":7.675099186599255e-05},{"id":2506372,"event":"return","thread_id":9160,"parent_id":2506367,"elapsed":0.0034966690000146627,"elapsed_instrumentation":0.00013574300101026893,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e176cd00>","object_id":12380260}},{"id":2506373,"event":"call","thread_id":9160,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":12380260,"value":"#<AccountStat:0x00007fc8e176cd00>"}},{"id":2506374,"event":"return","thread_id":9160,"parent_id":2506373,"elapsed":5.144096212461591e-05,"elapsed_instrumentation":8.303800132125616e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2506375,"event":"return","thread_id":9160,"parent_id":2506366,"elapsed":0.003955189022235572,"elapsed_instrumentation":0.00011703401105478406,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2506376,"event":"call","thread_id":9160,"defined_class":"FollowLimitValidator","method_id":"limit_for_account","path":"app/validators/follow_limit_validator.rb","lineno":14,"static":true,"parameters":[{"name":"account","class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>","kind":"req"}],"receiver":{"class":"Class","object_id":58400,"value":"FollowLimitValidator"}},{"id":2506377,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":12380280,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":12380300,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506378,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506379,"event":"return","thread_id":9160,"parent_id":2506378,"elapsed":1.4309014659374952e-05,"elapsed_instrumentation":7.248303154483438e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e176cd00>","object_id":12380260}},{"id":2506380,"event":"call","thread_id":9160,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":12380260,"value":"#<AccountStat:0x00007fc8e176cd00>"}},{"id":2506381,"event":"return","thread_id":9160,"parent_id":2506380,"elapsed":2.5339017156511545e-05,"elapsed_instrumentation":6.178696639835835e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2506382,"event":"return","thread_id":9160,"parent_id":2506377,"elapsed":0.00020822201622650027,"elapsed_instrumentation":0.00010353501420468092,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2506383,"event":"return","thread_id":9160,"parent_id":2506376,"elapsed":0.00033005495788529515,"elapsed_instrumentation":0.00010167103027924895,"return_value":{"class":"Integer","value":"7500","object_id":15001}},{"id":2506384,"event":"return","thread_id":9160,"parent_id":2506363,"elapsed":0.005019458010792732,"elapsed_instrumentation":9.694002801552415e-05},{"id":2506385,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2506386,"event":"return","thread_id":9160,"parent_id":2506385,"elapsed":0.000509543,"elapsed_instrumentation":8.107000030577183e-05},{"id":2506387,"event":"call","thread_id":9160,"defined_class":"LanguageValidator","method_id":"validate_each","path":"app/validators/language_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"Follow","object_id":12380100,"value":"#<Follow:0x00007fc8e176d0c0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":9806428,"value":":languages","kind":"req"},{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"LanguageValidator","object_id":1342240,"value":"#<LanguageValidator:0x00007fc939554bc8>"}},{"id":2506388,"event":"return","thread_id":9160,"parent_id":2506387,"elapsed":5.382986273616552e-06,"elapsed_instrumentation":0.00012761197285726666},{"id":2506389,"event":"return","thread_id":9160,"parent_id":2506360,"elapsed":0.007194756995886564,"elapsed_instrumentation":0.0001526160049252212,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324c6320 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c64d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c67a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6b68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6d48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342260,"size":6}},{"id":2506390,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931d70>"}},{"id":2506391,"event":"return","thread_id":9160,"parent_id":2506390,"elapsed":3.6450219340622425e-06,"elapsed_instrumentation":8.027598960325122e-05,"return_value":{"class":"Array","value":"[]","object_id":1342280,"size":0}},{"id":2506392,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931ff0>"}},{"id":2506393,"event":"return","thread_id":9160,"parent_id":2506392,"elapsed":3.3479882404208183e-06,"elapsed_instrumentation":7.237994577735662e-05,"return_value":{"class":"Array","value":"[]","object_id":1342300,"size":0}},{"id":2506394,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930ec0>"}},{"id":2506395,"event":"return","thread_id":9160,"parent_id":2506394,"elapsed":0.0001934949541464448,"elapsed_instrumentation":0.0001207779860123992,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324fc1c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fc308 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342360,"size":2}},{"id":2506396,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930c40>"}},{"id":2506397,"event":"return","thread_id":9160,"parent_id":2506396,"elapsed":2.6720226742327213e-06,"elapsed_instrumentation":9.459600551053882e-05,"return_value":{"class":"Array","value":"[]","object_id":1342420,"size":0}},{"id":2506398,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"follows\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"show_reblogs\", \"uri\", \"notify\", \"languages\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING \"id\"","database_type":"postgres"}},{"id":2506399,"event":"return","thread_id":9160,"parent_id":2506398,"elapsed":0.000981698,"elapsed_instrumentation":7.83279538154602e-05},{"id":2506400,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930c40>"}},{"id":2506401,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit?","path":"app/models/concerns/rate_limitable.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":12380100,"value":"#<Follow:0x00007fc8e176d0c0>"}},{"id":2506402,"event":"return","thread_id":9160,"parent_id":2506401,"elapsed":3.771972842514515e-06,"elapsed_instrumentation":6.334797944873571e-05},{"id":2506403,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506404,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506405,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506406,"event":"return","thread_id":9160,"parent_id":2506405,"elapsed":1.5645986422896385e-05,"elapsed_instrumentation":0.00011515698861330748,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e176cd00>","object_id":12380260}},{"id":2506407,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506408,"event":"return","thread_id":9160,"parent_id":2506407,"elapsed":7.784052286297083e-06,"elapsed_instrumentation":7.824500789865851e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e176cd00>","object_id":12380260}},{"id":2506409,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361421852066350, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + 1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2506410,"event":"return","thread_id":9160,"parent_id":2506409,"elapsed":0.000856228,"elapsed_instrumentation":7.360702147707343e-05},{"id":2506411,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506412,"event":"return","thread_id":9160,"parent_id":2506411,"elapsed":1.1523021385073662e-05,"elapsed_instrumentation":0.000106305000372231,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e176cd00>","object_id":12380260}},{"id":2506413,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506414,"event":"return","thread_id":9160,"parent_id":2506413,"elapsed":7.444992661476135e-06,"elapsed_instrumentation":7.526401896029711e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e176cd00>","object_id":12380260}},{"id":2506415,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506416,"event":"return","thread_id":9160,"parent_id":2506415,"elapsed":7.3820119723677635e-06,"elapsed_instrumentation":7.09409941919148e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e176cd00>","object_id":12380260}},{"id":2506417,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2506418,"event":"return","thread_id":9160,"parent_id":2506417,"elapsed":0.000631544,"elapsed_instrumentation":7.781502790749073e-05},{"id":2506419,"event":"return","thread_id":9160,"parent_id":2506404,"elapsed":0.004543099028524011,"elapsed_instrumentation":0.00010876602027565241,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e176cd00>","object_id":12380260}},{"id":2506420,"event":"return","thread_id":9160,"parent_id":2506403,"elapsed":0.00467493396718055,"elapsed_instrumentation":9.37289441935718e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e176cd00>","object_id":12380260}},{"id":2506421,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":12380040,"value":"#<Account:0x00007fc8e17530d0>"}},{"id":2506422,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":12380040,"value":"#<Account:0x00007fc8e17530d0>"}},{"id":2506423,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361421852066351, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + 1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2506424,"event":"return","thread_id":9160,"parent_id":2506423,"elapsed":0.000823483,"elapsed_instrumentation":8.124200394377112e-05},{"id":2506425,"event":"return","thread_id":9160,"parent_id":2506422,"elapsed":0.0014845730038359761,"elapsed_instrumentation":8.718296885490417e-05},{"id":2506426,"event":"return","thread_id":9160,"parent_id":2506421,"elapsed":0.0015946460189297795,"elapsed_instrumentation":9.312003385275602e-05},{"id":2506427,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12380000,"value":"#<Account:0x00007fc8e1758210>"}},{"id":2506428,"event":"return","thread_id":9160,"parent_id":2506427,"elapsed":1.208402682095766e-05,"elapsed_instrumentation":0.00013129698345437646,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506429,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12380040,"value":"#<Account:0x00007fc8e17530d0>"}},{"id":2506430,"event":"return","thread_id":9160,"parent_id":2506429,"elapsed":5.107023753225803e-06,"elapsed_instrumentation":7.83849973231554e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506431,"event":"return","thread_id":9160,"parent_id":2506400,"elapsed":0.006983929022680968,"elapsed_instrumentation":0.00016264297300949693,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324fb390 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fb1d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fb020 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fae68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342480,"size":4}},{"id":2506432,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930ec0>"}},{"id":2506433,"event":"return","thread_id":9160,"parent_id":2506432,"elapsed":4.311033990234137e-06,"elapsed_instrumentation":0.0003620439674705267,"return_value":{"class":"Array","value":"[]","object_id":1342500,"size":0}},{"id":2506434,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2506435,"event":"return","thread_id":9160,"parent_id":2506434,"elapsed":0.000436076,"elapsed_instrumentation":7.602496771141887e-05},{"id":2506436,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2506437,"event":"return","thread_id":9160,"parent_id":2506436,"elapsed":4.009983967989683e-06,"elapsed_instrumentation":0.000120131007861346,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2506438,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2506439,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12380380,"value":"Cache delete: relationship:111361421852066350:111361421852066351\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2506440,"event":"return","thread_id":9160,"parent_id":2506439,"elapsed":0.0007827070076018572,"elapsed_instrumentation":0.0001099579967558384,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2506441,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12380400,"value":"Cache delete: relationship:111361421852066351:111361421852066350\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2506442,"event":"return","thread_id":9160,"parent_id":2506441,"elapsed":0.0008891149773262441,"elapsed_instrumentation":0.0001259489799849689,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2506443,"event":"return","thread_id":9160,"parent_id":2506438,"elapsed":0.0021997519652359188,"elapsed_instrumentation":0.00010909605771303177,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2506444,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222722843704132701,"value":"111361421852066350","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222722843704132703,"value":"111361421852066351","kind":"req"}],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":2506445,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":2506446,"event":"return","thread_id":9160,"parent_id":2506445,"elapsed":5.281995981931686e-06,"elapsed_instrumentation":8.567905751988292e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2506447,"event":"return","thread_id":9160,"parent_id":2506444,"elapsed":0.0005431920289993286,"elapsed_instrumentation":0.0002891300246119499},{"id":2506448,"event":"return","thread_id":9160,"parent_id":2506339,"elapsed":0.02842059696558863,"elapsed_instrumentation":0.000244454073254019,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e176d0c0>","object_id":12380100}},{"id":2506449,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"assign_attributes","path":"lib/paperclip/attachment_extensions.rb","lineno":54,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12380420,"value":"/data/original/missing.png"}},{"id":2506450,"event":"return","thread_id":9160,"parent_id":2506449,"elapsed":0.00014288700185716152,"elapsed_instrumentation":0.0003134149592369795},{"id":2506451,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2506452,"event":"return","thread_id":9160,"parent_id":2506451,"elapsed":2.1988991647958755e-05,"elapsed_instrumentation":0.00016907003009691834,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":2506453,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5838360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f980>"}},{"id":2506454,"event":"call","thread_id":9160,"defined_class":"Paperclip::MediaTypeSpoofDetectorExtensions","method_id":"calculated_content_type","path":"lib/paperclip/media_type_spoof_detector_extensions.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"Paperclip::MediaTypeSpoofDetector","object_id":12380500,"value":"#<Paperclip::MediaTypeSpoofDetector:0x00007fc8e101be70>"}},{"id":2506455,"event":"call","thread_id":9160,"defined_class":"Terrapin::MultiPipeExtensions","method_id":"pipe_options","path":"lib/terrapin/multi_pipe_extensions.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Terrapin::CommandLine::MultiPipe","object_id":12380520,"value":"#<Terrapin::CommandLine::MultiPipe:0x00007fc8e101bba0>"}},{"id":2506456,"event":"return","thread_id":9160,"parent_id":2506455,"elapsed":8.453032933175564e-06,"elapsed_instrumentation":0.0003502299659885466,"return_value":{"class":"Hash","value":"{:out=>#<IO:0x00007fc93209cfb0>, :err=>#<IO:0x00007fc93209cdf8>, #<IO:0x00007fc93209cfd8>=>:close, #<IO:0x00007fc93209ce98>=>:close}","object_id":12380580,"size":4}},{"id":2506457,"event":"call","thread_id":9160,"defined_class":"Terrapin::MultiPipeExtensions","method_id":"read","path":"lib/terrapin/multi_pipe_extensions.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Terrapin::CommandLine::MultiPipe","object_id":12380520,"value":"#<Terrapin::CommandLine::MultiPipe:0x00007fc8e101bba0>"}},{"id":2506458,"event":"return","thread_id":9160,"parent_id":2506457,"elapsed":0.00786728598177433,"elapsed_instrumentation":0.0001094700419344008},{"id":2506459,"event":"return","thread_id":9160,"parent_id":2506454,"elapsed":0.009075237030629069,"elapsed_instrumentation":0.00011749897385016084,"return_value":{"class":"String","value":"text/plain","object_id":12380600}},{"id":2506460,"event":"return","thread_id":9160,"parent_id":2506453,"elapsed":0.010684165987186134,"elapsed_instrumentation":0.0001960609806701541,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931916548 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931916700 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931916a20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931916c00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931916e58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931917240 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931917448 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5838500,"size":7}},{"id":2506461,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5838360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f980>"}},{"id":2506462,"event":"return","thread_id":9160,"parent_id":2506461,"elapsed":4.48198989033699e-06,"elapsed_instrumentation":0.00011042703408747911,"return_value":{"class":"Array","value":"[]","object_id":5838520,"size":0}},{"id":2506463,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":2506464,"event":"return","thread_id":9160,"parent_id":2506463,"elapsed":2.641987521201372e-06,"elapsed_instrumentation":7.432198617607355e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":2506465,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5845240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93818a0c0>"}},{"id":2506466,"event":"return","thread_id":9160,"parent_id":2506465,"elapsed":7.773004472255707e-05,"elapsed_instrumentation":9.499496081843972e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93a0632a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5845260,"size":1}},{"id":2506467,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2506468,"event":"return","thread_id":9160,"parent_id":2506467,"elapsed":0.000476338,"elapsed_instrumentation":9.814399527385831e-05},{"id":2506469,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"imports\" (\"type\", \"approved\", \"created_at\", \"updated_at\", \"data_file_name\", \"data_content_type\", \"data_file_size\", \"data_updated_at\", \"account_id\", \"overwrite\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING \"id\"","database_type":"postgres"}},{"id":2506470,"event":"return","thread_id":9160,"parent_id":2506469,"elapsed":0.001951334,"elapsed_instrumentation":7.574300980195403e-05},{"id":2506471,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5845240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93818a0c0>"}},{"id":2506472,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12380420,"value":"/system/imports/data/000/000/074/original/mute-imports.txt"}},{"id":2506473,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12380420,"value":"/system/imports/data/000/000/074/original/mute-imports.txt"}},{"id":2506474,"event":"return","thread_id":9160,"parent_id":2506473,"elapsed":1.9526982214301825e-05,"elapsed_instrumentation":0.0003834219533018768,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2506475,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12380420,"value":"/system/imports/data/000/000/074/original/mute-imports.txt"}},{"id":2506476,"event":"return","thread_id":9160,"parent_id":2506475,"elapsed":1.9472965504974127e-05,"elapsed_instrumentation":0.0003715479979291558,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2506477,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12380420,"value":"/system/imports/data/000/000/074/original/mute-imports.txt"}},{"id":2506478,"event":"return","thread_id":9160,"parent_id":2506477,"elapsed":2.364796819165349e-05,"elapsed_instrumentation":0.00040764600271359086,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2506479,"event":"return","thread_id":9160,"parent_id":2506472,"elapsed":0.01333041803445667,"elapsed_instrumentation":0.000395399983972311,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506480,"event":"return","thread_id":9160,"parent_id":2506471,"elapsed":0.013780800043605268,"elapsed_instrumentation":0.00013907597167417407,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93a0ae780 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5845280,"size":1}},{"id":2506481,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2506482,"event":"return","thread_id":9160,"parent_id":2506481,"elapsed":0.000768178,"elapsed_instrumentation":9.206298273056746e-05},{"id":2506483,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5845340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9381866a0>"}},{"id":2506484,"event":"return","thread_id":9160,"parent_id":2506483,"elapsed":5.145964678376913e-06,"elapsed_instrumentation":0.00014518207171931863,"return_value":{"class":"Array","value":"[]","object_id":5845360,"size":0}},{"id":2506485,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12380660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5845340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9381866a0>"}},{"id":2506486,"event":"return","thread_id":9160,"parent_id":2506485,"elapsed":2.174597466364503e-05,"elapsed_instrumentation":0.00022211804753169417,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93956efc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5845380,"size":1}},{"id":2506487,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12380420,"value":"/system/imports/data/000/000/074/original/mute-imports.txt"}},{"id":2506488,"event":"return","thread_id":9160,"parent_id":2506487,"elapsed":2.8982001822441816e-05,"elapsed_instrumentation":0.0004221810377202928,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2506489,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":12380420,"value":"/system/imports/data/000/000/074/original/mute-imports.txt"}},{"id":2506490,"event":"return","thread_id":9160,"parent_id":2506489,"elapsed":1.378002343699336e-05,"elapsed_instrumentation":0.0002965859603136778,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":2506491,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12380680,"value":"3___;H_:_o_\f"}},{"id":2506492,"event":"return","thread_id":9160,"parent_id":2506491,"elapsed":5.309993866831064e-06,"elapsed_instrumentation":0.00016839097952470183,"return_value":{"class":"String","value":"33a0f7fd3b48833a876fb80c","object_id":12380700}},{"id":2506493,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12380720,"value":"\u0014_>\u000b__V__4__"}},{"id":2506494,"event":"return","thread_id":9160,"parent_id":2506493,"elapsed":2.872955519706011e-06,"elapsed_instrumentation":9.459705324843526e-05,"return_value":{"class":"String","value":"14903e0bfda756d6a334bbe1","object_id":12380740}},{"id":2506495,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":12380760,"value":"[111361421852066350, bob, follow, {reblogs=>true, notify=>false, languages=>}]","kind":"req","size":4}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12380780,"value":"#<JSON::Ext::Generator::State:0x00007fc93205f188>"}},{"id":2506496,"event":"return","thread_id":9160,"parent_id":2506495,"elapsed":9.891984518617392e-06,"elapsed_instrumentation":0.00017022999236360192,"return_value":{"class":"String","value":"[111361421852066350,\"bob\",\"follow\",{\"reblogs\":true,\"notify\":false,\"languages\":null}]","object_id":12380800}},{"id":2506497,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12380820,"value":"#<JSON::Ext::Parser:0x00007fc93205a1d8>"}},{"id":2506498,"event":"return","thread_id":9160,"parent_id":2506497,"elapsed":1.3666984159499407e-05,"elapsed_instrumentation":0.00012144999345764518,"return_value":{"class":"Array","value":"[111361421852066350, bob, follow, {reblogs=>true, notify=>false, languages=>}]","object_id":12380840,"size":4}},{"id":2506499,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12380860,"value":"___H___*____"}},{"id":2506500,"event":"return","thread_id":9160,"parent_id":2506499,"elapsed":3.9279693737626076e-06,"elapsed_instrumentation":0.00022928108228370547,"return_value":{"class":"String","value":"ffaef948c0a9982aa896e0a2","object_id":12380880}},{"id":2506501,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":12380900,"value":"[111361421852066350, eve@example.com, follow, {reblogs=>true, notify=>false, languages=>}]","kind":"req","size":4}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12380920,"value":"#<JSON::Ext::Generator::State:0x00007fc932055908>"}},{"id":2506502,"event":"return","thread_id":9160,"parent_id":2506501,"elapsed":8.718983735889196e-06,"elapsed_instrumentation":0.0001533010508865118,"return_value":{"class":"String","value":"[111361421852066350,\"eve@example.com\",\"follow\",{\"reblogs\":true,\"notify\":false,\"languages\":null}]","object_id":12380940}},{"id":2506503,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12380960,"value":"#<JSON::Ext::Parser:0x00007fc932052988>"}},{"id":2506504,"event":"return","thread_id":9160,"parent_id":2506503,"elapsed":8.57602572068572e-06,"elapsed_instrumentation":0.0001205739681608975,"return_value":{"class":"Array","value":"[111361421852066350, eve@example.com, follow, {reblogs=>true, notify=>false, languages=>}]","object_id":12380980,"size":4}},{"id":2506505,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12381000,"value":"_\u001b\r;______\\_"}},{"id":2506506,"event":"return","thread_id":9160,"parent_id":2506505,"elapsed":3.04199056699872e-06,"elapsed_instrumentation":9.522098116576672e-05,"return_value":{"class":"String","value":"d71b0d3bf8ebbfd6d1925cc7","object_id":12381020}},{"id":2506507,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":12381040,"value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111361421852066350, bob, follow, {reblogs=>true, notify=>false, languages=>}], jid=>14903e0bfda756d6a334bbe1, created_at=>1699240446.0034833, id=>d71b0d3bf8ebbfd6d1925cc7}","kind":"req","size":8}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12381060,"value":"#<JSON::Ext::Generator::State:0x00007fc93206ddc8>"}},{"id":2506508,"event":"return","thread_id":9160,"parent_id":2506507,"elapsed":1.67209655046463e-05,"elapsed_instrumentation":0.0003427310148254037,"return_value":{"class":"String","value":"{\"retry\":8,\"queue\":\"pull\",\"dead\":false,\"class\":\"Import::RelationshipWorker\",\"args\":[1113614218520663 (...165 more characters)","object_id":12381080}},{"id":2506509,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12381100,"value":"#<JSON::Ext::Parser:0x00007fc932068a58>"}},{"id":2506510,"event":"return","thread_id":9160,"parent_id":2506509,"elapsed":2.4362991098314524e-05,"elapsed_instrumentation":0.00024757598293945193,"return_value":{"class":"Hash","value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111361421852066350, bob, follow, {reblogs=>true, notify=>false, languages=>}], jid=>14903e0bfda756d6a334bbe1, created_at=>1699240446.0034833, id=>d71b0d3bf8ebbfd6d1925cc7}","object_id":12381120,"size":8}},{"id":2506511,"event":"call","thread_id":9160,"defined_class":"Import::RelationshipWorker","method_id":"perform","path":"app/workers/import/relationship_worker.rb","lineno":11,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222722843704132701,"value":"111361421852066350","kind":"req"},{"name":"target_account_uri","class":"String","object_id":12381140,"value":"bob","kind":"req"},{"name":"relationship","class":"String","object_id":12381160,"value":"follow","kind":"req"},{"name":"options","class":"Hash","object_id":12381180,"value":"{reblogs=>true, notify=>false, languages=>}","kind":"req","size":3}],"receiver":{"class":"Import::RelationshipWorker","object_id":12381200,"value":"#<Import::RelationshipWorker:0x00007fc932065790>"}},{"id":2506512,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2506513,"event":"return","thread_id":9160,"parent_id":2506512,"elapsed":0.001257266,"elapsed_instrumentation":0.00010441301856189966},{"id":2506514,"event":"call","thread_id":9160,"defined_class":"Import::RelationshipWorker","method_id":"domain","path":"app/workers/import/relationship_worker.rb","lineno":41,"static":false,"parameters":[{"name":"uri","class":"String","object_id":12381140,"value":"bob","kind":"req"}],"receiver":{"class":"Import::RelationshipWorker","object_id":12381200,"value":"#<Import::RelationshipWorker:0x00007fc932065790>"}},{"id":2506515,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2506516,"event":"return","thread_id":9160,"parent_id":2506515,"elapsed":3.123015630990267e-06,"elapsed_instrumentation":9.072193643078208e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506517,"event":"return","thread_id":9160,"parent_id":2506514,"elapsed":0.00011981400894001126,"elapsed_instrumentation":0.00012589700054377317},{"id":2506518,"event":"call","thread_id":9160,"defined_class":"Import::RelationshipWorker","method_id":"stoplight_wrap_request","path":"app/workers/import/relationship_worker.rb","lineno":46,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Import::RelationshipWorker","object_id":12381200,"value":"#<Import::RelationshipWorker:0x00007fc932065790>"}},{"id":2506519,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2506520,"event":"return","thread_id":9160,"parent_id":2506519,"elapsed":3.7450226955115795e-06,"elapsed_instrumentation":0.00019088498083874583,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506521,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ResolveAccountService","object_id":12381220,"value":"#<ResolveAccountService:0x00007fc8e1015e30>"}},{"id":2506522,"event":"return","thread_id":9160,"parent_id":2506521,"elapsed":5.55400038138032e-06,"elapsed_instrumentation":7.784407353028655e-05},{"id":2506523,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":12381240,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc931fb8b80>"}},{"id":2506524,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'bob' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2506525,"event":"return","thread_id":9160,"parent_id":2506524,"elapsed":0.001438021,"elapsed_instrumentation":0.0001368990051560104},{"id":2506526,"event":"return","thread_id":9160,"parent_id":2506523,"elapsed":0.004588885989505798,"elapsed_instrumentation":0.00013280200073495507,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1768e80>","object_id":12381260}},{"id":2506527,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381260,"value":"#<Account:0x00007fc8e1768e80>"}},{"id":2506528,"event":"return","thread_id":9160,"parent_id":2506527,"elapsed":2.129696076735854e-05,"elapsed_instrumentation":0.00012515205889940262,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506529,"event":"return","thread_id":9160,"parent_id":2506518,"elapsed":0.005348913022316992,"elapsed_instrumentation":8.61189910210669e-05,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1768e80>","object_id":12381260}},{"id":2506530,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381260,"value":"#<Account:0x00007fc8e1768e80>"}},{"id":2506531,"event":"return","thread_id":9160,"parent_id":2506530,"elapsed":2.6860972866415977e-05,"elapsed_instrumentation":5.768396658822894e-05},{"id":2506532,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"FollowService","object_id":12381280,"value":"#<FollowService:0x00007fc8e1014fd0>"}},{"id":2506533,"event":"return","thread_id":9160,"parent_id":2506532,"elapsed":5.318026524037123e-06,"elapsed_instrumentation":8.280097972601652e-05},{"id":2506534,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":12381300,"value":"#<Account:0x00007fc8e1768fc0>","kind":"req"}],"receiver":{"class":"Account","object_id":12381260,"value":"#<Account:0x00007fc8e1768e80>"}},{"id":2506535,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2506536,"event":"return","thread_id":9160,"parent_id":2506535,"elapsed":0.000721973,"elapsed_instrumentation":0.0003351279883645475},{"id":2506537,"event":"return","thread_id":9160,"parent_id":2506534,"elapsed":0.0028326879837550223,"elapsed_instrumentation":8.069502655416727e-05},{"id":2506538,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":12381260,"value":"#<Account:0x00007fc8e1768e80>","kind":"req"}],"receiver":{"class":"Account","object_id":12381300,"value":"#<Account:0x00007fc8e1768fc0>"}},{"id":2506539,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2506540,"event":"return","thread_id":9160,"parent_id":2506539,"elapsed":0.000597071,"elapsed_instrumentation":8.836499182507396e-05},{"id":2506541,"event":"return","thread_id":9160,"parent_id":2506538,"elapsed":0.0019799350411631167,"elapsed_instrumentation":0.00012070703087374568},{"id":2506542,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"moved?","path":"app/models/account.rb","lineno":167,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381260,"value":"#<Account:0x00007fc8e1768e80>"}},{"id":2506543,"event":"return","thread_id":9160,"parent_id":2506542,"elapsed":1.8710969015955925e-05,"elapsed_instrumentation":9.172700811177492e-05},{"id":2506544,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381260,"value":"#<Account:0x00007fc8e1768e80>"}},{"id":2506545,"event":"return","thread_id":9160,"parent_id":2506544,"elapsed":6.523041520267725e-06,"elapsed_instrumentation":7.200299296528101e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506546,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"domain_blocking?","path":"app/models/concerns/account_interactions.rb","lineno":218,"static":false,"parameters":[{"name":"other_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Account","object_id":12381300,"value":"#<Account:0x00007fc8e1768fc0>"}},{"id":2506547,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" IS NULL LIMIT $2","database_type":"postgres"}},{"id":2506548,"event":"return","thread_id":9160,"parent_id":2506547,"elapsed":0.000821963,"elapsed_instrumentation":8.872401667758822e-05},{"id":2506549,"event":"return","thread_id":9160,"parent_id":2506546,"elapsed":0.002295629004947841,"elapsed_instrumentation":7.731100777164102e-05},{"id":2506550,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":12381260,"value":"#<Account:0x00007fc8e1768e80>","kind":"req"}],"receiver":{"class":"Account","object_id":12381300,"value":"#<Account:0x00007fc8e1768fc0>"}},{"id":2506551,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2506552,"event":"return","thread_id":9160,"parent_id":2506551,"elapsed":0.000802178,"elapsed_instrumentation":8.435797644779086e-05},{"id":2506553,"event":"return","thread_id":9160,"parent_id":2506550,"elapsed":0.002377349999733269,"elapsed_instrumentation":0.0005555259995162487,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506554,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"follow!","path":"app/models/concerns/account_interactions.rb","lineno":115,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":12381260,"value":"#<Account:0x00007fc8e1768e80>","kind":"req"},{"name":"reblogs","class":"TrueClass","object_id":20,"value":"true","kind":"key"},{"name":"notify","class":"FalseClass","object_id":0,"value":"false","kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"bypass_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":12381300,"value":"#<Account:0x00007fc8e1768fc0>"}},{"id":2506555,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2506556,"event":"return","thread_id":9160,"parent_id":2506555,"elapsed":0.00047361,"elapsed_instrumentation":0.0001856010057963431},{"id":2506557,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12381320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931ff0>"}},{"id":2506558,"event":"return","thread_id":9160,"parent_id":2506557,"elapsed":4.547403659671545e-05,"elapsed_instrumentation":0.0002509320038370788,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324c9278 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c93b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342160,"size":2}},{"id":2506559,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12381340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931d70>"}},{"id":2506560,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2506561,"event":"return","thread_id":9160,"parent_id":2506560,"elapsed":0.000350809,"elapsed_instrumentation":7.351400563493371e-05},{"id":2506562,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2506563,"event":"return","thread_id":9160,"parent_id":2506562,"elapsed":0.000744864,"elapsed_instrumentation":8.302601054310799e-05},{"id":2506564,"event":"call","thread_id":9160,"defined_class":"LanguageValidator","method_id":"validate_each","path":"app/validators/language_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"Follow","object_id":12381360,"value":"#<Follow:0x00007fc8e17680c0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":9806428,"value":":languages","kind":"req"},{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"LanguageValidator","object_id":1342240,"value":"#<LanguageValidator:0x00007fc939554bc8>"}},{"id":2506565,"event":"return","thread_id":9160,"parent_id":2506564,"elapsed":5.561974830925465e-06,"elapsed_instrumentation":0.00017083203420042992},{"id":2506566,"event":"return","thread_id":9160,"parent_id":2506559,"elapsed":0.003454621008131653,"elapsed_instrumentation":0.00015601905761286616,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324c6320 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c64d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c67a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6b68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6d48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342260,"size":6}},{"id":2506567,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12381340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931d70>"}},{"id":2506568,"event":"return","thread_id":9160,"parent_id":2506567,"elapsed":3.6460114642977715e-06,"elapsed_instrumentation":8.722400525584817e-05,"return_value":{"class":"Array","value":"[]","object_id":1342280,"size":0}},{"id":2506569,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12381320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342060,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931ff0>"}},{"id":2506570,"event":"return","thread_id":9160,"parent_id":2506569,"elapsed":2.6199850253760815e-06,"elapsed_instrumentation":0.0001918469206430018,"return_value":{"class":"Array","value":"[]","object_id":1342300,"size":0}},{"id":2506571,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12381380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930ec0>"}},{"id":2506572,"event":"return","thread_id":9160,"parent_id":2506571,"elapsed":6.955000571906567e-05,"elapsed_instrumentation":0.0001431250129826367,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9324fc1c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fc308 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342360,"size":2}},{"id":2506573,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12381400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2836260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315bd680>"}},{"id":2506574,"event":"return","thread_id":9160,"parent_id":2506573,"elapsed":3.3609685488045216e-06,"elapsed_instrumentation":0.00014096003724262118,"return_value":{"class":"Array","value":"[]","object_id":2836280,"size":0}},{"id":2506575,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"follows\" SET \"updated_at\" = $1, \"show_reblogs\" = $2 WHERE \"follows\".\"id\" = $3","database_type":"postgres"}},{"id":2506576,"event":"return","thread_id":9160,"parent_id":2506575,"elapsed":0.001019158,"elapsed_instrumentation":8.991401409730315e-05},{"id":2506577,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12381400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2836260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315bd680>"}},{"id":2506578,"event":"return","thread_id":9160,"parent_id":2506577,"elapsed":2.9490969609469175e-05,"elapsed_instrumentation":0.0001490480499342084,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931d58ed0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2836300,"size":1}},{"id":2506579,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12381380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930ec0>"}},{"id":2506580,"event":"return","thread_id":9160,"parent_id":2506579,"elapsed":2.5730114430189133e-06,"elapsed_instrumentation":8.043699199333787e-05,"return_value":{"class":"Array","value":"[]","object_id":1342500,"size":0}},{"id":2506581,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2506582,"event":"return","thread_id":9160,"parent_id":2506581,"elapsed":0.000394889,"elapsed_instrumentation":7.449404802173376e-05},{"id":2506583,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12381420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2506584,"event":"return","thread_id":9160,"parent_id":2506583,"elapsed":3.472960088402033e-06,"elapsed_instrumentation":0.00010554800974205136,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2506585,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12381420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2506586,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12381440,"value":"Cache delete: relationship:111361421852066350:111361421852066351\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2506587,"event":"return","thread_id":9160,"parent_id":2506586,"elapsed":0.0005817529745399952,"elapsed_instrumentation":0.00011659407755360007,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2506588,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12381460,"value":"Cache delete: relationship:111361421852066351:111361421852066350\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2506589,"event":"return","thread_id":9160,"parent_id":2506588,"elapsed":0.0007440589834004641,"elapsed_instrumentation":0.0001326749916188419,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2506590,"event":"return","thread_id":9160,"parent_id":2506585,"elapsed":0.0018682079971767962,"elapsed_instrumentation":0.00010687106987461448,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2506591,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222722843704132701,"value":"111361421852066350","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222722843704132703,"value":"111361421852066351","kind":"req"}],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":2506592,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":2506593,"event":"return","thread_id":9160,"parent_id":2506592,"elapsed":5.813955795019865e-06,"elapsed_instrumentation":0.0003370440099388361,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2506594,"event":"return","thread_id":9160,"parent_id":2506591,"elapsed":0.0012169780093245208,"elapsed_instrumentation":0.00012174493167549372},{"id":2506595,"event":"return","thread_id":9160,"parent_id":2506554,"elapsed":0.014527679013554007,"elapsed_instrumentation":0.0002238949527963996,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e17680c0>","object_id":12381360}},{"id":2506596,"event":"return","thread_id":9160,"parent_id":2506511,"elapsed":0.034349010966252536,"elapsed_instrumentation":0.00015754502965137362,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e17680c0>","object_id":12381360}},{"id":2506597,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12381480,"value":"\u0005__P9-__O\t_~"}},{"id":2506598,"event":"return","thread_id":9160,"parent_id":2506597,"elapsed":5.303998477756977e-06,"elapsed_instrumentation":0.00028791296062991023,"return_value":{"class":"String","value":"05a6e850392d93c44f09f67e","object_id":12381500}},{"id":2506599,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":12381520,"value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111361421852066350, eve@example.com, follow, {reblogs=>true, notify=>false, languages=>}], jid=>ffaef948c0a9982aa896e0a2, created_at=>1699240446.0034833, id=>05a6e850392d93c44f09f67e}","kind":"req","size":8}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12381540,"value":"#<JSON::Ext::Generator::State:0x00007fc931ebd050>"}},{"id":2506600,"event":"return","thread_id":9160,"parent_id":2506599,"elapsed":1.7064972780644894e-05,"elapsed_instrumentation":0.00026459607761353254,"return_value":{"class":"String","value":"{\"retry\":8,\"queue\":\"pull\",\"dead\":false,\"class\":\"Import::RelationshipWorker\",\"args\":[1113614218520663 (...177 more characters)","object_id":12381560}},{"id":2506601,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12381580,"value":"#<JSON::Ext::Parser:0x00007fc931eb9068>"}},{"id":2506602,"event":"return","thread_id":9160,"parent_id":2506601,"elapsed":3.130000550299883e-05,"elapsed_instrumentation":0.00033858901588246226,"return_value":{"class":"Hash","value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111361421852066350, eve@example.com, follow, {reblogs=>true, notify=>false, languages=>}], jid=>ffaef948c0a9982aa896e0a2, created_at=>1699240446.0034833, id=>05a6e850392d93c44f09f67e}","object_id":12381600,"size":8}},{"id":2506603,"event":"call","thread_id":9160,"defined_class":"Import::RelationshipWorker","method_id":"perform","path":"app/workers/import/relationship_worker.rb","lineno":11,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222722843704132701,"value":"111361421852066350","kind":"req"},{"name":"target_account_uri","class":"String","object_id":12381620,"value":"eve@example.com","kind":"req"},{"name":"relationship","class":"String","object_id":12381640,"value":"follow","kind":"req"},{"name":"options","class":"Hash","object_id":12381660,"value":"{reblogs=>true, notify=>false, languages=>}","kind":"req","size":3}],"receiver":{"class":"Import::RelationshipWorker","object_id":12381680,"value":"#<Import::RelationshipWorker:0x00007fc931eb4b58>"}},{"id":2506604,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2506605,"event":"return","thread_id":9160,"parent_id":2506604,"elapsed":0.000640436,"elapsed_instrumentation":9.040400618687272e-05},{"id":2506606,"event":"call","thread_id":9160,"defined_class":"Import::RelationshipWorker","method_id":"domain","path":"app/workers/import/relationship_worker.rb","lineno":41,"static":false,"parameters":[{"name":"uri","class":"String","object_id":12381620,"value":"eve@example.com","kind":"req"}],"receiver":{"class":"Import::RelationshipWorker","object_id":12381680,"value":"#<Import::RelationshipWorker:0x00007fc931eb4b58>"}},{"id":2506607,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":12381700,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2506608,"event":"return","thread_id":9160,"parent_id":2506607,"elapsed":2.2197025828063488e-05,"elapsed_instrumentation":8.508202154189348e-05},{"id":2506609,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":12381700,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2506610,"event":"return","thread_id":9160,"parent_id":2506609,"elapsed":0.00018981000175699592,"elapsed_instrumentation":8.734798757359385e-05,"return_value":{"class":"String","value":"example.com","object_id":12381720}},{"id":2506611,"event":"return","thread_id":9160,"parent_id":2506606,"elapsed":0.0004298450076021254,"elapsed_instrumentation":0.00013051897985860705,"return_value":{"class":"String","value":"example.com","object_id":12381720}},{"id":2506612,"event":"call","thread_id":9160,"defined_class":"Import::RelationshipWorker","method_id":"stoplight_wrap_request","path":"app/workers/import/relationship_worker.rb","lineno":46,"static":false,"parameters":[{"name":"domain","class":"String","object_id":12381720,"value":"example.com","kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Import::RelationshipWorker","object_id":12381680,"value":"#<Import::RelationshipWorker:0x00007fc931eb4b58>"}},{"id":2506613,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":12381740,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2506614,"event":"return","thread_id":9160,"parent_id":2506613,"elapsed":1.619296381250024e-05,"elapsed_instrumentation":0.00011243706103414297},{"id":2506615,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":12381740,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":2506616,"event":"return","thread_id":9160,"parent_id":2506615,"elapsed":0.0003582849749363959,"elapsed_instrumentation":0.00010591000318527222,"return_value":{"class":"String","value":"example.com","object_id":12381760}},{"id":2506617,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"String","object_id":12381760,"value":"example.com","kind":"req"}],"receiver":{"class":"ResolveAccountService","object_id":12381780,"value":"#<ResolveAccountService:0x00007fc8e102e6b0>"}},{"id":2506618,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"ResolveAccountService","object_id":12381780,"value":"#<ResolveAccountService:0x00007fc8e102e6b0>"}},{"id":2506619,"event":"return","thread_id":9160,"parent_id":2506618,"elapsed":1.1440017260611057e-05,"elapsed_instrumentation":5.6368939112871885e-05},{"id":2506620,"event":"call","thread_id":9160,"defined_class":"DomainBlock","method_id":"blocked?","path":"app/models/domain_block.rb","lineno":49,"static":true,"parameters":[{"name":"domain","class":"String","object_id":12381760,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":52480,"value":"DomainBlock"}},{"id":2506621,"event":"call","thread_id":9160,"defined_class":"DomainBlock","method_id":"rule_for","path":"app/models/domain_block.rb","lineno":67,"static":true,"parameters":[{"name":"domain","class":"String","object_id":12381760,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":52480,"value":"DomainBlock"}},{"id":2506622,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"domain_blocks\".* FROM \"domain_blocks\" WHERE \"domain_blocks\".\"domain\" IN ($1, $2) ORDER BY char_length(domain) desc LIMIT $3","database_type":"postgres"}},{"id":2506623,"event":"return","thread_id":9160,"parent_id":2506622,"elapsed":0.000867815,"elapsed_instrumentation":0.0001852790010161698},{"id":2506624,"event":"return","thread_id":9160,"parent_id":2506621,"elapsed":0.0025946730165742338,"elapsed_instrumentation":7.534702308475971e-05},{"id":2506625,"event":"return","thread_id":9160,"parent_id":2506620,"elapsed":0.0026917610084638,"elapsed_instrumentation":9.176396997645497e-05},{"id":2506626,"event":"return","thread_id":9160,"parent_id":2506617,"elapsed":0.0028944259975105524,"elapsed_instrumentation":8.909101597964764e-05},{"id":2506627,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":12381800,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc931ef6e68>"}},{"id":2506628,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'eve' AND LOWER(\"accounts\".\"domain\") = 'example.com' ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2506629,"event":"return","thread_id":9160,"parent_id":2506628,"elapsed":0.000986471,"elapsed_instrumentation":0.00010030105477198958},{"id":2506630,"event":"return","thread_id":9160,"parent_id":2506627,"elapsed":0.003276281990110874,"elapsed_instrumentation":0.0001621600240468979,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1766900>","object_id":12381820}},{"id":2506631,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381820,"value":"#<Account:0x00007fc8e1766900>"}},{"id":2506632,"event":"return","thread_id":9160,"parent_id":2506631,"elapsed":2.490298356860876e-05,"elapsed_instrumentation":9.049801155924797e-05},{"id":2506633,"event":"call","thread_id":9160,"defined_class":"DeliveryFailureTracker","method_id":"available?","path":"app/lib/delivery_failure_tracker.rb","lineno":52,"static":true,"parameters":[{"name":"url","class":"String","object_id":12381760,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":52940,"value":"DeliveryFailureTracker"}},{"id":2506634,"event":"call","thread_id":9160,"defined_class":"DeliveryFailureTracker","method_id":"available?","path":"app/lib/delivery_failure_tracker.rb","lineno":30,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":12381840,"value":"#<DeliveryFailureTracker:0x00007fc931f0a2b0>"}},{"id":2506635,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"unavailable_domains\" WHERE \"unavailable_domains\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2506636,"event":"return","thread_id":9160,"parent_id":2506635,"elapsed":0.000905635,"elapsed_instrumentation":9.681901428848505e-05},{"id":2506637,"event":"return","thread_id":9160,"parent_id":2506634,"elapsed":0.002411356952507049,"elapsed_instrumentation":9.224697714671493e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506638,"event":"return","thread_id":9160,"parent_id":2506633,"elapsed":0.002535537991207093,"elapsed_instrumentation":0.00032555905636399984,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506639,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"possibly_stale?","path":"app/models/account.rb","lineno":211,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381820,"value":"#<Account:0x00007fc8e1766900>"}},{"id":2506640,"event":"return","thread_id":9160,"parent_id":2506639,"elapsed":0.0003544430364854634,"elapsed_instrumentation":8.730596164241433e-05},{"id":2506641,"event":"return","thread_id":9160,"parent_id":2506612,"elapsed":0.01189213601173833,"elapsed_instrumentation":0.00012443697778508067,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e1766900>","object_id":12381820}},{"id":2506642,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381820,"value":"#<Account:0x00007fc8e1766900>"}},{"id":2506643,"event":"return","thread_id":9160,"parent_id":2506642,"elapsed":2.3196975234895945e-05,"elapsed_instrumentation":0.00016181898536160588},{"id":2506644,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"String","object_id":12381860,"value":"example.com","kind":"req"}],"receiver":{"class":"FollowService","object_id":12381880,"value":"#<FollowService:0x00007fc8e102c720>"}},{"id":2506645,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"FollowService","object_id":12381880,"value":"#<FollowService:0x00007fc8e102c720>"}},{"id":2506646,"event":"return","thread_id":9160,"parent_id":2506645,"elapsed":1.641002018004656e-05,"elapsed_instrumentation":4.999799421057105e-05},{"id":2506647,"event":"call","thread_id":9160,"defined_class":"DomainBlock","method_id":"blocked?","path":"app/models/domain_block.rb","lineno":49,"static":true,"parameters":[{"name":"domain","class":"String","object_id":12381860,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":52480,"value":"DomainBlock"}},{"id":2506648,"event":"call","thread_id":9160,"defined_class":"DomainBlock","method_id":"rule_for","path":"app/models/domain_block.rb","lineno":67,"static":true,"parameters":[{"name":"domain","class":"String","object_id":12381860,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":52480,"value":"DomainBlock"}},{"id":2506649,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"domain_blocks\".* FROM \"domain_blocks\" WHERE \"domain_blocks\".\"domain\" IN ($1, $2) ORDER BY char_length(domain) desc LIMIT $3","database_type":"postgres"}},{"id":2506650,"event":"return","thread_id":9160,"parent_id":2506649,"elapsed":0.000563751,"elapsed_instrumentation":8.337601320818067e-05},{"id":2506651,"event":"return","thread_id":9160,"parent_id":2506648,"elapsed":0.0018450799980200827,"elapsed_instrumentation":6.817100802436471e-05},{"id":2506652,"event":"return","thread_id":9160,"parent_id":2506647,"elapsed":0.0019341959850862622,"elapsed_instrumentation":8.459901437163353e-05},{"id":2506653,"event":"return","thread_id":9160,"parent_id":2506644,"elapsed":0.0021230849670246243,"elapsed_instrumentation":8.673901902511716e-05},{"id":2506654,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>","kind":"req"}],"receiver":{"class":"Account","object_id":12381820,"value":"#<Account:0x00007fc8e1766900>"}},{"id":2506655,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2506656,"event":"return","thread_id":9160,"parent_id":2506655,"elapsed":0.000492251,"elapsed_instrumentation":7.614900823682547e-05},{"id":2506657,"event":"return","thread_id":9160,"parent_id":2506654,"elapsed":0.001975532970391214,"elapsed_instrumentation":0.00011398998321965337},{"id":2506658,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":12381820,"value":"#<Account:0x00007fc8e1766900>","kind":"req"}],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506659,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2506660,"event":"return","thread_id":9160,"parent_id":2506659,"elapsed":0.000522269,"elapsed_instrumentation":7.318705320358276e-05},{"id":2506661,"event":"return","thread_id":9160,"parent_id":2506658,"elapsed":0.0018039190326817334,"elapsed_instrumentation":0.00010256102541461587},{"id":2506662,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"moved?","path":"app/models/account.rb","lineno":167,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381820,"value":"#<Account:0x00007fc8e1766900>"}},{"id":2506663,"event":"return","thread_id":9160,"parent_id":2506662,"elapsed":1.5994010027498007e-05,"elapsed_instrumentation":7.871398702263832e-05},{"id":2506664,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381820,"value":"#<Account:0x00007fc8e1766900>"}},{"id":2506665,"event":"return","thread_id":9160,"parent_id":2506664,"elapsed":6.727001164108515e-06,"elapsed_instrumentation":5.424104165285826e-05},{"id":2506666,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"domain_blocking?","path":"app/models/concerns/account_interactions.rb","lineno":218,"static":false,"parameters":[{"name":"other_domain","class":"String","object_id":12381860,"value":"example.com","kind":"req"}],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506667,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2506668,"event":"return","thread_id":9160,"parent_id":2506667,"elapsed":0.000618905,"elapsed_instrumentation":7.614400237798691e-05},{"id":2506669,"event":"return","thread_id":9160,"parent_id":2506666,"elapsed":0.0018945669871754944,"elapsed_instrumentation":8.450099267065525e-05},{"id":2506670,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":12381820,"value":"#<Account:0x00007fc8e1766900>","kind":"req"}],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506671,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2506672,"event":"return","thread_id":9160,"parent_id":2506671,"elapsed":0.000584741,"elapsed_instrumentation":7.499003550037742e-05},{"id":2506673,"event":"return","thread_id":9160,"parent_id":2506670,"elapsed":0.002102071011904627,"elapsed_instrumentation":0.00011331599671393633},{"id":2506674,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"requested?","path":"app/models/concerns/account_interactions.rb","lineno":238,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":12381820,"value":"#<Account:0x00007fc8e1766900>","kind":"req"}],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506675,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2506676,"event":"return","thread_id":9160,"parent_id":2506675,"elapsed":0.000629565,"elapsed_instrumentation":0.00019741099094972014},{"id":2506677,"event":"return","thread_id":9160,"parent_id":2506674,"elapsed":0.0019932410214096308,"elapsed_instrumentation":0.0001067959819920361},{"id":2506678,"event":"call","thread_id":9160,"defined_class":"ActivityTracker","method_id":"increment","path":"app/lib/activity_tracker.rb","lineno":53,"static":true,"parameters":[{"name":"prefix","class":"String","object_id":319720,"value":"activity:interactions","kind":"req"}],"receiver":{"class":"Class","object_id":219200,"value":"ActivityTracker"}},{"id":2506679,"event":"call","thread_id":9160,"defined_class":"ActivityTracker","method_id":"add","path":"app/lib/activity_tracker.rb","lineno":13,"static":false,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"at_time","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityTracker","object_id":12381920,"value":"#<ActivityTracker:0x00007fc931de3350>"}},{"id":2506680,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"ActivityTracker","object_id":12381920,"value":"#<ActivityTracker:0x00007fc931de3350>"}},{"id":2506681,"event":"return","thread_id":9160,"parent_id":2506680,"elapsed":4.4959597289562225e-06,"elapsed_instrumentation":8.320406777784228e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2506682,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"ActivityTracker","object_id":12381920,"value":"#<ActivityTracker:0x00007fc931de3350>"}},{"id":2506683,"event":"return","thread_id":9160,"parent_id":2506682,"elapsed":4.874018486589193e-06,"elapsed_instrumentation":0.00012448400957509875,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2506684,"event":"return","thread_id":9160,"parent_id":2506679,"elapsed":0.0010806659702211618,"elapsed_instrumentation":0.00010242301505059004,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506685,"event":"return","thread_id":9160,"parent_id":2506678,"elapsed":0.00121191400103271,"elapsed_instrumentation":0.00010458502219989896,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506686,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"not_following_anyone?","path":"app/models/concerns/account_interactions.rb","lineno":206,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506687,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following_anyone?","path":"app/models/concerns/account_interactions.rb","lineno":202,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506688,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2506689,"event":"return","thread_id":9160,"parent_id":2506688,"elapsed":0.000605357,"elapsed_instrumentation":7.112196180969477e-05},{"id":2506690,"event":"return","thread_id":9160,"parent_id":2506687,"elapsed":0.0015127959777601063,"elapsed_instrumentation":7.331400411203504e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506691,"event":"return","thread_id":9160,"parent_id":2506686,"elapsed":0.0016079699853435159,"elapsed_instrumentation":8.35010432638228e-05},{"id":2506692,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506693,"event":"return","thread_id":9160,"parent_id":2506692,"elapsed":2.396001946181059e-05,"elapsed_instrumentation":7.668300531804562e-05},{"id":2506694,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"request_follow!","path":"app/models/concerns/account_interactions.rb","lineno":130,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":12381820,"value":"#<Account:0x00007fc8e1766900>","kind":"req"},{"name":"reblogs","class":"TrueClass","object_id":20,"value":"true","kind":"key"},{"name":"notify","class":"FalseClass","object_id":0,"value":"false","kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"FalseClass","object_id":0,"value":"false","kind":"key"},{"name":"bypass_limit","class":"FalseClass","object_id":0,"value":"false","kind":"key"}],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506695,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follow_requests\".* FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2506696,"event":"return","thread_id":9160,"parent_id":2506695,"elapsed":0.000477257,"elapsed_instrumentation":7.241900311782956e-05},{"id":2506697,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"FollowRequest","object_id":12381940,"value":"#<FollowRequest:0x00007fc8e1764ec0>"}},{"id":2506698,"event":"return","thread_id":9160,"parent_id":2506697,"elapsed":5.92600554227829e-06,"elapsed_instrumentation":0.00010665104491636157},{"id":2506699,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"FollowRequest","object_id":12381940,"value":"#<FollowRequest:0x00007fc8e1764ec0>"}},{"id":2506700,"event":"return","thread_id":9160,"parent_id":2506699,"elapsed":3.3859978429973125e-06,"elapsed_instrumentation":6.994197610765696e-05},{"id":2506701,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"FollowRequest","object_id":12381940,"value":"#<FollowRequest:0x00007fc8e1764ec0>"}},{"id":2506702,"event":"return","thread_id":9160,"parent_id":2506701,"elapsed":4.0130107663571835e-06,"elapsed_instrumentation":9.347201557829976e-05},{"id":2506703,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"FollowRequest","object_id":12381940,"value":"#<FollowRequest:0x00007fc8e1764ec0>"}},{"id":2506704,"event":"return","thread_id":9160,"parent_id":2506703,"elapsed":2.8899521566927433e-06,"elapsed_instrumentation":6.44150422886014e-05},{"id":2506705,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12381960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2847900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2e060>"}},{"id":2506706,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"generate_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":61,"static":false,"parameters":[{"name":"_target","class":"FollowRequest","object_id":12381940,"value":"#<FollowRequest:0x00007fc8e1764ec0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506707,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506708,"event":"return","thread_id":9160,"parent_id":2506707,"elapsed":5.387002602219582e-06,"elapsed_instrumentation":0.00011805404210463166,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":2506709,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506710,"event":"return","thread_id":9160,"parent_id":2506709,"elapsed":2.6529887691140175e-06,"elapsed_instrumentation":9.632203727960587e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":2506711,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12381980,"value":"_`_\u0002_+_\u0000_\u0007t&_2_]"}},{"id":2506712,"event":"return","thread_id":9160,"parent_id":2506711,"elapsed":6.695976480841637e-06,"elapsed_instrumentation":0.00014112505596131086,"return_value":{"class":"Array","value":"[3193998594, 51243, 38400, 46343, 29734, 2704463453]","object_id":12382000,"size":6}},{"id":2506713,"event":"return","thread_id":9160,"parent_id":2506706,"elapsed":0.0007355310372076929,"elapsed_instrumentation":0.00036010995972901583,"return_value":{"class":"URI::HTTPS","value":"https://cb6e6126.ngrok.io/be608d02-c82b-4600-b507-7426a132d65d","object_id":12382020}},{"id":2506714,"event":"return","thread_id":9160,"parent_id":2506705,"elapsed":0.001271628018002957,"elapsed_instrumentation":0.00014935503713786602,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932791eb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932792068 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2847980,"size":2}},{"id":2506715,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12382040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2e010>"}},{"id":2506716,"event":"call","thread_id":9160,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit?","path":"app/models/concerns/follow_limitable.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"FollowRequest","object_id":12381940,"value":"#<FollowRequest:0x00007fc8e1764ec0>"}},{"id":2506717,"event":"return","thread_id":9160,"parent_id":2506716,"elapsed":4.477973561733961e-06,"elapsed_instrumentation":6.396998651325703e-05},{"id":2506718,"event":"call","thread_id":9160,"defined_class":"FollowLimitValidator","method_id":"validate","path":"app/validators/follow_limit_validator.rb","lineno":7,"static":false,"parameters":[{"name":"follow","class":"FollowRequest","object_id":12381940,"value":"#<FollowRequest:0x00007fc8e1764ec0>","kind":"req"}],"receiver":{"class":"FollowLimitValidator","object_id":2848040,"value":"#<FollowLimitValidator:0x00007fc93962c640>"}},{"id":2506719,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506720,"event":"return","thread_id":9160,"parent_id":2506719,"elapsed":1.7644022591412067e-05,"elapsed_instrumentation":8.246599463745952e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506721,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":12382060,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":12382080,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506722,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506723,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2506724,"event":"return","thread_id":9160,"parent_id":2506723,"elapsed":0.000431268,"elapsed_instrumentation":8.657900616526604e-05},{"id":2506725,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2506726,"event":"return","thread_id":9160,"parent_id":2506725,"elapsed":0.000626645,"elapsed_instrumentation":0.0002057169913314283},{"id":2506727,"event":"return","thread_id":9160,"parent_id":2506722,"elapsed":0.0032640440040268004,"elapsed_instrumentation":0.00010500499047338963,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e1764b00>","object_id":12382100}},{"id":2506728,"event":"call","thread_id":9160,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":12382100,"value":"#<AccountStat:0x00007fc8e1764b00>"}},{"id":2506729,"event":"return","thread_id":9160,"parent_id":2506728,"elapsed":0.00010587001452222466,"elapsed_instrumentation":9.463401511311531e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":2506730,"event":"return","thread_id":9160,"parent_id":2506721,"elapsed":0.003615353023633361,"elapsed_instrumentation":0.00023578095715492964,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":2506731,"event":"call","thread_id":9160,"defined_class":"FollowLimitValidator","method_id":"limit_for_account","path":"app/validators/follow_limit_validator.rb","lineno":14,"static":true,"parameters":[{"name":"account","class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>","kind":"req"}],"receiver":{"class":"Class","object_id":58400,"value":"FollowLimitValidator"}},{"id":2506732,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":12382120,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":12382140,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506733,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506734,"event":"return","thread_id":9160,"parent_id":2506733,"elapsed":1.7551996279507875e-05,"elapsed_instrumentation":7.12310429662466e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007fc8e1764b00>","object_id":12382100}},{"id":2506735,"event":"call","thread_id":9160,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":12382100,"value":"#<AccountStat:0x00007fc8e1764b00>"}},{"id":2506736,"event":"return","thread_id":9160,"parent_id":2506735,"elapsed":2.413999754935503e-05,"elapsed_instrumentation":5.830405279994011e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":2506737,"event":"return","thread_id":9160,"parent_id":2506732,"elapsed":0.0002047930029220879,"elapsed_instrumentation":0.00011217902647331357,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":2506738,"event":"return","thread_id":9160,"parent_id":2506731,"elapsed":0.00033693399745970964,"elapsed_instrumentation":0.0001786640495993197,"return_value":{"class":"Integer","value":"7500","object_id":15001}},{"id":2506739,"event":"return","thread_id":9160,"parent_id":2506718,"elapsed":0.0045722079812549055,"elapsed_instrumentation":7.540802471339703e-05},{"id":2506740,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2506741,"event":"return","thread_id":9160,"parent_id":2506740,"elapsed":0.000682979,"elapsed_instrumentation":0.00018995802383869886},{"id":2506742,"event":"call","thread_id":9160,"defined_class":"LanguageValidator","method_id":"validate_each","path":"app/validators/language_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"FollowRequest","object_id":12381940,"value":"#<FollowRequest:0x00007fc8e1764ec0>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":9806428,"value":":languages","kind":"req"},{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"LanguageValidator","object_id":2848160,"value":"#<LanguageValidator:0x00007fc93984da28>"}},{"id":2506743,"event":"return","thread_id":9160,"parent_id":2506742,"elapsed":5.5800192058086395e-06,"elapsed_instrumentation":0.00014615303371101618},{"id":2506744,"event":"return","thread_id":9160,"parent_id":2506715,"elapsed":0.007323712983634323,"elapsed_instrumentation":0.00016526103718206286,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932790ab0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932790c68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932790f38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932791118 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327912f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327914d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2848180,"size":6}},{"id":2506745,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12382040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2e010>"}},{"id":2506746,"event":"return","thread_id":9160,"parent_id":2506745,"elapsed":3.4259865060448647e-06,"elapsed_instrumentation":8.549302583560348e-05,"return_value":{"class":"Array","value":"[]","object_id":2848200,"size":0}},{"id":2506747,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12381960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2847900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2e060>"}},{"id":2506748,"event":"return","thread_id":9160,"parent_id":2506747,"elapsed":2.868007868528366e-06,"elapsed_instrumentation":0.00022348301718011498,"return_value":{"class":"Array","value":"[]","object_id":2848220,"size":0}},{"id":2506749,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12382160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2d110>"}},{"id":2506750,"event":"return","thread_id":9160,"parent_id":2506749,"elapsed":9.201699867844582e-05,"elapsed_instrumentation":0.0001166720176115632,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9327a5528 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327a56e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2848280,"size":2}},{"id":2506751,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12382180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2ce40>"}},{"id":2506752,"event":"return","thread_id":9160,"parent_id":2506751,"elapsed":2.7070054784417152e-06,"elapsed_instrumentation":8.896394865587354e-05,"return_value":{"class":"Array","value":"[]","object_id":2848340,"size":0}},{"id":2506753,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"follow_requests\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"show_reblogs\", \"uri\", \"notify\", \"languages\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING \"id\"","database_type":"postgres"}},{"id":2506754,"event":"return","thread_id":9160,"parent_id":2506753,"elapsed":0.001054518,"elapsed_instrumentation":7.569201989099383e-05},{"id":2506755,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12382180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2ce40>"}},{"id":2506756,"event":"call","thread_id":9160,"defined_class":"RateLimitable","method_id":"rate_limit?","path":"app/models/concerns/rate_limitable.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"FollowRequest","object_id":12381940,"value":"#<FollowRequest:0x00007fc8e1764ec0>"}},{"id":2506757,"event":"return","thread_id":9160,"parent_id":2506756,"elapsed":4.5549822971224785e-06,"elapsed_instrumentation":7.58059904910624e-05},{"id":2506758,"event":"return","thread_id":9160,"parent_id":2506755,"elapsed":0.0001653929939493537,"elapsed_instrumentation":0.00027340097585693,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9327a4510 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9327a4330 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2848360,"size":2}},{"id":2506759,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12382160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2d110>"}},{"id":2506760,"event":"return","thread_id":9160,"parent_id":2506759,"elapsed":2.668006345629692e-06,"elapsed_instrumentation":8.232699474319816e-05,"return_value":{"class":"Array","value":"[]","object_id":2848380,"size":0}},{"id":2506761,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2506762,"event":"return","thread_id":9160,"parent_id":2506761,"elapsed":0.000518649,"elapsed_instrumentation":7.155799539759755e-05},{"id":2506763,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12382200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2c5d0>"}},{"id":2506764,"event":"return","thread_id":9160,"parent_id":2506763,"elapsed":3.535009454935789e-06,"elapsed_instrumentation":0.00012807303573936224,"return_value":{"class":"Array","value":"[]","object_id":2848440,"size":0}},{"id":2506765,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12382200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2848420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c2c5d0>"}},{"id":2506766,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12382220,"value":"Cache delete: relationship:111361421852066350:111361421852066352\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2506767,"event":"return","thread_id":9160,"parent_id":2506766,"elapsed":0.0005574969691224396,"elapsed_instrumentation":0.00013857806334272027,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2506768,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":12382240,"value":"Cache delete: relationship:111361421852066352:111361421852066350\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2506769,"event":"return","thread_id":9160,"parent_id":2506768,"elapsed":0.0005979490233585238,"elapsed_instrumentation":0.00013202603440731764,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2506770,"event":"return","thread_id":9160,"parent_id":2506765,"elapsed":0.001834977010730654,"elapsed_instrumentation":0.00010983500396832824,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93274fa60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2848500,"size":1}},{"id":2506771,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222722843704132701,"value":"111361421852066350","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222722843704132705,"value":"111361421852066352","kind":"req"}],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":2506772,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":2506773,"event":"return","thread_id":9160,"parent_id":2506772,"elapsed":4.530011210590601e-06,"elapsed_instrumentation":0.00019904400687664747,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2506774,"event":"return","thread_id":9160,"parent_id":2506771,"elapsed":0.0007137390202842653,"elapsed_instrumentation":0.00011384097160771489},{"id":2506775,"event":"return","thread_id":9160,"parent_id":2506694,"elapsed":0.019979580014478415,"elapsed_instrumentation":0.00018157094018533826,"return_value":{"class":"FollowRequest","value":"#<FollowRequest:0x00007fc8e1764ec0>","object_id":12381940}},{"id":2506776,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381820,"value":"#<Account:0x00007fc8e1766900>"}},{"id":2506777,"event":"return","thread_id":9160,"parent_id":2506776,"elapsed":9.96800372377038e-06,"elapsed_instrumentation":8.23509762994945e-05},{"id":2506778,"event":"call","thread_id":9160,"defined_class":"Payloadable","method_id":"serialize_payload","path":"app/services/concerns/payloadable.rb","lineno":13,"static":false,"parameters":[{"name":"record","class":"FollowRequest","object_id":12381940,"value":"#<FollowRequest:0x00007fc8e1764ec0>","kind":"req"},{"name":"serializer","class":"Class","object_id":1462660,"value":"ActivityPub::FollowSerializer","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FollowService","object_id":12381880,"value":"#<FollowService:0x00007fc8e102c720>"}},{"id":2506779,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12382260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":2506780,"event":"return","thread_id":9160,"parent_id":2506779,"elapsed":3.4679542295634747e-06,"elapsed_instrumentation":0.00032105104764923453,"return_value":{"class":"Array","value":"[]","object_id":326200,"size":0}},{"id":2506781,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12382260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":2506782,"event":"return","thread_id":9160,"parent_id":2506781,"elapsed":2.730987034738064e-06,"elapsed_instrumentation":8.06450261734426e-05,"return_value":{"class":"Array","value":"[]","object_id":326240,"size":0}},{"id":2506783,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"serializable_hash","path":"app/lib/activitypub/adapter.rb","lineno":14,"static":false,"parameters":[{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::Adapter","object_id":12382280,"value":"#<ActivityPub::Adapter:0x00007fc931c4f390>"}},{"id":2506784,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Serializer","method_id":"serializable_hash","path":"app/lib/activitypub/serializer.rb","lineno":31,"static":false,"parameters":[{"name":"adapter_options","class":"Hash","object_id":12382300,"value":"{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}}","kind":"opt","size":2},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"adapter_instance","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":12382320,"value":"#<ActivityPub::FollowSerializer:0x00007fc8e1024a70>"}},{"id":2506785,"event":"call","thread_id":9160,"defined_class":"ActivityPub::FollowSerializer","method_id":"id","path":"app/serializers/activitypub/follow_serializer.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":12382320,"value":"#<ActivityPub::FollowSerializer:0x00007fc8e1024a70>"}},{"id":2506786,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"FollowRequest","object_id":12381940,"value":"#<FollowRequest:0x00007fc8e1764ec0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506787,"event":"call","thread_id":9160,"defined_class":"FollowRequest","method_id":"local?","path":"app/models/follow_request.rb","lineno":43,"static":false,"parameters":[],"receiver":{"class":"FollowRequest","object_id":12381940,"value":"#<FollowRequest:0x00007fc8e1764ec0>"}},{"id":2506788,"event":"return","thread_id":9160,"parent_id":2506787,"elapsed":3.3469987101852894e-06,"elapsed_instrumentation":6.525102071464062e-05},{"id":2506789,"event":"return","thread_id":9160,"parent_id":2506786,"elapsed":0.00012368999887257814,"elapsed_instrumentation":0.0003076630528084934,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/be608d02-c82b-4600-b507-7426a132d65d","object_id":12382340}},{"id":2506790,"event":"return","thread_id":9160,"parent_id":2506785,"elapsed":0.0004559409571811557,"elapsed_instrumentation":5.901203257963061e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/be608d02-c82b-4600-b507-7426a132d65d","object_id":12382340}},{"id":2506791,"event":"call","thread_id":9160,"defined_class":"ActivityPub::FollowSerializer","method_id":"type","path":"app/serializers/activitypub/follow_serializer.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":12382320,"value":"#<ActivityPub::FollowSerializer:0x00007fc8e1024a70>"}},{"id":2506792,"event":"return","thread_id":9160,"parent_id":2506791,"elapsed":3.2249954529106617e-06,"elapsed_instrumentation":6.780598778277636e-05,"return_value":{"class":"String","value":"Follow","object_id":1463040}},{"id":2506793,"event":"call","thread_id":9160,"defined_class":"ActivityPub::FollowSerializer","method_id":"actor","path":"app/serializers/activitypub/follow_serializer.rb","lineno":15,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":12382320,"value":"#<ActivityPub::FollowSerializer:0x00007fc8e1024a70>"}},{"id":2506794,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506795,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506796,"event":"return","thread_id":9160,"parent_id":2506795,"elapsed":8.596980478614569e-06,"elapsed_instrumentation":6.39629433862865e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506797,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506798,"event":"return","thread_id":9160,"parent_id":2506797,"elapsed":3.6410056054592133e-06,"elapsed_instrumentation":0.00012198201147839427,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":2506799,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506800,"event":"return","thread_id":9160,"parent_id":2506799,"elapsed":1.0040996130555868e-05,"elapsed_instrumentation":0.00023716798750683665},{"id":2506801,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506802,"event":"return","thread_id":9160,"parent_id":2506801,"elapsed":5.139969289302826e-06,"elapsed_instrumentation":0.00014932703925296664,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":2506803,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506804,"event":"return","thread_id":9160,"parent_id":2506803,"elapsed":3.309978637844324e-06,"elapsed_instrumentation":0.00010055198799818754,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":2506805,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381900,"value":"#<Account:0x00007fc8e1767080>"}},{"id":2506806,"event":"return","thread_id":9160,"parent_id":2506805,"elapsed":1.612299820408225e-05,"elapsed_instrumentation":7.33350170776248e-05,"return_value":{"class":"String","value":"carmel_fisher5669","object_id":12382360}},{"id":2506807,"event":"return","thread_id":9160,"parent_id":2506794,"elapsed":0.0011189409997314215,"elapsed_instrumentation":0.00010643899440765381,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/carmel_fisher5669","object_id":12382380}},{"id":2506808,"event":"return","thread_id":9160,"parent_id":2506793,"elapsed":0.0012688389979302883,"elapsed_instrumentation":5.8459932915866375e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/carmel_fisher5669","object_id":12382380}},{"id":2506809,"event":"call","thread_id":9160,"defined_class":"ActivityPub::FollowSerializer","method_id":"virtual_object","path":"app/serializers/activitypub/follow_serializer.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":12382320,"value":"#<ActivityPub::FollowSerializer:0x00007fc8e1024a70>"}},{"id":2506810,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":12381820,"value":"#<Account:0x00007fc8e1766900>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506811,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12381820,"value":"#<Account:0x00007fc8e1766900>"}},{"id":2506812,"event":"return","thread_id":9160,"parent_id":2506811,"elapsed":7.4830022640526295e-06,"elapsed_instrumentation":6.366200977936387e-05},{"id":2506813,"event":"return","thread_id":9160,"parent_id":2506810,"elapsed":0.00010886997915804386,"elapsed_instrumentation":0.0002463830169290304,"return_value":{"class":"String","value":"https://example.com/users/eve","object_id":12382400}},{"id":2506814,"event":"return","thread_id":9160,"parent_id":2506809,"elapsed":0.0003944149939343333,"elapsed_instrumentation":6.769603351131082e-05,"return_value":{"class":"String","value":"https://example.com/users/eve","object_id":12382400}},{"id":2506815,"event":"return","thread_id":9160,"parent_id":2506784,"elapsed":0.0025316060055047274,"elapsed_instrumentation":0.0001895000459626317,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/be608d02-c82b-4600-b507-7426a132d65d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/carmel_fisher5669, :object=>https://example.com/users/eve}","object_id":12382420,"size":4}},{"id":2506816,"event":"call","thread_id":9160,"defined_class":"ActivityPub::Adapter","method_id":"transform_key_casing!","path":"app/lib/activitypub/adapter.rb","lineno":10,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":12382420,"value":"{:id=>https://cb6e6126.ngrok.io/be608d02-c82b-4600-b507-7426a132d65d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/carmel_fisher5669, :object=>https://example.com/users/eve}","kind":"req","size":4},{"name":"_options","class":"Hash","object_id":12382440,"value":"{}","kind":"req","size":0}],"receiver":{"class":"Class","object_id":51220,"value":"ActivityPub::Adapter"}},{"id":2506817,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":12382420,"value":"{:id=>https://cb6e6126.ngrok.io/be608d02-c82b-4600-b507-7426a132d65d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/carmel_fisher5669, :object=>https://example.com/users/eve}","kind":"req","size":4}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":2506818,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":679388,"value":":id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":2506819,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":12382460,"value":"id","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":2506820,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":2506821,"event":"return","thread_id":9160,"parent_id":2506820,"elapsed":4.507019184529781e-06,"elapsed_instrumentation":0.00032040500082075596,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...50 more entries)}","object_id":1463200,"size":60}},{"id":2506822,"event":"return","thread_id":9160,"parent_id":2506819,"elapsed":0.00034781103022396564,"elapsed_instrumentation":6.86330022290349e-05,"return_value":{"class":"String","value":"id","object_id":1463220}},{"id":2506823,"event":"return","thread_id":9160,"parent_id":2506818,"elapsed":0.00043352198554202914,"elapsed_instrumentation":7.205299334600568e-05,"return_value":{"class":"Symbol","value":":id","object_id":679388}},{"id":2506824,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":688668,"value":":type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":2506825,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":12382480,"value":"type","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":2506826,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":2506827,"event":"return","thread_id":9160,"parent_id":2506826,"elapsed":2.3469910956919193e-06,"elapsed_instrumentation":0.00016414106357842684,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...50 more entries)}","object_id":1463200,"size":60}},{"id":2506828,"event":"return","thread_id":9160,"parent_id":2506825,"elapsed":0.00018328800797462463,"elapsed_instrumentation":6.676599150523543e-05,"return_value":{"class":"String","value":"type","object_id":1463260}},{"id":2506829,"event":"return","thread_id":9160,"parent_id":2506824,"elapsed":0.000265972048509866,"elapsed_instrumentation":7.227592868730426e-05,"return_value":{"class":"Symbol","value":":type","object_id":688668}},{"id":2506830,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":17461788,"value":":actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":2506831,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":12382500,"value":"actor","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":2506832,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":2506833,"event":"return","thread_id":9160,"parent_id":2506832,"elapsed":2.2170133888721466e-06,"elapsed_instrumentation":0.0002838029759004712,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...50 more entries)}","object_id":1463200,"size":60}},{"id":2506834,"event":"return","thread_id":9160,"parent_id":2506831,"elapsed":0.0003063660115003586,"elapsed_instrumentation":7.082096999511123e-05,"return_value":{"class":"String","value":"actor","object_id":1463300}},{"id":2506835,"event":"return","thread_id":9160,"parent_id":2506830,"elapsed":0.0003946340293623507,"elapsed_instrumentation":8.191994857043028e-05,"return_value":{"class":"Symbol","value":":actor","object_id":17461788}},{"id":2506836,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":703388,"value":":object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":2506837,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":12382520,"value":"object","kind":"req"}],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":2506838,"event":"call","thread_id":9160,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":1463160,"value":"ActivityPub::CaseTransform"}},{"id":2506839,"event":"return","thread_id":9160,"parent_id":2506838,"elapsed":2.694025170058012e-06,"elapsed_instrumentation":0.0003925340133719146,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...50 more entries)}","object_id":1463200,"size":60}},{"id":2506840,"event":"return","thread_id":9160,"parent_id":2506837,"elapsed":0.0004139699740335345,"elapsed_instrumentation":8.957000682130456e-05,"return_value":{"class":"String","value":"object","object_id":1463340}},{"id":2506841,"event":"return","thread_id":9160,"parent_id":2506836,"elapsed":0.000525697018019855,"elapsed_instrumentation":8.493399946019053e-05,"return_value":{"class":"Symbol","value":":object","object_id":703388}},{"id":2506842,"event":"return","thread_id":9160,"parent_id":2506817,"elapsed":0.00202843698207289,"elapsed_instrumentation":0.00020767905516549945,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/be608d02-c82b-4600-b507-7426a132d65d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/carmel_fisher5669, :object=>https://example.com/users/eve}","object_id":12382420,"size":4}},{"id":2506843,"event":"return","thread_id":9160,"parent_id":2506816,"elapsed":0.00225820200284943,"elapsed_instrumentation":0.00044054206227883697,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/be608d02-c82b-4600-b507-7426a132d65d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/carmel_fisher5669, :object=>https://example.com/users/eve}","object_id":12382420,"size":4}},{"id":2506844,"event":"call","thread_id":9160,"defined_class":"ContextHelper","method_id":"serialized_context","path":"app/helpers/context_helper.rb","lineno":41,"static":false,"parameters":[{"name":"named_contexts_map","class":"Hash","object_id":12382540,"value":"{:activitystreams=>}","kind":"req","size":1},{"name":"context_extensions_map","class":"Hash","object_id":12382560,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActivityPub::Adapter","object_id":12382280,"value":"#<ActivityPub::Adapter:0x00007fc931c4f390>"}},{"id":2506845,"event":"return","thread_id":9160,"parent_id":2506844,"elapsed":9.014969691634178e-06,"elapsed_instrumentation":0.0001413080026395619,"return_value":{"class":"String","value":"https://www.w3.org/ns/activitystreams","object_id":1463480}},{"id":2506846,"event":"return","thread_id":9160,"parent_id":2506783,"elapsed":0.0056479290360584855,"elapsed_instrumentation":0.00012811896158382297,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/be608d02-c82b-4600-b507-7426a132d65d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/carmel_fisher5669, :object=>https://example.com/users/eve}","object_id":12382580,"size":5}},{"id":2506847,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12382260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":2506848,"event":"return","thread_id":9160,"parent_id":2506847,"elapsed":6.0889869928359985e-06,"elapsed_instrumentation":0.00012835301458835602,"return_value":{"class":"Array","value":"[]","object_id":328060,"size":0}},{"id":2506849,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":12382260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":2506850,"event":"return","thread_id":9160,"parent_id":2506849,"elapsed":4.100962541997433e-06,"elapsed_instrumentation":0.00010856002336367965,"return_value":{"class":"Array","value":"[]","object_id":328080,"size":0}},{"id":2506851,"event":"return","thread_id":9160,"parent_id":2506778,"elapsed":0.006828432029578835,"elapsed_instrumentation":0.000189885962754488,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/be608d02-c82b-4600-b507-7426a132d65d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/carmel_fisher5669, :object=>https://example.com/users/eve}","object_id":12382580,"size":5}},{"id":2506852,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":12382600,"value":"{args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/be608d02-c82b-46 (...139 more characters), 111361421852066350, https://example.com/inbox, {bypass_availability=>true}], class=>ActivityPub::DeliveryWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":12382620,"value":"#<Sidekiq::Client:0x00007fc931be5af8>"}},{"id":2506853,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12382640,"value":"___3\u001d__L_:_/"}},{"id":2506854,"event":"return","thread_id":9160,"parent_id":2506853,"elapsed":5.010981112718582e-06,"elapsed_instrumentation":0.00019751099171116948,"return_value":{"class":"String","value":"8ebcb1331dc3f44c9f3ab22f","object_id":12382660}},{"id":2506855,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":12382680,"value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/be608d02-c82b-46 (...139 more characters), 111361421852066350, https://example.com/inbox, {bypass_availability=>true}]","kind":"req","size":4}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12382700,"value":"#<JSON::Ext::Generator::State:0x00007fc931be1f70>"}},{"id":2506856,"event":"return","thread_id":9160,"parent_id":2506855,"elapsed":1.0078016202896833e-05,"elapsed_instrumentation":0.00013957801274955273,"return_value":{"class":"String","value":"[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystreams\\\",\\\"id\\\":\\\"https://cb6e6126.ngrok.io/be608d0 (...239 more characters)","object_id":12382720}},{"id":2506857,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12382740,"value":"#<JSON::Ext::Parser:0x00007fc931c1e510>"}},{"id":2506858,"event":"return","thread_id":9160,"parent_id":2506857,"elapsed":1.1765980161726475e-05,"elapsed_instrumentation":0.00010983197716996074,"return_value":{"class":"Array","value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/be608d02-c82b-46 (...139 more characters), 111361421852066350, https://example.com/inbox, {bypass_availability=>true}]","object_id":12382760,"size":4}},{"id":2506859,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":12382780,"value":"'___O___$b__"}},{"id":2506860,"event":"return","thread_id":9160,"parent_id":2506859,"elapsed":3.977038431912661e-06,"elapsed_instrumentation":0.00011968199396505952,"return_value":{"class":"String","value":"27b495ee4ff3fdf62462ece5","object_id":12382800}},{"id":2506861,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":12382820,"value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/be608d02-c82b-46 (...139 more characters), 111361421852066350, https://example.com/inbox, {bypass_availability=>true}], class=>ActivityPub::DeliveryWorker, jid=>8ebcb1331dc3f44c9f3ab22f, created_at=>1699240446.1006436, id=>27b495ee4ff3fdf62462ece5}","kind":"req","size":8}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12382840,"value":"#<JSON::Ext::Generator::State:0x00007fc931c1a2f8>"}},{"id":2506862,"event":"return","thread_id":9160,"parent_id":2506861,"elapsed":1.4744990039616823e-05,"elapsed_instrumentation":0.00026549602625891566,"return_value":{"class":"String","value":"{\"retry\":16,\"queue\":\"push\",\"dead\":false,\"args\":[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystrea (...422 more characters)","object_id":12382860}},{"id":2506863,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":12382880,"value":"#<JSON::Ext::Parser:0x00007fc931c164f0>"}},{"id":2506864,"event":"return","thread_id":9160,"parent_id":2506863,"elapsed":2.6965048164129257e-05,"elapsed_instrumentation":0.00019742996664717793,"return_value":{"class":"Hash","value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/be608d02-c82b-46 (...139 more characters), 111361421852066350, https://example.com/inbox, {bypass_availability=>true}], class=>ActivityPub::DeliveryWorker, jid=>8ebcb1331dc3f44c9f3ab22f, created_at=>1699240446.1006436, id=>27b495ee4ff3fdf62462ece5}","object_id":12382900,"size":8}},{"id":2506865,"event":"call","thread_id":9160,"defined_class":"ActivityPub::DeliveryWorker","method_id":"perform","path":"app/workers/activitypub/delivery_worker.rb","lineno":25,"static":false,"parameters":[{"name":"json","class":"String","object_id":12382920,"value":"{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/be608d02-c82b-46 (...139 more characters)","kind":"req"},{"name":"source_account_id","class":"Integer","object_id":222722843704132701,"value":"111361421852066350","kind":"req"},{"name":"inbox_url","class":"String","object_id":12382940,"value":"https://example.com/inbox","kind":"req"},{"name":"options","class":"Hash","object_id":12382960,"value":"{bypass_availability=>true}","kind":"opt","size":1}],"receiver":{"class":"ActivityPub::DeliveryWorker","object_id":12382980,"value":"#<ActivityPub::DeliveryWorker:0x00007fc919c26688>"}},{"id":2506866,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2506867,"event":"return","thread_id":9160,"parent_id":2506866,"elapsed":0.000765165,"elapsed_instrumentation":0.00011581898434087634},{"id":2506868,"event":"call","thread_id":9160,"defined_class":"RequestPool","method_id":"current","path":"app/lib/request_pool.rb","lineno":6,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":55660,"value":"RequestPool"}},{"id":2506869,"event":"return","thread_id":9160,"parent_id":2506868,"elapsed":4.306959453970194e-06,"elapsed_instrumentation":0.000218925008084625,"return_value":{"class":"RequestPool","value":"#<RequestPool:0x00007fc933f9f8b8>","object_id":865420}},{"id":2506870,"event":"call","thread_id":9160,"defined_class":"RequestPool","method_id":"with","path":"app/lib/request_pool.rb","lineno":106,"static":false,"parameters":[{"name":"site","class":"String","object_id":12383000,"value":"https://example.com","kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":865420,"value":"#<RequestPool:0x00007fc933f9f8b8>"}},{"id":2506871,"event":"call","thread_id":9160,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"with","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":15,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":12383000,"value":"https://example.com","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":865500,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc935435d90>"}},{"id":2506872,"event":"call","thread_id":9160,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"checkout","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":29,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":12383000,"value":"https://example.com","kind":"req"},{"name":"options","class":"Hash","object_id":12383020,"value":"{}","kind":"opt","size":0}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":865500,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc935435d90>"}},{"id":2506873,"event":"call","thread_id":9160,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"pop","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":23,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":12383000,"value":"https://example.com","kind":"req"},{"name":"timeout","class":"Integer","object_id":11,"value":"5","kind":"opt"}],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":865520,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc935435ca0>"}},{"id":2506874,"event":"return","thread_id":9160,"parent_id":2506873,"elapsed":1.666200114414096e-05,"elapsed_instrumentation":9.897298878058791e-05,"return_value":{"class":"RequestPool::Connection","value":"#<RequestPool::Connection:0x00007fc931517a00>","object_id":12367820}},{"id":2506875,"event":"return","thread_id":9160,"parent_id":2506872,"elapsed":0.0001469290000386536,"elapsed_instrumentation":0.00040384597377851605,"return_value":{"class":"RequestPool::Connection","value":"#<RequestPool::Connection:0x00007fc931517a00>","object_id":12367820}},{"id":2506876,"event":"call","thread_id":9160,"defined_class":"RequestPool::Connection","method_id":"use","path":"app/lib/request_pool.rb","lineno":47,"static":false,"parameters":[],"receiver":{"class":"RequestPool::Connection","object_id":12367820,"value":"#<RequestPool::Connection:0x00007fc931517a00>"}},{"id":2506877,"event":"call","thread_id":9160,"defined_class":"Mastodon::Version","method_id":"user_agent","path":"lib/mastodon/version.rb","lineno":67,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":884020,"value":"4.3.0-alpha.0"}},{"id":2506878,"event":"return","thread_id":9160,"parent_id":2506877,"elapsed":3.1110248528420925e-06,"elapsed_instrumentation":0.00016070099081844091,"return_value":{"class":"String","value":"http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/)","object_id":2261300}},{"id":2506879,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":12383040,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":12383060,"value":"[>_b_V__l2\t_ys\u0005_\u0001<\u0012dy___\\__\u0017\u000e(*V]]"}},{"id":2506880,"event":"return","thread_id":9160,"parent_id":2506879,"elapsed":5.831010639667511e-06,"elapsed_instrumentation":0.00021588598610833287,"return_value":{"class":"String","value":"PrZivlb3wmwyCe55cwXWATwSZHmnx5Vc1/EXDigqVl0=","object_id":12383080}},{"id":2506881,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"on_behalf_of","path":"app/lib/request.rb","lineno":91,"static":false,"parameters":[{"name":"actor","class":"Account","object_id":12383100,"value":"#<Account:0x00007fc8e1760640>","kind":"req"},{"name":"sign_with","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Request","object_id":12383120,"value":"#<Request:0x00007fc8e103eb50>"}},{"id":2506882,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12383100,"value":"#<Account:0x00007fc8e1760640>"}},{"id":2506883,"event":"return","thread_id":9160,"parent_id":2506882,"elapsed":0.00012362998677417636,"elapsed_instrumentation":0.00011742801871150732,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAr6V6GcdTZ7IvtwRx7Ts5bxtjV6w6Ds8Zd8HTQS/pwgGUiawP\nUWs","object_id":12383140}},{"id":2506884,"event":"return","thread_id":9160,"parent_id":2506881,"elapsed":0.0002651149989105761,"elapsed_instrumentation":0.0001949960133060813,"return_value":{"class":"Request","value":"#<Request:0x00007fc8e103eb50>","object_id":12383120}},{"id":2506885,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"add_headers","path":"app/lib/request.rb","lineno":100,"static":false,"parameters":[{"name":"new_headers","class":"Hash","object_id":9016900,"value":"{Content-Type=>application/activity+json}","kind":"req","size":1}],"receiver":{"class":"Request","object_id":12383120,"value":"#<Request:0x00007fc8e103eb50>"}},{"id":2506886,"event":"return","thread_id":9160,"parent_id":2506885,"elapsed":4.295026883482933e-06,"elapsed_instrumentation":0.00010491698049008846,"return_value":{"class":"Request","value":"#<Request:0x00007fc8e103eb50>","object_id":12383120}},{"id":2506887,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"perform","path":"app/lib/request.rb","lineno":105,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":12383120,"value":"#<Request:0x00007fc8e103eb50>"}},{"id":2506888,"event":"call","thread_id":9160,"defined_class":"Request","method_id":"headers","path":"app/lib/request.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":12383120,"value":"#<Request:0x00007fc8e103eb50>"}},{"id":2506889,"event":"call","thread_id":9160,"defined_class":"OpenSSL::PKey::PKey","method_id":"sign","path":"OpenSSL::PKey::PKey#sign","static":false,"parameters":[{"name":"arg","class":"Array","object_id":12383160,"value":"[e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855, (request-target): post /inbox\nhost: example.com\ndate: Mon, 06 Nov 2023 03:14:06 GMT\ndigest: SHA-256= (...84 more characters)]","kind":"rest","size":2}],"receiver":{"class":"OpenSSL::PKey::RSA","object_id":12383140,"value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAr6V6GcdTZ7IvtwRx7Ts5bxtjV6w6Ds8Zd8HTQS/pwgGUiawP\nUWs"}},{"id":2506890,"event":"return","thread_id":9160,"parent_id":2506889,"elapsed":0.0016292310319840908,"elapsed_instrumentation":0.00018766894936561584,"return_value":{"class":"String","value":",JR\u000b__}_W~[__,>V_1_\b}_x______hF#__M_\u0015__Ri__z\u0017\u000eX_\u000b__i___?\u0007____n_*J\u001e1_\u0016_]__^__[____y_N\u0018__\u001d_____$\u0002_\u0019O__ (...156 more characters)","object_id":12383180}},{"id":2506891,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":481240,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":12383200,"value":"[,JR\u000b__}_W~[__,>V_1_\b}_x______hF#__M_\u0015__Ri__z\u0017\u000eX_\u000b__i___?\u0007____n_*J\u001e1_\u0016_]__^__[____y_N\u0018__\u001d_____$\u0002_\u0019O__ (...156 more characters)]"}},{"id":2506892,"event":"return","thread_id":9160,"parent_id":2506891,"elapsed":5.20702451467514e-06,"elapsed_instrumentation":0.0001191589399240911,"return_value":{"class":"String","value":"LEpSC/CKfZhXfltf4iw+Voox8Qh9xniVuPmHi/FoRiOLyk2wFePoUmlfpXoXDlj4C+nFaYbkkT8Hsv6XmW6+KkoeMcYWi13pll7R (...244 more characters)","object_id":12383220}},{"id":2506893,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"key_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":53,"static":false,"parameters":[{"name":"target","class":"Account","object_id":12383100,"value":"#<Account:0x00007fc8e1760640>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506894,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":12383100,"value":"#<Account:0x00007fc8e1760640>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506895,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12383100,"value":"#<Account:0x00007fc8e1760640>"}},{"id":2506896,"event":"return","thread_id":9160,"parent_id":2506895,"elapsed":1.4591030776500702e-05,"elapsed_instrumentation":0.00016958493506535888,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2506897,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12383100,"value":"#<Account:0x00007fc8e1760640>"}},{"id":2506898,"event":"return","thread_id":9160,"parent_id":2506897,"elapsed":3.991008270531893e-06,"elapsed_instrumentation":0.00011411204468458891,"return_value":{"class":"Symbol","value":":person","object_id":20438108}},{"id":2506899,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12383100,"value":"#<Account:0x00007fc8e1760640>"}},{"id":2506900,"event":"return","thread_id":9160,"parent_id":2506899,"elapsed":1.6613048501312733e-05,"elapsed_instrumentation":7.657095557078719e-05},{"id":2506901,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506902,"event":"return","thread_id":9160,"parent_id":2506901,"elapsed":5.459005478769541e-06,"elapsed_instrumentation":0.00016030902042984962,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":2506903,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":325700,"value":"#<ActivityPub::TagManager:0x00007fc937c92608>"}},{"id":2506904,"event":"return","thread_id":9160,"parent_id":2506903,"elapsed":3.6559649743139744e-06,"elapsed_instrumentation":0.00010944902896881104,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":2506905,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":12383100,"value":"#<Account:0x00007fc8e1760640>"}},{"id":2506906,"event":"return","thread_id":9160,"parent_id":2506905,"elapsed":1.8175982404500246e-05,"elapsed_instrumentation":7.983995601534843e-05,"return_value":{"class":"String","value":"carmel_fisher5669","object_id":12383240}},{"id":2506907,"event":"return","thread_id":9160,"parent_id":2506894,"elapsed":0.0011112319771200418,"elapsed_instrumentation":8.633302059024572e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/carmel_fisher5669","object_id":12383260}},{"id":2506908,"event":"return","thread_id":9160,"parent_id":2506893,"elapsed":0.0012178010074421763,"elapsed_instrumentation":9.42000187933445e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/carmel_fisher5669#main-key","object_id":12383280}},{"id":2506909,"event":"return","thread_id":9160,"parent_id":2506888,"elapsed":0.0034925949876196682,"elapsed_instrumentation":0.00016997306374832988,"return_value":{"class":"Hash","value":"{User-Agent=>http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/), Host=>example.com, Date=>Mon, 06 Nov 2023 03:14:06 GMT, Accept-Encoding=>gzip, Digest=>SHA-256=PrZivlb3wmwyCe55cwXWATwSZHmnx5Vc1/EXDigqVl0=, Content-Type=>application/activity+json, Signature=>keyId=\"https://cb6e6126.ngrok.io/users/carmel_fisher5669#main-key\",algorithm=\"rsa-sha256\",headers=\"( (...403 more characters)}","object_id":12383300,"size":7}},{"id":2506910,"event":"call","thread_id":9160,"defined_class":"Request::ClientLimit","method_id":"body_with_limit","path":"app/lib/request.rb","lineno":227,"static":false,"parameters":[{"name":"limit","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":12383360,"value":""}},{"id":2506911,"event":"call","thread_id":9160,"defined_class":"Request::ClientLimit","method_id":"truncated_body","path":"app/lib/request.rb","lineno":204,"static":false,"parameters":[{"name":"limit","class":"Integer","object_id":2097153,"value":"1048576","kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":12383360,"value":""}},{"id":2506912,"event":"return","thread_id":9160,"parent_id":2506911,"elapsed":0.00028922397177666426,"elapsed_instrumentation":0.00018654001178219914,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":12383380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2506913,"event":"return","thread_id":9160,"parent_id":2506910,"elapsed":0.0005248290253803134,"elapsed_instrumentation":0.00013503595255315304,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":12383380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2506914,"event":"return","thread_id":9160,"parent_id":2506887,"elapsed":0.007685414981096983,"elapsed_instrumentation":6.0611055232584476e-05,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":12383380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2506915,"event":"call","thread_id":9160,"defined_class":"RequestPool::Connection","method_id":"close","path":"app/lib/request_pool.rb","lineno":85,"static":false,"parameters":[],"receiver":{"class":"RequestPool::Connection","object_id":12367820,"value":"#<RequestPool::Connection:0x00007fc931517a00>"}},{"id":2506916,"event":"return","thread_id":9160,"parent_id":2506915,"elapsed":5.870999302715063e-06,"elapsed_instrumentation":8.103001164272428e-05,"return_value":{"class":"Symbol","value":":clean","object_id":1565468}},{"id":2506917,"event":"return","thread_id":9160,"parent_id":2506876,"elapsed":0.009335932962130755,"elapsed_instrumentation":0.00020273600239306688,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":12383380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2506918,"event":"call","thread_id":9160,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"checkin","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":39,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":12383000,"value":"https://example.com","kind":"req"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":865500,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc935435d90>"}},{"id":2506919,"event":"call","thread_id":9160,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"push","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":14,"static":false,"parameters":[{"name":"connection","class":"RequestPool::Connection","object_id":12367820,"value":"#<RequestPool::Connection:0x00007fc931517a00>","kind":"req"}],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":865520,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc935435ca0>"}},{"id":2506920,"event":"return","thread_id":9160,"parent_id":2506919,"elapsed":9.352981578558683e-06,"elapsed_instrumentation":0.00010751205263659358,"return_value":{"class":"Thread::ConditionVariable","value":"#<Thread::ConditionVariable:0x00007fc933f9f020>","object_id":9017200}},{"id":2506921,"event":"return","thread_id":9160,"parent_id":2506918,"elapsed":0.00015278294449672103,"elapsed_instrumentation":7.337203714996576e-05},{"id":2506922,"event":"return","thread_id":9160,"parent_id":2506871,"elapsed":0.01040140597615391,"elapsed_instrumentation":9.9320022854954e-05,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":12383380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2506923,"event":"return","thread_id":9160,"parent_id":2506870,"elapsed":0.010523921984713525,"elapsed_instrumentation":0.00010396598372608423,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":12383380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2506924,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":12383400,"value":"{:error=>{:class=>HTTP::StateError, :message=>body has already been consumed}, :time=>2023-11-06T03:14:06.115950201+00:00}","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":12383420,"value":"#<JSON::Ext::Generator::State:0x00007fc931b4f940>"}},{"id":2506925,"event":"return","thread_id":9160,"parent_id":2506924,"elapsed":1.6595004126429558e-05,"elapsed_instrumentation":0.00031498796306550503,"return_value":{"class":"String","value":"{\"error\":{\"class\":\"HTTP::StateError\",\"message\":\"body has already been consumed\"},\"time\":\"2023-11-06T (...26 more characters)","object_id":12383440}},{"id":2506926,"event":"call","thread_id":9160,"defined_class":"DeliveryFailureTracker","method_id":"track_failure!","path":"app/lib/delivery_failure_tracker.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":12383460,"value":"#<DeliveryFailureTracker:0x00007fc931b4daa0>"}},{"id":2506927,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":12383460,"value":"#<DeliveryFailureTracker:0x00007fc931b4daa0>"}},{"id":2506928,"event":"return","thread_id":9160,"parent_id":2506927,"elapsed":4.944042302668095e-06,"elapsed_instrumentation":8.456996874883771e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2506929,"event":"call","thread_id":9160,"defined_class":"DeliveryFailureTracker","method_id":"days","path":"app/lib/delivery_failure_tracker.rb","lineno":26,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":12383460,"value":"#<DeliveryFailureTracker:0x00007fc931b4daa0>"}},{"id":2506930,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":12383460,"value":"#<DeliveryFailureTracker:0x00007fc931b4daa0>"}},{"id":2506931,"event":"return","thread_id":9160,"parent_id":2506930,"elapsed":4.361034370958805e-06,"elapsed_instrumentation":8.059694664552808e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2506932,"event":"return","thread_id":9160,"parent_id":2506929,"elapsed":0.0005395239568315446,"elapsed_instrumentation":0.0001249700435437262,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":2506933,"event":"return","thread_id":9160,"parent_id":2506926,"elapsed":0.0012055310071446002,"elapsed_instrumentation":8.919701213017106e-05},{"id":2506934,"event":"return","thread_id":9160,"parent_id":2506865,"elapsed":0.01650282897753641,"elapsed_instrumentation":0.00015410006744787097,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":12383380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2506935,"event":"return","thread_id":9160,"parent_id":2506852,"elapsed":0.018220207013655454,"elapsed_instrumentation":0.00031047401716932654,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":12383380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":2506936,"event":"return","thread_id":9160,"parent_id":2506603,"elapsed":0.07718328101327643,"elapsed_instrumentation":0.00016211002366617322,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":12383380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]}]}