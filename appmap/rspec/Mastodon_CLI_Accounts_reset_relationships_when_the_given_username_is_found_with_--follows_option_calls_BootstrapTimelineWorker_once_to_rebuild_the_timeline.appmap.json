{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --follows option calls BootstrapTimelineWorker once to rebuild the timeline","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":1496365,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":8159000,"value":"jeannetta_senger3254","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8159020,"value":"#<Mastodon::CLI::Accounts:0x00007fdc0751e010>"}},{"id":1496366,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":8159040,"value":"#<AccountFinderConcern::AccountFinder:0x00007fdc070361b0>"}},{"id":1496367,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'jeannetta_senger3254' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":1496368,"event":"return","thread_id":9160,"parent_id":1496367,"elapsed":0.001586889,"elapsed_instrumentation":0.00011972498032264411},{"id":1496369,"event":"return","thread_id":9160,"parent_id":1496366,"elapsed":0.007043623016215861,"elapsed_instrumentation":0.00022401398746296763,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06759240>","object_id":8159060}},{"id":1496370,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1)","database_type":"postgres"}},{"id":1496371,"event":"return","thread_id":9160,"parent_id":1496370,"elapsed":0.001650462,"elapsed_instrumentation":0.00025058400933630764},{"id":1496372,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8159020,"value":"#<Mastodon::CLI::Accounts:0x00007fdc0751e010>"}},{"id":1496373,"event":"return","thread_id":9160,"parent_id":1496372,"elapsed":0.00013242202112451196,"elapsed_instrumentation":0.0002839849912561476,"return_value":{"class":"ProgressBar::Base","value":"","object_id":8159080}},{"id":1496374,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1496375,"event":"return","thread_id":9160,"parent_id":1496374,"elapsed":0.003053924,"elapsed_instrumentation":0.00012210998102091253},{"id":1496376,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8159100,"value":"relationship:111360522715891582:111360522715891592","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8159120,"value":"#<UnfollowService:0x00007fdc0751a7d0>"}},{"id":1496377,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8159120,"value":"#<UnfollowService:0x00007fdc0751a7d0>"}},{"id":1496378,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8159140,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8159160,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496379,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496380,"event":"return","thread_id":9160,"parent_id":1496379,"elapsed":4.016008460894227e-06,"elapsed_instrumentation":0.00010245898738503456,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1496381,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8159180,"value":"__\u001dzO_;\u0005_____\u0018V."}},{"id":1496382,"event":"return","thread_id":9160,"parent_id":1496381,"elapsed":1.0268006008118391e-05,"elapsed_instrumentation":0.000408181018428877,"return_value":{"class":"Array","value":"[3404012922, 20421, 15109, 36251, 52609, 2853721646]","object_id":8159200,"size":6}},{"id":1496383,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496384,"event":"return","thread_id":9160,"parent_id":1496383,"elapsed":0.000979416,"elapsed_instrumentation":0.0001606259902473539},{"id":1496385,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8159220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496386,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496387,"event":"return","thread_id":9160,"parent_id":1496386,"elapsed":0.001047028,"elapsed_instrumentation":0.0001084709947463125},{"id":1496388,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496389,"event":"return","thread_id":9160,"parent_id":1496388,"elapsed":0.000636839,"elapsed_instrumentation":8.799397619441152e-05},{"id":1496390,"event":"return","thread_id":9160,"parent_id":1496385,"elapsed":0.004705336992628872,"elapsed_instrumentation":0.00032183501753024757,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1496391,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1496392,"event":"return","thread_id":9160,"parent_id":1496391,"elapsed":0.000942859,"elapsed_instrumentation":0.00030554799013771117},{"id":1496393,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8159220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496394,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1496395,"event":"return","thread_id":9160,"parent_id":1496394,"elapsed":0.001043982,"elapsed_instrumentation":0.00010823400225490332},{"id":1496396,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496397,"event":"return","thread_id":9160,"parent_id":1496396,"elapsed":0.001025281,"elapsed_instrumentation":9.597800089977682e-05},{"id":1496398,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8159240,"value":"#<Account:0x00007fdc06756680>"}},{"id":1496399,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8159240,"value":"#<Account:0x00007fdc06756680>"}},{"id":1496400,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522715891592, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496401,"event":"return","thread_id":9160,"parent_id":1496400,"elapsed":0.001629993,"elapsed_instrumentation":0.000126369995996356},{"id":1496402,"event":"return","thread_id":9160,"parent_id":1496399,"elapsed":0.002606750000268221,"elapsed_instrumentation":0.0001295479596592486},{"id":1496403,"event":"return","thread_id":9160,"parent_id":1496398,"elapsed":0.0027760069933719933,"elapsed_instrumentation":0.0002565949980635196},{"id":1496404,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496405,"event":"return","thread_id":9160,"parent_id":1496404,"elapsed":0.000861679,"elapsed_instrumentation":0.00047685299068689346},{"id":1496406,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8159260,"value":"#<Account:0x00007fdc06755640>"}},{"id":1496407,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8159260,"value":"#<Account:0x00007fdc06755640>"}},{"id":1496408,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522715891582, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496409,"event":"return","thread_id":9160,"parent_id":1496408,"elapsed":0.001316389,"elapsed_instrumentation":0.00010634999489411712},{"id":1496410,"event":"return","thread_id":9160,"parent_id":1496407,"elapsed":0.00221494201105088,"elapsed_instrumentation":0.00014352498692460358},{"id":1496411,"event":"return","thread_id":9160,"parent_id":1496406,"elapsed":0.0023961340193636715,"elapsed_instrumentation":0.0006621709617320448},{"id":1496412,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159240,"value":"#<Account:0x00007fdc06756680>"}},{"id":1496413,"event":"return","thread_id":9160,"parent_id":1496412,"elapsed":1.7740996554493904e-05,"elapsed_instrumentation":0.00016516901087015867,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496414,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159260,"value":"#<Account:0x00007fdc06755640>"}},{"id":1496415,"event":"return","thread_id":9160,"parent_id":1496414,"elapsed":7.647002348676324e-06,"elapsed_instrumentation":8.039598469622433e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496416,"event":"return","thread_id":9160,"parent_id":1496393,"elapsed":0.017788914003176615,"elapsed_instrumentation":0.00023169000633060932,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1496417,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496418,"event":"return","thread_id":9160,"parent_id":1496417,"elapsed":0.000676086,"elapsed_instrumentation":8.528699981980026e-05},{"id":1496419,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8159300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496420,"event":"return","thread_id":9160,"parent_id":1496419,"elapsed":3.604975063353777e-06,"elapsed_instrumentation":0.000171394000062719,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1496421,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8159300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496422,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8159320,"value":"Cache delete: relationship:111360522715891592:111360522715891582\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496423,"event":"return","thread_id":9160,"parent_id":1496422,"elapsed":0.0015899919962976128,"elapsed_instrumentation":0.0006184519734233618,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496424,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8159340,"value":"Cache delete: relationship:111360522715891582:111360522715891592\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496425,"event":"return","thread_id":9160,"parent_id":1496424,"elapsed":0.002066029002889991,"elapsed_instrumentation":0.0001812359842006117,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496426,"event":"return","thread_id":9160,"parent_id":1496421,"elapsed":0.004825117997825146,"elapsed_instrumentation":0.0001715330290608108,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1496427,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159360,"value":"#<Account:0x00007fdc067580c0>"}},{"id":1496428,"event":"return","thread_id":9160,"parent_id":1496427,"elapsed":2.6505003916099668e-05,"elapsed_instrumentation":0.0003803500148933381,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496429,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159360,"value":"#<Account:0x00007fdc067580c0>"}},{"id":1496430,"event":"return","thread_id":9160,"parent_id":1496429,"elapsed":1.03719939943403e-05,"elapsed_instrumentation":0.00012794701615348458,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496431,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159060,"value":"#<Account:0x00007fdc06759240>"}},{"id":1496432,"event":"return","thread_id":9160,"parent_id":1496431,"elapsed":1.8368999008089304e-05,"elapsed_instrumentation":0.00012240797514095902,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496433,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8159380,"value":"{args=>[111360522715891582, 111360522715891592], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8159400,"value":"#<Sidekiq::Client:0x00007fdc06fcee48>"}},{"id":1496434,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8159420,"value":"\u0011f__\u0015_>_P_,_"}},{"id":1496435,"event":"return","thread_id":9160,"parent_id":1496434,"elapsed":0.00020879099611192942,"elapsed_instrumentation":0.00022288999753072858,"return_value":{"class":"String","value":"1166e7fb15da3e9050ab2cce","object_id":8159440}},{"id":1496436,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8159460,"value":"[111360522715891582, 111360522715891592]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8159480,"value":"#<JSON::Ext::Generator::State:0x00007fdc06fcc198>"}},{"id":1496437,"event":"return","thread_id":9160,"parent_id":1496436,"elapsed":1.0814983397722244e-05,"elapsed_instrumentation":0.00017318502068519592,"return_value":{"class":"String","value":"[111360522715891582,111360522715891592]","object_id":8159500}},{"id":1496438,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8159520,"value":"#<JSON::Ext::Parser:0x00007fdc06fcafc8>"}},{"id":1496439,"event":"return","thread_id":9160,"parent_id":1496438,"elapsed":7.185008144006133e-06,"elapsed_instrumentation":0.00014589499915018678,"return_value":{"class":"Array","value":"[111360522715891582, 111360522715891592]","object_id":8159540,"size":2}},{"id":1496440,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8159560,"value":"_*_8______pY"}},{"id":1496441,"event":"return","thread_id":9160,"parent_id":1496440,"elapsed":8.528993930667639e-06,"elapsed_instrumentation":0.00045116699766367674,"return_value":{"class":"String","value":"b02a5f38b6e1ebee8bfa7059","object_id":8159580}},{"id":1496442,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8159600,"value":"{retry=>true, queue=>pull, args=>[111360522715891582, 111360522715891592], class=>UnmergeWorker, jid=>1166e7fb15da3e9050ab2cce, created_at=>1699226727.4244351, id=>b02a5f38b6e1ebee8bfa7059}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8159620,"value":"#<JSON::Ext::Generator::State:0x00007fdc06fc94e8>"}},{"id":1496443,"event":"return","thread_id":9160,"parent_id":1496442,"elapsed":2.3989006876945496e-05,"elapsed_instrumentation":0.0003797329845838249,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522715891582,111360522715891592],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8159640}},{"id":1496444,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8159660,"value":"#<JSON::Ext::Parser:0x00007fdc06fc6f40>"}},{"id":1496445,"event":"return","thread_id":9160,"parent_id":1496444,"elapsed":2.8048991225659847e-05,"elapsed_instrumentation":0.000578642007894814,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522715891582, 111360522715891592], class=>UnmergeWorker, jid=>1166e7fb15da3e9050ab2cce, created_at=>1699226727.4244351, id=>b02a5f38b6e1ebee8bfa7059}","object_id":8159680,"size":7}},{"id":1496446,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045431783165,"value":"111360522715891582","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8159700,"value":"#<UnmergeWorker:0x00007fdc06fc5000>"}},{"id":1496447,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8159700,"value":"#<UnmergeWorker:0x00007fdc06fc5000>"}},{"id":1496448,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496449,"event":"return","thread_id":9160,"parent_id":1496448,"elapsed":0.001315582,"elapsed_instrumentation":0.00011608598288148642},{"id":1496450,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496451,"event":"return","thread_id":9160,"parent_id":1496450,"elapsed":0.00072953,"elapsed_instrumentation":8.926898590289056e-05},{"id":1496452,"event":"return","thread_id":9160,"parent_id":1496447,"elapsed":0.00607690800097771,"elapsed_instrumentation":0.0002696390147320926,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06753980>","object_id":8159720}},{"id":1496453,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8159700,"value":"#<UnmergeWorker:0x00007fdc06fc5000>"}},{"id":1496454,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8159740,"value":"#<Account:0x00007fdc06753ac0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8159720,"value":"#<Account:0x00007fdc06753980>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496455,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496456,"event":"return","thread_id":9160,"parent_id":1496455,"elapsed":6.160000339150429e-06,"elapsed_instrumentation":0.00014606898184865713,"return_value":{"class":"String","value":"feed:home:111360522715891592","object_id":8159760}},{"id":1496457,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496458,"event":"return","thread_id":9160,"parent_id":1496457,"elapsed":5.176989361643791e-06,"elapsed_instrumentation":8.078801329247653e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1496459,"event":"return","thread_id":9160,"parent_id":1496454,"elapsed":0.004734274989459664,"elapsed_instrumentation":0.00012687398702837527},{"id":1496460,"event":"return","thread_id":9160,"parent_id":1496453,"elapsed":0.004900125000858679,"elapsed_instrumentation":0.00011613802053034306},{"id":1496461,"event":"return","thread_id":9160,"parent_id":1496446,"elapsed":0.011436649016104639,"elapsed_instrumentation":0.00016801597666926682},{"id":1496462,"event":"return","thread_id":9160,"parent_id":1496433,"elapsed":0.014391922013601288,"elapsed_instrumentation":0.00020750900148414075,"return_value":{"class":"String","value":"1166e7fb15da3e9050ab2cce","object_id":8159440}},{"id":1496463,"event":"return","thread_id":9160,"parent_id":1496378,"elapsed":0.052244286984205246,"elapsed_instrumentation":0.00046614703023806214,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06757080>","object_id":8159280}},{"id":1496464,"event":"return","thread_id":9160,"parent_id":1496377,"elapsed":0.052748257003258914,"elapsed_instrumentation":0.00011955498484894633,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06757080>","object_id":8159280}},{"id":1496465,"event":"return","thread_id":9160,"parent_id":1496376,"elapsed":0.052912646002369,"elapsed_instrumentation":0.0004781949974130839,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06757080>","object_id":8159280}},{"id":1496466,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8159780,"value":"relationship:111360522715891583:111360522715891592","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8159800,"value":"#<UnfollowService:0x00007fdc075105a0>"}},{"id":1496467,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8159800,"value":"#<UnfollowService:0x00007fdc075105a0>"}},{"id":1496468,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8159820,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8159840,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496469,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496470,"event":"return","thread_id":9160,"parent_id":1496469,"elapsed":3.4279946703463793e-06,"elapsed_instrumentation":9.990300168283284e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1496471,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8159860,"value":"/~j____\u001d(_&9~_*\u0018"}},{"id":1496472,"event":"return","thread_id":9160,"parent_id":1496471,"elapsed":7.444003131240606e-06,"elapsed_instrumentation":0.00016017601592466235,"return_value":{"class":"Array","value":"[796814020, 58770, 48413, 10423, 9785, 2124753432]","object_id":8159880,"size":6}},{"id":1496473,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496474,"event":"return","thread_id":9160,"parent_id":1496473,"elapsed":0.000715286,"elapsed_instrumentation":0.0002721020136959851},{"id":1496475,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8159900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496476,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496477,"event":"return","thread_id":9160,"parent_id":1496476,"elapsed":0.000526105,"elapsed_instrumentation":9.706901619210839e-05},{"id":1496478,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496479,"event":"return","thread_id":9160,"parent_id":1496478,"elapsed":0.000816249,"elapsed_instrumentation":8.435602649115026e-05},{"id":1496480,"event":"return","thread_id":9160,"parent_id":1496475,"elapsed":0.003807966015301645,"elapsed_instrumentation":0.00022097298642620444,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1496481,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1496482,"event":"return","thread_id":9160,"parent_id":1496481,"elapsed":0.00067449,"elapsed_instrumentation":8.355098543688655e-05},{"id":1496483,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8159900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496484,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1496485,"event":"return","thread_id":9160,"parent_id":1496484,"elapsed":0.000770766,"elapsed_instrumentation":0.0001216770033352077},{"id":1496486,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496487,"event":"return","thread_id":9160,"parent_id":1496486,"elapsed":0.001022815,"elapsed_instrumentation":0.00020899600349366665},{"id":1496488,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8159920,"value":"#<Account:0x00007fdc06752bc0>"}},{"id":1496489,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8159920,"value":"#<Account:0x00007fdc06752bc0>"}},{"id":1496490,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522715891592, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496491,"event":"return","thread_id":9160,"parent_id":1496490,"elapsed":0.001387822,"elapsed_instrumentation":9.71569970715791e-05},{"id":1496492,"event":"return","thread_id":9160,"parent_id":1496489,"elapsed":0.002060147002339363,"elapsed_instrumentation":0.00035654299426823854},{"id":1496493,"event":"return","thread_id":9160,"parent_id":1496488,"elapsed":0.002451517997542396,"elapsed_instrumentation":0.00019043899374082685},{"id":1496494,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496495,"event":"return","thread_id":9160,"parent_id":1496494,"elapsed":0.001168303,"elapsed_instrumentation":0.00021071601076982915},{"id":1496496,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8159940,"value":"#<Account:0x00007fdc06751b80>"}},{"id":1496497,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8159940,"value":"#<Account:0x00007fdc06751b80>"}},{"id":1496498,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522715891583, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496499,"event":"return","thread_id":9160,"parent_id":1496498,"elapsed":0.001117327,"elapsed_instrumentation":9.638498886488378e-05},{"id":1496500,"event":"return","thread_id":9160,"parent_id":1496497,"elapsed":0.0019471590057946742,"elapsed_instrumentation":0.00010486497194506228},{"id":1496501,"event":"return","thread_id":9160,"parent_id":1496496,"elapsed":0.002081746992189437,"elapsed_instrumentation":0.0001752520038280636},{"id":1496502,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159920,"value":"#<Account:0x00007fdc06752bc0>"}},{"id":1496503,"event":"return","thread_id":9160,"parent_id":1496502,"elapsed":2.3162021534517407e-05,"elapsed_instrumentation":0.0004563009715639055,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496504,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159940,"value":"#<Account:0x00007fdc06751b80>"}},{"id":1496505,"event":"return","thread_id":9160,"parent_id":1496504,"elapsed":1.200998667627573e-05,"elapsed_instrumentation":0.00012046800111420453,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496506,"event":"return","thread_id":9160,"parent_id":1496483,"elapsed":0.01674302399624139,"elapsed_instrumentation":0.0001928129931911826,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1496507,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496508,"event":"return","thread_id":9160,"parent_id":1496507,"elapsed":0.000768134,"elapsed_instrumentation":8.132102084346116e-05},{"id":1496509,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8159980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496510,"event":"return","thread_id":9160,"parent_id":1496509,"elapsed":4.1199964471161366e-06,"elapsed_instrumentation":0.00036008699680678546,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1496511,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8159980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496512,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8160000,"value":"Cache delete: relationship:111360522715891592:111360522715891583\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496513,"event":"return","thread_id":9160,"parent_id":1496512,"elapsed":0.001599949988303706,"elapsed_instrumentation":0.00013446598313748837,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496514,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8160020,"value":"Cache delete: relationship:111360522715891583:111360522715891592\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496515,"event":"return","thread_id":9160,"parent_id":1496514,"elapsed":0.0016251220076810569,"elapsed_instrumentation":0.0001706180046312511,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496516,"event":"return","thread_id":9160,"parent_id":1496511,"elapsed":0.00386816100217402,"elapsed_instrumentation":0.00013749400386586785,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1496517,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8160040,"value":"#<Account:0x00007fdc06757f80>"}},{"id":1496518,"event":"return","thread_id":9160,"parent_id":1496517,"elapsed":1.788101508282125e-05,"elapsed_instrumentation":0.00015180796617642045,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496519,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8160040,"value":"#<Account:0x00007fdc06757f80>"}},{"id":1496520,"event":"return","thread_id":9160,"parent_id":1496519,"elapsed":5.162990419194102e-06,"elapsed_instrumentation":0.00010021097841672599,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496521,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159060,"value":"#<Account:0x00007fdc06759240>"}},{"id":1496522,"event":"return","thread_id":9160,"parent_id":1496521,"elapsed":9.29099041968584e-06,"elapsed_instrumentation":0.00011006902786903083,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496523,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8160060,"value":"{args=>[111360522715891583, 111360522715891592], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8160080,"value":"#<Sidekiq::Client:0x00007fdc06f35ab8>"}},{"id":1496524,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8160100,"value":"_$(C~_\u001f_\\_J+"}},{"id":1496525,"event":"return","thread_id":9160,"parent_id":1496524,"elapsed":5.025009158998728e-06,"elapsed_instrumentation":0.00019109301501885056,"return_value":{"class":"String","value":"fe2428437e821fb25cd44a2b","object_id":8160120}},{"id":1496526,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8160140,"value":"[111360522715891583, 111360522715891592]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8160160,"value":"#<JSON::Ext::Generator::State:0x00007fdc06f32b38>"}},{"id":1496527,"event":"return","thread_id":9160,"parent_id":1496526,"elapsed":7.636990630999207e-06,"elapsed_instrumentation":0.00016403300105594099,"return_value":{"class":"String","value":"[111360522715891583,111360522715891592]","object_id":8160180}},{"id":1496528,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8160200,"value":"#<JSON::Ext::Parser:0x00007fdc06f30e78>"}},{"id":1496529,"event":"return","thread_id":9160,"parent_id":1496528,"elapsed":9.357987437397242e-06,"elapsed_instrumentation":0.0004456440219655633,"return_value":{"class":"Array","value":"[111360522715891583, 111360522715891592]","object_id":8160220,"size":2}},{"id":1496530,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8160240,"value":"__i_\u001d\t__9__K"}},{"id":1496531,"event":"return","thread_id":9160,"parent_id":1496530,"elapsed":5.04200579598546e-06,"elapsed_instrumentation":0.00017604001914151013,"return_value":{"class":"String","value":"c1ac69a31d09ec9f3991974b","object_id":8160260}},{"id":1496532,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8160280,"value":"{retry=>true, queue=>pull, args=>[111360522715891583, 111360522715891592], class=>UnmergeWorker, jid=>fe2428437e821fb25cd44a2b, created_at=>1699226727.4736116, id=>c1ac69a31d09ec9f3991974b}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8160300,"value":"#<JSON::Ext::Generator::State:0x00007fdc06f5d658>"}},{"id":1496533,"event":"return","thread_id":9160,"parent_id":1496532,"elapsed":1.654401421546936e-05,"elapsed_instrumentation":0.000251209014095366,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522715891583,111360522715891592],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8160320}},{"id":1496534,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8160340,"value":"#<JSON::Ext::Parser:0x00007fdc06f593a0>"}},{"id":1496535,"event":"return","thread_id":9160,"parent_id":1496534,"elapsed":4.208998871035874e-05,"elapsed_instrumentation":0.000268581003183499,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522715891583, 111360522715891592], class=>UnmergeWorker, jid=>fe2428437e821fb25cd44a2b, created_at=>1699226727.4736116, id=>c1ac69a31d09ec9f3991974b}","object_id":8160360,"size":7}},{"id":1496536,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045431783167,"value":"111360522715891583","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8160380,"value":"#<UnmergeWorker:0x00007fdc06f51a10>"}},{"id":1496537,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8160380,"value":"#<UnmergeWorker:0x00007fdc06f51a10>"}},{"id":1496538,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496539,"event":"return","thread_id":9160,"parent_id":1496538,"elapsed":0.001356045,"elapsed_instrumentation":0.00012967499787919223},{"id":1496540,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496541,"event":"return","thread_id":9160,"parent_id":1496540,"elapsed":0.000994916,"elapsed_instrumentation":0.00015204900410026312},{"id":1496542,"event":"return","thread_id":9160,"parent_id":1496537,"elapsed":0.006354562996421009,"elapsed_instrumentation":0.0004504630051087588,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0690fdc8>","object_id":8160400}},{"id":1496543,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8160380,"value":"#<UnmergeWorker:0x00007fdc06f51a10>"}},{"id":1496544,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8160420,"value":"#<Account:0x00007fdc06750140>","kind":"req"},{"name":"into_account","class":"Account","object_id":8160400,"value":"#<Account:0x00007fdc0690fdc8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496545,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496546,"event":"return","thread_id":9160,"parent_id":1496545,"elapsed":7.844006177037954e-06,"elapsed_instrumentation":0.00020997499814257026,"return_value":{"class":"String","value":"feed:home:111360522715891592","object_id":8160440}},{"id":1496547,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496548,"event":"return","thread_id":9160,"parent_id":1496547,"elapsed":6.389018381014466e-06,"elapsed_instrumentation":0.00013407101505436003,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1496549,"event":"return","thread_id":9160,"parent_id":1496544,"elapsed":0.004683361999923363,"elapsed_instrumentation":0.0001246799947693944},{"id":1496550,"event":"return","thread_id":9160,"parent_id":1496543,"elapsed":0.004848006006795913,"elapsed_instrumentation":0.00012012000661343336},{"id":1496551,"event":"return","thread_id":9160,"parent_id":1496536,"elapsed":0.011847009998746216,"elapsed_instrumentation":0.00011388101847842336},{"id":1496552,"event":"return","thread_id":9160,"parent_id":1496523,"elapsed":0.014425236993702129,"elapsed_instrumentation":0.00047384697245433927,"return_value":{"class":"String","value":"fe2428437e821fb25cd44a2b","object_id":8160120}},{"id":1496553,"event":"return","thread_id":9160,"parent_id":1496468,"elapsed":0.0478321970149409,"elapsed_instrumentation":0.0007011349953245372,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06753480>","object_id":8159960}},{"id":1496554,"event":"return","thread_id":9160,"parent_id":1496467,"elapsed":0.048578862013528123,"elapsed_instrumentation":0.00017594601376913488,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06753480>","object_id":8159960}},{"id":1496555,"event":"return","thread_id":9160,"parent_id":1496466,"elapsed":0.048805909988004714,"elapsed_instrumentation":0.00024397199740633368,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06753480>","object_id":8159960}},{"id":1496556,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8160460,"value":"relationship:111360522715891584:111360522715891592","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8160480,"value":"#<UnfollowService:0x00007fdc076f4c40>"}},{"id":1496557,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8160480,"value":"#<UnfollowService:0x00007fdc076f4c40>"}},{"id":1496558,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8160500,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8160520,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496559,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496560,"event":"return","thread_id":9160,"parent_id":1496559,"elapsed":3.978988388553262e-06,"elapsed_instrumentation":0.00011553301010280848,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1496561,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8160540,"value":"qx_]!;\u0004T\u0014T>_ _0_"}},{"id":1496562,"event":"return","thread_id":9160,"parent_id":1496561,"elapsed":7.186987204477191e-06,"elapsed_instrumentation":0.00018783099949359894,"return_value":{"class":"Array","value":"[1903743325, 8507, 1108, 5204, 16038, 548221123]","object_id":8160560,"size":6}},{"id":1496563,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496564,"event":"return","thread_id":9160,"parent_id":1496563,"elapsed":0.00070791,"elapsed_instrumentation":0.00020972901256754994},{"id":1496565,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8160580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496566,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496567,"event":"return","thread_id":9160,"parent_id":1496566,"elapsed":0.000795117,"elapsed_instrumentation":0.00010494099115021527},{"id":1496568,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496569,"event":"return","thread_id":9160,"parent_id":1496568,"elapsed":0.000712968,"elapsed_instrumentation":0.00011919598910026252},{"id":1496570,"event":"return","thread_id":9160,"parent_id":1496565,"elapsed":0.003956752014346421,"elapsed_instrumentation":0.0002392349997535348,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1496571,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1496572,"event":"return","thread_id":9160,"parent_id":1496571,"elapsed":0.000920622,"elapsed_instrumentation":8.635700214654207e-05},{"id":1496573,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8160580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496574,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1496575,"event":"return","thread_id":9160,"parent_id":1496574,"elapsed":0.00126621,"elapsed_instrumentation":0.00017621502047404647},{"id":1496576,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496577,"event":"return","thread_id":9160,"parent_id":1496576,"elapsed":0.001177842,"elapsed_instrumentation":0.00011241500033065677},{"id":1496578,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8160600,"value":"#<Account:0x00007fdc0690e9c8>"}},{"id":1496579,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8160600,"value":"#<Account:0x00007fdc0690e9c8>"}},{"id":1496580,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522715891592, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496581,"event":"return","thread_id":9160,"parent_id":1496580,"elapsed":0.001123154,"elapsed_instrumentation":9.091701940633357e-05},{"id":1496582,"event":"return","thread_id":9160,"parent_id":1496579,"elapsed":0.002014717989368364,"elapsed_instrumentation":0.00014406602713279426},{"id":1496583,"event":"return","thread_id":9160,"parent_id":1496578,"elapsed":0.002193694992456585,"elapsed_instrumentation":0.0001783550251275301},{"id":1496584,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496585,"event":"return","thread_id":9160,"parent_id":1496584,"elapsed":0.000661596,"elapsed_instrumentation":0.00015413700020872056},{"id":1496586,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8160620,"value":"#<Account:0x00007fdc0690d708>"}},{"id":1496587,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8160620,"value":"#<Account:0x00007fdc0690d708>"}},{"id":1496588,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522715891584, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496589,"event":"return","thread_id":9160,"parent_id":1496588,"elapsed":0.000931585,"elapsed_instrumentation":8.076999802142382e-05},{"id":1496590,"event":"return","thread_id":9160,"parent_id":1496587,"elapsed":0.0015879140119068325,"elapsed_instrumentation":0.00012190797133371234},{"id":1496591,"event":"return","thread_id":9160,"parent_id":1496586,"elapsed":0.0017398670024704188,"elapsed_instrumentation":0.00044161101686768234},{"id":1496592,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8160600,"value":"#<Account:0x00007fdc0690e9c8>"}},{"id":1496593,"event":"return","thread_id":9160,"parent_id":1496592,"elapsed":1.572800101712346e-05,"elapsed_instrumentation":0.0001411460107192397,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496594,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8160620,"value":"#<Account:0x00007fdc0690d708>"}},{"id":1496595,"event":"return","thread_id":9160,"parent_id":1496594,"elapsed":8.340022759512067e-06,"elapsed_instrumentation":7.78700050432235e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496596,"event":"return","thread_id":9160,"parent_id":1496573,"elapsed":0.015255441016051918,"elapsed_instrumentation":0.0002003379922825843,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1496597,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496598,"event":"return","thread_id":9160,"parent_id":1496597,"elapsed":0.000637222,"elapsed_instrumentation":0.00010052599827758968},{"id":1496599,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8160660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496600,"event":"return","thread_id":9160,"parent_id":1496599,"elapsed":3.3990072552114725e-06,"elapsed_instrumentation":0.00014197098789736629,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1496601,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8160660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496602,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8160680,"value":"Cache delete: relationship:111360522715891592:111360522715891584\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496603,"event":"return","thread_id":9160,"parent_id":1496602,"elapsed":0.001614664011867717,"elapsed_instrumentation":0.00014649101649411023,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496604,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8160700,"value":"Cache delete: relationship:111360522715891584:111360522715891592\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496605,"event":"return","thread_id":9160,"parent_id":1496604,"elapsed":0.0015012170188128948,"elapsed_instrumentation":0.00017735199071466923,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496606,"event":"return","thread_id":9160,"parent_id":1496601,"elapsed":0.003808917012065649,"elapsed_instrumentation":0.00013944099191576242,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1496607,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8160720,"value":"#<Account:0x00007fdc06757e40>"}},{"id":1496608,"event":"return","thread_id":9160,"parent_id":1496607,"elapsed":1.6708014300093055e-05,"elapsed_instrumentation":0.00010736897820606828,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496609,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8160720,"value":"#<Account:0x00007fdc06757e40>"}},{"id":1496610,"event":"return","thread_id":9160,"parent_id":1496609,"elapsed":4.617992090061307e-06,"elapsed_instrumentation":7.208599708974361e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496611,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159060,"value":"#<Account:0x00007fdc06759240>"}},{"id":1496612,"event":"return","thread_id":9160,"parent_id":1496611,"elapsed":0.00012420400162227452,"elapsed_instrumentation":0.00011155297397635877,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496613,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8160740,"value":"{args=>[111360522715891584, 111360522715891592], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8160760,"value":"#<Sidekiq::Client:0x00007fdc06ea66b0>"}},{"id":1496614,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8160780,"value":"}|\b\u0004\u0007_JJT__\u001f"}},{"id":1496615,"event":"return","thread_id":9160,"parent_id":1496614,"elapsed":4.593981429934502e-06,"elapsed_instrumentation":0.00012582700583152473,"return_value":{"class":"String","value":"7d7c080407f54a4a548fae1f","object_id":8160800}},{"id":1496616,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8160820,"value":"[111360522715891584, 111360522715891592]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8160840,"value":"#<JSON::Ext::Generator::State:0x00007fdc06ea3820>"}},{"id":1496617,"event":"return","thread_id":9160,"parent_id":1496616,"elapsed":7.331982487812638e-06,"elapsed_instrumentation":0.00012712902389466763,"return_value":{"class":"String","value":"[111360522715891584,111360522715891592]","object_id":8160860}},{"id":1496618,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8160880,"value":"#<JSON::Ext::Parser:0x00007fdc06ea27e0>"}},{"id":1496619,"event":"return","thread_id":9160,"parent_id":1496618,"elapsed":6.162008503451943e-06,"elapsed_instrumentation":0.00011438698857091367,"return_value":{"class":"Array","value":"[111360522715891584, 111360522715891592]","object_id":8160900,"size":2}},{"id":1496620,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8160920,"value":"\u000e<_D-___V_Ja"}},{"id":1496621,"event":"return","thread_id":9160,"parent_id":1496620,"elapsed":4.706991603597999e-06,"elapsed_instrumentation":0.0001869480183813721,"return_value":{"class":"String","value":"0e3cf9442dc89ed756c84a61","object_id":8160940}},{"id":1496622,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8160960,"value":"{retry=>true, queue=>pull, args=>[111360522715891584, 111360522715891592], class=>UnmergeWorker, jid=>7d7c080407f54a4a548fae1f, created_at=>1699226727.5216165, id=>0e3cf9442dc89ed756c84a61}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8160980,"value":"#<JSON::Ext::Generator::State:0x00007fdc06ebfb38>"}},{"id":1496623,"event":"return","thread_id":9160,"parent_id":1496622,"elapsed":1.43950164783746e-05,"elapsed_instrumentation":0.00022809600341133773,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522715891584,111360522715891592],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8161000}},{"id":1496624,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8161020,"value":"#<JSON::Ext::Parser:0x00007fdc06eb54d0>"}},{"id":1496625,"event":"return","thread_id":9160,"parent_id":1496624,"elapsed":2.4100998416543007e-05,"elapsed_instrumentation":0.0006793820066377521,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522715891584, 111360522715891592], class=>UnmergeWorker, jid=>7d7c080407f54a4a548fae1f, created_at=>1699226727.5216165, id=>0e3cf9442dc89ed756c84a61}","object_id":8161040,"size":7}},{"id":1496626,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045431783169,"value":"111360522715891584","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8161060,"value":"#<UnmergeWorker:0x00007fdc06e5e8b0>"}},{"id":1496627,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8161060,"value":"#<UnmergeWorker:0x00007fdc06e5e8b0>"}},{"id":1496628,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496629,"event":"return","thread_id":9160,"parent_id":1496628,"elapsed":0.000975789,"elapsed_instrumentation":0.00011950699263252318},{"id":1496630,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496631,"event":"return","thread_id":9160,"parent_id":1496630,"elapsed":0.000749518,"elapsed_instrumentation":8.944599539972842e-05},{"id":1496632,"event":"return","thread_id":9160,"parent_id":1496627,"elapsed":0.004858479980612174,"elapsed_instrumentation":0.0001339190057478845,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0690bb88>","object_id":8161080}},{"id":1496633,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8161060,"value":"#<UnmergeWorker:0x00007fdc06e5e8b0>"}},{"id":1496634,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8161100,"value":"#<Account:0x00007fdc0690be08>","kind":"req"},{"name":"into_account","class":"Account","object_id":8161080,"value":"#<Account:0x00007fdc0690bb88>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496635,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496636,"event":"return","thread_id":9160,"parent_id":1496635,"elapsed":5.887995939701796e-06,"elapsed_instrumentation":0.00016193700139410794,"return_value":{"class":"String","value":"feed:home:111360522715891592","object_id":8161120}},{"id":1496637,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496638,"event":"return","thread_id":9160,"parent_id":1496637,"elapsed":5.289010005071759e-06,"elapsed_instrumentation":8.940199040807784e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1496639,"event":"return","thread_id":9160,"parent_id":1496634,"elapsed":0.003737680002814159,"elapsed_instrumentation":0.0002781910006888211},{"id":1496640,"event":"return","thread_id":9160,"parent_id":1496633,"elapsed":0.0040571619756519794,"elapsed_instrumentation":0.00010447701788507402},{"id":1496641,"event":"return","thread_id":9160,"parent_id":1496626,"elapsed":0.009206125017954037,"elapsed_instrumentation":0.00011184296454302967},{"id":1496642,"event":"return","thread_id":9160,"parent_id":1496613,"elapsed":0.011492580990307033,"elapsed_instrumentation":0.00021654999000020325,"return_value":{"class":"String","value":"7d7c080407f54a4a548fae1f","object_id":8160800}},{"id":1496643,"event":"return","thread_id":9160,"parent_id":1496558,"elapsed":0.04423543100710958,"elapsed_instrumentation":0.0005774729943368584,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0690fa08>","object_id":8160640}},{"id":1496644,"event":"return","thread_id":9160,"parent_id":1496557,"elapsed":0.0448456059966702,"elapsed_instrumentation":9.444597526453435e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0690fa08>","object_id":8160640}},{"id":1496645,"event":"return","thread_id":9160,"parent_id":1496556,"elapsed":0.044977462996030226,"elapsed_instrumentation":0.00016467200475744903,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0690fa08>","object_id":8160640}},{"id":1496646,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8161140,"value":"relationship:111360522715891585:111360522715891592","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8161160,"value":"#<UnfollowService:0x00007fdc07729d00>"}},{"id":1496647,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8161160,"value":"#<UnfollowService:0x00007fdc07729d00>"}},{"id":1496648,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8161180,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8161200,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496649,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496650,"event":"return","thread_id":9160,"parent_id":1496649,"elapsed":3.4399854484945536e-06,"elapsed_instrumentation":9.358700481243432e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1496651,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8161220,"value":"___x___\u0013V\"_[i\u0000_S"}},{"id":1496652,"event":"return","thread_id":9160,"parent_id":1496651,"elapsed":1.4191988157108426e-05,"elapsed_instrumentation":0.00023299502208828926,"return_value":{"class":"Array","value":"[3655189368, 33234, 37651, 22050, 46939, 1761645395]","object_id":8161240,"size":6}},{"id":1496653,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496654,"event":"return","thread_id":9160,"parent_id":1496653,"elapsed":0.000930245,"elapsed_instrumentation":0.00017860200023278594},{"id":1496655,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8161260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496656,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496657,"event":"return","thread_id":9160,"parent_id":1496656,"elapsed":0.001338388,"elapsed_instrumentation":0.00025256501976400614},{"id":1496658,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496659,"event":"return","thread_id":9160,"parent_id":1496658,"elapsed":0.000647856,"elapsed_instrumentation":9.268301073461771e-05},{"id":1496660,"event":"return","thread_id":9160,"parent_id":1496655,"elapsed":0.005687883996870369,"elapsed_instrumentation":0.00029814598383381963,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1496661,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1496662,"event":"return","thread_id":9160,"parent_id":1496661,"elapsed":0.000749916,"elapsed_instrumentation":8.27939948067069e-05},{"id":1496663,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8161260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496664,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1496665,"event":"return","thread_id":9160,"parent_id":1496664,"elapsed":0.000656142,"elapsed_instrumentation":9.181001223623753e-05},{"id":1496666,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496667,"event":"return","thread_id":9160,"parent_id":1496666,"elapsed":0.000594136,"elapsed_instrumentation":8.061600965447724e-05},{"id":1496668,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8161280,"value":"#<Account:0x00007fdc0690af08>"}},{"id":1496669,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8161280,"value":"#<Account:0x00007fdc0690af08>"}},{"id":1496670,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522715891592, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496671,"event":"return","thread_id":9160,"parent_id":1496670,"elapsed":0.000998837,"elapsed_instrumentation":8.282798808068037e-05},{"id":1496672,"event":"return","thread_id":9160,"parent_id":1496669,"elapsed":0.0017302299966104329,"elapsed_instrumentation":0.00010607598233036697},{"id":1496673,"event":"return","thread_id":9160,"parent_id":1496668,"elapsed":0.001870137988589704,"elapsed_instrumentation":0.00015021199942566454},{"id":1496674,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496675,"event":"return","thread_id":9160,"parent_id":1496674,"elapsed":0.000663373,"elapsed_instrumentation":9.247800335288048e-05},{"id":1496676,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8161300,"value":"#<Account:0x00007fdc0690a148>"}},{"id":1496677,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8161300,"value":"#<Account:0x00007fdc0690a148>"}},{"id":1496678,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522715891585, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496679,"event":"return","thread_id":9160,"parent_id":1496678,"elapsed":0.001264113,"elapsed_instrumentation":0.00011749699478968978},{"id":1496680,"event":"return","thread_id":9160,"parent_id":1496677,"elapsed":0.0021699159988202155,"elapsed_instrumentation":0.00017051497707143426},{"id":1496681,"event":"return","thread_id":9160,"parent_id":1496676,"elapsed":0.0023834270250517875,"elapsed_instrumentation":0.00026882198289968073},{"id":1496682,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8161280,"value":"#<Account:0x00007fdc0690af08>"}},{"id":1496683,"event":"return","thread_id":9160,"parent_id":1496682,"elapsed":1.7539976397529244e-05,"elapsed_instrumentation":0.0001346960198134184,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496684,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8161300,"value":"#<Account:0x00007fdc0690a148>"}},{"id":1496685,"event":"return","thread_id":9160,"parent_id":1496684,"elapsed":7.713009836152196e-06,"elapsed_instrumentation":7.439596811309457e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496686,"event":"return","thread_id":9160,"parent_id":1496663,"elapsed":0.012941217981278896,"elapsed_instrumentation":0.00040193102904595435,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1496687,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496688,"event":"return","thread_id":9160,"parent_id":1496687,"elapsed":0.000489025,"elapsed_instrumentation":9.017399861477315e-05},{"id":1496689,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8161340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496690,"event":"return","thread_id":9160,"parent_id":1496689,"elapsed":3.5330012906342745e-06,"elapsed_instrumentation":0.00014281697804108262,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1496691,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8161340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496692,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8161360,"value":"Cache delete: relationship:111360522715891592:111360522715891585\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496693,"event":"return","thread_id":9160,"parent_id":1496692,"elapsed":0.005757645005360246,"elapsed_instrumentation":0.00019179400987923145,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496694,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8161380,"value":"Cache delete: relationship:111360522715891585:111360522715891592\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496695,"event":"return","thread_id":9160,"parent_id":1496694,"elapsed":0.0023227429774124175,"elapsed_instrumentation":0.00022048599203117192,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496696,"event":"return","thread_id":9160,"parent_id":1496691,"elapsed":0.008957458019722253,"elapsed_instrumentation":0.00020813100854866207,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1496697,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8161400,"value":"#<Account:0x00007fdc06757d00>"}},{"id":1496698,"event":"return","thread_id":9160,"parent_id":1496697,"elapsed":1.7161015421152115e-05,"elapsed_instrumentation":0.00011584701132960618,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496699,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8161400,"value":"#<Account:0x00007fdc06757d00>"}},{"id":1496700,"event":"return","thread_id":9160,"parent_id":1496699,"elapsed":4.240020643919706e-06,"elapsed_instrumentation":6.933798431418836e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496701,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159060,"value":"#<Account:0x00007fdc06759240>"}},{"id":1496702,"event":"return","thread_id":9160,"parent_id":1496701,"elapsed":4.6260247472673655e-06,"elapsed_instrumentation":6.259098881855607e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496703,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8161420,"value":"{args=>[111360522715891585, 111360522715891592], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8161440,"value":"#<Sidekiq::Client:0x00007fdc06e238c8>"}},{"id":1496704,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8161460,"value":"X1__\u0011d_]_'\t+"}},{"id":1496705,"event":"return","thread_id":9160,"parent_id":1496704,"elapsed":5.112000508233905e-06,"elapsed_instrumentation":0.00019510698621161282,"return_value":{"class":"String","value":"5831a7f01164d55dac27092b","object_id":8161480}},{"id":1496706,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8161500,"value":"[111360522715891585, 111360522715891592]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8161520,"value":"#<JSON::Ext::Generator::State:0x00007fdc06e20cb8>"}},{"id":1496707,"event":"return","thread_id":9160,"parent_id":1496706,"elapsed":6.827001925557852e-06,"elapsed_instrumentation":0.00019985201652161777,"return_value":{"class":"String","value":"[111360522715891585,111360522715891592]","object_id":8161540}},{"id":1496708,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8161560,"value":"#<JSON::Ext::Parser:0x00007fdc06e3f6b8>"}},{"id":1496709,"event":"return","thread_id":9160,"parent_id":1496708,"elapsed":1.0159012163057923e-05,"elapsed_instrumentation":0.00013391897664405406,"return_value":{"class":"Array","value":"[111360522715891585, 111360522715891592]","object_id":8161580,"size":2}},{"id":1496710,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8161600,"value":"P`\n\u0006_1___C \u0006"}},{"id":1496711,"event":"return","thread_id":9160,"parent_id":1496710,"elapsed":6.5680069383233786e-06,"elapsed_instrumentation":0.00021186599042266607,"return_value":{"class":"String","value":"50600a06f631d8a5d9432006","object_id":8161620}},{"id":1496712,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8161640,"value":"{retry=>true, queue=>pull, args=>[111360522715891585, 111360522715891592], class=>UnmergeWorker, jid=>5831a7f01164d55dac27092b, created_at=>1699226727.571492, id=>50600a06f631d8a5d9432006}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8161660,"value":"#<JSON::Ext::Generator::State:0x00007fdc06e3bd88>"}},{"id":1496713,"event":"return","thread_id":9160,"parent_id":1496712,"elapsed":1.3448996469378471e-05,"elapsed_instrumentation":0.00023838301422074437,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522715891585,111360522715891592],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8161680}},{"id":1496714,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8161700,"value":"#<JSON::Ext::Parser:0x00007fdc06e37f08>"}},{"id":1496715,"event":"return","thread_id":9160,"parent_id":1496714,"elapsed":3.063102485612035e-05,"elapsed_instrumentation":0.0002022269763983786,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522715891585, 111360522715891592], class=>UnmergeWorker, jid=>5831a7f01164d55dac27092b, created_at=>1699226727.571492, id=>50600a06f631d8a5d9432006}","object_id":8161720,"size":7}},{"id":1496716,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045431783171,"value":"111360522715891585","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8161740,"value":"#<UnmergeWorker:0x00007fdc06e336d8>"}},{"id":1496717,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8161740,"value":"#<UnmergeWorker:0x00007fdc06e336d8>"}},{"id":1496718,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496719,"event":"return","thread_id":9160,"parent_id":1496718,"elapsed":0.000790729,"elapsed_instrumentation":0.00010162900434806943},{"id":1496720,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496721,"event":"return","thread_id":9160,"parent_id":1496720,"elapsed":0.000547765,"elapsed_instrumentation":0.00020338199101388454},{"id":1496722,"event":"return","thread_id":9160,"parent_id":1496717,"elapsed":0.004465465986868367,"elapsed_instrumentation":0.00013945400132797658,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06907f88>","object_id":8161760}},{"id":1496723,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8161740,"value":"#<UnmergeWorker:0x00007fdc06e336d8>"}},{"id":1496724,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8161780,"value":"#<Account:0x00007fdc06908348>","kind":"req"},{"name":"into_account","class":"Account","object_id":8161760,"value":"#<Account:0x00007fdc06907f88>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496725,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496726,"event":"return","thread_id":9160,"parent_id":1496725,"elapsed":6.241985829547048e-06,"elapsed_instrumentation":0.0001521969970781356,"return_value":{"class":"String","value":"feed:home:111360522715891592","object_id":8161800}},{"id":1496727,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496728,"event":"return","thread_id":9160,"parent_id":1496727,"elapsed":5.306996172294021e-06,"elapsed_instrumentation":8.198400610126555e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1496729,"event":"return","thread_id":9160,"parent_id":1496724,"elapsed":0.00418713700491935,"elapsed_instrumentation":0.00013568298891186714},{"id":1496730,"event":"return","thread_id":9160,"parent_id":1496723,"elapsed":0.0043655769841279835,"elapsed_instrumentation":0.00029893600731156766},{"id":1496731,"event":"return","thread_id":9160,"parent_id":1496716,"elapsed":0.009333964000688866,"elapsed_instrumentation":0.00013324699830263853},{"id":1496732,"event":"return","thread_id":9160,"parent_id":1496703,"elapsed":0.01138360402546823,"elapsed_instrumentation":0.00019851597608067095,"return_value":{"class":"String","value":"5831a7f01164d55dac27092b","object_id":8161480}},{"id":1496733,"event":"return","thread_id":9160,"parent_id":1496648,"elapsed":0.04865895101102069,"elapsed_instrumentation":0.00024176598526537418,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0690b908>","object_id":8161320}},{"id":1496734,"event":"return","thread_id":9160,"parent_id":1496647,"elapsed":0.04893562599318102,"elapsed_instrumentation":0.00015291600720956922,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0690b908>","object_id":8161320}},{"id":1496735,"event":"return","thread_id":9160,"parent_id":1496646,"elapsed":0.049408552004024386,"elapsed_instrumentation":0.00014093000208958983,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0690b908>","object_id":8161320}},{"id":1496736,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8161820,"value":"relationship:111360522715891586:111360522715891592","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8161840,"value":"#<UnfollowService:0x00007fdc077227d0>"}},{"id":1496737,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8161840,"value":"#<UnfollowService:0x00007fdc077227d0>"}},{"id":1496738,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8161860,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8161880,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496739,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496740,"event":"return","thread_id":9160,"parent_id":1496739,"elapsed":3.177003236487508e-06,"elapsed_instrumentation":7.403496420010924e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1496741,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8161900,"value":"A___6_r__p_\"}_\u0005\t"}},{"id":1496742,"event":"return","thread_id":9160,"parent_id":1496741,"elapsed":7.093010935932398e-06,"elapsed_instrumentation":0.00018058900604955852,"return_value":{"class":"Array","value":"[1101392596, 14036, 29421, 49776, 50210, 2105672969]","object_id":8161920,"size":6}},{"id":1496743,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496744,"event":"return","thread_id":9160,"parent_id":1496743,"elapsed":0.000786839,"elapsed_instrumentation":0.00011262201587669551},{"id":1496745,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8161940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496746,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496747,"event":"return","thread_id":9160,"parent_id":1496746,"elapsed":0.000512861,"elapsed_instrumentation":0.00020392201258800924},{"id":1496748,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496749,"event":"return","thread_id":9160,"parent_id":1496748,"elapsed":0.000752651,"elapsed_instrumentation":0.00014157200348563492},{"id":1496750,"event":"return","thread_id":9160,"parent_id":1496745,"elapsed":0.004216746980091557,"elapsed_instrumentation":0.0004222250427119434,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1496751,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1496752,"event":"return","thread_id":9160,"parent_id":1496751,"elapsed":0.00120075,"elapsed_instrumentation":0.00011431702296249568},{"id":1496753,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8161940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496754,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1496755,"event":"return","thread_id":9160,"parent_id":1496754,"elapsed":0.000763734,"elapsed_instrumentation":8.178799180313945e-05},{"id":1496756,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496757,"event":"return","thread_id":9160,"parent_id":1496756,"elapsed":0.000856343,"elapsed_instrumentation":8.896499639376998e-05},{"id":1496758,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8161960,"value":"#<Account:0x00007fdc06906a48>"}},{"id":1496759,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8161960,"value":"#<Account:0x00007fdc06906a48>"}},{"id":1496760,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522715891592, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496761,"event":"return","thread_id":9160,"parent_id":1496760,"elapsed":0.000961609,"elapsed_instrumentation":7.870298577472568e-05},{"id":1496762,"event":"return","thread_id":9160,"parent_id":1496759,"elapsed":0.0016755629912950099,"elapsed_instrumentation":0.00010291198850609362},{"id":1496763,"event":"return","thread_id":9160,"parent_id":1496758,"elapsed":0.0018050280050374568,"elapsed_instrumentation":0.00014244898920878768},{"id":1496764,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496765,"event":"return","thread_id":9160,"parent_id":1496764,"elapsed":0.000776042,"elapsed_instrumentation":8.410500595346093e-05},{"id":1496766,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8161980,"value":"#<Account:0x00007fdc06905b48>"}},{"id":1496767,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8161980,"value":"#<Account:0x00007fdc06905b48>"}},{"id":1496768,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522715891586, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496769,"event":"return","thread_id":9160,"parent_id":1496768,"elapsed":0.00122633,"elapsed_instrumentation":0.0001059380010701716},{"id":1496770,"event":"return","thread_id":9160,"parent_id":1496767,"elapsed":0.0021268260024953634,"elapsed_instrumentation":0.0001607369922567159},{"id":1496771,"event":"return","thread_id":9160,"parent_id":1496766,"elapsed":0.0023296010040212423,"elapsed_instrumentation":0.00017133599612861872},{"id":1496772,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8161960,"value":"#<Account:0x00007fdc06906a48>"}},{"id":1496773,"event":"return","thread_id":9160,"parent_id":1496772,"elapsed":1.808800152502954e-05,"elapsed_instrumentation":0.00015038097626529634,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496774,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8161980,"value":"#<Account:0x00007fdc06905b48>"}},{"id":1496775,"event":"return","thread_id":9160,"parent_id":1496774,"elapsed":1.7565005691722035e-05,"elapsed_instrumentation":0.000228229007916525,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496776,"event":"return","thread_id":9160,"parent_id":1496753,"elapsed":0.013585378997959197,"elapsed_instrumentation":0.0003542209742590785,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1496777,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496778,"event":"return","thread_id":9160,"parent_id":1496777,"elapsed":0.000755955,"elapsed_instrumentation":9.579400648362935e-05},{"id":1496779,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8162020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496780,"event":"return","thread_id":9160,"parent_id":1496779,"elapsed":3.470981027930975e-06,"elapsed_instrumentation":0.00014027499128133059,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1496781,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8162020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496782,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8162040,"value":"Cache delete: relationship:111360522715891592:111360522715891586\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496783,"event":"return","thread_id":9160,"parent_id":1496782,"elapsed":0.003908518003299832,"elapsed_instrumentation":0.00013781397137790918,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496784,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8162060,"value":"Cache delete: relationship:111360522715891586:111360522715891592\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496785,"event":"return","thread_id":9160,"parent_id":1496784,"elapsed":0.0033576550194993615,"elapsed_instrumentation":0.000172363972524181,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496786,"event":"return","thread_id":9160,"parent_id":1496781,"elapsed":0.007913562003523111,"elapsed_instrumentation":0.00012436401448212564,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1496787,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8162080,"value":"#<Account:0x00007fdc06757bc0>"}},{"id":1496788,"event":"return","thread_id":9160,"parent_id":1496787,"elapsed":1.6815989511087537e-05,"elapsed_instrumentation":0.00035196999670006335,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496789,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8162080,"value":"#<Account:0x00007fdc06757bc0>"}},{"id":1496790,"event":"return","thread_id":9160,"parent_id":1496789,"elapsed":5.525012966245413e-06,"elapsed_instrumentation":0.00012190200504846871,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496791,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159060,"value":"#<Account:0x00007fdc06759240>"}},{"id":1496792,"event":"return","thread_id":9160,"parent_id":1496791,"elapsed":5.423004040494561e-06,"elapsed_instrumentation":0.0002094229857902974,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496793,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8162100,"value":"{args=>[111360522715891586, 111360522715891592], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8162120,"value":"#<Sidekiq::Client:0x00007fdc06d7cd48>"}},{"id":1496794,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8162140,"value":",:_\u000e_\n__\n\f__"}},{"id":1496795,"event":"return","thread_id":9160,"parent_id":1496794,"elapsed":5.4600241128355265e-06,"elapsed_instrumentation":0.00024474598467350006,"return_value":{"class":"String","value":"2c3a880eba0acfaa0a0c8dc9","object_id":8162160}},{"id":1496796,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8162180,"value":"[111360522715891586, 111360522715891592]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8162200,"value":"#<JSON::Ext::Generator::State:0x00007fdc06d78c20>"}},{"id":1496797,"event":"return","thread_id":9160,"parent_id":1496796,"elapsed":1.676302053965628e-05,"elapsed_instrumentation":0.0002732709690462798,"return_value":{"class":"String","value":"[111360522715891586,111360522715891592]","object_id":8162220}},{"id":1496798,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8162240,"value":"#<JSON::Ext::Parser:0x00007fdc06d776b8>"}},{"id":1496799,"event":"return","thread_id":9160,"parent_id":1496798,"elapsed":5.929992767050862e-06,"elapsed_instrumentation":0.00010239798575639725,"return_value":{"class":"Array","value":"[111360522715891586, 111360522715891592]","object_id":8162260,"size":2}},{"id":1496800,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8162280,"value":"&\u0016._?z___`{i"}},{"id":1496801,"event":"return","thread_id":9160,"parent_id":1496800,"elapsed":4.130997695028782e-06,"elapsed_instrumentation":0.00010840903269127011,"return_value":{"class":"String","value":"26162ef83f7ad6ceb9607b69","object_id":8162300}},{"id":1496802,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8162320,"value":"{retry=>true, queue=>pull, args=>[111360522715891586, 111360522715891592], class=>UnmergeWorker, jid=>2c3a880eba0acfaa0a0c8dc9, created_at=>1699226727.6187189, id=>26162ef83f7ad6ceb9607b69}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8162340,"value":"#<JSON::Ext::Generator::State:0x00007fdc06d75908>"}},{"id":1496803,"event":"return","thread_id":9160,"parent_id":1496802,"elapsed":1.5897996490821242e-05,"elapsed_instrumentation":0.0002042909909505397,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522715891586,111360522715891592],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8162360}},{"id":1496804,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8162380,"value":"#<JSON::Ext::Parser:0x00007fdc06d73360>"}},{"id":1496805,"event":"return","thread_id":9160,"parent_id":1496804,"elapsed":2.870699972845614e-05,"elapsed_instrumentation":0.0004490229766815901,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522715891586, 111360522715891592], class=>UnmergeWorker, jid=>2c3a880eba0acfaa0a0c8dc9, created_at=>1699226727.6187189, id=>26162ef83f7ad6ceb9607b69}","object_id":8162400,"size":7}},{"id":1496806,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045431783173,"value":"111360522715891586","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8162420,"value":"#<UnmergeWorker:0x00007fdc06d70ef8>"}},{"id":1496807,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8162420,"value":"#<UnmergeWorker:0x00007fdc06d70ef8>"}},{"id":1496808,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496809,"event":"return","thread_id":9160,"parent_id":1496808,"elapsed":0.001174781,"elapsed_instrumentation":0.0001150780008174479},{"id":1496810,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496811,"event":"return","thread_id":9160,"parent_id":1496810,"elapsed":0.000782034,"elapsed_instrumentation":8.975400123745203e-05},{"id":1496812,"event":"return","thread_id":9160,"parent_id":1496807,"elapsed":0.004764707991853356,"elapsed_instrumentation":0.00013306099572218955,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06902e48>","object_id":8162440}},{"id":1496813,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8162420,"value":"#<UnmergeWorker:0x00007fdc06d70ef8>"}},{"id":1496814,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8162460,"value":"#<Account:0x00007fdc069030c8>","kind":"req"},{"name":"into_account","class":"Account","object_id":8162440,"value":"#<Account:0x00007fdc06902e48>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496815,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496816,"event":"return","thread_id":9160,"parent_id":1496815,"elapsed":5.624984623864293e-06,"elapsed_instrumentation":0.00011669500963762403,"return_value":{"class":"String","value":"feed:home:111360522715891592","object_id":8162480}},{"id":1496817,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496818,"event":"return","thread_id":9160,"parent_id":1496817,"elapsed":5.759997293353081e-06,"elapsed_instrumentation":0.00011324300430715084,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1496819,"event":"return","thread_id":9160,"parent_id":1496814,"elapsed":0.00436084799002856,"elapsed_instrumentation":0.00011991799692623317},{"id":1496820,"event":"return","thread_id":9160,"parent_id":1496813,"elapsed":0.004516365006566048,"elapsed_instrumentation":0.00010035999002866447},{"id":1496821,"event":"return","thread_id":9160,"parent_id":1496806,"elapsed":0.009568267996655777,"elapsed_instrumentation":0.00011001902748830616},{"id":1496822,"event":"return","thread_id":9160,"parent_id":1496793,"elapsed":0.011587845016038045,"elapsed_instrumentation":0.00033547598286531866,"return_value":{"class":"String","value":"2c3a880eba0acfaa0a0c8dc9","object_id":8162160}},{"id":1496823,"event":"return","thread_id":9160,"parent_id":1496738,"elapsed":0.04681809397879988,"elapsed_instrumentation":0.000166091020219028,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06907d08>","object_id":8162000}},{"id":1496824,"event":"return","thread_id":9160,"parent_id":1496737,"elapsed":0.04700954401050694,"elapsed_instrumentation":0.00010942399967461824,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06907d08>","object_id":8162000}},{"id":1496825,"event":"return","thread_id":9160,"parent_id":1496736,"elapsed":0.04715667202253826,"elapsed_instrumentation":0.00014760196791030467,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06907d08>","object_id":8162000}},{"id":1496826,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8162500,"value":"relationship:111360522715891587:111360522715891592","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8162520,"value":"#<UnfollowService:0x00007fdc0775a7e8>"}},{"id":1496827,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8162520,"value":"#<UnfollowService:0x00007fdc0775a7e8>"}},{"id":1496828,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8162540,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8162560,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496829,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496830,"event":"return","thread_id":9160,"parent_id":1496829,"elapsed":3.409018972888589e-06,"elapsed_instrumentation":7.961899973452091e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1496831,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8162580,"value":"_\tT\u0004K_}__c__}GQ"}},{"id":1496832,"event":"return","thread_id":9160,"parent_id":1496831,"elapsed":8.642993634566665e-06,"elapsed_instrumentation":0.00018792902119457722,"return_value":{"class":"Array","value":"[2936624132, 19421, 32253, 52351, 25501, 3682420561]","object_id":8162600,"size":6}},{"id":1496833,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496834,"event":"return","thread_id":9160,"parent_id":1496833,"elapsed":0.000737847,"elapsed_instrumentation":8.980298298411071e-05},{"id":1496835,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8162620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496836,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496837,"event":"return","thread_id":9160,"parent_id":1496836,"elapsed":0.000459277,"elapsed_instrumentation":8.529299520887434e-05},{"id":1496838,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496839,"event":"return","thread_id":9160,"parent_id":1496838,"elapsed":0.000441365,"elapsed_instrumentation":7.718501728959382e-05},{"id":1496840,"event":"return","thread_id":9160,"parent_id":1496835,"elapsed":0.0030872420175001025,"elapsed_instrumentation":0.0001826570078264922,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1496841,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1496842,"event":"return","thread_id":9160,"parent_id":1496841,"elapsed":0.00100678,"elapsed_instrumentation":7.90670164860785e-05},{"id":1496843,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8162620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496844,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1496845,"event":"return","thread_id":9160,"parent_id":1496844,"elapsed":0.001333694,"elapsed_instrumentation":0.00017363499500788748},{"id":1496846,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496847,"event":"return","thread_id":9160,"parent_id":1496846,"elapsed":0.000899853,"elapsed_instrumentation":0.00012368400348350406},{"id":1496848,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8162640,"value":"#<Account:0x00007fdc06901908>"}},{"id":1496849,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8162640,"value":"#<Account:0x00007fdc06901908>"}},{"id":1496850,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522715891592, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496851,"event":"return","thread_id":9160,"parent_id":1496850,"elapsed":0.001178447,"elapsed_instrumentation":0.00044595199869945645},{"id":1496852,"event":"return","thread_id":9160,"parent_id":1496849,"elapsed":0.0021866310271434486,"elapsed_instrumentation":0.00018278899369761348},{"id":1496853,"event":"return","thread_id":9160,"parent_id":1496848,"elapsed":0.0025469439860899,"elapsed_instrumentation":0.00017068802844733},{"id":1496854,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496855,"event":"return","thread_id":9160,"parent_id":1496854,"elapsed":0.000997699,"elapsed_instrumentation":0.00010083397501148283},{"id":1496856,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8162660,"value":"#<Account:0x00007fdc06900a08>"}},{"id":1496857,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8162660,"value":"#<Account:0x00007fdc06900a08>"}},{"id":1496858,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522715891587, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496859,"event":"return","thread_id":9160,"parent_id":1496858,"elapsed":0.001459301,"elapsed_instrumentation":9.802498971112072e-05},{"id":1496860,"event":"return","thread_id":9160,"parent_id":1496857,"elapsed":0.002080286998534575,"elapsed_instrumentation":0.00011415098560974002},{"id":1496861,"event":"return","thread_id":9160,"parent_id":1496856,"elapsed":0.0022252060007303953,"elapsed_instrumentation":0.0006101079925429076},{"id":1496862,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8162640,"value":"#<Account:0x00007fdc06901908>"}},{"id":1496863,"event":"return","thread_id":9160,"parent_id":1496862,"elapsed":2.6277994038537145e-05,"elapsed_instrumentation":0.0003687090356834233,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496864,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8162660,"value":"#<Account:0x00007fdc06900a08>"}},{"id":1496865,"event":"return","thread_id":9160,"parent_id":1496864,"elapsed":1.68370024766773e-05,"elapsed_instrumentation":0.000155479006934911,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496866,"event":"return","thread_id":9160,"parent_id":1496843,"elapsed":0.01684933199430816,"elapsed_instrumentation":0.0002001830143854022,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1496867,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496868,"event":"return","thread_id":9160,"parent_id":1496867,"elapsed":0.000814597,"elapsed_instrumentation":0.00011062200064770877},{"id":1496869,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8162700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496870,"event":"return","thread_id":9160,"parent_id":1496869,"elapsed":4.308007191866636e-06,"elapsed_instrumentation":0.00040084400097839534,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1496871,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8162700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496872,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8162720,"value":"Cache delete: relationship:111360522715891592:111360522715891587\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496873,"event":"return","thread_id":9160,"parent_id":1496872,"elapsed":0.0020715179853141308,"elapsed_instrumentation":0.00027662600041367114,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496874,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8162740,"value":"Cache delete: relationship:111360522715891587:111360522715891592\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496875,"event":"return","thread_id":9160,"parent_id":1496874,"elapsed":0.001993823010707274,"elapsed_instrumentation":0.00018162300693802536,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496876,"event":"return","thread_id":9160,"parent_id":1496871,"elapsed":0.005244376021437347,"elapsed_instrumentation":0.00015442699077539146,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1496877,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8162760,"value":"#<Account:0x00007fdc06757a80>"}},{"id":1496878,"event":"return","thread_id":9160,"parent_id":1496877,"elapsed":1.8136983271688223e-05,"elapsed_instrumentation":0.00012401799904182553,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496879,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8162760,"value":"#<Account:0x00007fdc06757a80>"}},{"id":1496880,"event":"return","thread_id":9160,"parent_id":1496879,"elapsed":7.062975782901049e-06,"elapsed_instrumentation":0.00030284299282357097,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496881,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159060,"value":"#<Account:0x00007fdc06759240>"}},{"id":1496882,"event":"return","thread_id":9160,"parent_id":1496881,"elapsed":8.827017154544592e-06,"elapsed_instrumentation":0.00011412298772484064,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496883,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8162780,"value":"{args=>[111360522715891587, 111360522715891592], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8162800,"value":"#<Sidekiq::Client:0x00007fdc06d03bc8>"}},{"id":1496884,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8162820,"value":"__\th\u001cuT_s_m_"}},{"id":1496885,"event":"return","thread_id":9160,"parent_id":1496884,"elapsed":4.9130176194012165e-06,"elapsed_instrumentation":0.0001392459962517023,"return_value":{"class":"String","value":"9fe009681c7554f073a96dc5","object_id":8162840}},{"id":1496886,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8162860,"value":"[111360522715891587, 111360522715891592]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8162880,"value":"#<JSON::Ext::Generator::State:0x00007fdc06d00900>"}},{"id":1496887,"event":"return","thread_id":9160,"parent_id":1496886,"elapsed":7.230992196127772e-06,"elapsed_instrumentation":0.00037840500590391457,"return_value":{"class":"String","value":"[111360522715891587,111360522715891592]","object_id":8162900}},{"id":1496888,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8162920,"value":"#<JSON::Ext::Parser:0x00007fdc06d1f760>"}},{"id":1496889,"event":"return","thread_id":9160,"parent_id":1496888,"elapsed":5.9019948821514845e-06,"elapsed_instrumentation":9.993798448704183e-05,"return_value":{"class":"Array","value":"[111360522715891587, 111360522715891592]","object_id":8162940,"size":2}},{"id":1496890,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8162960,"value":"_\u001e___a______"}},{"id":1496891,"event":"return","thread_id":9160,"parent_id":1496890,"elapsed":1.4210992958396673e-05,"elapsed_instrumentation":0.00014677501167170703,"return_value":{"class":"String","value":"8e1ee7e18b61ccbfa9cab29b","object_id":8162980}},{"id":1496892,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8163000,"value":"{retry=>true, queue=>pull, args=>[111360522715891587, 111360522715891592], class=>UnmergeWorker, jid=>9fe009681c7554f073a96dc5, created_at=>1699226727.6648932, id=>8e1ee7e18b61ccbfa9cab29b}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8163020,"value":"#<JSON::Ext::Generator::State:0x00007fdc06d1c588>"}},{"id":1496893,"event":"return","thread_id":9160,"parent_id":1496892,"elapsed":2.4859007680788636e-05,"elapsed_instrumentation":0.0003858639975078404,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522715891587,111360522715891592],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8163040}},{"id":1496894,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8163060,"value":"#<JSON::Ext::Parser:0x00007fdc06d19090>"}},{"id":1496895,"event":"return","thread_id":9160,"parent_id":1496894,"elapsed":2.3046013666316867e-05,"elapsed_instrumentation":0.0002160170115530491,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522715891587, 111360522715891592], class=>UnmergeWorker, jid=>9fe009681c7554f073a96dc5, created_at=>1699226727.6648932, id=>8e1ee7e18b61ccbfa9cab29b}","object_id":8163080,"size":7}},{"id":1496896,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045431783175,"value":"111360522715891587","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8163100,"value":"#<UnmergeWorker:0x00007fdc06d16688>"}},{"id":1496897,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8163100,"value":"#<UnmergeWorker:0x00007fdc06d16688>"}},{"id":1496898,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496899,"event":"return","thread_id":9160,"parent_id":1496898,"elapsed":0.000846023,"elapsed_instrumentation":0.00010314802057109773},{"id":1496900,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496901,"event":"return","thread_id":9160,"parent_id":1496900,"elapsed":0.00079091,"elapsed_instrumentation":0.00010785798076540232},{"id":1496902,"event":"return","thread_id":9160,"parent_id":1496897,"elapsed":0.0052018630085513,"elapsed_instrumentation":0.00016224203864112496,"return_value":{"class":"Account","value":"#<Account:0x00007fdc069feb08>","object_id":8163120}},{"id":1496903,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8163100,"value":"#<UnmergeWorker:0x00007fdc06d16688>"}},{"id":1496904,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8163140,"value":"#<Account:0x00007fdc069fed88>","kind":"req"},{"name":"into_account","class":"Account","object_id":8163120,"value":"#<Account:0x00007fdc069feb08>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496905,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496906,"event":"return","thread_id":9160,"parent_id":1496905,"elapsed":5.192996468394995e-06,"elapsed_instrumentation":0.00011724999058060348,"return_value":{"class":"String","value":"feed:home:111360522715891592","object_id":8163160}},{"id":1496907,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496908,"event":"return","thread_id":9160,"parent_id":1496907,"elapsed":5.31101250089705e-06,"elapsed_instrumentation":8.225598139688373e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1496909,"event":"return","thread_id":9160,"parent_id":1496904,"elapsed":0.004457851988263428,"elapsed_instrumentation":0.00013201800175011158},{"id":1496910,"event":"return","thread_id":9160,"parent_id":1496903,"elapsed":0.004630559007637203,"elapsed_instrumentation":0.00016344699542969465},{"id":1496911,"event":"return","thread_id":9160,"parent_id":1496896,"elapsed":0.010351981007261202,"elapsed_instrumentation":0.00010649397154338658},{"id":1496912,"event":"return","thread_id":9160,"parent_id":1496883,"elapsed":0.012332599988440052,"elapsed_instrumentation":0.00020475199562497437,"return_value":{"class":"String","value":"9fe009681c7554f073a96dc5","object_id":8162840}},{"id":1496913,"event":"return","thread_id":9160,"parent_id":1496828,"elapsed":0.046337870007846504,"elapsed_instrumentation":0.00017550299526192248,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069026c8>","object_id":8162680}},{"id":1496914,"event":"return","thread_id":9160,"parent_id":1496827,"elapsed":0.046852975996444,"elapsed_instrumentation":0.0001226190070156008,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069026c8>","object_id":8162680}},{"id":1496915,"event":"return","thread_id":9160,"parent_id":1496826,"elapsed":0.04701483898679726,"elapsed_instrumentation":0.0004131520399823785,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069026c8>","object_id":8162680}},{"id":1496916,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8163180,"value":"relationship:111360522715891588:111360522715891592","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8163200,"value":"#<UnfollowService:0x00007fdc07750608>"}},{"id":1496917,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8163200,"value":"#<UnfollowService:0x00007fdc07750608>"}},{"id":1496918,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8163220,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8163240,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496919,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496920,"event":"return","thread_id":9160,"parent_id":1496919,"elapsed":3.2600073609501123e-06,"elapsed_instrumentation":9.103500633500516e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1496921,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8163260,"value":"____\u001b__4\u0019\u000b+6T)__"}},{"id":1496922,"event":"return","thread_id":9160,"parent_id":1496921,"elapsed":7.941998774185777e-06,"elapsed_instrumentation":0.0005734980222769082,"return_value":{"class":"Array","value":"[3281967321, 7100, 47156, 6411, 11062, 1412029876]","object_id":8163280,"size":6}},{"id":1496923,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496924,"event":"return","thread_id":9160,"parent_id":1496923,"elapsed":0.00073013,"elapsed_instrumentation":9.53350099734962e-05},{"id":1496925,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8163300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496926,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496927,"event":"return","thread_id":9160,"parent_id":1496926,"elapsed":0.000497863,"elapsed_instrumentation":8.964701555669308e-05},{"id":1496928,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496929,"event":"return","thread_id":9160,"parent_id":1496928,"elapsed":0.000488197,"elapsed_instrumentation":8.133598021231592e-05},{"id":1496930,"event":"return","thread_id":9160,"parent_id":1496925,"elapsed":0.002819142013322562,"elapsed_instrumentation":0.00018137501319870353,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1496931,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1496932,"event":"return","thread_id":9160,"parent_id":1496931,"elapsed":0.000796119,"elapsed_instrumentation":8.522000280208886e-05},{"id":1496933,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8163300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496934,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1496935,"event":"return","thread_id":9160,"parent_id":1496934,"elapsed":0.000733875,"elapsed_instrumentation":9.753499762155116e-05},{"id":1496936,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496937,"event":"return","thread_id":9160,"parent_id":1496936,"elapsed":0.000995774,"elapsed_instrumentation":0.00010584897245280445},{"id":1496938,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8163320,"value":"#<Account:0x00007fdc069fd848>"}},{"id":1496939,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8163320,"value":"#<Account:0x00007fdc069fd848>"}},{"id":1496940,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522715891592, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496941,"event":"return","thread_id":9160,"parent_id":1496940,"elapsed":0.001241739,"elapsed_instrumentation":0.00010402599582448602},{"id":1496942,"event":"return","thread_id":9160,"parent_id":1496939,"elapsed":0.002111492009134963,"elapsed_instrumentation":0.00012207101099193096},{"id":1496943,"event":"return","thread_id":9160,"parent_id":1496938,"elapsed":0.0022739799751434475,"elapsed_instrumentation":0.00018547102808952332},{"id":1496944,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496945,"event":"return","thread_id":9160,"parent_id":1496944,"elapsed":0.0009926,"elapsed_instrumentation":0.00013905999367125332},{"id":1496946,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8163340,"value":"#<Account:0x00007fdc069fca88>"}},{"id":1496947,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8163340,"value":"#<Account:0x00007fdc069fca88>"}},{"id":1496948,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522715891588, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496949,"event":"return","thread_id":9160,"parent_id":1496948,"elapsed":0.001079999,"elapsed_instrumentation":0.0004780809977091849},{"id":1496950,"event":"return","thread_id":9160,"parent_id":1496947,"elapsed":0.002228250988991931,"elapsed_instrumentation":0.0001017299946397543},{"id":1496951,"event":"return","thread_id":9160,"parent_id":1496946,"elapsed":0.0023623440065421164,"elapsed_instrumentation":0.0006162889767438173},{"id":1496952,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8163320,"value":"#<Account:0x00007fdc069fd848>"}},{"id":1496953,"event":"return","thread_id":9160,"parent_id":1496952,"elapsed":1.5407014871016145e-05,"elapsed_instrumentation":0.0001100329973269254,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496954,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8163340,"value":"#<Account:0x00007fdc069fca88>"}},{"id":1496955,"event":"return","thread_id":9160,"parent_id":1496954,"elapsed":1.3773998944088817e-05,"elapsed_instrumentation":0.0004217189853079617,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496956,"event":"return","thread_id":9160,"parent_id":1496933,"elapsed":0.015698621020419523,"elapsed_instrumentation":0.00020861899247393012,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1496957,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496958,"event":"return","thread_id":9160,"parent_id":1496957,"elapsed":0.000555965,"elapsed_instrumentation":9.377198875881732e-05},{"id":1496959,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8163380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496960,"event":"return","thread_id":9160,"parent_id":1496959,"elapsed":3.4059921745210886e-06,"elapsed_instrumentation":0.00013825800851918757,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1496961,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8163380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496962,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8163400,"value":"Cache delete: relationship:111360522715891592:111360522715891588\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496963,"event":"return","thread_id":9160,"parent_id":1496962,"elapsed":0.0016575529880356044,"elapsed_instrumentation":0.00013867899542674422,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496964,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8163420,"value":"Cache delete: relationship:111360522715891588:111360522715891592\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496965,"event":"return","thread_id":9160,"parent_id":1496964,"elapsed":0.0025623760011512786,"elapsed_instrumentation":0.00017445100820623338,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496966,"event":"return","thread_id":9160,"parent_id":1496961,"elapsed":0.004869555006735027,"elapsed_instrumentation":0.0001315839763265103,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1496967,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8163440,"value":"#<Account:0x00007fdc06757800>"}},{"id":1496968,"event":"return","thread_id":9160,"parent_id":1496967,"elapsed":1.9306986359879375e-05,"elapsed_instrumentation":0.00012644799426198006,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496969,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8163440,"value":"#<Account:0x00007fdc06757800>"}},{"id":1496970,"event":"return","thread_id":9160,"parent_id":1496969,"elapsed":4.2470055632293224e-06,"elapsed_instrumentation":6.801800918765366e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496971,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159060,"value":"#<Account:0x00007fdc06759240>"}},{"id":1496972,"event":"return","thread_id":9160,"parent_id":1496971,"elapsed":4.703004378825426e-06,"elapsed_instrumentation":6.36219629086554e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496973,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8163460,"value":"{args=>[111360522715891588, 111360522715891592], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8163480,"value":"#<Sidekiq::Client:0x00007fdc06c82730>"}},{"id":1496974,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8163500,"value":"v_4l\r__I_|_x"}},{"id":1496975,"event":"return","thread_id":9160,"parent_id":1496974,"elapsed":5.977024557068944e-06,"elapsed_instrumentation":0.00011758998152799904,"return_value":{"class":"String","value":"76b4346c0daac249e87ce278","object_id":8163520}},{"id":1496976,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8163540,"value":"[111360522715891588, 111360522715891592]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8163560,"value":"#<JSON::Ext::Generator::State:0x00007fdc06c9fa10>"}},{"id":1496977,"event":"return","thread_id":9160,"parent_id":1496976,"elapsed":6.988993845880032e-06,"elapsed_instrumentation":0.00011531499330885708,"return_value":{"class":"String","value":"[111360522715891588,111360522715891592]","object_id":8163580}},{"id":1496978,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8163600,"value":"#<JSON::Ext::Parser:0x00007fdc06c9e188>"}},{"id":1496979,"event":"return","thread_id":9160,"parent_id":1496978,"elapsed":5.8150035329163074e-06,"elapsed_instrumentation":8.605801849626005e-05,"return_value":{"class":"Array","value":"[111360522715891588, 111360522715891592]","object_id":8163620,"size":2}},{"id":1496980,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8163640,"value":"/,____!_VC__"}},{"id":1496981,"event":"return","thread_id":9160,"parent_id":1496980,"elapsed":4.895002348348498e-06,"elapsed_instrumentation":0.0003278949880041182,"return_value":{"class":"String","value":"2f2caaf6988921fc5643c5ec","object_id":8163660}},{"id":1496982,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8163680,"value":"{retry=>true, queue=>pull, args=>[111360522715891588, 111360522715891592], class=>UnmergeWorker, jid=>76b4346c0daac249e87ce278, created_at=>1699226727.709635, id=>2f2caaf6988921fc5643c5ec}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8163700,"value":"#<JSON::Ext::Generator::State:0x00007fdc06c9c090>"}},{"id":1496983,"event":"return","thread_id":9160,"parent_id":1496982,"elapsed":1.8308026483282447e-05,"elapsed_instrumentation":0.00022743098088540137,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522715891588,111360522715891592],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8163720}},{"id":1496984,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8163740,"value":"#<JSON::Ext::Parser:0x00007fdc06c982d8>"}},{"id":1496985,"event":"return","thread_id":9160,"parent_id":1496984,"elapsed":2.175700501538813e-05,"elapsed_instrumentation":0.00017791602294892073,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522715891588, 111360522715891592], class=>UnmergeWorker, jid=>76b4346c0daac249e87ce278, created_at=>1699226727.709635, id=>2f2caaf6988921fc5643c5ec}","object_id":8163760,"size":7}},{"id":1496986,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045431783177,"value":"111360522715891588","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8163780,"value":"#<UnmergeWorker:0x00007fdc06c93e68>"}},{"id":1496987,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8163780,"value":"#<UnmergeWorker:0x00007fdc06c93e68>"}},{"id":1496988,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496989,"event":"return","thread_id":9160,"parent_id":1496988,"elapsed":0.001185449,"elapsed_instrumentation":0.00029867299599573016},{"id":1496990,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496991,"event":"return","thread_id":9160,"parent_id":1496990,"elapsed":0.000865926,"elapsed_instrumentation":8.862398681230843e-05},{"id":1496992,"event":"return","thread_id":9160,"parent_id":1496987,"elapsed":0.005382650997489691,"elapsed_instrumentation":0.0001462700020056218,"return_value":{"class":"Account","value":"#<Account:0x00007fdc069fa648>","object_id":8163800}},{"id":1496993,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8163780,"value":"#<UnmergeWorker:0x00007fdc06c93e68>"}},{"id":1496994,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8163820,"value":"#<Account:0x00007fdc069fa8c8>","kind":"req"},{"name":"into_account","class":"Account","object_id":8163800,"value":"#<Account:0x00007fdc069fa648>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496995,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496996,"event":"return","thread_id":9160,"parent_id":1496995,"elapsed":5.844980478286743e-06,"elapsed_instrumentation":0.000214404019061476,"return_value":{"class":"String","value":"feed:home:111360522715891592","object_id":8163840}},{"id":1496997,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496998,"event":"return","thread_id":9160,"parent_id":1496997,"elapsed":5.662004696205258e-06,"elapsed_instrumentation":8.443198748864233e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1496999,"event":"return","thread_id":9160,"parent_id":1496994,"elapsed":0.004823038005270064,"elapsed_instrumentation":0.00015749200247228146},{"id":1497000,"event":"return","thread_id":9160,"parent_id":1496993,"elapsed":0.005036090995417908,"elapsed_instrumentation":9.727998985908926e-05},{"id":1497001,"event":"return","thread_id":9160,"parent_id":1496986,"elapsed":0.010716743010561913,"elapsed_instrumentation":0.00027161400066688657},{"id":1497002,"event":"return","thread_id":9160,"parent_id":1496973,"elapsed":0.012449557019863278,"elapsed_instrumentation":0.00023252199753187597,"return_value":{"class":"String","value":"76b4346c0daac249e87ce278","object_id":8163520}},{"id":1497003,"event":"return","thread_id":9160,"parent_id":1496918,"elapsed":0.0441675629990641,"elapsed_instrumentation":0.00021051999647170305,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069fe888>","object_id":8163360}},{"id":1497004,"event":"return","thread_id":9160,"parent_id":1496917,"elapsed":0.044427314976928756,"elapsed_instrumentation":0.00033050900674425066,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069fe888>","object_id":8163360}},{"id":1497005,"event":"return","thread_id":9160,"parent_id":1496916,"elapsed":0.044799811992561445,"elapsed_instrumentation":0.00015891599468886852,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069fe888>","object_id":8163360}},{"id":1497006,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8163860,"value":"relationship:111360522715891589:111360522715891592","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8163880,"value":"#<UnfollowService:0x00007fdc077801f0>"}},{"id":1497007,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8163880,"value":"#<UnfollowService:0x00007fdc077801f0>"}},{"id":1497008,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8163900,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8163920,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1497009,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1497010,"event":"return","thread_id":9160,"parent_id":1497009,"elapsed":4.164001438766718e-06,"elapsed_instrumentation":8.012796752154827e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1497011,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8163940,"value":"_\u0017&]r_O_\u0019_9_L_}o"}},{"id":1497012,"event":"return","thread_id":9160,"parent_id":1497011,"elapsed":7.760012522339821e-06,"elapsed_instrumentation":0.0003639639762695879,"return_value":{"class":"Array","value":"[2920752733, 29380, 20406, 6582, 14795, 1285717359]","object_id":8163960,"size":6}},{"id":1497013,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1497014,"event":"return","thread_id":9160,"parent_id":1497013,"elapsed":0.000656224,"elapsed_instrumentation":0.0001335740089416504},{"id":1497015,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8163980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1497016,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1497017,"event":"return","thread_id":9160,"parent_id":1497016,"elapsed":0.00060325,"elapsed_instrumentation":9.778398089110851e-05},{"id":1497018,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1497019,"event":"return","thread_id":9160,"parent_id":1497018,"elapsed":0.000572808,"elapsed_instrumentation":8.111598435789347e-05},{"id":1497020,"event":"return","thread_id":9160,"parent_id":1497015,"elapsed":0.003776478988584131,"elapsed_instrumentation":0.0002499779802747071,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1497021,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1497022,"event":"return","thread_id":9160,"parent_id":1497021,"elapsed":0.000933899,"elapsed_instrumentation":8.38650157675147e-05},{"id":1497023,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8163980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1497024,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1497025,"event":"return","thread_id":9160,"parent_id":1497024,"elapsed":0.00056308,"elapsed_instrumentation":8.180300937965512e-05},{"id":1497026,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1497027,"event":"return","thread_id":9160,"parent_id":1497026,"elapsed":0.000820546,"elapsed_instrumentation":0.00010008600656874478},{"id":1497028,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8164000,"value":"#<Account:0x00007fdc069f9388>"}},{"id":1497029,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8164000,"value":"#<Account:0x00007fdc069f9388>"}},{"id":1497030,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522715891592, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1497031,"event":"return","thread_id":9160,"parent_id":1497030,"elapsed":0.001019155,"elapsed_instrumentation":8.952702046371996e-05},{"id":1497032,"event":"return","thread_id":9160,"parent_id":1497029,"elapsed":0.0018455050012562424,"elapsed_instrumentation":0.00010581096285022795},{"id":1497033,"event":"return","thread_id":9160,"parent_id":1497028,"elapsed":0.0019824030168820173,"elapsed_instrumentation":0.00016921700444072485},{"id":1497034,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1497035,"event":"return","thread_id":9160,"parent_id":1497034,"elapsed":0.000948901,"elapsed_instrumentation":9.168099495582283e-05},{"id":1497036,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8164020,"value":"#<Account:0x00007fdc069f80c8>"}},{"id":1497037,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8164020,"value":"#<Account:0x00007fdc069f80c8>"}},{"id":1497038,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522715891589, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1497039,"event":"return","thread_id":9160,"parent_id":1497038,"elapsed":0.001335787,"elapsed_instrumentation":8.27619805932045e-05},{"id":1497040,"event":"return","thread_id":9160,"parent_id":1497037,"elapsed":0.0022010219981893897,"elapsed_instrumentation":0.0002780230133794248},{"id":1497041,"event":"return","thread_id":9160,"parent_id":1497036,"elapsed":0.0025107469991780818,"elapsed_instrumentation":0.0001480109931435436},{"id":1497042,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8164000,"value":"#<Account:0x00007fdc069f9388>"}},{"id":1497043,"event":"return","thread_id":9160,"parent_id":1497042,"elapsed":1.7129990737885237e-05,"elapsed_instrumentation":0.00010876500164158642,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497044,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8164020,"value":"#<Account:0x00007fdc069f80c8>"}},{"id":1497045,"event":"return","thread_id":9160,"parent_id":1497044,"elapsed":8.306000381708145e-06,"elapsed_instrumentation":7.52209743950516e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497046,"event":"return","thread_id":9160,"parent_id":1497023,"elapsed":0.013255277008283883,"elapsed_instrumentation":0.00018285898840986192,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1497047,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1497048,"event":"return","thread_id":9160,"parent_id":1497047,"elapsed":0.00047498,"elapsed_instrumentation":7.961998926475644e-05},{"id":1497049,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8164060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1497050,"event":"return","thread_id":9160,"parent_id":1497049,"elapsed":5.206995410844684e-06,"elapsed_instrumentation":0.0003202210064046085,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1497051,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8164060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1497052,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8164080,"value":"Cache delete: relationship:111360522715891592:111360522715891589\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1497053,"event":"return","thread_id":9160,"parent_id":1497052,"elapsed":0.0022227160225156695,"elapsed_instrumentation":0.0001709659700281918,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1497054,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8164100,"value":"Cache delete: relationship:111360522715891589:111360522715891592\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1497055,"event":"return","thread_id":9160,"parent_id":1497054,"elapsed":0.0023592950019519776,"elapsed_instrumentation":0.0004654920194298029,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1497056,"event":"return","thread_id":9160,"parent_id":1497051,"elapsed":0.005812304996652529,"elapsed_instrumentation":0.00020446197595447302,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1497057,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8164120,"value":"#<Account:0x00007fdc067576c0>"}},{"id":1497058,"event":"return","thread_id":9160,"parent_id":1497057,"elapsed":2.2961001377552748e-05,"elapsed_instrumentation":0.00019559700740501285,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497059,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8164120,"value":"#<Account:0x00007fdc067576c0>"}},{"id":1497060,"event":"return","thread_id":9160,"parent_id":1497059,"elapsed":8.634990081191063e-06,"elapsed_instrumentation":0.00012111698742955923,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497061,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159060,"value":"#<Account:0x00007fdc06759240>"}},{"id":1497062,"event":"return","thread_id":9160,"parent_id":1497061,"elapsed":4.975008778274059e-06,"elapsed_instrumentation":8.475198410451412e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497063,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8164140,"value":"{args=>[111360522715891589, 111360522715891592], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8164160,"value":"#<Sidekiq::Client:0x00007fdc06be8f40>"}},{"id":1497064,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8164180,"value":"__E Fz__\u001f__V"}},{"id":1497065,"event":"return","thread_id":9160,"parent_id":1497064,"elapsed":4.765985067933798e-06,"elapsed_instrumentation":0.00014484103303402662,"return_value":{"class":"String","value":"c5ce4520467a90c11feef956","object_id":8164200}},{"id":1497066,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8164220,"value":"[111360522715891589, 111360522715891592]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8164240,"value":"#<JSON::Ext::Generator::State:0x00007fdc06be3630>"}},{"id":1497067,"event":"return","thread_id":9160,"parent_id":1497066,"elapsed":1.1837983038276434e-05,"elapsed_instrumentation":0.00018321603420190513,"return_value":{"class":"String","value":"[111360522715891589,111360522715891592]","object_id":8164260}},{"id":1497068,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8164280,"value":"#<JSON::Ext::Parser:0x00007fdc06be11f0>"}},{"id":1497069,"event":"return","thread_id":9160,"parent_id":1497068,"elapsed":7.515976903960109e-06,"elapsed_instrumentation":0.00020517001394182444,"return_value":{"class":"Array","value":"[111360522715891589, 111360522715891592]","object_id":8164300,"size":2}},{"id":1497070,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8164320,"value":"}_K_\u0005\"____#"}},{"id":1497071,"event":"return","thread_id":9160,"parent_id":1497070,"elapsed":6.333983037620783e-06,"elapsed_instrumentation":0.00018562201876193285,"return_value":{"class":"String","value":"7def4b7fb10522bcfdf99f23","object_id":8164340}},{"id":1497072,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8164360,"value":"{retry=>true, queue=>pull, args=>[111360522715891589, 111360522715891592], class=>UnmergeWorker, jid=>c5ce4520467a90c11feef956, created_at=>1699226727.7555494, id=>7def4b7fb10522bcfdf99f23}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8164380,"value":"#<JSON::Ext::Generator::State:0x00007fdc06bfc928>"}},{"id":1497073,"event":"return","thread_id":9160,"parent_id":1497072,"elapsed":2.8216978535056114e-05,"elapsed_instrumentation":0.00070019401027821,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522715891589,111360522715891592],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8164400}},{"id":1497074,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8164420,"value":"#<JSON::Ext::Parser:0x00007fdc06bf6dc0>"}},{"id":1497075,"event":"return","thread_id":9160,"parent_id":1497074,"elapsed":3.704198752529919e-05,"elapsed_instrumentation":0.0004050830320920795,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522715891589, 111360522715891592], class=>UnmergeWorker, jid=>c5ce4520467a90c11feef956, created_at=>1699226727.7555494, id=>7def4b7fb10522bcfdf99f23}","object_id":8164440,"size":7}},{"id":1497076,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045431783179,"value":"111360522715891589","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8164460,"value":"#<UnmergeWorker:0x00007fdc06c0f230>"}},{"id":1497077,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8164460,"value":"#<UnmergeWorker:0x00007fdc06c0f230>"}},{"id":1497078,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1497079,"event":"return","thread_id":9160,"parent_id":1497078,"elapsed":0.001043149,"elapsed_instrumentation":0.0003680569934658706},{"id":1497080,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1497081,"event":"return","thread_id":9160,"parent_id":1497080,"elapsed":0.00070245,"elapsed_instrumentation":9.46770014706999e-05},{"id":1497082,"event":"return","thread_id":9160,"parent_id":1497077,"elapsed":0.004960123013006523,"elapsed_instrumentation":0.000540560984518379,"return_value":{"class":"Account","value":"#<Account:0x00007fdc069f6908>","object_id":8164480}},{"id":1497083,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8164460,"value":"#<UnmergeWorker:0x00007fdc06c0f230>"}},{"id":1497084,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8164500,"value":"#<Account:0x00007fdc069f6a48>","kind":"req"},{"name":"into_account","class":"Account","object_id":8164480,"value":"#<Account:0x00007fdc069f6908>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1497085,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1497086,"event":"return","thread_id":9160,"parent_id":1497085,"elapsed":6.154004950076342e-06,"elapsed_instrumentation":0.00031781199504621327,"return_value":{"class":"String","value":"feed:home:111360522715891592","object_id":8164520}},{"id":1497087,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1497088,"event":"return","thread_id":9160,"parent_id":1497087,"elapsed":5.970010533928871e-06,"elapsed_instrumentation":9.82040073722601e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1497089,"event":"return","thread_id":9160,"parent_id":1497084,"elapsed":0.004933994001476094,"elapsed_instrumentation":0.0003586550010368228},{"id":1497090,"event":"return","thread_id":9160,"parent_id":1497083,"elapsed":0.005405930016422644,"elapsed_instrumentation":0.00012013496598228812},{"id":1497091,"event":"return","thread_id":9160,"parent_id":1497076,"elapsed":0.011099419003585353,"elapsed_instrumentation":0.0001606210134923458},{"id":1497092,"event":"return","thread_id":9160,"parent_id":1497063,"elapsed":0.013694145018234849,"elapsed_instrumentation":0.0006202239892445505,"return_value":{"class":"String","value":"c5ce4520467a90c11feef956","object_id":8164200}},{"id":1497093,"event":"return","thread_id":9160,"parent_id":1497008,"elapsed":0.04597763100173324,"elapsed_instrumentation":0.0001694119710009545,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f9c48>","object_id":8164040}},{"id":1497094,"event":"return","thread_id":9160,"parent_id":1497007,"elapsed":0.04617224901448935,"elapsed_instrumentation":8.96909914445132e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f9c48>","object_id":8164040}},{"id":1497095,"event":"return","thread_id":9160,"parent_id":1497006,"elapsed":0.04629825800657272,"elapsed_instrumentation":0.0001647620229050517,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f9c48>","object_id":8164040}},{"id":1497096,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8164540,"value":"relationship:111360522715891590:111360522715891592","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8164560,"value":"#<UnfollowService:0x00007fdc08868bc0>"}},{"id":1497097,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8164560,"value":"#<UnfollowService:0x00007fdc08868bc0>"}},{"id":1497098,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8164580,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8164600,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1497099,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1497100,"event":"return","thread_id":9160,"parent_id":1497099,"elapsed":4.9140071496367455e-06,"elapsed_instrumentation":0.0001210839836858213,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1497101,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8164620,"value":"d_+~__un_rH__9\u0014_"}},{"id":1497102,"event":"return","thread_id":9160,"parent_id":1497101,"elapsed":1.0423973435536027e-05,"elapsed_instrumentation":0.000278294988675043,"return_value":{"class":"Array","value":"[1689856894, 56492, 30062, 37490, 18571, 2235110614]","object_id":8164640,"size":6}},{"id":1497103,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1497104,"event":"return","thread_id":9160,"parent_id":1497103,"elapsed":0.001367033,"elapsed_instrumentation":0.00012068802607245743},{"id":1497105,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8164660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1497106,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1497107,"event":"return","thread_id":9160,"parent_id":1497106,"elapsed":0.000540873,"elapsed_instrumentation":9.619799675419927e-05},{"id":1497108,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1497109,"event":"return","thread_id":9160,"parent_id":1497108,"elapsed":0.000680623,"elapsed_instrumentation":8.0520985648036e-05},{"id":1497110,"event":"return","thread_id":9160,"parent_id":1497105,"elapsed":0.0034607529814820737,"elapsed_instrumentation":0.00034766897442750633,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1497111,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1497112,"event":"return","thread_id":9160,"parent_id":1497111,"elapsed":0.000889108,"elapsed_instrumentation":7.97969987615943e-05},{"id":1497113,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8164660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1497114,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1497115,"event":"return","thread_id":9160,"parent_id":1497114,"elapsed":0.000794845,"elapsed_instrumentation":0.00010006301454268396},{"id":1497116,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1497117,"event":"return","thread_id":9160,"parent_id":1497116,"elapsed":0.000629064,"elapsed_instrumentation":0.00018782701226882637},{"id":1497118,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8164680,"value":"#<Account:0x00007fdc069f5c88>"}},{"id":1497119,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8164680,"value":"#<Account:0x00007fdc069f5c88>"}},{"id":1497120,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522715891592, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1497121,"event":"return","thread_id":9160,"parent_id":1497120,"elapsed":0.001117656,"elapsed_instrumentation":8.984800660982728e-05},{"id":1497122,"event":"return","thread_id":9160,"parent_id":1497119,"elapsed":0.0018748599977698177,"elapsed_instrumentation":0.0001487710396759212},{"id":1497123,"event":"return","thread_id":9160,"parent_id":1497118,"elapsed":0.0020681129826698452,"elapsed_instrumentation":0.00016686299932189286},{"id":1497124,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1497125,"event":"return","thread_id":9160,"parent_id":1497124,"elapsed":0.000706479,"elapsed_instrumentation":8.555900421924889e-05},{"id":1497126,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8164700,"value":"#<Account:0x00007fdc069f4ec8>"}},{"id":1497127,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8164700,"value":"#<Account:0x00007fdc069f4ec8>"}},{"id":1497128,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522715891590, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1497129,"event":"return","thread_id":9160,"parent_id":1497128,"elapsed":0.000998703,"elapsed_instrumentation":8.159497519955039e-05},{"id":1497130,"event":"return","thread_id":9160,"parent_id":1497127,"elapsed":0.0015734369808342308,"elapsed_instrumentation":0.00010418400052003562},{"id":1497131,"event":"return","thread_id":9160,"parent_id":1497126,"elapsed":0.0017054060008376837,"elapsed_instrumentation":0.00023700698511675},{"id":1497132,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8164680,"value":"#<Account:0x00007fdc069f5c88>"}},{"id":1497133,"event":"return","thread_id":9160,"parent_id":1497132,"elapsed":1.5839992556720972e-05,"elapsed_instrumentation":0.00012597901513800025,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497134,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8164700,"value":"#<Account:0x00007fdc069f4ec8>"}},{"id":1497135,"event":"return","thread_id":9160,"parent_id":1497134,"elapsed":8.028990123420954e-06,"elapsed_instrumentation":7.515001925639808e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497136,"event":"return","thread_id":9160,"parent_id":1497113,"elapsed":0.013528092997148633,"elapsed_instrumentation":0.00019201298709958792,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1497137,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1497138,"event":"return","thread_id":9160,"parent_id":1497137,"elapsed":0.000598905,"elapsed_instrumentation":7.870499393902719e-05},{"id":1497139,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8164740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1497140,"event":"return","thread_id":9160,"parent_id":1497139,"elapsed":4.016008460894227e-06,"elapsed_instrumentation":0.0001283810124732554,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1497141,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8164740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1497142,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8164760,"value":"Cache delete: relationship:111360522715891592:111360522715891590\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1497143,"event":"return","thread_id":9160,"parent_id":1497142,"elapsed":0.0018284539983142167,"elapsed_instrumentation":0.00013062800280749798,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1497144,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8164780,"value":"Cache delete: relationship:111360522715891590:111360522715891592\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1497145,"event":"return","thread_id":9160,"parent_id":1497144,"elapsed":0.0010683659929782152,"elapsed_instrumentation":0.000286630995105952,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1497146,"event":"return","thread_id":9160,"parent_id":1497141,"elapsed":0.0036271729914005846,"elapsed_instrumentation":0.00015197700122371316,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1497147,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8164800,"value":"#<Account:0x00007fdc06757440>"}},{"id":1497148,"event":"return","thread_id":9160,"parent_id":1497147,"elapsed":1.4872988685965538e-05,"elapsed_instrumentation":0.00010009700781665742,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497149,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8164800,"value":"#<Account:0x00007fdc06757440>"}},{"id":1497150,"event":"return","thread_id":9160,"parent_id":1497149,"elapsed":6.446003681048751e-06,"elapsed_instrumentation":7.700501009821892e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497151,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159060,"value":"#<Account:0x00007fdc06759240>"}},{"id":1497152,"event":"return","thread_id":9160,"parent_id":1497151,"elapsed":4.747998900711536e-06,"elapsed_instrumentation":7.01870012562722e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497153,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8164820,"value":"{args=>[111360522715891590, 111360522715891592], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8164840,"value":"#<Sidekiq::Client:0x00007fdc06b6a7a8>"}},{"id":1497154,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8164860,"value":"_k!__~Lb,_\u0014_"}},{"id":1497155,"event":"return","thread_id":9160,"parent_id":1497154,"elapsed":5.198991857469082e-06,"elapsed_instrumentation":0.00016295499517582357,"return_value":{"class":"String","value":"f46b21abc47e4c622cf114a5","object_id":8164880}},{"id":1497156,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8164900,"value":"[111360522715891590, 111360522715891592]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8164920,"value":"#<JSON::Ext::Generator::State:0x00007fdc06b67e40>"}},{"id":1497157,"event":"return","thread_id":9160,"parent_id":1497156,"elapsed":6.977003067731857e-06,"elapsed_instrumentation":0.00012531699030660093,"return_value":{"class":"String","value":"[111360522715891590,111360522715891592]","object_id":8164940}},{"id":1497158,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8164960,"value":"#<JSON::Ext::Parser:0x00007fdc06b66d88>"}},{"id":1497159,"event":"return","thread_id":9160,"parent_id":1497158,"elapsed":8.20998684503138e-06,"elapsed_instrumentation":0.00010248299804516137,"return_value":{"class":"Array","value":"[111360522715891590, 111360522715891592]","object_id":8164980,"size":2}},{"id":1497160,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8165000,"value":"qiH_u__\u001e_/O&"}},{"id":1497161,"event":"return","thread_id":9160,"parent_id":1497160,"elapsed":4.67998324893415e-06,"elapsed_instrumentation":0.00037392901140265167,"return_value":{"class":"String","value":"716948e775ffdf1ead2f4f26","object_id":8165020}},{"id":1497162,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8165040,"value":"{retry=>true, queue=>pull, args=>[111360522715891590, 111360522715891592], class=>UnmergeWorker, jid=>f46b21abc47e4c622cf114a5, created_at=>1699226727.8003826, id=>716948e775ffdf1ead2f4f26}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8165060,"value":"#<JSON::Ext::Generator::State:0x00007fdc06b65000>"}},{"id":1497163,"event":"return","thread_id":9160,"parent_id":1497162,"elapsed":1.501000951975584e-05,"elapsed_instrumentation":0.00024988496443256736,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522715891590,111360522715891592],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8165080}},{"id":1497164,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8165100,"value":"#<JSON::Ext::Parser:0x00007fdc06b62e90>"}},{"id":1497165,"event":"return","thread_id":9160,"parent_id":1497164,"elapsed":2.2375985281541944e-05,"elapsed_instrumentation":0.00017951999325305223,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522715891590, 111360522715891592], class=>UnmergeWorker, jid=>f46b21abc47e4c622cf114a5, created_at=>1699226727.8003826, id=>716948e775ffdf1ead2f4f26}","object_id":8165120,"size":7}},{"id":1497166,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045431783181,"value":"111360522715891590","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8165140,"value":"#<UnmergeWorker:0x00007fdc06b60bb8>"}},{"id":1497167,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8165140,"value":"#<UnmergeWorker:0x00007fdc06b60bb8>"}},{"id":1497168,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1497169,"event":"return","thread_id":9160,"parent_id":1497168,"elapsed":0.000807474,"elapsed_instrumentation":9.402600699104369e-05},{"id":1497170,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1497171,"event":"return","thread_id":9160,"parent_id":1497170,"elapsed":0.000733149,"elapsed_instrumentation":8.432901813648641e-05},{"id":1497172,"event":"return","thread_id":9160,"parent_id":1497167,"elapsed":0.005177015002118424,"elapsed_instrumentation":0.0001309440121985972,"return_value":{"class":"Account","value":"#<Account:0x00007fdc069f30c8>","object_id":8165160}},{"id":1497173,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8165140,"value":"#<UnmergeWorker:0x00007fdc06b60bb8>"}},{"id":1497174,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8165180,"value":"#<Account:0x00007fdc069f3208>","kind":"req"},{"name":"into_account","class":"Account","object_id":8165160,"value":"#<Account:0x00007fdc069f30c8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1497175,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1497176,"event":"return","thread_id":9160,"parent_id":1497175,"elapsed":5.2689865697175264e-06,"elapsed_instrumentation":0.00011344000813551247,"return_value":{"class":"String","value":"feed:home:111360522715891592","object_id":8165200}},{"id":1497177,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1497178,"event":"return","thread_id":9160,"parent_id":1497177,"elapsed":5.49500691704452e-06,"elapsed_instrumentation":7.832798291929066e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1497179,"event":"return","thread_id":9160,"parent_id":1497174,"elapsed":0.005519558006199077,"elapsed_instrumentation":0.00019319599959999323},{"id":1497180,"event":"return","thread_id":9160,"parent_id":1497173,"elapsed":0.005754355021053925,"elapsed_instrumentation":0.00010258998372592032},{"id":1497181,"event":"return","thread_id":9160,"parent_id":1497166,"elapsed":0.011222450993955135,"elapsed_instrumentation":9.43930062931031e-05},{"id":1497182,"event":"return","thread_id":9160,"parent_id":1497153,"elapsed":0.013082310993922874,"elapsed_instrumentation":0.000253937003435567,"return_value":{"class":"String","value":"f46b21abc47e4c622cf114a5","object_id":8164880}},{"id":1497183,"event":"return","thread_id":9160,"parent_id":1497098,"elapsed":0.04304540000157431,"elapsed_instrumentation":0.00023682400933466852,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f6688>","object_id":8164720}},{"id":1497184,"event":"return","thread_id":9160,"parent_id":1497097,"elapsed":0.043318529991665855,"elapsed_instrumentation":0.00012991903349757195,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f6688>","object_id":8164720}},{"id":1497185,"event":"return","thread_id":9160,"parent_id":1497096,"elapsed":0.04349940700922161,"elapsed_instrumentation":0.00023571899509988725,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f6688>","object_id":8164720}},{"id":1497186,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8165220,"value":"relationship:111360522715891591:111360522715891592","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8165240,"value":"#<UnfollowService:0x00007fdc08860970>"}},{"id":1497187,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8165240,"value":"#<UnfollowService:0x00007fdc08860970>"}},{"id":1497188,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8165260,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8165280,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1497189,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1497190,"event":"return","thread_id":9160,"parent_id":1497189,"elapsed":3.36900120601058e-06,"elapsed_instrumentation":7.929900311864913e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1497191,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8165300,"value":"y\u00155___yePV__0\u0010_S"}},{"id":1497192,"event":"return","thread_id":9160,"parent_id":1497191,"elapsed":1.8318998627364635e-05,"elapsed_instrumentation":0.00015398801770061255,"return_value":{"class":"Array","value":"[2031433183, 47605, 31077, 20566, 34435, 806403155]","object_id":8165320,"size":6}},{"id":1497193,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1497194,"event":"return","thread_id":9160,"parent_id":1497193,"elapsed":0.000819272,"elapsed_instrumentation":0.00010519099305383861},{"id":1497195,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8165340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1497196,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1497197,"event":"return","thread_id":9160,"parent_id":1497196,"elapsed":0.000627494,"elapsed_instrumentation":9.937299182638526e-05},{"id":1497198,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1497199,"event":"return","thread_id":9160,"parent_id":1497198,"elapsed":0.000772538,"elapsed_instrumentation":8.620499284006655e-05},{"id":1497200,"event":"return","thread_id":9160,"parent_id":1497195,"elapsed":0.0036270080017857254,"elapsed_instrumentation":0.00042089700582437217,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1497201,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1497202,"event":"return","thread_id":9160,"parent_id":1497201,"elapsed":0.001165502,"elapsed_instrumentation":0.00012007600162178278},{"id":1497203,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8165340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1497204,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1497205,"event":"return","thread_id":9160,"parent_id":1497204,"elapsed":0.001515054,"elapsed_instrumentation":0.00019785799668170512},{"id":1497206,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1497207,"event":"return","thread_id":9160,"parent_id":1497206,"elapsed":0.000954283,"elapsed_instrumentation":0.00016131598385982215},{"id":1497208,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8165360,"value":"#<Account:0x00007fdc069f1f48>"}},{"id":1497209,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8165360,"value":"#<Account:0x00007fdc069f1f48>"}},{"id":1497210,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522715891592, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1497211,"event":"return","thread_id":9160,"parent_id":1497210,"elapsed":0.001066665,"elapsed_instrumentation":0.00010816301801241934},{"id":1497212,"event":"return","thread_id":9160,"parent_id":1497209,"elapsed":0.001947515003848821,"elapsed_instrumentation":0.0001199429971165955},{"id":1497213,"event":"return","thread_id":9160,"parent_id":1497208,"elapsed":0.002102989994455129,"elapsed_instrumentation":0.00017983498401008546},{"id":1497214,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1497215,"event":"return","thread_id":9160,"parent_id":1497214,"elapsed":0.001354218,"elapsed_instrumentation":0.000185895012691617},{"id":1497216,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8165380,"value":"#<Account:0x00007fdc069f0b48>"}},{"id":1497217,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8165380,"value":"#<Account:0x00007fdc069f0b48>"}},{"id":1497218,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522715891591, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1497219,"event":"return","thread_id":9160,"parent_id":1497218,"elapsed":0.001573962,"elapsed_instrumentation":0.00019011599943041801},{"id":1497220,"event":"return","thread_id":9160,"parent_id":1497217,"elapsed":0.0031559000199194998,"elapsed_instrumentation":0.0005041520053055137},{"id":1497221,"event":"return","thread_id":9160,"parent_id":1497216,"elapsed":0.0037122440116945654,"elapsed_instrumentation":0.0002597119892016053},{"id":1497222,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8165360,"value":"#<Account:0x00007fdc069f1f48>"}},{"id":1497223,"event":"return","thread_id":9160,"parent_id":1497222,"elapsed":2.5918998289853334e-05,"elapsed_instrumentation":0.0004577580257318914,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497224,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8165380,"value":"#<Account:0x00007fdc069f0b48>"}},{"id":1497225,"event":"return","thread_id":9160,"parent_id":1497224,"elapsed":1.6358011635020375e-05,"elapsed_instrumentation":0.00021791597828269005,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497226,"event":"return","thread_id":9160,"parent_id":1497203,"elapsed":0.02196620698668994,"elapsed_instrumentation":0.00031794904498383403,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1497227,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1497228,"event":"return","thread_id":9160,"parent_id":1497227,"elapsed":0.000931437,"elapsed_instrumentation":0.00014795298920944333},{"id":1497229,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8165420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1497230,"event":"return","thread_id":9160,"parent_id":1497229,"elapsed":6.757007213309407e-06,"elapsed_instrumentation":0.00022425997303798795,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1497231,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8165420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1497232,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8165440,"value":"Cache delete: relationship:111360522715891592:111360522715891591\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1497233,"event":"return","thread_id":9160,"parent_id":1497232,"elapsed":0.0017366959946230054,"elapsed_instrumentation":0.0001649990153964609,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1497234,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8165460,"value":"Cache delete: relationship:111360522715891591:111360522715891592\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1497235,"event":"return","thread_id":9160,"parent_id":1497234,"elapsed":0.0015633630100637674,"elapsed_instrumentation":0.00038192098145373166,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1497236,"event":"return","thread_id":9160,"parent_id":1497231,"elapsed":0.004441114026121795,"elapsed_instrumentation":0.00022433800040744245,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1497237,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8165480,"value":"#<Account:0x00007fdc06757300>"}},{"id":1497238,"event":"return","thread_id":9160,"parent_id":1497237,"elapsed":2.3431028239428997e-05,"elapsed_instrumentation":0.00016954398597590625,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497239,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8165480,"value":"#<Account:0x00007fdc06757300>"}},{"id":1497240,"event":"return","thread_id":9160,"parent_id":1497239,"elapsed":1.0187010047957301e-05,"elapsed_instrumentation":0.00015650701243430376,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497241,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8159060,"value":"#<Account:0x00007fdc06759240>"}},{"id":1497242,"event":"return","thread_id":9160,"parent_id":1497241,"elapsed":8.590985089540482e-06,"elapsed_instrumentation":0.00013617900549434125,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1497243,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8165500,"value":"{args=>[111360522715891591, 111360522715891592], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8165520,"value":"#<Sidekiq::Client:0x00007fdc06ad0c70>"}},{"id":1497244,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8165540,"value":"Uh_m_~6__C_\u0016"}},{"id":1497245,"event":"return","thread_id":9160,"parent_id":1497244,"elapsed":9.989016689360142e-06,"elapsed_instrumentation":0.0002596059930510819,"return_value":{"class":"String","value":"5568d66dad7e3686db43ef16","object_id":8165560}},{"id":1497246,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8165580,"value":"[111360522715891591, 111360522715891592]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8165600,"value":"#<JSON::Ext::Generator::State:0x00007fdc06aee1f8>"}},{"id":1497247,"event":"return","thread_id":9160,"parent_id":1497246,"elapsed":1.2694014003500342e-05,"elapsed_instrumentation":0.00027087799389846623,"return_value":{"class":"String","value":"[111360522715891591,111360522715891592]","object_id":8165620}},{"id":1497248,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8165640,"value":"#<JSON::Ext::Parser:0x00007fdc06aec470>"}},{"id":1497249,"event":"return","thread_id":9160,"parent_id":1497248,"elapsed":0.00022059600451029837,"elapsed_instrumentation":0.0001875460147857666,"return_value":{"class":"Array","value":"[111360522715891591, 111360522715891592]","object_id":8165660,"size":2}},{"id":1497250,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8165680,"value":"_\"(mj___\u0011wr\u001b"}},{"id":1497251,"event":"return","thread_id":9160,"parent_id":1497250,"elapsed":8.345989044755697e-06,"elapsed_instrumentation":0.0003162390203215182,"return_value":{"class":"String","value":"9022286d6af8ef9e1177721b","object_id":8165700}},{"id":1497252,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8165720,"value":"{retry=>true, queue=>pull, args=>[111360522715891591, 111360522715891592], class=>UnmergeWorker, jid=>5568d66dad7e3686db43ef16, created_at=>1699226727.855298, id=>9022286d6af8ef9e1177721b}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8165740,"value":"#<JSON::Ext::Generator::State:0x00007fdc06ae8d20>"}},{"id":1497253,"event":"return","thread_id":9160,"parent_id":1497252,"elapsed":2.171201049350202e-05,"elapsed_instrumentation":0.00027332297759130597,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522715891591,111360522715891592],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8165760}},{"id":1497254,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8165780,"value":"#<JSON::Ext::Parser:0x00007fdc06ae6930>"}},{"id":1497255,"event":"return","thread_id":9160,"parent_id":1497254,"elapsed":3.565198858268559e-05,"elapsed_instrumentation":0.0005310249980539083,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522715891591, 111360522715891592], class=>UnmergeWorker, jid=>5568d66dad7e3686db43ef16, created_at=>1699226727.855298, id=>9022286d6af8ef9e1177721b}","object_id":8165800,"size":7}},{"id":1497256,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045431783183,"value":"111360522715891591","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8165820,"value":"#<UnmergeWorker:0x00007fdc06ae4748>"}},{"id":1497257,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8165820,"value":"#<UnmergeWorker:0x00007fdc06ae4748>"}},{"id":1497258,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1497259,"event":"return","thread_id":9160,"parent_id":1497258,"elapsed":0.001209932,"elapsed_instrumentation":0.00017204799223691225},{"id":1497260,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1497261,"event":"return","thread_id":9160,"parent_id":1497260,"elapsed":0.001156886,"elapsed_instrumentation":0.000361655984306708},{"id":1497262,"event":"return","thread_id":9160,"parent_id":1497257,"elapsed":0.008339023974258453,"elapsed_instrumentation":0.0001938290079124272,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06b1e740>","object_id":8165840}},{"id":1497263,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8165820,"value":"#<UnmergeWorker:0x00007fdc06ae4748>"}},{"id":1497264,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8165860,"value":"#<Account:0x00007fdc06b1e880>","kind":"req"},{"name":"into_account","class":"Account","object_id":8165840,"value":"#<Account:0x00007fdc06b1e740>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1497265,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045431783185,"value":"111360522715891592","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1497266,"event":"return","thread_id":9160,"parent_id":1497265,"elapsed":5.582987796515226e-06,"elapsed_instrumentation":0.00017305903020314872,"return_value":{"class":"String","value":"feed:home:111360522715891592","object_id":8165880}},{"id":1497267,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1497268,"event":"return","thread_id":9160,"parent_id":1497267,"elapsed":5.6689896155148745e-06,"elapsed_instrumentation":8.758201147429645e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1497269,"event":"return","thread_id":9160,"parent_id":1497264,"elapsed":0.005252433998975903,"elapsed_instrumentation":0.0006596200109925121},{"id":1497270,"event":"return","thread_id":9160,"parent_id":1497263,"elapsed":0.00599253797554411,"elapsed_instrumentation":0.00016219503595493734},{"id":1497271,"event":"return","thread_id":9160,"parent_id":1497256,"elapsed":0.014829001011094078,"elapsed_instrumentation":0.0001400159962940961},{"id":1497272,"event":"return","thread_id":9160,"parent_id":1497243,"elapsed":0.01807125599589199,"elapsed_instrumentation":0.00035646400647237897,"return_value":{"class":"String","value":"5568d66dad7e3686db43ef16","object_id":8165560}},{"id":1497273,"event":"return","thread_id":9160,"parent_id":1497188,"elapsed":0.05918654301785864,"elapsed_instrumentation":0.00023319997126236558,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f2808>","object_id":8165400}},{"id":1497274,"event":"return","thread_id":9160,"parent_id":1497187,"elapsed":0.059455040987813845,"elapsed_instrumentation":0.00013362400932237506,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f2808>","object_id":8165400}},{"id":1497275,"event":"return","thread_id":9160,"parent_id":1497186,"elapsed":0.05963359400629997,"elapsed_instrumentation":0.0003371979983057827,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc069f2808>","object_id":8165400}},{"id":1497276,"event":"return","thread_id":9160,"parent_id":1496365,"elapsed":0.5121994000219274,"elapsed_instrumentation":0.0006717630021739751,"return_value":{"class":"IO","value":"#<IO:0x00007fdc21298f60>","object_id":4113040}}]}