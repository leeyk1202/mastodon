{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --follows option calls BootstrapTimelineWorker once to rebuild the timeline","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RequestPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/request_pool.rb:114","static":false}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:13","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:51","static":false}]}]}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":2895576,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":14301360,"value":"emilie_kohler6735","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14301380,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e11450f8>"}},{"id":2895577,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":14301400,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc8e1eee290>"}},{"id":2895578,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'emilie_kohler6735' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2895579,"event":"return","thread_id":9160,"parent_id":2895578,"elapsed":0.000669199,"elapsed_instrumentation":8.67309863679111e-05},{"id":2895580,"event":"return","thread_id":9160,"parent_id":2895577,"elapsed":0.0032189259654842317,"elapsed_instrumentation":0.00010504102101549506,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21f5c90>","object_id":14301420}},{"id":2895581,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14301440,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14301460,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2895582,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14301480,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14301500,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2895583,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2895584,"event":"return","thread_id":13276700,"parent_id":2895583,"elapsed":6.482994649559259e-06,"elapsed_instrumentation":9.90619882941246e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2895585,"event":"return","thread_id":13276700,"parent_id":2895582,"elapsed":0.00012774602510035038,"elapsed_instrumentation":9.800604311749339e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2895586,"event":"return","thread_id":13276700,"parent_id":2895581,"elapsed":0.0002447000006213784,"elapsed_instrumentation":0.0001677459804341197,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2895587,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1)","database_type":"postgres"}},{"id":2895588,"event":"return","thread_id":9160,"parent_id":2895587,"elapsed":0.001038603,"elapsed_instrumentation":8.10180208645761e-05},{"id":2895589,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14301380,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e11450f8>"}},{"id":2895590,"event":"return","thread_id":9160,"parent_id":2895589,"elapsed":0.00010171701433137059,"elapsed_instrumentation":0.00018777401419356465,"return_value":{"class":"ProgressBar::Base","value":"","object_id":14301520}},{"id":2895591,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2895592,"event":"return","thread_id":9160,"parent_id":2895591,"elapsed":0.002222585,"elapsed_instrumentation":7.867603562772274e-05},{"id":2895593,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14301540,"value":"relationship:111361439871703933:111361439871703943","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14301560,"value":"#<UnfollowService:0x00007fc8e1142c68>"}},{"id":2895594,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14301560,"value":"#<UnfollowService:0x00007fc8e1142c68>"}},{"id":2895595,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14301580,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14301600,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2895596,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2895597,"event":"return","thread_id":9160,"parent_id":2895596,"elapsed":3.095017746090889e-06,"elapsed_instrumentation":6.519496673718095e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2895598,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14301620,"value":"j!4_g_^bE_\u0003____d"}},{"id":2895599,"event":"return","thread_id":9160,"parent_id":2895598,"elapsed":6.054004188627005e-06,"elapsed_instrumentation":0.00019305100431665778,"return_value":{"class":"Array","value":"[1780561096, 26604, 24162, 17805, 968, 2546386532]","object_id":14301640,"size":6}},{"id":2895600,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2895601,"event":"return","thread_id":9160,"parent_id":2895600,"elapsed":0.000444858,"elapsed_instrumentation":8.52230004966259e-05},{"id":2895602,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14301660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2895603,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2895604,"event":"return","thread_id":9160,"parent_id":2895603,"elapsed":0.000504166,"elapsed_instrumentation":8.449197048321366e-05},{"id":2895605,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2895606,"event":"return","thread_id":9160,"parent_id":2895605,"elapsed":0.000320061,"elapsed_instrumentation":7.079204078763723e-05},{"id":2895607,"event":"return","thread_id":9160,"parent_id":2895602,"elapsed":0.0025733219808898866,"elapsed_instrumentation":0.00015328702284023166,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2895608,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2895609,"event":"return","thread_id":9160,"parent_id":2895608,"elapsed":0.000653538,"elapsed_instrumentation":8.402601815760136e-05},{"id":2895610,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14301660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2895611,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2895612,"event":"return","thread_id":9160,"parent_id":2895611,"elapsed":0.000592359,"elapsed_instrumentation":8.482497651129961e-05},{"id":2895613,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895614,"event":"return","thread_id":9160,"parent_id":2895613,"elapsed":0.000654507,"elapsed_instrumentation":8.574896492063999e-05},{"id":2895615,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14301680,"value":"#<Account:0x00007fc8e21f3710>"}},{"id":2895616,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14301680,"value":"#<Account:0x00007fc8e21f3710>"}},{"id":2895617,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439871703943, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2895618,"event":"return","thread_id":9160,"parent_id":2895617,"elapsed":0.000905061,"elapsed_instrumentation":7.215101504698396e-05},{"id":2895619,"event":"return","thread_id":9160,"parent_id":2895616,"elapsed":0.0014569019549526274,"elapsed_instrumentation":0.0001034130691550672},{"id":2895620,"event":"return","thread_id":9160,"parent_id":2895615,"elapsed":0.0015889269998297095,"elapsed_instrumentation":0.00022538803750649095},{"id":2895621,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895622,"event":"return","thread_id":9160,"parent_id":2895621,"elapsed":0.000635768,"elapsed_instrumentation":7.338402792811394e-05},{"id":2895623,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14301700,"value":"#<Account:0x00007fc8e21f2810>"}},{"id":2895624,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14301700,"value":"#<Account:0x00007fc8e21f2810>"}},{"id":2895625,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439871703933, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2895626,"event":"return","thread_id":9160,"parent_id":2895625,"elapsed":0.000769466,"elapsed_instrumentation":6.776896771043539e-05},{"id":2895627,"event":"return","thread_id":9160,"parent_id":2895624,"elapsed":0.0012626650277525187,"elapsed_instrumentation":8.780794451013207e-05},{"id":2895628,"event":"return","thread_id":9160,"parent_id":2895623,"elapsed":0.0013753719977103174,"elapsed_instrumentation":0.00011995399836450815},{"id":2895629,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301680,"value":"#<Account:0x00007fc8e21f3710>"}},{"id":2895630,"event":"return","thread_id":9160,"parent_id":2895629,"elapsed":1.5056983102113008e-05,"elapsed_instrumentation":8.644303306937218e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895631,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301700,"value":"#<Account:0x00007fc8e21f2810>"}},{"id":2895632,"event":"return","thread_id":9160,"parent_id":2895631,"elapsed":8.920032996684313e-06,"elapsed_instrumentation":0.000247131974902004,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895633,"event":"return","thread_id":9160,"parent_id":2895610,"elapsed":0.011237439990509301,"elapsed_instrumentation":0.0001639139954932034,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2895634,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2895635,"event":"return","thread_id":9160,"parent_id":2895634,"elapsed":0.000360344,"elapsed_instrumentation":6.166595267131925e-05},{"id":2895636,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14301740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2895637,"event":"return","thread_id":9160,"parent_id":2895636,"elapsed":4.123023245483637e-06,"elapsed_instrumentation":0.0002731389831751585,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2895638,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14301740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2895639,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14301760,"value":"Cache delete: relationship:111361439871703943:111361439871703933\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2895640,"event":"return","thread_id":9160,"parent_id":2895639,"elapsed":0.0006821510032750666,"elapsed_instrumentation":0.00010846805525943637,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2895641,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14301780,"value":"Cache delete: relationship:111361439871703933:111361439871703943\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2895642,"event":"return","thread_id":9160,"parent_id":2895641,"elapsed":0.0007791310199536383,"elapsed_instrumentation":0.00014082604320719838,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2895643,"event":"return","thread_id":9160,"parent_id":2895638,"elapsed":0.002053861040621996,"elapsed_instrumentation":0.0001167770242318511,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2895644,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301800,"value":"#<Account:0x00007fc8e21f5010>"}},{"id":2895645,"event":"return","thread_id":9160,"parent_id":2895644,"elapsed":1.7748039681464434e-05,"elapsed_instrumentation":9.893201058730483e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895646,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301800,"value":"#<Account:0x00007fc8e21f5010>"}},{"id":2895647,"event":"return","thread_id":9160,"parent_id":2895646,"elapsed":4.404981154948473e-06,"elapsed_instrumentation":6.606901297345757e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895648,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301420,"value":"#<Account:0x00007fc8e21f5c90>"}},{"id":2895649,"event":"return","thread_id":9160,"parent_id":2895648,"elapsed":8.086964953690767e-06,"elapsed_instrumentation":6.514799315482378e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895650,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14301820,"value":"{args=>[111361439871703933, 111361439871703943], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14301840,"value":"#<Sidekiq::Client:0x00007fc8e1e79918>"}},{"id":2895651,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14301860,"value":";__j_\u001e____)_"}},{"id":2895652,"event":"return","thread_id":9160,"parent_id":2895651,"elapsed":4.677975084632635e-06,"elapsed_instrumentation":0.00015514105325564742,"return_value":{"class":"String","value":"3ba1d96ae21ed9c2c88629c4","object_id":14301880}},{"id":2895653,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14301900,"value":"[111361439871703933, 111361439871703943]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14301920,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1e75c50>"}},{"id":2895654,"event":"return","thread_id":9160,"parent_id":2895653,"elapsed":6.793998181819916e-06,"elapsed_instrumentation":0.00010713195661082864,"return_value":{"class":"String","value":"[111361439871703933,111361439871703943]","object_id":14301940}},{"id":2895655,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14301960,"value":"#<JSON::Ext::Parser:0x00007fc8e1e74850>"}},{"id":2895656,"event":"return","thread_id":9160,"parent_id":2895655,"elapsed":5.596026312559843e-06,"elapsed_instrumentation":7.510802242904902e-05,"return_value":{"class":"Array","value":"[111361439871703933, 111361439871703943]","object_id":14301980,"size":2}},{"id":2895657,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14302000,"value":"X__>\u00131___Va_"}},{"id":2895658,"event":"return","thread_id":9160,"parent_id":2895657,"elapsed":3.4859986044466496e-06,"elapsed_instrumentation":0.0001311709638684988,"return_value":{"class":"String","value":"58f2c83e13319ed5da5661e0","object_id":14302020}},{"id":2895659,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14302040,"value":"{retry=>true, queue=>pull, args=>[111361439871703933, 111361439871703943], class=>UnmergeWorker, jid=>3ba1d96ae21ed9c2c88629c4, created_at=>1699240721.7239437, id=>58f2c83e13319ed5da5661e0}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14302060,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1e715d8>"}},{"id":2895660,"event":"return","thread_id":9160,"parent_id":2895659,"elapsed":1.3471988495439291e-05,"elapsed_instrumentation":0.0006635910249315202,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439871703933,111361439871703943],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14302080}},{"id":2895661,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14302100,"value":"#<JSON::Ext::Parser:0x00007fc8e1e1ebf8>"}},{"id":2895662,"event":"return","thread_id":9160,"parent_id":2895661,"elapsed":2.0792009308934212e-05,"elapsed_instrumentation":0.00016002199845388532,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439871703933, 111361439871703943], class=>UnmergeWorker, jid=>3ba1d96ae21ed9c2c88629c4, created_at=>1699240721.7239437, id=>58f2c83e13319ed5da5661e0}","object_id":14302120,"size":7}},{"id":2895663,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879743407867,"value":"111361439871703933","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14302140,"value":"#<UnmergeWorker:0x00007fc8e1e1cbf0>"}},{"id":2895664,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14302140,"value":"#<UnmergeWorker:0x00007fc8e1e1cbf0>"}},{"id":2895665,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895666,"event":"return","thread_id":9160,"parent_id":2895665,"elapsed":0.000831948,"elapsed_instrumentation":9.659997886046767e-05},{"id":2895667,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895668,"event":"return","thread_id":9160,"parent_id":2895667,"elapsed":0.000708736,"elapsed_instrumentation":9.703903924673796e-05},{"id":2895669,"event":"return","thread_id":9160,"parent_id":2895664,"elapsed":0.004490178951527923,"elapsed_instrumentation":0.0001220949925482273,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21f0c90>","object_id":14302160}},{"id":2895670,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14302140,"value":"#<UnmergeWorker:0x00007fc8e1e1cbf0>"}},{"id":2895671,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14302180,"value":"#<Account:0x00007fc8e21f0f10>","kind":"req"},{"name":"into_account","class":"Account","object_id":14302160,"value":"#<Account:0x00007fc8e21f0c90>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2895672,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2895673,"event":"return","thread_id":9160,"parent_id":2895672,"elapsed":5.541020072996616e-06,"elapsed_instrumentation":0.00010802899487316608,"return_value":{"class":"String","value":"feed:home:111361439871703943","object_id":14302200}},{"id":2895674,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2895675,"event":"return","thread_id":9160,"parent_id":2895674,"elapsed":4.104978870600462e-06,"elapsed_instrumentation":7.308903150260448e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2895676,"event":"return","thread_id":9160,"parent_id":2895671,"elapsed":0.003270604007411748,"elapsed_instrumentation":0.00018670700956135988},{"id":2895677,"event":"return","thread_id":9160,"parent_id":2895670,"elapsed":0.0034952640417031944,"elapsed_instrumentation":9.820598643273115e-05},{"id":2895678,"event":"return","thread_id":9160,"parent_id":2895663,"elapsed":0.00825479201739654,"elapsed_instrumentation":7.427798118442297e-05},{"id":2895679,"event":"return","thread_id":9160,"parent_id":2895650,"elapsed":0.010169711022172123,"elapsed_instrumentation":0.00016861403128132224,"return_value":{"class":"String","value":"3ba1d96ae21ed9c2c88629c4","object_id":14301880}},{"id":2895680,"event":"return","thread_id":9160,"parent_id":2895595,"elapsed":0.03181686898460612,"elapsed_instrumentation":0.00016215001232922077,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21f3fd0>","object_id":14301720}},{"id":2895681,"event":"return","thread_id":9160,"parent_id":2895594,"elapsed":0.03200165001908317,"elapsed_instrumentation":7.578596705570817e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21f3fd0>","object_id":14301720}},{"id":2895682,"event":"return","thread_id":9160,"parent_id":2895593,"elapsed":0.032108160958159715,"elapsed_instrumentation":0.00014664401533082128,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21f3fd0>","object_id":14301720}},{"id":2895683,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14302220,"value":"relationship:111361439871703934:111361439871703943","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14302240,"value":"#<UnfollowService:0x00007fc8e115bab0>"}},{"id":2895684,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14302240,"value":"#<UnfollowService:0x00007fc8e115bab0>"}},{"id":2895685,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14302260,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14302280,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2895686,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2895687,"event":"return","thread_id":9160,"parent_id":2895686,"elapsed":2.5750487111508846e-06,"elapsed_instrumentation":6.656197365373373e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2895688,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14302300,"value":"au_3__{r_\u0006__^M__"}},{"id":2895689,"event":"return","thread_id":9160,"parent_id":2895688,"elapsed":6.025016773492098e-06,"elapsed_instrumentation":0.00013386196224018931,"return_value":{"class":"Array","value":"[1635102771, 38909, 31602, 48134, 35993, 1582148055]","object_id":14302320,"size":6}},{"id":2895690,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2895691,"event":"return","thread_id":9160,"parent_id":2895690,"elapsed":0.000464678,"elapsed_instrumentation":0.00017353397561237216},{"id":2895692,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14302340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2895693,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2895694,"event":"return","thread_id":9160,"parent_id":2895693,"elapsed":0.000349082,"elapsed_instrumentation":0.0001630219630897045},{"id":2895695,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2895696,"event":"return","thread_id":9160,"parent_id":2895695,"elapsed":0.00037339,"elapsed_instrumentation":7.20470561645925e-05},{"id":2895697,"event":"return","thread_id":9160,"parent_id":2895692,"elapsed":0.002303901012055576,"elapsed_instrumentation":0.0001476589823141694,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2895698,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2895699,"event":"return","thread_id":9160,"parent_id":2895698,"elapsed":0.00069374,"elapsed_instrumentation":7.087795529514551e-05},{"id":2895700,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14302340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2895701,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2895702,"event":"return","thread_id":9160,"parent_id":2895701,"elapsed":0.000656339,"elapsed_instrumentation":6.653601303696632e-05},{"id":2895703,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895704,"event":"return","thread_id":9160,"parent_id":2895703,"elapsed":0.000603515,"elapsed_instrumentation":6.765098078176379e-05},{"id":2895705,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14302360,"value":"#<Account:0x00007fc8e220f3c0>"}},{"id":2895706,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14302360,"value":"#<Account:0x00007fc8e220f3c0>"}},{"id":2895707,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439871703943, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2895708,"event":"return","thread_id":9160,"parent_id":2895707,"elapsed":0.000782507,"elapsed_instrumentation":6.704003317281604e-05},{"id":2895709,"event":"return","thread_id":9160,"parent_id":2895706,"elapsed":0.0012666499824263155,"elapsed_instrumentation":8.390104630962014e-05},{"id":2895710,"event":"return","thread_id":9160,"parent_id":2895705,"elapsed":0.0013751020305790007,"elapsed_instrumentation":0.00011397595517337322},{"id":2895711,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895712,"event":"return","thread_id":9160,"parent_id":2895711,"elapsed":0.000571978,"elapsed_instrumentation":6.791600026190281e-05},{"id":2895713,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14302380,"value":"#<Account:0x00007fc8e220e380>"}},{"id":2895714,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14302380,"value":"#<Account:0x00007fc8e220e380>"}},{"id":2895715,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439871703934, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2895716,"event":"return","thread_id":9160,"parent_id":2895715,"elapsed":0.000850929,"elapsed_instrumentation":6.993900751695037e-05},{"id":2895717,"event":"return","thread_id":9160,"parent_id":2895714,"elapsed":0.0014586470206268132,"elapsed_instrumentation":8.148705819621682e-05},{"id":2895718,"event":"return","thread_id":9160,"parent_id":2895713,"elapsed":0.0015617349999956787,"elapsed_instrumentation":0.00010119605576619506},{"id":2895719,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14302360,"value":"#<Account:0x00007fc8e220f3c0>"}},{"id":2895720,"event":"return","thread_id":9160,"parent_id":2895719,"elapsed":1.3879965990781784e-05,"elapsed_instrumentation":9.256700286641717e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895721,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14302380,"value":"#<Account:0x00007fc8e220e380>"}},{"id":2895722,"event":"return","thread_id":9160,"parent_id":2895721,"elapsed":7.0490059442818165e-06,"elapsed_instrumentation":6.517901783809066e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895723,"event":"return","thread_id":9160,"parent_id":2895700,"elapsed":0.009800867992453277,"elapsed_instrumentation":0.0001551570021547377,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2895724,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2895725,"event":"return","thread_id":9160,"parent_id":2895724,"elapsed":0.000641571,"elapsed_instrumentation":6.927800131961703e-05},{"id":2895726,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14302420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2895727,"event":"return","thread_id":9160,"parent_id":2895726,"elapsed":3.703986294567585e-06,"elapsed_instrumentation":0.00011121493298560381,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2895728,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14302420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2895729,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14302440,"value":"Cache delete: relationship:111361439871703943:111361439871703934\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2895730,"event":"return","thread_id":9160,"parent_id":2895729,"elapsed":0.0006364999571815133,"elapsed_instrumentation":0.00027024303562939167,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2895731,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14302460,"value":"Cache delete: relationship:111361439871703934:111361439871703943\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2895732,"event":"return","thread_id":9160,"parent_id":2895731,"elapsed":0.0008154719835147262,"elapsed_instrumentation":0.00013360200682654977,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2895733,"event":"return","thread_id":9160,"parent_id":2895728,"elapsed":0.00236772297648713,"elapsed_instrumentation":0.00010418699821457267,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2895734,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14302480,"value":"#<Account:0x00007fc8e21f4ed0>"}},{"id":2895735,"event":"return","thread_id":9160,"parent_id":2895734,"elapsed":1.3129960279911757e-05,"elapsed_instrumentation":8.491601329296827e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895736,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14302480,"value":"#<Account:0x00007fc8e21f4ed0>"}},{"id":2895737,"event":"return","thread_id":9160,"parent_id":2895736,"elapsed":4.536006599664688e-06,"elapsed_instrumentation":6.223202217370272e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895738,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301420,"value":"#<Account:0x00007fc8e21f5c90>"}},{"id":2895739,"event":"return","thread_id":9160,"parent_id":2895738,"elapsed":1.4405988622456789e-05,"elapsed_instrumentation":7.85730080679059e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895740,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14302500,"value":"{args=>[111361439871703934, 111361439871703943], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14302520,"value":"#<Sidekiq::Client:0x00007fc8e1d7faa8>"}},{"id":2895741,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14302540,"value":"r/\u0011_____\u0001__\u0013"}},{"id":2895742,"event":"return","thread_id":9160,"parent_id":2895741,"elapsed":5.727983079850674e-06,"elapsed_instrumentation":0.0008887969888746738,"return_value":{"class":"String","value":"722f11dc84d482ff01d8b113","object_id":14302560}},{"id":2895743,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14302580,"value":"[111361439871703934, 111361439871703943]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14302600,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1d7d050>"}},{"id":2895744,"event":"return","thread_id":9160,"parent_id":2895743,"elapsed":7.872004061937332e-06,"elapsed_instrumentation":0.0005872490000911057,"return_value":{"class":"String","value":"[111361439871703934,111361439871703943]","object_id":14302620}},{"id":2895745,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14302640,"value":"#<JSON::Ext::Parser:0x00007fc8e1d7c128>"}},{"id":2895746,"event":"return","thread_id":9160,"parent_id":2895745,"elapsed":6.2219914980232716e-06,"elapsed_instrumentation":0.00011698901653289795,"return_value":{"class":"Array","value":"[111361439871703934, 111361439871703943]","object_id":14302660,"size":2}},{"id":2895747,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14302680,"value":"_\u0010B\u001c______Z_"}},{"id":2895748,"event":"return","thread_id":9160,"parent_id":2895747,"elapsed":5.720008630305529e-06,"elapsed_instrumentation":0.00014878198271617293,"return_value":{"class":"String","value":"8c10421ce0cacaf49cc55a9f","object_id":14302700}},{"id":2895749,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14302720,"value":"{retry=>true, queue=>pull, args=>[111361439871703934, 111361439871703943], class=>UnmergeWorker, jid=>722f11dc84d482ff01d8b113, created_at=>1699240721.7574525, id=>8c10421ce0cacaf49cc55a9f}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14302740,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1d7a620>"}},{"id":2895750,"event":"return","thread_id":9160,"parent_id":2895749,"elapsed":1.680804416537285e-05,"elapsed_instrumentation":0.00039273500442504883,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439871703934,111361439871703943],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14302760}},{"id":2895751,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14302780,"value":"#<JSON::Ext::Parser:0x00007fc8e1d78370>"}},{"id":2895752,"event":"return","thread_id":9160,"parent_id":2895751,"elapsed":2.0429957658052444e-05,"elapsed_instrumentation":0.00019666599109768867,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439871703934, 111361439871703943], class=>UnmergeWorker, jid=>722f11dc84d482ff01d8b113, created_at=>1699240721.7574525, id=>8c10421ce0cacaf49cc55a9f}","object_id":14302800,"size":7}},{"id":2895753,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879743407869,"value":"111361439871703934","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14302820,"value":"#<UnmergeWorker:0x00007fc8e1d76318>"}},{"id":2895754,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14302820,"value":"#<UnmergeWorker:0x00007fc8e1d76318>"}},{"id":2895755,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895756,"event":"return","thread_id":9160,"parent_id":2895755,"elapsed":0.000873611,"elapsed_instrumentation":8.511100895702839e-05},{"id":2895757,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895758,"event":"return","thread_id":9160,"parent_id":2895757,"elapsed":0.000550175,"elapsed_instrumentation":9.884097380563617e-05},{"id":2895759,"event":"return","thread_id":9160,"parent_id":2895754,"elapsed":0.004077319987118244,"elapsed_instrumentation":0.000120357028208673,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e220cd00>","object_id":14302840}},{"id":2895760,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14302820,"value":"#<UnmergeWorker:0x00007fc8e1d76318>"}},{"id":2895761,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14302860,"value":"#<Account:0x00007fc8e220ce40>","kind":"req"},{"name":"into_account","class":"Account","object_id":14302840,"value":"#<Account:0x00007fc8e220cd00>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2895762,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2895763,"event":"return","thread_id":9160,"parent_id":2895762,"elapsed":6.112968549132347e-06,"elapsed_instrumentation":0.0001094670151360333,"return_value":{"class":"String","value":"feed:home:111361439871703943","object_id":14302880}},{"id":2895764,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2895765,"event":"return","thread_id":9160,"parent_id":2895764,"elapsed":6.638991180807352e-06,"elapsed_instrumentation":7.871200796216726e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2895766,"event":"return","thread_id":9160,"parent_id":2895761,"elapsed":0.004263565992005169,"elapsed_instrumentation":0.00015167600940912962},{"id":2895767,"event":"return","thread_id":9160,"parent_id":2895760,"elapsed":0.004459726973436773,"elapsed_instrumentation":0.0003187490510754287},{"id":2895768,"event":"return","thread_id":9160,"parent_id":2895753,"elapsed":0.00902659195708111,"elapsed_instrumentation":9.314605267718434e-05},{"id":2895769,"event":"return","thread_id":9160,"parent_id":2895740,"elapsed":0.011918884993065149,"elapsed_instrumentation":0.00021333101904019713,"return_value":{"class":"String","value":"722f11dc84d482ff01d8b113","object_id":14302560}},{"id":2895770,"event":"return","thread_id":9160,"parent_id":2895685,"elapsed":0.03424874704796821,"elapsed_instrumentation":0.0001652119681239128,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e220fdc0>","object_id":14302400}},{"id":2895771,"event":"return","thread_id":9160,"parent_id":2895684,"elapsed":0.03444055997533724,"elapsed_instrumentation":0.00017737899906933308,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e220fdc0>","object_id":14302400}},{"id":2895772,"event":"return","thread_id":9160,"parent_id":2895683,"elapsed":0.03465356596279889,"elapsed_instrumentation":0.00013128900900483131,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e220fdc0>","object_id":14302400}},{"id":2895773,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14302900,"value":"relationship:111361439871703935:111361439871703943","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14302920,"value":"#<UnfollowService:0x00007fc8e1152870>"}},{"id":2895774,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14302920,"value":"#<UnfollowService:0x00007fc8e1152870>"}},{"id":2895775,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14302940,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14302960,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2895776,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2895777,"event":"return","thread_id":9160,"parent_id":2895776,"elapsed":4.108005668967962e-06,"elapsed_instrumentation":0.0003648459678515792,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2895778,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14302980,"value":"MW__\u0004_\u0014_4*_____1"}},{"id":2895779,"event":"return","thread_id":9160,"parent_id":2895778,"elapsed":6.911985110491514e-06,"elapsed_instrumentation":0.0001515700132586062,"return_value":{"class":"Array","value":"[1297607092, 1209, 5258, 13354, 57017, 2262807857]","object_id":14303000,"size":6}},{"id":2895780,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2895781,"event":"return","thread_id":9160,"parent_id":2895780,"elapsed":0.000640204,"elapsed_instrumentation":8.75630066730082e-05},{"id":2895782,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14303020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2895783,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2895784,"event":"return","thread_id":9160,"parent_id":2895783,"elapsed":0.000436503,"elapsed_instrumentation":8.526496822014451e-05},{"id":2895785,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2895786,"event":"return","thread_id":9160,"parent_id":2895785,"elapsed":0.00067544,"elapsed_instrumentation":7.553101750090718e-05},{"id":2895787,"event":"return","thread_id":9160,"parent_id":2895782,"elapsed":0.0029995390214025974,"elapsed_instrumentation":0.00030158599838614464,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2895788,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2895789,"event":"return","thread_id":9160,"parent_id":2895788,"elapsed":0.000549821,"elapsed_instrumentation":0.0002506730379536748},{"id":2895790,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14303020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2895791,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2895792,"event":"return","thread_id":9160,"parent_id":2895791,"elapsed":0.000702168,"elapsed_instrumentation":7.277197437360883e-05},{"id":2895793,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895794,"event":"return","thread_id":9160,"parent_id":2895793,"elapsed":0.000540138,"elapsed_instrumentation":8.361396612599492e-05},{"id":2895795,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14303040,"value":"#<Account:0x00007fc8e220b7c0>"}},{"id":2895796,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14303040,"value":"#<Account:0x00007fc8e220b7c0>"}},{"id":2895797,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439871703943, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2895798,"event":"return","thread_id":9160,"parent_id":2895797,"elapsed":0.000878415,"elapsed_instrumentation":7.70269543863833e-05},{"id":2895799,"event":"return","thread_id":9160,"parent_id":2895796,"elapsed":0.001416867016814649,"elapsed_instrumentation":9.44390194490552e-05},{"id":2895800,"event":"return","thread_id":9160,"parent_id":2895795,"elapsed":0.0015378829557448626,"elapsed_instrumentation":0.00030236406018957496},{"id":2895801,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895802,"event":"return","thread_id":9160,"parent_id":2895801,"elapsed":0.000516099,"elapsed_instrumentation":7.296795956790447e-05},{"id":2895803,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14303060,"value":"#<Account:0x00007fc8e220a500>"}},{"id":2895804,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14303060,"value":"#<Account:0x00007fc8e220a500>"}},{"id":2895805,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439871703935, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2895806,"event":"return","thread_id":9160,"parent_id":2895805,"elapsed":0.000789221,"elapsed_instrumentation":7.248000474646688e-05},{"id":2895807,"event":"return","thread_id":9160,"parent_id":2895804,"elapsed":0.001255841983947903,"elapsed_instrumentation":0.0001032190048135817},{"id":2895808,"event":"return","thread_id":9160,"parent_id":2895803,"elapsed":0.0014592790394090116,"elapsed_instrumentation":0.00010360096348449588},{"id":2895809,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14303040,"value":"#<Account:0x00007fc8e220b7c0>"}},{"id":2895810,"event":"return","thread_id":9160,"parent_id":2895809,"elapsed":1.459300983697176e-05,"elapsed_instrumentation":8.926802547648549e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895811,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14303060,"value":"#<Account:0x00007fc8e220a500>"}},{"id":2895812,"event":"return","thread_id":9160,"parent_id":2895811,"elapsed":6.869027856737375e-06,"elapsed_instrumentation":6.311998004093766e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895813,"event":"return","thread_id":9160,"parent_id":2895790,"elapsed":0.011186614981852472,"elapsed_instrumentation":0.00016357202548533678,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2895814,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2895815,"event":"return","thread_id":9160,"parent_id":2895814,"elapsed":0.000428621,"elapsed_instrumentation":6.758701056241989e-05},{"id":2895816,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14303100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2895817,"event":"return","thread_id":9160,"parent_id":2895816,"elapsed":4.823028575628996e-06,"elapsed_instrumentation":0.00010801799362525344,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2895818,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14303100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2895819,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14303120,"value":"Cache delete: relationship:111361439871703943:111361439871703935\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2895820,"event":"return","thread_id":9160,"parent_id":2895819,"elapsed":0.0006243199459277093,"elapsed_instrumentation":0.00010435906006023288,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2895821,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14303140,"value":"Cache delete: relationship:111361439871703935:111361439871703943\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2895822,"event":"return","thread_id":9160,"parent_id":2895821,"elapsed":0.000568217015825212,"elapsed_instrumentation":0.00012502697063609958,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2895823,"event":"return","thread_id":9160,"parent_id":2895818,"elapsed":0.00169179099611938,"elapsed_instrumentation":0.00010393699631094933,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2895824,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14303160,"value":"#<Account:0x00007fc8e21f4d90>"}},{"id":2895825,"event":"return","thread_id":9160,"parent_id":2895824,"elapsed":1.2836011592298746e-05,"elapsed_instrumentation":8.383498061448336e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895826,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14303160,"value":"#<Account:0x00007fc8e21f4d90>"}},{"id":2895827,"event":"return","thread_id":9160,"parent_id":2895826,"elapsed":4.202011041343212e-06,"elapsed_instrumentation":6.005598697811365e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895828,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301420,"value":"#<Account:0x00007fc8e21f5c90>"}},{"id":2895829,"event":"return","thread_id":9160,"parent_id":2895828,"elapsed":3.7139980122447014e-06,"elapsed_instrumentation":5.659199086949229e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895830,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14303180,"value":"{args=>[111361439871703935, 111361439871703943], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14303200,"value":"#<Sidekiq::Client:0x00007fc8e1d525d0>"}},{"id":2895831,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14303220,"value":"_\u000f__v1\"_`__s"}},{"id":2895832,"event":"return","thread_id":9160,"parent_id":2895831,"elapsed":5.092006176710129e-06,"elapsed_instrumentation":0.0002283289795741439,"return_value":{"class":"String","value":"8d0fe6ce763122be60e5df73","object_id":14303240}},{"id":2895833,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14303260,"value":"[111361439871703935, 111361439871703943]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14303280,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1d50028>"}},{"id":2895834,"event":"return","thread_id":9160,"parent_id":2895833,"elapsed":5.999987479299307e-06,"elapsed_instrumentation":0.00042172701796516776,"return_value":{"class":"String","value":"[111361439871703935,111361439871703943]","object_id":14303300}},{"id":2895835,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14303320,"value":"#<JSON::Ext::Parser:0x00007fc8e1d1f158>"}},{"id":2895836,"event":"return","thread_id":9160,"parent_id":2895835,"elapsed":5.468027666211128e-06,"elapsed_instrumentation":0.00011245900532230735,"return_value":{"class":"Array","value":"[111361439871703935, 111361439871703943]","object_id":14303340,"size":2}},{"id":2895837,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14303360,"value":"\u000e_ __F___\bnC"}},{"id":2895838,"event":"return","thread_id":9160,"parent_id":2895837,"elapsed":3.972032573074102e-06,"elapsed_instrumentation":0.0003064500051550567,"return_value":{"class":"String","value":"0ec620f1c446dda4a7086e43","object_id":14303380}},{"id":2895839,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14303400,"value":"{retry=>true, queue=>pull, args=>[111361439871703935, 111361439871703943], class=>UnmergeWorker, jid=>8d0fe6ce763122be60e5df73, created_at=>1699240721.7928107, id=>0ec620f1c446dda4a7086e43}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14303420,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1d1d678>"}},{"id":2895840,"event":"return","thread_id":9160,"parent_id":2895839,"elapsed":0.00017405598191544414,"elapsed_instrumentation":0.000199010013602674,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439871703935,111361439871703943],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14303440}},{"id":2895841,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14303460,"value":"#<JSON::Ext::Parser:0x00007fc8e1d1b620>"}},{"id":2895842,"event":"return","thread_id":9160,"parent_id":2895841,"elapsed":2.0821986254304647e-05,"elapsed_instrumentation":0.00016656395746394992,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439871703935, 111361439871703943], class=>UnmergeWorker, jid=>8d0fe6ce763122be60e5df73, created_at=>1699240721.7928107, id=>0ec620f1c446dda4a7086e43}","object_id":14303480,"size":7}},{"id":2895843,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879743407871,"value":"111361439871703935","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14303500,"value":"#<UnmergeWorker:0x00007fc8e1d19640>"}},{"id":2895844,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14303500,"value":"#<UnmergeWorker:0x00007fc8e1d19640>"}},{"id":2895845,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14303520,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14303540,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2895846,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14303560,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14303580,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2895847,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2895848,"event":"return","thread_id":13276700,"parent_id":2895847,"elapsed":5.92600554227829e-06,"elapsed_instrumentation":6.624299567192793e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2895849,"event":"return","thread_id":13276700,"parent_id":2895846,"elapsed":9.02470201253891e-05,"elapsed_instrumentation":0.0001071849255822599,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2895850,"event":"return","thread_id":13276700,"parent_id":2895845,"elapsed":0.00021635997109115124,"elapsed_instrumentation":0.00016031705308705568,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2895851,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895852,"event":"return","thread_id":9160,"parent_id":2895851,"elapsed":0.000761339,"elapsed_instrumentation":0.00012997898738831282},{"id":2895853,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895854,"event":"return","thread_id":9160,"parent_id":2895853,"elapsed":0.000603368,"elapsed_instrumentation":7.56590161472559e-05},{"id":2895855,"event":"return","thread_id":9160,"parent_id":2895844,"elapsed":0.0038980579702183604,"elapsed_instrumentation":0.00012406002497300506,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e2207f80>","object_id":14303600}},{"id":2895856,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14303500,"value":"#<UnmergeWorker:0x00007fc8e1d19640>"}},{"id":2895857,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14303620,"value":"#<Account:0x00007fc8e22080c0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14303600,"value":"#<Account:0x00007fc8e2207f80>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2895858,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2895859,"event":"return","thread_id":9160,"parent_id":2895858,"elapsed":5.583977326750755e-06,"elapsed_instrumentation":0.00039207201916724443,"return_value":{"class":"String","value":"feed:home:111361439871703943","object_id":14303640}},{"id":2895860,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2895861,"event":"return","thread_id":9160,"parent_id":2895860,"elapsed":4.957953933626413e-06,"elapsed_instrumentation":0.00013247900642454624,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2895862,"event":"return","thread_id":9160,"parent_id":2895857,"elapsed":0.003713626996614039,"elapsed_instrumentation":0.00011669599916785955},{"id":2895863,"event":"return","thread_id":9160,"parent_id":2895856,"elapsed":0.003869544016197324,"elapsed_instrumentation":0.00010067602852359414},{"id":2895864,"event":"return","thread_id":9160,"parent_id":2895843,"elapsed":0.008043640991672873,"elapsed_instrumentation":7.648603059351444e-05},{"id":2895865,"event":"return","thread_id":9160,"parent_id":2895830,"elapsed":0.010684389970265329,"elapsed_instrumentation":0.00015895802062004805,"return_value":{"class":"String","value":"8d0fe6ce763122be60e5df73","object_id":14303240}},{"id":2895866,"event":"return","thread_id":9160,"parent_id":2895775,"elapsed":0.034114109992515296,"elapsed_instrumentation":0.0001378079759888351,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e220c080>","object_id":14303080}},{"id":2895867,"event":"return","thread_id":9160,"parent_id":2895774,"elapsed":0.03428043698659167,"elapsed_instrumentation":7.588701555505395e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e220c080>","object_id":14303080}},{"id":2895868,"event":"return","thread_id":9160,"parent_id":2895773,"elapsed":0.034387284016702324,"elapsed_instrumentation":0.0001344099873676896,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e220c080>","object_id":14303080}},{"id":2895869,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14303660,"value":"relationship:111361439871703936:111361439871703943","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14303680,"value":"#<UnfollowService:0x00007fc8e1169520>"}},{"id":2895870,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14303680,"value":"#<UnfollowService:0x00007fc8e1169520>"}},{"id":2895871,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14303700,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14303720,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2895872,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2895873,"event":"return","thread_id":9160,"parent_id":2895872,"elapsed":2.8889626264572144e-06,"elapsed_instrumentation":6.602104986086488e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2895874,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14303740,"value":"H\u0011_\u0006G(_\u000e_q____u_"}},{"id":2895875,"event":"return","thread_id":9160,"parent_id":2895874,"elapsed":6.1820028349757195e-06,"elapsed_instrumentation":0.00012845598394051194,"return_value":{"class":"Array","value":"[1209123590, 18216, 59150, 36465, 44999, 2195420618]","object_id":14303760,"size":6}},{"id":2895876,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2895877,"event":"return","thread_id":9160,"parent_id":2895876,"elapsed":0.000618802,"elapsed_instrumentation":0.00010232697241008282},{"id":2895878,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14303780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2895879,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2895880,"event":"return","thread_id":9160,"parent_id":2895879,"elapsed":0.000641869,"elapsed_instrumentation":0.00010633800411596894},{"id":2895881,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2895882,"event":"return","thread_id":9160,"parent_id":2895881,"elapsed":0.001931281,"elapsed_instrumentation":0.0001341580064035952},{"id":2895883,"event":"return","thread_id":9160,"parent_id":2895878,"elapsed":0.005095864995382726,"elapsed_instrumentation":0.0012658099876716733,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2895884,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2895885,"event":"return","thread_id":9160,"parent_id":2895884,"elapsed":0.001091115,"elapsed_instrumentation":0.00019126199185848236},{"id":2895886,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14303780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2895887,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2895888,"event":"return","thread_id":9160,"parent_id":2895887,"elapsed":0.000793727,"elapsed_instrumentation":0.00014038302469998598},{"id":2895889,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895890,"event":"return","thread_id":9160,"parent_id":2895889,"elapsed":0.000832554,"elapsed_instrumentation":0.00010820501483976841},{"id":2895891,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14303800,"value":"#<Account:0x00007fc8e2206a40>"}},{"id":2895892,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14303800,"value":"#<Account:0x00007fc8e2206a40>"}},{"id":2895893,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439871703943, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2895894,"event":"return","thread_id":9160,"parent_id":2895893,"elapsed":0.001166665,"elapsed_instrumentation":0.00010828999802470207},{"id":2895895,"event":"return","thread_id":9160,"parent_id":2895892,"elapsed":0.0020508840098045766,"elapsed_instrumentation":0.00012813700595870614},{"id":2895896,"event":"return","thread_id":9160,"parent_id":2895891,"elapsed":0.0022102409857325256,"elapsed_instrumentation":0.00019864499336108565},{"id":2895897,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895898,"event":"return","thread_id":9160,"parent_id":2895897,"elapsed":0.000657585,"elapsed_instrumentation":8.404400432482362e-05},{"id":2895899,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14303820,"value":"#<Account:0x00007fc8e2205b40>"}},{"id":2895900,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14303820,"value":"#<Account:0x00007fc8e2205b40>"}},{"id":2895901,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439871703936, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2895902,"event":"return","thread_id":9160,"parent_id":2895901,"elapsed":0.001156682,"elapsed_instrumentation":0.00012450100621208549},{"id":2895903,"event":"return","thread_id":9160,"parent_id":2895900,"elapsed":0.0024297170457430184,"elapsed_instrumentation":0.00010223599383607507},{"id":2895904,"event":"return","thread_id":9160,"parent_id":2895899,"elapsed":0.0025633450131863356,"elapsed_instrumentation":0.0001519179786555469},{"id":2895905,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14303800,"value":"#<Account:0x00007fc8e2206a40>"}},{"id":2895906,"event":"return","thread_id":9160,"parent_id":2895905,"elapsed":1.9279017578810453e-05,"elapsed_instrumentation":0.00015097000868991017,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895907,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14303820,"value":"#<Account:0x00007fc8e2205b40>"}},{"id":2895908,"event":"return","thread_id":9160,"parent_id":2895907,"elapsed":1.0121031664311886e-05,"elapsed_instrumentation":0.00010535097680985928,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895909,"event":"return","thread_id":9160,"parent_id":2895886,"elapsed":0.014140839979518205,"elapsed_instrumentation":0.0002821289817802608,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2895910,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2895911,"event":"return","thread_id":9160,"parent_id":2895910,"elapsed":0.000897999,"elapsed_instrumentation":8.81240121088922e-05},{"id":2895912,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14303860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2895913,"event":"return","thread_id":9160,"parent_id":2895912,"elapsed":6.1620376072824e-06,"elapsed_instrumentation":0.00018809095490723848,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2895914,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14303860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2895915,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14303880,"value":"Cache delete: relationship:111361439871703943:111361439871703936\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2895916,"event":"return","thread_id":9160,"parent_id":2895915,"elapsed":0.001546405954286456,"elapsed_instrumentation":0.0001369219971820712,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2895917,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14303900,"value":"Cache delete: relationship:111361439871703936:111361439871703943\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2895918,"event":"return","thread_id":9160,"parent_id":2895917,"elapsed":0.0008871319587342441,"elapsed_instrumentation":0.00018359703244641423,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2895919,"event":"return","thread_id":9160,"parent_id":2895914,"elapsed":0.0031187080312520266,"elapsed_instrumentation":0.00013069395208731294,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2895920,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14303920,"value":"#<Account:0x00007fc8e21f4c50>"}},{"id":2895921,"event":"return","thread_id":9160,"parent_id":2895920,"elapsed":1.7813988961279392e-05,"elapsed_instrumentation":9.90839907899499e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895922,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14303920,"value":"#<Account:0x00007fc8e21f4c50>"}},{"id":2895923,"event":"return","thread_id":9160,"parent_id":2895922,"elapsed":5.793990567326546e-06,"elapsed_instrumentation":8.421100210398436e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895924,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301420,"value":"#<Account:0x00007fc8e21f5c90>"}},{"id":2895925,"event":"return","thread_id":9160,"parent_id":2895924,"elapsed":4.199973773211241e-06,"elapsed_instrumentation":6.061501335352659e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895926,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14303940,"value":"{args=>[111361439871703936, 111361439871703943], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14303960,"value":"#<Sidekiq::Client:0x00007fc8e1cf24f0>"}},{"id":2895927,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14303980,"value":"_jR_Y_^_}l_%"}},{"id":2895928,"event":"return","thread_id":9160,"parent_id":2895927,"elapsed":4.710047505795956e-06,"elapsed_instrumentation":0.00011157500557601452,"return_value":{"class":"String","value":"b56a52bd59875e9e7d6c9525","object_id":14304000}},{"id":2895929,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14304020,"value":"[111361439871703936, 111361439871703943]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14304040,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1caff60>"}},{"id":2895930,"event":"return","thread_id":9160,"parent_id":2895929,"elapsed":7.365015335381031e-06,"elapsed_instrumentation":0.00014295399887487292,"return_value":{"class":"String","value":"[111361439871703936,111361439871703943]","object_id":14304060}},{"id":2895931,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14304080,"value":"#<JSON::Ext::Parser:0x00007fc8e1caefe8>"}},{"id":2895932,"event":"return","thread_id":9160,"parent_id":2895931,"elapsed":5.54998405277729e-06,"elapsed_instrumentation":8.091208292171359e-05,"return_value":{"class":"Array","value":"[111361439871703936, 111361439871703943]","object_id":14304100,"size":2}},{"id":2895933,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14304120,"value":"____@__\"___"}},{"id":2895934,"event":"return","thread_id":9160,"parent_id":2895933,"elapsed":4.922039806842804e-06,"elapsed_instrumentation":0.0007907499675638974,"return_value":{"class":"String","value":"8af58e7f8d40bf8f22e8c2d4","object_id":14304140}},{"id":2895935,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14304160,"value":"{retry=>true, queue=>pull, args=>[111361439871703936, 111361439871703943], class=>UnmergeWorker, jid=>b56a52bd59875e9e7d6c9525, created_at=>1699240721.836223, id=>8af58e7f8d40bf8f22e8c2d4}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14304180,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1cad300>"}},{"id":2895936,"event":"return","thread_id":9160,"parent_id":2895935,"elapsed":1.3486016541719437e-05,"elapsed_instrumentation":0.00020649901125580072,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439871703936,111361439871703943],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14304200}},{"id":2895937,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14304220,"value":"#<JSON::Ext::Parser:0x00007fc8e1caa9e8>"}},{"id":2895938,"event":"return","thread_id":9160,"parent_id":2895937,"elapsed":2.6730005629360676e-05,"elapsed_instrumentation":0.0004080390208400786,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439871703936, 111361439871703943], class=>UnmergeWorker, jid=>b56a52bd59875e9e7d6c9525, created_at=>1699240721.836223, id=>8af58e7f8d40bf8f22e8c2d4}","object_id":14304240,"size":7}},{"id":2895939,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879743407873,"value":"111361439871703936","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14304260,"value":"#<UnmergeWorker:0x00007fc8e1ca7f18>"}},{"id":2895940,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14304260,"value":"#<UnmergeWorker:0x00007fc8e1ca7f18>"}},{"id":2895941,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895942,"event":"return","thread_id":9160,"parent_id":2895941,"elapsed":0.000851752,"elapsed_instrumentation":0.00014702696353197098},{"id":2895943,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895944,"event":"return","thread_id":9160,"parent_id":2895943,"elapsed":0.000819527,"elapsed_instrumentation":0.00010118703357875347},{"id":2895945,"event":"return","thread_id":9160,"parent_id":2895940,"elapsed":0.00483602297026664,"elapsed_instrumentation":0.00014124996960163116,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e2204600>","object_id":14304280}},{"id":2895946,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14304260,"value":"#<UnmergeWorker:0x00007fc8e1ca7f18>"}},{"id":2895947,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14304300,"value":"#<Account:0x00007fc8e2204740>","kind":"req"},{"name":"into_account","class":"Account","object_id":14304280,"value":"#<Account:0x00007fc8e2204600>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2895948,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2895949,"event":"return","thread_id":9160,"parent_id":2895948,"elapsed":5.4229749366641045e-06,"elapsed_instrumentation":0.00011196703417226672,"return_value":{"class":"String","value":"feed:home:111361439871703943","object_id":14304320}},{"id":2895950,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2895951,"event":"return","thread_id":9160,"parent_id":2895950,"elapsed":4.892994184046984e-06,"elapsed_instrumentation":0.00018519797595217824,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2895952,"event":"return","thread_id":9160,"parent_id":2895947,"elapsed":0.0038522559916600585,"elapsed_instrumentation":0.00013207102892920375},{"id":2895953,"event":"return","thread_id":9160,"parent_id":2895946,"elapsed":0.004046910966280848,"elapsed_instrumentation":0.00013890501577407122},{"id":2895954,"event":"return","thread_id":9160,"parent_id":2895939,"elapsed":0.0092227470013313,"elapsed_instrumentation":8.951895870268345e-05},{"id":2895955,"event":"return","thread_id":9160,"parent_id":2895926,"elapsed":0.012311052007135004,"elapsed_instrumentation":0.00017603696323931217,"return_value":{"class":"String","value":"b56a52bd59875e9e7d6c9525","object_id":14304000}},{"id":2895956,"event":"return","thread_id":9160,"parent_id":2895871,"elapsed":0.04494248301489279,"elapsed_instrumentation":0.00015542499022558331,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e2207300>","object_id":14303840}},{"id":2895957,"event":"return","thread_id":9160,"parent_id":2895870,"elapsed":0.04512206098297611,"elapsed_instrumentation":7.885397644713521e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e2207300>","object_id":14303840}},{"id":2895958,"event":"return","thread_id":9160,"parent_id":2895869,"elapsed":0.045232022006530315,"elapsed_instrumentation":0.0001280750147998333,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e2207300>","object_id":14303840}},{"id":2895959,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14304340,"value":"relationship:111361439871703937:111361439871703943","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14304360,"value":"#<UnfollowService:0x00007fc8e1162360>"}},{"id":2895960,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14304360,"value":"#<UnfollowService:0x00007fc8e1162360>"}},{"id":2895961,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14304380,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14304400,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2895962,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2895963,"event":"return","thread_id":9160,"parent_id":2895962,"elapsed":3.502995241433382e-06,"elapsed_instrumentation":0.00027757801581174135,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2895964,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14304420,"value":"Bn\n_\u0015_[_MA~_\u000f___"}},{"id":2895965,"event":"return","thread_id":9160,"parent_id":2895964,"elapsed":8.905015420168638e-06,"elapsed_instrumentation":0.0001862070057541132,"return_value":{"class":"Array","value":"[1114507951, 5596, 23476, 19777, 32430, 264150948]","object_id":14304440,"size":6}},{"id":2895966,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2895967,"event":"return","thread_id":9160,"parent_id":2895966,"elapsed":0.0005453,"elapsed_instrumentation":0.00017256702994927764},{"id":2895968,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14304460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2895969,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2895970,"event":"return","thread_id":9160,"parent_id":2895969,"elapsed":0.000667123,"elapsed_instrumentation":0.00017132301582023501},{"id":2895971,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2895972,"event":"return","thread_id":9160,"parent_id":2895971,"elapsed":0.001636729,"elapsed_instrumentation":0.00011996395187452435},{"id":2895973,"event":"return","thread_id":9160,"parent_id":2895968,"elapsed":0.0044854130246676505,"elapsed_instrumentation":0.00019226002041250467,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2895974,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2895975,"event":"return","thread_id":9160,"parent_id":2895974,"elapsed":0.000743473,"elapsed_instrumentation":9.137403685599566e-05},{"id":2895976,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14304460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2895977,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2895978,"event":"return","thread_id":9160,"parent_id":2895977,"elapsed":0.000827134,"elapsed_instrumentation":0.00013555603800341487},{"id":2895979,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895980,"event":"return","thread_id":9160,"parent_id":2895979,"elapsed":0.000927483,"elapsed_instrumentation":0.00014889799058437347},{"id":2895981,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14304480,"value":"#<Account:0x00007fc8e22030c0>"}},{"id":2895982,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14304480,"value":"#<Account:0x00007fc8e22030c0>"}},{"id":2895983,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439871703943, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2895984,"event":"return","thread_id":9160,"parent_id":2895983,"elapsed":0.000959014,"elapsed_instrumentation":9.148503886535764e-05},{"id":2895985,"event":"return","thread_id":9160,"parent_id":2895982,"elapsed":0.0017748789978213608,"elapsed_instrumentation":9.411800419911742e-05},{"id":2895986,"event":"return","thread_id":9160,"parent_id":2895981,"elapsed":0.0018964629853144288,"elapsed_instrumentation":0.00014958693645894527},{"id":2895987,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2895988,"event":"return","thread_id":9160,"parent_id":2895987,"elapsed":0.000768317,"elapsed_instrumentation":9.518500883132219e-05},{"id":2895989,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14304500,"value":"#<Account:0x00007fc8e2202300>"}},{"id":2895990,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14304500,"value":"#<Account:0x00007fc8e2202300>"}},{"id":2895991,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439871703937, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2895992,"event":"return","thread_id":9160,"parent_id":2895991,"elapsed":0.001600451,"elapsed_instrumentation":0.00010084197856485844},{"id":2895993,"event":"return","thread_id":9160,"parent_id":2895990,"elapsed":0.002377233002334833,"elapsed_instrumentation":0.0002696349984034896},{"id":2895994,"event":"return","thread_id":9160,"parent_id":2895989,"elapsed":0.002696882002055645,"elapsed_instrumentation":0.00018114206613972783},{"id":2895995,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14304480,"value":"#<Account:0x00007fc8e22030c0>"}},{"id":2895996,"event":"return","thread_id":9160,"parent_id":2895995,"elapsed":1.7189013306051493e-05,"elapsed_instrumentation":0.0001352420076727867,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895997,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14304500,"value":"#<Account:0x00007fc8e2202300>"}},{"id":2895998,"event":"return","thread_id":9160,"parent_id":2895997,"elapsed":7.605995051562786e-06,"elapsed_instrumentation":7.009704131633043e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2895999,"event":"return","thread_id":9160,"parent_id":2895976,"elapsed":0.0146908939932473,"elapsed_instrumentation":0.00042727100662887096,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2896000,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896001,"event":"return","thread_id":9160,"parent_id":2896000,"elapsed":0.000379946,"elapsed_instrumentation":8.601095760241151e-05},{"id":2896002,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14304540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896003,"event":"return","thread_id":9160,"parent_id":2896002,"elapsed":7.367983926087618e-06,"elapsed_instrumentation":0.0002980140270665288,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2896004,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14304540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896005,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14304560,"value":"Cache delete: relationship:111361439871703943:111361439871703937\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896006,"event":"return","thread_id":9160,"parent_id":2896005,"elapsed":0.0008392510353587568,"elapsed_instrumentation":0.00014253996778279543,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896007,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14304580,"value":"Cache delete: relationship:111361439871703937:111361439871703943\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896008,"event":"return","thread_id":9160,"parent_id":2896007,"elapsed":0.0009376899688504636,"elapsed_instrumentation":0.00019156205235049129,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896009,"event":"return","thread_id":9160,"parent_id":2896004,"elapsed":0.0025010970421135426,"elapsed_instrumentation":0.0001930329599417746,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2896010,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14304600,"value":"#<Account:0x00007fc8e21f4b10>"}},{"id":2896011,"event":"return","thread_id":9160,"parent_id":2896010,"elapsed":4.115101182833314e-05,"elapsed_instrumentation":0.00017453497275710106,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896012,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14304600,"value":"#<Account:0x00007fc8e21f4b10>"}},{"id":2896013,"event":"return","thread_id":9160,"parent_id":2896012,"elapsed":4.47896309196949e-06,"elapsed_instrumentation":9.062502067536116e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896014,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301420,"value":"#<Account:0x00007fc8e21f5c90>"}},{"id":2896015,"event":"return","thread_id":9160,"parent_id":2896014,"elapsed":4.351022653281689e-06,"elapsed_instrumentation":6.190204294398427e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896016,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14304620,"value":"{args=>[111361439871703937, 111361439871703943], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14304640,"value":"#<Sidekiq::Client:0x00007fc8e1c81ed0>"}},{"id":2896017,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14304660,"value":"__\u0015__Y______"}},{"id":2896018,"event":"return","thread_id":9160,"parent_id":2896017,"elapsed":9.540992323309183e-06,"elapsed_instrumentation":0.0008252440020442009,"return_value":{"class":"String","value":"a59c15ff9759a28ca7da9dda","object_id":14304680}},{"id":2896019,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14304700,"value":"[111361439871703937, 111361439871703943]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14304720,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1c4f480>"}},{"id":2896020,"event":"return","thread_id":9160,"parent_id":2896019,"elapsed":7.520022336393595e-06,"elapsed_instrumentation":0.00014348200056701899,"return_value":{"class":"String","value":"[111361439871703937,111361439871703943]","object_id":14304740}},{"id":2896021,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14304760,"value":"#<JSON::Ext::Parser:0x00007fc8e1c4e6c0>"}},{"id":2896022,"event":"return","thread_id":9160,"parent_id":2896021,"elapsed":6.0400343500077724e-06,"elapsed_instrumentation":0.0002121669822372496,"return_value":{"class":"Array","value":"[111361439871703937, 111361439871703943]","object_id":14304780,"size":2}},{"id":2896023,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14304800,"value":"\u0016.__G_\u0007___\u0004&"}},{"id":2896024,"event":"return","thread_id":9160,"parent_id":2896023,"elapsed":3.4070108085870743e-06,"elapsed_instrumentation":0.0001001710188575089,"return_value":{"class":"String","value":"162ef4ac47b407a9d6a60426","object_id":14304820}},{"id":2896025,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14304840,"value":"{retry=>true, queue=>pull, args=>[111361439871703937, 111361439871703943], class=>UnmergeWorker, jid=>a59c15ff9759a28ca7da9dda, created_at=>1699240721.8803184, id=>162ef4ac47b407a9d6a60426}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14304860,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1c4c730>"}},{"id":2896026,"event":"return","thread_id":9160,"parent_id":2896025,"elapsed":1.2962031178176403e-05,"elapsed_instrumentation":0.00018854794325307012,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439871703937,111361439871703943],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14304880}},{"id":2896027,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14304900,"value":"#<JSON::Ext::Parser:0x00007fc8e1c49f58>"}},{"id":2896028,"event":"return","thread_id":9160,"parent_id":2896027,"elapsed":2.146599581465125e-05,"elapsed_instrumentation":0.00015911500668153167,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439871703937, 111361439871703943], class=>UnmergeWorker, jid=>a59c15ff9759a28ca7da9dda, created_at=>1699240721.8803184, id=>162ef4ac47b407a9d6a60426}","object_id":14304920,"size":7}},{"id":2896029,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879743407875,"value":"111361439871703937","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14304940,"value":"#<UnmergeWorker:0x00007fc8e1c47d48>"}},{"id":2896030,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14304940,"value":"#<UnmergeWorker:0x00007fc8e1c47d48>"}},{"id":2896031,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896032,"event":"return","thread_id":9160,"parent_id":2896031,"elapsed":0.000892297,"elapsed_instrumentation":9.625800885260105e-05},{"id":2896033,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896034,"event":"return","thread_id":9160,"parent_id":2896033,"elapsed":0.000663114,"elapsed_instrumentation":8.233601693063974e-05},{"id":2896035,"event":"return","thread_id":9160,"parent_id":2896030,"elapsed":0.004451614979188889,"elapsed_instrumentation":0.00011822197120636702,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e2200c80>","object_id":14304960}},{"id":2896036,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14304940,"value":"#<UnmergeWorker:0x00007fc8e1c47d48>"}},{"id":2896037,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14304980,"value":"#<Account:0x00007fc8e2200f00>","kind":"req"},{"name":"into_account","class":"Account","object_id":14304960,"value":"#<Account:0x00007fc8e2200c80>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896038,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896039,"event":"return","thread_id":9160,"parent_id":2896038,"elapsed":8.517003152519464e-06,"elapsed_instrumentation":0.00011396297486498952,"return_value":{"class":"String","value":"feed:home:111361439871703943","object_id":14305000}},{"id":2896040,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896041,"event":"return","thread_id":9160,"parent_id":2896040,"elapsed":4.414992872625589e-06,"elapsed_instrumentation":8.114695083349943e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2896042,"event":"return","thread_id":9160,"parent_id":2896037,"elapsed":0.0038036570185795426,"elapsed_instrumentation":0.00011260999599471688},{"id":2896043,"event":"return","thread_id":9160,"parent_id":2896036,"elapsed":0.003953756997361779,"elapsed_instrumentation":8.906197035685182e-05},{"id":2896044,"event":"return","thread_id":9160,"parent_id":2896029,"elapsed":0.008660895051434636,"elapsed_instrumentation":7.680495036765933e-05},{"id":2896045,"event":"return","thread_id":9160,"parent_id":2896016,"elapsed":0.010812719003297389,"elapsed_instrumentation":0.00017551094060763717,"return_value":{"class":"String","value":"a59c15ff9759a28ca7da9dda","object_id":14304680}},{"id":2896046,"event":"return","thread_id":9160,"parent_id":2895961,"elapsed":0.0411801669979468,"elapsed_instrumentation":0.00015410198830068111,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e2203980>","object_id":14304520}},{"id":2896047,"event":"return","thread_id":9160,"parent_id":2895960,"elapsed":0.04135755298193544,"elapsed_instrumentation":7.807498332113028e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e2203980>","object_id":14304520}},{"id":2896048,"event":"return","thread_id":9160,"parent_id":2895959,"elapsed":0.04146934702293947,"elapsed_instrumentation":0.0001484109670855105,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e2203980>","object_id":14304520}},{"id":2896049,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14305020,"value":"relationship:111361439871703938:111361439871703943","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14305040,"value":"#<UnfollowService:0x00007fc8e118af68>"}},{"id":2896050,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14305040,"value":"#<UnfollowService:0x00007fc8e118af68>"}},{"id":2896051,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14305060,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14305080,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896052,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896053,"event":"return","thread_id":9160,"parent_id":2896052,"elapsed":3.035005647689104e-06,"elapsed_instrumentation":8.610199438408017e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2896054,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14305100,"value":"p________*R_>x__"}},{"id":2896055,"event":"return","thread_id":9160,"parent_id":2896054,"elapsed":7.724971510469913e-06,"elapsed_instrumentation":0.0003411920042708516,"return_value":{"class":"Array","value":"[1890879690, 34751, 50866, 61994, 21133, 1048101312]","object_id":14305120,"size":6}},{"id":2896056,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896057,"event":"return","thread_id":9160,"parent_id":2896056,"elapsed":0.001018502,"elapsed_instrumentation":8.93160467967391e-05},{"id":2896058,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14305140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896059,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896060,"event":"return","thread_id":9160,"parent_id":2896059,"elapsed":0.000437667,"elapsed_instrumentation":8.258403977379203e-05},{"id":2896061,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14305160,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14305180,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2896062,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14305200,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14305220,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2896063,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2896064,"event":"return","thread_id":13276700,"parent_id":2896063,"elapsed":5.192996468394995e-06,"elapsed_instrumentation":6.518198642879725e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2896065,"event":"return","thread_id":13276700,"parent_id":2896062,"elapsed":8.871598402038217e-05,"elapsed_instrumentation":9.555701399222016e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2896066,"event":"return","thread_id":13276700,"parent_id":2896061,"elapsed":0.00020232703536748886,"elapsed_instrumentation":0.0001523479586467147,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2896067,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896068,"event":"return","thread_id":9160,"parent_id":2896067,"elapsed":0.000836548,"elapsed_instrumentation":7.836800068616867e-05},{"id":2896069,"event":"return","thread_id":9160,"parent_id":2896058,"elapsed":0.0028410450322553515,"elapsed_instrumentation":0.00018441694555804133,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2896070,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2896071,"event":"return","thread_id":9160,"parent_id":2896070,"elapsed":0.000558623,"elapsed_instrumentation":7.157697109505534e-05},{"id":2896072,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14305140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896073,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2896074,"event":"return","thread_id":9160,"parent_id":2896073,"elapsed":0.000551703,"elapsed_instrumentation":7.413700222969055e-05},{"id":2896075,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896076,"event":"return","thread_id":9160,"parent_id":2896075,"elapsed":0.000650244,"elapsed_instrumentation":8.193502435460687e-05},{"id":2896077,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14305240,"value":"#<Account:0x00007fc8e235f518>"}},{"id":2896078,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14305240,"value":"#<Account:0x00007fc8e235f518>"}},{"id":2896079,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439871703943, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896080,"event":"return","thread_id":9160,"parent_id":2896079,"elapsed":0.000814472,"elapsed_instrumentation":7.909798296168447e-05},{"id":2896081,"event":"return","thread_id":9160,"parent_id":2896078,"elapsed":0.0014988689799793065,"elapsed_instrumentation":9.156600572168827e-05},{"id":2896082,"event":"return","thread_id":9160,"parent_id":2896077,"elapsed":0.0016171550378203392,"elapsed_instrumentation":0.00013709499035030603},{"id":2896083,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896084,"event":"return","thread_id":9160,"parent_id":2896083,"elapsed":0.000751411,"elapsed_instrumentation":8.477503433823586e-05},{"id":2896085,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14305260,"value":"#<Account:0x00007fc8e235de98>"}},{"id":2896086,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14305260,"value":"#<Account:0x00007fc8e235de98>"}},{"id":2896087,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439871703938, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896088,"event":"return","thread_id":9160,"parent_id":2896087,"elapsed":0.001011641,"elapsed_instrumentation":7.620401447638869e-05},{"id":2896089,"event":"return","thread_id":9160,"parent_id":2896086,"elapsed":0.001693402009550482,"elapsed_instrumentation":9.255297482013702e-05},{"id":2896090,"event":"return","thread_id":9160,"parent_id":2896085,"elapsed":0.0018130690441466868,"elapsed_instrumentation":0.00013246096204966307},{"id":2896091,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14305240,"value":"#<Account:0x00007fc8e235f518>"}},{"id":2896092,"event":"return","thread_id":9160,"parent_id":2896091,"elapsed":1.536001218482852e-05,"elapsed_instrumentation":9.951996617019176e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896093,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14305260,"value":"#<Account:0x00007fc8e235de98>"}},{"id":2896094,"event":"return","thread_id":9160,"parent_id":2896093,"elapsed":6.727990694344044e-06,"elapsed_instrumentation":6.694102194160223e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896095,"event":"return","thread_id":9160,"parent_id":2896072,"elapsed":0.010979123006109148,"elapsed_instrumentation":0.00014138699043542147,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2896096,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896097,"event":"return","thread_id":9160,"parent_id":2896096,"elapsed":0.000348892,"elapsed_instrumentation":7.442198693752289e-05},{"id":2896098,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14305300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896099,"event":"return","thread_id":9160,"parent_id":2896098,"elapsed":3.6470009945333004e-06,"elapsed_instrumentation":0.00011686101788654923,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2896100,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14305300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896101,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14305320,"value":"Cache delete: relationship:111361439871703943:111361439871703938\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896102,"event":"return","thread_id":9160,"parent_id":2896101,"elapsed":0.0009785889997147024,"elapsed_instrumentation":0.0002481109695509076,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896103,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14305340,"value":"Cache delete: relationship:111361439871703938:111361439871703943\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896104,"event":"return","thread_id":9160,"parent_id":2896103,"elapsed":0.0006766439764760435,"elapsed_instrumentation":0.00017174403183162212,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896105,"event":"return","thread_id":9160,"parent_id":2896100,"elapsed":0.0027768589789047837,"elapsed_instrumentation":0.00010875100269913673,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2896106,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14305360,"value":"#<Account:0x00007fc8e21f49d0>"}},{"id":2896107,"event":"return","thread_id":9160,"parent_id":2896106,"elapsed":1.522403908893466e-05,"elapsed_instrumentation":9.082601172849536e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896108,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14305360,"value":"#<Account:0x00007fc8e21f49d0>"}},{"id":2896109,"event":"return","thread_id":9160,"parent_id":2896108,"elapsed":4.772969987243414e-06,"elapsed_instrumentation":7.68770114518702e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896110,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301420,"value":"#<Account:0x00007fc8e21f5c90>"}},{"id":2896111,"event":"return","thread_id":9160,"parent_id":2896110,"elapsed":4.441011697053909e-06,"elapsed_instrumentation":5.7143974117934704e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896112,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14305380,"value":"{args=>[111361439871703938, 111361439871703943], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14305400,"value":"#<Sidekiq::Client:0x00007fc8e1bcd458>"}},{"id":2896113,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14305420,"value":"_HYZ_P__&\u000b6f"}},{"id":2896114,"event":"return","thread_id":9160,"parent_id":2896113,"elapsed":6.665999535471201e-06,"elapsed_instrumentation":0.0005677870358340442,"return_value":{"class":"String","value":"f848595a9a50d8b4260b3666","object_id":14305440}},{"id":2896115,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14305460,"value":"[111361439871703938, 111361439871703943]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14305480,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1bc3a20>"}},{"id":2896116,"event":"return","thread_id":9160,"parent_id":2896115,"elapsed":6.0720485635101795e-06,"elapsed_instrumentation":0.00011719996109604836,"return_value":{"class":"String","value":"[111361439871703938,111361439871703943]","object_id":14305500}},{"id":2896117,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14305520,"value":"#<JSON::Ext::Parser:0x00007fc8e1bdfec8>"}},{"id":2896118,"event":"return","thread_id":9160,"parent_id":2896117,"elapsed":5.569017957895994e-06,"elapsed_instrumentation":7.555994670838118e-05,"return_value":{"class":"Array","value":"[111361439871703938, 111361439871703943]","object_id":14305540,"size":2}},{"id":2896119,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14305560,"value":"_.M__o___\u001a__"}},{"id":2896120,"event":"return","thread_id":9160,"parent_id":2896119,"elapsed":2.9249931685626507e-06,"elapsed_instrumentation":9.653996676206589e-05,"return_value":{"class":"String","value":"ac2e4dccd76f97f3f51a97f1","object_id":14305580}},{"id":2896121,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14305600,"value":"{retry=>true, queue=>pull, args=>[111361439871703938, 111361439871703943], class=>UnmergeWorker, jid=>f848595a9a50d8b4260b3666, created_at=>1699240721.915126, id=>ac2e4dccd76f97f3f51a97f1}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14305620,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1bdd678>"}},{"id":2896122,"event":"return","thread_id":9160,"parent_id":2896121,"elapsed":1.5768979210406542e-05,"elapsed_instrumentation":0.00039323000237345695,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439871703938,111361439871703943],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14305640}},{"id":2896123,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14305660,"value":"#<JSON::Ext::Parser:0x00007fc8e1bdaa18>"}},{"id":2896124,"event":"return","thread_id":9160,"parent_id":2896123,"elapsed":2.0226987544447184e-05,"elapsed_instrumentation":0.00016645400319248438,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439871703938, 111361439871703943], class=>UnmergeWorker, jid=>f848595a9a50d8b4260b3666, created_at=>1699240721.915126, id=>ac2e4dccd76f97f3f51a97f1}","object_id":14305680,"size":7}},{"id":2896125,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879743407877,"value":"111361439871703938","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14305700,"value":"#<UnmergeWorker:0x00007fc8e1bd8150>"}},{"id":2896126,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14305700,"value":"#<UnmergeWorker:0x00007fc8e1bd8150>"}},{"id":2896127,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896128,"event":"return","thread_id":9160,"parent_id":2896127,"elapsed":0.000669677,"elapsed_instrumentation":0.00019677897216752172},{"id":2896129,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896130,"event":"return","thread_id":9160,"parent_id":2896129,"elapsed":0.000610327,"elapsed_instrumentation":7.593497866764665e-05},{"id":2896131,"event":"return","thread_id":9160,"parent_id":2896126,"elapsed":0.003863504040054977,"elapsed_instrumentation":0.00010288495104759932,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e235c6d8>","object_id":14305720}},{"id":2896132,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14305700,"value":"#<UnmergeWorker:0x00007fc8e1bd8150>"}},{"id":2896133,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14305740,"value":"#<Account:0x00007fc8e235c958>","kind":"req"},{"name":"into_account","class":"Account","object_id":14305720,"value":"#<Account:0x00007fc8e235c6d8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896134,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896135,"event":"return","thread_id":9160,"parent_id":2896134,"elapsed":7.931957952678204e-06,"elapsed_instrumentation":0.0002007730072364211,"return_value":{"class":"String","value":"feed:home:111361439871703943","object_id":14305760}},{"id":2896136,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896137,"event":"return","thread_id":9160,"parent_id":2896136,"elapsed":4.938978236168623e-06,"elapsed_instrumentation":8.104206062853336e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2896138,"event":"return","thread_id":9160,"parent_id":2896133,"elapsed":0.004427265026606619,"elapsed_instrumentation":0.0001074010506272316},{"id":2896139,"event":"return","thread_id":9160,"parent_id":2896132,"elapsed":0.004569694050587714,"elapsed_instrumentation":7.806404028087854e-05},{"id":2896140,"event":"return","thread_id":9160,"parent_id":2896125,"elapsed":0.008657675993163139,"elapsed_instrumentation":8.077401435002685e-05},{"id":2896141,"event":"return","thread_id":9160,"parent_id":2896112,"elapsed":0.010543925978709012,"elapsed_instrumentation":0.00017205998301506042,"return_value":{"class":"String","value":"f848595a9a50d8b4260b3666","object_id":14305440}},{"id":2896142,"event":"return","thread_id":9160,"parent_id":2896051,"elapsed":0.03420829901006073,"elapsed_instrumentation":0.0001424810034222901,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e235fdd8>","object_id":14305280}},{"id":2896143,"event":"return","thread_id":9160,"parent_id":2896050,"elapsed":0.034373047994449735,"elapsed_instrumentation":7.695396197959781e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e235fdd8>","object_id":14305280}},{"id":2896144,"event":"return","thread_id":9160,"parent_id":2896049,"elapsed":0.034482365008443594,"elapsed_instrumentation":0.00013881106860935688,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e235fdd8>","object_id":14305280}},{"id":2896145,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14305780,"value":"relationship:111361439871703939:111361439871703943","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14305800,"value":"#<UnfollowService:0x00007fc8e1183cb8>"}},{"id":2896146,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14305800,"value":"#<UnfollowService:0x00007fc8e1183cb8>"}},{"id":2896147,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14305820,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14305840,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896148,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896149,"event":"return","thread_id":9160,"parent_id":2896148,"elapsed":2.4810433387756348e-06,"elapsed_instrumentation":6.816000677645206e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2896150,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14305860,"value":".4:O~K\u001fDd____R__"}},{"id":2896151,"event":"return","thread_id":9160,"parent_id":2896150,"elapsed":6.758025847375393e-06,"elapsed_instrumentation":0.0002813480095937848,"return_value":{"class":"Array","value":"[775174735, 32331, 8004, 25745, 50316, 2907872160]","object_id":14305880,"size":6}},{"id":2896152,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896153,"event":"return","thread_id":9160,"parent_id":2896152,"elapsed":0.000697907,"elapsed_instrumentation":9.33200353756547e-05},{"id":2896154,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14305900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896155,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896156,"event":"return","thread_id":9160,"parent_id":2896155,"elapsed":0.000361133,"elapsed_instrumentation":0.0002434399793855846},{"id":2896157,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896158,"event":"return","thread_id":9160,"parent_id":2896157,"elapsed":0.000395193,"elapsed_instrumentation":7.421599002555013e-05},{"id":2896159,"event":"return","thread_id":9160,"parent_id":2896154,"elapsed":0.0028586959815584123,"elapsed_instrumentation":0.00018476502737030387,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2896160,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2896161,"event":"return","thread_id":9160,"parent_id":2896160,"elapsed":0.00072729,"elapsed_instrumentation":7.118500070646405e-05},{"id":2896162,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14305900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896163,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2896164,"event":"return","thread_id":9160,"parent_id":2896163,"elapsed":0.000620507,"elapsed_instrumentation":6.974599091336131e-05},{"id":2896165,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896166,"event":"return","thread_id":9160,"parent_id":2896165,"elapsed":0.000680954,"elapsed_instrumentation":7.479998748749495e-05},{"id":2896167,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14305920,"value":"#<Account:0x00007fc8e235a018>"}},{"id":2896168,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14305920,"value":"#<Account:0x00007fc8e235a018>"}},{"id":2896169,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439871703943, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896170,"event":"return","thread_id":9160,"parent_id":2896169,"elapsed":0.001028519,"elapsed_instrumentation":7.671699859201908e-05},{"id":2896171,"event":"return","thread_id":9160,"parent_id":2896168,"elapsed":0.00198370503494516,"elapsed_instrumentation":9.732594480738044e-05},{"id":2896172,"event":"return","thread_id":9160,"parent_id":2896167,"elapsed":0.0021098500001244247,"elapsed_instrumentation":0.00014090200420469046},{"id":2896173,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896174,"event":"return","thread_id":9160,"parent_id":2896173,"elapsed":0.000524857,"elapsed_instrumentation":7.171399192884564e-05},{"id":2896175,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14305940,"value":"#<Account:0x00007fc8e2358d58>"}},{"id":2896176,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14305940,"value":"#<Account:0x00007fc8e2358d58>"}},{"id":2896177,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439871703939, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896178,"event":"return","thread_id":9160,"parent_id":2896177,"elapsed":0.000655529,"elapsed_instrumentation":0.00016235699877142906},{"id":2896179,"event":"return","thread_id":9160,"parent_id":2896176,"elapsed":0.0013534119934774935,"elapsed_instrumentation":8.556799730286002e-05},{"id":2896180,"event":"return","thread_id":9160,"parent_id":2896175,"elapsed":0.0014632079983130097,"elapsed_instrumentation":0.00012090301606804132},{"id":2896181,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14305920,"value":"#<Account:0x00007fc8e235a018>"}},{"id":2896182,"event":"return","thread_id":9160,"parent_id":2896181,"elapsed":1.5497964341193438e-05,"elapsed_instrumentation":9.29630477912724e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896183,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14305940,"value":"#<Account:0x00007fc8e2358d58>"}},{"id":2896184,"event":"return","thread_id":9160,"parent_id":2896183,"elapsed":6.704998668283224e-06,"elapsed_instrumentation":6.446696352213621e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896185,"event":"return","thread_id":9160,"parent_id":2896162,"elapsed":0.010853433981537819,"elapsed_instrumentation":0.00015498197171837091,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2896186,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896187,"event":"return","thread_id":9160,"parent_id":2896186,"elapsed":0.0004818,"elapsed_instrumentation":6.575300358235836e-05},{"id":2896188,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14305980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896189,"event":"return","thread_id":9160,"parent_id":2896188,"elapsed":4.208995960652828e-06,"elapsed_instrumentation":0.00013902503997087479,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2896190,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14305980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896191,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14306000,"value":"Cache delete: relationship:111361439871703943:111361439871703939\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896192,"event":"return","thread_id":9160,"parent_id":2896191,"elapsed":0.0006641169893555343,"elapsed_instrumentation":0.0001154410419985652,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896193,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14306020,"value":"Cache delete: relationship:111361439871703939:111361439871703943\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896194,"event":"return","thread_id":9160,"parent_id":2896193,"elapsed":0.000758398964535445,"elapsed_instrumentation":0.00013791403034701943,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896195,"event":"return","thread_id":9160,"parent_id":2896190,"elapsed":0.0019791980157606304,"elapsed_instrumentation":0.00010985101107507944,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2896196,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14306040,"value":"#<Account:0x00007fc8e21f4890>"}},{"id":2896197,"event":"return","thread_id":9160,"parent_id":2896196,"elapsed":1.7835001926869154e-05,"elapsed_instrumentation":9.363505523651838e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896198,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14306040,"value":"#<Account:0x00007fc8e21f4890>"}},{"id":2896199,"event":"return","thread_id":9160,"parent_id":2896198,"elapsed":7.989496225491166e-05,"elapsed_instrumentation":7.426500087603927e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896200,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301420,"value":"#<Account:0x00007fc8e21f5c90>"}},{"id":2896201,"event":"return","thread_id":9160,"parent_id":2896200,"elapsed":5.114998202770948e-06,"elapsed_instrumentation":7.378502050414681e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896202,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14306060,"value":"{args=>[111361439871703939, 111361439871703943], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14306080,"value":"#<Sidekiq::Client:0x00007fc8e1ae3ee8>"}},{"id":2896203,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14306100,"value":"_\bS__ \u000f\u0010__T_"}},{"id":2896204,"event":"return","thread_id":9160,"parent_id":2896203,"elapsed":4.264002200216055e-06,"elapsed_instrumentation":0.00011281296610832214,"return_value":{"class":"String","value":"880853d1d6200f1081be5483","object_id":14306120}},{"id":2896205,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14306140,"value":"[111361439871703939, 111361439871703943]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14306160,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1afc970>"}},{"id":2896206,"event":"return","thread_id":9160,"parent_id":2896205,"elapsed":7.221999112516642e-06,"elapsed_instrumentation":0.00010477600153535604,"return_value":{"class":"String","value":"[111361439871703939,111361439871703943]","object_id":14306180}},{"id":2896207,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14306200,"value":"#<JSON::Ext::Parser:0x00007fc8e1afaad0>"}},{"id":2896208,"event":"return","thread_id":9160,"parent_id":2896207,"elapsed":6.0140155255794525e-06,"elapsed_instrumentation":7.551000453531742e-05,"return_value":{"class":"Array","value":"[111361439871703939, 111361439871703943]","object_id":14306220,"size":2}},{"id":2896209,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14306240,"value":"&\u001b1\u0003\u0015w_,Kp__"}},{"id":2896210,"event":"return","thread_id":9160,"parent_id":2896209,"elapsed":4.985020495951176e-06,"elapsed_instrumentation":0.000277097977232188,"return_value":{"class":"String","value":"261b31031577e72c4b7082ec","object_id":14306260}},{"id":2896211,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14306280,"value":"{retry=>true, queue=>pull, args=>[111361439871703939, 111361439871703943], class=>UnmergeWorker, jid=>880853d1d6200f1081be5483, created_at=>1699240721.948192, id=>261b31031577e72c4b7082ec}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14306300,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1af7150>"}},{"id":2896212,"event":"return","thread_id":9160,"parent_id":2896211,"elapsed":1.6806996427476406e-05,"elapsed_instrumentation":0.00020129699259996414,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439871703939,111361439871703943],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14306320}},{"id":2896213,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14306340,"value":"#<JSON::Ext::Parser:0x00007fc8e1b0fc28>"}},{"id":2896214,"event":"return","thread_id":9160,"parent_id":2896213,"elapsed":2.250797115266323e-05,"elapsed_instrumentation":0.00016170099843293428,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439871703939, 111361439871703943], class=>UnmergeWorker, jid=>880853d1d6200f1081be5483, created_at=>1699240721.948192, id=>261b31031577e72c4b7082ec}","object_id":14306360,"size":7}},{"id":2896215,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879743407879,"value":"111361439871703939","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14306380,"value":"#<UnmergeWorker:0x00007fc8e1b057c8>"}},{"id":2896216,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14306380,"value":"#<UnmergeWorker:0x00007fc8e1b057c8>"}},{"id":2896217,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896218,"event":"return","thread_id":9160,"parent_id":2896217,"elapsed":0.000625838,"elapsed_instrumentation":0.0002255589934065938},{"id":2896219,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896220,"event":"return","thread_id":9160,"parent_id":2896219,"elapsed":0.000593144,"elapsed_instrumentation":8.291203994303942e-05},{"id":2896221,"event":"return","thread_id":9160,"parent_id":2896216,"elapsed":0.0040804879972711205,"elapsed_instrumentation":0.0001045769895426929,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e2357598>","object_id":14306400}},{"id":2896222,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14306380,"value":"#<UnmergeWorker:0x00007fc8e1b057c8>"}},{"id":2896223,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14306420,"value":"#<Account:0x00007fc8e23576d8>","kind":"req"},{"name":"into_account","class":"Account","object_id":14306400,"value":"#<Account:0x00007fc8e2357598>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896224,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896225,"event":"return","thread_id":9160,"parent_id":2896224,"elapsed":5.759997293353081e-06,"elapsed_instrumentation":0.00010466197272762656,"return_value":{"class":"String","value":"feed:home:111361439871703943","object_id":14306440}},{"id":2896226,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896227,"event":"return","thread_id":9160,"parent_id":2896226,"elapsed":4.763016477227211e-06,"elapsed_instrumentation":7.764197653159499e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2896228,"event":"return","thread_id":9160,"parent_id":2896223,"elapsed":0.004273225029464811,"elapsed_instrumentation":0.00011308200191706419},{"id":2896229,"event":"return","thread_id":9160,"parent_id":2896222,"elapsed":0.0044226389727555215,"elapsed_instrumentation":9.629206033423543e-05},{"id":2896230,"event":"return","thread_id":9160,"parent_id":2896215,"elapsed":0.008831237035337836,"elapsed_instrumentation":8.056091610342264e-05},{"id":2896231,"event":"return","thread_id":9160,"parent_id":2896202,"elapsed":0.01023078104481101,"elapsed_instrumentation":0.00017654499970376492,"return_value":{"class":"String","value":"880853d1d6200f1081be5483","object_id":14306120}},{"id":2896232,"event":"return","thread_id":9160,"parent_id":2896147,"elapsed":0.03280404198449105,"elapsed_instrumentation":0.00015715003246441483,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e235ac98>","object_id":14305960}},{"id":2896233,"event":"return","thread_id":9160,"parent_id":2896146,"elapsed":0.03298685100162402,"elapsed_instrumentation":8.098402759060264e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e235ac98>","object_id":14305960}},{"id":2896234,"event":"return","thread_id":9160,"parent_id":2896145,"elapsed":0.03310128103476018,"elapsed_instrumentation":0.0001501580118201673,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e235ac98>","object_id":14305960}},{"id":2896235,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14306460,"value":"relationship:111361439871703940:111361439871703943","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14306480,"value":"#<UnfollowService:0x00007fc8e119c5d8>"}},{"id":2896236,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14306480,"value":"#<UnfollowService:0x00007fc8e119c5d8>"}},{"id":2896237,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14306500,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14306520,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896238,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896239,"event":"return","thread_id":9160,"parent_id":2896238,"elapsed":3.4009572118520737e-06,"elapsed_instrumentation":6.686104461550713e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2896240,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14306540,"value":"\u001b8______f5*@\u000e___"}},{"id":2896241,"event":"return","thread_id":9160,"parent_id":2896240,"elapsed":8.615024853497744e-06,"elapsed_instrumentation":0.0002832160098478198,"return_value":{"class":"Array","value":"[456697537, 54177, 55949, 26165, 10816, 248286696]","object_id":14306560,"size":6}},{"id":2896242,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896243,"event":"return","thread_id":9160,"parent_id":2896242,"elapsed":0.000532735,"elapsed_instrumentation":9.042600868269801e-05},{"id":2896244,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14306580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896245,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896246,"event":"return","thread_id":9160,"parent_id":2896245,"elapsed":0.000463868,"elapsed_instrumentation":9.404699085280299e-05},{"id":2896247,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896248,"event":"return","thread_id":9160,"parent_id":2896247,"elapsed":0.000535779,"elapsed_instrumentation":7.87640456110239e-05},{"id":2896249,"event":"return","thread_id":9160,"parent_id":2896244,"elapsed":0.0029919539811089635,"elapsed_instrumentation":0.0001820980105549097,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2896250,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2896251,"event":"return","thread_id":9160,"parent_id":2896250,"elapsed":0.000607455,"elapsed_instrumentation":7.713498780503869e-05},{"id":2896252,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14306580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896253,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2896254,"event":"return","thread_id":9160,"parent_id":2896253,"elapsed":0.000937416,"elapsed_instrumentation":8.308695396408439e-05},{"id":2896255,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896256,"event":"return","thread_id":9160,"parent_id":2896255,"elapsed":0.000487201,"elapsed_instrumentation":7.31120235286653e-05},{"id":2896257,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14306600,"value":"#<Account:0x00007fc8e2355798>"}},{"id":2896258,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14306600,"value":"#<Account:0x00007fc8e2355798>"}},{"id":2896259,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439871703943, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896260,"event":"return","thread_id":9160,"parent_id":2896259,"elapsed":0.000860149,"elapsed_instrumentation":8.242204785346985e-05},{"id":2896261,"event":"return","thread_id":9160,"parent_id":2896258,"elapsed":0.0014128320035524666,"elapsed_instrumentation":0.00015963602345436811},{"id":2896262,"event":"return","thread_id":9160,"parent_id":2896257,"elapsed":0.0016025620279833674,"elapsed_instrumentation":0.00013382895849645138},{"id":2896263,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896264,"event":"return","thread_id":9160,"parent_id":2896263,"elapsed":0.000643567,"elapsed_instrumentation":7.291400106623769e-05},{"id":2896265,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14306620,"value":"#<Account:0x00007fc8e2354618>"}},{"id":2896266,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14306620,"value":"#<Account:0x00007fc8e2354618>"}},{"id":2896267,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439871703940, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896268,"event":"return","thread_id":9160,"parent_id":2896267,"elapsed":0.000684604,"elapsed_instrumentation":7.353501860052347e-05},{"id":2896269,"event":"return","thread_id":9160,"parent_id":2896266,"elapsed":0.0012387059978209436,"elapsed_instrumentation":8.349999552592635e-05},{"id":2896270,"event":"return","thread_id":9160,"parent_id":2896265,"elapsed":0.0013452909770421684,"elapsed_instrumentation":0.00011302594793960452},{"id":2896271,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14306600,"value":"#<Account:0x00007fc8e2355798>"}},{"id":2896272,"event":"return","thread_id":9160,"parent_id":2896271,"elapsed":1.577602233737707e-05,"elapsed_instrumentation":0.0001032829750329256,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896273,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14306620,"value":"#<Account:0x00007fc8e2354618>"}},{"id":2896274,"event":"return","thread_id":9160,"parent_id":2896273,"elapsed":6.969028618186712e-06,"elapsed_instrumentation":6.640900392085314e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896275,"event":"return","thread_id":9160,"parent_id":2896252,"elapsed":0.010277923021931201,"elapsed_instrumentation":0.00017979700351133943,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2896276,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896277,"event":"return","thread_id":9160,"parent_id":2896276,"elapsed":0.000433338,"elapsed_instrumentation":0.00011870398884639144},{"id":2896278,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14306660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896279,"event":"return","thread_id":9160,"parent_id":2896278,"elapsed":4.920002538710833e-06,"elapsed_instrumentation":0.0001168189337477088,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2896280,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14306660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896281,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14306680,"value":"Cache delete: relationship:111361439871703943:111361439871703940\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896282,"event":"return","thread_id":9160,"parent_id":2896281,"elapsed":0.0006534340209327638,"elapsed_instrumentation":0.0001139779924415052,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896283,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14306700,"value":"Cache delete: relationship:111361439871703940:111361439871703943\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896284,"event":"return","thread_id":9160,"parent_id":2896283,"elapsed":0.000576204969547689,"elapsed_instrumentation":0.0001300990697927773,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896285,"event":"return","thread_id":9160,"parent_id":2896280,"elapsed":0.0017512890044599771,"elapsed_instrumentation":0.00012010999489575624,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2896286,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14306720,"value":"#<Account:0x00007fc8e21f4610>"}},{"id":2896287,"event":"return","thread_id":9160,"parent_id":2896286,"elapsed":1.3767974451184273e-05,"elapsed_instrumentation":9.24590858630836e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896288,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14306720,"value":"#<Account:0x00007fc8e21f4610>"}},{"id":2896289,"event":"return","thread_id":9160,"parent_id":2896288,"elapsed":3.7329737097024918e-06,"elapsed_instrumentation":6.197899347171187e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896290,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301420,"value":"#<Account:0x00007fc8e21f5c90>"}},{"id":2896291,"event":"return","thread_id":9160,"parent_id":2896290,"elapsed":4.0539889596402645e-06,"elapsed_instrumentation":5.848903674632311e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896292,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14306740,"value":"{args=>[111361439871703940, 111361439871703943], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14306760,"value":"#<Sidekiq::Client:0x00007fc8e1a5c268>"}},{"id":2896293,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14306780,"value":"___\u001a_1______"}},{"id":2896294,"event":"return","thread_id":9160,"parent_id":2896293,"elapsed":4.3470063246786594e-06,"elapsed_instrumentation":0.00013739801943302155,"return_value":{"class":"String","value":"cfbde91acf31eb9b98efa39a","object_id":14306800}},{"id":2896295,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14306820,"value":"[111361439871703940, 111361439871703943]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14306840,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1a57948>"}},{"id":2896296,"event":"return","thread_id":9160,"parent_id":2896295,"elapsed":9.465962648391724e-06,"elapsed_instrumentation":0.00010486494284123182,"return_value":{"class":"String","value":"[111361439871703940,111361439871703943]","object_id":14306860}},{"id":2896297,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14306880,"value":"#<JSON::Ext::Parser:0x00007fc8e1a55bc0>"}},{"id":2896298,"event":"return","thread_id":9160,"parent_id":2896297,"elapsed":5.260051693767309e-06,"elapsed_instrumentation":7.520394865423441e-05,"return_value":{"class":"Array","value":"[111361439871703940, 111361439871703943]","object_id":14306900,"size":2}},{"id":2896299,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14306920,"value":"!xR\r]YX__*_q"}},{"id":2896300,"event":"return","thread_id":9160,"parent_id":2896299,"elapsed":3.016961272805929e-06,"elapsed_instrumentation":9.474897524341941e-05,"return_value":{"class":"String","value":"2178520d5d5958b3c82a9971","object_id":14306940}},{"id":2896301,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14306960,"value":"{retry=>true, queue=>pull, args=>[111361439871703940, 111361439871703943], class=>UnmergeWorker, jid=>cfbde91acf31eb9b98efa39a, created_at=>1699240721.980937, id=>2178520d5d5958b3c82a9971}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14306980,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1a520b0>"}},{"id":2896302,"event":"return","thread_id":9160,"parent_id":2896301,"elapsed":0.00010501197539269924,"elapsed_instrumentation":0.0005266119842417538,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439871703940,111361439871703943],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14307000}},{"id":2896303,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14307020,"value":"#<JSON::Ext::Parser:0x00007fc8e19ed8b8>"}},{"id":2896304,"event":"return","thread_id":9160,"parent_id":2896303,"elapsed":2.0319013856351376e-05,"elapsed_instrumentation":0.00017876597121357918,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439871703940, 111361439871703943], class=>UnmergeWorker, jid=>cfbde91acf31eb9b98efa39a, created_at=>1699240721.980937, id=>2178520d5d5958b3c82a9971}","object_id":14307040,"size":7}},{"id":2896305,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879743407881,"value":"111361439871703940","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14307060,"value":"#<UnmergeWorker:0x00007fc8e19e9ba0>"}},{"id":2896306,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14307060,"value":"#<UnmergeWorker:0x00007fc8e19e9ba0>"}},{"id":2896307,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896308,"event":"return","thread_id":9160,"parent_id":2896307,"elapsed":0.000546244,"elapsed_instrumentation":7.878901669755578e-05},{"id":2896309,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896310,"event":"return","thread_id":9160,"parent_id":2896309,"elapsed":0.000554214,"elapsed_instrumentation":6.832298822700977e-05},{"id":2896311,"event":"return","thread_id":9160,"parent_id":2896306,"elapsed":0.0034774739760905504,"elapsed_instrumentation":0.00010652298806235194,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e2352958>","object_id":14307080}},{"id":2896312,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14307060,"value":"#<UnmergeWorker:0x00007fc8e19e9ba0>"}},{"id":2896313,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14307100,"value":"#<Account:0x00007fc8e2352d18>","kind":"req"},{"name":"into_account","class":"Account","object_id":14307080,"value":"#<Account:0x00007fc8e2352958>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896314,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896315,"event":"return","thread_id":9160,"parent_id":2896314,"elapsed":5.927984602749348e-06,"elapsed_instrumentation":9.709404548630118e-05,"return_value":{"class":"String","value":"feed:home:111361439871703943","object_id":14307120}},{"id":2896316,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896317,"event":"return","thread_id":9160,"parent_id":2896316,"elapsed":4.475004971027374e-06,"elapsed_instrumentation":7.026299135759473e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2896318,"event":"return","thread_id":9160,"parent_id":2896313,"elapsed":0.003215620992705226,"elapsed_instrumentation":0.00010365701746195555},{"id":2896319,"event":"return","thread_id":9160,"parent_id":2896312,"elapsed":0.003352021041791886,"elapsed_instrumentation":7.612293120473623e-05},{"id":2896320,"event":"return","thread_id":9160,"parent_id":2896305,"elapsed":0.007055600988678634,"elapsed_instrumentation":7.866101805120707e-05},{"id":2896321,"event":"return","thread_id":9160,"parent_id":2896292,"elapsed":0.008769321953877807,"elapsed_instrumentation":0.00015888398047536612,"return_value":{"class":"String","value":"cfbde91acf31eb9b98efa39a","object_id":14306800}},{"id":2896322,"event":"return","thread_id":9160,"parent_id":2896237,"elapsed":0.030618285993114114,"elapsed_instrumentation":0.00015090598026290536,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e2356418>","object_id":14306640}},{"id":2896323,"event":"return","thread_id":9160,"parent_id":2896236,"elapsed":0.030793190002441406,"elapsed_instrumentation":8.074200013652444e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e2356418>","object_id":14306640}},{"id":2896324,"event":"return","thread_id":9160,"parent_id":2896235,"elapsed":0.030908367014490068,"elapsed_instrumentation":0.00014702300541102886,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e2356418>","object_id":14306640}},{"id":2896325,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14307140,"value":"relationship:111361439871703941:111361439871703943","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14307160,"value":"#<UnfollowService:0x00007fc8e11aa2f0>"}},{"id":2896326,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14307160,"value":"#<UnfollowService:0x00007fc8e11aa2f0>"}},{"id":2896327,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14307180,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14307200,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896328,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896329,"event":"return","thread_id":9160,"parent_id":2896328,"elapsed":2.6690540835261345e-06,"elapsed_instrumentation":6.524298805743456e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2896330,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14307220,"value":"_\u000fP__x\u001e_o_____!\u0005"}},{"id":2896331,"event":"return","thread_id":9160,"parent_id":2896330,"elapsed":8.277012966573238e-06,"elapsed_instrumentation":0.00015480699948966503,"return_value":{"class":"Array","value":"[2198818971, 50552, 7775, 28646, 63191, 4259258629]","object_id":14307240,"size":6}},{"id":2896332,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896333,"event":"return","thread_id":9160,"parent_id":2896332,"elapsed":0.000777121,"elapsed_instrumentation":8.963700383901596e-05},{"id":2896334,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14307260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896335,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896336,"event":"return","thread_id":9160,"parent_id":2896335,"elapsed":0.000410615,"elapsed_instrumentation":7.817801088094711e-05},{"id":2896337,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896338,"event":"return","thread_id":9160,"parent_id":2896337,"elapsed":0.000349482,"elapsed_instrumentation":6.45300024189055e-05},{"id":2896339,"event":"return","thread_id":9160,"parent_id":2896334,"elapsed":0.0024257960030809045,"elapsed_instrumentation":0.00016432901611551642,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2896340,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2896341,"event":"return","thread_id":9160,"parent_id":2896340,"elapsed":0.000563137,"elapsed_instrumentation":6.90569868311286e-05},{"id":2896342,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14307260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896343,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14307280,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14307300,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2896344,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14307320,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14307340,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2896345,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2896346,"event":"return","thread_id":13276700,"parent_id":2896345,"elapsed":5.2559771575033665e-06,"elapsed_instrumentation":6.49510184302926e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2896347,"event":"return","thread_id":13276700,"parent_id":2896344,"elapsed":8.883600821718574e-05,"elapsed_instrumentation":9.230902651324868e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2896348,"event":"return","thread_id":13276700,"parent_id":2896343,"elapsed":0.00019938102923333645,"elapsed_instrumentation":0.000145238998811692,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2896349,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2896350,"event":"return","thread_id":9160,"parent_id":2896349,"elapsed":0.000663475,"elapsed_instrumentation":6.20400533080101e-05},{"id":2896351,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896352,"event":"return","thread_id":9160,"parent_id":2896351,"elapsed":0.000539621,"elapsed_instrumentation":6.89930166117847e-05},{"id":2896353,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14307360,"value":"#<Account:0x00007fc8e23512d8>"}},{"id":2896354,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14307360,"value":"#<Account:0x00007fc8e23512d8>"}},{"id":2896355,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439871703943, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896356,"event":"return","thread_id":9160,"parent_id":2896355,"elapsed":0.000735545,"elapsed_instrumentation":6.625999230891466e-05},{"id":2896357,"event":"return","thread_id":9160,"parent_id":2896354,"elapsed":0.0012055429979227483,"elapsed_instrumentation":8.062197593972087e-05},{"id":2896358,"event":"return","thread_id":9160,"parent_id":2896353,"elapsed":0.0013102199882268906,"elapsed_instrumentation":0.0001052209991030395},{"id":2896359,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896360,"event":"return","thread_id":9160,"parent_id":2896359,"elapsed":0.000493496,"elapsed_instrumentation":0.00019051303388550878},{"id":2896361,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14307380,"value":"#<Account:0x00007fc8e2350518>"}},{"id":2896362,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14307380,"value":"#<Account:0x00007fc8e2350518>"}},{"id":2896363,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439871703941, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896364,"event":"return","thread_id":9160,"parent_id":2896363,"elapsed":0.000778786,"elapsed_instrumentation":7.791799725964665e-05},{"id":2896365,"event":"return","thread_id":9160,"parent_id":2896362,"elapsed":0.0013179749948903918,"elapsed_instrumentation":8.142500882968307e-05},{"id":2896366,"event":"return","thread_id":9160,"parent_id":2896361,"elapsed":0.001421155990101397,"elapsed_instrumentation":0.00010348297655582428},{"id":2896367,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14307360,"value":"#<Account:0x00007fc8e23512d8>"}},{"id":2896368,"event":"return","thread_id":9160,"parent_id":2896367,"elapsed":1.5193014405667782e-05,"elapsed_instrumentation":0.00010303396265953779,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896369,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14307380,"value":"#<Account:0x00007fc8e2350518>"}},{"id":2896370,"event":"return","thread_id":9160,"parent_id":2896369,"elapsed":8.05080053396523e-05,"elapsed_instrumentation":0.00011967692989856005,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896371,"event":"return","thread_id":9160,"parent_id":2896342,"elapsed":0.009075665031559765,"elapsed_instrumentation":0.00016696099191904068,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2896372,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896373,"event":"return","thread_id":9160,"parent_id":2896372,"elapsed":0.000463116,"elapsed_instrumentation":7.657200330868363e-05},{"id":2896374,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14307420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896375,"event":"return","thread_id":9160,"parent_id":2896374,"elapsed":4.359986633062363e-06,"elapsed_instrumentation":0.00044769898522645235,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2896376,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14307420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896377,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14307440,"value":"Cache delete: relationship:111361439871703943:111361439871703941\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896378,"event":"return","thread_id":9160,"parent_id":2896377,"elapsed":0.0006542920018546283,"elapsed_instrumentation":0.000124612997751683,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896379,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14307460,"value":"Cache delete: relationship:111361439871703941:111361439871703943\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896380,"event":"return","thread_id":9160,"parent_id":2896379,"elapsed":0.0004983200342394412,"elapsed_instrumentation":0.00012995104771107435,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896381,"event":"return","thread_id":9160,"parent_id":2896376,"elapsed":0.001689511991571635,"elapsed_instrumentation":0.00012566696386784315,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2896382,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14307480,"value":"#<Account:0x00007fc8e21f44d0>"}},{"id":2896383,"event":"return","thread_id":9160,"parent_id":2896382,"elapsed":1.5206052921712399e-05,"elapsed_instrumentation":0.00010439899051561952,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896384,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14307480,"value":"#<Account:0x00007fc8e21f44d0>"}},{"id":2896385,"event":"return","thread_id":9160,"parent_id":2896384,"elapsed":3.802997525781393e-06,"elapsed_instrumentation":6.185495294630527e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896386,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301420,"value":"#<Account:0x00007fc8e21f5c90>"}},{"id":2896387,"event":"return","thread_id":9160,"parent_id":2896386,"elapsed":3.836001269519329e-06,"elapsed_instrumentation":5.664594937115908e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896388,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14307500,"value":"{args=>[111361439871703941, 111361439871703943], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14307520,"value":"#<Sidekiq::Client:0x00007fc8e1963820>"}},{"id":2896389,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14307540,"value":"___0___)__\u0001_"}},{"id":2896390,"event":"return","thread_id":9160,"parent_id":2896389,"elapsed":4.6450295485556126e-06,"elapsed_instrumentation":0.00019003200577571988,"return_value":{"class":"String","value":"aaebf030e5f0f729d0b401eb","object_id":14307560}},{"id":2896391,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14307580,"value":"[111361439871703941, 111361439871703943]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14307600,"value":"#<JSON::Ext::Generator::State:0x00007fc8e197ef80>"}},{"id":2896392,"event":"return","thread_id":9160,"parent_id":2896391,"elapsed":5.937996320426464e-06,"elapsed_instrumentation":0.00010519509669393301,"return_value":{"class":"String","value":"[111361439871703941,111361439871703943]","object_id":14307620}},{"id":2896393,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14307640,"value":"#<JSON::Ext::Parser:0x00007fc8e197e080>"}},{"id":2896394,"event":"return","thread_id":9160,"parent_id":2896393,"elapsed":6.110989488661289e-06,"elapsed_instrumentation":0.00010021799243986607,"return_value":{"class":"Array","value":"[111361439871703941, 111361439871703943]","object_id":14307660,"size":2}},{"id":2896395,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14307680,"value":"__%\\\u0013N_~\u001f_,"}},{"id":2896396,"event":"return","thread_id":9160,"parent_id":2896395,"elapsed":3.611959982663393e-06,"elapsed_instrumentation":0.0001012680004350841,"return_value":{"class":"String","value":"f2ae255c134e9c7f7e1fb92c","object_id":14307700}},{"id":2896397,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14307720,"value":"{retry=>true, queue=>pull, args=>[111361439871703941, 111361439871703943], class=>UnmergeWorker, jid=>aaebf030e5f0f729d0b401eb, created_at=>1699240722.0104287, id=>f2ae255c134e9c7f7e1fb92c}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14307740,"value":"#<JSON::Ext::Generator::State:0x00007fc8e197c348>"}},{"id":2896398,"event":"return","thread_id":9160,"parent_id":2896397,"elapsed":1.4749995898455381e-05,"elapsed_instrumentation":0.00017842004308477044,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439871703941,111361439871703943],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14307760}},{"id":2896399,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14307780,"value":"#<JSON::Ext::Parser:0x00007fc8e1979bc0>"}},{"id":2896400,"event":"return","thread_id":9160,"parent_id":2896399,"elapsed":2.0665000192821026e-05,"elapsed_instrumentation":0.00014764198567718267,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439871703941, 111361439871703943], class=>UnmergeWorker, jid=>aaebf030e5f0f729d0b401eb, created_at=>1699240722.0104287, id=>f2ae255c134e9c7f7e1fb92c}","object_id":14307800,"size":7}},{"id":2896401,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879743407883,"value":"111361439871703941","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14307820,"value":"#<UnmergeWorker:0x00007fc8e1977af0>"}},{"id":2896402,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14307820,"value":"#<UnmergeWorker:0x00007fc8e1977af0>"}},{"id":2896403,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896404,"event":"return","thread_id":9160,"parent_id":2896403,"elapsed":0.000531606,"elapsed_instrumentation":8.611998055130243e-05},{"id":2896405,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896406,"event":"return","thread_id":9160,"parent_id":2896405,"elapsed":0.000537994,"elapsed_instrumentation":9.319401578977704e-05},{"id":2896407,"event":"return","thread_id":9160,"parent_id":2896402,"elapsed":0.0034758379915729165,"elapsed_instrumentation":0.00010697299148887396,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e25fe8a0>","object_id":14307840}},{"id":2896408,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14307820,"value":"#<UnmergeWorker:0x00007fc8e1977af0>"}},{"id":2896409,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14307860,"value":"#<Account:0x00007fc8e25fe9e0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14307840,"value":"#<Account:0x00007fc8e25fe8a0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896410,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896411,"event":"return","thread_id":9160,"parent_id":2896410,"elapsed":6.404006853699684e-06,"elapsed_instrumentation":0.00013005599612370133,"return_value":{"class":"String","value":"feed:home:111361439871703943","object_id":14307880}},{"id":2896412,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896413,"event":"return","thread_id":9160,"parent_id":2896412,"elapsed":4.661967977881432e-06,"elapsed_instrumentation":7.689907215535641e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2896414,"event":"return","thread_id":9160,"parent_id":2896409,"elapsed":0.0032862870139069855,"elapsed_instrumentation":0.00010194495553150773},{"id":2896415,"event":"return","thread_id":9160,"parent_id":2896408,"elapsed":0.0034195620100945234,"elapsed_instrumentation":8.492101915180683e-05},{"id":2896416,"event":"return","thread_id":9160,"parent_id":2896401,"elapsed":0.007131688995286822,"elapsed_instrumentation":7.41480034776032e-05},{"id":2896417,"event":"return","thread_id":9160,"parent_id":2896388,"elapsed":0.008453296963125467,"elapsed_instrumentation":0.00015387305757030845,"return_value":{"class":"String","value":"aaebf030e5f0f729d0b401eb","object_id":14307560}},{"id":2896418,"event":"return","thread_id":9160,"parent_id":2896327,"elapsed":0.02852819603867829,"elapsed_instrumentation":0.00014843500684946775,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e2351e18>","object_id":14307400}},{"id":2896419,"event":"return","thread_id":9160,"parent_id":2896326,"elapsed":0.02869884902611375,"elapsed_instrumentation":7.944100070744753e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e2351e18>","object_id":14307400}},{"id":2896420,"event":"return","thread_id":9160,"parent_id":2896325,"elapsed":0.028812384989578277,"elapsed_instrumentation":0.00013954000314697623,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e2351e18>","object_id":14307400}},{"id":2896421,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14307900,"value":"relationship:111361439871703942:111361439871703943","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14307920,"value":"#<UnfollowService:0x00007fc8e11a30e0>"}},{"id":2896422,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14307920,"value":"#<UnfollowService:0x00007fc8e11a30e0>"}},{"id":2896423,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14307940,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14307960,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896424,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896425,"event":"return","thread_id":9160,"parent_id":2896424,"elapsed":3.0939700081944466e-06,"elapsed_instrumentation":0.00014279800234362483,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2896426,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14307980,"value":"%6tg@_Q_\nSbiUD_\b"}},{"id":2896427,"event":"return","thread_id":9160,"parent_id":2896426,"elapsed":6.332993507385254e-06,"elapsed_instrumentation":0.00018215901218354702,"return_value":{"class":"Array","value":"[624325735, 16595, 20871, 2643, 25193, 1430573576]","object_id":14308000,"size":6}},{"id":2896428,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896429,"event":"return","thread_id":9160,"parent_id":2896428,"elapsed":0.000350646,"elapsed_instrumentation":7.157999789342284e-05},{"id":2896430,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14308020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896431,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896432,"event":"return","thread_id":9160,"parent_id":2896431,"elapsed":0.000377149,"elapsed_instrumentation":7.834500866010785e-05},{"id":2896433,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896434,"event":"return","thread_id":9160,"parent_id":2896433,"elapsed":0.000299365,"elapsed_instrumentation":6.328901508823037e-05},{"id":2896435,"event":"return","thread_id":9160,"parent_id":2896430,"elapsed":0.0021700530196540058,"elapsed_instrumentation":0.000150390958879143,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2896436,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2896437,"event":"return","thread_id":9160,"parent_id":2896436,"elapsed":0.000493226,"elapsed_instrumentation":6.217998452484608e-05},{"id":2896438,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14308020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896439,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2896440,"event":"return","thread_id":9160,"parent_id":2896439,"elapsed":0.00056272,"elapsed_instrumentation":6.731797475367785e-05},{"id":2896441,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896442,"event":"return","thread_id":9160,"parent_id":2896441,"elapsed":0.000460618,"elapsed_instrumentation":8.797901682555676e-05},{"id":2896443,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14308040,"value":"#<Account:0x00007fc8e25fcfa0>"}},{"id":2896444,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14308040,"value":"#<Account:0x00007fc8e25fcfa0>"}},{"id":2896445,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439871703943, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896446,"event":"return","thread_id":9160,"parent_id":2896445,"elapsed":0.000806489,"elapsed_instrumentation":6.270100129768252e-05},{"id":2896447,"event":"return","thread_id":9160,"parent_id":2896444,"elapsed":0.0012905830517411232,"elapsed_instrumentation":0.00039898697286844254},{"id":2896448,"event":"return","thread_id":9160,"parent_id":2896443,"elapsed":0.0017155400128103793,"elapsed_instrumentation":0.00010335998376831412},{"id":2896449,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896450,"event":"return","thread_id":9160,"parent_id":2896449,"elapsed":0.00043795,"elapsed_instrumentation":0.0001881299540400505},{"id":2896451,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14308060,"value":"#<Account:0x00007fc8e25fbce0>"}},{"id":2896452,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14308060,"value":"#<Account:0x00007fc8e25fbce0>"}},{"id":2896453,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439871703942, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896454,"event":"return","thread_id":9160,"parent_id":2896453,"elapsed":0.000597594,"elapsed_instrumentation":0.0001483919913880527},{"id":2896455,"event":"return","thread_id":9160,"parent_id":2896452,"elapsed":0.0011982620344497263,"elapsed_instrumentation":8.243095362558961e-05},{"id":2896456,"event":"return","thread_id":9160,"parent_id":2896451,"elapsed":0.0013023610226809978,"elapsed_instrumentation":0.0001019119517877698},{"id":2896457,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14308040,"value":"#<Account:0x00007fc8e25fcfa0>"}},{"id":2896458,"event":"return","thread_id":9160,"parent_id":2896457,"elapsed":1.3811979442834854e-05,"elapsed_instrumentation":9.320501703768969e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896459,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14308060,"value":"#<Account:0x00007fc8e25fbce0>"}},{"id":2896460,"event":"return","thread_id":9160,"parent_id":2896459,"elapsed":7.501046638935804e-06,"elapsed_instrumentation":6.635498721152544e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896461,"event":"return","thread_id":9160,"parent_id":2896438,"elapsed":0.009059955016709864,"elapsed_instrumentation":0.00014226097846403718,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2896462,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896463,"event":"return","thread_id":9160,"parent_id":2896462,"elapsed":0.000481905,"elapsed_instrumentation":6.894697435200214e-05},{"id":2896464,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14308100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896465,"event":"return","thread_id":9160,"parent_id":2896464,"elapsed":4.021043423563242e-06,"elapsed_instrumentation":0.00011257297592237592,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2896466,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14308100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896467,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14308120,"value":"Cache delete: relationship:111361439871703943:111361439871703942\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896468,"event":"return","thread_id":9160,"parent_id":2896467,"elapsed":0.0006034729885868728,"elapsed_instrumentation":0.0001105130068026483,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896469,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14308140,"value":"Cache delete: relationship:111361439871703942:111361439871703943\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896470,"event":"return","thread_id":9160,"parent_id":2896469,"elapsed":0.000567501992918551,"elapsed_instrumentation":0.00012678897473961115,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896471,"event":"return","thread_id":9160,"parent_id":2896466,"elapsed":0.0016843460034579039,"elapsed_instrumentation":0.00010391598334535956,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2896472,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14308160,"value":"#<Account:0x00007fc8e21f4250>"}},{"id":2896473,"event":"return","thread_id":9160,"parent_id":2896472,"elapsed":1.3532000593841076e-05,"elapsed_instrumentation":8.552998770028353e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896474,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14308160,"value":"#<Account:0x00007fc8e21f4250>"}},{"id":2896475,"event":"return","thread_id":9160,"parent_id":2896474,"elapsed":4.119006916880608e-06,"elapsed_instrumentation":6.119004683569074e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896476,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14301420,"value":"#<Account:0x00007fc8e21f5c90>"}},{"id":2896477,"event":"return","thread_id":9160,"parent_id":2896476,"elapsed":3.8549769669771194e-06,"elapsed_instrumentation":5.9417972806841135e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896478,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14308180,"value":"{args=>[111361439871703942, 111361439871703943], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14308200,"value":"#<Sidekiq::Client:0x00007fc8e18b3d80>"}},{"id":2896479,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14308220,"value":"_______)T__\u000f"}},{"id":2896480,"event":"return","thread_id":9160,"parent_id":2896479,"elapsed":4.401023034006357e-06,"elapsed_instrumentation":0.00010645401198416948,"return_value":{"class":"String","value":"eef9c9bc98da802954baf90f","object_id":14308240}},{"id":2896481,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14308260,"value":"[111361439871703942, 111361439871703943]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14308280,"value":"#<JSON::Ext::Generator::State:0x00007fc8e18cff80>"}},{"id":2896482,"event":"return","thread_id":9160,"parent_id":2896481,"elapsed":6.77997013553977e-06,"elapsed_instrumentation":0.0002027940354309976,"return_value":{"class":"String","value":"[111361439871703942,111361439871703943]","object_id":14308300}},{"id":2896483,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14308320,"value":"#<JSON::Ext::Parser:0x00007fc8e18ce4f0>"}},{"id":2896484,"event":"return","thread_id":9160,"parent_id":2896483,"elapsed":5.5879936553537846e-06,"elapsed_instrumentation":8.608598727732897e-05,"return_value":{"class":"Array","value":"[111361439871703942, 111361439871703943]","object_id":14308340,"size":2}},{"id":2896485,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14308360,"value":"\u001cI$_\u0010_U____C"}},{"id":2896486,"event":"return","thread_id":9160,"parent_id":2896485,"elapsed":3.2809912227094173e-06,"elapsed_instrumentation":9.781098924577236e-05,"return_value":{"class":"String","value":"1c4924b010d855d6f7d8ee43","object_id":14308380}},{"id":2896487,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14308400,"value":"{retry=>true, queue=>pull, args=>[111361439871703942, 111361439871703943], class=>UnmergeWorker, jid=>eef9c9bc98da802954baf90f, created_at=>1699240722.0375311, id=>1c4924b010d855d6f7d8ee43}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14308420,"value":"#<JSON::Ext::Generator::State:0x00007fc8e18cb3b8>"}},{"id":2896488,"event":"return","thread_id":9160,"parent_id":2896487,"elapsed":1.4366989489644766e-05,"elapsed_instrumentation":0.0001763409818522632,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439871703942,111361439871703943],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14308440}},{"id":2896489,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14308460,"value":"#<JSON::Ext::Parser:0x00007fc8e18c68e0>"}},{"id":2896490,"event":"return","thread_id":9160,"parent_id":2896489,"elapsed":1.8829014152288437e-05,"elapsed_instrumentation":0.0001518289791420102,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439871703942, 111361439871703943], class=>UnmergeWorker, jid=>eef9c9bc98da802954baf90f, created_at=>1699240722.0375311, id=>1c4924b010d855d6f7d8ee43}","object_id":14308480,"size":7}},{"id":2896491,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879743407885,"value":"111361439871703942","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14308500,"value":"#<UnmergeWorker:0x00007fc8e18c2308>"}},{"id":2896492,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14308500,"value":"#<UnmergeWorker:0x00007fc8e18c2308>"}},{"id":2896493,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896494,"event":"return","thread_id":9160,"parent_id":2896493,"elapsed":0.000664123,"elapsed_instrumentation":8.70240037329495e-05},{"id":2896495,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896496,"event":"return","thread_id":9160,"parent_id":2896495,"elapsed":0.000517491,"elapsed_instrumentation":7.013801950961351e-05},{"id":2896497,"event":"return","thread_id":9160,"parent_id":2896492,"elapsed":0.003482959989923984,"elapsed_instrumentation":0.0005718240863643587,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e25fa2a0>","object_id":14308520}},{"id":2896498,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14308500,"value":"#<UnmergeWorker:0x00007fc8e18c2308>"}},{"id":2896499,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14308540,"value":"#<Account:0x00007fc8e25fa3e0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14308520,"value":"#<Account:0x00007fc8e25fa2a0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896500,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879743407887,"value":"111361439871703943","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896501,"event":"return","thread_id":9160,"parent_id":2896500,"elapsed":5.225010681897402e-06,"elapsed_instrumentation":0.00010368693619966507,"return_value":{"class":"String","value":"feed:home:111361439871703943","object_id":14308560}},{"id":2896502,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896503,"event":"return","thread_id":9160,"parent_id":2896502,"elapsed":4.1790190152823925e-06,"elapsed_instrumentation":7.243006257340312e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2896504,"event":"return","thread_id":9160,"parent_id":2896499,"elapsed":0.002885374997276813,"elapsed_instrumentation":0.00011104700388386846},{"id":2896505,"event":"return","thread_id":9160,"parent_id":2896498,"elapsed":0.003030244028195739,"elapsed_instrumentation":0.0001827929518185556},{"id":2896506,"event":"return","thread_id":9160,"parent_id":2896491,"elapsed":0.0073199819889850914,"elapsed_instrumentation":9.538198355585337e-05},{"id":2896507,"event":"return","thread_id":9160,"parent_id":2896478,"elapsed":0.008589508011937141,"elapsed_instrumentation":0.00015738100046291947,"return_value":{"class":"String","value":"eef9c9bc98da802954baf90f","object_id":14308240}},{"id":2896508,"event":"return","thread_id":9160,"parent_id":2896423,"elapsed":0.026816963974852115,"elapsed_instrumentation":0.00015631603309884667,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e25fdc20>","object_id":14308080}},{"id":2896509,"event":"return","thread_id":9160,"parent_id":2896422,"elapsed":0.027045550988987088,"elapsed_instrumentation":0.00012559996685013175,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e25fdc20>","object_id":14308080}},{"id":2896510,"event":"return","thread_id":9160,"parent_id":2896421,"elapsed":0.027205282996874303,"elapsed_instrumentation":0.00012757902732118964,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e25fdc20>","object_id":14308080}},{"id":2896511,"event":"return","thread_id":9160,"parent_id":2895576,"elapsed":0.35787117294967175,"elapsed_instrumentation":0.0001698880223557353,"return_value":{"class":"IO","value":"#<IO:0x00007fc94b108f80>","object_id":195040}}]}