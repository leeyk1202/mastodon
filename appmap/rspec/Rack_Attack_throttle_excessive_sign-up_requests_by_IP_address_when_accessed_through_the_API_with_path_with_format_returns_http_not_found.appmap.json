{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Rack::Attack throttle excessive sign-up requests by IP address when accessed through the API with path with format returns http not found","source_location":"spec/config/initializers/rack_attack_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]},{"name":"Marshal","type":"class","children":[{"name":"dump","type":"function","location":"Marshal.dump","static":true,"labels":["serialize"]}]},{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"IpBlock","type":"class","children":[{"name":"blocked?","type":"function","location":"app/models/ip_block.rb:38","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"FastIpMap","type":"class","children":[{"name":"include?","type":"function","location":"app/lib/fast_ip_map.rb:29","static":false}]},{"name":"RequestPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/request_pool.rb:114","static":false}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:13","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:51","static":false}]}]}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true},{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true}]}]},{"name":"controllers","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"Localized","type":"class","children":[{"name":"set_locale","type":"function","location":"app/controllers/concerns/localized.rb:10","static":false}]}]},{"name":"ApplicationController","type":"class","children":[{"name":"current_session","type":"function","location":"app/controllers/application_controller.rb:153","static":false},{"name":"check_self_destruct!","type":"function","location":"app/controllers/application_controller.rb:176","static":false},{"name":"set_cache_control_defaults","type":"function","location":"app/controllers/application_controller.rb:185","static":false},{"name":"raise_not_found","type":"function","location":"app/controllers/application_controller.rb:52","static":false},{"name":"not_found","type":"function","location":"app/controllers/application_controller.rb:99","static":false},{"name":"respond_with_error","type":"function","location":"app/controllers/application_controller.rb:169","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"SelfDestructHelper","type":"class","children":[{"name":"self_destruct?","type":"function","location":"app/helpers/self_destruct_helper.rb:11","static":false}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Request","type":"class","children":[{"name":"Session","type":"class","children":[{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/request/session.rb:112","static":false,"labels":["http.session.read"]}]}]},{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]},{"name":"ActionController","type":"class","children":[{"name":"Renderers","type":"class","children":[{"name":"render_to_body","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb:140","static":false,"labels":["mvc.render"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]}]}]}]},{"name":"lib/chewy/strategy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"Strategy","type":"class","children":[{"name":"Mastodon","type":"class","children":[{"name":"leave","type":"function","location":"lib/chewy/strategy/mastodon.rb:16","static":false}]}]}]}]}],"events":[{"id":2770007,"event":"call","thread_id":9160,"http_server_request":{"request_method":"POST","path_info":"/api/v1/accounts.json","normalized_path_info":"/*unmatched_route","headers":{"Version":"HTTP/1.0","Host":"www.example.com","Accept":"text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5","Content-Type":"application/x-www-form-urlencoded","Content-Length":"0"}}},{"id":2770008,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13589620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":222040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93803c8a8>"}},{"id":2770009,"event":"return","thread_id":9160,"parent_id":2770008,"elapsed":0.0002758260234259069,"elapsed_instrumentation":0.0006385529995895922,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc934226eb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934226ff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934227158 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934227310 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":222060,"size":4}},{"id":2770010,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13589620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":222040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93803c8a8>"}},{"id":2770011,"event":"return","thread_id":9160,"parent_id":2770010,"elapsed":8.02002614364028e-06,"elapsed_instrumentation":0.0005218199803493917,"return_value":{"class":"Array","value":"[]","object_id":222080,"size":0}},{"id":2770012,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":13589640,"value":"_\u00177_Nbi1\u001ec_Z\u0013_\u0018\u001c"}},{"id":2770013,"event":"return","thread_id":9160,"parent_id":2770012,"elapsed":1.1794967576861382e-05,"elapsed_instrumentation":0.0002818920183926821,"return_value":{"class":"Array","value":"[4179048428, 20066, 26929, 7779, 49498, 332142620]","object_id":13589660,"size":6}},{"id":2770014,"event":"call","thread_id":9160,"defined_class":"IpBlock","method_id":"blocked?","path":"app/models/ip_block.rb","lineno":38,"static":true,"parameters":[{"name":"remote_ip","class":"String","object_id":13589680,"value":"1.2.3.5","kind":"req"}],"receiver":{"class":"Class","object_id":60680,"value":"IpBlock"}},{"id":2770015,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":13589700,"value":"Cache read: blocked_ips ({:compress=>false, :compress_threshold=>1024})\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2770016,"event":"return","thread_id":9160,"parent_id":2770015,"elapsed":0.0008520769770257175,"elapsed_instrumentation":0.0004234210355207324,"return_value":{"class":"Integer","value":"72","object_id":145}},{"id":2770017,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":13589720,"value":"Cache generate: blocked_ips ({:compress=>false, :compress_threshold=>1024})\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2770018,"event":"return","thread_id":9160,"parent_id":2770017,"elapsed":0.0005693050334230065,"elapsed_instrumentation":0.00018715497571974993,"return_value":{"class":"Integer","value":"76","object_id":153}},{"id":2770019,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"ip\" FROM \"ip_blocks\" WHERE \"ip_blocks\".\"severity\" = $1","database_type":"postgres"}},{"id":2770020,"event":"return","thread_id":9160,"parent_id":2770019,"elapsed":0.000546715,"elapsed_instrumentation":0.00019899499602615833},{"id":2770021,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":13589740,"value":"Cache write: blocked_ips ({:compress=>false, :compress_threshold=>1024})\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2770022,"event":"return","thread_id":9160,"parent_id":2770021,"elapsed":0.0008887930307537317,"elapsed_instrumentation":0.00016944599337875843,"return_value":{"class":"Integer","value":"73","object_id":147}},{"id":2770023,"event":"call","thread_id":9160,"defined_class":"Marshal","method_id":"dump","path":"Marshal.dump","static":true,"parameters":[{"name":"arg","class":"Array","object_id":13589760,"value":"[#<FastIpMap:0x00007fc9339a1470>]","kind":"rest","size":1}],"receiver":{"class":"Module","object_id":318180,"value":"Marshal"}},{"id":2770024,"event":"return","thread_id":9160,"parent_id":2770023,"elapsed":1.9920000340789557e-05,"elapsed_instrumentation":0.0001534509938210249,"return_value":{"class":"String","value":"\u0004\bo:\u000eFastIpMap\u0007:\u0011@fast_lookup{\u0000:\f@ranges[\u0000","object_id":13589780}},{"id":2770025,"event":"call","thread_id":9160,"defined_class":"FastIpMap","method_id":"include?","path":"app/lib/fast_ip_map.rb","lineno":29,"static":false,"parameters":[{"name":"address","class":"String","object_id":13589680,"value":"1.2.3.5","kind":"req"}],"receiver":{"class":"FastIpMap","object_id":13589800,"value":"#<FastIpMap:0x00007fc9339a1470>"}},{"id":2770026,"event":"return","thread_id":9160,"parent_id":2770025,"elapsed":4.514993634074926e-06,"elapsed_instrumentation":8.16810061223805e-05},{"id":2770027,"event":"return","thread_id":9160,"parent_id":2770014,"elapsed":0.006653375981841236,"elapsed_instrumentation":0.00025935901794582605},{"id":2770028,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":13589820,"value":"Cache write: rack::attack:5664135:throttle_unauthenticated_api:1.2.3.5 ({:compress=>false, :compress (...37 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2770029,"event":"return","thread_id":9160,"parent_id":2770028,"elapsed":0.0007844339706934988,"elapsed_instrumentation":0.00014691997785121202,"return_value":{"class":"Integer","value":"137","object_id":275}},{"id":2770030,"event":"call","thread_id":9160,"defined_class":"Marshal","method_id":"dump","path":"Marshal.dump","static":true,"parameters":[{"name":"arg","class":"Array","object_id":13589840,"value":"[1]","kind":"rest","size":1}],"receiver":{"class":"Module","object_id":318180,"value":"Marshal"}},{"id":2770031,"event":"return","thread_id":9160,"parent_id":2770030,"elapsed":5.6219869293272495e-06,"elapsed_instrumentation":0.0001634000800549984,"return_value":{"class":"String","value":"\u0004\bi\u0006","object_id":13589860}},{"id":2770032,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":13589900,"value":"Processing by ApplicationController#raise_not_found as JSON\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2770033,"event":"return","thread_id":9160,"parent_id":2770032,"elapsed":0.0009647179977037013,"elapsed_instrumentation":0.00021269399439916015,"return_value":{"class":"Integer","value":"60","object_id":121}},{"id":2770034,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":13589920,"value":"  Parameters: {\"unmatched_route\"=>\"api/v1/accounts.json\"}\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2770035,"event":"return","thread_id":9160,"parent_id":2770034,"elapsed":0.0008106310269795358,"elapsed_instrumentation":0.00034062901977449656,"return_value":{"class":"Integer","value":"58","object_id":117}},{"id":2770036,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13589940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":316960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc937e37fd0>"}},{"id":2770037,"event":"return","thread_id":9160,"parent_id":2770036,"elapsed":8.386297849938273e-05,"elapsed_instrumentation":0.0002134160022251308,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9335f4520 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":316980,"size":1}},{"id":2770038,"event":"call","thread_id":9160,"defined_class":"Localized","method_id":"set_locale","path":"app/controllers/concerns/localized.rb","lineno":10,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ApplicationController","object_id":13589960,"value":"#<ApplicationController:0x00007fc91a1cb5e8>"}},{"id":2770039,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Request::Session","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/request/session.rb","lineno":112,"static":false,"parameters":[{"name":"key","class":"String","object_id":13589980,"value":"warden.user.user.key","kind":"req"}],"receiver":{"class":"ActionDispatch::Request::Session","object_id":13590000,"value":"#<ActionDispatch::Request::Session:0x00007fc9309644d8>"}},{"id":2770040,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":13590020,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":13590040,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc930961378>"}},{"id":2770041,"event":"return","thread_id":9160,"parent_id":2770040,"elapsed":9.746989235281944e-06,"elapsed_instrumentation":0.00019671197514981031,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc930961378>","object_id":13590040}},{"id":2770042,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":386580,"value":"_mastodon_session","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":13590040,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc930961378>"}},{"id":2770043,"event":"return","thread_id":9160,"parent_id":2770042,"elapsed":4.58303838968277e-06,"elapsed_instrumentation":9.435100946575403e-05},{"id":2770044,"event":"return","thread_id":9160,"parent_id":2770039,"elapsed":0.0006093229749239981,"elapsed_instrumentation":0.00021270004799589515},{"id":2770045,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":13590040,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc930961378>"}},{"id":2770046,"event":"return","thread_id":9160,"parent_id":2770045,"elapsed":3.6790152080357075e-06,"elapsed_instrumentation":0.00016268598847091198},{"id":2770047,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13589940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":317180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc937e38020>"}},{"id":2770048,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":13590040,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc930961378>"}},{"id":2770049,"event":"return","thread_id":9160,"parent_id":2770048,"elapsed":3.5060220398008823e-06,"elapsed_instrumentation":8.636497659608722e-05},{"id":2770050,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_session","path":"app/controllers/application_controller.rb","lineno":153,"static":false,"parameters":[],"receiver":{"class":"ApplicationController","object_id":13589960,"value":"#<ApplicationController:0x00007fc91a1cb5e8>"}},{"id":2770051,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":13590040,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc930961378>"}},{"id":2770052,"event":"return","thread_id":9160,"parent_id":2770051,"elapsed":2.9539805836975574e-06,"elapsed_instrumentation":6.981601472944021e-05},{"id":2770053,"event":"return","thread_id":9160,"parent_id":2770050,"elapsed":9.769300231710076e-05,"elapsed_instrumentation":6.437901174649596e-05},{"id":2770054,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"check_self_destruct!","path":"app/controllers/application_controller.rb","lineno":176,"static":false,"parameters":[],"receiver":{"class":"ApplicationController","object_id":13589960,"value":"#<ApplicationController:0x00007fc91a1cb5e8>"}},{"id":2770055,"event":"call","thread_id":9160,"defined_class":"SelfDestructHelper","method_id":"self_destruct?","path":"app/helpers/self_destruct_helper.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"ApplicationController","object_id":13589960,"value":"#<ApplicationController:0x00007fc91a1cb5e8>"}},{"id":2770056,"event":"return","thread_id":9160,"parent_id":2770055,"elapsed":8.348026312887669e-06,"elapsed_instrumentation":6.569892866536975e-05},{"id":2770057,"event":"return","thread_id":9160,"parent_id":2770054,"elapsed":9.641202632337809e-05,"elapsed_instrumentation":0.00018983602058142424},{"id":2770058,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":13590040,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc930961378>"}},{"id":2770059,"event":"return","thread_id":9160,"parent_id":2770058,"elapsed":3.0249939300119877e-06,"elapsed_instrumentation":8.307601092383265e-05},{"id":2770060,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"set_cache_control_defaults","path":"app/controllers/application_controller.rb","lineno":185,"static":false,"parameters":[],"receiver":{"class":"ApplicationController","object_id":13589960,"value":"#<ApplicationController:0x00007fc91a1cb5e8>"}},{"id":2770061,"event":"return","thread_id":9160,"parent_id":2770060,"elapsed":4.558998625725508e-06,"elapsed_instrumentation":0.00011265301145613194,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":13590060,"size":2}},{"id":2770062,"event":"return","thread_id":9160,"parent_id":2770047,"elapsed":0.0011721259797923267,"elapsed_instrumentation":0.00019652501214295626,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9335f4980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9335f4ac0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9335f4d40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9335f4e80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9335f5150 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9335f5308 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":317220,"size":6}},{"id":2770063,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"raise_not_found","path":"app/controllers/application_controller.rb","lineno":52,"static":false,"parameters":[],"receiver":{"class":"ApplicationController","object_id":13589960,"value":"#<ApplicationController:0x00007fc91a1cb5e8>"}},{"id":2770064,"event":"return","thread_id":9160,"parent_id":2770063,"elapsed":0.0004886609967797995,"elapsed_instrumentation":0.00020527298329398036,"exceptions":[{"class":"ActionController::RoutingError","message":"No route matches api/v1/accounts.json","object_id":13590080,"path":"/workspaces/mastodon/app/controllers/application_controller.rb","lineno":53}]},{"id":2770065,"event":"return","thread_id":9160,"parent_id":2770038,"elapsed":0.0038306129863485694,"elapsed_instrumentation":0.00012802204582840204,"exceptions":[{"class":"ActionController::RoutingError","message":"No route matches api/v1/accounts.json","object_id":13590080,"path":"/workspaces/mastodon/app/controllers/application_controller.rb","lineno":53}]},{"id":2770066,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"not_found","path":"app/controllers/application_controller.rb","lineno":99,"static":false,"parameters":[],"receiver":{"class":"ApplicationController","object_id":13589960,"value":"#<ApplicationController:0x00007fc91a1cb5e8>"}},{"id":2770067,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"respond_with_error","path":"app/controllers/application_controller.rb","lineno":169,"static":false,"parameters":[{"name":"code","class":"Integer","object_id":809,"value":"404","kind":"req"}],"receiver":{"class":"ApplicationController","object_id":13589960,"value":"#<ApplicationController:0x00007fc91a1cb5e8>"}},{"id":2770068,"event":"call","thread_id":9160,"defined_class":"ActionController::Renderers","method_id":"render_to_body","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb","lineno":140,"static":false,"parameters":[{"name":"options","class":"Hash","object_id":13590100,"value":"{:json=>{:error=>Not Found}, :status=>404, :prefixes=>[application], :template=>raise_not_found, :layout=>#<Proc:0x00007fc933961938 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/ac}","kind":"req","size":5}],"receiver":{"class":"ApplicationController","object_id":13589960,"value":"#<ApplicationController:0x00007fc91a1cb5e8>"}},{"id":2770069,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":13590040,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc930961378>"}},{"id":2770070,"event":"return","thread_id":9160,"parent_id":2770069,"elapsed":4.397006705403328e-06,"elapsed_instrumentation":0.00013616197975352407},{"id":2770071,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13590120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":2770072,"event":"return","thread_id":9160,"parent_id":2770071,"elapsed":3.769993782043457e-06,"elapsed_instrumentation":0.00010972603922709823,"return_value":{"class":"Array","value":"[]","object_id":326200,"size":0}},{"id":2770073,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13590120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":2770074,"event":"return","thread_id":9160,"parent_id":2770073,"elapsed":3.5869888961315155e-06,"elapsed_instrumentation":0.00011979095870628953,"return_value":{"class":"Array","value":"[]","object_id":326240,"size":0}},{"id":2770075,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":13590140,"value":"{error=>Not Found}","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":13590160,"value":"#<JSON::Ext::Generator::State:0x00007fc933972990>"}},{"id":2770076,"event":"return","thread_id":9160,"parent_id":2770075,"elapsed":2.2395048290491104e-05,"elapsed_instrumentation":0.0002314759767614305,"return_value":{"class":"String","value":"{\"error\":\"Not Found\"}","object_id":13590180}},{"id":2770077,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13590120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":2770078,"event":"return","thread_id":9160,"parent_id":2770077,"elapsed":4.827044904232025e-06,"elapsed_instrumentation":0.00012446899199858308,"return_value":{"class":"Array","value":"[]","object_id":328060,"size":0}},{"id":2770079,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13590120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":2770080,"event":"return","thread_id":9160,"parent_id":2770079,"elapsed":2.655026037245989e-06,"elapsed_instrumentation":7.703597657382488e-05,"return_value":{"class":"Array","value":"[]","object_id":328080,"size":0}},{"id":2770081,"event":"return","thread_id":9160,"parent_id":2770068,"elapsed":0.0021602389751933515,"elapsed_instrumentation":0.0003234920441173017,"return_value":{"class":"String","value":"{\"error\":\"Not Found\"}","object_id":13590180}},{"id":2770082,"event":"return","thread_id":9160,"parent_id":2770067,"elapsed":0.003204602049663663,"elapsed_instrumentation":0.0001405689399689436,"return_value":{"class":"String","value":"{\"error\":\"Not Found\"}","object_id":13590180}},{"id":2770083,"event":"return","thread_id":9160,"parent_id":2770066,"elapsed":0.0033695349702611566,"elapsed_instrumentation":9.352201595902443e-05,"return_value":{"class":"String","value":"{\"error\":\"Not Found\"}","object_id":13590180}},{"id":2770084,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":13590200,"value":"Completed 404 Not Found in 12ms (Views: 2.6ms | ActiveRecord: 0.0ms | Allocations: 2937)\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2770085,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":13590220,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":13590240,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2770086,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":13590260,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":13590280,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2770087,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2770088,"event":"return","thread_id":13276700,"parent_id":2770087,"elapsed":8.68597999215126e-06,"elapsed_instrumentation":9.415502427145839e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2770089,"event":"return","thread_id":13276700,"parent_id":2770086,"elapsed":0.00012727599823847413,"elapsed_instrumentation":0.00010744098108261824,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2770090,"event":"return","thread_id":13276700,"parent_id":2770085,"elapsed":0.0002565199974924326,"elapsed_instrumentation":0.00019223702838644385,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2770091,"event":"return","thread_id":9160,"parent_id":2770084,"elapsed":0.0012325849966146052,"elapsed_instrumentation":0.000206221011467278,"return_value":{"class":"Integer","value":"89","object_id":179}},{"id":2770092,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2770093,"event":"return","thread_id":9160,"parent_id":2770092,"elapsed":3.9949663914740086e-06,"elapsed_instrumentation":0.0001169079914689064,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2770094,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":343760,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":13590300,"value":"[_g{\r__\u0014____Z_+__]"}},{"id":2770095,"event":"return","thread_id":9160,"parent_id":2770094,"elapsed":6.538000889122486e-06,"elapsed_instrumentation":0.0002517279936000705,"return_value":{"class":"String","value":"9md7Dc+VFLaGqJ5a+SuNnA==","object_id":13590320}},{"id":2770096,"event":"call","thread_id":9160,"defined_class":"Chewy::Strategy::Mastodon","method_id":"leave","path":"lib/chewy/strategy/mastodon.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Chewy::Strategy::Mastodon","object_id":13590340,"value":"#<Chewy::Strategy::Mastodon:0x00007fc9339abad8>"}},{"id":2770097,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":13590360,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":13590380,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2770098,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2770099,"event":"return","thread_id":9160,"parent_id":2770098,"elapsed":3.5760458558797836e-06,"elapsed_instrumentation":8.016597712412477e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2770100,"event":"return","thread_id":9160,"parent_id":2770097,"elapsed":0.0002696189912967384,"elapsed_instrumentation":0.00013529497664421797,"return_value":{"class":"Array","value":"[]","object_id":13590400,"size":0}},{"id":2770101,"event":"return","thread_id":9160,"parent_id":2770096,"elapsed":0.00042878201929852366,"elapsed_instrumentation":8.871505269780755e-05,"return_value":{"class":"Array","value":"[]","object_id":13590400,"size":0}},{"id":2770102,"event":"return","thread_id":9160,"parent_id":2770007,"elapsed":0.031811614986509085,"elapsed_instrumentation":0.0015746509889140725,"return_value":{"class":"Hash","value":"{error=>Not Found}","object_id":13590440,"size":1,"properties":[{"name":"error","class":"String"}]},"http_server_response":{"status_code":404,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Content-Type":"application/json; charset=utf-8","Cache-Control":"private, no-store","Content-Security-Policy":"base-uri 'none'; default-src 'none'; frame-ancestors 'none'; font-src 'self' https://cb6e6126.ngrok.io; img-src 'self' https: data: blob: https://cb6e6126.ngrok.io; style-src 'self' https://cb6e6126.ngrok.io 'nonce-9md7Dc+VFLaGqJ5a+SuNnA=='; media-src 'self' https: data: https://cb6e6126.ngrok.io; frame-src 'self' https:; manifest-src 'self' https://cb6e6126.ngrok.io; form-action 'self'; child-src 'self' blob: https://cb6e6126.ngrok.io; worker-src 'self' blob: https://cb6e6126.ngrok.io; connect-src 'self' data: blob: https://cb6e6126.ngrok.io https://cb6e6126.ngrok.io ws://localhost:4000; script-src 'self' https://cb6e6126.ngrok.io 'wasm-unsafe-eval'","X-Request-Id":"f91737ec-4e62-4931-9e63-c15a13cc181c","X-Runtime":"0.030156"}}},{"id":2770103,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13590460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934c37c10>"}},{"id":2770104,"event":"return","thread_id":9160,"parent_id":2770103,"elapsed":0.00019915198208764195,"elapsed_instrumentation":0.00043985003139823675,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933f1f4d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f758 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f910 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318440,"size":4}},{"id":2770105,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":13590460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934c37c10>"}},{"id":2770106,"event":"return","thread_id":9160,"parent_id":2770105,"elapsed":6.993010174483061e-06,"elapsed_instrumentation":0.0001785049680620432,"return_value":{"class":"Array","value":"[]","object_id":318460,"size":0}}]}