{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Scheduler::InstanceRefreshScheduler perform runs without error","source_location":"spec/workers/scheduler/instance_refresh_scheduler_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"workers/scheduler","type":"package","children":[{"name":"Scheduler","type":"class","children":[{"name":"InstanceRefreshScheduler","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/scheduler/instance_refresh_scheduler.rb:8","static":false}]}]}]},{"name":"models","type":"package","children":[{"name":"Instance","type":"class","children":[{"name":"refresh","type":"function","location":"app/models/instance.rb:28","static":true}]}]}]},{"name":"lib/chewy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"SettingsExtensions","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/chewy/settings_extensions.rb:5","static":true}]}]}]}],"events":[{"id":1114563,"event":"call","thread_id":9160,"defined_class":"Scheduler::InstanceRefreshScheduler","method_id":"perform","path":"app/workers/scheduler/instance_refresh_scheduler.rb","lineno":8,"static":false,"parameters":[],"receiver":{"class":"Scheduler::InstanceRefreshScheduler","object_id":6456820,"value":"#<Scheduler::InstanceRefreshScheduler:0x00007fc9335e70a0>"}},{"id":1114564,"event":"call","thread_id":9160,"defined_class":"Instance","method_id":"refresh","path":"app/models/instance.rb","lineno":28,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":52400,"value":"Instance"}},{"id":1114565,"event":"call","thread_id":9160,"sql_query":{"sql":"REFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";","database_type":"postgres"}},{"id":1114566,"event":"return","thread_id":9160,"parent_id":1114565,"elapsed":0.025844795,"elapsed_instrumentation":0.00014106102753430605},{"id":1114567,"event":"return","thread_id":9160,"parent_id":1114564,"elapsed":0.02658998896367848,"elapsed_instrumentation":0.00017711304826661944,"return_value":{"class":"PG::Result","value":"#<PG::Result:0x00007fc9335e4da0>","object_id":6456840}},{"id":1114568,"event":"call","thread_id":9160,"defined_class":"Chewy::SettingsExtensions","method_id":"enabled?","path":"lib/chewy/settings_extensions.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":688920,"value":"Chewy"}},{"id":1114569,"event":"return","thread_id":9160,"parent_id":1114568,"elapsed":1.2809992767870426e-05,"elapsed_instrumentation":0.0001214219955727458,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1114570,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT DISTINCT \"instances\".\"domain\" FROM \"instances\" WHERE \"instances\".\"domain\" NOT IN (SELECT \"domain_blocks\".\"domain\" FROM \"domain_blocks\") ORDER BY \"instances\".\"domain\" ASC LIMIT $1","database_type":"postgres"}},{"id":1114571,"event":"return","thread_id":9160,"parent_id":1114570,"elapsed":0.001338268,"elapsed_instrumentation":0.00011731201084330678},{"id":1114572,"event":"return","thread_id":9160,"parent_id":1114563,"elapsed":0.04214015504112467,"elapsed_instrumentation":0.00033635698491707444,"return_value":{"class":"TrueClass","value":"true","object_id":20}}]}