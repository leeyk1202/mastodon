{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --follows option resets all \"following\" relationships from the target account","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"User","type":"class","children":[{"name":"those_who_can","type":"function","location":"app/models/user.rb:143","static":true}]},{"name":"UserRole","type":"class","children":[{"name":"that_can","type":"function","location":"app/models/user_role.rb:111","static":true},{"name":"can?","type":"function","location":"app/models/user_role.rb:131","static":false},{"name":"computed_permissions","type":"function","location":"app/models/user_role.rb:139","static":false},{"name":"everyone?","type":"function","location":"app/models/user_role.rb:115","static":false},{"name":"nobody?","type":"function","location":"app/models/user_role.rb:119","static":false},{"name":"everyone","type":"function","location":"app/models/user_role.rb:105","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]},{"name":"BootstrapTimelineWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/bootstrap_timeline_worker.rb:6","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":1495379,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":8150820,"value":"dexter_okeefe3243","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8150840,"value":"#<Mastodon::CLI::Accounts:0x00007fdc095e5ff0>"}},{"id":1495380,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":8150860,"value":"#<AccountFinderConcern::AccountFinder:0x00007fdc0b04a6e8>"}},{"id":1495381,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'dexter_okeefe3243' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":1495382,"event":"return","thread_id":9160,"parent_id":1495381,"elapsed":0.001226277,"elapsed_instrumentation":0.00014106297749094665},{"id":1495383,"event":"return","thread_id":9160,"parent_id":1495380,"elapsed":0.00678123498801142,"elapsed_instrumentation":0.00014555500820279121,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64aa3d8>","object_id":8150880}},{"id":1495384,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1)","database_type":"postgres"}},{"id":1495385,"event":"return","thread_id":9160,"parent_id":1495384,"elapsed":0.001609742,"elapsed_instrumentation":0.0001376850123051554},{"id":1495386,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8150840,"value":"#<Mastodon::CLI::Accounts:0x00007fdc095e5ff0>"}},{"id":1495387,"event":"return","thread_id":9160,"parent_id":1495386,"elapsed":0.00012784000136889517,"elapsed_instrumentation":0.000298700004350394,"return_value":{"class":"ProgressBar::Base","value":"","object_id":8150900}},{"id":1495388,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1495389,"event":"return","thread_id":9160,"parent_id":1495388,"elapsed":0.002490103,"elapsed_instrumentation":0.00010821298928931355},{"id":1495390,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8150920,"value":"relationship:111360522570561572:111360522570561582","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8150940,"value":"#<UnfollowService:0x00007fdc095e3ac0>"}},{"id":1495391,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8150940,"value":"#<UnfollowService:0x00007fdc095e3ac0>"}},{"id":1495392,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8150960,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8150980,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495393,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495394,"event":"return","thread_id":9160,"parent_id":1495393,"elapsed":3.827008185908198e-06,"elapsed_instrumentation":0.00013340599252842367,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1495395,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8151000,"value":"bl_nA\u0002f_~_z__\u001b__"}},{"id":1495396,"event":"return","thread_id":9160,"parent_id":1495395,"elapsed":7.28500890545547e-06,"elapsed_instrumentation":0.00043072798871435225,"return_value":{"class":"Array","value":"[1651303790, 16642, 26356, 32406, 31486, 3172721112]","object_id":8151020,"size":6}},{"id":1495397,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495398,"event":"return","thread_id":9160,"parent_id":1495397,"elapsed":0.001610759,"elapsed_instrumentation":0.00030024201259948313},{"id":1495399,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8151040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495400,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495401,"event":"return","thread_id":9160,"parent_id":1495400,"elapsed":0.000864544,"elapsed_instrumentation":0.00014036300126463175},{"id":1495402,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495403,"event":"return","thread_id":9160,"parent_id":1495402,"elapsed":0.000608335,"elapsed_instrumentation":8.393402094952762e-05},{"id":1495404,"event":"return","thread_id":9160,"parent_id":1495399,"elapsed":0.004452335997484624,"elapsed_instrumentation":0.0005242019833531231,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1495405,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1495406,"event":"return","thread_id":9160,"parent_id":1495405,"elapsed":0.001000422,"elapsed_instrumentation":0.0002385640109423548},{"id":1495407,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8151040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495408,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1495409,"event":"return","thread_id":9160,"parent_id":1495408,"elapsed":0.000859073,"elapsed_instrumentation":8.172800880856812e-05},{"id":1495410,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495411,"event":"return","thread_id":9160,"parent_id":1495410,"elapsed":0.000764481,"elapsed_instrumentation":0.0001183949934784323},{"id":1495412,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8151060,"value":"#<Account:0x00007fdbf64a80d8>"}},{"id":1495413,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8151060,"value":"#<Account:0x00007fdbf64a80d8>"}},{"id":1495414,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522570561582, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495415,"event":"return","thread_id":9160,"parent_id":1495414,"elapsed":0.001381776,"elapsed_instrumentation":9.562697960063815e-05},{"id":1495416,"event":"return","thread_id":9160,"parent_id":1495413,"elapsed":0.002049912989605218,"elapsed_instrumentation":0.00012083098408766091},{"id":1495417,"event":"return","thread_id":9160,"parent_id":1495412,"elapsed":0.0022084660013206303,"elapsed_instrumentation":0.00018785297288559377},{"id":1495418,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495419,"event":"return","thread_id":9160,"parent_id":1495418,"elapsed":0.000817191,"elapsed_instrumentation":8.644600166007876e-05},{"id":1495420,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8151080,"value":"#<Account:0x00007fdbf64a7318>"}},{"id":1495421,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8151080,"value":"#<Account:0x00007fdbf64a7318>"}},{"id":1495422,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522570561572, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495423,"event":"return","thread_id":9160,"parent_id":1495422,"elapsed":0.001042874,"elapsed_instrumentation":8.719798643141985e-05},{"id":1495424,"event":"return","thread_id":9160,"parent_id":1495421,"elapsed":0.0017629649955779314,"elapsed_instrumentation":9.824603330343962e-05},{"id":1495425,"event":"return","thread_id":9160,"parent_id":1495420,"elapsed":0.001888002996565774,"elapsed_instrumentation":0.00013733399100601673},{"id":1495426,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8151060,"value":"#<Account:0x00007fdbf64a80d8>"}},{"id":1495427,"event":"return","thread_id":9160,"parent_id":1495426,"elapsed":0.0002595480182208121,"elapsed_instrumentation":0.0001367389631923288,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495428,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8151080,"value":"#<Account:0x00007fdbf64a7318>"}},{"id":1495429,"event":"return","thread_id":9160,"parent_id":1495428,"elapsed":1.062799128703773e-05,"elapsed_instrumentation":0.00010488700354471803,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495430,"event":"return","thread_id":9160,"parent_id":1495407,"elapsed":0.013836719997925684,"elapsed_instrumentation":0.00023519803653471172,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1495431,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495432,"event":"return","thread_id":9160,"parent_id":1495431,"elapsed":0.000565181,"elapsed_instrumentation":8.2730024587363e-05},{"id":1495433,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8151120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495434,"event":"return","thread_id":9160,"parent_id":1495433,"elapsed":3.989989636465907e-06,"elapsed_instrumentation":0.00012760396930389106,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1495435,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8151120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495436,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8151140,"value":"Cache delete: relationship:111360522570561582:111360522570561572\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495437,"event":"return","thread_id":9160,"parent_id":1495436,"elapsed":0.0019225470023229718,"elapsed_instrumentation":0.00012380501721054316,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495438,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8151160,"value":"Cache delete: relationship:111360522570561572:111360522570561582\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495439,"event":"return","thread_id":9160,"parent_id":1495438,"elapsed":0.0015445649914909154,"elapsed_instrumentation":0.00044534701737575233,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495440,"event":"return","thread_id":9160,"parent_id":1495435,"elapsed":0.004648754984373227,"elapsed_instrumentation":0.00014305402874015272,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1495441,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8151180,"value":"#<Account:0x00007fdbf64a9898>"}},{"id":1495442,"event":"return","thread_id":9160,"parent_id":1495441,"elapsed":2.2248015739023685e-05,"elapsed_instrumentation":0.00013690599007532,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495443,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8151180,"value":"#<Account:0x00007fdbf64a9898>"}},{"id":1495444,"event":"return","thread_id":9160,"parent_id":1495443,"elapsed":9.235023753717542e-06,"elapsed_instrumentation":0.00014009096776135266,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495445,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8150880,"value":"#<Account:0x00007fdbf64aa3d8>"}},{"id":1495446,"event":"return","thread_id":9160,"parent_id":1495445,"elapsed":1.6637000953778625e-05,"elapsed_instrumentation":0.0001115360064432025,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495447,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8151200,"value":"{args=>[111360522570561572, 111360522570561582], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8151220,"value":"#<Sidekiq::Client:0x00007fdc0ac0a060>"}},{"id":1495448,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8151240,"value":"_fj_|y_&II_\u000e"}},{"id":1495449,"event":"return","thread_id":9160,"parent_id":1495448,"elapsed":7.313996320590377e-06,"elapsed_instrumentation":0.0002220280293840915,"return_value":{"class":"String","value":"db666a857c79ab264949c80e","object_id":8151260}},{"id":1495450,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8151280,"value":"[111360522570561572, 111360522570561582]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8151300,"value":"#<JSON::Ext::Generator::State:0x00007fdc0ac37880>"}},{"id":1495451,"event":"return","thread_id":9160,"parent_id":1495450,"elapsed":1.1458992958068848e-05,"elapsed_instrumentation":0.00025286799063906074,"return_value":{"class":"String","value":"[111360522570561572,111360522570561582]","object_id":8151320}},{"id":1495452,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8151340,"value":"#<JSON::Ext::Parser:0x00007fdc0ac317c8>"}},{"id":1495453,"event":"return","thread_id":9160,"parent_id":1495452,"elapsed":9.395997039973736e-06,"elapsed_instrumentation":0.0011141249851789325,"return_value":{"class":"Array","value":"[111360522570561572, 111360522570561582]","object_id":8151360,"size":2}},{"id":1495454,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8151380,"value":"\u0001__4_+\u001fFM_c."}},{"id":1495455,"event":"return","thread_id":9160,"parent_id":1495454,"elapsed":8.64098547026515e-06,"elapsed_instrumentation":0.0007446510135196149,"return_value":{"class":"String","value":"01969334ea2b1f464ddd632e","object_id":8151400}},{"id":1495456,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8151420,"value":"{retry=>true, queue=>pull, args=>[111360522570561572, 111360522570561582], class=>UnmergeWorker, jid=>db666a857c79ab264949c80e, created_at=>1699226725.2039702, id=>01969334ea2b1f464ddd632e}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8151440,"value":"#<JSON::Ext::Generator::State:0x00007fdc0ab09a58>"}},{"id":1495457,"event":"return","thread_id":9160,"parent_id":1495456,"elapsed":3.090899554081261e-05,"elapsed_instrumentation":0.0008481240074615926,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522570561572,111360522570561582],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8151460}},{"id":1495458,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8151480,"value":"#<JSON::Ext::Parser:0x00007fdc0ab02f78>"}},{"id":1495459,"event":"return","thread_id":9160,"parent_id":1495458,"elapsed":2.9862014343962073e-05,"elapsed_instrumentation":0.0006878399581182748,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522570561572, 111360522570561582], class=>UnmergeWorker, jid=>db666a857c79ab264949c80e, created_at=>1699226725.2039702, id=>01969334ea2b1f464ddd632e}","object_id":8151500,"size":7}},{"id":1495460,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045141123145,"value":"111360522570561572","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8151520,"value":"#<UnmergeWorker:0x00007fdc0ab1cbf8>"}},{"id":1495461,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8151520,"value":"#<UnmergeWorker:0x00007fdc0ab1cbf8>"}},{"id":1495462,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495463,"event":"return","thread_id":9160,"parent_id":1495462,"elapsed":0.000834907,"elapsed_instrumentation":0.0001678889966569841},{"id":1495464,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495465,"event":"return","thread_id":9160,"parent_id":1495464,"elapsed":0.001134524,"elapsed_instrumentation":0.0001394159917254001},{"id":1495466,"event":"return","thread_id":9160,"parent_id":1495461,"elapsed":0.005583941994700581,"elapsed_instrumentation":0.0001805980282370001,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64a58d8>","object_id":8151540}},{"id":1495467,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8151520,"value":"#<UnmergeWorker:0x00007fdc0ab1cbf8>"}},{"id":1495468,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8151560,"value":"#<Account:0x00007fdbf64a5a18>","kind":"req"},{"name":"into_account","class":"Account","object_id":8151540,"value":"#<Account:0x00007fdbf64a58d8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495469,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495470,"event":"return","thread_id":9160,"parent_id":1495469,"elapsed":7.621012628078461e-06,"elapsed_instrumentation":0.0001343380135949701,"return_value":{"class":"String","value":"feed:home:111360522570561582","object_id":8151580}},{"id":1495471,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495472,"event":"return","thread_id":9160,"parent_id":1495471,"elapsed":0.0002020880056079477,"elapsed_instrumentation":0.00013941401266492903,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1495473,"event":"return","thread_id":9160,"parent_id":1495468,"elapsed":0.004584140988299623,"elapsed_instrumentation":0.00011787199764512479},{"id":1495474,"event":"return","thread_id":9160,"parent_id":1495467,"elapsed":0.004738254006952047,"elapsed_instrumentation":0.00010832998668774962},{"id":1495475,"event":"return","thread_id":9160,"parent_id":1495460,"elapsed":0.010677587997633964,"elapsed_instrumentation":0.00015422198339365423},{"id":1495476,"event":"return","thread_id":9160,"parent_id":1495447,"elapsed":0.015669402986532077,"elapsed_instrumentation":0.00026579498080536723,"return_value":{"class":"String","value":"db666a857c79ab264949c80e","object_id":8151260}},{"id":1495477,"event":"return","thread_id":9160,"parent_id":1495392,"elapsed":0.05032370702247135,"elapsed_instrumentation":0.00021525498596020043,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a8998>","object_id":8151100}},{"id":1495478,"event":"return","thread_id":9160,"parent_id":1495391,"elapsed":0.05056930100545287,"elapsed_instrumentation":0.00010590197052806616,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a8998>","object_id":8151100}},{"id":1495479,"event":"return","thread_id":9160,"parent_id":1495390,"elapsed":0.05071685300208628,"elapsed_instrumentation":0.0005977700056973845,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a8998>","object_id":8151100}},{"id":1495480,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8151600,"value":"relationship:111360522570561573:111360522570561582","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8151620,"value":"#<UnfollowService:0x00007fdc09146fa8>"}},{"id":1495481,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8151620,"value":"#<UnfollowService:0x00007fdc09146fa8>"}},{"id":1495482,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8151640,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8151660,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495483,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495484,"event":"return","thread_id":9160,"parent_id":1495483,"elapsed":4.909990821033716e-06,"elapsed_instrumentation":0.00011593001545406878,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1495485,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8151680,"value":"_\f_oz(_7i_c_qL_X"}},{"id":1495486,"event":"return","thread_id":9160,"parent_id":1495485,"elapsed":8.094997610896826e-06,"elapsed_instrumentation":0.00024769501760602,"return_value":{"class":"Array","value":"[2534205039, 31272, 64823, 27024, 25502, 1900839768]","object_id":8151700,"size":6}},{"id":1495487,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495488,"event":"return","thread_id":9160,"parent_id":1495487,"elapsed":0.000564375,"elapsed_instrumentation":0.00012856200919486582},{"id":1495489,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8151720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495490,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495491,"event":"return","thread_id":9160,"parent_id":1495490,"elapsed":0.000495228,"elapsed_instrumentation":0.00012584897922351956},{"id":1495492,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495493,"event":"return","thread_id":9160,"parent_id":1495492,"elapsed":0.000458424,"elapsed_instrumentation":0.00011674498091451824},{"id":1495494,"event":"return","thread_id":9160,"parent_id":1495489,"elapsed":0.004198173992335796,"elapsed_instrumentation":0.0004126450221519917,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1495495,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1495496,"event":"return","thread_id":9160,"parent_id":1495495,"elapsed":0.000804457,"elapsed_instrumentation":9.362900163978338e-05},{"id":1495497,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8151720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495498,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1495499,"event":"return","thread_id":9160,"parent_id":1495498,"elapsed":0.000891645,"elapsed_instrumentation":9.808197501115501e-05},{"id":1495500,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495501,"event":"return","thread_id":9160,"parent_id":1495500,"elapsed":0.000792076,"elapsed_instrumentation":8.660799358040094e-05},{"id":1495502,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8151740,"value":"#<Account:0x00007fdbf64a4d98>"}},{"id":1495503,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8151740,"value":"#<Account:0x00007fdbf64a4d98>"}},{"id":1495504,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522570561582, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495505,"event":"return","thread_id":9160,"parent_id":1495504,"elapsed":0.001095912,"elapsed_instrumentation":8.448801236227155e-05},{"id":1495506,"event":"return","thread_id":9160,"parent_id":1495503,"elapsed":0.0018580080068204552,"elapsed_instrumentation":0.00010480100172571838},{"id":1495507,"event":"return","thread_id":9160,"parent_id":1495502,"elapsed":0.0019948890258092433,"elapsed_instrumentation":0.0002671599795576185},{"id":1495508,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495509,"event":"return","thread_id":9160,"parent_id":1495508,"elapsed":0.000570109,"elapsed_instrumentation":8.417299250140786e-05},{"id":1495510,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8151760,"value":"#<Account:0x00007fdbf64a3c18>"}},{"id":1495511,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8151760,"value":"#<Account:0x00007fdbf64a3c18>"}},{"id":1495512,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522570561573, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495513,"event":"return","thread_id":9160,"parent_id":1495512,"elapsed":0.001298698,"elapsed_instrumentation":8.049400639720261e-05},{"id":1495514,"event":"return","thread_id":9160,"parent_id":1495511,"elapsed":0.0018772940093185753,"elapsed_instrumentation":0.0001026259851641953},{"id":1495515,"event":"return","thread_id":9160,"parent_id":1495510,"elapsed":0.002010084019275382,"elapsed_instrumentation":0.00014009600272402167},{"id":1495516,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8151740,"value":"#<Account:0x00007fdbf64a4d98>"}},{"id":1495517,"event":"return","thread_id":9160,"parent_id":1495516,"elapsed":5.618302384391427e-05,"elapsed_instrumentation":0.00013674801448360085,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495518,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8151760,"value":"#<Account:0x00007fdbf64a3c18>"}},{"id":1495519,"event":"return","thread_id":9160,"parent_id":1495518,"elapsed":9.514973498880863e-06,"elapsed_instrumentation":0.00010122402454726398,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495520,"event":"return","thread_id":9160,"parent_id":1495497,"elapsed":0.013236038998002186,"elapsed_instrumentation":0.00020763400243595243,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1495521,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495522,"event":"return","thread_id":9160,"parent_id":1495521,"elapsed":0.000462569,"elapsed_instrumentation":7.757701678201556e-05},{"id":1495523,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8151800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495524,"event":"return","thread_id":9160,"parent_id":1495523,"elapsed":3.3469987101852894e-06,"elapsed_instrumentation":0.00019765598699450493,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1495525,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8151800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495526,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8151820,"value":"Cache delete: relationship:111360522570561582:111360522570561573\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495527,"event":"return","thread_id":9160,"parent_id":1495526,"elapsed":0.0014874679909553379,"elapsed_instrumentation":0.000130707019707188,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495528,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8151840,"value":"Cache delete: relationship:111360522570561573:111360522570561582\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495529,"event":"return","thread_id":9160,"parent_id":1495528,"elapsed":0.001537132979137823,"elapsed_instrumentation":0.0003415820247028023,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495530,"event":"return","thread_id":9160,"parent_id":1495525,"elapsed":0.00397010101005435,"elapsed_instrumentation":0.00017082301201298833,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1495531,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8151860,"value":"#<Account:0x00007fdbf64a9758>"}},{"id":1495532,"event":"return","thread_id":9160,"parent_id":1495531,"elapsed":1.532898750156164e-05,"elapsed_instrumentation":9.576498996466398e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495533,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8151860,"value":"#<Account:0x00007fdbf64a9758>"}},{"id":1495534,"event":"return","thread_id":9160,"parent_id":1495533,"elapsed":4.383007762953639e-06,"elapsed_instrumentation":6.663499516434968e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495535,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8150880,"value":"#<Account:0x00007fdbf64aa3d8>"}},{"id":1495536,"event":"return","thread_id":9160,"parent_id":1495535,"elapsed":4.670990165323019e-06,"elapsed_instrumentation":6.12720032222569e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495537,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8151880,"value":"{args=>[111360522570561573, 111360522570561582], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8151900,"value":"#<Sidekiq::Client:0x00007fdc0a9da998>"}},{"id":1495538,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8151920,"value":"_______\u001a_c$A"}},{"id":1495539,"event":"return","thread_id":9160,"parent_id":1495538,"elapsed":5.317007889971137e-06,"elapsed_instrumentation":0.00028960497002117336,"return_value":{"class":"String","value":"9aa0aac8b1d3fd1ab1632441","object_id":8151940}},{"id":1495540,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8151960,"value":"[111360522570561573, 111360522570561582]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8151980,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a9d7630>"}},{"id":1495541,"event":"return","thread_id":9160,"parent_id":1495540,"elapsed":6.9020024966448545e-06,"elapsed_instrumentation":0.00014482298865914345,"return_value":{"class":"String","value":"[111360522570561573,111360522570561582]","object_id":8152000}},{"id":1495542,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8152020,"value":"#<JSON::Ext::Parser:0x00007fdc0a9d5808>"}},{"id":1495543,"event":"return","thread_id":9160,"parent_id":1495542,"elapsed":5.306006642058492e-06,"elapsed_instrumentation":0.00010273797670379281,"return_value":{"class":"Array","value":"[111360522570561573, 111360522570561582]","object_id":8152040,"size":2}},{"id":1495544,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8152060,"value":"+_G__3____\u0016_"}},{"id":1495545,"event":"return","thread_id":9160,"parent_id":1495544,"elapsed":4.179979441687465e-06,"elapsed_instrumentation":0.00015796901425346732,"return_value":{"class":"String","value":"2b9947b89a33fbe6e8ad16de","object_id":8152080}},{"id":1495546,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8152100,"value":"{retry=>true, queue=>pull, args=>[111360522570561573, 111360522570561582], class=>UnmergeWorker, jid=>9aa0aac8b1d3fd1ab1632441, created_at=>1699226725.2512434, id=>2b9947b89a33fbe6e8ad16de}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8152120,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a9d0998>"}},{"id":1495547,"event":"return","thread_id":9160,"parent_id":1495546,"elapsed":2.461599069647491e-05,"elapsed_instrumentation":0.0004159050004091114,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522570561573,111360522570561582],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8152140}},{"id":1495548,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8152160,"value":"#<JSON::Ext::Parser:0x00007fdc0a9f98c0>"}},{"id":1495549,"event":"return","thread_id":9160,"parent_id":1495548,"elapsed":3.094901330769062e-05,"elapsed_instrumentation":0.00028439200832508504,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522570561573, 111360522570561582], class=>UnmergeWorker, jid=>9aa0aac8b1d3fd1ab1632441, created_at=>1699226725.2512434, id=>2b9947b89a33fbe6e8ad16de}","object_id":8152180,"size":7}},{"id":1495550,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045141123147,"value":"111360522570561573","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8152200,"value":"#<UnmergeWorker:0x00007fdc0a9f2980>"}},{"id":1495551,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8152200,"value":"#<UnmergeWorker:0x00007fdc0a9f2980>"}},{"id":1495552,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495553,"event":"return","thread_id":9160,"parent_id":1495552,"elapsed":0.000737149,"elapsed_instrumentation":0.00014746401575393975},{"id":1495554,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495555,"event":"return","thread_id":9160,"parent_id":1495554,"elapsed":0.000963438,"elapsed_instrumentation":8.986098691821098e-05},{"id":1495556,"event":"return","thread_id":9160,"parent_id":1495551,"elapsed":0.0054716790036764,"elapsed_instrumentation":0.00013963898527435958,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64a26d8>","object_id":8152220}},{"id":1495557,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8152200,"value":"#<UnmergeWorker:0x00007fdc0a9f2980>"}},{"id":1495558,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8152240,"value":"#<Account:0x00007fdbf64a2818>","kind":"req"},{"name":"into_account","class":"Account","object_id":8152220,"value":"#<Account:0x00007fdbf64a26d8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495559,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495560,"event":"return","thread_id":9160,"parent_id":1495559,"elapsed":7.486989488825202e-06,"elapsed_instrumentation":0.00018922603339888155,"return_value":{"class":"String","value":"feed:home:111360522570561582","object_id":8152260}},{"id":1495561,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495562,"event":"return","thread_id":9160,"parent_id":1495561,"elapsed":9.139999747276306e-06,"elapsed_instrumentation":0.00023816298926249146,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1495563,"event":"return","thread_id":9160,"parent_id":1495558,"elapsed":0.004891443997621536,"elapsed_instrumentation":0.00011995903332717717},{"id":1495564,"event":"return","thread_id":9160,"parent_id":1495557,"elapsed":0.005048338993219659,"elapsed_instrumentation":0.00011826600530184805},{"id":1495565,"event":"return","thread_id":9160,"parent_id":1495550,"elapsed":0.010848270991118625,"elapsed_instrumentation":9.857001714408398e-05},{"id":1495566,"event":"return","thread_id":9160,"parent_id":1495537,"elapsed":0.012802307988749817,"elapsed_instrumentation":0.0002808020217344165,"return_value":{"class":"String","value":"9aa0aac8b1d3fd1ab1632441","object_id":8151940}},{"id":1495567,"event":"return","thread_id":9160,"parent_id":1495482,"elapsed":0.043347553990315646,"elapsed_instrumentation":0.00032517200452275574,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a5658>","object_id":8151780}},{"id":1495568,"event":"return","thread_id":9160,"parent_id":1495481,"elapsed":0.04410602600546554,"elapsed_instrumentation":8.675799472257495e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a5658>","object_id":8151780}},{"id":1495569,"event":"return","thread_id":9160,"parent_id":1495480,"elapsed":0.04422632799833082,"elapsed_instrumentation":0.00015779701061546803,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a5658>","object_id":8151780}},{"id":1495570,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8152280,"value":"relationship:111360522570561574:111360522570561582","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8152300,"value":"#<UnfollowService:0x00007fdc08b4b950>"}},{"id":1495571,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8152300,"value":"#<UnfollowService:0x00007fdc08b4b950>"}},{"id":1495572,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8152320,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8152340,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495573,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495574,"event":"return","thread_id":9160,"parent_id":1495573,"elapsed":4.315981641411781e-06,"elapsed_instrumentation":0.00025330300559289753,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1495575,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8152360,"value":"U(_5eh0_0_k_____"}},{"id":1495576,"event":"return","thread_id":9160,"parent_id":1495575,"elapsed":7.198977982625365e-06,"elapsed_instrumentation":0.00014962698332965374,"return_value":{"class":"Array","value":"[1428721205, 25960, 12540, 12443, 27580, 2178386385]","object_id":8152380,"size":6}},{"id":1495577,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495578,"event":"return","thread_id":9160,"parent_id":1495577,"elapsed":0.000669726,"elapsed_instrumentation":0.00010117501369677484},{"id":1495579,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8152400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495580,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495581,"event":"return","thread_id":9160,"parent_id":1495580,"elapsed":0.000434881,"elapsed_instrumentation":8.149101631715894e-05},{"id":1495582,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495583,"event":"return","thread_id":9160,"parent_id":1495582,"elapsed":0.000451419,"elapsed_instrumentation":7.095999899320304e-05},{"id":1495584,"event":"return","thread_id":9160,"parent_id":1495579,"elapsed":0.002635752025526017,"elapsed_instrumentation":0.00016725799650885165,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1495585,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1495586,"event":"return","thread_id":9160,"parent_id":1495585,"elapsed":0.000830724,"elapsed_instrumentation":7.270800415426493e-05},{"id":1495587,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8152400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495588,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1495589,"event":"return","thread_id":9160,"parent_id":1495588,"elapsed":0.000848265,"elapsed_instrumentation":0.0001016710011754185},{"id":1495590,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495591,"event":"return","thread_id":9160,"parent_id":1495590,"elapsed":0.0009647,"elapsed_instrumentation":8.12539947219193e-05},{"id":1495592,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8152420,"value":"#<Account:0x00007fdbf64a17d8>"}},{"id":1495593,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8152420,"value":"#<Account:0x00007fdbf64a17d8>"}},{"id":1495594,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522570561582, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495595,"event":"return","thread_id":9160,"parent_id":1495594,"elapsed":0.001354032,"elapsed_instrumentation":9.8082993645221e-05},{"id":1495596,"event":"return","thread_id":9160,"parent_id":1495593,"elapsed":0.002175761997932568,"elapsed_instrumentation":0.00016944302478805184},{"id":1495597,"event":"return","thread_id":9160,"parent_id":1495592,"elapsed":0.0023867540003266186,"elapsed_instrumentation":0.00030660201446153224},{"id":1495598,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495599,"event":"return","thread_id":9160,"parent_id":1495598,"elapsed":0.0008648,"elapsed_instrumentation":8.197099668905139e-05},{"id":1495600,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8152440,"value":"#<Account:0x00007fdbf64a0a18>"}},{"id":1495601,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8152440,"value":"#<Account:0x00007fdbf64a0a18>"}},{"id":1495602,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522570561574, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495603,"event":"return","thread_id":9160,"parent_id":1495602,"elapsed":0.000718293,"elapsed_instrumentation":7.445699884556234e-05},{"id":1495604,"event":"return","thread_id":9160,"parent_id":1495601,"elapsed":0.001467365975258872,"elapsed_instrumentation":9.666799451224506e-05},{"id":1495605,"event":"return","thread_id":9160,"parent_id":1495600,"elapsed":0.0015916179982014,"elapsed_instrumentation":0.0001410740369465202},{"id":1495606,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8152420,"value":"#<Account:0x00007fdbf64a17d8>"}},{"id":1495607,"event":"return","thread_id":9160,"parent_id":1495606,"elapsed":1.4466990251094103e-05,"elapsed_instrumentation":0.00010300500434823334,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495608,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8152440,"value":"#<Account:0x00007fdbf64a0a18>"}},{"id":1495609,"event":"return","thread_id":9160,"parent_id":1495608,"elapsed":7.513008313253522e-06,"elapsed_instrumentation":7.312098750844598e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495610,"event":"return","thread_id":9160,"parent_id":1495587,"elapsed":0.013468137010931969,"elapsed_instrumentation":0.00015780498506501317,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1495611,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495612,"event":"return","thread_id":9160,"parent_id":1495611,"elapsed":0.000703718,"elapsed_instrumentation":7.876998279243708e-05},{"id":1495613,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8152480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495614,"event":"return","thread_id":9160,"parent_id":1495613,"elapsed":3.855995601043105e-06,"elapsed_instrumentation":0.00012652800069190562,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1495615,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8152480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495616,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8152500,"value":"Cache delete: relationship:111360522570561582:111360522570561574\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495617,"event":"return","thread_id":9160,"parent_id":1495616,"elapsed":0.0009357230155728757,"elapsed_instrumentation":0.00017037699581123888,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495618,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8152520,"value":"Cache delete: relationship:111360522570561574:111360522570561582\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495619,"event":"return","thread_id":9160,"parent_id":1495618,"elapsed":0.0011822459928225726,"elapsed_instrumentation":0.00014624101459048688,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495620,"event":"return","thread_id":9160,"parent_id":1495615,"elapsed":0.0028996170149184763,"elapsed_instrumentation":0.00011913399794138968,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1495621,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8152540,"value":"#<Account:0x00007fdbf64a9618>"}},{"id":1495622,"event":"return","thread_id":9160,"parent_id":1495621,"elapsed":0.00037906202487647533,"elapsed_instrumentation":0.00011242800974287093,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495623,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8152540,"value":"#<Account:0x00007fdbf64a9618>"}},{"id":1495624,"event":"return","thread_id":9160,"parent_id":1495623,"elapsed":5.222012987360358e-06,"elapsed_instrumentation":9.466600022278726e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495625,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8150880,"value":"#<Account:0x00007fdbf64aa3d8>"}},{"id":1495626,"event":"return","thread_id":9160,"parent_id":1495625,"elapsed":4.6549830585718155e-06,"elapsed_instrumentation":6.8377994466573e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495627,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8152560,"value":"{args=>[111360522570561574, 111360522570561582], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8152580,"value":"#<Sidekiq::Client:0x00007fdc0a882168>"}},{"id":1495628,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8152600,"value":"lHz__W[E_-_2"}},{"id":1495629,"event":"return","thread_id":9160,"parent_id":1495628,"elapsed":4.830013494938612e-06,"elapsed_instrumentation":0.0003052669926546514,"return_value":{"class":"String","value":"6c487ac25f575b45a62dc832","object_id":8152620}},{"id":1495630,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8152640,"value":"[111360522570561574, 111360522570561582]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8152660,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a8cd988>"}},{"id":1495631,"event":"return","thread_id":9160,"parent_id":1495630,"elapsed":9.333016350865364e-06,"elapsed_instrumentation":0.00017254200065508485,"return_value":{"class":"String","value":"[111360522570561574,111360522570561582]","object_id":8152680}},{"id":1495632,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8152700,"value":"#<JSON::Ext::Parser:0x00007fdc0a8c7d80>"}},{"id":1495633,"event":"return","thread_id":9160,"parent_id":1495632,"elapsed":7.444003131240606e-06,"elapsed_instrumentation":0.0001620390103198588,"return_value":{"class":"Array","value":"[111360522570561574, 111360522570561582]","object_id":8152720,"size":2}},{"id":1495634,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8152740,"value":"_f_\u00046_B\u0012_@a_"}},{"id":1495635,"event":"return","thread_id":9160,"parent_id":1495634,"elapsed":5.89998671784997e-06,"elapsed_instrumentation":0.0007805360073689371,"return_value":{"class":"String","value":"e566f90436d64212bc4061c1","object_id":8152760}},{"id":1495636,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8152780,"value":"{retry=>true, queue=>pull, args=>[111360522570561574, 111360522570561582], class=>UnmergeWorker, jid=>6c487ac25f575b45a62dc832, created_at=>1699226725.291223, id=>e566f90436d64212bc4061c1}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8152800,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a73b408>"}},{"id":1495637,"event":"return","thread_id":9160,"parent_id":1495636,"elapsed":2.090900670737028e-05,"elapsed_instrumentation":0.0005930869956500828,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522570561574,111360522570561582],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8152820}},{"id":1495638,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8152840,"value":"#<JSON::Ext::Parser:0x00007fdc0a732ab0>"}},{"id":1495639,"event":"return","thread_id":9160,"parent_id":1495638,"elapsed":2.1607003873214126e-05,"elapsed_instrumentation":0.00019913501455448568,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522570561574, 111360522570561582], class=>UnmergeWorker, jid=>6c487ac25f575b45a62dc832, created_at=>1699226725.291223, id=>e566f90436d64212bc4061c1}","object_id":8152860,"size":7}},{"id":1495640,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045141123149,"value":"111360522570561574","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8152880,"value":"#<UnmergeWorker:0x00007fdc0a74eeb8>"}},{"id":1495641,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8152880,"value":"#<UnmergeWorker:0x00007fdc0a74eeb8>"}},{"id":1495642,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495643,"event":"return","thread_id":9160,"parent_id":1495642,"elapsed":0.000811449,"elapsed_instrumentation":9.964301716536283e-05},{"id":1495644,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495645,"event":"return","thread_id":9160,"parent_id":1495644,"elapsed":0.00073866,"elapsed_instrumentation":8.399700163863599e-05},{"id":1495646,"event":"return","thread_id":9160,"parent_id":1495641,"elapsed":0.00448845699429512,"elapsed_instrumentation":0.00012506201164796948,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64bf008>","object_id":8152900}},{"id":1495647,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8152880,"value":"#<UnmergeWorker:0x00007fdc0a74eeb8>"}},{"id":1495648,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8152920,"value":"#<Account:0x00007fdbf64bf148>","kind":"req"},{"name":"into_account","class":"Account","object_id":8152900,"value":"#<Account:0x00007fdbf64bf008>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495649,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495650,"event":"return","thread_id":9160,"parent_id":1495649,"elapsed":5.117995897307992e-06,"elapsed_instrumentation":0.00011138699483126402,"return_value":{"class":"String","value":"feed:home:111360522570561582","object_id":8152940}},{"id":1495651,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495652,"event":"return","thread_id":9160,"parent_id":1495651,"elapsed":6.1280152294784784e-06,"elapsed_instrumentation":8.138900739140809e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1495653,"event":"return","thread_id":9160,"parent_id":1495648,"elapsed":0.004777245019795373,"elapsed_instrumentation":0.00011863696272484958},{"id":1495654,"event":"return","thread_id":9160,"parent_id":1495647,"elapsed":0.004930911993142217,"elapsed_instrumentation":9.47359949350357e-05},{"id":1495655,"event":"return","thread_id":9160,"parent_id":1495640,"elapsed":0.009695477987406775,"elapsed_instrumentation":0.00010691999341361225},{"id":1495656,"event":"return","thread_id":9160,"parent_id":1495627,"elapsed":0.012728506000712514,"elapsed_instrumentation":0.00022261700360104442,"return_value":{"class":"String","value":"6c487ac25f575b45a62dc832","object_id":8152620}},{"id":1495657,"event":"return","thread_id":9160,"parent_id":1495572,"elapsed":0.03933967399643734,"elapsed_instrumentation":0.00016979002975858748,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a2458>","object_id":8152460}},{"id":1495658,"event":"return","thread_id":9160,"parent_id":1495571,"elapsed":0.03953552999882959,"elapsed_instrumentation":8.310802513733506e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a2458>","object_id":8152460}},{"id":1495659,"event":"return","thread_id":9160,"parent_id":1495570,"elapsed":0.03965229899040423,"elapsed_instrumentation":0.00015110301319509745,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64a2458>","object_id":8152460}},{"id":1495660,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8152960,"value":"relationship:111360522570561575:111360522570561582","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8152980,"value":"#<UnfollowService:0x00007fdc0743e488>"}},{"id":1495661,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8152980,"value":"#<UnfollowService:0x00007fdc0743e488>"}},{"id":1495662,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8153000,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8153020,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495663,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495664,"event":"return","thread_id":9160,"parent_id":1495663,"elapsed":4.2530009523034096e-06,"elapsed_instrumentation":0.0003374640073161572,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1495665,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8153040,"value":"m__\t__'X__R\u0018_3Y_"}},{"id":1495666,"event":"return","thread_id":9160,"parent_id":1495665,"elapsed":7.690017810091376e-06,"elapsed_instrumentation":0.0001783119805622846,"return_value":{"class":"Array","value":"[1838450697, 50842, 10072, 54961, 21016, 2620610977]","object_id":8153060,"size":6}},{"id":1495667,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495668,"event":"return","thread_id":9160,"parent_id":1495667,"elapsed":0.000776486,"elapsed_instrumentation":0.00020737998420372605},{"id":1495669,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8153080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495670,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495671,"event":"return","thread_id":9160,"parent_id":1495670,"elapsed":0.000545719,"elapsed_instrumentation":0.0006534169951919466},{"id":1495672,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495673,"event":"return","thread_id":9160,"parent_id":1495672,"elapsed":0.000606719,"elapsed_instrumentation":0.00013485501403920352},{"id":1495674,"event":"return","thread_id":9160,"parent_id":1495669,"elapsed":0.005469885014463216,"elapsed_instrumentation":0.00038109300658106804,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1495675,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1495676,"event":"return","thread_id":9160,"parent_id":1495675,"elapsed":0.00101801,"elapsed_instrumentation":0.001240940997377038},{"id":1495677,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8153080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495678,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1495679,"event":"return","thread_id":9160,"parent_id":1495678,"elapsed":0.002807235,"elapsed_instrumentation":0.00037434601108543575},{"id":1495680,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495681,"event":"return","thread_id":9160,"parent_id":1495680,"elapsed":0.00137398,"elapsed_instrumentation":0.0001810189860407263},{"id":1495682,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8153100,"value":"#<Account:0x00007fdbf64be4c8>"}},{"id":1495683,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8153100,"value":"#<Account:0x00007fdbf64be4c8>"}},{"id":1495684,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522570561582, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495685,"event":"return","thread_id":9160,"parent_id":1495684,"elapsed":0.003030354,"elapsed_instrumentation":0.0003429299977142364},{"id":1495686,"event":"return","thread_id":9160,"parent_id":1495683,"elapsed":0.005624741985229775,"elapsed_instrumentation":0.0006199130148161203},{"id":1495687,"event":"return","thread_id":9160,"parent_id":1495682,"elapsed":0.0063096660014707595,"elapsed_instrumentation":0.00027826501172967255},{"id":1495688,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495689,"event":"return","thread_id":9160,"parent_id":1495688,"elapsed":0.00193504,"elapsed_instrumentation":0.00019051801064051688},{"id":1495690,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8153120,"value":"#<Account:0x00007fdbf64bd5c8>"}},{"id":1495691,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8153120,"value":"#<Account:0x00007fdbf64bd5c8>"}},{"id":1495692,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522570561575, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495693,"event":"return","thread_id":9160,"parent_id":1495692,"elapsed":0.002898888,"elapsed_instrumentation":0.0004663559957407415},{"id":1495694,"event":"return","thread_id":9160,"parent_id":1495691,"elapsed":0.005020159995183349,"elapsed_instrumentation":0.00020604199380613863},{"id":1495695,"event":"return","thread_id":9160,"parent_id":1495690,"elapsed":0.005281920981360599,"elapsed_instrumentation":0.00032527701114304364},{"id":1495696,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8153100,"value":"#<Account:0x00007fdbf64be4c8>"}},{"id":1495697,"event":"return","thread_id":9160,"parent_id":1495696,"elapsed":3.121598274447024e-05,"elapsed_instrumentation":0.00034589500864967704,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495698,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8153120,"value":"#<Account:0x00007fdbf64bd5c8>"}},{"id":1495699,"event":"return","thread_id":9160,"parent_id":1495698,"elapsed":2.4957989808171988e-05,"elapsed_instrumentation":0.002614085009554401,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495700,"event":"return","thread_id":9160,"parent_id":1495677,"elapsed":0.03510389101575129,"elapsed_instrumentation":0.0004633920034393668,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1495701,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495702,"event":"return","thread_id":9160,"parent_id":1495701,"elapsed":0.003885892,"elapsed_instrumentation":0.0001555740018375218},{"id":1495703,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8153160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495704,"event":"return","thread_id":9160,"parent_id":1495703,"elapsed":1.0885996744036674e-05,"elapsed_instrumentation":0.00039138903957791626,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1495705,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8153160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495706,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8153180,"value":"Cache delete: relationship:111360522570561582:111360522570561575\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495707,"event":"return","thread_id":9160,"parent_id":1495706,"elapsed":0.002193555992562324,"elapsed_instrumentation":0.0004834560095332563,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495708,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8153200,"value":"Cache delete: relationship:111360522570561575:111360522570561582\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495709,"event":"return","thread_id":9160,"parent_id":1495708,"elapsed":0.02282938698772341,"elapsed_instrumentation":0.0005056759982835501,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495710,"event":"return","thread_id":9160,"parent_id":1495705,"elapsed":0.026851351984078065,"elapsed_instrumentation":0.0006220370123628527,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1495711,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8153220,"value":"#<Account:0x00007fdbf64a94d8>"}},{"id":1495712,"event":"return","thread_id":9160,"parent_id":1495711,"elapsed":3.624398959800601e-05,"elapsed_instrumentation":0.0003814350056927651,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495713,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8153220,"value":"#<Account:0x00007fdbf64a94d8>"}},{"id":1495714,"event":"return","thread_id":9160,"parent_id":1495713,"elapsed":0.00011309300316497684,"elapsed_instrumentation":0.0007063949597068131,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495715,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8150880,"value":"#<Account:0x00007fdbf64aa3d8>"}},{"id":1495716,"event":"return","thread_id":9160,"parent_id":1495715,"elapsed":1.2744014384225011e-05,"elapsed_instrumentation":0.0001638969697523862,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495717,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8153240,"value":"{args=>[111360522570561575, 111360522570561582], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8153260,"value":"#<Sidekiq::Client:0x00007fdc0a58ad20>"}},{"id":1495718,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8153280,"value":"____\u000bn___\u0014__"}},{"id":1495719,"event":"return","thread_id":9160,"parent_id":1495718,"elapsed":1.0007002856582403e-05,"elapsed_instrumentation":0.00031390300136990845,"return_value":{"class":"String","value":"819c8b9c0b6eac898214eff2","object_id":8153300}},{"id":1495720,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8153320,"value":"[111360522570561575, 111360522570561582]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8153340,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a5849e8>"}},{"id":1495721,"event":"return","thread_id":9160,"parent_id":1495720,"elapsed":1.625300501473248e-05,"elapsed_instrumentation":0.0004175520152784884,"return_value":{"class":"String","value":"[111360522570561575,111360522570561582]","object_id":8153360}},{"id":1495722,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8153380,"value":"#<JSON::Ext::Parser:0x00007fdc0a5829e0>"}},{"id":1495723,"event":"return","thread_id":9160,"parent_id":1495722,"elapsed":1.2304983101785183e-05,"elapsed_instrumentation":0.0005599249852821231,"return_value":{"class":"Array","value":"[111360522570561575, 111360522570561582]","object_id":8153400,"size":2}},{"id":1495724,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8153420,"value":"\t\"=__$___\n_k"}},{"id":1495725,"event":"return","thread_id":9160,"parent_id":1495724,"elapsed":8.65801121108234e-06,"elapsed_instrumentation":0.00022676901426166296,"return_value":{"class":"String","value":"09223dfccd248f89c30a8e6b","object_id":8153440}},{"id":1495726,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8153460,"value":"{retry=>true, queue=>pull, args=>[111360522570561575, 111360522570561582], class=>UnmergeWorker, jid=>819c8b9c0b6eac898214eff2, created_at=>1699226725.3911443, id=>09223dfccd248f89c30a8e6b}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8153480,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a59f360>"}},{"id":1495727,"event":"return","thread_id":9160,"parent_id":1495726,"elapsed":2.848601434379816e-05,"elapsed_instrumentation":0.0006107659719418734,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522570561575,111360522570561582],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8153500}},{"id":1495728,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8153520,"value":"#<JSON::Ext::Parser:0x00007fdc0a5965a8>"}},{"id":1495729,"event":"return","thread_id":9160,"parent_id":1495728,"elapsed":3.932099207304418e-05,"elapsed_instrumentation":0.00026826298562809825,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522570561575, 111360522570561582], class=>UnmergeWorker, jid=>819c8b9c0b6eac898214eff2, created_at=>1699226725.3911443, id=>09223dfccd248f89c30a8e6b}","object_id":8153540,"size":7}},{"id":1495730,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045141123151,"value":"111360522570561575","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8153560,"value":"#<UnmergeWorker:0x00007fdc0a5beb20>"}},{"id":1495731,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8153560,"value":"#<UnmergeWorker:0x00007fdc0a5beb20>"}},{"id":1495732,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495733,"event":"return","thread_id":9160,"parent_id":1495732,"elapsed":0.001201253,"elapsed_instrumentation":0.00021878699772059917},{"id":1495734,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495735,"event":"return","thread_id":9160,"parent_id":1495734,"elapsed":0.001339476,"elapsed_instrumentation":0.00019830101518891752},{"id":1495736,"event":"return","thread_id":9160,"parent_id":1495731,"elapsed":0.00874566100537777,"elapsed_instrumentation":0.00030914199305698276,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64bbb88>","object_id":8153580}},{"id":1495737,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8153560,"value":"#<UnmergeWorker:0x00007fdc0a5beb20>"}},{"id":1495738,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8153600,"value":"#<Account:0x00007fdbf64bbcc8>","kind":"req"},{"name":"into_account","class":"Account","object_id":8153580,"value":"#<Account:0x00007fdbf64bbb88>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495739,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495740,"event":"return","thread_id":9160,"parent_id":1495739,"elapsed":9.176990715786815e-06,"elapsed_instrumentation":0.000332817027810961,"return_value":{"class":"String","value":"feed:home:111360522570561582","object_id":8153620}},{"id":1495741,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495742,"event":"return","thread_id":9160,"parent_id":1495741,"elapsed":9.737006621435285e-06,"elapsed_instrumentation":0.0001929769932758063,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1495743,"event":"return","thread_id":9160,"parent_id":1495738,"elapsed":0.008074309007497504,"elapsed_instrumentation":0.00027091000811196864},{"id":1495744,"event":"return","thread_id":9160,"parent_id":1495737,"elapsed":0.008409447007579729,"elapsed_instrumentation":0.00021728398860432208},{"id":1495745,"event":"return","thread_id":9160,"parent_id":1495730,"elapsed":0.017785903997719288,"elapsed_instrumentation":0.0003327899903524667},{"id":1495746,"event":"return","thread_id":9160,"parent_id":1495717,"elapsed":0.021791275998111814,"elapsed_instrumentation":0.000649452005745843,"return_value":{"class":"String","value":"819c8b9c0b6eac898214eff2","object_id":8153300}},{"id":1495747,"event":"return","thread_id":9160,"parent_id":1495662,"elapsed":0.1081935369875282,"elapsed_instrumentation":0.0002817630011122674,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64bed88>","object_id":8153140}},{"id":1495748,"event":"return","thread_id":9160,"parent_id":1495661,"elapsed":0.1085262109991163,"elapsed_instrumentation":0.00035510098678059876,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64bed88>","object_id":8153140}},{"id":1495749,"event":"return","thread_id":9160,"parent_id":1495660,"elapsed":0.10892949500703253,"elapsed_instrumentation":0.00019152401364408433,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64bed88>","object_id":8153140}},{"id":1495750,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8153640,"value":"relationship:111360522570561576:111360522570561582","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8153660,"value":"#<UnfollowService:0x00007fdc07435298>"}},{"id":1495751,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8153660,"value":"#<UnfollowService:0x00007fdc07435298>"}},{"id":1495752,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8153680,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8153700,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495753,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495754,"event":"return","thread_id":9160,"parent_id":1495753,"elapsed":5.659996531903744e-06,"elapsed_instrumentation":0.00014441402163356543,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1495755,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8153720,"value":"wq^\u0001_\u0013_P__X\u0005_t__"}},{"id":1495756,"event":"return","thread_id":9160,"parent_id":1495755,"elapsed":1.2587988749146461e-05,"elapsed_instrumentation":0.0003483290201984346,"return_value":{"class":"Array","value":"[2003918337, 48659, 52304, 34196, 22533, 4201948816]","object_id":8153740,"size":6}},{"id":1495757,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495758,"event":"return","thread_id":9160,"parent_id":1495757,"elapsed":0.000834978,"elapsed_instrumentation":0.00016106601106002927},{"id":1495759,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8153760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495760,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495761,"event":"return","thread_id":9160,"parent_id":1495760,"elapsed":0.001022522,"elapsed_instrumentation":0.00018047200865112245},{"id":1495762,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495763,"event":"return","thread_id":9160,"parent_id":1495762,"elapsed":0.001048121,"elapsed_instrumentation":0.00012282899115234613},{"id":1495764,"event":"return","thread_id":9160,"parent_id":1495759,"elapsed":0.006144159007817507,"elapsed_instrumentation":0.0006766789592802525,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1495765,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1495766,"event":"return","thread_id":9160,"parent_id":1495765,"elapsed":0.001561813,"elapsed_instrumentation":0.00013900798512622714},{"id":1495767,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8153760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495768,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1495769,"event":"return","thread_id":9160,"parent_id":1495768,"elapsed":0.001140741,"elapsed_instrumentation":0.00041654802043922246},{"id":1495770,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495771,"event":"return","thread_id":9160,"parent_id":1495770,"elapsed":0.00170928,"elapsed_instrumentation":0.0002489729959052056},{"id":1495772,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8153780,"value":"#<Account:0x00007fdbf64bb048>"}},{"id":1495773,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8153780,"value":"#<Account:0x00007fdbf64bb048>"}},{"id":1495774,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522570561582, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495775,"event":"return","thread_id":9160,"parent_id":1495774,"elapsed":0.002255506,"elapsed_instrumentation":0.00014405499678105116},{"id":1495776,"event":"return","thread_id":9160,"parent_id":1495773,"elapsed":0.0033121180022135377,"elapsed_instrumentation":0.0005470189789775759},{"id":1495777,"event":"return","thread_id":9160,"parent_id":1495772,"elapsed":0.005012438021367416,"elapsed_instrumentation":0.0003052249667234719},{"id":1495778,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495779,"event":"return","thread_id":9160,"parent_id":1495778,"elapsed":0.000938124,"elapsed_instrumentation":0.00021632897551171482},{"id":1495780,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8153800,"value":"#<Account:0x00007fdbf64b9ec8>"}},{"id":1495781,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8153800,"value":"#<Account:0x00007fdbf64b9ec8>"}},{"id":1495782,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522570561576, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495783,"event":"return","thread_id":9160,"parent_id":1495782,"elapsed":0.001741371,"elapsed_instrumentation":0.00016061097267083824},{"id":1495784,"event":"return","thread_id":9160,"parent_id":1495781,"elapsed":0.003183355991495773,"elapsed_instrumentation":0.0003148840041831136},{"id":1495785,"event":"return","thread_id":9160,"parent_id":1495780,"elapsed":0.0035439039929769933,"elapsed_instrumentation":0.0002655489952303469},{"id":1495786,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8153780,"value":"#<Account:0x00007fdbf64bb048>"}},{"id":1495787,"event":"return","thread_id":9160,"parent_id":1495786,"elapsed":2.1514977561309934e-05,"elapsed_instrumentation":0.00017725801444612443,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495788,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8153800,"value":"#<Account:0x00007fdbf64b9ec8>"}},{"id":1495789,"event":"return","thread_id":9160,"parent_id":1495788,"elapsed":1.2575997970998287e-05,"elapsed_instrumentation":0.0001413400168530643,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495790,"event":"return","thread_id":9160,"parent_id":1495767,"elapsed":0.02303661801852286,"elapsed_instrumentation":0.0006529680103994906,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1495791,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495792,"event":"return","thread_id":9160,"parent_id":1495791,"elapsed":0.00109674,"elapsed_instrumentation":0.0001929239952005446},{"id":1495793,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8153840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495794,"event":"return","thread_id":9160,"parent_id":1495793,"elapsed":8.108996553346515e-06,"elapsed_instrumentation":0.0002875409845728427,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1495795,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8153840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495796,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8153860,"value":"Cache delete: relationship:111360522570561582:111360522570561576\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495797,"event":"return","thread_id":9160,"parent_id":1495796,"elapsed":0.0019407389918342233,"elapsed_instrumentation":0.00028594498871825635,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495798,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8153880,"value":"Cache delete: relationship:111360522570561576:111360522570561582\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495799,"event":"return","thread_id":9160,"parent_id":1495798,"elapsed":0.0017943010025192052,"elapsed_instrumentation":0.00029798600007779896,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495800,"event":"return","thread_id":9160,"parent_id":1495795,"elapsed":0.005536812008358538,"elapsed_instrumentation":0.00023616000544279814,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1495801,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8153900,"value":"#<Account:0x00007fdbf64a9398>"}},{"id":1495802,"event":"return","thread_id":9160,"parent_id":1495801,"elapsed":2.7650996344164014e-05,"elapsed_instrumentation":0.00018383600399829447,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495803,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8153900,"value":"#<Account:0x00007fdbf64a9398>"}},{"id":1495804,"event":"return","thread_id":9160,"parent_id":1495803,"elapsed":8.250994142144918e-06,"elapsed_instrumentation":0.0003349189937580377,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495805,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8150880,"value":"#<Account:0x00007fdbf64aa3d8>"}},{"id":1495806,"event":"return","thread_id":9160,"parent_id":1495805,"elapsed":1.5586992958560586e-05,"elapsed_instrumentation":0.00022953300504013896,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495807,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8153920,"value":"{args=>[111360522570561576, 111360522570561582], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8153940,"value":"#<Sidekiq::Client:0x00007fdc0a3f5eb0>"}},{"id":1495808,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8153960,"value":"______\u0001\u001f_z__"}},{"id":1495809,"event":"return","thread_id":9160,"parent_id":1495808,"elapsed":9.020994184538722e-06,"elapsed_instrumentation":0.0005803800304420292,"return_value":{"class":"String","value":"8087ceac8e90011fa67abfa8","object_id":8153980}},{"id":1495810,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8154000,"value":"[111360522570561576, 111360522570561582]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8154020,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a3f1720>"}},{"id":1495811,"event":"return","thread_id":9160,"parent_id":1495810,"elapsed":8.7380176410079e-06,"elapsed_instrumentation":0.00019248996977694333,"return_value":{"class":"String","value":"[111360522570561576,111360522570561582]","object_id":8154040}},{"id":1495812,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8154060,"value":"#<JSON::Ext::Parser:0x00007fdc0a3f00c8>"}},{"id":1495813,"event":"return","thread_id":9160,"parent_id":1495812,"elapsed":8.254020940512419e-06,"elapsed_instrumentation":0.0003685929987113923,"return_value":{"class":"Array","value":"[111360522570561576, 111360522570561582]","object_id":8154080,"size":2}},{"id":1495814,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8154100,"value":"_J_a______\f_"}},{"id":1495815,"event":"return","thread_id":9160,"parent_id":1495814,"elapsed":6.75101182423532e-06,"elapsed_instrumentation":0.00019756401889026165,"return_value":{"class":"String","value":"fb4aa061fecca9c8d8be0cc9","object_id":8154120}},{"id":1495816,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8154140,"value":"{retry=>true, queue=>pull, args=>[111360522570561576, 111360522570561582], class=>UnmergeWorker, jid=>8087ceac8e90011fa67abfa8, created_at=>1699226725.4635584, id=>fb4aa061fecca9c8d8be0cc9}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8154160,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a41acb0>"}},{"id":1495817,"event":"return","thread_id":9160,"parent_id":1495816,"elapsed":2.7834001230075955e-05,"elapsed_instrumentation":0.0006950199895072728,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522570561576,111360522570561582],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8154180}},{"id":1495818,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8154200,"value":"#<JSON::Ext::Parser:0x00007fdc0a412560>"}},{"id":1495819,"event":"return","thread_id":9160,"parent_id":1495818,"elapsed":3.879700670950115e-05,"elapsed_instrumentation":0.0009829310001805425,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522570561576, 111360522570561582], class=>UnmergeWorker, jid=>8087ceac8e90011fa67abfa8, created_at=>1699226725.4635584, id=>fb4aa061fecca9c8d8be0cc9}","object_id":8154220,"size":7}},{"id":1495820,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045141123153,"value":"111360522570561576","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8154240,"value":"#<UnmergeWorker:0x00007fdc0a2adb70>"}},{"id":1495821,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8154240,"value":"#<UnmergeWorker:0x00007fdc0a2adb70>"}},{"id":1495822,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495823,"event":"return","thread_id":9160,"parent_id":1495822,"elapsed":0.001571015,"elapsed_instrumentation":0.00017847100389190018},{"id":1495824,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495825,"event":"return","thread_id":9160,"parent_id":1495824,"elapsed":0.001237406,"elapsed_instrumentation":0.00029791900306008756},{"id":1495826,"event":"return","thread_id":9160,"parent_id":1495821,"elapsed":0.008117774996208027,"elapsed_instrumentation":0.0003932179824914783,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64b8848>","object_id":8154260}},{"id":1495827,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8154240,"value":"#<UnmergeWorker:0x00007fdc0a2adb70>"}},{"id":1495828,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8154280,"value":"#<Account:0x00007fdbf64b8ac8>","kind":"req"},{"name":"into_account","class":"Account","object_id":8154260,"value":"#<Account:0x00007fdbf64b8848>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495829,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495830,"event":"return","thread_id":9160,"parent_id":1495829,"elapsed":9.882001904770732e-06,"elapsed_instrumentation":0.0003324169956613332,"return_value":{"class":"String","value":"feed:home:111360522570561582","object_id":8154300}},{"id":1495831,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495832,"event":"return","thread_id":9160,"parent_id":1495831,"elapsed":7.527007255703211e-06,"elapsed_instrumentation":0.00015715198242105544,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1495833,"event":"return","thread_id":9160,"parent_id":1495828,"elapsed":0.006520344002638012,"elapsed_instrumentation":0.00021001597633585334},{"id":1495834,"event":"return","thread_id":9160,"parent_id":1495827,"elapsed":0.0067920169967692345,"elapsed_instrumentation":0.00026496301870793104},{"id":1495835,"event":"return","thread_id":9160,"parent_id":1495820,"elapsed":0.015683706995332614,"elapsed_instrumentation":0.00015250599244609475},{"id":1495836,"event":"return","thread_id":9160,"parent_id":1495807,"elapsed":0.019558205996872857,"elapsed_instrumentation":0.00026523901033215225,"return_value":{"class":"String","value":"8087ceac8e90011fa67abfa8","object_id":8153980}},{"id":1495837,"event":"return","thread_id":9160,"parent_id":1495752,"elapsed":0.06856035799137317,"elapsed_instrumentation":0.00024094898253679276,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64bb908>","object_id":8153820}},{"id":1495838,"event":"return","thread_id":9160,"parent_id":1495751,"elapsed":0.06884276002529077,"elapsed_instrumentation":0.00018388597527518868,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64bb908>","object_id":8153820}},{"id":1495839,"event":"return","thread_id":9160,"parent_id":1495750,"elapsed":0.06909003900364041,"elapsed_instrumentation":0.0005294189904816449,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64bb908>","object_id":8153820}},{"id":1495840,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8154320,"value":"relationship:111360522570561577:111360522570561582","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8154340,"value":"#<UnfollowService:0x00007fdc072f9708>"}},{"id":1495841,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8154340,"value":"#<UnfollowService:0x00007fdc072f9708>"}},{"id":1495842,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8154360,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8154380,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495843,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495844,"event":"return","thread_id":9160,"parent_id":1495843,"elapsed":5.763984518125653e-06,"elapsed_instrumentation":0.00035808500251732767,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1495845,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8154400,"value":"w_/Z3_&_}_\u0006_B_S\u0003"}},{"id":1495846,"event":"return","thread_id":9160,"parent_id":1495845,"elapsed":8.786999387666583e-06,"elapsed_instrumentation":0.0001803479972295463,"return_value":{"class":"Array","value":"[2008493914, 13260, 9973, 32234, 1757, 1120097027]","object_id":8154420,"size":6}},{"id":1495847,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495848,"event":"return","thread_id":9160,"parent_id":1495847,"elapsed":0.000815562,"elapsed_instrumentation":0.00011479601380415261},{"id":1495849,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8154440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495850,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495851,"event":"return","thread_id":9160,"parent_id":1495850,"elapsed":0.001044478,"elapsed_instrumentation":0.00013851298717781901},{"id":1495852,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495853,"event":"return","thread_id":9160,"parent_id":1495852,"elapsed":0.000870475,"elapsed_instrumentation":0.00012199897901155055},{"id":1495854,"event":"return","thread_id":9160,"parent_id":1495849,"elapsed":0.005080167000414804,"elapsed_instrumentation":0.00047562201507389545,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1495855,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1495856,"event":"return","thread_id":9160,"parent_id":1495855,"elapsed":0.000928924,"elapsed_instrumentation":8.745401282794774e-05},{"id":1495857,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8154440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495858,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1495859,"event":"return","thread_id":9160,"parent_id":1495858,"elapsed":0.001031999,"elapsed_instrumentation":0.0004626680165529251},{"id":1495860,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495861,"event":"return","thread_id":9160,"parent_id":1495860,"elapsed":0.001031203,"elapsed_instrumentation":0.0001262740115635097},{"id":1495862,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8154460,"value":"#<Account:0x00007fdbf64b7588>"}},{"id":1495863,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8154460,"value":"#<Account:0x00007fdbf64b7588>"}},{"id":1495864,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522570561582, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495865,"event":"return","thread_id":9160,"parent_id":1495864,"elapsed":0.001931944,"elapsed_instrumentation":0.00018752101459540427},{"id":1495866,"event":"return","thread_id":9160,"parent_id":1495863,"elapsed":0.0033844499848783016,"elapsed_instrumentation":0.00030398002127185464},{"id":1495867,"event":"return","thread_id":9160,"parent_id":1495862,"elapsed":0.00402583897812292,"elapsed_instrumentation":0.0004778900183737278},{"id":1495868,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495869,"event":"return","thread_id":9160,"parent_id":1495868,"elapsed":0.001180697,"elapsed_instrumentation":0.00018092399113811553},{"id":1495870,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8154480,"value":"#<Account:0x00007fdbf64b67c8>"}},{"id":1495871,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8154480,"value":"#<Account:0x00007fdbf64b67c8>"}},{"id":1495872,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522570561577, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495873,"event":"return","thread_id":9160,"parent_id":1495872,"elapsed":0.001529663,"elapsed_instrumentation":0.00013258698163554072},{"id":1495874,"event":"return","thread_id":9160,"parent_id":1495871,"elapsed":0.0029345210059545934,"elapsed_instrumentation":0.00019628400332294405},{"id":1495875,"event":"return","thread_id":9160,"parent_id":1495870,"elapsed":0.0031794329988770187,"elapsed_instrumentation":0.0005230929818935692},{"id":1495876,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8154460,"value":"#<Account:0x00007fdbf64b7588>"}},{"id":1495877,"event":"return","thread_id":9160,"parent_id":1495876,"elapsed":2.1826010197401047e-05,"elapsed_instrumentation":0.0001574539637658745,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495878,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8154480,"value":"#<Account:0x00007fdbf64b67c8>"}},{"id":1495879,"event":"return","thread_id":9160,"parent_id":1495878,"elapsed":0.00020450097508728504,"elapsed_instrumentation":0.00012481200974434614,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495880,"event":"return","thread_id":9160,"parent_id":1495857,"elapsed":0.021554039005422965,"elapsed_instrumentation":0.0002197199792135507,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1495881,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495882,"event":"return","thread_id":9160,"parent_id":1495881,"elapsed":0.000714331,"elapsed_instrumentation":9.645099635235965e-05},{"id":1495883,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8154520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495884,"event":"return","thread_id":9160,"parent_id":1495883,"elapsed":4.832982085645199e-06,"elapsed_instrumentation":0.00019177497597411275,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1495885,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8154520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495886,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8154540,"value":"Cache delete: relationship:111360522570561582:111360522570561577\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495887,"event":"return","thread_id":9160,"parent_id":1495886,"elapsed":0.0018765109998639673,"elapsed_instrumentation":0.00020309298997744918,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495888,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8154560,"value":"Cache delete: relationship:111360522570561577:111360522570561582\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495889,"event":"return","thread_id":9160,"parent_id":1495888,"elapsed":0.0011252500116825104,"elapsed_instrumentation":0.0002939770056400448,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495890,"event":"return","thread_id":9160,"parent_id":1495885,"elapsed":0.004323425004258752,"elapsed_instrumentation":0.00023899300140328705,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1495891,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8154580,"value":"#<Account:0x00007fdbf64a9258>"}},{"id":1495892,"event":"return","thread_id":9160,"parent_id":1495891,"elapsed":1.9193976186215878e-05,"elapsed_instrumentation":0.00018143601482734084,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495893,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8154580,"value":"#<Account:0x00007fdbf64a9258>"}},{"id":1495894,"event":"return","thread_id":9160,"parent_id":1495893,"elapsed":4.665984306484461e-06,"elapsed_instrumentation":7.825001375749707e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495895,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8150880,"value":"#<Account:0x00007fdbf64aa3d8>"}},{"id":1495896,"event":"return","thread_id":9160,"parent_id":1495895,"elapsed":7.532013114541769e-06,"elapsed_instrumentation":8.42269801069051e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495897,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8154600,"value":"{args=>[111360522570561577, 111360522570561582], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8154620,"value":"#<Sidekiq::Client:0x00007fdc0a289608>"}},{"id":1495898,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8154640,"value":"a_I_`___.\u00179_"}},{"id":1495899,"event":"return","thread_id":9160,"parent_id":1495898,"elapsed":7.352005923166871e-06,"elapsed_instrumentation":0.0002737969916779548,"return_value":{"class":"String","value":"61a449a660b59bd12e1739fa","object_id":8154660}},{"id":1495900,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8154680,"value":"[111360522570561577, 111360522570561582]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8154700,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a286f70>"}},{"id":1495901,"event":"return","thread_id":9160,"parent_id":1495900,"elapsed":9.989016689360142e-06,"elapsed_instrumentation":0.0003323570126667619,"return_value":{"class":"String","value":"[111360522570561577,111360522570561582]","object_id":8154720}},{"id":1495902,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8154740,"value":"#<JSON::Ext::Parser:0x00007fdc0a285a80>"}},{"id":1495903,"event":"return","thread_id":9160,"parent_id":1495902,"elapsed":7.88699253462255e-06,"elapsed_instrumentation":0.0001157470396719873,"return_value":{"class":"Array","value":"[111360522570561577, 111360522570561582]","object_id":8154760,"size":2}},{"id":1495904,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8154780,"value":"____,*o_j__"}},{"id":1495905,"event":"return","thread_id":9160,"parent_id":1495904,"elapsed":7.094989996403456e-06,"elapsed_instrumentation":0.00018861301941797137,"return_value":{"class":"String","value":"bdbc87d57f2c2a6fe26a9481","object_id":8154800}},{"id":1495906,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8154820,"value":"{retry=>true, queue=>pull, args=>[111360522570561577, 111360522570561582], class=>UnmergeWorker, jid=>61a449a660b59bd12e1739fa, created_at=>1699226725.5247786, id=>bdbc87d57f2c2a6fe26a9481}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8154840,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a2831b8>"}},{"id":1495907,"event":"return","thread_id":9160,"parent_id":1495906,"elapsed":1.835398143157363e-05,"elapsed_instrumentation":0.0007006209925748408,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522570561577,111360522570561582],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8154860}},{"id":1495908,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8154880,"value":"#<JSON::Ext::Parser:0x00007fdc0a21ff78>"}},{"id":1495909,"event":"return","thread_id":9160,"parent_id":1495908,"elapsed":2.2644991986453533e-05,"elapsed_instrumentation":0.0005302350036799908,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522570561577, 111360522570561582], class=>UnmergeWorker, jid=>61a449a660b59bd12e1739fa, created_at=>1699226725.5247786, id=>bdbc87d57f2c2a6fe26a9481}","object_id":8154900,"size":7}},{"id":1495910,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045141123155,"value":"111360522570561577","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8154920,"value":"#<UnmergeWorker:0x00007fdc0a21ccb0>"}},{"id":1495911,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8154920,"value":"#<UnmergeWorker:0x00007fdc0a21ccb0>"}},{"id":1495912,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495913,"event":"return","thread_id":9160,"parent_id":1495912,"elapsed":0.001355261,"elapsed_instrumentation":0.00010807000217027962},{"id":1495914,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495915,"event":"return","thread_id":9160,"parent_id":1495914,"elapsed":0.001506507,"elapsed_instrumentation":0.0001200480037368834},{"id":1495916,"event":"return","thread_id":9160,"parent_id":1495911,"elapsed":0.007034303998807445,"elapsed_instrumentation":0.00016982300439849496,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64b4ec8>","object_id":8154940}},{"id":1495917,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8154920,"value":"#<UnmergeWorker:0x00007fdc0a21ccb0>"}},{"id":1495918,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8154960,"value":"#<Account:0x00007fdbf64b5008>","kind":"req"},{"name":"into_account","class":"Account","object_id":8154940,"value":"#<Account:0x00007fdbf64b4ec8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495919,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495920,"event":"return","thread_id":9160,"parent_id":1495919,"elapsed":5.642999894917011e-06,"elapsed_instrumentation":0.00014227101928554475,"return_value":{"class":"String","value":"feed:home:111360522570561582","object_id":8154980}},{"id":1495921,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1495922,"event":"return","thread_id":9160,"parent_id":1495921,"elapsed":7.040012860670686e-06,"elapsed_instrumentation":0.00011642897152341902,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1495923,"event":"return","thread_id":9160,"parent_id":1495918,"elapsed":0.00665721099358052,"elapsed_instrumentation":0.0006074040138628334},{"id":1495924,"event":"return","thread_id":9160,"parent_id":1495917,"elapsed":0.007320848002564162,"elapsed_instrumentation":0.00014014999032951891},{"id":1495925,"event":"return","thread_id":9160,"parent_id":1495910,"elapsed":0.014729396993061528,"elapsed_instrumentation":0.00015590499970130622},{"id":1495926,"event":"return","thread_id":9160,"parent_id":1495897,"elapsed":0.01795748498989269,"elapsed_instrumentation":0.0005143239977769554,"return_value":{"class":"String","value":"61a449a660b59bd12e1739fa","object_id":8154660}},{"id":1495927,"event":"return","thread_id":9160,"parent_id":1495842,"elapsed":0.05927767400862649,"elapsed_instrumentation":0.00021494500106200576,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b8348>","object_id":8154500}},{"id":1495928,"event":"return","thread_id":9160,"parent_id":1495841,"elapsed":0.059523500996874645,"elapsed_instrumentation":9.104199125431478e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b8348>","object_id":8154500}},{"id":1495929,"event":"return","thread_id":9160,"parent_id":1495840,"elapsed":0.05965190500137396,"elapsed_instrumentation":0.0001671510108280927,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b8348>","object_id":8154500}},{"id":1495930,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8155000,"value":"relationship:111360522570561578:111360522570561582","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8155020,"value":"#<UnfollowService:0x00007fdc0730c178>"}},{"id":1495931,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8155020,"value":"#<UnfollowService:0x00007fdc0730c178>"}},{"id":1495932,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8155040,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8155060,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495933,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1495934,"event":"return","thread_id":9160,"parent_id":1495933,"elapsed":4.5199994929134846e-06,"elapsed_instrumentation":9.524699999019504e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1495935,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8155080,"value":"_______K___\u0014____"}},{"id":1495936,"event":"return","thread_id":9160,"parent_id":1495935,"elapsed":8.211005479097366e-06,"elapsed_instrumentation":0.00020520496764220297,"return_value":{"class":"Array","value":"[4143877043, 47574, 56139, 62698, 52500, 3439255181]","object_id":8155100,"size":6}},{"id":1495937,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495938,"event":"return","thread_id":9160,"parent_id":1495937,"elapsed":0.000878067,"elapsed_instrumentation":0.0001228070177603513},{"id":1495939,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8155120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495940,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495941,"event":"return","thread_id":9160,"parent_id":1495940,"elapsed":0.000859374,"elapsed_instrumentation":0.00010315398685634136},{"id":1495942,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1495943,"event":"return","thread_id":9160,"parent_id":1495942,"elapsed":0.000705097,"elapsed_instrumentation":0.00012522301403805614},{"id":1495944,"event":"return","thread_id":9160,"parent_id":1495939,"elapsed":0.004848261014558375,"elapsed_instrumentation":0.00027251197025179863,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1495945,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1495946,"event":"return","thread_id":9160,"parent_id":1495945,"elapsed":0.001598429,"elapsed_instrumentation":0.0003032080130651593},{"id":1495947,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8155120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1495948,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1495949,"event":"return","thread_id":9160,"parent_id":1495948,"elapsed":0.001258657,"elapsed_instrumentation":0.0001853930007200688},{"id":1495950,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495951,"event":"return","thread_id":9160,"parent_id":1495950,"elapsed":0.001532843,"elapsed_instrumentation":0.00021492698579095304},{"id":1495952,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8155140,"value":"#<Account:0x00007fdbf64b4388>"}},{"id":1495953,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8155140,"value":"#<Account:0x00007fdbf64b4388>"}},{"id":1495954,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522570561582, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495955,"event":"return","thread_id":9160,"parent_id":1495954,"elapsed":0.001418077,"elapsed_instrumentation":0.0007193700002972037},{"id":1495956,"event":"return","thread_id":9160,"parent_id":1495953,"elapsed":0.003163994988426566,"elapsed_instrumentation":0.00018790000467561185},{"id":1495957,"event":"return","thread_id":9160,"parent_id":1495952,"elapsed":0.003399456007173285,"elapsed_instrumentation":0.00024107401259243488},{"id":1495958,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1495959,"event":"return","thread_id":9160,"parent_id":1495958,"elapsed":0.001077765,"elapsed_instrumentation":0.00015896698459982872},{"id":1495960,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8155160,"value":"#<Account:0x00007fdbf64b2f88>"}},{"id":1495961,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8155160,"value":"#<Account:0x00007fdbf64b2f88>"}},{"id":1495962,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522570561578, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1495963,"event":"return","thread_id":9160,"parent_id":1495962,"elapsed":0.001311317,"elapsed_instrumentation":0.00022111699217930436},{"id":1495964,"event":"return","thread_id":9160,"parent_id":1495961,"elapsed":0.002983390004374087,"elapsed_instrumentation":0.00029822601936757565},{"id":1495965,"event":"return","thread_id":9160,"parent_id":1495960,"elapsed":0.0033366649877279997,"elapsed_instrumentation":0.00020362800569273531},{"id":1495966,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8155140,"value":"#<Account:0x00007fdbf64b4388>"}},{"id":1495967,"event":"return","thread_id":9160,"parent_id":1495966,"elapsed":2.9726012144237757e-05,"elapsed_instrumentation":0.0005917729868087918,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495968,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8155160,"value":"#<Account:0x00007fdbf64b2f88>"}},{"id":1495969,"event":"return","thread_id":9160,"parent_id":1495968,"elapsed":2.013702760450542e-05,"elapsed_instrumentation":0.00024019097327254713,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495970,"event":"return","thread_id":9160,"parent_id":1495947,"elapsed":0.021198311005719006,"elapsed_instrumentation":0.0006284429982770234,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1495971,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1495972,"event":"return","thread_id":9160,"parent_id":1495971,"elapsed":0.000793115,"elapsed_instrumentation":0.0003227179986424744},{"id":1495973,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8155200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495974,"event":"return","thread_id":9160,"parent_id":1495973,"elapsed":5.7340075727552176e-06,"elapsed_instrumentation":0.000191013008588925,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1495975,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8155200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1495976,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8155220,"value":"Cache delete: relationship:111360522570561582:111360522570561578\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495977,"event":"return","thread_id":9160,"parent_id":1495976,"elapsed":0.0012810120242647827,"elapsed_instrumentation":0.0004026399983558804,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495978,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8155240,"value":"Cache delete: relationship:111360522570561578:111360522570561582\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1495979,"event":"return","thread_id":9160,"parent_id":1495978,"elapsed":0.0022175929916556925,"elapsed_instrumentation":0.00038475802284665406,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1495980,"event":"return","thread_id":9160,"parent_id":1495975,"elapsed":0.0047772319812793285,"elapsed_instrumentation":0.00014539604308083653,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1495981,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8155260,"value":"#<Account:0x00007fdbf64a9118>"}},{"id":1495982,"event":"return","thread_id":9160,"parent_id":1495981,"elapsed":1.776000135578215e-05,"elapsed_instrumentation":0.00010524899698793888,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495983,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8155260,"value":"#<Account:0x00007fdbf64a9118>"}},{"id":1495984,"event":"return","thread_id":9160,"parent_id":1495983,"elapsed":4.083995008841157e-06,"elapsed_instrumentation":0.00046671199379488826,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495985,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8150880,"value":"#<Account:0x00007fdbf64aa3d8>"}},{"id":1495986,"event":"return","thread_id":9160,"parent_id":1495985,"elapsed":1.0485993698239326e-05,"elapsed_instrumentation":0.0001522590173408389,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1495987,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8155280,"value":"{args=>[111360522570561578, 111360522570561582], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8155300,"value":"#<Sidekiq::Client:0x00007fdc0a16de68>"}},{"id":1495988,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8155320,"value":"\u0016________RZ_"}},{"id":1495989,"event":"return","thread_id":9160,"parent_id":1495988,"elapsed":7.292022928595543e-06,"elapsed_instrumentation":0.00021845000446774065,"return_value":{"class":"String","value":"16d386e65fee90b5e3525aef","object_id":8155340}},{"id":1495990,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8155360,"value":"[111360522570561578, 111360522570561582]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8155380,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a16a470>"}},{"id":1495991,"event":"return","thread_id":9160,"parent_id":1495990,"elapsed":7.279013516381383e-06,"elapsed_instrumentation":0.00013412497355602682,"return_value":{"class":"String","value":"[111360522570561578,111360522570561582]","object_id":8155400}},{"id":1495992,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8155420,"value":"#<JSON::Ext::Parser:0x00007fdc0a168e40>"}},{"id":1495993,"event":"return","thread_id":9160,"parent_id":1495992,"elapsed":6.2610197346657515e-06,"elapsed_instrumentation":8.703800267539918e-05,"return_value":{"class":"Array","value":"[111360522570561578, 111360522570561582]","object_id":8155440,"size":2}},{"id":1495994,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8155460,"value":" c__\u0014D_____j"}},{"id":1495995,"event":"return","thread_id":9160,"parent_id":1495994,"elapsed":6.859016139060259e-06,"elapsed_instrumentation":0.0003040699812117964,"return_value":{"class":"String","value":"20639df71444ecd0d9a4de6a","object_id":8155480}},{"id":1495996,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8155500,"value":"{retry=>true, queue=>pull, args=>[111360522570561578, 111360522570561582], class=>UnmergeWorker, jid=>16d386e65fee90b5e3525aef, created_at=>1699226725.5864954, id=>20639df71444ecd0d9a4de6a}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8155520,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a165d30>"}},{"id":1495997,"event":"return","thread_id":9160,"parent_id":1495996,"elapsed":1.6973994206637144e-05,"elapsed_instrumentation":0.00030532199889421463,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522570561578,111360522570561582],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8155540}},{"id":1495998,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8155560,"value":"#<JSON::Ext::Parser:0x00007fdc0a161668>"}},{"id":1495999,"event":"return","thread_id":9160,"parent_id":1495998,"elapsed":3.766498412005603e-05,"elapsed_instrumentation":0.00029998100944794714,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522570561578, 111360522570561582], class=>UnmergeWorker, jid=>16d386e65fee90b5e3525aef, created_at=>1699226725.5864954, id=>20639df71444ecd0d9a4de6a}","object_id":8155580,"size":7}},{"id":1496000,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045141123157,"value":"111360522570561578","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8155600,"value":"#<UnmergeWorker:0x00007fdc0a17d610>"}},{"id":1496001,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8155600,"value":"#<UnmergeWorker:0x00007fdc0a17d610>"}},{"id":1496002,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496003,"event":"return","thread_id":9160,"parent_id":1496002,"elapsed":0.000954941,"elapsed_instrumentation":0.00028827000642195344},{"id":1496004,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496005,"event":"return","thread_id":9160,"parent_id":1496004,"elapsed":0.001030583,"elapsed_instrumentation":0.00011015299241989851},{"id":1496006,"event":"return","thread_id":9160,"parent_id":1496001,"elapsed":0.006070859992178157,"elapsed_instrumentation":0.00019127503037452698,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64b17c8>","object_id":8155620}},{"id":1496007,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8155600,"value":"#<UnmergeWorker:0x00007fdc0a17d610>"}},{"id":1496008,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8155640,"value":"#<Account:0x00007fdbf64b1908>","kind":"req"},{"name":"into_account","class":"Account","object_id":8155620,"value":"#<Account:0x00007fdbf64b17c8>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496009,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496010,"event":"return","thread_id":9160,"parent_id":1496009,"elapsed":5.416979547590017e-06,"elapsed_instrumentation":0.00016335101099684834,"return_value":{"class":"String","value":"feed:home:111360522570561582","object_id":8155660}},{"id":1496011,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496012,"event":"return","thread_id":9160,"parent_id":1496011,"elapsed":7.41099938750267e-06,"elapsed_instrumentation":8.752499707043171e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1496013,"event":"return","thread_id":9160,"parent_id":1496008,"elapsed":0.005575517978286371,"elapsed_instrumentation":0.0004479230265133083},{"id":1496014,"event":"return","thread_id":9160,"parent_id":1496007,"elapsed":0.00607805501203984,"elapsed_instrumentation":0.00014181603910401464},{"id":1496015,"event":"return","thread_id":9160,"parent_id":1496000,"elapsed":0.012557912996271625,"elapsed_instrumentation":0.00014115197700448334},{"id":1496016,"event":"return","thread_id":9160,"parent_id":1495987,"elapsed":0.014773385017178953,"elapsed_instrumentation":0.0005397099885158241,"return_value":{"class":"String","value":"16d386e65fee90b5e3525aef","object_id":8155340}},{"id":1496017,"event":"return","thread_id":9160,"parent_id":1495932,"elapsed":0.05810995100182481,"elapsed_instrumentation":0.00037121199420653284,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b4c48>","object_id":8155180}},{"id":1496018,"event":"return","thread_id":9160,"parent_id":1495931,"elapsed":0.058516283985227346,"elapsed_instrumentation":0.00010732901864685118,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b4c48>","object_id":8155180}},{"id":1496019,"event":"return","thread_id":9160,"parent_id":1495930,"elapsed":0.058663805975811556,"elapsed_instrumentation":0.00017984301666729152,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b4c48>","object_id":8155180}},{"id":1496020,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8155680,"value":"relationship:111360522570561579:111360522570561582","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8155700,"value":"#<UnfollowService:0x00007fdc0732f4c0>"}},{"id":1496021,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8155700,"value":"#<UnfollowService:0x00007fdc0732f4c0>"}},{"id":1496022,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8155720,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8155740,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496023,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496024,"event":"return","thread_id":9160,"parent_id":1496023,"elapsed":7.591006578877568e-06,"elapsed_instrumentation":0.0003264640108682215,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1496025,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8155760,"value":"=\u0003_\u0003\r_H__;_N\u0015_g_"}},{"id":1496026,"event":"return","thread_id":9160,"parent_id":1496025,"elapsed":1.1952011846005917e-05,"elapsed_instrumentation":0.0005338999908417463,"return_value":{"class":"Array","value":"[1023666947, 3423, 18651, 64827, 52814, 364603326]","object_id":8155780,"size":6}},{"id":1496027,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496028,"event":"return","thread_id":9160,"parent_id":1496027,"elapsed":0.001006573,"elapsed_instrumentation":0.00018435699166730046},{"id":1496029,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8155800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496030,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496031,"event":"return","thread_id":9160,"parent_id":1496030,"elapsed":0.000624466,"elapsed_instrumentation":0.00015841101412661374},{"id":1496032,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496033,"event":"return","thread_id":9160,"parent_id":1496032,"elapsed":0.000531675,"elapsed_instrumentation":0.00012517999857664108},{"id":1496034,"event":"return","thread_id":9160,"parent_id":1496029,"elapsed":0.004852882004342973,"elapsed_instrumentation":0.0004077100020367652,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1496035,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1496036,"event":"return","thread_id":9160,"parent_id":1496035,"elapsed":0.00091216,"elapsed_instrumentation":0.00018704700050875545},{"id":1496037,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8155800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496038,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1496039,"event":"return","thread_id":9160,"parent_id":1496038,"elapsed":0.00085929,"elapsed_instrumentation":0.00013259300612844527},{"id":1496040,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496041,"event":"return","thread_id":9160,"parent_id":1496040,"elapsed":0.001337686,"elapsed_instrumentation":0.0002035429934039712},{"id":1496042,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8155820,"value":"#<Account:0x00007fdbf64b08c8>"}},{"id":1496043,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8155820,"value":"#<Account:0x00007fdbf64b08c8>"}},{"id":1496044,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522570561582, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496045,"event":"return","thread_id":9160,"parent_id":1496044,"elapsed":0.001779066,"elapsed_instrumentation":0.0001735989935696125},{"id":1496046,"event":"return","thread_id":9160,"parent_id":1496043,"elapsed":0.003060554008698091,"elapsed_instrumentation":0.00020405001123435795},{"id":1496047,"event":"return","thread_id":9160,"parent_id":1496042,"elapsed":0.0033156099962070584,"elapsed_instrumentation":0.00022803901811130345},{"id":1496048,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496049,"event":"return","thread_id":9160,"parent_id":1496048,"elapsed":0.000820585,"elapsed_instrumentation":0.00010770600056275725},{"id":1496050,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8155840,"value":"#<Account:0x00007fdbf64cf7a0>"}},{"id":1496051,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8155840,"value":"#<Account:0x00007fdbf64cf7a0>"}},{"id":1496052,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522570561579, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496053,"event":"return","thread_id":9160,"parent_id":1496052,"elapsed":0.000953487,"elapsed_instrumentation":9.137101005762815e-05},{"id":1496054,"event":"return","thread_id":9160,"parent_id":1496051,"elapsed":0.0017183409945573658,"elapsed_instrumentation":0.00010347203351557255},{"id":1496055,"event":"return","thread_id":9160,"parent_id":1496050,"elapsed":0.001851123000960797,"elapsed_instrumentation":0.0001557689975015819},{"id":1496056,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8155820,"value":"#<Account:0x00007fdbf64b08c8>"}},{"id":1496057,"event":"return","thread_id":9160,"parent_id":1496056,"elapsed":1.5847996110096574e-05,"elapsed_instrumentation":0.00011406102566979825,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496058,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8155840,"value":"#<Account:0x00007fdbf64cf7a0>"}},{"id":1496059,"event":"return","thread_id":9160,"parent_id":1496058,"elapsed":8.015020284801722e-06,"elapsed_instrumentation":7.319397991523147e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496060,"event":"return","thread_id":9160,"parent_id":1496037,"elapsed":0.017499152017990127,"elapsed_instrumentation":0.0004972449969500303,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1496061,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496062,"event":"return","thread_id":9160,"parent_id":1496061,"elapsed":0.000701354,"elapsed_instrumentation":0.00010211300104856491},{"id":1496063,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8155880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496064,"event":"return","thread_id":9160,"parent_id":1496063,"elapsed":4.7209905460476875e-06,"elapsed_instrumentation":0.00019750199862755835,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1496065,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8155880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496066,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8155900,"value":"Cache delete: relationship:111360522570561582:111360522570561579\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496067,"event":"return","thread_id":9160,"parent_id":1496066,"elapsed":0.0010032090067397803,"elapsed_instrumentation":0.00030341101228259504,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496068,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8155920,"value":"Cache delete: relationship:111360522570561579:111360522570561582\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496069,"event":"return","thread_id":9160,"parent_id":1496068,"elapsed":0.001206826011184603,"elapsed_instrumentation":0.00017668900545686483,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496070,"event":"return","thread_id":9160,"parent_id":1496065,"elapsed":0.0031185710104182363,"elapsed_instrumentation":0.0015171639970503747,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1496071,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8155940,"value":"#<Account:0x00007fdbf64a8fd8>"}},{"id":1496072,"event":"return","thread_id":9160,"parent_id":1496071,"elapsed":1.6663019778206944e-05,"elapsed_instrumentation":0.0002727869723457843,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496073,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8155940,"value":"#<Account:0x00007fdbf64a8fd8>"}},{"id":1496074,"event":"return","thread_id":9160,"parent_id":1496073,"elapsed":8.843984687700868e-06,"elapsed_instrumentation":0.0001145200221799314,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496075,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8150880,"value":"#<Account:0x00007fdbf64aa3d8>"}},{"id":1496076,"event":"return","thread_id":9160,"parent_id":1496075,"elapsed":9.759998647496104e-06,"elapsed_instrumentation":0.00012898797285743058,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496077,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8155960,"value":"{args=>[111360522570561579, 111360522570561582], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8155980,"value":"#<Sidekiq::Client:0x00007fdc0a0aa058>"}},{"id":1496078,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8156000,"value":"l_X_\u000f~_C1__-"}},{"id":1496079,"event":"return","thread_id":9160,"parent_id":1496078,"elapsed":8.787988917902112e-06,"elapsed_instrumentation":0.0013957519840914756,"return_value":{"class":"String","value":"6cde58e60f7ed04331eff22d","object_id":8156020}},{"id":1496080,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8156040,"value":"[111360522570561579, 111360522570561582]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8156060,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a0a7998>"}},{"id":1496081,"event":"return","thread_id":9160,"parent_id":1496080,"elapsed":1.1842988897114992e-05,"elapsed_instrumentation":0.00018669402925297618,"return_value":{"class":"String","value":"[111360522570561579,111360522570561582]","object_id":8156080}},{"id":1496082,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8156100,"value":"#<JSON::Ext::Parser:0x00007fdc0a0a63e0>"}},{"id":1496083,"event":"return","thread_id":9160,"parent_id":1496082,"elapsed":6.032001692801714e-06,"elapsed_instrumentation":0.00011628400534391403,"return_value":{"class":"Array","value":"[111360522570561579, 111360522570561582]","object_id":8156120,"size":2}},{"id":1496084,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8156140,"value":"__f*_\u000e|_\f\u0007\nn"}},{"id":1496085,"event":"return","thread_id":9160,"parent_id":1496084,"elapsed":4.072004230692983e-06,"elapsed_instrumentation":0.00011096498928964138,"return_value":{"class":"String","value":"9c89662ae00e7cc90c070a6e","object_id":8156160}},{"id":1496086,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8156180,"value":"{retry=>true, queue=>pull, args=>[111360522570561579, 111360522570561582], class=>UnmergeWorker, jid=>6cde58e60f7ed04331eff22d, created_at=>1699226725.6437724, id=>9c89662ae00e7cc90c070a6e}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8156200,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a0a3078>"}},{"id":1496087,"event":"return","thread_id":9160,"parent_id":1496086,"elapsed":1.4498014934360981e-05,"elapsed_instrumentation":0.00020984001457691193,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522570561579,111360522570561582],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8156220}},{"id":1496088,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8156240,"value":"#<JSON::Ext::Parser:0x00007fdc0a0a0120>"}},{"id":1496089,"event":"return","thread_id":9160,"parent_id":1496088,"elapsed":0.00011354300659149885,"elapsed_instrumentation":0.0004423159989528358,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522570561579, 111360522570561582], class=>UnmergeWorker, jid=>6cde58e60f7ed04331eff22d, created_at=>1699226725.6437724, id=>9c89662ae00e7cc90c070a6e}","object_id":8156260,"size":7}},{"id":1496090,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045141123159,"value":"111360522570561579","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8156280,"value":"#<UnmergeWorker:0x00007fdc0a0cd468>"}},{"id":1496091,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8156280,"value":"#<UnmergeWorker:0x00007fdc0a0cd468>"}},{"id":1496092,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496093,"event":"return","thread_id":9160,"parent_id":1496092,"elapsed":0.001001173,"elapsed_instrumentation":0.00011747298412956297},{"id":1496094,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496095,"event":"return","thread_id":9160,"parent_id":1496094,"elapsed":0.001075776,"elapsed_instrumentation":0.000326607987517491},{"id":1496096,"event":"return","thread_id":9160,"parent_id":1496091,"elapsed":0.00555019301827997,"elapsed_instrumentation":0.00017133497749455273,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64cdfe0>","object_id":8156300}},{"id":1496097,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8156280,"value":"#<UnmergeWorker:0x00007fdc0a0cd468>"}},{"id":1496098,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8156320,"value":"#<Account:0x00007fdbf64ce120>","kind":"req"},{"name":"into_account","class":"Account","object_id":8156300,"value":"#<Account:0x00007fdbf64cdfe0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496099,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496100,"event":"return","thread_id":9160,"parent_id":1496099,"elapsed":1.187098678201437e-05,"elapsed_instrumentation":0.0004228060133755207,"return_value":{"class":"String","value":"feed:home:111360522570561582","object_id":8156340}},{"id":1496101,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496102,"event":"return","thread_id":9160,"parent_id":1496101,"elapsed":8.962990250438452e-06,"elapsed_instrumentation":0.00016107800183817744,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1496103,"event":"return","thread_id":9160,"parent_id":1496098,"elapsed":0.007715446001384407,"elapsed_instrumentation":0.00024922797456383705},{"id":1496104,"event":"return","thread_id":9160,"parent_id":1496097,"elapsed":0.008034119004150853,"elapsed_instrumentation":0.00020930200116708875},{"id":1496105,"event":"return","thread_id":9160,"parent_id":1496090,"elapsed":0.014044126000953838,"elapsed_instrumentation":0.0001115649938583374},{"id":1496106,"event":"return","thread_id":9160,"parent_id":1496077,"elapsed":0.017532560013933107,"elapsed_instrumentation":0.00039020899566821754,"return_value":{"class":"String","value":"6cde58e60f7ed04331eff22d","object_id":8156020}},{"id":1496107,"event":"return","thread_id":9160,"parent_id":1496022,"elapsed":0.05822318297578022,"elapsed_instrumentation":0.0004429470282047987,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b1548>","object_id":8155860}},{"id":1496108,"event":"return","thread_id":9160,"parent_id":1496021,"elapsed":0.05872131799696945,"elapsed_instrumentation":0.0001587799924891442,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b1548>","object_id":8155860}},{"id":1496109,"event":"return","thread_id":9160,"parent_id":1496020,"elapsed":0.058942514995578676,"elapsed_instrumentation":0.00045390703598968685,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64b1548>","object_id":8155860}},{"id":1496110,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8156360,"value":"relationship:111360522570561580:111360522570561582","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8156380,"value":"#<UnfollowService:0x00007fdc07321dc0>"}},{"id":1496111,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8156380,"value":"#<UnfollowService:0x00007fdc07321dc0>"}},{"id":1496112,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8156400,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8156420,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496113,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496114,"event":"return","thread_id":9160,"parent_id":1496113,"elapsed":7.005000952631235e-06,"elapsed_instrumentation":0.00043312000343576074,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1496115,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8156440,"value":"_M_t___\u0004)=Q\u000f\t\u0017\u0016_"}},{"id":1496116,"event":"return","thread_id":9160,"parent_id":1496115,"elapsed":1.1113996151834726e-05,"elapsed_instrumentation":0.00034128999686799943,"return_value":{"class":"Array","value":"[2353911156, 53233, 49412, 10557, 20751, 152508150]","object_id":8156460,"size":6}},{"id":1496117,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496118,"event":"return","thread_id":9160,"parent_id":1496117,"elapsed":0.000755166,"elapsed_instrumentation":0.00012221100041642785},{"id":1496119,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8156480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496120,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496121,"event":"return","thread_id":9160,"parent_id":1496120,"elapsed":0.000648212,"elapsed_instrumentation":9.127301746048033e-05},{"id":1496122,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496123,"event":"return","thread_id":9160,"parent_id":1496122,"elapsed":0.000463468,"elapsed_instrumentation":0.0001019769988488406},{"id":1496124,"event":"return","thread_id":9160,"parent_id":1496119,"elapsed":0.003063305019168183,"elapsed_instrumentation":0.0002345760294701904,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1496125,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1496126,"event":"return","thread_id":9160,"parent_id":1496125,"elapsed":0.000989537,"elapsed_instrumentation":7.927199476398528e-05},{"id":1496127,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8156480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496128,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1496129,"event":"return","thread_id":9160,"parent_id":1496128,"elapsed":0.00086632,"elapsed_instrumentation":7.960299262776971e-05},{"id":1496130,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496131,"event":"return","thread_id":9160,"parent_id":1496130,"elapsed":0.000830475,"elapsed_instrumentation":7.621900294907391e-05},{"id":1496132,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8156500,"value":"#<Account:0x00007fdbf64cd4a0>"}},{"id":1496133,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8156500,"value":"#<Account:0x00007fdbf64cd4a0>"}},{"id":1496134,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522570561582, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496135,"event":"return","thread_id":9160,"parent_id":1496134,"elapsed":0.001054656,"elapsed_instrumentation":8.14629893284291e-05},{"id":1496136,"event":"return","thread_id":9160,"parent_id":1496133,"elapsed":0.0016318830021191388,"elapsed_instrumentation":0.0003393600054550916},{"id":1496137,"event":"return","thread_id":9160,"parent_id":1496132,"elapsed":0.002002135996008292,"elapsed_instrumentation":0.0001433930010534823},{"id":1496138,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496139,"event":"return","thread_id":9160,"parent_id":1496138,"elapsed":0.000763286,"elapsed_instrumentation":7.992400787770748e-05},{"id":1496140,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8156520,"value":"#<Account:0x00007fdbf64cbf60>"}},{"id":1496141,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8156520,"value":"#<Account:0x00007fdbf64cbf60>"}},{"id":1496142,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522570561580, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496143,"event":"return","thread_id":9160,"parent_id":1496142,"elapsed":0.001800209,"elapsed_instrumentation":9.081501048058271e-05},{"id":1496144,"event":"return","thread_id":9160,"parent_id":1496141,"elapsed":0.0024226649838965386,"elapsed_instrumentation":0.0015524830087088048},{"id":1496145,"event":"return","thread_id":9160,"parent_id":1496140,"elapsed":0.004008429998066276,"elapsed_instrumentation":0.00013262199354358017},{"id":1496146,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8156500,"value":"#<Account:0x00007fdbf64cd4a0>"}},{"id":1496147,"event":"return","thread_id":9160,"parent_id":1496146,"elapsed":1.806599902920425e-05,"elapsed_instrumentation":0.000567126990063116,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496148,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8156520,"value":"#<Account:0x00007fdbf64cbf60>"}},{"id":1496149,"event":"return","thread_id":9160,"parent_id":1496148,"elapsed":2.487600431777537e-05,"elapsed_instrumentation":0.00016657097148709,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496150,"event":"return","thread_id":9160,"parent_id":1496127,"elapsed":0.015513202000875026,"elapsed_instrumentation":0.00023929899907670915,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1496151,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496152,"event":"return","thread_id":9160,"parent_id":1496151,"elapsed":0.000746764,"elapsed_instrumentation":0.00014160899445414543},{"id":1496153,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8156560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496154,"event":"return","thread_id":9160,"parent_id":1496153,"elapsed":3.89301567338407e-06,"elapsed_instrumentation":0.00018137198640033603,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1496155,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8156560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496156,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8156580,"value":"Cache delete: relationship:111360522570561582:111360522570561580\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496157,"event":"return","thread_id":9160,"parent_id":1496156,"elapsed":0.0012038990098517388,"elapsed_instrumentation":0.00022556097246706486,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496158,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8156600,"value":"Cache delete: relationship:111360522570561580:111360522570561582\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496159,"event":"return","thread_id":9160,"parent_id":1496158,"elapsed":0.0009550870163366199,"elapsed_instrumentation":0.0002704579965211451,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496160,"event":"return","thread_id":9160,"parent_id":1496155,"elapsed":0.0034824559988919646,"elapsed_instrumentation":0.00038466500700451434,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1496161,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8156620,"value":"#<Account:0x00007fdbf64a8d58>"}},{"id":1496162,"event":"return","thread_id":9160,"parent_id":1496161,"elapsed":1.795301795937121e-05,"elapsed_instrumentation":0.0001101129746530205,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496163,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8156620,"value":"#<Account:0x00007fdbf64a8d58>"}},{"id":1496164,"event":"return","thread_id":9160,"parent_id":1496163,"elapsed":6.05199602432549e-06,"elapsed_instrumentation":0.00026958397938869894,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496165,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8150880,"value":"#<Account:0x00007fdbf64aa3d8>"}},{"id":1496166,"event":"return","thread_id":9160,"parent_id":1496165,"elapsed":4.639994585886598e-06,"elapsed_instrumentation":8.264798088930547e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496167,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8156640,"value":"{args=>[111360522570561580, 111360522570561582], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8156660,"value":"#<Sidekiq::Client:0x00007fdc0a034100>"}},{"id":1496168,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8156680,"value":"\u0012____\r___\"__"}},{"id":1496169,"event":"return","thread_id":9160,"parent_id":1496168,"elapsed":4.99398447573185e-06,"elapsed_instrumentation":0.00011957701644860208,"return_value":{"class":"String","value":"12c7a8f4b60dd2f8fe22c7f8","object_id":8156700}},{"id":1496170,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8156720,"value":"[111360522570561580, 111360522570561582]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8156740,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a030ff0>"}},{"id":1496171,"event":"return","thread_id":9160,"parent_id":1496170,"elapsed":1.292000524699688e-05,"elapsed_instrumentation":0.00032323499908670783,"return_value":{"class":"String","value":"[111360522570561580,111360522570561582]","object_id":8156760}},{"id":1496172,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8156780,"value":"#<JSON::Ext::Parser:0x00007fdc0a04ff68>"}},{"id":1496173,"event":"return","thread_id":9160,"parent_id":1496172,"elapsed":1.0180985555052757e-05,"elapsed_instrumentation":0.0002094410010613501,"return_value":{"class":"Array","value":"[111360522570561580, 111360522570561582]","object_id":8156800,"size":2}},{"id":1496174,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8156820,"value":".\u0017_XR\u0003____n_"}},{"id":1496175,"event":"return","thread_id":9160,"parent_id":1496174,"elapsed":4.229979822412133e-06,"elapsed_instrumentation":0.0001405240036547184,"return_value":{"class":"String","value":"2e17aa58520385d287886ef7","object_id":8156840}},{"id":1496176,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8156860,"value":"{retry=>true, queue=>pull, args=>[111360522570561580, 111360522570561582], class=>UnmergeWorker, jid=>12c7a8f4b60dd2f8fe22c7f8, created_at=>1699226725.695785, id=>2e17aa58520385d287886ef7}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8156880,"value":"#<JSON::Ext::Generator::State:0x00007fdc0a04e488>"}},{"id":1496177,"event":"return","thread_id":9160,"parent_id":1496176,"elapsed":0.0002492640051059425,"elapsed_instrumentation":0.0002789850113913417,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522570561580,111360522570561582],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8156900}},{"id":1496178,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8156920,"value":"#<JSON::Ext::Parser:0x00007fdc0a04bf58>"}},{"id":1496179,"event":"return","thread_id":9160,"parent_id":1496178,"elapsed":3.140300395898521e-05,"elapsed_instrumentation":0.00028499902691692114,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522570561580, 111360522570561582], class=>UnmergeWorker, jid=>12c7a8f4b60dd2f8fe22c7f8, created_at=>1699226725.695785, id=>2e17aa58520385d287886ef7}","object_id":8156940,"size":7}},{"id":1496180,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045141123161,"value":"111360522570561580","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8156960,"value":"#<UnmergeWorker:0x00007fdc0a0495c8>"}},{"id":1496181,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8156960,"value":"#<UnmergeWorker:0x00007fdc0a0495c8>"}},{"id":1496182,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496183,"event":"return","thread_id":9160,"parent_id":1496182,"elapsed":0.001117468,"elapsed_instrumentation":0.00011164299212396145},{"id":1496184,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496185,"event":"return","thread_id":9160,"parent_id":1496184,"elapsed":0.001198826,"elapsed_instrumentation":0.00017968600150197744},{"id":1496186,"event":"return","thread_id":9160,"parent_id":1496181,"elapsed":0.006900777982082218,"elapsed_instrumentation":0.00023234900436364114,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64ca3e0>","object_id":8156980}},{"id":1496187,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8156960,"value":"#<UnmergeWorker:0x00007fdc0a0495c8>"}},{"id":1496188,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8157000,"value":"#<Account:0x00007fdbf64ca520>","kind":"req"},{"name":"into_account","class":"Account","object_id":8156980,"value":"#<Account:0x00007fdbf64ca3e0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496189,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496190,"event":"return","thread_id":9160,"parent_id":1496189,"elapsed":9.840994607657194e-06,"elapsed_instrumentation":0.0002503110154066235,"return_value":{"class":"String","value":"feed:home:111360522570561582","object_id":8157020}},{"id":1496191,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496192,"event":"return","thread_id":9160,"parent_id":1496191,"elapsed":9.611016139388084e-06,"elapsed_instrumentation":0.0002940130070783198,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1496193,"event":"return","thread_id":9160,"parent_id":1496188,"elapsed":0.007696683023823425,"elapsed_instrumentation":0.0006391039933077991},{"id":1496194,"event":"return","thread_id":9160,"parent_id":1496187,"elapsed":0.009988815989345312,"elapsed_instrumentation":0.00024114098050631583},{"id":1496195,"event":"return","thread_id":9160,"parent_id":1496180,"elapsed":0.01761110097868368,"elapsed_instrumentation":0.0001640290138311684},{"id":1496196,"event":"return","thread_id":9160,"parent_id":1496167,"elapsed":0.019869508018018678,"elapsed_instrumentation":0.00020230200607329607,"return_value":{"class":"String","value":"12c7a8f4b60dd2f8fe22c7f8","object_id":8156700}},{"id":1496197,"event":"return","thread_id":9160,"parent_id":1496112,"elapsed":0.05247380799846724,"elapsed_instrumentation":0.00043344200821593404,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64cdd60>","object_id":8156540}},{"id":1496198,"event":"return","thread_id":9160,"parent_id":1496111,"elapsed":0.05318009600159712,"elapsed_instrumentation":0.00031457297154702246,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64cdd60>","object_id":8156540}},{"id":1496199,"event":"return","thread_id":9160,"parent_id":1496110,"elapsed":0.053560094005661085,"elapsed_instrumentation":0.0002856880018953234,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64cdd60>","object_id":8156540}},{"id":1496200,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8157040,"value":"relationship:111360522570561581:111360522570561582","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8157060,"value":"#<UnfollowService:0x00007fdc07346378>"}},{"id":1496201,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8157060,"value":"#<UnfollowService:0x00007fdc07346378>"}},{"id":1496202,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8157080,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8157100,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496203,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1496204,"event":"return","thread_id":9160,"parent_id":1496203,"elapsed":3.388006007298827e-06,"elapsed_instrumentation":0.00010799700976349413,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1496205,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8157120,"value":"__vtG__#\"__\u001aa___"}},{"id":1496206,"event":"return","thread_id":9160,"parent_id":1496205,"elapsed":8.869013981893659e-06,"elapsed_instrumentation":0.0012761979887727648,"return_value":{"class":"Array","value":"[3483137652, 18374, 44067, 8869, 56090, 1643743154]","object_id":8157140,"size":6}},{"id":1496207,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496208,"event":"return","thread_id":9160,"parent_id":1496207,"elapsed":0.000774801,"elapsed_instrumentation":9.953099652193487e-05},{"id":1496209,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8157160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496210,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496211,"event":"return","thread_id":9160,"parent_id":1496210,"elapsed":0.00106592,"elapsed_instrumentation":0.00036942498991265893},{"id":1496212,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1496213,"event":"return","thread_id":9160,"parent_id":1496212,"elapsed":0.001028035,"elapsed_instrumentation":0.00020960901747457683},{"id":1496214,"event":"return","thread_id":9160,"parent_id":1496209,"elapsed":0.006053908000467345,"elapsed_instrumentation":0.00040274098864756525,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1496215,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1496216,"event":"return","thread_id":9160,"parent_id":1496215,"elapsed":0.000997132,"elapsed_instrumentation":7.917900802567601e-05},{"id":1496217,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8157160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1496218,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1496219,"event":"return","thread_id":9160,"parent_id":1496218,"elapsed":0.001048944,"elapsed_instrumentation":0.0001827990054152906},{"id":1496220,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496221,"event":"return","thread_id":9160,"parent_id":1496220,"elapsed":0.00156188,"elapsed_instrumentation":0.00031383600435219705},{"id":1496222,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8157180,"value":"#<Account:0x00007fdbf64c98a0>"}},{"id":1496223,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8157180,"value":"#<Account:0x00007fdbf64c98a0>"}},{"id":1496224,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522570561582, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496225,"event":"return","thread_id":9160,"parent_id":1496224,"elapsed":0.001683108,"elapsed_instrumentation":0.00010350000229664147},{"id":1496226,"event":"return","thread_id":9160,"parent_id":1496223,"elapsed":0.0029053629841655493,"elapsed_instrumentation":0.00020532700000330806},{"id":1496227,"event":"return","thread_id":9160,"parent_id":1496222,"elapsed":0.003158476989483461,"elapsed_instrumentation":0.0003290679887868464},{"id":1496228,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496229,"event":"return","thread_id":9160,"parent_id":1496228,"elapsed":0.001806275,"elapsed_instrumentation":0.0004660499980673194},{"id":1496230,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8157200,"value":"#<Account:0x00007fdbf64c8ae0>"}},{"id":1496231,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8157200,"value":"#<Account:0x00007fdbf64c8ae0>"}},{"id":1496232,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522570561581, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1496233,"event":"return","thread_id":9160,"parent_id":1496232,"elapsed":0.002252225,"elapsed_instrumentation":0.0001700349966995418},{"id":1496234,"event":"return","thread_id":9160,"parent_id":1496231,"elapsed":0.0037491459806915373,"elapsed_instrumentation":0.00021328701404854655},{"id":1496235,"event":"return","thread_id":9160,"parent_id":1496230,"elapsed":0.004019771993625909,"elapsed_instrumentation":0.0003969589888583869},{"id":1496236,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8157180,"value":"#<Account:0x00007fdbf64c98a0>"}},{"id":1496237,"event":"return","thread_id":9160,"parent_id":1496236,"elapsed":2.5002984330058098e-05,"elapsed_instrumentation":0.00020110001787543297,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496238,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8157200,"value":"#<Account:0x00007fdbf64c8ae0>"}},{"id":1496239,"event":"return","thread_id":9160,"parent_id":1496238,"elapsed":1.3073004083707929e-05,"elapsed_instrumentation":0.00011628298670984805,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496240,"event":"return","thread_id":9160,"parent_id":1496217,"elapsed":0.02509719500085339,"elapsed_instrumentation":0.0005419419903773814,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1496241,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1496242,"event":"return","thread_id":9160,"parent_id":1496241,"elapsed":0.000709959,"elapsed_instrumentation":0.00015710698789916933},{"id":1496243,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8157240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496244,"event":"return","thread_id":9160,"parent_id":1496243,"elapsed":6.732996553182602e-06,"elapsed_instrumentation":0.0002427629951853305,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1496245,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8157240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1496246,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8157260,"value":"Cache delete: relationship:111360522570561582:111360522570561581\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496247,"event":"return","thread_id":9160,"parent_id":1496246,"elapsed":0.0019364249892532825,"elapsed_instrumentation":0.0002646429929882288,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496248,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8157280,"value":"Cache delete: relationship:111360522570561581:111360522570561582\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1496249,"event":"return","thread_id":9160,"parent_id":1496248,"elapsed":0.0021759819937869906,"elapsed_instrumentation":0.00035165101871825755,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1496250,"event":"return","thread_id":9160,"parent_id":1496245,"elapsed":0.005554228002438322,"elapsed_instrumentation":0.0005240160098765045,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1496251,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8157300,"value":"#<Account:0x00007fdbf64a8c18>"}},{"id":1496252,"event":"return","thread_id":9160,"parent_id":1496251,"elapsed":3.815599484369159e-05,"elapsed_instrumentation":0.00017532901256345212,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496253,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8157300,"value":"#<Account:0x00007fdbf64a8c18>"}},{"id":1496254,"event":"return","thread_id":9160,"parent_id":1496253,"elapsed":8.239003363996744e-06,"elapsed_instrumentation":0.00021855600061826408,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496255,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8150880,"value":"#<Account:0x00007fdbf64aa3d8>"}},{"id":1496256,"event":"return","thread_id":9160,"parent_id":1496255,"elapsed":7.160997483879328e-06,"elapsed_instrumentation":9.679500362835824e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496257,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8157320,"value":"{args=>[111360522570561581, 111360522570561582], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8157340,"value":"#<Sidekiq::Client:0x00007fdc09fc3ec8>"}},{"id":1496258,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8157360,"value":"__3____{_z)_"}},{"id":1496259,"event":"return","thread_id":9160,"parent_id":1496258,"elapsed":7.806986104696989e-06,"elapsed_instrumentation":0.000285885005723685,"return_value":{"class":"String","value":"85a03397d0c4807bcd7a29e2","object_id":8157380}},{"id":1496260,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8157400,"value":"[111360522570561581, 111360522570561582]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8157420,"value":"#<JSON::Ext::Generator::State:0x00007fdc09fc19e8>"}},{"id":1496261,"event":"return","thread_id":9160,"parent_id":1496260,"elapsed":9.089009836316109e-06,"elapsed_instrumentation":0.00041948899161070585,"return_value":{"class":"String","value":"[111360522570561581,111360522570561582]","object_id":8157440}},{"id":1496262,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8157460,"value":"#<JSON::Ext::Parser:0x00007fdc09fc0b60>"}},{"id":1496263,"event":"return","thread_id":9160,"parent_id":1496262,"elapsed":0.00038526998832821846,"elapsed_instrumentation":0.0003679900255519897,"return_value":{"class":"Array","value":"[111360522570561581, 111360522570561582]","object_id":8157480,"size":2}},{"id":1496264,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8157500,"value":"gHR____-Py_"}},{"id":1496265,"event":"return","thread_id":9160,"parent_id":1496264,"elapsed":4.568981239572167e-06,"elapsed_instrumentation":0.00022092403378337622,"return_value":{"class":"String","value":"674852c0d19da62d50797fdb","object_id":8157520}},{"id":1496266,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8157540,"value":"{retry=>true, queue=>pull, args=>[111360522570561581, 111360522570561582], class=>UnmergeWorker, jid=>85a03397d0c4807bcd7a29e2, created_at=>1699226725.7657769, id=>674852c0d19da62d50797fdb}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8157560,"value":"#<JSON::Ext::Generator::State:0x00007fdc09dbebf0>"}},{"id":1496267,"event":"return","thread_id":9160,"parent_id":1496266,"elapsed":0.00017020999803207815,"elapsed_instrumentation":0.0005394339968916029,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522570561581,111360522570561582],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8157580}},{"id":1496268,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8157600,"value":"#<JSON::Ext::Parser:0x00007fdc09dbca58>"}},{"id":1496269,"event":"return","thread_id":9160,"parent_id":1496268,"elapsed":3.404598101042211e-05,"elapsed_instrumentation":0.0004969550354871899,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522570561581, 111360522570561582], class=>UnmergeWorker, jid=>85a03397d0c4807bcd7a29e2, created_at=>1699226725.7657769, id=>674852c0d19da62d50797fdb}","object_id":8157620,"size":7}},{"id":1496270,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721045141123163,"value":"111360522570561581","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8157640,"value":"#<UnmergeWorker:0x00007fdc09dba668>"}},{"id":1496271,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8157640,"value":"#<UnmergeWorker:0x00007fdc09dba668>"}},{"id":1496272,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496273,"event":"return","thread_id":9160,"parent_id":1496272,"elapsed":0.001150455,"elapsed_instrumentation":0.00014961499255150557},{"id":1496274,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496275,"event":"return","thread_id":9160,"parent_id":1496274,"elapsed":0.001358201,"elapsed_instrumentation":0.0002538069966249168},{"id":1496276,"event":"return","thread_id":9160,"parent_id":1496271,"elapsed":0.009165737981675193,"elapsed_instrumentation":0.00027922901790589094,"return_value":{"class":"Account","value":"#<Account:0x00007fdbf64c75a0>","object_id":8157660}},{"id":1496277,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8157640,"value":"#<UnmergeWorker:0x00007fdc09dba668>"}},{"id":1496278,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8157680,"value":"#<Account:0x00007fdbf64c76e0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8157660,"value":"#<Account:0x00007fdbf64c75a0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496279,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496280,"event":"return","thread_id":9160,"parent_id":1496279,"elapsed":1.1154013918712735e-05,"elapsed_instrumentation":0.0005395720072556287,"return_value":{"class":"String","value":"feed:home:111360522570561582","object_id":8157700}},{"id":1496281,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1496282,"event":"return","thread_id":9160,"parent_id":1496281,"elapsed":8.068978786468506e-06,"elapsed_instrumentation":0.00024835902149789035,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1496283,"event":"return","thread_id":9160,"parent_id":1496278,"elapsed":0.007973008992848918,"elapsed_instrumentation":0.0005556970136240125},{"id":1496284,"event":"return","thread_id":9160,"parent_id":1496277,"elapsed":0.00858100299956277,"elapsed_instrumentation":0.00023382800281979144},{"id":1496285,"event":"return","thread_id":9160,"parent_id":1496270,"elapsed":0.018356714979745448,"elapsed_instrumentation":0.0003940320457331836},{"id":1496286,"event":"return","thread_id":9160,"parent_id":1496257,"elapsed":0.022214319003978744,"elapsed_instrumentation":0.0004750789958052337,"return_value":{"class":"String","value":"85a03397d0c4807bcd7a29e2","object_id":8157380}},{"id":1496287,"event":"return","thread_id":9160,"parent_id":1496202,"elapsed":0.07139254899811931,"elapsed_instrumentation":0.0004995120107196271,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64ca160>","object_id":8157220}},{"id":1496288,"event":"return","thread_id":9160,"parent_id":1496201,"elapsed":0.07193221099441871,"elapsed_instrumentation":0.00010511899017728865,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64ca160>","object_id":8157220}},{"id":1496289,"event":"return","thread_id":9160,"parent_id":1496200,"elapsed":0.07207641200511716,"elapsed_instrumentation":0.00016712502110749483,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdbf64ca160>","object_id":8157220}},{"id":1496290,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8157720,"value":"{args=>[111360522570561582], class=>BootstrapTimelineWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8157740,"value":"#<Sidekiq::Client:0x00007fdc09dc5540>"}},{"id":1496291,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8157760,"value":"B___^r__*\tz_"}},{"id":1496292,"event":"return","thread_id":9160,"parent_id":1496291,"elapsed":9.807990863919258e-06,"elapsed_instrumentation":0.0006796419911552221,"return_value":{"class":"String","value":"42deb9cc5e728ad12a097aed","object_id":8157780}},{"id":1496293,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8157800,"value":"[111360522570561582]","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8157820,"value":"#<JSON::Ext::Generator::State:0x00007fdc09dc2d18>"}},{"id":1496294,"event":"return","thread_id":9160,"parent_id":1496293,"elapsed":9.597017196938396e-06,"elapsed_instrumentation":0.000650116999167949,"return_value":{"class":"String","value":"[111360522570561582]","object_id":8157840}},{"id":1496295,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8157860,"value":"#<JSON::Ext::Parser:0x00007fdc09dc1dc8>"}},{"id":1496296,"event":"return","thread_id":9160,"parent_id":1496295,"elapsed":9.417999535799026e-06,"elapsed_instrumentation":0.0001972020254470408,"return_value":{"class":"Array","value":"[111360522570561582]","object_id":8157880,"size":1}},{"id":1496297,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8157900,"value":"-\u0010______+ZH_"}},{"id":1496298,"event":"return","thread_id":9160,"parent_id":1496297,"elapsed":1.1202006135135889e-05,"elapsed_instrumentation":0.000565861992072314,"return_value":{"class":"String","value":"2d10f4edffeeaddd2b5a48a9","object_id":8157920}},{"id":1496299,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8157940,"value":"{retry=>true, queue=>default, args=>[111360522570561582], class=>BootstrapTimelineWorker, jid=>42deb9cc5e728ad12a097aed, created_at=>1699226725.7906888, id=>2d10f4edffeeaddd2b5a48a9}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8157960,"value":"#<JSON::Ext::Generator::State:0x00007fdc09d7f5e0>"}},{"id":1496300,"event":"return","thread_id":9160,"parent_id":1496299,"elapsed":2.0580017007887363e-05,"elapsed_instrumentation":0.0005854979972355068,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111360522570561582],\"class\":\"BootstrapTimelineWorker\",\"jid\": (...91 more characters)","object_id":8157980}},{"id":1496301,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8158000,"value":"#<JSON::Ext::Parser:0x00007fdc09d7c458>"}},{"id":1496302,"event":"return","thread_id":9160,"parent_id":1496301,"elapsed":3.2365001970902085e-05,"elapsed_instrumentation":0.0010128290159627795,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111360522570561582], class=>BootstrapTimelineWorker, jid=>42deb9cc5e728ad12a097aed, created_at=>1699226725.7906888, id=>2d10f4edffeeaddd2b5a48a9}","object_id":8158020,"size":7}},{"id":1496303,"event":"call","thread_id":9160,"defined_class":"BootstrapTimelineWorker","method_id":"perform","path":"app/workers/bootstrap_timeline_worker.rb","lineno":6,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222721045141123165,"value":"111360522570561582","kind":"req"}],"receiver":{"class":"BootstrapTimelineWorker","object_id":8158040,"value":"#<BootstrapTimelineWorker:0x00007fdc09d7a180>"}},{"id":1496304,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496305,"event":"return","thread_id":9160,"parent_id":1496304,"elapsed":0.001565974,"elapsed_instrumentation":0.00010532399755902588},{"id":1496306,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496307,"event":"return","thread_id":9160,"parent_id":1496306,"elapsed":0.00153704,"elapsed_instrumentation":0.0003062959876842797},{"id":1496308,"event":"call","thread_id":9160,"defined_class":"User","method_id":"those_who_can","path":"app/models/user.rb","lineno":143,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8158060,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":35120,"value":"User"}},{"id":1496309,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"that_can","path":"app/models/user_role.rb","lineno":111,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8158080,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1496310,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\"","database_type":"postgres"}},{"id":1496311,"event":"return","thread_id":9160,"parent_id":1496310,"elapsed":0.001389229,"elapsed_instrumentation":0.000174382992554456},{"id":1496312,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8158100,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8158120,"value":"#<UserRole:0x00007fdbf64c62e0>"}},{"id":1496313,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8158120,"value":"#<UserRole:0x00007fdbf64c62e0>"}},{"id":1496314,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8158120,"value":"#<UserRole:0x00007fdbf64c62e0>"}},{"id":1496315,"event":"return","thread_id":9160,"parent_id":1496314,"elapsed":3.087500226683915e-05,"elapsed_instrumentation":0.00016391600365750492,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496316,"event":"return","thread_id":9160,"parent_id":1496313,"elapsed":0.0002481929841451347,"elapsed_instrumentation":0.00018741798703558743,"return_value":{"class":"Integer","value":"65536","object_id":131073}},{"id":1496317,"event":"return","thread_id":9160,"parent_id":1496312,"elapsed":0.0005103639850858599,"elapsed_instrumentation":0.000573111028643325},{"id":1496318,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8158140,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8158160,"value":"#<UserRole:0x00007fdbf64c61a0>"}},{"id":1496319,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8158160,"value":"#<UserRole:0x00007fdbf64c61a0>"}},{"id":1496320,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8158160,"value":"#<UserRole:0x00007fdbf64c61a0>"}},{"id":1496321,"event":"return","thread_id":9160,"parent_id":1496320,"elapsed":2.2994005121290684e-05,"elapsed_instrumentation":0.00014000199735164642},{"id":1496322,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8158160,"value":"#<UserRole:0x00007fdbf64c61a0>"}},{"id":1496323,"event":"return","thread_id":9160,"parent_id":1496322,"elapsed":0.00014486900181509554,"elapsed_instrumentation":0.00018811895279213786},{"id":1496324,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1496325,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496326,"event":"return","thread_id":9160,"parent_id":1496325,"elapsed":0.000745528,"elapsed_instrumentation":0.0001478260091971606},{"id":1496327,"event":"return","thread_id":9160,"parent_id":1496324,"elapsed":0.0024911820073612034,"elapsed_instrumentation":0.00023907001013867557,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdbf64c5ca0>","object_id":8158180}},{"id":1496328,"event":"return","thread_id":9160,"parent_id":1496319,"elapsed":0.0034501870104577392,"elapsed_instrumentation":0.00021448099869303405,"return_value":{"class":"Integer","value":"66844","object_id":133689}},{"id":1496329,"event":"return","thread_id":9160,"parent_id":1496318,"elapsed":0.0037169629940763116,"elapsed_instrumentation":0.0004605530120898038,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496330,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8158200,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8158220,"value":"#<UserRole:0x00007fdbf64c6060>"}},{"id":1496331,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8158220,"value":"#<UserRole:0x00007fdbf64c6060>"}},{"id":1496332,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8158220,"value":"#<UserRole:0x00007fdbf64c6060>"}},{"id":1496333,"event":"return","thread_id":9160,"parent_id":1496332,"elapsed":2.5787012418732047e-05,"elapsed_instrumentation":0.0003030880179721862},{"id":1496334,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8158220,"value":"#<UserRole:0x00007fdbf64c6060>"}},{"id":1496335,"event":"return","thread_id":9160,"parent_id":1496334,"elapsed":1.4424993423745036e-05,"elapsed_instrumentation":0.0002843420079443604},{"id":1496336,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1496337,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496338,"event":"return","thread_id":9160,"parent_id":1496337,"elapsed":0.001133366,"elapsed_instrumentation":0.00017021401436068118},{"id":1496339,"event":"return","thread_id":9160,"parent_id":1496336,"elapsed":0.004006176022812724,"elapsed_instrumentation":0.00022483899374492466,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdbf64c5a20>","object_id":8158240}},{"id":1496340,"event":"return","thread_id":9160,"parent_id":1496331,"elapsed":0.004994525021174923,"elapsed_instrumentation":0.0002371329755987972,"return_value":{"class":"Integer","value":"1048572","object_id":2097145}},{"id":1496341,"event":"return","thread_id":9160,"parent_id":1496330,"elapsed":0.0055090110108722,"elapsed_instrumentation":0.000576361984713003,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496342,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":8158260,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":8158280,"value":"#<UserRole:0x00007fdbf64c5f20>"}},{"id":1496343,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8158280,"value":"#<UserRole:0x00007fdbf64c5f20>"}},{"id":1496344,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8158280,"value":"#<UserRole:0x00007fdbf64c5f20>"}},{"id":1496345,"event":"return","thread_id":9160,"parent_id":1496344,"elapsed":1.582701224833727e-05,"elapsed_instrumentation":0.00019179697846993804},{"id":1496346,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":8158280,"value":"#<UserRole:0x00007fdbf64c5f20>"}},{"id":1496347,"event":"return","thread_id":9160,"parent_id":1496346,"elapsed":5.649024387821555e-06,"elapsed_instrumentation":7.972499588504434e-05},{"id":1496348,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":1496349,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496350,"event":"return","thread_id":9160,"parent_id":1496349,"elapsed":0.000896329,"elapsed_instrumentation":0.0002041060070041567},{"id":1496351,"event":"return","thread_id":9160,"parent_id":1496348,"elapsed":0.002929131005657837,"elapsed_instrumentation":0.00015536698629148304,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fdbf64c57a0>","object_id":8158300}},{"id":1496352,"event":"return","thread_id":9160,"parent_id":1496343,"elapsed":0.00347181101096794,"elapsed_instrumentation":9.45970241446048e-05,"return_value":{"class":"Integer","value":"1048575","object_id":2097151}},{"id":1496353,"event":"return","thread_id":9160,"parent_id":1496342,"elapsed":0.0035967149888165295,"elapsed_instrumentation":0.00017656100681051612,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1496354,"event":"return","thread_id":9160,"parent_id":1496309,"elapsed":0.018813300994224846,"elapsed_instrumentation":0.0007080629875417799,"return_value":{"class":"Array","value":"[#<UserRole:0x00007fdbf64c61a0>, #<UserRole:0x00007fdbf64c6060>, #<UserRole:0x00007fdbf64c5f20>]","object_id":8158320,"size":3}},{"id":1496355,"event":"return","thread_id":9160,"parent_id":1496308,"elapsed":0.020516185992164537,"elapsed_instrumentation":0.0004845819785259664,"return_value":{"class":"ActiveRecord::Relation","value":"#<User::ActiveRecord_Relation:0x00007fdbf6735788>","object_id":8158340}},{"id":1496356,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"role_id\" IN ($1, $2, $3) ORDER BY \"users\".\"id\" ASC LIMIT $4","database_type":"postgres"}},{"id":1496357,"event":"return","thread_id":9160,"parent_id":1496356,"elapsed":0.001987931,"elapsed_instrumentation":0.0002714750007726252},{"id":1496358,"event":"return","thread_id":9160,"parent_id":1496303,"elapsed":0.0385286679957062,"elapsed_instrumentation":0.0001952099846675992},{"id":1496359,"event":"return","thread_id":9160,"parent_id":1496290,"elapsed":0.043613276997348294,"elapsed_instrumentation":0.00042127296910621226,"return_value":{"class":"String","value":"42deb9cc5e728ad12a097aed","object_id":8157780}},{"id":1496360,"event":"return","thread_id":9160,"parent_id":1495379,"elapsed":0.6865391010069288,"elapsed_instrumentation":0.0002093799994327128,"return_value":{"class":"IO","value":"#<IO:0x00007fdc21298f60>","object_id":4113040}},{"id":1496361,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496362,"event":"return","thread_id":9160,"parent_id":1496361,"elapsed":0.000975864,"elapsed_instrumentation":0.00018325101700611413},{"id":1496363,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"target_account_id\" WHERE \"follows\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1496364,"event":"return","thread_id":9160,"parent_id":1496363,"elapsed":0.002472499,"elapsed_instrumentation":0.00017751799896359444}]}