{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --follows option resets all \"following\" relationships from the target account","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"User","type":"class","children":[{"name":"those_who_can","type":"function","location":"app/models/user.rb:143","static":true}]},{"name":"UserRole","type":"class","children":[{"name":"that_can","type":"function","location":"app/models/user_role.rb:111","static":true},{"name":"can?","type":"function","location":"app/models/user_role.rb:131","static":false},{"name":"computed_permissions","type":"function","location":"app/models/user_role.rb:139","static":false},{"name":"everyone?","type":"function","location":"app/models/user_role.rb:115","static":false},{"name":"nobody?","type":"function","location":"app/models/user_role.rb:119","static":false},{"name":"everyone","type":"function","location":"app/models/user_role.rb:105","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]},{"name":"RequestPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/request_pool.rb:114","static":false}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:13","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:51","static":false}]}]}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]},{"name":"BootstrapTimelineWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/bootstrap_timeline_worker.rb:6","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":2896512,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":14309220,"value":"jeramy6746","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14309240,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e1337f50>"}},{"id":2896513,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":14309260,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc918ec9080>"}},{"id":2896514,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'jeramy6746' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2896515,"event":"return","thread_id":9160,"parent_id":2896514,"elapsed":0.00099316,"elapsed_instrumentation":0.00010714394738897681},{"id":2896516,"event":"return","thread_id":9160,"parent_id":2896513,"elapsed":0.004199329996481538,"elapsed_instrumentation":0.0001191520132124424,"return_value":{"class":"Account","value":"#<Account:0x00007fc918588fc0>","object_id":14309280}},{"id":2896517,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1)","database_type":"postgres"}},{"id":2896518,"event":"return","thread_id":9160,"parent_id":2896517,"elapsed":0.001052614,"elapsed_instrumentation":8.939398685470223e-05},{"id":2896519,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14309240,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e1337f50>"}},{"id":2896520,"event":"return","thread_id":9160,"parent_id":2896519,"elapsed":0.0001037800102494657,"elapsed_instrumentation":0.0003204729873687029,"return_value":{"class":"ProgressBar::Base","value":"","object_id":14309300}},{"id":2896521,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2896522,"event":"return","thread_id":9160,"parent_id":2896521,"elapsed":0.002129866,"elapsed_instrumentation":0.00010618800297379494},{"id":2896523,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14309320,"value":"relationship:111361439963376670:111361439963376680","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14309340,"value":"#<UnfollowService:0x00007fc8e1334120>"}},{"id":2896524,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14309340,"value":"#<UnfollowService:0x00007fc8e1334120>"}},{"id":2896525,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14309360,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14309380,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896526,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896527,"event":"return","thread_id":9160,"parent_id":2896526,"elapsed":3.635010216385126e-06,"elapsed_instrumentation":7.551396265625954e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2896528,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14309400,"value":"__T\u0014___DP__cU___"}},{"id":2896529,"event":"return","thread_id":9160,"parent_id":2896528,"elapsed":6.706977728754282e-06,"elapsed_instrumentation":0.0001349200028926134,"return_value":{"class":"Array","value":"[3800912916, 53503, 50244, 20686, 54883, 1437047791]","object_id":14309420,"size":6}},{"id":2896530,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896531,"event":"return","thread_id":9160,"parent_id":2896530,"elapsed":0.000609043,"elapsed_instrumentation":0.000153645989485085},{"id":2896532,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14309440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896533,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896534,"event":"return","thread_id":9160,"parent_id":2896533,"elapsed":0.000495828,"elapsed_instrumentation":9.672599844634533e-05},{"id":2896535,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896536,"event":"return","thread_id":9160,"parent_id":2896535,"elapsed":0.000437158,"elapsed_instrumentation":7.626897422596812e-05},{"id":2896537,"event":"return","thread_id":9160,"parent_id":2896532,"elapsed":0.003075521031860262,"elapsed_instrumentation":0.0003426909679546952,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2896538,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2896539,"event":"return","thread_id":9160,"parent_id":2896538,"elapsed":0.000530375,"elapsed_instrumentation":0.00020749703980982304},{"id":2896540,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14309440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896541,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2896542,"event":"return","thread_id":9160,"parent_id":2896541,"elapsed":0.000894034,"elapsed_instrumentation":0.00010003900388255715},{"id":2896543,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896544,"event":"return","thread_id":9160,"parent_id":2896543,"elapsed":0.000704409,"elapsed_instrumentation":8.370098657906055e-05},{"id":2896545,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14309460,"value":"#<Account:0x00007fc918586540>"}},{"id":2896546,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14309460,"value":"#<Account:0x00007fc918586540>"}},{"id":2896547,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439963376680, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896548,"event":"return","thread_id":9160,"parent_id":2896547,"elapsed":0.000901893,"elapsed_instrumentation":8.244003402069211e-05},{"id":2896549,"event":"return","thread_id":9160,"parent_id":2896546,"elapsed":0.0015780050307512283,"elapsed_instrumentation":9.078200673684478e-05},{"id":2896550,"event":"return","thread_id":9160,"parent_id":2896545,"elapsed":0.0016966950497590005,"elapsed_instrumentation":0.00012992293341085315},{"id":2896551,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896552,"event":"return","thread_id":9160,"parent_id":2896551,"elapsed":0.000651479,"elapsed_instrumentation":8.203694596886635e-05},{"id":2896553,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14309480,"value":"#<Account:0x00007fc918585500>"}},{"id":2896554,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14309480,"value":"#<Account:0x00007fc918585500>"}},{"id":2896555,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439963376670, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896556,"event":"return","thread_id":9160,"parent_id":2896555,"elapsed":0.000751608,"elapsed_instrumentation":7.010996341705322e-05},{"id":2896557,"event":"return","thread_id":9160,"parent_id":2896554,"elapsed":0.0013577989884652197,"elapsed_instrumentation":8.69539799168706e-05},{"id":2896558,"event":"return","thread_id":9160,"parent_id":2896553,"elapsed":0.0014691269607283175,"elapsed_instrumentation":0.00013154098996892571},{"id":2896559,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309460,"value":"#<Account:0x00007fc918586540>"}},{"id":2896560,"event":"return","thread_id":9160,"parent_id":2896559,"elapsed":1.5882018487900496e-05,"elapsed_instrumentation":8.606695337221026e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896561,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309480,"value":"#<Account:0x00007fc918585500>"}},{"id":2896562,"event":"return","thread_id":9160,"parent_id":2896561,"elapsed":7.0569803938269615e-06,"elapsed_instrumentation":6.627803668379784e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896563,"event":"return","thread_id":9160,"parent_id":2896540,"elapsed":0.011115782021079212,"elapsed_instrumentation":0.00017009093426167965,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2896564,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896565,"event":"return","thread_id":9160,"parent_id":2896564,"elapsed":0.000583978,"elapsed_instrumentation":7.049599662423134e-05},{"id":2896566,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14309520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896567,"event":"return","thread_id":9160,"parent_id":2896566,"elapsed":3.4999684430658817e-06,"elapsed_instrumentation":0.00011918903328478336,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2896568,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14309520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896569,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14309540,"value":"Cache delete: relationship:111361439963376680:111361439963376670\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896570,"event":"return","thread_id":9160,"parent_id":2896569,"elapsed":0.0008505940204486251,"elapsed_instrumentation":0.00010756601113826036,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896571,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14309560,"value":"Cache delete: relationship:111361439963376670:111361439963376680\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896572,"event":"return","thread_id":9160,"parent_id":2896571,"elapsed":0.0006195850437507033,"elapsed_instrumentation":0.0003170999698340893,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896573,"event":"return","thread_id":9160,"parent_id":2896568,"elapsed":0.002192741958424449,"elapsed_instrumentation":0.00022281601559370756,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2896574,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309580,"value":"#<Account:0x00007fc918588340>"}},{"id":2896575,"event":"return","thread_id":9160,"parent_id":2896574,"elapsed":1.6418984159827232e-05,"elapsed_instrumentation":0.00010142795508727431,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896576,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309580,"value":"#<Account:0x00007fc918588340>"}},{"id":2896577,"event":"return","thread_id":9160,"parent_id":2896576,"elapsed":3.890017978847027e-06,"elapsed_instrumentation":6.134295836091042e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896578,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309280,"value":"#<Account:0x00007fc918588fc0>"}},{"id":2896579,"event":"return","thread_id":9160,"parent_id":2896578,"elapsed":7.4169947765767574e-06,"elapsed_instrumentation":5.8034027460962534e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896580,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14309600,"value":"{args=>[111361439963376670, 111361439963376680], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14309620,"value":"#<Sidekiq::Client:0x00007fc918f9ff40>"}},{"id":2896581,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14309640,"value":"\u0018r\u0007\u00008K___\u0012NH"}},{"id":2896582,"event":"return","thread_id":9160,"parent_id":2896581,"elapsed":4.468951374292374e-06,"elapsed_instrumentation":0.0001037700567394495,"return_value":{"class":"String","value":"18720700384bbfccf2124e48","object_id":14309660}},{"id":2896583,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14309680,"value":"[111361439963376670, 111361439963376680]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14309700,"value":"#<JSON::Ext::Generator::State:0x00007fc918f9dc40>"}},{"id":2896584,"event":"return","thread_id":9160,"parent_id":2896583,"elapsed":9.206007234752178e-06,"elapsed_instrumentation":0.00011295301374047995,"return_value":{"class":"String","value":"[111361439963376670,111361439963376680]","object_id":14309720}},{"id":2896585,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14309740,"value":"#<JSON::Ext::Parser:0x00007fc918f9cc00>"}},{"id":2896586,"event":"return","thread_id":9160,"parent_id":2896585,"elapsed":6.100046448409557e-06,"elapsed_instrumentation":0.0001144089619629085,"return_value":{"class":"Array","value":"[111361439963376670, 111361439963376680]","object_id":14309760,"size":2}},{"id":2896587,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14309780,"value":"B_\u001bY=d\u0015__\u001d_~"}},{"id":2896588,"event":"return","thread_id":9160,"parent_id":2896587,"elapsed":3.5110278986394405e-06,"elapsed_instrumentation":0.00010313896927982569,"return_value":{"class":"String","value":"42e41b593d6415dbcb1d927e","object_id":14309800}},{"id":2896589,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14309820,"value":"{retry=>true, queue=>pull, args=>[111361439963376670, 111361439963376680], class=>UnmergeWorker, jid=>18720700384bbfccf2124e48, created_at=>1699240722.9514246, id=>42e41b593d6415dbcb1d927e}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14309840,"value":"#<JSON::Ext::Generator::State:0x00007fc918f9b198>"}},{"id":2896590,"event":"return","thread_id":9160,"parent_id":2896589,"elapsed":1.2598989997059107e-05,"elapsed_instrumentation":0.00017423596000298858,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439963376670,111361439963376680],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14309860}},{"id":2896591,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14309880,"value":"#<JSON::Ext::Parser:0x00007fc918f98da8>"}},{"id":2896592,"event":"return","thread_id":9160,"parent_id":2896591,"elapsed":1.8741993699222803e-05,"elapsed_instrumentation":0.00014825601829215884,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439963376670, 111361439963376680], class=>UnmergeWorker, jid=>18720700384bbfccf2124e48, created_at=>1699240722.9514246, id=>42e41b593d6415dbcb1d927e}","object_id":14309900,"size":7}},{"id":2896593,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879926753341,"value":"111361439963376670","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14309920,"value":"#<UnmergeWorker:0x00007fc918f96cd8>"}},{"id":2896594,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14309920,"value":"#<UnmergeWorker:0x00007fc918f96cd8>"}},{"id":2896595,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896596,"event":"return","thread_id":9160,"parent_id":2896595,"elapsed":0.000691253,"elapsed_instrumentation":8.063996210694313e-05},{"id":2896597,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896598,"event":"return","thread_id":9160,"parent_id":2896597,"elapsed":0.000540751,"elapsed_instrumentation":7.800396997481585e-05},{"id":2896599,"event":"return","thread_id":9160,"parent_id":2896594,"elapsed":0.0038477280177176,"elapsed_instrumentation":0.00010073097655549645,"return_value":{"class":"Account","value":"#<Account:0x00007fc918583c00>","object_id":14309940}},{"id":2896600,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14309920,"value":"#<UnmergeWorker:0x00007fc918f96cd8>"}},{"id":2896601,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14309960,"value":"#<Account:0x00007fc918583d40>","kind":"req"},{"name":"into_account","class":"Account","object_id":14309940,"value":"#<Account:0x00007fc918583c00>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896602,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896603,"event":"return","thread_id":9160,"parent_id":2896602,"elapsed":5.2879913710057735e-06,"elapsed_instrumentation":0.00010801292955875397,"return_value":{"class":"String","value":"feed:home:111361439963376680","object_id":14309980}},{"id":2896604,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896605,"event":"return","thread_id":9160,"parent_id":2896604,"elapsed":4.216970410197973e-06,"elapsed_instrumentation":7.180101238191128e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2896606,"event":"return","thread_id":9160,"parent_id":2896601,"elapsed":0.0032043230021372437,"elapsed_instrumentation":0.00020454800687730312},{"id":2896607,"event":"return","thread_id":9160,"parent_id":2896600,"elapsed":0.00344233401119709,"elapsed_instrumentation":7.792102405801415e-05},{"id":2896608,"event":"return","thread_id":9160,"parent_id":2896593,"elapsed":0.007512735028285533,"elapsed_instrumentation":7.23599805496633e-05},{"id":2896609,"event":"return","thread_id":9160,"parent_id":2896580,"elapsed":0.008770633023232222,"elapsed_instrumentation":0.0001550899469293654,"return_value":{"class":"String","value":"18720700384bbfccf2124e48","object_id":14309660}},{"id":2896610,"event":"return","thread_id":9160,"parent_id":2896525,"elapsed":0.032419331022538245,"elapsed_instrumentation":0.0001578470109961927,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc918586e00>","object_id":14309500}},{"id":2896611,"event":"return","thread_id":9160,"parent_id":2896524,"elapsed":0.032602931023575366,"elapsed_instrumentation":0.0002545729512348771,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc918586e00>","object_id":14309500}},{"id":2896612,"event":"return","thread_id":9160,"parent_id":2896523,"elapsed":0.03290426102466881,"elapsed_instrumentation":0.00034178298665210605,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc918586e00>","object_id":14309500}},{"id":2896613,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14310000,"value":"relationship:111361439963376671:111361439963376680","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14310020,"value":"#<UnfollowService:0x00007fc8e135f370>"}},{"id":2896614,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14310020,"value":"#<UnfollowService:0x00007fc8e135f370>"}},{"id":2896615,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14310040,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14310060,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896616,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896617,"event":"return","thread_id":9160,"parent_id":2896616,"elapsed":2.529995981603861e-06,"elapsed_instrumentation":6.421597208827734e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2896618,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14310080,"value":"=l___{___%__L___"}},{"id":2896619,"event":"return","thread_id":9160,"parent_id":2896618,"elapsed":6.326008588075638e-06,"elapsed_instrumentation":0.00012348097516223788,"return_value":{"class":"Array","value":"[1030533070, 42363, 41373, 57893, 39152, 1283833831]","object_id":14310100,"size":6}},{"id":2896620,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896621,"event":"return","thread_id":9160,"parent_id":2896620,"elapsed":0.000498363,"elapsed_instrumentation":8.058897219598293e-05},{"id":2896622,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14310120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896623,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896624,"event":"return","thread_id":9160,"parent_id":2896623,"elapsed":0.000397313,"elapsed_instrumentation":7.299397839233279e-05},{"id":2896625,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896626,"event":"return","thread_id":9160,"parent_id":2896625,"elapsed":0.000382983,"elapsed_instrumentation":6.158195901662111e-05},{"id":2896627,"event":"return","thread_id":9160,"parent_id":2896622,"elapsed":0.0022532769944518805,"elapsed_instrumentation":0.00024447200121358037,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2896628,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2896629,"event":"return","thread_id":9160,"parent_id":2896628,"elapsed":0.00050525,"elapsed_instrumentation":6.369000766426325e-05},{"id":2896630,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14310120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896631,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2896632,"event":"return","thread_id":9160,"parent_id":2896631,"elapsed":0.000589675,"elapsed_instrumentation":6.41600345261395e-05},{"id":2896633,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896634,"event":"return","thread_id":9160,"parent_id":2896633,"elapsed":0.000479803,"elapsed_instrumentation":0.00014952901983633637},{"id":2896635,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14310140,"value":"#<Account:0x00007fc9185826c0>"}},{"id":2896636,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14310140,"value":"#<Account:0x00007fc9185826c0>"}},{"id":2896637,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439963376680, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896638,"event":"return","thread_id":9160,"parent_id":2896637,"elapsed":0.000641993,"elapsed_instrumentation":6.694300100207329e-05},{"id":2896639,"event":"return","thread_id":9160,"parent_id":2896636,"elapsed":0.0012420470011420548,"elapsed_instrumentation":8.134398376569152e-05},{"id":2896640,"event":"return","thread_id":9160,"parent_id":2896635,"elapsed":0.0013462310307659209,"elapsed_instrumentation":9.920803131535649e-05},{"id":2896641,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896642,"event":"return","thread_id":9160,"parent_id":2896641,"elapsed":0.000569893,"elapsed_instrumentation":7.145002018660307e-05},{"id":2896643,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14310160,"value":"#<Account:0x00007fc9185812c0>"}},{"id":2896644,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14310160,"value":"#<Account:0x00007fc9185812c0>"}},{"id":2896645,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439963376671, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896646,"event":"return","thread_id":9160,"parent_id":2896645,"elapsed":0.000930151,"elapsed_instrumentation":8.61859880387783e-05},{"id":2896647,"event":"return","thread_id":9160,"parent_id":2896644,"elapsed":0.0014670980162918568,"elapsed_instrumentation":0.0001052689622156322},{"id":2896648,"event":"return","thread_id":9160,"parent_id":2896643,"elapsed":0.0015976789873093367,"elapsed_instrumentation":0.0001237330143339932},{"id":2896649,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14310140,"value":"#<Account:0x00007fc9185826c0>"}},{"id":2896650,"event":"return","thread_id":9160,"parent_id":2896649,"elapsed":1.884199446067214e-05,"elapsed_instrumentation":0.00029185001039877534,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896651,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14310160,"value":"#<Account:0x00007fc9185812c0>"}},{"id":2896652,"event":"return","thread_id":9160,"parent_id":2896651,"elapsed":8.695002179592848e-06,"elapsed_instrumentation":8.96639539860189e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896653,"event":"return","thread_id":9160,"parent_id":2896630,"elapsed":0.009089090977795422,"elapsed_instrumentation":0.00015040795551612973,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2896654,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896655,"event":"return","thread_id":9160,"parent_id":2896654,"elapsed":0.000400062,"elapsed_instrumentation":6.933900294825435e-05},{"id":2896656,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14310200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896657,"event":"return","thread_id":9160,"parent_id":2896656,"elapsed":3.284949343651533e-06,"elapsed_instrumentation":0.0001056220498867333,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2896658,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14310200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896659,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14310220,"value":"Cache delete: relationship:111361439963376680:111361439963376671\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896660,"event":"return","thread_id":9160,"parent_id":2896659,"elapsed":0.0005663009942509234,"elapsed_instrumentation":0.0001042200019583106,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896661,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14310240,"value":"Cache delete: relationship:111361439963376671:111361439963376680\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896662,"event":"return","thread_id":9160,"parent_id":2896661,"elapsed":0.00073102000169456,"elapsed_instrumentation":0.00012637500185519457,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896663,"event":"return","thread_id":9160,"parent_id":2896658,"elapsed":0.0018056380213238299,"elapsed_instrumentation":0.00010325200855731964,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2896664,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14310260,"value":"#<Account:0x00007fc918588200>"}},{"id":2896665,"event":"return","thread_id":9160,"parent_id":2896664,"elapsed":1.498399069532752e-05,"elapsed_instrumentation":9.273900650441647e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896666,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14310260,"value":"#<Account:0x00007fc918588200>"}},{"id":2896667,"event":"return","thread_id":9160,"parent_id":2896666,"elapsed":3.7529971450567245e-06,"elapsed_instrumentation":5.957303801551461e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896668,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309280,"value":"#<Account:0x00007fc918588fc0>"}},{"id":2896669,"event":"return","thread_id":9160,"parent_id":2896668,"elapsed":4.2619649320840836e-06,"elapsed_instrumentation":5.445600254461169e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896670,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14310280,"value":"{args=>[111361439963376671, 111361439963376680], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14310300,"value":"#<Sidekiq::Client:0x00007fc919025438>"}},{"id":2896671,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14310320,"value":"___\u0004__T_w _g"}},{"id":2896672,"event":"return","thread_id":9160,"parent_id":2896671,"elapsed":4.376983270049095e-06,"elapsed_instrumentation":0.00010481604840606451,"return_value":{"class":"String","value":"ceed5f04a4f054dd7720ac67","object_id":14310340}},{"id":2896673,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14310360,"value":"[111361439963376671, 111361439963376680]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14310380,"value":"#<JSON::Ext::Generator::State:0x00007fc919023228>"}},{"id":2896674,"event":"return","thread_id":9160,"parent_id":2896673,"elapsed":5.7829893194139e-06,"elapsed_instrumentation":0.00011630100198090076,"return_value":{"class":"String","value":"[111361439963376671,111361439963376680]","object_id":14310400}},{"id":2896675,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14310420,"value":"#<JSON::Ext::Parser:0x00007fc9190224b8>"}},{"id":2896676,"event":"return","thread_id":9160,"parent_id":2896675,"elapsed":5.200039595365524e-06,"elapsed_instrumentation":7.167598232626915e-05,"return_value":{"class":"Array","value":"[111361439963376671, 111361439963376680]","object_id":14310440,"size":2}},{"id":2896677,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14310460,"value":"^___QL_\b'<IS"}},{"id":2896678,"event":"return","thread_id":9160,"parent_id":2896677,"elapsed":3.4800032153725624e-06,"elapsed_instrumentation":9.511405369266868e-05,"return_value":{"class":"String","value":"5edabf96514cdc08273c4953","object_id":14310480}},{"id":2896679,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14310500,"value":"{retry=>true, queue=>pull, args=>[111361439963376671, 111361439963376680], class=>UnmergeWorker, jid=>ceed5f04a4f054dd7720ac67, created_at=>1699240722.979588, id=>5edabf96514cdc08273c4953}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14310520,"value":"#<JSON::Ext::Generator::State:0x00007fc919020988>"}},{"id":2896680,"event":"return","thread_id":9160,"parent_id":2896679,"elapsed":1.2435950338840485e-05,"elapsed_instrumentation":0.00017385208047926426,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439963376671,111361439963376680],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14310540}},{"id":2896681,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14310560,"value":"#<JSON::Ext::Parser:0x00007fc91905e620>"}},{"id":2896682,"event":"return","thread_id":9160,"parent_id":2896681,"elapsed":1.8156017176806927e-05,"elapsed_instrumentation":0.00014713493874296546,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439963376671, 111361439963376680], class=>UnmergeWorker, jid=>ceed5f04a4f054dd7720ac67, created_at=>1699240722.979588, id=>5edabf96514cdc08273c4953}","object_id":14310580,"size":7}},{"id":2896683,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879926753343,"value":"111361439963376671","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14310600,"value":"#<UnmergeWorker:0x00007fc91905c7a8>"}},{"id":2896684,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14310600,"value":"#<UnmergeWorker:0x00007fc91905c7a8>"}},{"id":2896685,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896686,"event":"return","thread_id":9160,"parent_id":2896685,"elapsed":0.000541807,"elapsed_instrumentation":8.828897261992097e-05},{"id":2896687,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896688,"event":"return","thread_id":9160,"parent_id":2896687,"elapsed":0.000509618,"elapsed_instrumentation":0.00018867099424824119},{"id":2896689,"event":"return","thread_id":9160,"parent_id":2896684,"elapsed":0.003538056043908,"elapsed_instrumentation":0.00011254195123910904,"return_value":{"class":"Account","value":"#<Account:0x00007fc919a7f500>","object_id":14310620}},{"id":2896690,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14310600,"value":"#<UnmergeWorker:0x00007fc91905c7a8>"}},{"id":2896691,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14310640,"value":"#<Account:0x00007fc919a7f640>","kind":"req"},{"name":"into_account","class":"Account","object_id":14310620,"value":"#<Account:0x00007fc919a7f500>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896692,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896693,"event":"return","thread_id":9160,"parent_id":2896692,"elapsed":6.003014277666807e-06,"elapsed_instrumentation":0.00010978197678923607,"return_value":{"class":"String","value":"feed:home:111361439963376680","object_id":14310660}},{"id":2896694,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896695,"event":"return","thread_id":9160,"parent_id":2896694,"elapsed":4.5879860408604145e-06,"elapsed_instrumentation":7.702806033194065e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2896696,"event":"return","thread_id":9160,"parent_id":2896691,"elapsed":0.003073624975513667,"elapsed_instrumentation":0.0002474850043654442},{"id":2896697,"event":"return","thread_id":9160,"parent_id":2896690,"elapsed":0.0033557399874553084,"elapsed_instrumentation":8.045497816056013e-05},{"id":2896698,"event":"return","thread_id":9160,"parent_id":2896683,"elapsed":0.007130892015993595,"elapsed_instrumentation":0.00010966300033032894},{"id":2896699,"event":"return","thread_id":9160,"parent_id":2896670,"elapsed":0.008517411013599485,"elapsed_instrumentation":0.0001549019943922758,"return_value":{"class":"String","value":"ceed5f04a4f054dd7720ac67","object_id":14310340}},{"id":2896700,"event":"return","thread_id":9160,"parent_id":2896615,"elapsed":0.027231913001742214,"elapsed_instrumentation":0.0001442540087737143,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9185830c0>","object_id":14310180}},{"id":2896701,"event":"return","thread_id":9160,"parent_id":2896614,"elapsed":0.0273995180032216,"elapsed_instrumentation":7.879099575802684e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9185830c0>","object_id":14310180}},{"id":2896702,"event":"return","thread_id":9160,"parent_id":2896613,"elapsed":0.027509481005836278,"elapsed_instrumentation":0.00012394296936690807,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc9185830c0>","object_id":14310180}},{"id":2896703,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14310680,"value":"relationship:111361439963376672:111361439963376680","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14310700,"value":"#<UnfollowService:0x00007fc8e13513b0>"}},{"id":2896704,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14310700,"value":"#<UnfollowService:0x00007fc8e13513b0>"}},{"id":2896705,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14310720,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14310740,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896706,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896707,"event":"return","thread_id":9160,"parent_id":2896706,"elapsed":2.837972715497017e-06,"elapsed_instrumentation":6.59070210531354e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2896708,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14310760,"value":")A_____'____j_\b@"}},{"id":2896709,"event":"return","thread_id":9160,"parent_id":2896708,"elapsed":5.737005267292261e-06,"elapsed_instrumentation":0.00012313202023506165,"return_value":{"class":"Array","value":"[692169968, 48104, 51751, 44980, 36287, 1789593664]","object_id":14310780,"size":6}},{"id":2896710,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896711,"event":"return","thread_id":9160,"parent_id":2896710,"elapsed":0.000408889,"elapsed_instrumentation":8.131196955218911e-05},{"id":2896712,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14310800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896713,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896714,"event":"return","thread_id":9160,"parent_id":2896713,"elapsed":0.000320178,"elapsed_instrumentation":6.933597614988685e-05},{"id":2896715,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896716,"event":"return","thread_id":9160,"parent_id":2896715,"elapsed":0.000299388,"elapsed_instrumentation":6.056902930140495e-05},{"id":2896717,"event":"return","thread_id":9160,"parent_id":2896712,"elapsed":0.0022082639625295997,"elapsed_instrumentation":0.0001423380454070866,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2896718,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2896719,"event":"return","thread_id":9160,"parent_id":2896718,"elapsed":0.000507314,"elapsed_instrumentation":6.341299740597606e-05},{"id":2896720,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14310800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896721,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2896722,"event":"return","thread_id":9160,"parent_id":2896721,"elapsed":0.000642707,"elapsed_instrumentation":7.187400478869677e-05},{"id":2896723,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896724,"event":"return","thread_id":9160,"parent_id":2896723,"elapsed":0.00057417,"elapsed_instrumentation":8.684297790750861e-05},{"id":2896725,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14310820,"value":"#<Account:0x00007fc919a7dd40>"}},{"id":2896726,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14310820,"value":"#<Account:0x00007fc919a7dd40>"}},{"id":2896727,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439963376680, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896728,"event":"return","thread_id":9160,"parent_id":2896727,"elapsed":0.000797757,"elapsed_instrumentation":7.344497134909034e-05},{"id":2896729,"event":"return","thread_id":9160,"parent_id":2896726,"elapsed":0.0012972690165042877,"elapsed_instrumentation":0.000101188023108989},{"id":2896730,"event":"return","thread_id":9160,"parent_id":2896725,"elapsed":0.0014254090492613614,"elapsed_instrumentation":0.00021222594659775496},{"id":2896731,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896732,"event":"return","thread_id":9160,"parent_id":2896731,"elapsed":0.000441141,"elapsed_instrumentation":6.836705142632127e-05},{"id":2896733,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14310840,"value":"#<Account:0x00007fc919a7c580>"}},{"id":2896734,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14310840,"value":"#<Account:0x00007fc919a7c580>"}},{"id":2896735,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439963376672, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896736,"event":"return","thread_id":9160,"parent_id":2896735,"elapsed":0.000597426,"elapsed_instrumentation":6.360997213050723e-05},{"id":2896737,"event":"return","thread_id":9160,"parent_id":2896734,"elapsed":0.001115727995056659,"elapsed_instrumentation":0.0002114460221491754},{"id":2896738,"event":"return","thread_id":9160,"parent_id":2896733,"elapsed":0.0013569130096584558,"elapsed_instrumentation":0.00010247196769341826},{"id":2896739,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14310820,"value":"#<Account:0x00007fc919a7dd40>"}},{"id":2896740,"event":"return","thread_id":9160,"parent_id":2896739,"elapsed":1.4303019270300865e-05,"elapsed_instrumentation":9.675498586148024e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896741,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14310840,"value":"#<Account:0x00007fc919a7c580>"}},{"id":2896742,"event":"return","thread_id":9160,"parent_id":2896741,"elapsed":7.221999112516642e-06,"elapsed_instrumentation":6.478099385276437e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896743,"event":"return","thread_id":9160,"parent_id":2896720,"elapsed":0.009279729041736573,"elapsed_instrumentation":0.00029310298850759864,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2896744,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896745,"event":"return","thread_id":9160,"parent_id":2896744,"elapsed":0.00033578,"elapsed_instrumentation":6.697897333651781e-05},{"id":2896746,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14310880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896747,"event":"return","thread_id":9160,"parent_id":2896746,"elapsed":3.522029146552086e-06,"elapsed_instrumentation":0.0001012619468383491,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2896748,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14310880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896749,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14310900,"value":"Cache delete: relationship:111361439963376680:111361439963376672\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896750,"event":"return","thread_id":9160,"parent_id":2896749,"elapsed":0.0006641919608227909,"elapsed_instrumentation":0.0001324040349572897,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896751,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14310920,"value":"Cache delete: relationship:111361439963376672:111361439963376680\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896752,"event":"return","thread_id":9160,"parent_id":2896751,"elapsed":0.0008866050047799945,"elapsed_instrumentation":0.00014090200420469046,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896753,"event":"return","thread_id":9160,"parent_id":2896748,"elapsed":0.0021369640016928315,"elapsed_instrumentation":0.00011252600234001875,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2896754,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14310940,"value":"#<Account:0x00007fc9185880c0>"}},{"id":2896755,"event":"return","thread_id":9160,"parent_id":2896754,"elapsed":1.5084980987012386e-05,"elapsed_instrumentation":9.889696957543492e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896756,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14310940,"value":"#<Account:0x00007fc9185880c0>"}},{"id":2896757,"event":"return","thread_id":9160,"parent_id":2896756,"elapsed":3.7539866752922535e-06,"elapsed_instrumentation":6.190099520608783e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896758,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309280,"value":"#<Account:0x00007fc918588fc0>"}},{"id":2896759,"event":"return","thread_id":9160,"parent_id":2896758,"elapsed":4.581001121550798e-06,"elapsed_instrumentation":5.604099715128541e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896760,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14310960,"value":"{args=>[111361439963376672, 111361439963376680], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14310980,"value":"#<Sidekiq::Client:0x00007fc919147050>"}},{"id":2896761,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14311000,"value":"\u0012_=6\u0004____&B_"}},{"id":2896762,"event":"return","thread_id":9160,"parent_id":2896761,"elapsed":4.411966074258089e-06,"elapsed_instrumentation":0.0001199140097014606,"return_value":{"class":"String","value":"12aa3d3604d182aafe2642c3","object_id":14311020}},{"id":2896763,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14311040,"value":"[111361439963376672, 111361439963376680]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14311060,"value":"#<JSON::Ext::Generator::State:0x00007fc919142a50>"}},{"id":2896764,"event":"return","thread_id":9160,"parent_id":2896763,"elapsed":6.071990355849266e-06,"elapsed_instrumentation":0.00010486494284123182,"return_value":{"class":"String","value":"[111361439963376672,111361439963376680]","object_id":14311080}},{"id":2896765,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14311100,"value":"#<JSON::Ext::Parser:0x00007fc9191411a0>"}},{"id":2896766,"event":"return","thread_id":9160,"parent_id":2896765,"elapsed":6.6470238380134106e-06,"elapsed_instrumentation":7.809698581695557e-05,"return_value":{"class":"Array","value":"[111361439963376672, 111361439963376680]","object_id":14311120,"size":2}},{"id":2896767,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14311140,"value":"\u0005__\"_\u001c9__Vz_"}},{"id":2896768,"event":"return","thread_id":9160,"parent_id":2896767,"elapsed":3.1770323403179646e-06,"elapsed_instrumentation":9.480497101321816e-05,"return_value":{"class":"String","value":"059dbf22981c39928c567ac7","object_id":14311160}},{"id":2896769,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14311180,"value":"{retry=>true, queue=>pull, args=>[111361439963376672, 111361439963376680], class=>UnmergeWorker, jid=>12aa3d3604d182aafe2642c3, created_at=>1699240723.0080976, id=>059dbf22981c39928c567ac7}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14311200,"value":"#<JSON::Ext::Generator::State:0x00007fc91917d7b8>"}},{"id":2896770,"event":"return","thread_id":9160,"parent_id":2896769,"elapsed":1.4360994100570679e-05,"elapsed_instrumentation":0.0003665330004878342,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439963376672,111361439963376680],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14311220}},{"id":2896771,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14311240,"value":"#<JSON::Ext::Parser:0x00007fc919179c58>"}},{"id":2896772,"event":"return","thread_id":9160,"parent_id":2896771,"elapsed":1.8908001948148012e-05,"elapsed_instrumentation":0.00016230298206210136,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439963376672, 111361439963376680], class=>UnmergeWorker, jid=>12aa3d3604d182aafe2642c3, created_at=>1699240723.0080976, id=>059dbf22981c39928c567ac7}","object_id":14311260,"size":7}},{"id":2896773,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879926753345,"value":"111361439963376672","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14311280,"value":"#<UnmergeWorker:0x00007fc9191767b0>"}},{"id":2896774,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14311280,"value":"#<UnmergeWorker:0x00007fc9191767b0>"}},{"id":2896775,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896776,"event":"return","thread_id":9160,"parent_id":2896775,"elapsed":0.000563899,"elapsed_instrumentation":8.889101445674896e-05},{"id":2896777,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896778,"event":"return","thread_id":9160,"parent_id":2896777,"elapsed":0.000675703,"elapsed_instrumentation":8.121895371004939e-05},{"id":2896779,"event":"return","thread_id":9160,"parent_id":2896774,"elapsed":0.0037897310103289783,"elapsed_instrumentation":0.00010802096221596003,"return_value":{"class":"Account","value":"#<Account:0x00007fc919a7a8c0>","object_id":14311300}},{"id":2896780,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14311280,"value":"#<UnmergeWorker:0x00007fc9191767b0>"}},{"id":2896781,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14311320,"value":"#<Account:0x00007fc919a7aa00>","kind":"req"},{"name":"into_account","class":"Account","object_id":14311300,"value":"#<Account:0x00007fc919a7a8c0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896782,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896783,"event":"return","thread_id":9160,"parent_id":2896782,"elapsed":9.823997970670462e-06,"elapsed_instrumentation":0.0003473880351521075,"return_value":{"class":"String","value":"feed:home:111361439963376680","object_id":14311340}},{"id":2896784,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896785,"event":"return","thread_id":9160,"parent_id":2896784,"elapsed":5.331996362656355e-06,"elapsed_instrumentation":9.790097828954458e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2896786,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14311360,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14311380,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2896787,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14311400,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14311420,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2896788,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2896789,"event":"return","thread_id":13276700,"parent_id":2896788,"elapsed":5.793990567326546e-06,"elapsed_instrumentation":6.456900155171752e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2896790,"event":"return","thread_id":13276700,"parent_id":2896787,"elapsed":8.802302181720734e-05,"elapsed_instrumentation":0.00016642303671687841,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2896791,"event":"return","thread_id":13276700,"parent_id":2896786,"elapsed":0.00028511701384559274,"elapsed_instrumentation":0.00017417804338037968,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2896792,"event":"return","thread_id":9160,"parent_id":2896781,"elapsed":0.003956308995839208,"elapsed_instrumentation":0.00010210304753854871},{"id":2896793,"event":"return","thread_id":9160,"parent_id":2896780,"elapsed":0.004089694004505873,"elapsed_instrumentation":8.887401781976223e-05},{"id":2896794,"event":"return","thread_id":9160,"parent_id":2896773,"elapsed":0.008121817954815924,"elapsed_instrumentation":7.979007204994559e-05},{"id":2896795,"event":"return","thread_id":9160,"parent_id":2896760,"elapsed":0.009500976011622697,"elapsed_instrumentation":0.00030709500424563885,"return_value":{"class":"String","value":"12aa3d3604d182aafe2642c3","object_id":14311020}},{"id":2896796,"event":"return","thread_id":9160,"parent_id":2896705,"elapsed":0.028916986018884927,"elapsed_instrumentation":0.00014894496416673064,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a7e740>","object_id":14310860}},{"id":2896797,"event":"return","thread_id":9160,"parent_id":2896704,"elapsed":0.02908889000536874,"elapsed_instrumentation":9.0310990344733e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a7e740>","object_id":14310860}},{"id":2896798,"event":"return","thread_id":9160,"parent_id":2896703,"elapsed":0.029211866960395128,"elapsed_instrumentation":0.00027854106156155467,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a7e740>","object_id":14310860}},{"id":2896799,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14311440,"value":"relationship:111361439963376673:111361439963376680","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14311460,"value":"#<UnfollowService:0x00007fc8e13688f8>"}},{"id":2896800,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14311460,"value":"#<UnfollowService:0x00007fc8e13688f8>"}},{"id":2896801,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14311480,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14311500,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896802,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896803,"event":"return","thread_id":9160,"parent_id":2896802,"elapsed":3.3430405892431736e-06,"elapsed_instrumentation":6.661302177235484e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2896804,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14311520,"value":"L_.__3_@-O_M_>__"}},{"id":2896805,"event":"return","thread_id":9160,"parent_id":2896804,"elapsed":6.404006853699684e-06,"elapsed_instrumentation":0.00023165502352640033,"return_value":{"class":"Array","value":"[1290809050, 57139, 37952, 11599, 44365, 2352937689]","object_id":14311540,"size":6}},{"id":2896806,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896807,"event":"return","thread_id":9160,"parent_id":2896806,"elapsed":0.000646034,"elapsed_instrumentation":8.209800580516458e-05},{"id":2896808,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14311560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896809,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896810,"event":"return","thread_id":9160,"parent_id":2896809,"elapsed":0.00033282,"elapsed_instrumentation":7.578200893476605e-05},{"id":2896811,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896812,"event":"return","thread_id":9160,"parent_id":2896811,"elapsed":0.000280022,"elapsed_instrumentation":0.00010035501327365637},{"id":2896813,"event":"return","thread_id":9160,"parent_id":2896808,"elapsed":0.002012677025049925,"elapsed_instrumentation":0.0001447700196877122,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2896814,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2896815,"event":"return","thread_id":9160,"parent_id":2896814,"elapsed":0.000552819,"elapsed_instrumentation":6.965396460145712e-05},{"id":2896816,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14311560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896817,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2896818,"event":"return","thread_id":9160,"parent_id":2896817,"elapsed":0.000475944,"elapsed_instrumentation":6.322597619146109e-05},{"id":2896819,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896820,"event":"return","thread_id":9160,"parent_id":2896819,"elapsed":0.000539435,"elapsed_instrumentation":6.418401608243585e-05},{"id":2896821,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14311580,"value":"#<Account:0x00007fc919a78d40>"}},{"id":2896822,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14311580,"value":"#<Account:0x00007fc919a78d40>"}},{"id":2896823,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439963376680, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896824,"event":"return","thread_id":9160,"parent_id":2896823,"elapsed":0.000765403,"elapsed_instrumentation":6.635102909058332e-05},{"id":2896825,"event":"return","thread_id":9160,"parent_id":2896822,"elapsed":0.0012505879858508706,"elapsed_instrumentation":8.555402746424079e-05},{"id":2896826,"event":"return","thread_id":9160,"parent_id":2896821,"elapsed":0.0013612409820780158,"elapsed_instrumentation":0.0001727950293570757},{"id":2896827,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896828,"event":"return","thread_id":9160,"parent_id":2896827,"elapsed":0.000454171,"elapsed_instrumentation":7.058697519823909e-05},{"id":2896829,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14311600,"value":"#<Account:0x00007fc919a77800>"}},{"id":2896830,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14311600,"value":"#<Account:0x00007fc919a77800>"}},{"id":2896831,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439963376673, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896832,"event":"return","thread_id":9160,"parent_id":2896831,"elapsed":0.000707294,"elapsed_instrumentation":6.602599751204252e-05},{"id":2896833,"event":"return","thread_id":9160,"parent_id":2896830,"elapsed":0.0011553660151548684,"elapsed_instrumentation":8.169002830982208e-05},{"id":2896834,"event":"return","thread_id":9160,"parent_id":2896829,"elapsed":0.0012592170387506485,"elapsed_instrumentation":0.00010081700747832656},{"id":2896835,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14311580,"value":"#<Account:0x00007fc919a78d40>"}},{"id":2896836,"event":"return","thread_id":9160,"parent_id":2896835,"elapsed":0.0001436420134268701,"elapsed_instrumentation":0.0001047999830916524,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896837,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14311600,"value":"#<Account:0x00007fc919a77800>"}},{"id":2896838,"event":"return","thread_id":9160,"parent_id":2896837,"elapsed":8.123985026031733e-06,"elapsed_instrumentation":8.339399937540293e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896839,"event":"return","thread_id":9160,"parent_id":2896816,"elapsed":0.008835493004880846,"elapsed_instrumentation":0.0001399859320372343,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2896840,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896841,"event":"return","thread_id":9160,"parent_id":2896840,"elapsed":0.000403994,"elapsed_instrumentation":6.399897392839193e-05},{"id":2896842,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14311640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896843,"event":"return","thread_id":9160,"parent_id":2896842,"elapsed":3.1929812394082546e-06,"elapsed_instrumentation":0.0001074459869414568,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2896844,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14311640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896845,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14311660,"value":"Cache delete: relationship:111361439963376680:111361439963376673\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896846,"event":"return","thread_id":9160,"parent_id":2896845,"elapsed":0.0006006070179864764,"elapsed_instrumentation":0.00010528898565098643,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896847,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14311680,"value":"Cache delete: relationship:111361439963376673:111361439963376680\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896848,"event":"return","thread_id":9160,"parent_id":2896847,"elapsed":0.0006488309591077268,"elapsed_instrumentation":0.0001873830333352089,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896849,"event":"return","thread_id":9160,"parent_id":2896844,"elapsed":0.001811108028050512,"elapsed_instrumentation":0.00010428600944578648,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2896850,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14311700,"value":"#<Account:0x00007fc918587e40>"}},{"id":2896851,"event":"return","thread_id":9160,"parent_id":2896850,"elapsed":1.3061042409390211e-05,"elapsed_instrumentation":8.316402090713382e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896852,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14311700,"value":"#<Account:0x00007fc918587e40>"}},{"id":2896853,"event":"return","thread_id":9160,"parent_id":2896852,"elapsed":4.289031494408846e-06,"elapsed_instrumentation":6.045802729204297e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896854,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309280,"value":"#<Account:0x00007fc918588fc0>"}},{"id":2896855,"event":"return","thread_id":9160,"parent_id":2896854,"elapsed":4.130008164793253e-06,"elapsed_instrumentation":5.4720963817089796e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896856,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14311720,"value":"{args=>[111361439963376673, 111361439963376680], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14311740,"value":"#<Sidekiq::Client:0x00007fc91924b0a0>"}},{"id":2896857,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14311760,"value":"{__Sv_D__/_!"}},{"id":2896858,"event":"return","thread_id":9160,"parent_id":2896857,"elapsed":4.202011041343212e-06,"elapsed_instrumentation":0.00010318303247913718,"return_value":{"class":"String","value":"7b82be53765f449ff82f9221","object_id":14311780}},{"id":2896859,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14311800,"value":"[111361439963376673, 111361439963376680]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14311820,"value":"#<JSON::Ext::Generator::State:0x00007fc919248be8>"}},{"id":2896860,"event":"return","thread_id":9160,"parent_id":2896859,"elapsed":6.084039341658354e-06,"elapsed_instrumentation":9.700097143650055e-05,"return_value":{"class":"String","value":"[111361439963376673,111361439963376680]","object_id":14311840}},{"id":2896861,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14311860,"value":"#<JSON::Ext::Parser:0x00007fc919247e00>"}},{"id":2896862,"event":"return","thread_id":9160,"parent_id":2896861,"elapsed":5.250971298664808e-06,"elapsed_instrumentation":0.00014085002476349473,"return_value":{"class":"Array","value":"[111361439963376673, 111361439963376680]","object_id":14311880,"size":2}},{"id":2896863,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14311900,"value":">___|___\n___"}},{"id":2896864,"event":"return","thread_id":9160,"parent_id":2896863,"elapsed":3.1130039133131504e-06,"elapsed_instrumentation":0.00010002800263464451,"return_value":{"class":"String","value":"3e88c3cb7caf96dd0ab2b6e5","object_id":14311920}},{"id":2896865,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14311940,"value":"{retry=>true, queue=>pull, args=>[111361439963376673, 111361439963376680], class=>UnmergeWorker, jid=>7b82be53765f449ff82f9221, created_at=>1699240723.036465, id=>3e88c3cb7caf96dd0ab2b6e5}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14311960,"value":"#<JSON::Ext::Generator::State:0x00007fc919246370>"}},{"id":2896866,"event":"return","thread_id":9160,"parent_id":2896865,"elapsed":1.3274955563247204e-05,"elapsed_instrumentation":0.00017720204778015614,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439963376673,111361439963376680],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14311980}},{"id":2896867,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14312000,"value":"#<JSON::Ext::Parser:0x00007fc919243e40>"}},{"id":2896868,"event":"return","thread_id":9160,"parent_id":2896867,"elapsed":1.7387967091053724e-05,"elapsed_instrumentation":0.00014941301196813583,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439963376673, 111361439963376680], class=>UnmergeWorker, jid=>7b82be53765f449ff82f9221, created_at=>1699240723.036465, id=>3e88c3cb7caf96dd0ab2b6e5}","object_id":14312020,"size":7}},{"id":2896869,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879926753347,"value":"111361439963376673","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14312040,"value":"#<UnmergeWorker:0x00007fc919241f28>"}},{"id":2896870,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14312040,"value":"#<UnmergeWorker:0x00007fc919241f28>"}},{"id":2896871,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896872,"event":"return","thread_id":9160,"parent_id":2896871,"elapsed":0.000499622,"elapsed_instrumentation":7.164600538089871e-05},{"id":2896873,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896874,"event":"return","thread_id":9160,"parent_id":2896873,"elapsed":0.000616276,"elapsed_instrumentation":7.276097312569618e-05},{"id":2896875,"event":"return","thread_id":9160,"parent_id":2896870,"elapsed":0.0034574730088934302,"elapsed_instrumentation":0.00010862300405278802,"return_value":{"class":"Account","value":"#<Account:0x00007fc919a75c80>","object_id":14312060}},{"id":2896876,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14312040,"value":"#<UnmergeWorker:0x00007fc919241f28>"}},{"id":2896877,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14312080,"value":"#<Account:0x00007fc919a75dc0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14312060,"value":"#<Account:0x00007fc919a75c80>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896878,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896879,"event":"return","thread_id":9160,"parent_id":2896878,"elapsed":5.509995389729738e-06,"elapsed_instrumentation":0.00010556302731856704,"return_value":{"class":"String","value":"feed:home:111361439963376680","object_id":14312100}},{"id":2896880,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896881,"event":"return","thread_id":9160,"parent_id":2896880,"elapsed":4.363013431429863e-06,"elapsed_instrumentation":7.296097464859486e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2896882,"event":"return","thread_id":9160,"parent_id":2896877,"elapsed":0.003171084972564131,"elapsed_instrumentation":0.00011933199129998684},{"id":2896883,"event":"return","thread_id":9160,"parent_id":2896876,"elapsed":0.0033365520066581666,"elapsed_instrumentation":8.937099482864141e-05},{"id":2896884,"event":"return","thread_id":9160,"parent_id":2896869,"elapsed":0.007038203009869903,"elapsed_instrumentation":7.467297837138176e-05},{"id":2896885,"event":"return","thread_id":9160,"parent_id":2896856,"elapsed":0.008217027003411204,"elapsed_instrumentation":0.00014736299635842443,"return_value":{"class":"String","value":"7b82be53765f449ff82f9221","object_id":14311780}},{"id":2896886,"event":"return","thread_id":9160,"parent_id":2896801,"elapsed":0.026605966966599226,"elapsed_instrumentation":0.00014053803170099854,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a79880>","object_id":14311620}},{"id":2896887,"event":"return","thread_id":9160,"parent_id":2896800,"elapsed":0.02676820702617988,"elapsed_instrumentation":7.673399522900581e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a79880>","object_id":14311620}},{"id":2896888,"event":"return","thread_id":9160,"parent_id":2896799,"elapsed":0.026875985029619187,"elapsed_instrumentation":0.00012301199603825808,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a79880>","object_id":14311620}},{"id":2896889,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14312120,"value":"relationship:111361439963376674:111361439963376680","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14312140,"value":"#<UnfollowService:0x00007fc8e1360f18>"}},{"id":2896890,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14312140,"value":"#<UnfollowService:0x00007fc8e1360f18>"}},{"id":2896891,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14312160,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14312180,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896892,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896893,"event":"return","thread_id":9160,"parent_id":2896892,"elapsed":2.515967935323715e-06,"elapsed_instrumentation":6.32070004940033e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2896894,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14312200,"value":"_\"2_aH}___1_,__#"}},{"id":2896895,"event":"return","thread_id":9160,"parent_id":2896894,"elapsed":6.1470200307667255e-06,"elapsed_instrumentation":0.00014849001308903098,"return_value":{"class":"Array","value":"[2552378069, 24904, 32199, 49862, 12691, 751167779]","object_id":14312220,"size":6}},{"id":2896896,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896897,"event":"return","thread_id":9160,"parent_id":2896896,"elapsed":0.000473415,"elapsed_instrumentation":8.120003622025251e-05},{"id":2896898,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14312240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896899,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896900,"event":"return","thread_id":9160,"parent_id":2896899,"elapsed":0.000418247,"elapsed_instrumentation":7.811997784301639e-05},{"id":2896901,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896902,"event":"return","thread_id":9160,"parent_id":2896901,"elapsed":0.000410721,"elapsed_instrumentation":6.94200280122459e-05},{"id":2896903,"event":"return","thread_id":9160,"parent_id":2896898,"elapsed":0.0022872639819979668,"elapsed_instrumentation":0.0001505629625171423,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2896904,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2896905,"event":"return","thread_id":9160,"parent_id":2896904,"elapsed":0.000503201,"elapsed_instrumentation":6.658997153863311e-05},{"id":2896906,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14312240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896907,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2896908,"event":"return","thread_id":9160,"parent_id":2896907,"elapsed":0.000549167,"elapsed_instrumentation":6.906903581693769e-05},{"id":2896909,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896910,"event":"return","thread_id":9160,"parent_id":2896909,"elapsed":0.000488978,"elapsed_instrumentation":8.955399971455336e-05},{"id":2896911,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14312260,"value":"#<Account:0x00007fc919a73c00>"}},{"id":2896912,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14312260,"value":"#<Account:0x00007fc919a73c00>"}},{"id":2896913,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439963376680, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896914,"event":"return","thread_id":9160,"parent_id":2896913,"elapsed":0.000759291,"elapsed_instrumentation":8.088897448033094e-05},{"id":2896915,"event":"return","thread_id":9160,"parent_id":2896912,"elapsed":0.0014240010059438646,"elapsed_instrumentation":0.00012098695151507854},{"id":2896916,"event":"return","thread_id":9160,"parent_id":2896911,"elapsed":0.0015740679809823632,"elapsed_instrumentation":0.00014612398808822036},{"id":2896917,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896918,"event":"return","thread_id":9160,"parent_id":2896917,"elapsed":0.000489328,"elapsed_instrumentation":6.746500730514526e-05},{"id":2896919,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14312280,"value":"#<Account:0x00007fc919a72800>"}},{"id":2896920,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14312280,"value":"#<Account:0x00007fc919a72800>"}},{"id":2896921,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439963376674, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2896922,"event":"return","thread_id":9160,"parent_id":2896921,"elapsed":0.000683487,"elapsed_instrumentation":7.275299867615104e-05},{"id":2896923,"event":"return","thread_id":9160,"parent_id":2896920,"elapsed":0.0013662109849974513,"elapsed_instrumentation":8.868600707501173e-05},{"id":2896924,"event":"return","thread_id":9160,"parent_id":2896919,"elapsed":0.0014788450207561255,"elapsed_instrumentation":0.00011016696225851774},{"id":2896925,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14312260,"value":"#<Account:0x00007fc919a73c00>"}},{"id":2896926,"event":"return","thread_id":9160,"parent_id":2896925,"elapsed":1.516897464171052e-05,"elapsed_instrumentation":9.985704673454165e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896927,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14312280,"value":"#<Account:0x00007fc919a72800>"}},{"id":2896928,"event":"return","thread_id":9160,"parent_id":2896927,"elapsed":8.680042810738087e-06,"elapsed_instrumentation":8.239399176090956e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896929,"event":"return","thread_id":9160,"parent_id":2896906,"elapsed":0.009709502046462148,"elapsed_instrumentation":0.00014414801262319088,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2896930,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896931,"event":"return","thread_id":9160,"parent_id":2896930,"elapsed":0.000408638,"elapsed_instrumentation":7.22479890100658e-05},{"id":2896932,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14312320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896933,"event":"return","thread_id":9160,"parent_id":2896932,"elapsed":3.701017703860998e-06,"elapsed_instrumentation":0.00011880596866831183,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2896934,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14312320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2896935,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14312340,"value":"Cache delete: relationship:111361439963376680:111361439963376674\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896936,"event":"return","thread_id":9160,"parent_id":2896935,"elapsed":0.0006912029930390418,"elapsed_instrumentation":0.00011312501737847924,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896937,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14312360,"value":"Cache delete: relationship:111361439963376674:111361439963376680\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2896938,"event":"return","thread_id":9160,"parent_id":2896937,"elapsed":0.0006075690034776926,"elapsed_instrumentation":0.00013183604460209608,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2896939,"event":"return","thread_id":9160,"parent_id":2896934,"elapsed":0.0018362340051680803,"elapsed_instrumentation":0.00010702904546633363,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2896940,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14312380,"value":"#<Account:0x00007fc918587bc0>"}},{"id":2896941,"event":"return","thread_id":9160,"parent_id":2896940,"elapsed":1.4840043149888515e-05,"elapsed_instrumentation":8.617393905296922e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896942,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14312380,"value":"#<Account:0x00007fc918587bc0>"}},{"id":2896943,"event":"return","thread_id":9160,"parent_id":2896942,"elapsed":3.7420541048049927e-06,"elapsed_instrumentation":5.985994357615709e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896944,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309280,"value":"#<Account:0x00007fc918588fc0>"}},{"id":2896945,"event":"return","thread_id":9160,"parent_id":2896944,"elapsed":4.155968781560659e-06,"elapsed_instrumentation":5.446799332275987e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2896946,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14312400,"value":"{args=>[111361439963376674, 111361439963376680], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14312420,"value":"#<Sidekiq::Client:0x00007fc91930ffb8>"}},{"id":2896947,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14312440,"value":"______O_)^__"}},{"id":2896948,"event":"return","thread_id":9160,"parent_id":2896947,"elapsed":5.0720409490168095e-06,"elapsed_instrumentation":0.00012557697482407093,"return_value":{"class":"String","value":"bd90a691e6a84ffe295eb79a","object_id":14312460}},{"id":2896949,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14312480,"value":"[111361439963376674, 111361439963376680]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14312500,"value":"#<JSON::Ext::Generator::State:0x00007fc91930d718>"}},{"id":2896950,"event":"return","thread_id":9160,"parent_id":2896949,"elapsed":5.7549914345145226e-06,"elapsed_instrumentation":0.00010234501678496599,"return_value":{"class":"String","value":"[111361439963376674,111361439963376680]","object_id":14312520}},{"id":2896951,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14312540,"value":"#<JSON::Ext::Parser:0x00007fc91930c688>"}},{"id":2896952,"event":"return","thread_id":9160,"parent_id":2896951,"elapsed":5.423964466899633e-06,"elapsed_instrumentation":7.449404802173376e-05,"return_value":{"class":"Array","value":"[111361439963376674, 111361439963376680]","object_id":14312560,"size":2}},{"id":2896953,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14312580,"value":"h____+_B_\u0005__"}},{"id":2896954,"event":"return","thread_id":9160,"parent_id":2896953,"elapsed":3.101013135164976e-06,"elapsed_instrumentation":8.966296445578337e-05,"return_value":{"class":"String","value":"68c6e292bb2bd342f205a9f1","object_id":14312600}},{"id":2896955,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14312620,"value":"{retry=>true, queue=>pull, args=>[111361439963376674, 111361439963376680], class=>UnmergeWorker, jid=>bd90a691e6a84ffe295eb79a, created_at=>1699240723.0649488, id=>68c6e292bb2bd342f205a9f1}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14312640,"value":"#<JSON::Ext::Generator::State:0x00007fc91930aab8>"}},{"id":2896956,"event":"return","thread_id":9160,"parent_id":2896955,"elapsed":1.377396984025836e-05,"elapsed_instrumentation":0.00017402996309101582,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439963376674,111361439963376680],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14312660}},{"id":2896957,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14312680,"value":"#<JSON::Ext::Parser:0x00007fc9193086f0>"}},{"id":2896958,"event":"return","thread_id":9160,"parent_id":2896957,"elapsed":1.8137972801923752e-05,"elapsed_instrumentation":0.00017847801791504025,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439963376674, 111361439963376680], class=>UnmergeWorker, jid=>bd90a691e6a84ffe295eb79a, created_at=>1699240723.0649488, id=>68c6e292bb2bd342f205a9f1}","object_id":14312700,"size":7}},{"id":2896959,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879926753349,"value":"111361439963376674","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14312720,"value":"#<UnmergeWorker:0x00007fc919305a90>"}},{"id":2896960,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14312720,"value":"#<UnmergeWorker:0x00007fc919305a90>"}},{"id":2896961,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896962,"event":"return","thread_id":9160,"parent_id":2896961,"elapsed":0.000615487,"elapsed_instrumentation":7.613201159983873e-05},{"id":2896963,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2896964,"event":"return","thread_id":9160,"parent_id":2896963,"elapsed":0.000529069,"elapsed_instrumentation":7.131602615118027e-05},{"id":2896965,"event":"return","thread_id":9160,"parent_id":2896960,"elapsed":0.003383574017789215,"elapsed_instrumentation":9.836500976234674e-05,"return_value":{"class":"Account","value":"#<Account:0x00007fc919a70500>","object_id":14312740}},{"id":2896966,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14312720,"value":"#<UnmergeWorker:0x00007fc919305a90>"}},{"id":2896967,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14312760,"value":"#<Account:0x00007fc919a70780>","kind":"req"},{"name":"into_account","class":"Account","object_id":14312740,"value":"#<Account:0x00007fc919a70500>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896968,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896969,"event":"return","thread_id":9160,"parent_id":2896968,"elapsed":5.952955689281225e-06,"elapsed_instrumentation":0.00010252196807414293,"return_value":{"class":"String","value":"feed:home:111361439963376680","object_id":14312780}},{"id":2896970,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2896971,"event":"return","thread_id":9160,"parent_id":2896970,"elapsed":4.6959612518548965e-06,"elapsed_instrumentation":7.230398477986455e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2896972,"event":"return","thread_id":9160,"parent_id":2896967,"elapsed":0.003566569008398801,"elapsed_instrumentation":0.00017822504742071033},{"id":2896973,"event":"return","thread_id":9160,"parent_id":2896966,"elapsed":0.0037778530386276543,"elapsed_instrumentation":8.016801439225674e-05},{"id":2896974,"event":"return","thread_id":9160,"parent_id":2896959,"elapsed":0.007382580020930618,"elapsed_instrumentation":7.625401485711336e-05},{"id":2896975,"event":"return","thread_id":9160,"parent_id":2896946,"elapsed":0.008752538997214288,"elapsed_instrumentation":0.00015482900198549032,"return_value":{"class":"String","value":"bd90a691e6a84ffe295eb79a","object_id":14312460}},{"id":2896976,"event":"return","thread_id":9160,"parent_id":2896891,"elapsed":0.028458184970077127,"elapsed_instrumentation":0.00014020700473338366,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a75000>","object_id":14312300}},{"id":2896977,"event":"return","thread_id":9160,"parent_id":2896890,"elapsed":0.02862030698452145,"elapsed_instrumentation":7.406191434711218e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a75000>","object_id":14312300}},{"id":2896978,"event":"return","thread_id":9160,"parent_id":2896889,"elapsed":0.028725205978844315,"elapsed_instrumentation":0.00012132601113989949,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a75000>","object_id":14312300}},{"id":2896979,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14312800,"value":"relationship:111361439963376675:111361439963376680","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14312820,"value":"#<UnfollowService:0x00007fc8e13827d0>"}},{"id":2896980,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14312820,"value":"#<UnfollowService:0x00007fc8e13827d0>"}},{"id":2896981,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14312840,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14312860,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896982,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2896983,"event":"return","thread_id":9160,"parent_id":2896982,"elapsed":2.8100330382585526e-06,"elapsed_instrumentation":6.853300146758556e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2896984,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14312880,"value":"!2_.\f5_n_ _J\u0001\fJs"}},{"id":2896985,"event":"return","thread_id":9160,"parent_id":2896984,"elapsed":6.760004907846451e-06,"elapsed_instrumentation":0.0002655709977261722,"return_value":{"class":"Array","value":"[556959534, 3125, 47214, 45088, 46154, 17582707]","object_id":14312900,"size":6}},{"id":2896986,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896987,"event":"return","thread_id":9160,"parent_id":2896986,"elapsed":0.000420153,"elapsed_instrumentation":9.750097524374723e-05},{"id":2896988,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14312920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896989,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2896990,"event":"return","thread_id":9160,"parent_id":2896989,"elapsed":0.000349004,"elapsed_instrumentation":8.683395572006702e-05},{"id":2896991,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2896992,"event":"return","thread_id":9160,"parent_id":2896991,"elapsed":0.00044397,"elapsed_instrumentation":7.06510036252439e-05},{"id":2896993,"event":"return","thread_id":9160,"parent_id":2896988,"elapsed":0.0023703729966655374,"elapsed_instrumentation":0.00016162102110683918,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2896994,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2896995,"event":"return","thread_id":9160,"parent_id":2896994,"elapsed":0.000581221,"elapsed_instrumentation":7.248303154483438e-05},{"id":2896996,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14312920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2896997,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2896998,"event":"return","thread_id":9160,"parent_id":2896997,"elapsed":0.000538312,"elapsed_instrumentation":7.101398659870028e-05},{"id":2896999,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897000,"event":"return","thread_id":9160,"parent_id":2896999,"elapsed":0.000422441,"elapsed_instrumentation":6.213103188201785e-05},{"id":2897001,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14312940,"value":"#<Account:0x00007fc919a9e388>"}},{"id":2897002,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14312940,"value":"#<Account:0x00007fc919a9e388>"}},{"id":2897003,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439963376680, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897004,"event":"return","thread_id":9160,"parent_id":2897003,"elapsed":0.00072291,"elapsed_instrumentation":7.860595360398293e-05},{"id":2897005,"event":"return","thread_id":9160,"parent_id":2897002,"elapsed":0.0013948949635960162,"elapsed_instrumentation":8.909503230825067e-05},{"id":2897006,"event":"return","thread_id":9160,"parent_id":2897001,"elapsed":0.0015104959602467716,"elapsed_instrumentation":0.00010336900595575571},{"id":2897007,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897008,"event":"return","thread_id":9160,"parent_id":2897007,"elapsed":0.000557564,"elapsed_instrumentation":7.735000690445304e-05},{"id":2897009,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14312960,"value":"#<Account:0x00007fc919a9cf88>"}},{"id":2897010,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14312960,"value":"#<Account:0x00007fc919a9cf88>"}},{"id":2897011,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439963376675, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897012,"event":"return","thread_id":9160,"parent_id":2897011,"elapsed":0.000692986,"elapsed_instrumentation":7.695797830820084e-05},{"id":2897013,"event":"return","thread_id":9160,"parent_id":2897010,"elapsed":0.0013557799975387752,"elapsed_instrumentation":9.199301712214947e-05},{"id":2897014,"event":"return","thread_id":9160,"parent_id":2897009,"elapsed":0.001473568961955607,"elapsed_instrumentation":0.00012765207793563604},{"id":2897015,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14312940,"value":"#<Account:0x00007fc919a9e388>"}},{"id":2897016,"event":"return","thread_id":9160,"parent_id":2897015,"elapsed":1.6550999134778976e-05,"elapsed_instrumentation":0.00010396598372608423,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897017,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14312960,"value":"#<Account:0x00007fc919a9cf88>"}},{"id":2897018,"event":"return","thread_id":9160,"parent_id":2897017,"elapsed":8.124043233692646e-06,"elapsed_instrumentation":6.929697701707482e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897019,"event":"return","thread_id":9160,"parent_id":2896996,"elapsed":0.009174984006676823,"elapsed_instrumentation":0.00014814099995419383,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2897020,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897021,"event":"return","thread_id":9160,"parent_id":2897020,"elapsed":0.00033923,"elapsed_instrumentation":0.0001291939988732338},{"id":2897022,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14313000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897023,"event":"return","thread_id":9160,"parent_id":2897022,"elapsed":4.315050318837166e-06,"elapsed_instrumentation":0.00010915700113400817,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2897024,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14313000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897025,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14313020,"value":"Cache delete: relationship:111361439963376680:111361439963376675\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897026,"event":"return","thread_id":9160,"parent_id":2897025,"elapsed":0.000644815037958324,"elapsed_instrumentation":0.00011683895718306303,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897027,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14313040,"value":"Cache delete: relationship:111361439963376675:111361439963376680\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897028,"event":"return","thread_id":9160,"parent_id":2897027,"elapsed":0.0005917149828746915,"elapsed_instrumentation":0.000131412991322577,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897029,"event":"return","thread_id":9160,"parent_id":2897024,"elapsed":0.00176346703665331,"elapsed_instrumentation":0.00010614696657285094,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2897030,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14313060,"value":"#<Account:0x00007fc918587800>"}},{"id":2897031,"event":"return","thread_id":9160,"parent_id":2897030,"elapsed":1.4910008758306503e-05,"elapsed_instrumentation":8.589995559304953e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897032,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14313060,"value":"#<Account:0x00007fc918587800>"}},{"id":2897033,"event":"return","thread_id":9160,"parent_id":2897032,"elapsed":3.79001721739769e-06,"elapsed_instrumentation":5.9264013543725014e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897034,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309280,"value":"#<Account:0x00007fc918588fc0>"}},{"id":2897035,"event":"return","thread_id":9160,"parent_id":2897034,"elapsed":4.193978384137154e-06,"elapsed_instrumentation":5.527096800506115e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897036,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14313080,"value":"{args=>[111361439963376675, 111361439963376680], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14313100,"value":"#<Sidekiq::Client:0x00007fc930ead9d0>"}},{"id":2897037,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14313120,"value":"1\u0015p__:_&_b__"}},{"id":2897038,"event":"return","thread_id":9160,"parent_id":2897037,"elapsed":4.314002580940723e-06,"elapsed_instrumentation":0.0001020550262182951,"return_value":{"class":"String","value":"311570bee43af526ea628aa9","object_id":14313140}},{"id":2897039,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14313160,"value":"[111361439963376675, 111361439963376680]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14313180,"value":"#<JSON::Ext::Generator::State:0x00007fc930ea8e58>"}},{"id":2897040,"event":"return","thread_id":9160,"parent_id":2897039,"elapsed":6.20400533080101e-06,"elapsed_instrumentation":0.00013106100959703326,"return_value":{"class":"String","value":"[111361439963376675,111361439963376680]","object_id":14313200}},{"id":2897041,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14313220,"value":"#<JSON::Ext::Parser:0x00007fc930ea7058>"}},{"id":2897042,"event":"return","thread_id":9160,"parent_id":2897041,"elapsed":5.444977432489395e-06,"elapsed_instrumentation":7.413403363898396e-05,"return_value":{"class":"Array","value":"[111361439963376675, 111361439963376680]","object_id":14313240,"size":2}},{"id":2897043,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14313260,"value":"lK\u0011\u0018__H___r\u000f"}},{"id":2897044,"event":"return","thread_id":9160,"parent_id":2897043,"elapsed":3.490014933049679e-06,"elapsed_instrumentation":9.354593930765986e-05,"return_value":{"class":"String","value":"6c4b11189cd848e98dc8720f","object_id":14313280}},{"id":2897045,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14313300,"value":"{retry=>true, queue=>pull, args=>[111361439963376675, 111361439963376680], class=>UnmergeWorker, jid=>311570bee43af526ea628aa9, created_at=>1699240723.0935147, id=>6c4b11189cd848e98dc8720f}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14313320,"value":"#<JSON::Ext::Generator::State:0x00007fc930ea2b98>"}},{"id":2897046,"event":"return","thread_id":9160,"parent_id":2897045,"elapsed":1.6200996469706297e-05,"elapsed_instrumentation":0.00017475802451372147,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439963376675,111361439963376680],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14313340}},{"id":2897047,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14313360,"value":"#<JSON::Ext::Parser:0x00007fc930f0f680>"}},{"id":2897048,"event":"return","thread_id":9160,"parent_id":2897047,"elapsed":1.880404306575656e-05,"elapsed_instrumentation":0.00014906399883329868,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439963376675, 111361439963376680], class=>UnmergeWorker, jid=>311570bee43af526ea628aa9, created_at=>1699240723.0935147, id=>6c4b11189cd848e98dc8720f}","object_id":14313380,"size":7}},{"id":2897049,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879926753351,"value":"111361439963376675","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14313400,"value":"#<UnmergeWorker:0x00007fc930f09af0>"}},{"id":2897050,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14313400,"value":"#<UnmergeWorker:0x00007fc930f09af0>"}},{"id":2897051,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897052,"event":"return","thread_id":9160,"parent_id":2897051,"elapsed":0.000515557,"elapsed_instrumentation":0.0002510469639673829},{"id":2897053,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897054,"event":"return","thread_id":9160,"parent_id":2897053,"elapsed":0.000492331,"elapsed_instrumentation":7.955403998494148e-05},{"id":2897055,"event":"return","thread_id":9160,"parent_id":2897050,"elapsed":0.003633568005170673,"elapsed_instrumentation":0.0001090209698304534,"return_value":{"class":"Account","value":"#<Account:0x00007fc919a9af08>","object_id":14313420}},{"id":2897056,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14313400,"value":"#<UnmergeWorker:0x00007fc930f09af0>"}},{"id":2897057,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14313440,"value":"#<Account:0x00007fc919a9b048>","kind":"req"},{"name":"into_account","class":"Account","object_id":14313420,"value":"#<Account:0x00007fc919a9af08>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897058,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897059,"event":"return","thread_id":9160,"parent_id":2897058,"elapsed":6.116984877735376e-06,"elapsed_instrumentation":0.00022033805726096034,"return_value":{"class":"String","value":"feed:home:111361439963376680","object_id":14313460}},{"id":2897060,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897061,"event":"return","thread_id":9160,"parent_id":2897060,"elapsed":5.108013283461332e-06,"elapsed_instrumentation":0.0001020550262182951,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2897062,"event":"return","thread_id":9160,"parent_id":2897057,"elapsed":0.0034077090094797313,"elapsed_instrumentation":0.00010151794413104653},{"id":2897063,"event":"return","thread_id":9160,"parent_id":2897056,"elapsed":0.003541105950716883,"elapsed_instrumentation":8.729001274332404e-05},{"id":2897064,"event":"return","thread_id":9160,"parent_id":2897049,"elapsed":0.007416347973048687,"elapsed_instrumentation":7.709302008152008e-05},{"id":2897065,"event":"return","thread_id":9160,"parent_id":2897036,"elapsed":0.008644114015623927,"elapsed_instrumentation":0.00015276001067832112,"return_value":{"class":"String","value":"311570bee43af526ea628aa9","object_id":14313140}},{"id":2897066,"event":"return","thread_id":9160,"parent_id":2896981,"elapsed":0.027958610036876053,"elapsed_instrumentation":0.00013712799409404397,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a9ec48>","object_id":14312980}},{"id":2897067,"event":"return","thread_id":9160,"parent_id":2896980,"elapsed":0.02811674098484218,"elapsed_instrumentation":8.334405720233917e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a9ec48>","object_id":14312980}},{"id":2897068,"event":"return","thread_id":9160,"parent_id":2896979,"elapsed":0.02823428699048236,"elapsed_instrumentation":0.0001481079962104559,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a9ec48>","object_id":14312980}},{"id":2897069,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14313480,"value":"relationship:111361439963376676:111361439963376680","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14313500,"value":"#<UnfollowService:0x00007fc8e1395420>"}},{"id":2897070,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14313500,"value":"#<UnfollowService:0x00007fc8e1395420>"}},{"id":2897071,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14313520,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14313540,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897072,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897073,"event":"return","thread_id":9160,"parent_id":2897072,"elapsed":2.829998265951872e-06,"elapsed_instrumentation":6.998900789767504e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2897074,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14313560,"value":"~B__\b_Kus__6:\u001d__"}},{"id":2897075,"event":"return","thread_id":9160,"parent_id":2897074,"elapsed":6.567046511918306e-06,"elapsed_instrumentation":0.00023460795637220144,"return_value":{"class":"Array","value":"[2118307972, 2188, 19317, 29642, 32822, 975030147]","object_id":14313580,"size":6}},{"id":2897076,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897077,"event":"return","thread_id":9160,"parent_id":2897076,"elapsed":0.000444372,"elapsed_instrumentation":7.950497092679143e-05},{"id":2897078,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14313600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897079,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897080,"event":"return","thread_id":9160,"parent_id":2897079,"elapsed":0.000367418,"elapsed_instrumentation":7.87739991210401e-05},{"id":2897081,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897082,"event":"return","thread_id":9160,"parent_id":2897081,"elapsed":0.000327728,"elapsed_instrumentation":7.295701652765274e-05},{"id":2897083,"event":"return","thread_id":9160,"parent_id":2897078,"elapsed":0.002250362013000995,"elapsed_instrumentation":0.00029417197220027447,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2897084,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2897085,"event":"return","thread_id":9160,"parent_id":2897084,"elapsed":0.000573971,"elapsed_instrumentation":6.703601684421301e-05},{"id":2897086,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14313600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897087,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2897088,"event":"return","thread_id":9160,"parent_id":2897087,"elapsed":0.000560672,"elapsed_instrumentation":8.590397192165256e-05},{"id":2897089,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897090,"event":"return","thread_id":9160,"parent_id":2897089,"elapsed":0.000631176,"elapsed_instrumentation":6.636697798967361e-05},{"id":2897091,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14313620,"value":"#<Account:0x00007fc919a99108>"}},{"id":2897092,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14313620,"value":"#<Account:0x00007fc919a99108>"}},{"id":2897093,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439963376680, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897094,"event":"return","thread_id":9160,"parent_id":2897093,"elapsed":0.000775332,"elapsed_instrumentation":6.75650080665946e-05},{"id":2897095,"event":"return","thread_id":9160,"parent_id":2897092,"elapsed":0.0012508530053310096,"elapsed_instrumentation":8.372898446395993e-05},{"id":2897096,"event":"return","thread_id":9160,"parent_id":2897091,"elapsed":0.0013580790255218744,"elapsed_instrumentation":0.00011045503197237849},{"id":2897097,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14313640,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14313660,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2897098,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14313680,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14313700,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2897099,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2897100,"event":"return","thread_id":13276700,"parent_id":2897099,"elapsed":5.524954758584499e-06,"elapsed_instrumentation":8.052797056734562e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2897101,"event":"return","thread_id":13276700,"parent_id":2897098,"elapsed":0.0001081409864127636,"elapsed_instrumentation":0.0003093560226261616,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2897102,"event":"return","thread_id":13276700,"parent_id":2897097,"elapsed":0.0004390960093587637,"elapsed_instrumentation":0.0001444389927200973,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2897103,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897104,"event":"return","thread_id":9160,"parent_id":2897103,"elapsed":0.00097847,"elapsed_instrumentation":7.052102591842413e-05},{"id":2897105,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14313720,"value":"#<Account:0x00007fc919a980c8>"}},{"id":2897106,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14313720,"value":"#<Account:0x00007fc919a980c8>"}},{"id":2897107,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439963376676, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897108,"event":"return","thread_id":9160,"parent_id":2897107,"elapsed":0.000685501,"elapsed_instrumentation":6.700202357023954e-05},{"id":2897109,"event":"return","thread_id":9160,"parent_id":2897106,"elapsed":0.0011269740061834455,"elapsed_instrumentation":7.858499884605408e-05},{"id":2897110,"event":"return","thread_id":9160,"parent_id":2897105,"elapsed":0.0012269369908608496,"elapsed_instrumentation":9.668001439422369e-05},{"id":2897111,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14313620,"value":"#<Account:0x00007fc919a99108>"}},{"id":2897112,"event":"return","thread_id":9160,"parent_id":2897111,"elapsed":1.4512974303215742e-05,"elapsed_instrumentation":9.080703603103757e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897113,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14313720,"value":"#<Account:0x00007fc919a980c8>"}},{"id":2897114,"event":"return","thread_id":9160,"parent_id":2897113,"elapsed":8.36601248010993e-06,"elapsed_instrumentation":8.641398744657636e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897115,"event":"return","thread_id":9160,"parent_id":2897086,"elapsed":0.00980249501299113,"elapsed_instrumentation":0.0001466190442442894,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2897116,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897117,"event":"return","thread_id":9160,"parent_id":2897116,"elapsed":0.000353576,"elapsed_instrumentation":6.532797124236822e-05},{"id":2897118,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14313760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897119,"event":"return","thread_id":9160,"parent_id":2897118,"elapsed":4.1530001908540726e-06,"elapsed_instrumentation":0.00021109194494783878,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2897120,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14313760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897121,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14313780,"value":"Cache delete: relationship:111361439963376680:111361439963376676\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897122,"event":"return","thread_id":9160,"parent_id":2897121,"elapsed":0.0006247680285014212,"elapsed_instrumentation":0.0001093429746106267,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897123,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14313800,"value":"Cache delete: relationship:111361439963376676:111361439963376680\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897124,"event":"return","thread_id":9160,"parent_id":2897123,"elapsed":0.0005807289853692055,"elapsed_instrumentation":0.00012824300210922956,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897125,"event":"return","thread_id":9160,"parent_id":2897120,"elapsed":0.0017192710074596107,"elapsed_instrumentation":0.00010976800695061684,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2897126,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14313820,"value":"#<Account:0x00007fc918587440>"}},{"id":2897127,"event":"return","thread_id":9160,"parent_id":2897126,"elapsed":1.2953008990734816e-05,"elapsed_instrumentation":9.707798017188907e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897128,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14313820,"value":"#<Account:0x00007fc918587440>"}},{"id":2897129,"event":"return","thread_id":9160,"parent_id":2897128,"elapsed":3.947003278881311e-06,"elapsed_instrumentation":6.317498628050089e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897130,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309280,"value":"#<Account:0x00007fc918588fc0>"}},{"id":2897131,"event":"return","thread_id":9160,"parent_id":2897130,"elapsed":4.125002305954695e-06,"elapsed_instrumentation":5.613500252366066e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897132,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14313840,"value":"{args=>[111361439963376676, 111361439963376680], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14313860,"value":"#<Sidekiq::Client:0x00007fc9313994d0>"}},{"id":2897133,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14313880,"value":"L\u000e{_4%*__f_\u0017"}},{"id":2897134,"event":"return","thread_id":9160,"parent_id":2897133,"elapsed":4.303001333028078e-06,"elapsed_instrumentation":0.00010246399324387312,"return_value":{"class":"String","value":"4c0e7bef34252ac690668117","object_id":14313900}},{"id":2897135,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14313920,"value":"[111361439963376676, 111361439963376680]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14313940,"value":"#<JSON::Ext::Generator::State:0x00007fc931391f00>"}},{"id":2897136,"event":"return","thread_id":9160,"parent_id":2897135,"elapsed":5.965004675090313e-06,"elapsed_instrumentation":0.00021847191965207458,"return_value":{"class":"String","value":"[111361439963376676,111361439963376680]","object_id":14313960}},{"id":2897137,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14313980,"value":"#<JSON::Ext::Parser:0x00007fc9313ee458>"}},{"id":2897138,"event":"return","thread_id":9160,"parent_id":2897137,"elapsed":5.6549906730651855e-06,"elapsed_instrumentation":8.699699537828565e-05,"return_value":{"class":"Array","value":"[111361439963376676, 111361439963376680]","object_id":14314000,"size":2}},{"id":2897139,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14314020,"value":"__\u001cq_t\f/____"}},{"id":2897140,"event":"return","thread_id":9160,"parent_id":2897139,"elapsed":3.437977284193039e-06,"elapsed_instrumentation":9.713700274005532e-05,"return_value":{"class":"String","value":"f59e1c7195740c2f5fd8bba5","object_id":14314040}},{"id":2897141,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14314060,"value":"{retry=>true, queue=>pull, args=>[111361439963376676, 111361439963376680], class=>UnmergeWorker, jid=>4c0e7bef34252ac690668117, created_at=>1699240723.1224, id=>f59e1c7195740c2f5fd8bba5}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14314080,"value":"#<JSON::Ext::Generator::State:0x00007fc9313eb028>"}},{"id":2897142,"event":"return","thread_id":9160,"parent_id":2897141,"elapsed":1.3608019798994064e-05,"elapsed_instrumentation":0.00017747102538123727,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439963376676,111361439963376680],\"class\":\"UnmergeWorker\", (...94 more characters)","object_id":14314100}},{"id":2897143,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14314120,"value":"#<JSON::Ext::Parser:0x00007fc9313e4ac0>"}},{"id":2897144,"event":"return","thread_id":9160,"parent_id":2897143,"elapsed":1.647399039939046e-05,"elapsed_instrumentation":0.00015390198677778244,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439963376676, 111361439963376680], class=>UnmergeWorker, jid=>4c0e7bef34252ac690668117, created_at=>1699240723.1224, id=>f59e1c7195740c2f5fd8bba5}","object_id":14314140,"size":7}},{"id":2897145,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879926753353,"value":"111361439963376676","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14314160,"value":"#<UnmergeWorker:0x00007fc93145ee88>"}},{"id":2897146,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14314160,"value":"#<UnmergeWorker:0x00007fc93145ee88>"}},{"id":2897147,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897148,"event":"return","thread_id":9160,"parent_id":2897147,"elapsed":0.000715223,"elapsed_instrumentation":8.73589888215065e-05},{"id":2897149,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897150,"event":"return","thread_id":9160,"parent_id":2897149,"elapsed":0.000480464,"elapsed_instrumentation":7.229897892102599e-05},{"id":2897151,"event":"return","thread_id":9160,"parent_id":2897146,"elapsed":0.0036557060084305704,"elapsed_instrumentation":0.00010095397010445595,"return_value":{"class":"Account","value":"#<Account:0x00007fc919a95648>","object_id":14314180}},{"id":2897152,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14314160,"value":"#<UnmergeWorker:0x00007fc93145ee88>"}},{"id":2897153,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14314200,"value":"#<Account:0x00007fc919a95a08>","kind":"req"},{"name":"into_account","class":"Account","object_id":14314180,"value":"#<Account:0x00007fc919a95648>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897154,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897155,"event":"return","thread_id":9160,"parent_id":2897154,"elapsed":5.090027116239071e-06,"elapsed_instrumentation":0.00010279903654009104,"return_value":{"class":"String","value":"feed:home:111361439963376680","object_id":14314220}},{"id":2897156,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897157,"event":"return","thread_id":9160,"parent_id":2897156,"elapsed":4.866975359618664e-06,"elapsed_instrumentation":0.00022798404097557068,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2897158,"event":"return","thread_id":9160,"parent_id":2897153,"elapsed":0.0032504299888387322,"elapsed_instrumentation":0.00010465300874784589},{"id":2897159,"event":"return","thread_id":9160,"parent_id":2897152,"elapsed":0.0033870989573188126,"elapsed_instrumentation":8.416001219302416e-05},{"id":2897160,"event":"return","thread_id":9160,"parent_id":2897145,"elapsed":0.007274088973645121,"elapsed_instrumentation":7.541500963270664e-05},{"id":2897161,"event":"return","thread_id":9160,"parent_id":2897132,"elapsed":0.008544337004423141,"elapsed_instrumentation":0.00015357002848759294,"return_value":{"class":"String","value":"4c0e7bef34252ac690668117","object_id":14313900}},{"id":2897162,"event":"return","thread_id":9160,"parent_id":2897071,"elapsed":0.028156540996860713,"elapsed_instrumentation":0.0001572289620526135,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a99d88>","object_id":14313740}},{"id":2897163,"event":"return","thread_id":9160,"parent_id":2897070,"elapsed":0.028339607000816613,"elapsed_instrumentation":0.00016442494234070182,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a99d88>","object_id":14313740}},{"id":2897164,"event":"return","thread_id":9160,"parent_id":2897069,"elapsed":0.028538690006826073,"elapsed_instrumentation":0.0002451270120218396,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a99d88>","object_id":14313740}},{"id":2897165,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14314240,"value":"relationship:111361439963376677:111361439963376680","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14314260,"value":"#<UnfollowService:0x00007fc8e13acb20>"}},{"id":2897166,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14314260,"value":"#<UnfollowService:0x00007fc8e13acb20>"}},{"id":2897167,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14314280,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14314300,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897168,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897169,"event":"return","thread_id":9160,"parent_id":2897168,"elapsed":2.8989743441343307e-06,"elapsed_instrumentation":8.41070432215929e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2897170,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14314320,"value":"8_N______\u0010LFB\u0012_"}},{"id":2897171,"event":"return","thread_id":9160,"parent_id":2897170,"elapsed":6.5150088630616665e-06,"elapsed_instrumentation":0.000127526989672333,"return_value":{"class":"Array","value":"[948129502, 53977, 48582, 56336, 19526, 1108508634]","object_id":14314340,"size":6}},{"id":2897172,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897173,"event":"return","thread_id":9160,"parent_id":2897172,"elapsed":0.000401312,"elapsed_instrumentation":7.527199340984225e-05},{"id":2897174,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14314360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897175,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897176,"event":"return","thread_id":9160,"parent_id":2897175,"elapsed":0.000408377,"elapsed_instrumentation":7.24239507690072e-05},{"id":2897177,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897178,"event":"return","thread_id":9160,"parent_id":2897177,"elapsed":0.000312018,"elapsed_instrumentation":6.536801811307669e-05},{"id":2897179,"event":"return","thread_id":9160,"parent_id":2897174,"elapsed":0.0023323919740505517,"elapsed_instrumentation":0.00016136799240484834,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2897180,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2897181,"event":"return","thread_id":9160,"parent_id":2897180,"elapsed":0.000551461,"elapsed_instrumentation":6.37170160189271e-05},{"id":2897182,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14314360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897183,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2897184,"event":"return","thread_id":9160,"parent_id":2897183,"elapsed":0.000574891,"elapsed_instrumentation":6.500998279079795e-05},{"id":2897185,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897186,"event":"return","thread_id":9160,"parent_id":2897185,"elapsed":0.000542405,"elapsed_instrumentation":7.094698958098888e-05},{"id":2897187,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14314380,"value":"#<Account:0x00007fc919a93988>"}},{"id":2897188,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14314380,"value":"#<Account:0x00007fc919a93988>"}},{"id":2897189,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439963376680, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897190,"event":"return","thread_id":9160,"parent_id":2897189,"elapsed":0.00079521,"elapsed_instrumentation":7.148901931941509e-05},{"id":2897191,"event":"return","thread_id":9160,"parent_id":2897188,"elapsed":0.0013706139870919287,"elapsed_instrumentation":8.597801206633449e-05},{"id":2897192,"event":"return","thread_id":9160,"parent_id":2897187,"elapsed":0.001479859056416899,"elapsed_instrumentation":0.00010399095481261611},{"id":2897193,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897194,"event":"return","thread_id":9160,"parent_id":2897193,"elapsed":0.000578477,"elapsed_instrumentation":6.361899431794882e-05},{"id":2897195,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14314400,"value":"#<Account:0x00007fc919a92448>"}},{"id":2897196,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14314400,"value":"#<Account:0x00007fc919a92448>"}},{"id":2897197,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439963376677, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897198,"event":"return","thread_id":9160,"parent_id":2897197,"elapsed":0.000712038,"elapsed_instrumentation":6.760400719940662e-05},{"id":2897199,"event":"return","thread_id":9160,"parent_id":2897196,"elapsed":0.0011500390246510506,"elapsed_instrumentation":8.052901830524206e-05},{"id":2897200,"event":"return","thread_id":9160,"parent_id":2897195,"elapsed":0.0012514619738794863,"elapsed_instrumentation":0.00010295299580320716},{"id":2897201,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14314380,"value":"#<Account:0x00007fc919a93988>"}},{"id":2897202,"event":"return","thread_id":9160,"parent_id":2897201,"elapsed":1.4304008800536394e-05,"elapsed_instrumentation":8.892302867025137e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897203,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14314400,"value":"#<Account:0x00007fc919a92448>"}},{"id":2897204,"event":"return","thread_id":9160,"parent_id":2897203,"elapsed":6.6820066422224045e-06,"elapsed_instrumentation":6.485800258815289e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897205,"event":"return","thread_id":9160,"parent_id":2897182,"elapsed":0.008679627964738756,"elapsed_instrumentation":0.0001434219884686172,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2897206,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897207,"event":"return","thread_id":9160,"parent_id":2897206,"elapsed":0.000287262,"elapsed_instrumentation":6.0193007811903954e-05},{"id":2897208,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14314440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897209,"event":"return","thread_id":9160,"parent_id":2897208,"elapsed":4.235014785081148e-06,"elapsed_instrumentation":9.790598414838314e-05,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2897210,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14314440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897211,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14314460,"value":"Cache delete: relationship:111361439963376680:111361439963376677\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897212,"event":"return","thread_id":9160,"parent_id":2897211,"elapsed":0.0004943109815940261,"elapsed_instrumentation":0.00010028795804828405,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897213,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14314480,"value":"Cache delete: relationship:111361439963376677:111361439963376680\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897214,"event":"return","thread_id":9160,"parent_id":2897213,"elapsed":0.00043236796045675874,"elapsed_instrumentation":0.00010643806308507919,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897215,"event":"return","thread_id":9160,"parent_id":2897210,"elapsed":0.001373163948301226,"elapsed_instrumentation":9.512499673292041e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2897216,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14314500,"value":"#<Account:0x00007fc918587300>"}},{"id":2897217,"event":"return","thread_id":9160,"parent_id":2897216,"elapsed":1.1883967090398073e-05,"elapsed_instrumentation":7.353309774771333e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897218,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14314500,"value":"#<Account:0x00007fc918587300>"}},{"id":2897219,"event":"return","thread_id":9160,"parent_id":2897218,"elapsed":3.7159770727157593e-06,"elapsed_instrumentation":5.617801798507571e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897220,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309280,"value":"#<Account:0x00007fc918588fc0>"}},{"id":2897221,"event":"return","thread_id":9160,"parent_id":2897220,"elapsed":4.4140033423900604e-06,"elapsed_instrumentation":5.289999535307288e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897222,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14314520,"value":"{args=>[111361439963376677, 111361439963376680], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14314540,"value":"#<Sidekiq::Client:0x00007fc931833fb8>"}},{"id":2897223,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14314560,"value":"\u0014\u0010D______M:_"}},{"id":2897224,"event":"return","thread_id":9160,"parent_id":2897223,"elapsed":4.269008059054613e-06,"elapsed_instrumentation":9.777705417945981e-05,"return_value":{"class":"String","value":"141044f1f7a0e1d6914d3ad8","object_id":14314580}},{"id":2897225,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14314600,"value":"[111361439963376677, 111361439963376680]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14314620,"value":"#<JSON::Ext::Generator::State:0x00007fc931886c18>"}},{"id":2897226,"event":"return","thread_id":9160,"parent_id":2897225,"elapsed":6.310001481324434e-06,"elapsed_instrumentation":9.76399751380086e-05,"return_value":{"class":"String","value":"[111361439963376677,111361439963376680]","object_id":14314640}},{"id":2897227,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14314660,"value":"#<JSON::Ext::Parser:0x00007fc931882370>"}},{"id":2897228,"event":"return","thread_id":9160,"parent_id":2897227,"elapsed":6.196030881255865e-06,"elapsed_instrumentation":0.00018979597371071577,"return_value":{"class":"Array","value":"[111361439963376677, 111361439963376680]","object_id":14314680,"size":2}},{"id":2897229,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14314700,"value":"K\u0012RZ_i1_B_\u0007|"}},{"id":2897230,"event":"return","thread_id":9160,"parent_id":2897229,"elapsed":3.2259849831461906e-06,"elapsed_instrumentation":9.150803089141846e-05,"return_value":{"class":"String","value":"4b12525aaa6931ec42da077c","object_id":14314720}},{"id":2897231,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14314740,"value":"{retry=>true, queue=>pull, args=>[111361439963376677, 111361439963376680], class=>UnmergeWorker, jid=>141044f1f7a0e1d6914d3ad8, created_at=>1699240723.1494963, id=>4b12525aaa6931ec42da077c}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14314760,"value":"#<JSON::Ext::Generator::State:0x00007fc9318ed710>"}},{"id":2897232,"event":"return","thread_id":9160,"parent_id":2897231,"elapsed":1.3996963389217854e-05,"elapsed_instrumentation":0.0001695590908639133,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439963376677,111361439963376680],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14314780}},{"id":2897233,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14314800,"value":"#<JSON::Ext::Parser:0x00007fc9318e9700>"}},{"id":2897234,"event":"return","thread_id":9160,"parent_id":2897233,"elapsed":1.7173995729535818e-05,"elapsed_instrumentation":0.0001489149872213602,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439963376677, 111361439963376680], class=>UnmergeWorker, jid=>141044f1f7a0e1d6914d3ad8, created_at=>1699240723.1494963, id=>4b12525aaa6931ec42da077c}","object_id":14314820,"size":7}},{"id":2897235,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879926753355,"value":"111361439963376677","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14314840,"value":"#<UnmergeWorker:0x00007fc9318e0948>"}},{"id":2897236,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14314840,"value":"#<UnmergeWorker:0x00007fc9318e0948>"}},{"id":2897237,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897238,"event":"return","thread_id":9160,"parent_id":2897237,"elapsed":0.000415441,"elapsed_instrumentation":6.0352031141519547e-05},{"id":2897239,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897240,"event":"return","thread_id":9160,"parent_id":2897239,"elapsed":0.000430457,"elapsed_instrumentation":6.536103319376707e-05},{"id":2897241,"event":"return","thread_id":9160,"parent_id":2897236,"elapsed":0.0028075200389139354,"elapsed_instrumentation":9.572994895279408e-05,"return_value":{"class":"Account","value":"#<Account:0x00007fc919a90648>","object_id":14314860}},{"id":2897242,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14314840,"value":"#<UnmergeWorker:0x00007fc9318e0948>"}},{"id":2897243,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14314880,"value":"#<Account:0x00007fc919a90a08>","kind":"req"},{"name":"into_account","class":"Account","object_id":14314860,"value":"#<Account:0x00007fc919a90648>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897244,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897245,"event":"return","thread_id":9160,"parent_id":2897244,"elapsed":5.667970981448889e-06,"elapsed_instrumentation":0.0001057590707205236,"return_value":{"class":"String","value":"feed:home:111361439963376680","object_id":14314900}},{"id":2897246,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897247,"event":"return","thread_id":9160,"parent_id":2897246,"elapsed":6.161979399621487e-06,"elapsed_instrumentation":7.45370052754879e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2897248,"event":"return","thread_id":9160,"parent_id":2897243,"elapsed":0.002993103989865631,"elapsed_instrumentation":0.00018271396402269602},{"id":2897249,"event":"return","thread_id":9160,"parent_id":2897242,"elapsed":0.0032172349747270346,"elapsed_instrumentation":0.00011318299220874906},{"id":2897250,"event":"return","thread_id":9160,"parent_id":2897235,"elapsed":0.006278551009017974,"elapsed_instrumentation":7.296405965462327e-05},{"id":2897251,"event":"return","thread_id":9160,"parent_id":2897222,"elapsed":0.0074854769627563655,"elapsed_instrumentation":0.00015280104707926512,"return_value":{"class":"String","value":"141044f1f7a0e1d6914d3ad8","object_id":14314580}},{"id":2897252,"event":"return","thread_id":9160,"parent_id":2897167,"elapsed":0.02547084802063182,"elapsed_instrumentation":0.00029943796107545495,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a94608>","object_id":14314420}},{"id":2897253,"event":"return","thread_id":9160,"parent_id":2897166,"elapsed":0.02579549403162673,"elapsed_instrumentation":7.592904148623347e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a94608>","object_id":14314420}},{"id":2897254,"event":"return","thread_id":9160,"parent_id":2897165,"elapsed":0.025902690016664565,"elapsed_instrumentation":0.0001247950131073594,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919a94608>","object_id":14314420}},{"id":2897255,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14314920,"value":"relationship:111361439963376678:111361439963376680","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14314940,"value":"#<UnfollowService:0x00007fc8e13a4740>"}},{"id":2897256,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14314940,"value":"#<UnfollowService:0x00007fc8e13a4740>"}},{"id":2897257,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14314960,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14314980,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897258,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897259,"event":"return","thread_id":9160,"parent_id":2897258,"elapsed":3.2319803722202778e-06,"elapsed_instrumentation":6.912200478836894e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2897260,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14315000,"value":"_`__Q6_w__9____O"}},{"id":2897261,"event":"return","thread_id":9160,"parent_id":2897260,"elapsed":7.278984412550926e-06,"elapsed_instrumentation":0.00016050098929554224,"return_value":{"class":"Array","value":"[3428898295, 20790, 49783, 53694, 14737, 3637547343]","object_id":14315020,"size":6}},{"id":2897262,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897263,"event":"return","thread_id":9160,"parent_id":2897262,"elapsed":0.000424421,"elapsed_instrumentation":0.000162731041200459},{"id":2897264,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14315040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897265,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897266,"event":"return","thread_id":9160,"parent_id":2897265,"elapsed":0.000392693,"elapsed_instrumentation":8.292502025142312e-05},{"id":2897267,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897268,"event":"return","thread_id":9160,"parent_id":2897267,"elapsed":0.000290359,"elapsed_instrumentation":6.537599256262183e-05},{"id":2897269,"event":"return","thread_id":9160,"parent_id":2897264,"elapsed":0.0021905729663558304,"elapsed_instrumentation":0.00018395803635939956,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2897270,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2897271,"event":"return","thread_id":9160,"parent_id":2897270,"elapsed":0.000484104,"elapsed_instrumentation":6.164796650409698e-05},{"id":2897272,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14315040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897273,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2897274,"event":"return","thread_id":9160,"parent_id":2897273,"elapsed":0.00077731,"elapsed_instrumentation":7.656100206077099e-05},{"id":2897275,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897276,"event":"return","thread_id":9160,"parent_id":2897275,"elapsed":0.000539148,"elapsed_instrumentation":8.747499668970704e-05},{"id":2897277,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14315060,"value":"#<Account:0x00007fc919ace9c0>"}},{"id":2897278,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14315060,"value":"#<Account:0x00007fc919ace9c0>"}},{"id":2897279,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439963376680, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897280,"event":"return","thread_id":9160,"parent_id":2897279,"elapsed":0.000778072,"elapsed_instrumentation":7.692701183259487e-05},{"id":2897281,"event":"return","thread_id":9160,"parent_id":2897278,"elapsed":0.0015806660521775484,"elapsed_instrumentation":9.471597149968147e-05},{"id":2897282,"event":"return","thread_id":9160,"parent_id":2897277,"elapsed":0.0017049420275725424,"elapsed_instrumentation":0.00014599703717976809},{"id":2897283,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897284,"event":"return","thread_id":9160,"parent_id":2897283,"elapsed":0.000468559,"elapsed_instrumentation":7.450999692082405e-05},{"id":2897285,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14315080,"value":"#<Account:0x00007fc919acd340>"}},{"id":2897286,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14315080,"value":"#<Account:0x00007fc919acd340>"}},{"id":2897287,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439963376678, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897288,"event":"return","thread_id":9160,"parent_id":2897287,"elapsed":0.000658104,"elapsed_instrumentation":7.049099076539278e-05},{"id":2897289,"event":"return","thread_id":9160,"parent_id":2897286,"elapsed":0.0011952999630011618,"elapsed_instrumentation":8.015503408387303e-05},{"id":2897290,"event":"return","thread_id":9160,"parent_id":2897285,"elapsed":0.00129639299120754,"elapsed_instrumentation":0.00010112900054082274},{"id":2897291,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14315060,"value":"#<Account:0x00007fc919ace9c0>"}},{"id":2897292,"event":"return","thread_id":9160,"parent_id":2897291,"elapsed":1.5872996300458908e-05,"elapsed_instrumentation":9.564001811668277e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897293,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14315080,"value":"#<Account:0x00007fc919acd340>"}},{"id":2897294,"event":"return","thread_id":9160,"parent_id":2897293,"elapsed":8.243019692599773e-06,"elapsed_instrumentation":6.630894495174289e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897295,"event":"return","thread_id":9160,"parent_id":2897272,"elapsed":0.010252487962134182,"elapsed_instrumentation":0.00016205600695684552,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2897296,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897297,"event":"return","thread_id":9160,"parent_id":2897296,"elapsed":0.000382776,"elapsed_instrumentation":6.688502617180347e-05},{"id":2897298,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14315120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897299,"event":"return","thread_id":9160,"parent_id":2897298,"elapsed":3.857014235109091e-06,"elapsed_instrumentation":0.0001267199986614287,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2897300,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14315120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897301,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14315140,"value":"Cache delete: relationship:111361439963376680:111361439963376678\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897302,"event":"return","thread_id":9160,"parent_id":2897301,"elapsed":0.000639132980722934,"elapsed_instrumentation":0.00012470100773498416,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897303,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14315160,"value":"Cache delete: relationship:111361439963376678:111361439963376680\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897304,"event":"return","thread_id":9160,"parent_id":2897303,"elapsed":0.0005573610542342067,"elapsed_instrumentation":0.0001469129347242415,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897305,"event":"return","thread_id":9160,"parent_id":2897300,"elapsed":0.0017828050185926259,"elapsed_instrumentation":0.00012198893819004297,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2897306,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14315180,"value":"#<Account:0x00007fc9185871c0>"}},{"id":2897307,"event":"return","thread_id":9160,"parent_id":2897306,"elapsed":1.3509998098015785e-05,"elapsed_instrumentation":9.507796494290233e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897308,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14315180,"value":"#<Account:0x00007fc9185871c0>"}},{"id":2897309,"event":"return","thread_id":9160,"parent_id":2897308,"elapsed":4.615983925759792e-06,"elapsed_instrumentation":7.945398101583123e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897310,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309280,"value":"#<Account:0x00007fc918588fc0>"}},{"id":2897311,"event":"return","thread_id":9160,"parent_id":2897310,"elapsed":4.021043423563242e-06,"elapsed_instrumentation":6.609392585232854e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897312,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14315200,"value":"{args=>[111361439963376678, 111361439963376680], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14315220,"value":"#<Sidekiq::Client:0x00007fc931bd3268>"}},{"id":2897313,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14315240,"value":"\u000b[__\u001f____ #_"}},{"id":2897314,"event":"return","thread_id":9160,"parent_id":2897313,"elapsed":5.201960448175669e-06,"elapsed_instrumentation":0.00022072804858908057,"return_value":{"class":"String","value":"0b5b9dad1f8dade69c2023af","object_id":14315260}},{"id":2897315,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14315280,"value":"[111361439963376678, 111361439963376680]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14315300,"value":"#<JSON::Ext::Generator::State:0x00007fc931c3df00>"}},{"id":2897316,"event":"return","thread_id":9160,"parent_id":2897315,"elapsed":6.703019607812166e-06,"elapsed_instrumentation":0.00013265805318951607,"return_value":{"class":"String","value":"[111361439963376678,111361439963376680]","object_id":14315320}},{"id":2897317,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14315340,"value":"#<JSON::Ext::Parser:0x00007fc931c3cc40>"}},{"id":2897318,"event":"return","thread_id":9160,"parent_id":2897317,"elapsed":5.57297607883811e-06,"elapsed_instrumentation":0.0001023900113068521,"return_value":{"class":"Array","value":"[111361439963376678, 111361439963376680]","object_id":14315360,"size":2}},{"id":2897319,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14315380,"value":"_____\u0015\u001dO_\n__"}},{"id":2897320,"event":"return","thread_id":9160,"parent_id":2897319,"elapsed":3.4609693102538586e-06,"elapsed_instrumentation":0.00011850305600091815,"return_value":{"class":"String","value":"a2d98dd1c4151d4fc40ac2d2","object_id":14315400}},{"id":2897321,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14315420,"value":"{retry=>true, queue=>pull, args=>[111361439963376678, 111361439963376680], class=>UnmergeWorker, jid=>0b5b9dad1f8dade69c2023af, created_at=>1699240723.1778872, id=>a2d98dd1c4151d4fc40ac2d2}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14315440,"value":"#<JSON::Ext::Generator::State:0x00007fc931c3aaa8>"}},{"id":2897322,"event":"return","thread_id":9160,"parent_id":2897321,"elapsed":1.3690965715795755e-05,"elapsed_instrumentation":0.0002085640444420278,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439963376678,111361439963376680],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14315460}},{"id":2897323,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14315480,"value":"#<JSON::Ext::Parser:0x00007fc931c380f0>"}},{"id":2897324,"event":"return","thread_id":9160,"parent_id":2897323,"elapsed":1.746497582644224e-05,"elapsed_instrumentation":0.0001984740374609828,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439963376678, 111361439963376680], class=>UnmergeWorker, jid=>0b5b9dad1f8dade69c2023af, created_at=>1699240723.1778872, id=>a2d98dd1c4151d4fc40ac2d2}","object_id":14315500,"size":7}},{"id":2897325,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879926753357,"value":"111361439963376678","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14315520,"value":"#<UnmergeWorker:0x00007fc931c332f8>"}},{"id":2897326,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14315520,"value":"#<UnmergeWorker:0x00007fc931c332f8>"}},{"id":2897327,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897328,"event":"return","thread_id":9160,"parent_id":2897327,"elapsed":0.000645778,"elapsed_instrumentation":7.84709700383246e-05},{"id":2897329,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897330,"event":"return","thread_id":9160,"parent_id":2897329,"elapsed":0.000568501,"elapsed_instrumentation":7.072096923366189e-05},{"id":2897331,"event":"return","thread_id":9160,"parent_id":2897326,"elapsed":0.0035481409868225455,"elapsed_instrumentation":0.0001357329892925918,"return_value":{"class":"Account","value":"#<Account:0x00007fc919ac71c0>","object_id":14315540}},{"id":2897332,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14315520,"value":"#<UnmergeWorker:0x00007fc931c332f8>"}},{"id":2897333,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14315560,"value":"#<Account:0x00007fc919ac7300>","kind":"req"},{"name":"into_account","class":"Account","object_id":14315540,"value":"#<Account:0x00007fc919ac71c0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897334,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897335,"event":"return","thread_id":9160,"parent_id":2897334,"elapsed":5.453999619930983e-06,"elapsed_instrumentation":0.00010291399667039514,"return_value":{"class":"String","value":"feed:home:111361439963376680","object_id":14315580}},{"id":2897336,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897337,"event":"return","thread_id":9160,"parent_id":2897336,"elapsed":4.391011316329241e-06,"elapsed_instrumentation":7.30450265109539e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2897338,"event":"return","thread_id":9160,"parent_id":2897333,"elapsed":0.0029504260164685547,"elapsed_instrumentation":0.00010431197006255388},{"id":2897339,"event":"return","thread_id":9160,"parent_id":2897332,"elapsed":0.0030864959699101746,"elapsed_instrumentation":9.051000233739614e-05},{"id":2897340,"event":"return","thread_id":9160,"parent_id":2897325,"elapsed":0.006921797001268715,"elapsed_instrumentation":8.117302786558867e-05},{"id":2897341,"event":"return","thread_id":9160,"parent_id":2897312,"elapsed":0.008425088017247617,"elapsed_instrumentation":0.00016877398593351245,"return_value":{"class":"String","value":"0b5b9dad1f8dade69c2023af","object_id":14315260}},{"id":2897342,"event":"return","thread_id":9160,"parent_id":2897257,"elapsed":0.02851937699597329,"elapsed_instrumentation":0.00016842299373820424,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919acf640>","object_id":14315100}},{"id":2897343,"event":"return","thread_id":9160,"parent_id":2897256,"elapsed":0.028715719003230333,"elapsed_instrumentation":0.00012393802171573043,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919acf640>","object_id":14315100}},{"id":2897344,"event":"return","thread_id":9160,"parent_id":2897255,"elapsed":0.028932193003129214,"elapsed_instrumentation":0.0001627089804969728,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919acf640>","object_id":14315100}},{"id":2897345,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14315600,"value":"relationship:111361439963376679:111361439963376680","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14315620,"value":"#<UnfollowService:0x00007fc8e13bbff8>"}},{"id":2897346,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14315620,"value":"#<UnfollowService:0x00007fc8e13bbff8>"}},{"id":2897347,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14315640,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14315660,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897348,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2897349,"event":"return","thread_id":9160,"parent_id":2897348,"elapsed":2.8760405257344246e-06,"elapsed_instrumentation":6.315798964351416e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2897350,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14315680,"value":"U______ diNa_C__"}},{"id":2897351,"event":"return","thread_id":9160,"parent_id":2897350,"elapsed":5.635956767946482e-06,"elapsed_instrumentation":0.00012293702457100153,"return_value":{"class":"Array","value":"[1434909671, 39358, 42528, 25705, 20065, 2219024333]","object_id":14315700,"size":6}},{"id":2897352,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897353,"event":"return","thread_id":9160,"parent_id":2897352,"elapsed":0.000376791,"elapsed_instrumentation":7.304595783352852e-05},{"id":2897354,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14315720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897355,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897356,"event":"return","thread_id":9160,"parent_id":2897355,"elapsed":0.000335418,"elapsed_instrumentation":6.796495290473104e-05},{"id":2897357,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2897358,"event":"return","thread_id":9160,"parent_id":2897357,"elapsed":0.000354463,"elapsed_instrumentation":5.964102456346154e-05},{"id":2897359,"event":"return","thread_id":9160,"parent_id":2897354,"elapsed":0.001995926024392247,"elapsed_instrumentation":0.00014055002247914672,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2897360,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2897361,"event":"return","thread_id":9160,"parent_id":2897360,"elapsed":0.000605586,"elapsed_instrumentation":6.44790125079453e-05},{"id":2897362,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14315720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2897363,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2897364,"event":"return","thread_id":9160,"parent_id":2897363,"elapsed":0.000540095,"elapsed_instrumentation":0.0001486850087530911},{"id":2897365,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897366,"event":"return","thread_id":9160,"parent_id":2897365,"elapsed":0.000537982,"elapsed_instrumentation":6.919499719515443e-05},{"id":2897367,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14315740,"value":"#<Account:0x00007fc919ac2f80>"}},{"id":2897368,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14315740,"value":"#<Account:0x00007fc919ac2f80>"}},{"id":2897369,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361439963376680, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897370,"event":"return","thread_id":9160,"parent_id":2897369,"elapsed":0.000728887,"elapsed_instrumentation":6.919598672538996e-05},{"id":2897371,"event":"return","thread_id":9160,"parent_id":2897368,"elapsed":0.001196063996758312,"elapsed_instrumentation":8.222495671361685e-05},{"id":2897372,"event":"return","thread_id":9160,"parent_id":2897367,"elapsed":0.001301357988268137,"elapsed_instrumentation":0.00010736600961536169},{"id":2897373,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897374,"event":"return","thread_id":9160,"parent_id":2897373,"elapsed":0.000472559,"elapsed_instrumentation":7.471197750419378e-05},{"id":2897375,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14315760,"value":"#<Account:0x00007fc919ac17c0>"}},{"id":2897376,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14315760,"value":"#<Account:0x00007fc919ac17c0>"}},{"id":2897377,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361439963376679, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2897378,"event":"return","thread_id":9160,"parent_id":2897377,"elapsed":0.000638105,"elapsed_instrumentation":7.191800978034735e-05},{"id":2897379,"event":"return","thread_id":9160,"parent_id":2897376,"elapsed":0.0013565439730882645,"elapsed_instrumentation":9.585096267983317e-05},{"id":2897380,"event":"return","thread_id":9160,"parent_id":2897375,"elapsed":0.0014822329976595938,"elapsed_instrumentation":0.00010263797594234347},{"id":2897381,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14315740,"value":"#<Account:0x00007fc919ac2f80>"}},{"id":2897382,"event":"return","thread_id":9160,"parent_id":2897381,"elapsed":1.5520025044679642e-05,"elapsed_instrumentation":9.60939796641469e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897383,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14315760,"value":"#<Account:0x00007fc919ac17c0>"}},{"id":2897384,"event":"return","thread_id":9160,"parent_id":2897383,"elapsed":7.318973075598478e-06,"elapsed_instrumentation":6.722804391756654e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897385,"event":"return","thread_id":9160,"parent_id":2897362,"elapsed":0.00881777098402381,"elapsed_instrumentation":0.00013925600796937943,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2897386,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2897387,"event":"return","thread_id":9160,"parent_id":2897386,"elapsed":0.000392588,"elapsed_instrumentation":6.889901123940945e-05},{"id":2897388,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14315800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897389,"event":"return","thread_id":9160,"parent_id":2897388,"elapsed":3.8070138543844223e-06,"elapsed_instrumentation":0.00011330092092975974,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2897390,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14315800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2897391,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14315820,"value":"Cache delete: relationship:111361439963376680:111361439963376679\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897392,"event":"return","thread_id":9160,"parent_id":2897391,"elapsed":0.0005173429963178933,"elapsed_instrumentation":0.00011036201613023877,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897393,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14315840,"value":"Cache delete: relationship:111361439963376679:111361439963376680\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2897394,"event":"return","thread_id":9160,"parent_id":2897393,"elapsed":0.00044057401828467846,"elapsed_instrumentation":0.00013052404392510653,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2897395,"event":"return","thread_id":9160,"parent_id":2897390,"elapsed":0.0014765039668418467,"elapsed_instrumentation":0.00017099000979214907,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2897396,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14315860,"value":"#<Account:0x00007fc918587080>"}},{"id":2897397,"event":"return","thread_id":9160,"parent_id":2897396,"elapsed":1.6132020391523838e-05,"elapsed_instrumentation":9.096198482438922e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897398,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14315860,"value":"#<Account:0x00007fc918587080>"}},{"id":2897399,"event":"return","thread_id":9160,"parent_id":2897398,"elapsed":3.938970621675253e-06,"elapsed_instrumentation":5.874206544831395e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897400,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14309280,"value":"#<Account:0x00007fc918588fc0>"}},{"id":2897401,"event":"return","thread_id":9160,"parent_id":2897400,"elapsed":4.00003045797348e-06,"elapsed_instrumentation":5.433795740827918e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897402,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14315880,"value":"{args=>[111361439963376679, 111361439963376680], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14315900,"value":"#<Sidekiq::Client:0x00007fc9320dd4c0>"}},{"id":2897403,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14315920,"value":"\u0001____2___Yl_"}},{"id":2897404,"event":"return","thread_id":9160,"parent_id":2897403,"elapsed":4.376983270049095e-06,"elapsed_instrumentation":0.00010388100054115057,"return_value":{"class":"String","value":"01bac68bb732b0cf89596cfd","object_id":14315940}},{"id":2897405,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14315960,"value":"[111361439963376679, 111361439963376680]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14315980,"value":"#<JSON::Ext::Generator::State:0x00007fc93212f8d8>"}},{"id":2897406,"event":"return","thread_id":9160,"parent_id":2897405,"elapsed":6.325019057840109e-06,"elapsed_instrumentation":0.00010093400487676263,"return_value":{"class":"String","value":"[111361439963376679,111361439963376680]","object_id":14316000}},{"id":2897407,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14316020,"value":"#<JSON::Ext::Parser:0x00007fc93212e2d0>"}},{"id":2897408,"event":"return","thread_id":9160,"parent_id":2897407,"elapsed":5.695968866348267e-06,"elapsed_instrumentation":7.198803359642625e-05,"return_value":{"class":"Array","value":"[111361439963376679, 111361439963376680]","object_id":14316040,"size":2}},{"id":2897409,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14316060,"value":"_\u0002aezF_\nd__i"}},{"id":2897410,"event":"return","thread_id":9160,"parent_id":2897409,"elapsed":3.957946319133043e-06,"elapsed_instrumentation":0.00014200102305039763,"return_value":{"class":"String","value":"e80261657a46e40a64d6e069","object_id":14316080}},{"id":2897411,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14316100,"value":"{retry=>true, queue=>pull, args=>[111361439963376679, 111361439963376680], class=>UnmergeWorker, jid=>01bac68bb732b0cf89596cfd, created_at=>1699240723.2043533, id=>e80261657a46e40a64d6e069}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14316120,"value":"#<JSON::Ext::Generator::State:0x00007fc93212b0d0>"}},{"id":2897412,"event":"return","thread_id":9160,"parent_id":2897411,"elapsed":2.077198587357998e-05,"elapsed_instrumentation":0.0002122779842466116,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361439963376679,111361439963376680],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14316140}},{"id":2897413,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14316160,"value":"#<JSON::Ext::Parser:0x00007fc9321273e0>"}},{"id":2897414,"event":"return","thread_id":9160,"parent_id":2897413,"elapsed":2.0221981685608625e-05,"elapsed_instrumentation":0.00018878706032410264,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361439963376679, 111361439963376680], class=>UnmergeWorker, jid=>01bac68bb732b0cf89596cfd, created_at=>1699240723.2043533, id=>e80261657a46e40a64d6e069}","object_id":14316180,"size":7}},{"id":2897415,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722879926753359,"value":"111361439963376679","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14316200,"value":"#<UnmergeWorker:0x00007fc932123a88>"}},{"id":2897416,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14316200,"value":"#<UnmergeWorker:0x00007fc932123a88>"}},{"id":2897417,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897418,"event":"return","thread_id":9160,"parent_id":2897417,"elapsed":0.000749007,"elapsed_instrumentation":0.00011306098895147443},{"id":2897419,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897420,"event":"return","thread_id":9160,"parent_id":2897419,"elapsed":0.000564745,"elapsed_instrumentation":8.688500383868814e-05},{"id":2897421,"event":"return","thread_id":9160,"parent_id":2897416,"elapsed":0.003963471972383559,"elapsed_instrumentation":0.0001471770228818059,"return_value":{"class":"Account","value":"#<Account:0x00007fc91a39f298>","object_id":14316220}},{"id":2897422,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14316200,"value":"#<UnmergeWorker:0x00007fc932123a88>"}},{"id":2897423,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14316240,"value":"#<Account:0x00007fc91a39f3d8>","kind":"req"},{"name":"into_account","class":"Account","object_id":14316220,"value":"#<Account:0x00007fc91a39f298>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897424,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897425,"event":"return","thread_id":9160,"parent_id":2897424,"elapsed":6.3229817897081375e-06,"elapsed_instrumentation":0.0001628870377317071,"return_value":{"class":"String","value":"feed:home:111361439963376680","object_id":14316260}},{"id":2897426,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2897427,"event":"return","thread_id":9160,"parent_id":2897426,"elapsed":5.228968802839518e-06,"elapsed_instrumentation":0.00010315206600353122,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2897428,"event":"return","thread_id":9160,"parent_id":2897423,"elapsed":0.003578000993002206,"elapsed_instrumentation":0.00011057505616918206},{"id":2897429,"event":"return","thread_id":9160,"parent_id":2897422,"elapsed":0.0037231550086289644,"elapsed_instrumentation":9.742396650835872e-05},{"id":2897430,"event":"return","thread_id":9160,"parent_id":2897415,"elapsed":0.007991135003976524,"elapsed_instrumentation":0.00021219596965238452},{"id":2897431,"event":"return","thread_id":9160,"parent_id":2897402,"elapsed":0.009624670026823878,"elapsed_instrumentation":0.00016905897064134479,"return_value":{"class":"String","value":"01bac68bb732b0cf89596cfd","object_id":14315940}},{"id":2897432,"event":"return","thread_id":9160,"parent_id":2897347,"elapsed":0.02724553202278912,"elapsed_instrumentation":0.0001575920032337308,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919ac3ac0>","object_id":14315780}},{"id":2897433,"event":"return","thread_id":9160,"parent_id":2897346,"elapsed":0.02742710500024259,"elapsed_instrumentation":8.347997209057212e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919ac3ac0>","object_id":14315780}},{"id":2897434,"event":"return","thread_id":9160,"parent_id":2897345,"elapsed":0.02754110802197829,"elapsed_instrumentation":0.00013469497207552195,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc919ac3ac0>","object_id":14315780}},{"id":2897435,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14316280,"value":"{args=>[111361439963376680], class=>BootstrapTimelineWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14316300,"value":"#<Sidekiq::Client:0x00007fc9323574f8>"}},{"id":2897436,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14316320,"value":"\u0012_____n:__Q\n"}},{"id":2897437,"event":"return","thread_id":9160,"parent_id":2897436,"elapsed":4.852015990763903e-06,"elapsed_instrumentation":0.0001280439319089055,"return_value":{"class":"String","value":"12ff9d5fd85f6e3acca8510a","object_id":14316340}},{"id":2897438,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14316360,"value":"[111361439963376680]","kind":"req","size":1}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14316380,"value":"#<JSON::Ext::Generator::State:0x00007fc932354820>"}},{"id":2897439,"event":"return","thread_id":9160,"parent_id":2897438,"elapsed":6.691028829663992e-06,"elapsed_instrumentation":0.00011766795068979263,"return_value":{"class":"String","value":"[111361439963376680]","object_id":14316400}},{"id":2897440,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14316420,"value":"#<JSON::Ext::Parser:0x00007fc9323536f0>"}},{"id":2897441,"event":"return","thread_id":9160,"parent_id":2897440,"elapsed":5.499983672052622e-06,"elapsed_instrumentation":9.258795762434602e-05,"return_value":{"class":"Array","value":"[111361439963376680]","object_id":14316440,"size":1}},{"id":2897442,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14316460,"value":"(\"[________1"}},{"id":2897443,"event":"return","thread_id":9160,"parent_id":2897442,"elapsed":3.0919909477233887e-06,"elapsed_instrumentation":9.654299356043339e-05,"return_value":{"class":"String","value":"28225befbebb8aadead5f831","object_id":14316480}},{"id":2897444,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14316500,"value":"{retry=>true, queue=>default, args=>[111361439963376680], class=>BootstrapTimelineWorker, jid=>12ff9d5fd85f6e3acca8510a, created_at=>1699240723.2150395, id=>28225befbebb8aadead5f831}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14316520,"value":"#<JSON::Ext::Generator::State:0x00007fc932351530>"}},{"id":2897445,"event":"return","thread_id":9160,"parent_id":2897444,"elapsed":1.700699795037508e-05,"elapsed_instrumentation":0.00025616103084757924,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"default\",\"args\":[111361439963376680],\"class\":\"BootstrapTimelineWorker\",\"jid\": (...91 more characters)","object_id":14316540}},{"id":2897446,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14316560,"value":"#<JSON::Ext::Parser:0x00007fc9323dafb0>"}},{"id":2897447,"event":"return","thread_id":9160,"parent_id":2897446,"elapsed":1.8385995645076036e-05,"elapsed_instrumentation":0.00014864199329167604,"return_value":{"class":"Hash","value":"{retry=>true, queue=>default, args=>[111361439963376680], class=>BootstrapTimelineWorker, jid=>12ff9d5fd85f6e3acca8510a, created_at=>1699240723.2150395, id=>28225befbebb8aadead5f831}","object_id":14316580,"size":7}},{"id":2897448,"event":"call","thread_id":9160,"defined_class":"BootstrapTimelineWorker","method_id":"perform","path":"app/workers/bootstrap_timeline_worker.rb","lineno":6,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222722879926753361,"value":"111361439963376680","kind":"req"}],"receiver":{"class":"BootstrapTimelineWorker","object_id":14316600,"value":"#<BootstrapTimelineWorker:0x00007fc9323d5e48>"}},{"id":2897449,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14316620,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14316640,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2897450,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14316660,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14316680,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2897451,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2897452,"event":"return","thread_id":13276700,"parent_id":2897451,"elapsed":5.172973033040762e-06,"elapsed_instrumentation":6.429600762203336e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2897453,"event":"return","thread_id":13276700,"parent_id":2897450,"elapsed":8.759996853768826e-05,"elapsed_instrumentation":9.502301691100001e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2897454,"event":"return","thread_id":13276700,"parent_id":2897449,"elapsed":0.0002014869824051857,"elapsed_instrumentation":0.000144677993375808,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2897455,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897456,"event":"return","thread_id":9160,"parent_id":2897455,"elapsed":0.000797345,"elapsed_instrumentation":8.528400212526321e-05},{"id":2897457,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897458,"event":"return","thread_id":9160,"parent_id":2897457,"elapsed":0.000455149,"elapsed_instrumentation":0.0001484209788031876},{"id":2897459,"event":"call","thread_id":9160,"defined_class":"User","method_id":"those_who_can","path":"app/models/user.rb","lineno":143,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14316700,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":35120,"value":"User"}},{"id":2897460,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"that_can","path":"app/models/user_role.rb","lineno":111,"static":true,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14316720,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2897461,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\"","database_type":"postgres"}},{"id":2897462,"event":"return","thread_id":9160,"parent_id":2897461,"elapsed":0.000509464,"elapsed_instrumentation":0.00014826603000983596},{"id":2897463,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14316740,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14316760,"value":"#<UserRole:0x00007fc91a39d0d8>"}},{"id":2897464,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14316760,"value":"#<UserRole:0x00007fc91a39d0d8>"}},{"id":2897465,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14316760,"value":"#<UserRole:0x00007fc91a39d0d8>"}},{"id":2897466,"event":"return","thread_id":9160,"parent_id":2897465,"elapsed":1.286796759814024e-05,"elapsed_instrumentation":6.06440007686615e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897467,"event":"return","thread_id":9160,"parent_id":2897464,"elapsed":9.553495328873396e-05,"elapsed_instrumentation":6.034004036337137e-05,"return_value":{"class":"Integer","value":"65536","object_id":131073}},{"id":2897468,"event":"return","thread_id":9160,"parent_id":2897463,"elapsed":0.0001784510095603764,"elapsed_instrumentation":0.00010444695362821221},{"id":2897469,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14316780,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14316800,"value":"#<UserRole:0x00007fc91a39cf98>"}},{"id":2897470,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14316800,"value":"#<UserRole:0x00007fc91a39cf98>"}},{"id":2897471,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14316800,"value":"#<UserRole:0x00007fc91a39cf98>"}},{"id":2897472,"event":"return","thread_id":9160,"parent_id":2897471,"elapsed":7.989001460373402e-06,"elapsed_instrumentation":4.430097760632634e-05},{"id":2897473,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14316800,"value":"#<UserRole:0x00007fc91a39cf98>"}},{"id":2897474,"event":"return","thread_id":9160,"parent_id":2897473,"elapsed":4.882982466369867e-06,"elapsed_instrumentation":4.552502650767565e-05},{"id":2897475,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2897476,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897477,"event":"return","thread_id":9160,"parent_id":2897476,"elapsed":0.000364735,"elapsed_instrumentation":6.990495603531599e-05},{"id":2897478,"event":"return","thread_id":9160,"parent_id":2897475,"elapsed":0.0010011810227297246,"elapsed_instrumentation":0.00016522500663995743,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fc91a39ca98>","object_id":14316820}},{"id":2897479,"event":"return","thread_id":9160,"parent_id":2897470,"elapsed":0.0013386349892243743,"elapsed_instrumentation":6.628403207287192e-05,"return_value":{"class":"Integer","value":"66844","object_id":133689}},{"id":2897480,"event":"return","thread_id":9160,"parent_id":2897469,"elapsed":0.0014247039798647165,"elapsed_instrumentation":8.249899838119745e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897481,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14316840,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14316860,"value":"#<UserRole:0x00007fc91a39ce58>"}},{"id":2897482,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14316860,"value":"#<UserRole:0x00007fc91a39ce58>"}},{"id":2897483,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14316860,"value":"#<UserRole:0x00007fc91a39ce58>"}},{"id":2897484,"event":"return","thread_id":9160,"parent_id":2897483,"elapsed":9.673996828496456e-06,"elapsed_instrumentation":4.777801223099232e-05},{"id":2897485,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14316860,"value":"#<UserRole:0x00007fc91a39ce58>"}},{"id":2897486,"event":"return","thread_id":9160,"parent_id":2897485,"elapsed":4.085013642907143e-06,"elapsed_instrumentation":4.701799480244517e-05},{"id":2897487,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2897488,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897489,"event":"return","thread_id":9160,"parent_id":2897488,"elapsed":0.000316791,"elapsed_instrumentation":8.05049785412848e-05},{"id":2897490,"event":"return","thread_id":9160,"parent_id":2897487,"elapsed":0.0008367690024897456,"elapsed_instrumentation":9.096198482438922e-05,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fc91a39c098>","object_id":14316880}},{"id":2897491,"event":"return","thread_id":9160,"parent_id":2897482,"elapsed":0.0010930679854936898,"elapsed_instrumentation":6.53750030323863e-05,"return_value":{"class":"Integer","value":"1048572","object_id":2097145}},{"id":2897492,"event":"return","thread_id":9160,"parent_id":2897481,"elapsed":0.001179360959213227,"elapsed_instrumentation":0.00010664906585589051,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897493,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"can?","path":"app/models/user_role.rb","lineno":131,"static":false,"parameters":[{"name":"any_of_privileges","class":"Array","object_id":14316900,"value":"[:manage_users]","kind":"rest","size":1}],"receiver":{"class":"UserRole","object_id":14316920,"value":"#<UserRole:0x00007fc91a39cd18>"}},{"id":2897494,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"computed_permissions","path":"app/models/user_role.rb","lineno":139,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14316920,"value":"#<UserRole:0x00007fc91a39cd18>"}},{"id":2897495,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone?","path":"app/models/user_role.rb","lineno":115,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14316920,"value":"#<UserRole:0x00007fc91a39cd18>"}},{"id":2897496,"event":"return","thread_id":9160,"parent_id":2897495,"elapsed":9.374984074383974e-06,"elapsed_instrumentation":5.782197695225477e-05},{"id":2897497,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"nobody?","path":"app/models/user_role.rb","lineno":119,"static":false,"parameters":[],"receiver":{"class":"UserRole","object_id":14316920,"value":"#<UserRole:0x00007fc91a39cd18>"}},{"id":2897498,"event":"return","thread_id":9160,"parent_id":2897497,"elapsed":4.3879845179617405e-06,"elapsed_instrumentation":4.777504364028573e-05},{"id":2897499,"event":"call","thread_id":9160,"defined_class":"UserRole","method_id":"everyone","path":"app/models/user_role.rb","lineno":105,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":62120,"value":"UserRole"}},{"id":2897500,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897501,"event":"return","thread_id":9160,"parent_id":2897500,"elapsed":0.000407432,"elapsed_instrumentation":7.095996988937259e-05},{"id":2897502,"event":"return","thread_id":9160,"parent_id":2897499,"elapsed":0.0009109479724429548,"elapsed_instrumentation":9.220000356435776e-05,"return_value":{"class":"UserRole","value":"#<UserRole:0x00007fc91a39b698>","object_id":14316940}},{"id":2897503,"event":"return","thread_id":9160,"parent_id":2897494,"elapsed":0.001181191997602582,"elapsed_instrumentation":6.347004091367126e-05,"return_value":{"class":"Integer","value":"1048575","object_id":2097151}},{"id":2897504,"event":"return","thread_id":9160,"parent_id":2897493,"elapsed":0.0012646809918805957,"elapsed_instrumentation":0.00010033894795924425,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2897505,"event":"return","thread_id":9160,"parent_id":2897460,"elapsed":0.005824176943860948,"elapsed_instrumentation":0.00012242706725373864,"return_value":{"class":"Array","value":"[#<UserRole:0x00007fc91a39cf98>, #<UserRole:0x00007fc91a39ce58>, #<UserRole:0x00007fc91a39cd18>]","object_id":14316960,"size":3}},{"id":2897506,"event":"return","thread_id":9160,"parent_id":2897459,"elapsed":0.0062294399831444025,"elapsed_instrumentation":0.0001645070151425898,"return_value":{"class":"ActiveRecord::Relation","value":"#<User::ActiveRecord_Relation:0x00007fc91a1a8c00>","object_id":14316980}},{"id":2897507,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"role_id\" IN ($1, $2, $3) ORDER BY \"users\".\"id\" ASC LIMIT $4","database_type":"postgres"}},{"id":2897508,"event":"return","thread_id":9160,"parent_id":2897507,"elapsed":0.000858906,"elapsed_instrumentation":7.553701288998127e-05},{"id":2897509,"event":"return","thread_id":9160,"parent_id":2897448,"elapsed":0.014021093025803566,"elapsed_instrumentation":7.637700764462352e-05},{"id":2897510,"event":"return","thread_id":9160,"parent_id":2897435,"elapsed":0.015364137012511492,"elapsed_instrumentation":0.00033634400460869074,"return_value":{"class":"String","value":"12ff9d5fd85f6e3acca8510a","object_id":14316340}},{"id":2897511,"event":"return","thread_id":9160,"parent_id":2896512,"elapsed":0.3173234109999612,"elapsed_instrumentation":0.00018807698506861925,"return_value":{"class":"IO","value":"#<IO:0x00007fc94b108f80>","object_id":195040}},{"id":2897512,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897513,"event":"return","thread_id":9160,"parent_id":2897512,"elapsed":0.000558904,"elapsed_instrumentation":7.979100337252021e-05},{"id":2897514,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"target_account_id\" WHERE \"follows\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2897515,"event":"return","thread_id":9160,"parent_id":2897514,"elapsed":0.000955906,"elapsed_instrumentation":8.241401519626379e-05}]}