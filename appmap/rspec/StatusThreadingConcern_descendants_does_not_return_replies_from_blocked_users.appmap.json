{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"StatusThreadingConcern #descendants does not return replies from blocked users","source_location":"spec/models/concerns/status_threading_concern_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountInteractions","type":"class","children":[{"name":"block!","type":"function","location":"app/models/concerns/account_interactions.rb:145","static":false},{"name":"relations_map","type":"function","location":"app/models/concerns/account_interactions.rb:302","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"StatusThreadingConcern","type":"class","children":[{"name":"descendants","type":"function","location":"app/models/concerns/status_threading_concern.rb:10","static":false}]}]},{"name":"Status","type":"class","children":[{"name":"account_domain","type":"function","location":"app/models/status.rb:168","static":false}]},{"name":"Account","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false},{"name":"silenced?","type":"function","location":"app/models/account.rb:225","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"PotentialFriendshipTracker","type":"class","children":[{"name":"remove","type":"function","location":"app/lib/potential_friendship_tracker.rb:27","static":true}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"generate_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:61","static":false}]}]}]},{"name":"StatusFilter","type":"class","children":[{"name":"filtered?","type":"function","location":"app/lib/status_filter.rb:12","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]}]},{"name":"policies","type":"package","children":[{"name":"StatusPolicy","type":"class","children":[{"name":"show?","type":"function","location":"app/policies/status_policy.rb:10","static":false}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":1151144,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"block!","path":"app/models/concerns/account_interactions.rb","lineno":145,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":6374300,"value":"#<Account:0x00007fdc0690bf48>","kind":"req"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":6374480,"value":"#<Account:0x00007fdc069f2948>"}},{"id":1151145,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222721004154241177,"value":"111360502077120588","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222721004154241175,"value":"111360502077120587","kind":"req"}],"receiver":{"class":"Class","object_id":824880,"value":"PotentialFriendshipTracker"}},{"id":1151146,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":824880,"value":"PotentialFriendshipTracker"}},{"id":1151147,"event":"return","thread_id":9160,"parent_id":1151146,"elapsed":7.6160067692399025e-06,"elapsed_instrumentation":0.00023288099328055978,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1151148,"event":"return","thread_id":9160,"parent_id":1151145,"elapsed":0.0009409500053152442,"elapsed_instrumentation":0.00017915101489052176},{"id":1151149,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"blocks\".* FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1151150,"event":"return","thread_id":9160,"parent_id":1151149,"elapsed":0.002200413,"elapsed_instrumentation":0.00019553001038730145},{"id":1151151,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6374520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030380,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09038260>"}},{"id":1151152,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"generate_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":61,"static":false,"parameters":[{"name":"_target","class":"Block","object_id":6374540,"value":"#<Block:0x00007fdc06b1dfc0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":1151153,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":1151154,"event":"return","thread_id":9160,"parent_id":1151153,"elapsed":7.306021871045232e-06,"elapsed_instrumentation":0.00016386501374654472,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":1151155,"event":"call","thread_id":9160,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":212080,"value":"#<ActivityPub::TagManager:0x00007fdc0a7306e8>"}},{"id":1151156,"event":"return","thread_id":9160,"parent_id":1151155,"elapsed":8.964998414739966e-06,"elapsed_instrumentation":0.00036646996159106493,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":212100,"size":3}},{"id":1151157,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":6374560,"value":"__NAV_E\u001f_51__\u0000__"}},{"id":1151158,"event":"return","thread_id":9160,"parent_id":1151157,"elapsed":7.968978025019169e-06,"elapsed_instrumentation":0.00023349601542577147,"return_value":{"class":"Array","value":"[3062320705, 22206, 17695, 40501, 12685, 3976242875]","object_id":6374580,"size":6}},{"id":1151159,"event":"return","thread_id":9160,"parent_id":1151152,"elapsed":0.0015770049940329045,"elapsed_instrumentation":0.00019576700287871063,"return_value":{"class":"URI::HTTPS","value":"https://cb6e6126.ngrok.io/b6874e41-56be-451f-9e35-318ded00a6bb","object_id":6374600}},{"id":1151160,"event":"return","thread_id":9160,"parent_id":1151151,"elapsed":0.0018697119958233088,"elapsed_instrumentation":0.00029590996564365923,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08d6eae8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d6ec28 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1030480,"size":2}},{"id":1151161,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6374620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030520,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09037f90>"}},{"id":1151162,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1151163,"event":"return","thread_id":9160,"parent_id":1151162,"elapsed":0.000334324,"elapsed_instrumentation":0.00013074700837023556},{"id":1151164,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1151165,"event":"return","thread_id":9160,"parent_id":1151164,"elapsed":0.002360395,"elapsed_instrumentation":9.723400580696762e-05},{"id":1151166,"event":"return","thread_id":9160,"parent_id":1151161,"elapsed":0.004278344014892355,"elapsed_instrumentation":0.0005258670134935528,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08d6beb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d6c068 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d6c248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d6c630 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1030540,"size":4}},{"id":1151167,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6374620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030520,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09037f90>"}},{"id":1151168,"event":"return","thread_id":9160,"parent_id":1151167,"elapsed":4.175002686679363e-06,"elapsed_instrumentation":0.00015603099018335342,"return_value":{"class":"Array","value":"[]","object_id":1030560,"size":0}},{"id":1151169,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6374520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030380,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09038260>"}},{"id":1151170,"event":"return","thread_id":9160,"parent_id":1151169,"elapsed":4.42398595623672e-06,"elapsed_instrumentation":0.0002713870198931545,"return_value":{"class":"Array","value":"[]","object_id":1030580,"size":0}},{"id":1151171,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6374640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09037900>"}},{"id":1151172,"event":"return","thread_id":9160,"parent_id":1151171,"elapsed":0.00017211900558322668,"elapsed_instrumentation":0.00021235700114630163,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08d680a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d681e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1030640,"size":2}},{"id":1151173,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"blocks\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"uri\") VALUES ($1, $2, $3, $4, $5) RETURNING \"id\"","database_type":"postgres"}},{"id":1151174,"event":"return","thread_id":9160,"parent_id":1151173,"elapsed":0.00292934,"elapsed_instrumentation":0.0001780909951776266},{"id":1151175,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6374640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030620,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09037900>"}},{"id":1151176,"event":"return","thread_id":9160,"parent_id":1151175,"elapsed":7.0690002758055925e-06,"elapsed_instrumentation":0.0002623539767228067,"return_value":{"class":"Array","value":"[]","object_id":1030660,"size":0}},{"id":1151177,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1151178,"event":"return","thread_id":9160,"parent_id":1151177,"elapsed":0.000760316,"elapsed_instrumentation":0.0008230610110331327},{"id":1151179,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6374660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09036e60>"}},{"id":1151180,"event":"return","thread_id":9160,"parent_id":1151179,"elapsed":6.896007107570767e-06,"elapsed_instrumentation":0.0003129019751213491,"return_value":{"class":"Array","value":"[]","object_id":1030720,"size":0}},{"id":1151181,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":6374660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1030700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09036e60>"}},{"id":1151182,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":6374680,"value":"Cache delete: exclude_account_ids_for:111360502077120588\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1151183,"event":"return","thread_id":9160,"parent_id":1151182,"elapsed":0.001620903000002727,"elapsed_instrumentation":0.0002460559771861881,"return_value":{"class":"Integer","value":"57","object_id":115}},{"id":1151184,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":6374700,"value":"Cache delete: exclude_account_ids_for:111360502077120587\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1151185,"event":"return","thread_id":9160,"parent_id":1151184,"elapsed":0.0016328040219377726,"elapsed_instrumentation":0.000168437953107059,"return_value":{"class":"Integer","value":"57","object_id":115}},{"id":1151186,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":6374720,"value":"Cache delete: relationship:111360502077120588:111360502077120587\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1151187,"event":"return","thread_id":9160,"parent_id":1151186,"elapsed":0.0020907290163449943,"elapsed_instrumentation":0.00017666199710220098,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1151188,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":6374740,"value":"Cache delete: relationship:111360502077120587:111360502077120588\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1151189,"event":"return","thread_id":9160,"parent_id":1151188,"elapsed":0.0021325989800971,"elapsed_instrumentation":0.0004513049789238721,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1151190,"event":"return","thread_id":9160,"parent_id":1151181,"elapsed":0.009290026006055996,"elapsed_instrumentation":0.000512612983584404,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc08d64250 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc08d64110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1030820,"size":2}},{"id":1151191,"event":"return","thread_id":9160,"parent_id":1151144,"elapsed":0.03722470399225131,"elapsed_instrumentation":0.0002570900251157582,"return_value":{"class":"Block","value":"#<Block:0x00007fdc06b1dfc0>","object_id":6374540}},{"id":1151192,"event":"call","thread_id":9160,"defined_class":"StatusThreadingConcern","method_id":"descendants","path":"app/models/concerns/status_threading_concern.rb","lineno":10,"static":false,"parameters":[{"name":"limit","class":"Integer","object_id":9,"value":"4","kind":"req"},{"name":"account","class":"Account","object_id":6374480,"value":"#<Account:0x00007fdc069f2948>","kind":"opt"},{"name":"depth","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Status","object_id":6374340,"value":"#<Status:0x00007fdc06fa7988>"}},{"id":1151193,"event":"call","thread_id":9160,"sql_query":{"sql":"WITH RECURSIVE search_tree(id, path) AS ( SELECT id, ARRAY[id] FROM statuses WHERE id = 111360502077068044 UNION ALL SELECT statuses.id, path || statuses.id FROM search_tree JOIN statuses ON statuses.in_reply_to_id = search_tree.id WHERE COALESCE(array_length(path, 1) < NULL, TRUE) AND NOT statuses.id = ANY(path) ) SELECT id FROM search_tree ORDER BY path LIMIT 5","database_type":"postgres"}},{"id":1151194,"event":"return","thread_id":9160,"parent_id":1151193,"elapsed":0.002324042,"elapsed_instrumentation":0.00017875901539810002},{"id":1151195,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"statuses\".* FROM \"statuses\" WHERE \"statuses\".\"deleted_at\" IS NULL AND \"statuses\".\"id\" IN ($1, $2, $3) ORDER BY \"statuses\".\"id\" DESC","database_type":"postgres"}},{"id":1151196,"event":"return","thread_id":9160,"parent_id":1151195,"elapsed":0.001375166,"elapsed_instrumentation":0.0001246579922735691},{"id":1151197,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN ($1, $2, $3)","database_type":"postgres"}},{"id":1151198,"event":"return","thread_id":9160,"parent_id":1151197,"elapsed":0.001833508,"elapsed_instrumentation":0.00014964898582547903},{"id":1151199,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":6374820,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":6374840,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":6374760,"value":"#<Status:0x00007fdc06a7d458>"}},{"id":1151200,"event":"return","thread_id":9160,"parent_id":1151199,"elapsed":4.524199175648391e-05,"elapsed_instrumentation":0.00020742998458445072},{"id":1151201,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":6374860,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":6374880,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":6374780,"value":"#<Status:0x00007fdc06a7d3b8>"}},{"id":1151202,"event":"return","thread_id":9160,"parent_id":1151201,"elapsed":9.608501568436623e-05,"elapsed_instrumentation":0.00016105198301374912,"return_value":{"class":"String","value":"example.com","object_id":6374900}},{"id":1151203,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":6374920,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":6374940,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":6374800,"value":"#<Status:0x00007fdc06a7d278>"}},{"id":1151204,"event":"return","thread_id":9160,"parent_id":1151203,"elapsed":2.025900175794959e-05,"elapsed_instrumentation":0.00014564499724656343},{"id":1151205,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"relations_map","path":"app/models/concerns/account_interactions.rb","lineno":302,"static":false,"parameters":[{"name":"account_ids","class":"Array","object_id":6374960,"value":"[111360502077120587, 111360502077120586, 111360502077120585]","kind":"req","size":3},{"name":"domains","class":"Array","object_id":6374980,"value":"[example.com]","kind":"opt","size":1},{"name":"options","class":"Hash","object_id":6375000,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"Account","object_id":6374480,"value":"#<Account:0x00007fdc069f2948>"}},{"id":1151206,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"blocks\".\"account_id\" FROM \"blocks\" WHERE \"blocks\".\"account_id\" IN ($1, $2, $3) AND \"blocks\".\"target_account_id\" = $4","database_type":"postgres"}},{"id":1151207,"event":"return","thread_id":9160,"parent_id":1151206,"elapsed":0.001172419,"elapsed_instrumentation":0.00011591997463256121},{"id":1151208,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"target_account_id\" IN ($1, $2, $3) AND \"follows\".\"account_id\" = $4","database_type":"postgres"}},{"id":1151209,"event":"return","thread_id":9160,"parent_id":1151208,"elapsed":0.001196647,"elapsed_instrumentation":0.0001389159879181534},{"id":1151210,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"blocks\".\"target_account_id\" FROM \"blocks\" WHERE \"blocks\".\"target_account_id\" IN ($1, $2, $3) AND \"blocks\".\"account_id\" = $4","database_type":"postgres"}},{"id":1151211,"event":"return","thread_id":9160,"parent_id":1151210,"elapsed":0.000849454,"elapsed_instrumentation":8.925201836973429e-05},{"id":1151212,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"mutes\".* FROM \"mutes\" WHERE \"mutes\".\"target_account_id\" IN ($1, $2, $3) AND \"mutes\".\"account_id\" = $4","database_type":"postgres"}},{"id":1151213,"event":"return","thread_id":9160,"parent_id":1151212,"elapsed":0.000882369,"elapsed_instrumentation":8.255100692622364e-05},{"id":1151214,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_domain_blocks\".\"domain\" FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" = $2","database_type":"postgres"}},{"id":1151215,"event":"return","thread_id":9160,"parent_id":1151214,"elapsed":0.000844554,"elapsed_instrumentation":7.974699838086963e-05},{"id":1151216,"event":"return","thread_id":9160,"parent_id":1151205,"elapsed":0.013278900005389005,"elapsed_instrumentation":0.0004337630234658718,"return_value":{"class":"Hash","value":"{:blocked_by=>{}, :following=>{}, :blocking=>{111360502077120587=>true}, :muting=>{}, :domain_blocking_by_domain=>{}}","object_id":6375020,"size":5}},{"id":1151217,"event":"call","thread_id":9160,"defined_class":"StatusFilter","method_id":"filtered?","path":"app/lib/status_filter.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"StatusFilter","object_id":6375040,"value":"#<StatusFilter:0x00007fdc06a20af0>"}},{"id":1151218,"event":"call","thread_id":9160,"defined_class":"StatusPolicy","method_id":"show?","path":"app/policies/status_policy.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"StatusPolicy","object_id":6375060,"value":"#<StatusPolicy:0x00007fdc06a3fd38>"}},{"id":1151219,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6375080,"value":"#<Account:0x00007fdc06b1c580>"}},{"id":1151220,"event":"return","thread_id":9160,"parent_id":1151219,"elapsed":3.10569885186851e-05,"elapsed_instrumentation":9.549400419928133e-05},{"id":1151221,"event":"return","thread_id":9160,"parent_id":1151218,"elapsed":0.00025380600709468126,"elapsed_instrumentation":0.00010309697245247662,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1151222,"event":"return","thread_id":9160,"parent_id":1151217,"elapsed":0.0004155490023549646,"elapsed_instrumentation":0.00021931101218797266,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1151223,"event":"call","thread_id":9160,"defined_class":"StatusFilter","method_id":"filtered?","path":"app/lib/status_filter.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"StatusFilter","object_id":6375100,"value":"#<StatusFilter:0x00007fdc06a3e370>"}},{"id":1151224,"event":"call","thread_id":9160,"defined_class":"StatusPolicy","method_id":"show?","path":"app/policies/status_policy.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"StatusPolicy","object_id":6375120,"value":"#<StatusPolicy:0x00007fdc06a3d678>"}},{"id":1151225,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6375140,"value":"#<Account:0x00007fdc06b1c6c0>"}},{"id":1151226,"event":"return","thread_id":9160,"parent_id":1151225,"elapsed":1.7179991118609905e-05,"elapsed_instrumentation":6.291197496466339e-05},{"id":1151227,"event":"return","thread_id":9160,"parent_id":1151224,"elapsed":0.00018016199464909732,"elapsed_instrumentation":0.00010338900028727949,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1151228,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":6375160,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":6375180,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":6374780,"value":"#<Status:0x00007fdc06a7d3b8>"}},{"id":1151229,"event":"return","thread_id":9160,"parent_id":1151228,"elapsed":1.4129007468000054e-05,"elapsed_instrumentation":0.00015035798423923552,"return_value":{"class":"String","value":"example.com","object_id":6374900}},{"id":1151230,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6374480,"value":"#<Account:0x00007fdc069f2948>"}},{"id":1151231,"event":"return","thread_id":9160,"parent_id":1151230,"elapsed":1.5202997019514441e-05,"elapsed_instrumentation":6.003997987136245e-05},{"id":1151232,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6375140,"value":"#<Account:0x00007fdc06b1c6c0>"}},{"id":1151233,"event":"return","thread_id":9160,"parent_id":1151232,"elapsed":1.1778000043705106e-05,"elapsed_instrumentation":5.6267017498612404e-05},{"id":1151234,"event":"return","thread_id":9160,"parent_id":1151223,"elapsed":0.000865273003000766,"elapsed_instrumentation":7.237901445478201e-05},{"id":1151235,"event":"call","thread_id":9160,"defined_class":"StatusFilter","method_id":"filtered?","path":"app/lib/status_filter.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"StatusFilter","object_id":6375200,"value":"#<StatusFilter:0x00007fdc06a38948>"}},{"id":1151236,"event":"call","thread_id":9160,"defined_class":"StatusPolicy","method_id":"show?","path":"app/policies/status_policy.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"StatusPolicy","object_id":6375220,"value":"#<StatusPolicy:0x00007fdc06a37d18>"}},{"id":1151237,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6375240,"value":"#<Account:0x00007fdc06b1c800>"}},{"id":1151238,"event":"return","thread_id":9160,"parent_id":1151237,"elapsed":2.2781023290008307e-05,"elapsed_instrumentation":0.00011975498637184501},{"id":1151239,"event":"return","thread_id":9160,"parent_id":1151236,"elapsed":0.0005765650130342692,"elapsed_instrumentation":8.766900282353163e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1151240,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"account_domain","path":"app/models/status.rb","lineno":168,"static":false,"parameters":[{"name":"*","class":"Array","object_id":6375260,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":6375280,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Status","object_id":6374800,"value":"#<Status:0x00007fdc06a7d278>"}},{"id":1151241,"event":"return","thread_id":9160,"parent_id":1151240,"elapsed":1.530200825072825e-05,"elapsed_instrumentation":0.00012546198558993638},{"id":1151242,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6374480,"value":"#<Account:0x00007fdc069f2948>"}},{"id":1151243,"event":"return","thread_id":9160,"parent_id":1151242,"elapsed":7.986993296071887e-06,"elapsed_instrumentation":6.274704355746508e-05},{"id":1151244,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":6375240,"value":"#<Account:0x00007fdc06b1c800>"}},{"id":1151245,"event":"return","thread_id":9160,"parent_id":1151244,"elapsed":1.3926008250564337e-05,"elapsed_instrumentation":5.722101195715368e-05},{"id":1151246,"event":"return","thread_id":9160,"parent_id":1151235,"elapsed":0.0010467779939062893,"elapsed_instrumentation":5.6837016018107533e-05},{"id":1151247,"event":"return","thread_id":9160,"parent_id":1151192,"elapsed":0.03172055599861778,"elapsed_instrumentation":0.0005671720136888325,"return_value":{"class":"Array","value":"[#<Status:0x00007fdc06a7d278>, #<Status:0x00007fdc06a7d3b8>]","object_id":6375300,"size":2}}]}