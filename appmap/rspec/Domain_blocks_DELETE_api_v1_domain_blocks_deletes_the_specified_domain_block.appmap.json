{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Domain blocks DELETE /api/v1/domain_blocks deletes the specified domain block","source_location":"spec/requests/api/v1/domain_blocks_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]},{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]}]},{"name":"app","type":"package","children":[{"name":"lib","type":"package","children":[{"name":"AccessTokenExtension","type":"class","children":[{"name":"push_to_streaming_api","type":"function","location":"app/lib/access_token_extension.rb:20","static":false},{"name":"update_last_used","type":"function","location":"app/lib/access_token_extension.rb:16","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true},{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true}]}]},{"name":"controllers","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"Localized","type":"class","children":[{"name":"set_locale","type":"function","location":"app/controllers/concerns/localized.rb:10","static":false}]},{"name":"CacheConcern","type":"class","children":[{"name":"enforce_cache_control!","type":"function","location":"app/controllers/concerns/cache_concern.rb:165","static":false}]}]},{"name":"api","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"BaseController","type":"class","children":[{"name":"current_user","type":"function","location":"app/controllers/api/base_controller.rb:116","static":false},{"name":"current_resource_owner","type":"function","location":"app/controllers/api/base_controller.rb:112","static":false},{"name":"disallow_unauthenticated_api_access?","type":"function","location":"app/controllers/api/base_controller.rb:152","static":false},{"name":"require_not_suspended!","type":"function","location":"app/controllers/api/base_controller.rb:126","static":false},{"name":"require_user!","type":"function","location":"app/controllers/api/base_controller.rb:130","static":false},{"name":"render_empty","type":"function","location":"app/controllers/api/base_controller.rb:144","static":false}]}]},{"name":"v1","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"V1","type":"class","children":[{"name":"DomainBlocksController","type":"class","children":[{"name":"destroy","type":"function","location":"app/controllers/api/v1/domain_blocks_controller.rb:22","static":false}]}]}]}]}]},{"name":"ApplicationController","type":"class","children":[{"name":"current_session","type":"function","location":"app/controllers/application_controller.rb:153","static":false},{"name":"check_self_destruct!","type":"function","location":"app/controllers/application_controller.rb:176","static":false},{"name":"set_cache_control_defaults","type":"function","location":"app/controllers/application_controller.rb:185","static":false},{"name":"current_account","type":"function","location":"app/controllers/application_controller.rb:147","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"SelfDestructHelper","type":"class","children":[{"name":"self_destruct?","type":"function","location":"app/helpers/self_destruct_helper.rb:11","static":false}]},{"name":"DomainControlHelper","type":"class","children":[{"name":"limited_federation_mode?","type":"function","location":"app/helpers/domain_control_helper.rb:20","static":false}]}]},{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false}]},{"name":"User","type":"class","children":[{"name":"confirmed?","type":"function","location":"app/models/user.rb:161","static":false},{"name":"functional?","type":"function","location":"app/models/user.rb:248","static":false},{"name":"functional_or_moved?","type":"function","location":"app/models/user.rb:252","static":false}]},{"name":"concerns","type":"package","children":[{"name":"AccountInteractions","type":"class","children":[{"name":"unblock_domain!","type":"function","location":"app/models/concerns/account_interactions.rb:193","static":false},{"name":"domain_blocking?","type":"function","location":"app/models/concerns/account_interactions.rb:218","static":false}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]},{"name":"ActionController","type":"class","children":[{"name":"Renderers","type":"class","children":[{"name":"render_to_body","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb:140","static":false,"labels":["mvc.render"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]}]}]}]},{"name":"lib/chewy/strategy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"Strategy","type":"class","children":[{"name":"Mastodon","type":"class","children":[{"name":"leave","type":"function","location":"lib/chewy/strategy/mastodon.rb:16","static":false}]}]}]}]}],"events":[{"id":191227,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba1910>"}},{"id":191228,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":343760,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":1573380,"value":"[_\u001d__!G_~__@__c____l_]__c_pW_\u0002r\u000eS]"}},{"id":191229,"event":"return","thread_id":9160,"parent_id":191228,"elapsed":5.30102988705039e-06,"elapsed_instrumentation":0.00014433299656957388,"return_value":{"class":"String","value":"wB2q8yFHo36BvkDRi2P47/yLbLVdp6pjX3BX/QJyDlM=","object_id":1573400}},{"id":191230,"event":"return","thread_id":9160,"parent_id":191227,"elapsed":0.0004839370376430452,"elapsed_instrumentation":0.0003122449852526188,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b5dd28 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b5de68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b5e020 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343820,"size":3}},{"id":191231,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba0ba0>"}},{"id":191232,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":191233,"event":"return","thread_id":9160,"parent_id":191232,"elapsed":0.00028515,"elapsed_instrumentation":0.00017499300884082913},{"id":191234,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 LIMIT $2","database_type":"postgres"}},{"id":191235,"event":"return","thread_id":9160,"parent_id":191234,"elapsed":0.001074909,"elapsed_instrumentation":6.270199082791805e-05},{"id":191236,"event":"return","thread_id":9160,"parent_id":191231,"elapsed":0.0020359550253488123,"elapsed_instrumentation":0.0001359749585390091,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b59408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b595c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b597a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b59980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343880,"size":4}},{"id":191237,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba0ba0>"}},{"id":191238,"event":"return","thread_id":9160,"parent_id":191237,"elapsed":3.9120204746723175e-06,"elapsed_instrumentation":0.000254084006883204,"return_value":{"class":"Array","value":"[]","object_id":343900,"size":0}},{"id":191239,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba1910>"}},{"id":191240,"event":"return","thread_id":9160,"parent_id":191239,"elapsed":2.2980384528636932e-06,"elapsed_instrumentation":8.494994835928082e-05,"return_value":{"class":"Array","value":"[]","object_id":343920,"size":0}},{"id":191241,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba01f0>"}},{"id":191242,"event":"return","thread_id":9160,"parent_id":191241,"elapsed":3.285397542640567e-05,"elapsed_instrumentation":8.920702384784818e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b535d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343980,"size":1}},{"id":191243,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"oauth_access_tokens\" (\"token\", \"refresh_token\", \"expires_in\", \"revoked_at\", \"created_at\", \"scopes\", \"application_id\", \"resource_owner_id\", \"last_used_at\", \"last_used_ip\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING \"id\"","database_type":"postgres"}},{"id":191244,"event":"return","thread_id":9160,"parent_id":191243,"elapsed":0.000540808,"elapsed_instrumentation":6.463297177106142e-05},{"id":191245,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba01f0>"}},{"id":191246,"event":"return","thread_id":9160,"parent_id":191245,"elapsed":2.87697184830904e-06,"elapsed_instrumentation":0.00010507699334993958,"return_value":{"class":"Array","value":"[]","object_id":344000,"size":0}},{"id":191247,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":191248,"event":"return","thread_id":9160,"parent_id":191247,"elapsed":0.000309863,"elapsed_instrumentation":5.5893033277243376e-05},{"id":191249,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932b3f738>"}},{"id":191250,"event":"return","thread_id":9160,"parent_id":191249,"elapsed":3.1539821065962315e-06,"elapsed_instrumentation":0.0001897840411402285,"return_value":{"class":"Array","value":"[]","object_id":344100,"size":0}},{"id":191251,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932b3f738>"}},{"id":191252,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":1573460,"value":"#<Doorkeeper::AccessToken:0x00007fc91a496f48>"}},{"id":191253,"event":"return","thread_id":9160,"parent_id":191252,"elapsed":1.8343969713896513e-05,"elapsed_instrumentation":4.986702697351575e-05},{"id":191254,"event":"return","thread_id":9160,"parent_id":191251,"elapsed":8.762202924117446e-05,"elapsed_instrumentation":8.421996608376503e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b2e7f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":344120,"size":1}},{"id":191255,"event":"call","thread_id":9160,"http_server_request":{"request_method":"DELETE","path_info":"/api/v1/domain_blocks/","normalized_path_info":"/*unmatched_route","headers":{"Version":"HTTP/1.0","Host":"www.example.com","Accept":"text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5","Authorization":"Bearer wB2q8yFHo36BvkDRi2P47_yLbLVdp6pjX3BX_QJyDlM","Content-Type":"application/x-www-form-urlencoded","Content-Length":"18"}},"message":[{"name":"domain","class":"String","value":"example.com","object_id":1573880}]},{"id":191256,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":222040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93803c8a8>"}},{"id":191257,"event":"return","thread_id":9160,"parent_id":191256,"elapsed":8.755497401580215e-05,"elapsed_instrumentation":0.0004723210004158318,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc934226eb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934226ff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934227158 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934227310 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":222060,"size":4}},{"id":191258,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":222040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93803c8a8>"}},{"id":191259,"event":"return","thread_id":9160,"parent_id":191258,"elapsed":2.7199857868254185e-06,"elapsed_instrumentation":7.339101284742355e-05,"return_value":{"class":"Array","value":"[]","object_id":222080,"size":0}},{"id":191260,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":1573520,"value":"_|__K_*\u0015K__\n]__Q"}},{"id":191261,"event":"return","thread_id":9160,"parent_id":191260,"elapsed":6.3470215536653996e-06,"elapsed_instrumentation":0.00015623500803485513,"return_value":{"class":"Array","value":"[3615287780, 19376, 10773, 19429, 63498, 1575394129]","object_id":1573540,"size":6}},{"id":191262,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1573580,"value":"Processing by Api::V1::DomainBlocksController#destroy as HTML\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":191263,"event":"return","thread_id":9160,"parent_id":191262,"elapsed":0.0004383120103739202,"elapsed_instrumentation":0.0002867709845304489,"return_value":{"class":"Integer","value":"62","object_id":125}},{"id":191264,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1573600,"value":"  Parameters: {\"domain\"=>\"example.com\"}\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":191265,"event":"return","thread_id":9160,"parent_id":191264,"elapsed":0.000436769041698426,"elapsed_instrumentation":0.00011286599328741431,"return_value":{"class":"Integer","value":"40","object_id":81}},{"id":191266,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1570400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce1420>"}},{"id":191267,"event":"return","thread_id":9160,"parent_id":191266,"elapsed":2.6740017347037792e-06,"elapsed_instrumentation":9.152200073003769e-05,"return_value":{"class":"Array","value":"[]","object_id":1570420,"size":0}},{"id":191268,"event":"call","thread_id":9160,"defined_class":"Localized","method_id":"set_locale","path":"app/controllers/concerns/localized.rb","lineno":10,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191269,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191270,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191271,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"oauth_access_tokens\".* FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 LIMIT $2","database_type":"postgres"}},{"id":191272,"event":"return","thread_id":9160,"parent_id":191271,"elapsed":0.000396231,"elapsed_instrumentation":6.275600753724575e-05},{"id":191273,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":191274,"event":"return","thread_id":9160,"parent_id":191273,"elapsed":0.000466077,"elapsed_instrumentation":6.244599353522062e-05},{"id":191275,"event":"return","thread_id":9160,"parent_id":191270,"elapsed":0.002404279017355293,"elapsed_instrumentation":0.00010949093848466873,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191276,"event":"return","thread_id":9160,"parent_id":191269,"elapsed":0.002532823011279106,"elapsed_instrumentation":6.2808976508677e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191277,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191278,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191279,"event":"return","thread_id":9160,"parent_id":191278,"elapsed":3.5869888961315155e-06,"elapsed_instrumentation":6.0281017795205116e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191280,"event":"return","thread_id":9160,"parent_id":191277,"elapsed":8.007197175174952e-05,"elapsed_instrumentation":7.428001845255494e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191281,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1570480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce1470>"}},{"id":191282,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191283,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191284,"event":"return","thread_id":9160,"parent_id":191283,"elapsed":2.529995981603861e-06,"elapsed_instrumentation":5.7447003200650215e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191285,"event":"return","thread_id":9160,"parent_id":191282,"elapsed":7.384701166301966e-05,"elapsed_instrumentation":5.83169749006629e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191286,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191287,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191288,"event":"return","thread_id":9160,"parent_id":191287,"elapsed":2.1189916878938675e-06,"elapsed_instrumentation":5.3997035138309e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191289,"event":"return","thread_id":9160,"parent_id":191286,"elapsed":6.872200174257159e-05,"elapsed_instrumentation":5.170202348381281e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191290,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191291,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191292,"event":"return","thread_id":9160,"parent_id":191291,"elapsed":2.5559565983712673e-06,"elapsed_instrumentation":5.380797665566206e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191293,"event":"return","thread_id":9160,"parent_id":191290,"elapsed":6.914703408256173e-05,"elapsed_instrumentation":5.5303971748799086e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191294,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_session","path":"app/controllers/application_controller.rb","lineno":153,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191295,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":1573680,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":1573700,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc932850428>"}},{"id":191296,"event":"return","thread_id":9160,"parent_id":191295,"elapsed":4.575005732476711e-06,"elapsed_instrumentation":8.20989953354001e-05,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc932850428>","object_id":1573700}},{"id":191297,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":1573700,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc932850428>"}},{"id":191298,"event":"return","thread_id":9160,"parent_id":191297,"elapsed":2.600019797682762e-06,"elapsed_instrumentation":5.941197741776705e-05},{"id":191299,"event":"return","thread_id":9160,"parent_id":191294,"elapsed":0.0002499180263839662,"elapsed_instrumentation":6.0929975006729364e-05},{"id":191300,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"check_self_destruct!","path":"app/controllers/application_controller.rb","lineno":176,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191301,"event":"call","thread_id":9160,"defined_class":"SelfDestructHelper","method_id":"self_destruct?","path":"app/helpers/self_destruct_helper.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191302,"event":"return","thread_id":9160,"parent_id":191301,"elapsed":7.033988367766142e-06,"elapsed_instrumentation":4.106602864339948e-05},{"id":191303,"event":"return","thread_id":9160,"parent_id":191300,"elapsed":6.2808976508677e-05,"elapsed_instrumentation":4.278798587620258e-05},{"id":191304,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191305,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191306,"event":"return","thread_id":9160,"parent_id":191305,"elapsed":2.6649795472621918e-06,"elapsed_instrumentation":5.765206879004836e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191307,"event":"return","thread_id":9160,"parent_id":191304,"elapsed":7.361097959801555e-05,"elapsed_instrumentation":5.44149661436677e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191308,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191309,"event":"return","thread_id":9160,"parent_id":191308,"elapsed":1.2432981748133898e-05,"elapsed_instrumentation":4.006503149867058e-05},{"id":191310,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"set_cache_control_defaults","path":"app/controllers/application_controller.rb","lineno":185,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191311,"event":"return","thread_id":9160,"parent_id":191310,"elapsed":3.6800047382712364e-06,"elapsed_instrumentation":7.709191413596272e-05,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":1573720,"size":2}},{"id":191312,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"update_last_used","path":"app/lib/access_token_extension.rb","lineno":16,"static":false,"parameters":[{"name":"request","class":"ActionDispatch::Request","object_id":1573740,"value":"#<ActionDispatch::Request:0x00007fc91a2944c0>","kind":"req"},{"name":"clock","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Doorkeeper::AccessToken","object_id":1573760,"value":"#<Doorkeeper::AccessToken:0x00007fc91a4962c8>"}},{"id":191313,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba1910>"}},{"id":191314,"event":"return","thread_id":9160,"parent_id":191313,"elapsed":2.341897925361991e-05,"elapsed_instrumentation":0.00011557596735656261,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b5dd28 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b5de68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b5e020 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343820,"size":3}},{"id":191315,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba0ba0>"}},{"id":191316,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":191317,"event":"return","thread_id":9160,"parent_id":191316,"elapsed":0.000332319,"elapsed_instrumentation":6.70070294290781e-05},{"id":191318,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 AND \"oauth_access_tokens\".\"id\" != $2 LIMIT $3","database_type":"postgres"}},{"id":191319,"event":"return","thread_id":9160,"parent_id":191318,"elapsed":0.00099002,"elapsed_instrumentation":5.611003143712878e-05},{"id":191320,"event":"return","thread_id":9160,"parent_id":191315,"elapsed":0.0021069339709356427,"elapsed_instrumentation":0.0001934880274347961,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b59408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b595c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b597a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b59980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343880,"size":4}},{"id":191321,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba0ba0>"}},{"id":191322,"event":"return","thread_id":9160,"parent_id":191321,"elapsed":3.1489762477576733e-06,"elapsed_instrumentation":8.257798617705703e-05,"return_value":{"class":"Array","value":"[]","object_id":343900,"size":0}},{"id":191323,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba1910>"}},{"id":191324,"event":"return","thread_id":9160,"parent_id":191323,"elapsed":2.2849999368190765e-06,"elapsed_instrumentation":6.374099757522345e-05,"return_value":{"class":"Array","value":"[]","object_id":343920,"size":0}},{"id":191325,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba01f0>"}},{"id":191326,"event":"return","thread_id":9160,"parent_id":191325,"elapsed":1.939496723935008e-05,"elapsed_instrumentation":8.116301614791155e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b535d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343980,"size":1}},{"id":191327,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"oauth_access_tokens\" SET \"last_used_at\" = $1, \"last_used_ip\" = $2 WHERE \"oauth_access_tokens\".\"id\" = $3","database_type":"postgres"}},{"id":191328,"event":"return","thread_id":9160,"parent_id":191327,"elapsed":0.000516822,"elapsed_instrumentation":6.581598427146673e-05},{"id":191329,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba01f0>"}},{"id":191330,"event":"return","thread_id":9160,"parent_id":191329,"elapsed":3.1060189940035343e-06,"elapsed_instrumentation":0.00013018498430028558,"return_value":{"class":"Array","value":"[]","object_id":344000,"size":0}},{"id":191331,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":191332,"event":"return","thread_id":9160,"parent_id":191331,"elapsed":0.000275287,"elapsed_instrumentation":5.9074023738503456e-05},{"id":191333,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932b3f738>"}},{"id":191334,"event":"return","thread_id":9160,"parent_id":191333,"elapsed":2.7479836717247963e-06,"elapsed_instrumentation":0.0001804689527489245,"return_value":{"class":"Array","value":"[]","object_id":344100,"size":0}},{"id":191335,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932b3f738>"}},{"id":191336,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":1573760,"value":"#<Doorkeeper::AccessToken:0x00007fc91a4962c8>"}},{"id":191337,"event":"return","thread_id":9160,"parent_id":191336,"elapsed":6.935501005500555e-05,"elapsed_instrumentation":7.113907486200333e-05},{"id":191338,"event":"return","thread_id":9160,"parent_id":191335,"elapsed":0.0001648319885134697,"elapsed_instrumentation":0.00011812703451141715,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b2e7f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":344120,"size":1}},{"id":191339,"event":"return","thread_id":9160,"parent_id":191312,"elapsed":0.006185656995512545,"elapsed_instrumentation":0.00010494596790522337,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":191340,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"disallow_unauthenticated_api_access?","path":"app/controllers/api/base_controller.rb","lineno":152,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191341,"event":"return","thread_id":9160,"parent_id":191340,"elapsed":1.449900446459651e-05,"elapsed_instrumentation":5.929602775722742e-05},{"id":191342,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"require_not_suspended!","path":"app/controllers/api/base_controller.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191343,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191344,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191345,"event":"return","thread_id":9160,"parent_id":191344,"elapsed":4.097004421055317e-06,"elapsed_instrumentation":6.553501589223742e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191346,"event":"return","thread_id":9160,"parent_id":191343,"elapsed":8.423702092841268e-05,"elapsed_instrumentation":6.299198139458895e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191347,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":191348,"event":"return","thread_id":9160,"parent_id":191347,"elapsed":0.000518458,"elapsed_instrumentation":6.61719823256135e-05},{"id":191349,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1573860,"value":"#<Account:0x00007fc91a495788>"}},{"id":191350,"event":"return","thread_id":9160,"parent_id":191349,"elapsed":1.58949987962842e-05,"elapsed_instrumentation":7.956998888403177e-05},{"id":191351,"event":"return","thread_id":9160,"parent_id":191342,"elapsed":0.0024248900008387864,"elapsed_instrumentation":7.558398647233844e-05},{"id":191352,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"require_user!","path":"app/controllers/api/base_controller.rb","lineno":130,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191353,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191354,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191355,"event":"return","thread_id":9160,"parent_id":191354,"elapsed":3.1189993023872375e-06,"elapsed_instrumentation":6.438401760533452e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191356,"event":"return","thread_id":9160,"parent_id":191353,"elapsed":8.261599577963352e-05,"elapsed_instrumentation":6.0578982811421156e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191357,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191358,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191359,"event":"return","thread_id":9160,"parent_id":191358,"elapsed":3.263005055487156e-06,"elapsed_instrumentation":6.727100117132068e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191360,"event":"return","thread_id":9160,"parent_id":191357,"elapsed":8.705101208761334e-05,"elapsed_instrumentation":0.00045951601350679994,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191361,"event":"call","thread_id":9160,"defined_class":"User","method_id":"confirmed?","path":"app/models/user.rb","lineno":161,"static":false,"parameters":[],"receiver":{"class":"User","object_id":1573660,"value":"#<User:0x00007fc91a495dc8>"}},{"id":191362,"event":"return","thread_id":9160,"parent_id":191361,"elapsed":4.431500565260649e-05,"elapsed_instrumentation":5.3120951633900404e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":191363,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191364,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191365,"event":"return","thread_id":9160,"parent_id":191364,"elapsed":2.4040346033871174e-06,"elapsed_instrumentation":5.565903848037124e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191366,"event":"return","thread_id":9160,"parent_id":191363,"elapsed":7.102300878614187e-05,"elapsed_instrumentation":5.780399078503251e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191367,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191368,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191369,"event":"return","thread_id":9160,"parent_id":191368,"elapsed":2.1840096451342106e-06,"elapsed_instrumentation":5.430902820080519e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191370,"event":"return","thread_id":9160,"parent_id":191367,"elapsed":6.937299622222781e-05,"elapsed_instrumentation":5.438597872853279e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191371,"event":"call","thread_id":9160,"defined_class":"User","method_id":"functional?","path":"app/models/user.rb","lineno":248,"static":false,"parameters":[],"receiver":{"class":"User","object_id":1573660,"value":"#<User:0x00007fc91a495dc8>"}},{"id":191372,"event":"call","thread_id":9160,"defined_class":"User","method_id":"functional_or_moved?","path":"app/models/user.rb","lineno":252,"static":false,"parameters":[],"receiver":{"class":"User","object_id":1573660,"value":"#<User:0x00007fc91a495dc8>"}},{"id":191373,"event":"call","thread_id":9160,"defined_class":"User","method_id":"confirmed?","path":"app/models/user.rb","lineno":161,"static":false,"parameters":[],"receiver":{"class":"User","object_id":1573660,"value":"#<User:0x00007fc91a495dc8>"}},{"id":191374,"event":"return","thread_id":9160,"parent_id":191373,"elapsed":4.542991518974304e-06,"elapsed_instrumentation":4.7208042815327644e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":191375,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":1573860,"value":"#<Account:0x00007fc91a495788>"}},{"id":191376,"event":"return","thread_id":9160,"parent_id":191375,"elapsed":6.0569727793335915e-06,"elapsed_instrumentation":5.155400140210986e-05},{"id":191377,"event":"return","thread_id":9160,"parent_id":191372,"elapsed":0.0001784449559636414,"elapsed_instrumentation":4.5926019083708525e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":191378,"event":"return","thread_id":9160,"parent_id":191371,"elapsed":0.00024703104281798005,"elapsed_instrumentation":4.553399048745632e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":191379,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191380,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191381,"event":"return","thread_id":9160,"parent_id":191380,"elapsed":4.135014023631811e-06,"elapsed_instrumentation":0.0001501100487075746,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191382,"event":"return","thread_id":9160,"parent_id":191379,"elapsed":0.00017321499763056636,"elapsed_instrumentation":5.912798224017024e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191383,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191384,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191385,"event":"return","thread_id":9160,"parent_id":191384,"elapsed":2.5830231606960297e-06,"elapsed_instrumentation":5.545903695747256e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191386,"event":"return","thread_id":9160,"parent_id":191383,"elapsed":7.139000808820128e-05,"elapsed_instrumentation":5.9031008277088404e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191387,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191388,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191389,"event":"return","thread_id":9160,"parent_id":191388,"elapsed":2.221029717475176e-06,"elapsed_instrumentation":5.453301128000021e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191390,"event":"return","thread_id":9160,"parent_id":191387,"elapsed":6.904499605298042e-05,"elapsed_instrumentation":5.42360357940197e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191391,"event":"return","thread_id":9160,"parent_id":191352,"elapsed":0.002041989006102085,"elapsed_instrumentation":7.722398731857538e-05},{"id":191392,"event":"return","thread_id":9160,"parent_id":191281,"elapsed":0.013097007002215832,"elapsed_instrumentation":0.00024219899205490947,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9321c65f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9321c6800 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9321c6ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9321c6c60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9321c6fa8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9321c71d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9321c7318 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9321c74d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9321c7610 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9321c77c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...6 more items)]","object_id":1570700,"size":16}},{"id":191393,"event":"call","thread_id":9160,"defined_class":"Api::V1::DomainBlocksController","method_id":"destroy","path":"app/controllers/api/v1/domain_blocks_controller.rb","lineno":22,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191394,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_account","path":"app/controllers/application_controller.rb","lineno":147,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191395,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191396,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191397,"event":"return","thread_id":9160,"parent_id":191396,"elapsed":3.275985363870859e-06,"elapsed_instrumentation":0.00013090408174321055,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191398,"event":"return","thread_id":9160,"parent_id":191395,"elapsed":0.00014989601913839579,"elapsed_instrumentation":5.241303006187081e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191399,"event":"return","thread_id":9160,"parent_id":191394,"elapsed":0.00022698298562318087,"elapsed_instrumentation":5.7654979173094034e-05,"return_value":{"class":"Account","value":"#<Account:0x00007fc91a495788>","object_id":1573860}},{"id":191400,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"unblock_domain!","path":"app/models/concerns/account_interactions.rb","lineno":193,"static":false,"parameters":[{"name":"other_domain","class":"String","object_id":1573880,"value":"example.com","kind":"req"}],"receiver":{"class":"Account","object_id":1573860,"value":"#<Account:0x00007fc91a495788>"}},{"id":191401,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"account_domain_blocks\".* FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" = $2 LIMIT $3","database_type":"postgres"}},{"id":191402,"event":"return","thread_id":9160,"parent_id":191401,"elapsed":0.000375757,"elapsed_instrumentation":6.209098501130939e-05},{"id":191403,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":191404,"event":"return","thread_id":9160,"parent_id":191403,"elapsed":0.000319622,"elapsed_instrumentation":6.722297985106707e-05},{"id":191405,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":191406,"event":"return","thread_id":9160,"parent_id":191405,"elapsed":0.000953871,"elapsed_instrumentation":5.7322031352669e-05},{"id":191407,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":191408,"event":"return","thread_id":9160,"parent_id":191407,"elapsed":0.000343209,"elapsed_instrumentation":6.11129798926413e-05},{"id":191409,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1341940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930d104b0>"}},{"id":191410,"event":"return","thread_id":9160,"parent_id":191409,"elapsed":3.0840164981782436e-06,"elapsed_instrumentation":9.737804066389799e-05,"return_value":{"class":"Array","value":"[]","object_id":1341960,"size":0}},{"id":191411,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1341940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930d104b0>"}},{"id":191412,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1573940,"value":"Cache delete_matched: \"relationship:111361329725026658:*\"\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":191413,"event":"return","thread_id":9160,"parent_id":191412,"elapsed":0.0005494739743880928,"elapsed_instrumentation":0.00010389601811766624,"return_value":{"class":"Integer","value":"58","object_id":117}},{"id":191414,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1573960,"value":"Cache delete: exclude_domains_for:111361329725026658\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":191415,"event":"return","thread_id":9160,"parent_id":191414,"elapsed":0.0005027070292271674,"elapsed_instrumentation":0.00011803803499788046,"return_value":{"class":"Integer","value":"53","object_id":107}},{"id":191416,"event":"return","thread_id":9160,"parent_id":191411,"elapsed":0.0015454540261998773,"elapsed_instrumentation":0.00010439497418701649,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9322602e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932260158 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342020,"size":2}},{"id":191417,"event":"return","thread_id":9160,"parent_id":191400,"elapsed":0.005748861003667116,"elapsed_instrumentation":0.00011956802336499095,"return_value":{"class":"AccountDomainBlock","value":"#<AccountDomainBlock:0x00007fc91a495288>","object_id":1573900}},{"id":191418,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"render_empty","path":"app/controllers/api/base_controller.rb","lineno":144,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191419,"event":"call","thread_id":9160,"defined_class":"ActionController::Renderers","method_id":"render_to_body","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb","lineno":140,"static":false,"parameters":[{"name":"options","class":"Hash","object_id":1573980,"value":"{:json=>{}, :status=>200, :prefixes=>[api/v1/domain_blocks, api/base, application], :template=>destroy, :layout=>#<Proc:0x00007fc93133d068 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/ac}","kind":"req","size":5}],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191420,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191421,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191422,"event":"return","thread_id":9160,"parent_id":191421,"elapsed":3.802997525781393e-06,"elapsed_instrumentation":7.757998537272215e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191423,"event":"return","thread_id":9160,"parent_id":191420,"elapsed":9.938998846337199e-05,"elapsed_instrumentation":8.510902989655733e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a495dc8>","object_id":1573660}},{"id":191424,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1574000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":191425,"event":"return","thread_id":9160,"parent_id":191424,"elapsed":3.5190023481845856e-06,"elapsed_instrumentation":0.00023582595167681575,"return_value":{"class":"Array","value":"[]","object_id":326200,"size":0}},{"id":191426,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1574000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":191427,"event":"return","thread_id":9160,"parent_id":191426,"elapsed":2.589018549770117e-06,"elapsed_instrumentation":7.93669605627656e-05,"return_value":{"class":"Array","value":"[]","object_id":326240,"size":0}},{"id":191428,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":1574020,"value":"{}","kind":"req","size":0}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":1574040,"value":"#<JSON::Ext::Generator::State:0x00007fc931335908>"}},{"id":191429,"event":"return","thread_id":9160,"parent_id":191428,"elapsed":6.420013960450888e-06,"elapsed_instrumentation":0.00012973794946447015,"return_value":{"class":"String","value":"{}","object_id":1574060}},{"id":191430,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1574000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":191431,"event":"return","thread_id":9160,"parent_id":191430,"elapsed":3.261025995016098e-06,"elapsed_instrumentation":7.518701022490859e-05,"return_value":{"class":"Array","value":"[]","object_id":328060,"size":0}},{"id":191432,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1574000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":191433,"event":"return","thread_id":9160,"parent_id":191432,"elapsed":2.341985236853361e-06,"elapsed_instrumentation":6.435299292206764e-05,"return_value":{"class":"Array","value":"[]","object_id":328080,"size":0}},{"id":191434,"event":"return","thread_id":9160,"parent_id":191419,"elapsed":0.0013225010479800403,"elapsed_instrumentation":0.00019313296070322394,"return_value":{"class":"String","value":"{}","object_id":1574060}},{"id":191435,"event":"return","thread_id":9160,"parent_id":191418,"elapsed":0.0016457950114272535,"elapsed_instrumentation":7.198099046945572e-05,"return_value":{"class":"String","value":"{}","object_id":1574060}},{"id":191436,"event":"return","thread_id":9160,"parent_id":191393,"elapsed":0.008005371957551688,"elapsed_instrumentation":9.19430167414248e-05,"return_value":{"class":"String","value":"{}","object_id":1574060}},{"id":191437,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1570480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce1470>"}},{"id":191438,"event":"call","thread_id":9160,"defined_class":"CacheConcern","method_id":"enforce_cache_control!","path":"app/controllers/concerns/cache_concern.rb","lineno":165,"static":false,"parameters":[],"receiver":{"class":"Api::V1::DomainBlocksController","object_id":1573640,"value":"#<Api::V1::DomainBlocksController:0x00007fc91a496548>"}},{"id":191439,"event":"return","thread_id":9160,"parent_id":191438,"elapsed":3.480300074443221e-05,"elapsed_instrumentation":0.00012221402721479535,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":1573720,"size":2}},{"id":191440,"event":"return","thread_id":9160,"parent_id":191437,"elapsed":0.0006476459675468504,"elapsed_instrumentation":0.00010080303763970733,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9321c8970 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9321c7bb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9321c6968 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1570880,"size":3}},{"id":191441,"event":"return","thread_id":9160,"parent_id":191268,"elapsed":0.025207506958395243,"elapsed_instrumentation":7.581798126921058e-05,"return_value":{"class":"String","value":"{}","object_id":1574060}},{"id":191442,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1573620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1570400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931ce1420>"}},{"id":191443,"event":"return","thread_id":9160,"parent_id":191442,"elapsed":2.58604995906353e-06,"elapsed_instrumentation":7.032498251646757e-05,"return_value":{"class":"Array","value":"[]","object_id":1570900,"size":0}},{"id":191444,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":1574080,"value":"Completed 200 OK in 26ms (Views: 1.6ms | ActiveRecord: 5.4ms | Allocations: 8762)\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":191445,"event":"return","thread_id":9160,"parent_id":191444,"elapsed":0.0005387070123106241,"elapsed_instrumentation":0.00011399900540709496,"return_value":{"class":"Integer","value":"82","object_id":165}},{"id":191446,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":191447,"event":"return","thread_id":9160,"parent_id":191446,"elapsed":2.9160291887819767e-06,"elapsed_instrumentation":8.938199607655406e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":191448,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":343760,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":1574100,"value":"[__\b\u0004\u0002{\u0005______f__]"}},{"id":191449,"event":"return","thread_id":9160,"parent_id":191448,"elapsed":5.465990398079157e-06,"elapsed_instrumentation":0.00027618202148005366,"return_value":{"class":"String","value":"qPcIBAJ7BbiN76Lpk2aY9A==","object_id":1574120}},{"id":191450,"event":"call","thread_id":9160,"defined_class":"Chewy::Strategy::Mastodon","method_id":"leave","path":"lib/chewy/strategy/mastodon.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Chewy::Strategy::Mastodon","object_id":1574140,"value":"#<Chewy::Strategy::Mastodon:0x00007fc9313ace90>"}},{"id":191451,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":1574160,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":1574180,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":191452,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":191453,"event":"return","thread_id":9160,"parent_id":191452,"elapsed":2.007989678531885e-06,"elapsed_instrumentation":5.6262011639773846e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":191454,"event":"return","thread_id":9160,"parent_id":191451,"elapsed":0.00014992797514423728,"elapsed_instrumentation":0.00010109302820637822,"return_value":{"class":"Array","value":"[]","object_id":1574200,"size":0}},{"id":191455,"event":"return","thread_id":9160,"parent_id":191450,"elapsed":0.0002679930184967816,"elapsed_instrumentation":6.801896961405873e-05,"return_value":{"class":"Array","value":"[]","object_id":1574200,"size":0}},{"id":191456,"event":"return","thread_id":9160,"parent_id":191255,"elapsed":0.03230522299418226,"elapsed_instrumentation":0.0008910850156098604,"return_value":{"class":"Hash","value":"{}","object_id":1574240,"size":0},"http_server_response":{"status_code":200,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Vary":"Authorization","Content-Type":"application/json; charset=utf-8","Cache-Control":"private, no-store","ETag":"W/\"44136fa355b3678a1146ad16f7e8649e\"","Content-Security-Policy":"default-src 'none'; frame-ancestors 'none'; form-action 'none'","X-Request-Id":"d77ce9e4-4bb0-4a15-8be5-f80a5de69b51","X-Runtime":"0.031585"}}},{"id":191457,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1574260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934c37c10>"}},{"id":191458,"event":"return","thread_id":9160,"parent_id":191457,"elapsed":9.433296509087086e-05,"elapsed_instrumentation":0.00013056700117886066,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933f1f4d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f758 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f910 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318440,"size":4}},{"id":191459,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":1574260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934c37c10>"}},{"id":191460,"event":"return","thread_id":9160,"parent_id":191459,"elapsed":2.6199850253760815e-06,"elapsed_instrumentation":6.708304863423109e-05,"return_value":{"class":"Array","value":"[]","object_id":318460,"size":0}},{"id":191461,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"domain_blocking?","path":"app/models/concerns/account_interactions.rb","lineno":218,"static":false,"parameters":[{"name":"other_domain","class":"String","object_id":1574320,"value":"example.com","kind":"req"}],"receiver":{"class":"Account","object_id":1573320,"value":"#<Account:0x00007fc91a49d848>"}},{"id":191462,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" = $2 LIMIT $3","database_type":"postgres"}},{"id":191463,"event":"return","thread_id":9160,"parent_id":191462,"elapsed":0.000660555,"elapsed_instrumentation":7.581099634990096e-05},{"id":191464,"event":"return","thread_id":9160,"parent_id":191461,"elapsed":0.0016285899910144508,"elapsed_instrumentation":8.509901817888021e-05}]}