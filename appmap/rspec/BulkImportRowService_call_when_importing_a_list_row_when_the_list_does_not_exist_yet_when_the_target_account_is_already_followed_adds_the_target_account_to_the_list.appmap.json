{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"BulkImportRowService #call when importing a list row when the list does not exist yet when the target account is already followed adds the target account to the list","source_location":"spec/services/bulk_import_row_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"acct","type":"function","location":"app/models/account.rb:191","static":false},{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false},{"name":"moved?","type":"function","location":"app/models/account.rb:167","static":false}]},{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"AccountInteractions","type":"class","children":[{"name":"blocking?","type":"function","location":"app/models/concerns/account_interactions.rb:214","static":false},{"name":"domain_blocking?","type":"function","location":"app/models/concerns/account_interactions.rb:218","static":false},{"name":"following?","type":"function","location":"app/models/concerns/account_interactions.rb:198","static":false},{"name":"follow!","type":"function","location":"app/models/concerns/account_interactions.rb:115","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]}]}]},{"name":"services","type":"package","children":[{"name":"BulkImportRowService","type":"class","children":[{"name":"domain","type":"function","location":"app/services/bulk_import_row_service.rb:49","static":false},{"name":"stoplight_wrap_request","type":"function","location":"app/services/bulk_import_row_service.rb:54","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"local_domain?","type":"function","location":"app/lib/tag_manager.rb:13","static":false}]},{"name":"PotentialFriendshipTracker","type":"class","children":[{"name":"remove","type":"function","location":"app/lib/potential_friendship_tracker.rb:27","static":true}]}]},{"name":"helpers","type":"package","children":[{"name":"DomainControlHelper","type":"class","children":[{"name":"domain_not_allowed?","type":"function","location":"app/helpers/domain_control_helper.rb:4","static":false}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":523446,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"list_accounts\" INNER JOIN \"lists\" \"list\" ON \"list\".\"id\" = \"list_accounts\".\"list_id\" WHERE \"list_accounts\".\"account_id\" = $1 AND \"list\".\"title\" = $2 LIMIT $3","database_type":"postgres"}},{"id":523447,"event":"return","thread_id":9160,"parent_id":523446,"elapsed":0.001000648,"elapsed_instrumentation":0.00010586297139525414},{"id":523448,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3542900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f880>"}},{"id":523449,"event":"return","thread_id":9160,"parent_id":523448,"elapsed":2.081296406686306e-05,"elapsed_instrumentation":0.00018371501937508583,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933289750 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2826140,"size":1}},{"id":523450,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3542920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f830>"}},{"id":523451,"event":"return","thread_id":9160,"parent_id":523450,"elapsed":0.00023731199325993657,"elapsed_instrumentation":0.00014867197023704648,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933288800 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9332889b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933288b98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933288cd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2826200,"size":4}},{"id":523452,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3542920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f830>"}},{"id":523453,"event":"return","thread_id":9160,"parent_id":523452,"elapsed":3.7580030038952827e-06,"elapsed_instrumentation":8.507893653586507e-05,"return_value":{"class":"Array","value":"[]","object_id":2826220,"size":0}},{"id":523454,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3542900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f880>"}},{"id":523455,"event":"return","thread_id":9160,"parent_id":523454,"elapsed":1.1119991540908813e-05,"elapsed_instrumentation":8.73460085131228e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933289610 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2826240,"size":1}},{"id":523456,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3542940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f5b0>"}},{"id":523457,"event":"return","thread_id":9160,"parent_id":523456,"elapsed":5.779496859759092e-05,"elapsed_instrumentation":9.517796570435166e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933286de8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2826300,"size":1}},{"id":523458,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3542940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f600>"}},{"id":523459,"event":"return","thread_id":9160,"parent_id":523458,"elapsed":2.6589841581881046e-06,"elapsed_instrumentation":7.574399933218956e-05,"return_value":{"class":"Array","value":"[]","object_id":2826340,"size":0}},{"id":523460,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3542960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3498540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f380>"}},{"id":523461,"event":"return","thread_id":9160,"parent_id":523460,"elapsed":2.4919863790273666e-06,"elapsed_instrumentation":0.00025029300013557076,"return_value":{"class":"Array","value":"[]","object_id":3498560,"size":0}},{"id":523462,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":523463,"event":"return","thread_id":9160,"parent_id":523462,"elapsed":0.000520475,"elapsed_instrumentation":8.870800957083702e-05},{"id":523464,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"bulk_imports\" (\"type\", \"state\", \"total_items\", \"imported_items\", \"processed_items\", \"finished_at\", \"overwrite\", \"likely_mismatched\", \"original_filename\", \"account_id\", \"created_at\", \"updated_at\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING \"id\"","database_type":"postgres"}},{"id":523465,"event":"return","thread_id":9160,"parent_id":523464,"elapsed":0.00138072,"elapsed_instrumentation":0.00023395504103973508},{"id":523466,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3542960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3498540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f380>"}},{"id":523467,"event":"return","thread_id":9160,"parent_id":523466,"elapsed":2.790801227092743e-05,"elapsed_instrumentation":0.00015058898134157062,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9332855b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":3498580,"size":1}},{"id":523468,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3542940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826320,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f600>"}},{"id":523469,"event":"return","thread_id":9160,"parent_id":523468,"elapsed":2.8579961508512497e-06,"elapsed_instrumentation":8.146802429109812e-05,"return_value":{"class":"Array","value":"[]","object_id":2826440,"size":0}},{"id":523470,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3542940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2826280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c6f5b0>"}},{"id":523471,"event":"return","thread_id":9160,"parent_id":523470,"elapsed":2.6889611035585403e-06,"elapsed_instrumentation":7.344805635511875e-05,"return_value":{"class":"Array","value":"[]","object_id":2826460,"size":0}},{"id":523472,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":523473,"event":"return","thread_id":9160,"parent_id":523472,"elapsed":0.000516342,"elapsed_instrumentation":7.662700954824686e-05},{"id":523474,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"acct","path":"app/models/account.rb","lineno":191,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3542840,"value":"#<Account:0x00007fc91a392098>"}},{"id":523475,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3542840,"value":"#<Account:0x00007fc91a392098>"}},{"id":523476,"event":"return","thread_id":9160,"parent_id":523475,"elapsed":9.220035281032324e-06,"elapsed_instrumentation":0.00017781899077817798,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":523477,"event":"return","thread_id":9160,"parent_id":523474,"elapsed":0.00022555200848728418,"elapsed_instrumentation":0.00011527002789080143,"return_value":{"class":"String","value":"bryan2042","object_id":3543000}},{"id":523478,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":523479,"event":"return","thread_id":9160,"parent_id":523478,"elapsed":1.7828017007559538e-05,"elapsed_instrumentation":0.00013291393406689167,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":523480,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3501700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c8ba08>"}},{"id":523481,"event":"return","thread_id":9160,"parent_id":523480,"elapsed":5.463295383378863e-05,"elapsed_instrumentation":0.00021123402984812856,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9332217b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933221998 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":3501720,"size":2}},{"id":523482,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3501700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c8ba08>"}},{"id":523483,"event":"return","thread_id":9160,"parent_id":523482,"elapsed":3.5190023481845856e-06,"elapsed_instrumentation":8.904107380658388e-05,"return_value":{"class":"Array","value":"[]","object_id":3501740,"size":0}},{"id":523484,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":523485,"event":"return","thread_id":9160,"parent_id":523484,"elapsed":2.934015356004238e-06,"elapsed_instrumentation":7.518299389630556e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":523486,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3501780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c8b9b8>"}},{"id":523487,"event":"return","thread_id":9160,"parent_id":523486,"elapsed":6.338802631944418e-05,"elapsed_instrumentation":9.477505227550864e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933220098 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":3501800,"size":1}},{"id":523488,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":3543080,"value":"{acct=>bryan2042, list_name=>my list}","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":3543100,"value":"#<JSON::Ext::Generator::State:0x00007fc932da5ae0>"}},{"id":523489,"event":"return","thread_id":9160,"parent_id":523488,"elapsed":9.050103835761547e-05,"elapsed_instrumentation":0.00015759497182443738,"return_value":{"class":"String","value":"{\"acct\":\"bryan2042\",\"list_name\":\"my list\"}","object_id":3543120}},{"id":523490,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":3543140,"value":"#<JSON::Ext::Parser:0x00007fc932da40c8>"}},{"id":523491,"event":"return","thread_id":9160,"parent_id":523490,"elapsed":1.0244024451822042e-05,"elapsed_instrumentation":0.0001108440337702632,"return_value":{"class":"Hash","value":"{acct=>bryan2042, list_name=>my list}","object_id":3543160,"size":2}},{"id":523492,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":3543180,"value":"{acct=>bryan2042, list_name=>my list}","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":3543200,"value":"#<JSON::Ext::Generator::State:0x00007fc932da0c70>"}},{"id":523493,"event":"return","thread_id":9160,"parent_id":523492,"elapsed":5.772977601736784e-06,"elapsed_instrumentation":0.000362180988304317,"return_value":{"class":"String","value":"{\"acct\":\"bryan2042\",\"list_name\":\"my list\"}","object_id":3543220}},{"id":523494,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":523495,"event":"return","thread_id":9160,"parent_id":523494,"elapsed":0.000388674,"elapsed_instrumentation":7.584900595247746e-05},{"id":523496,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"bulk_import_rows\" (\"bulk_import_id\", \"data\", \"created_at\", \"updated_at\") VALUES ($1, $2, $3, $4) RETURNING \"id\"","database_type":"postgres"}},{"id":523497,"event":"return","thread_id":9160,"parent_id":523496,"elapsed":0.001275496,"elapsed_instrumentation":6.897398270666599e-05},{"id":523498,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":3543240,"value":"#<JSON::Ext::Parser:0x00007fc932d5bfd0>"}},{"id":523499,"event":"return","thread_id":9160,"parent_id":523498,"elapsed":8.880975656211376e-06,"elapsed_instrumentation":0.0003749220632016659,"return_value":{"class":"Hash","value":"{acct=>bryan2042, list_name=>my list}","object_id":3543260,"size":2}},{"id":523500,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":3501780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930c8b9b8>"}},{"id":523501,"event":"return","thread_id":9160,"parent_id":523500,"elapsed":3.508990630507469e-06,"elapsed_instrumentation":0.00011260801693424582,"return_value":{"class":"Array","value":"[]","object_id":3502020,"size":0}},{"id":523502,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":523503,"event":"return","thread_id":9160,"parent_id":523502,"elapsed":0.000387713,"elapsed_instrumentation":7.348397048190236e-05},{"id":523504,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":3543300,"value":"#<JSON::Ext::Parser:0x00007fc932d58538>"}},{"id":523505,"event":"return","thread_id":9160,"parent_id":523504,"elapsed":8.008966688066721e-06,"elapsed_instrumentation":0.00013757997658103704,"return_value":{"class":"Hash","value":"{acct=>bryan2042, list_name=>my list}","object_id":3543320,"size":2}},{"id":523506,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"domain","path":"app/services/bulk_import_row_service.rb","lineno":49,"static":false,"parameters":[{"name":"uri","class":"String","object_id":3543340,"value":"bryan2042","kind":"req"}],"receiver":{"class":"BulkImportRowService","object_id":3543360,"value":"#<BulkImportRowService:0x00007fc930ce1408>"}},{"id":523507,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":523508,"event":"return","thread_id":9160,"parent_id":523507,"elapsed":5.233974661678076e-06,"elapsed_instrumentation":0.00021582801127806306,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":523509,"event":"return","thread_id":9160,"parent_id":523506,"elapsed":0.0002550820354372263,"elapsed_instrumentation":0.00010054506128653884},{"id":523510,"event":"call","thread_id":9160,"defined_class":"BulkImportRowService","method_id":"stoplight_wrap_request","path":"app/services/bulk_import_row_service.rb","lineno":54,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"BulkImportRowService","object_id":3543360,"value":"#<BulkImportRowService:0x00007fc930ce1408>"}},{"id":523511,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":523512,"event":"return","thread_id":9160,"parent_id":523511,"elapsed":3.174995072185993e-06,"elapsed_instrumentation":9.254500037059188e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":523513,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ResolveAccountService","object_id":3543380,"value":"#<ResolveAccountService:0x00007fc930cfceb0>"}},{"id":523514,"event":"return","thread_id":9160,"parent_id":523513,"elapsed":5.484966095536947e-06,"elapsed_instrumentation":6.891810335218906e-05},{"id":523515,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":3543400,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc932d52840>"}},{"id":523516,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'bryan2042' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":523517,"event":"return","thread_id":9160,"parent_id":523516,"elapsed":0.001096244,"elapsed_instrumentation":8.902203990146518e-05},{"id":523518,"event":"return","thread_id":9160,"parent_id":523515,"elapsed":0.004267950018402189,"elapsed_instrumentation":0.00010678695980459452,"return_value":{"class":"Account","value":"#<Account:0x00007fc91a3cb410>","object_id":3543420}},{"id":523519,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3543420,"value":"#<Account:0x00007fc91a3cb410>"}},{"id":523520,"event":"return","thread_id":9160,"parent_id":523519,"elapsed":1.663499278947711e-05,"elapsed_instrumentation":8.702499326318502e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":523521,"event":"return","thread_id":9160,"parent_id":523510,"elapsed":0.00476399902254343,"elapsed_instrumentation":0.00028828898211941123,"return_value":{"class":"Account","value":"#<Account:0x00007fc91a3cb410>","object_id":3543420}},{"id":523522,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"lists\".* FROM \"lists\" WHERE \"lists\".\"account_id\" = $1 AND \"lists\".\"title\" = $2 LIMIT $3","database_type":"postgres"}},{"id":523523,"event":"return","thread_id":9160,"parent_id":523522,"elapsed":0.000549983,"elapsed_instrumentation":0.00026917102513834834},{"id":523524,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2942720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69880>"}},{"id":523525,"event":"return","thread_id":9160,"parent_id":523524,"elapsed":2.1551037207245827e-05,"elapsed_instrumentation":0.0001525399275124073,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931262ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2942740,"size":1}},{"id":523526,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2942780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69830>"}},{"id":523527,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":523528,"event":"return","thread_id":9160,"parent_id":523527,"elapsed":0.000480017,"elapsed_instrumentation":7.826101500540972e-05},{"id":523529,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"lists\" WHERE \"lists\".\"account_id\" = $1 AND \"lists\".\"account_id\" = $2","database_type":"postgres"}},{"id":523530,"event":"return","thread_id":9160,"parent_id":523529,"elapsed":0.001559326,"elapsed_instrumentation":7.548194844275713e-05},{"id":523531,"event":"return","thread_id":9160,"parent_id":523526,"elapsed":0.0025511420099064708,"elapsed_instrumentation":0.0004372179973870516,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931261978 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931261bf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931261d60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931261ec8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9312620a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2942800,"size":5}},{"id":523532,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2942780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69830>"}},{"id":523533,"event":"return","thread_id":9160,"parent_id":523532,"elapsed":4.269008059054613e-06,"elapsed_instrumentation":0.0001022369833663106,"return_value":{"class":"Array","value":"[]","object_id":2942820,"size":0}},{"id":523534,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2942720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69880>"}},{"id":523535,"event":"return","thread_id":9160,"parent_id":523534,"elapsed":1.254701055586338e-05,"elapsed_instrumentation":9.530200622975826e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931262990 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2942840,"size":1}},{"id":523536,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2942880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69420>"}},{"id":523537,"event":"return","thread_id":9160,"parent_id":523536,"elapsed":4.4428976252675056e-05,"elapsed_instrumentation":0.00010024302173405886,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93120c608 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2943740,"size":1}},{"id":523538,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2943760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69470>"}},{"id":523539,"event":"return","thread_id":9160,"parent_id":523538,"elapsed":3.296998329460621e-06,"elapsed_instrumentation":0.0002688220120035112,"return_value":{"class":"Array","value":"[]","object_id":2943780,"size":0}},{"id":523540,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2943820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69240>"}},{"id":523541,"event":"return","thread_id":9160,"parent_id":523540,"elapsed":2.8520007617771626e-06,"elapsed_instrumentation":8.603004971519113e-05,"return_value":{"class":"Array","value":"[]","object_id":2943840,"size":0}},{"id":523542,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"lists\" (\"account_id\", \"title\", \"created_at\", \"updated_at\", \"replies_policy\", \"exclusive\") VALUES ($1, $2, $3, $4, $5, $6) RETURNING \"id\"","database_type":"postgres"}},{"id":523543,"event":"return","thread_id":9160,"parent_id":523542,"elapsed":0.000837401,"elapsed_instrumentation":7.374898996204138e-05},{"id":523544,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2943820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69240>"}},{"id":523545,"event":"return","thread_id":9160,"parent_id":523544,"elapsed":3.634404856711626e-05,"elapsed_instrumentation":0.0001467469846829772,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93120ac40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93120aa38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2943860,"size":2}},{"id":523546,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2943760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69470>"}},{"id":523547,"event":"return","thread_id":9160,"parent_id":523546,"elapsed":3.1410017982125282e-06,"elapsed_instrumentation":8.307106327265501e-05,"return_value":{"class":"Array","value":"[]","object_id":2943880,"size":0}},{"id":523548,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2942880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931c69420>"}},{"id":523549,"event":"return","thread_id":9160,"parent_id":523548,"elapsed":0.00015831197379156947,"elapsed_instrumentation":8.751300629228354e-05,"return_value":{"class":"Array","value":"[]","object_id":2943900,"size":0}},{"id":523550,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":523551,"event":"return","thread_id":9160,"parent_id":523550,"elapsed":0.00036036,"elapsed_instrumentation":7.381103932857513e-05},{"id":523552,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3543420,"value":"#<Account:0x00007fc91a3cb410>"}},{"id":523553,"event":"return","thread_id":9160,"parent_id":523552,"elapsed":2.4389009922742844e-05,"elapsed_instrumentation":0.00023881200468167663},{"id":523554,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"FollowService","object_id":3543540,"value":"#<FollowService:0x00007fc930cf9cb0>"}},{"id":523555,"event":"return","thread_id":9160,"parent_id":523554,"elapsed":4.673958756029606e-06,"elapsed_instrumentation":8.698302553966641e-05},{"id":523556,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":3542800,"value":"#<Account:0x00007fc91a398718>","kind":"req"}],"receiver":{"class":"Account","object_id":3543420,"value":"#<Account:0x00007fc91a3cb410>"}},{"id":523557,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":523558,"event":"return","thread_id":9160,"parent_id":523557,"elapsed":0.000754563,"elapsed_instrumentation":7.751502562314272e-05},{"id":523559,"event":"return","thread_id":9160,"parent_id":523556,"elapsed":0.0023525399737991393,"elapsed_instrumentation":7.872004061937332e-05},{"id":523560,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":3543420,"value":"#<Account:0x00007fc91a3cb410>","kind":"req"}],"receiver":{"class":"Account","object_id":3542800,"value":"#<Account:0x00007fc91a398718>"}},{"id":523561,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":523562,"event":"return","thread_id":9160,"parent_id":523561,"elapsed":0.000530208,"elapsed_instrumentation":7.827102672308683e-05},{"id":523563,"event":"return","thread_id":9160,"parent_id":523560,"elapsed":0.0020734129939228296,"elapsed_instrumentation":0.00010571995517238975},{"id":523564,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"moved?","path":"app/models/account.rb","lineno":167,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3543420,"value":"#<Account:0x00007fc91a3cb410>"}},{"id":523565,"event":"return","thread_id":9160,"parent_id":523564,"elapsed":1.712300581857562e-05,"elapsed_instrumentation":9.985698852688074e-05},{"id":523566,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":3543420,"value":"#<Account:0x00007fc91a3cb410>"}},{"id":523567,"event":"return","thread_id":9160,"parent_id":523566,"elapsed":6.144051440060139e-06,"elapsed_instrumentation":7.541896775364876e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":523568,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"domain_blocking?","path":"app/models/concerns/account_interactions.rb","lineno":218,"static":false,"parameters":[{"name":"other_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Account","object_id":3542800,"value":"#<Account:0x00007fc91a398718>"}},{"id":523569,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" IS NULL LIMIT $2","database_type":"postgres"}},{"id":523570,"event":"return","thread_id":9160,"parent_id":523569,"elapsed":0.000548332,"elapsed_instrumentation":7.989996811375022e-05},{"id":523571,"event":"return","thread_id":9160,"parent_id":523568,"elapsed":0.0018410930060781538,"elapsed_instrumentation":7.635896326974034e-05},{"id":523572,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":3543420,"value":"#<Account:0x00007fc91a3cb410>","kind":"req"}],"receiver":{"class":"Account","object_id":3542800,"value":"#<Account:0x00007fc91a398718>"}},{"id":523573,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":523574,"event":"return","thread_id":9160,"parent_id":523573,"elapsed":0.000883454,"elapsed_instrumentation":8.296704618260264e-05},{"id":523575,"event":"return","thread_id":9160,"parent_id":523572,"elapsed":0.0024019270204007626,"elapsed_instrumentation":0.00012772897025570273,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":523576,"event":"call","thread_id":9160,"defined_class":"AccountInteractions","method_id":"follow!","path":"app/models/concerns/account_interactions.rb","lineno":115,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":3543420,"value":"#<Account:0x00007fc91a3cb410>","kind":"req"},{"name":"reblogs","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"notify","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"bypass_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":3542800,"value":"#<Account:0x00007fc91a398718>"}},{"id":523577,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":523578,"event":"return","thread_id":9160,"parent_id":523577,"elapsed":0.000469635,"elapsed_instrumentation":8.052698103711009e-05},{"id":523579,"event":"call","thread_id":9160,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222722690915711621,"value":"111361345457855810","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222722690915711623,"value":"111361345457855811","kind":"req"}],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":523580,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":319780,"value":"PotentialFriendshipTracker"}},{"id":523581,"event":"return","thread_id":9160,"parent_id":523580,"elapsed":4.96796565130353e-06,"elapsed_instrumentation":8.698197780176997e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":523582,"event":"return","thread_id":9160,"parent_id":523579,"elapsed":0.0006553909624926746,"elapsed_instrumentation":0.00017279305029660463},{"id":523583,"event":"return","thread_id":9160,"parent_id":523576,"elapsed":0.0032053760369308293,"elapsed_instrumentation":0.00037317199166864157,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc91a3c8e90>","object_id":3543560}},{"id":523584,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2949600,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931cac1d0>"}},{"id":523585,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":523586,"event":"return","thread_id":9160,"parent_id":523585,"elapsed":0.000655014,"elapsed_instrumentation":0.00010467501124367118},{"id":523587,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":523588,"event":"return","thread_id":9160,"parent_id":523587,"elapsed":0.000520374,"elapsed_instrumentation":8.602702291682363e-05},{"id":523589,"event":"return","thread_id":9160,"parent_id":523584,"elapsed":0.0030233730212785304,"elapsed_instrumentation":0.0002763459924608469,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9311d8ab0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d8bf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2949620,"size":2}},{"id":523590,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2949660,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931cabb40>"}},{"id":523591,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"list_accounts\" WHERE \"list_accounts\".\"account_id\" = $1 AND \"list_accounts\".\"list_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":523592,"event":"return","thread_id":9160,"parent_id":523591,"elapsed":0.000846962,"elapsed_instrumentation":9.243004024028778e-05},{"id":523593,"event":"return","thread_id":9160,"parent_id":523590,"elapsed":0.0021223319927230477,"elapsed_instrumentation":0.0001973200123757124,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9311d4708 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d48e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d4bb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d4dc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d52c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2949680,"size":5}},{"id":523594,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2949660,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931cabb40>"}},{"id":523595,"event":"return","thread_id":9160,"parent_id":523594,"elapsed":0.00013085099635645747,"elapsed_instrumentation":0.00011597102275118232,"return_value":{"class":"Array","value":"[]","object_id":2949700,"size":0}},{"id":523596,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2949600,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931cac1d0>"}},{"id":523597,"event":"return","thread_id":9160,"parent_id":523596,"elapsed":2.4799956008791924e-06,"elapsed_instrumentation":9.14870179258287e-05,"return_value":{"class":"Array","value":"[]","object_id":2949720,"size":0}},{"id":523598,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2949760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931cab500>"}},{"id":523599,"event":"return","thread_id":9160,"parent_id":523598,"elapsed":0.0001333350082859397,"elapsed_instrumentation":0.00013553298776969314,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9311d0018 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d0180 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d0360 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9311d04f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2949780,"size":4}},{"id":523600,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"list_accounts\" (\"list_id\", \"account_id\", \"follow_id\", \"follow_request_id\") VALUES ($1, $2, $3, $4) RETURNING \"id\"","database_type":"postgres"}},{"id":523601,"event":"return","thread_id":9160,"parent_id":523600,"elapsed":0.001227683,"elapsed_instrumentation":8.288194658234715e-05},{"id":523602,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":3543620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2949760,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931cab500>"}},{"id":523603,"event":"return","thread_id":9160,"parent_id":523602,"elapsed":4.274013917893171e-06,"elapsed_instrumentation":0.0001259840209968388,"return_value":{"class":"Array","value":"[]","object_id":2949800,"size":0}},{"id":523604,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":523605,"event":"return","thread_id":9160,"parent_id":523604,"elapsed":0.000430017,"elapsed_instrumentation":7.430202094838023e-05},{"id":523606,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"list_accounts\" INNER JOIN \"lists\" \"list\" ON \"list\".\"id\" = \"list_accounts\".\"list_id\" WHERE \"list_accounts\".\"account_id\" = $1 AND \"list\".\"title\" = $2 LIMIT $3","database_type":"postgres"}},{"id":523607,"event":"return","thread_id":9160,"parent_id":523606,"elapsed":0.00069623,"elapsed_instrumentation":7.320399163290858e-05}]}