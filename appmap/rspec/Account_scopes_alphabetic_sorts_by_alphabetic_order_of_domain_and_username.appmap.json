{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Account scopes alphabetic sorts by alphabetic order of domain and username","source_location":"spec/models/account_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"concerns","type":"package","children":[{"name":"DomainMaterializable","type":"class","children":[{"name":"refresh_instances_view","type":"function","location":"app/models/concerns/domain_materializable.rb:12","static":false},{"name":"count_unique_subdomains!","type":"function","location":"app/models/concerns/domain_materializable.rb:19","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false}]}]},{"name":"Instance","type":"class","children":[{"name":"refresh","type":"function","location":"app/models/instance.rb:28","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]}]}]},{"name":"lib/paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false}]}]}]}],"events":[{"id":643897,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":643898,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643899,"event":"return","thread_id":9160,"parent_id":643898,"elapsed":2.4065026082098484e-05,"elapsed_instrumentation":0.00010088301496580243},{"id":643900,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":4200500,"value":"a","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":643901,"event":"return","thread_id":9160,"parent_id":643900,"elapsed":0.0002576109836809337,"elapsed_instrumentation":0.0003300110111013055,"return_value":{"class":"String","value":"a","object_id":4200520}},{"id":643902,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643903,"event":"return","thread_id":9160,"parent_id":643902,"elapsed":1.482298830524087e-05,"elapsed_instrumentation":0.00013932603178545833},{"id":643904,"event":"return","thread_id":9160,"parent_id":643897,"elapsed":0.001087177952285856,"elapsed_instrumentation":0.0007514740573242307,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28e78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b2b5d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323140,"size":4}},{"id":643905,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":643906,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":323320,"value":"#<UniqueUsernameValidator:0x00007fc9402767b0>"}},{"id":643907,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":643908,"event":"return","thread_id":9160,"parent_id":643907,"elapsed":0.000571699,"elapsed_instrumentation":0.0002839679946191609},{"id":643909,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'a' AND LOWER(\"accounts\".\"domain\") = 'a' LIMIT $1","database_type":"postgres"}},{"id":643910,"event":"return","thread_id":9160,"parent_id":643909,"elapsed":0.002008195,"elapsed_instrumentation":8.463999256491661e-05},{"id":643911,"event":"return","thread_id":9160,"parent_id":643906,"elapsed":0.0032849760027602315,"elapsed_instrumentation":0.0002221890026703477},{"id":643912,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643913,"event":"return","thread_id":9160,"parent_id":643912,"elapsed":1.1908996384590864e-05,"elapsed_instrumentation":0.00011618406279012561},{"id":643914,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643915,"event":"return","thread_id":9160,"parent_id":643914,"elapsed":4.917965270578861e-06,"elapsed_instrumentation":6.043200846761465e-05},{"id":643916,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643917,"event":"return","thread_id":9160,"parent_id":643916,"elapsed":6.975024007260799e-06,"elapsed_instrumentation":0.0002023189445026219},{"id":643918,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643919,"event":"return","thread_id":9160,"parent_id":643918,"elapsed":4.708999767899513e-06,"elapsed_instrumentation":6.529700476676226e-05},{"id":643920,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643921,"event":"return","thread_id":9160,"parent_id":643920,"elapsed":3.936991561204195e-06,"elapsed_instrumentation":5.092599894851446e-05},{"id":643922,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643923,"event":"return","thread_id":9160,"parent_id":643922,"elapsed":3.968016244471073e-06,"elapsed_instrumentation":4.7471956349909306e-05},{"id":643924,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643925,"event":"return","thread_id":9160,"parent_id":643924,"elapsed":3.973953425884247e-06,"elapsed_instrumentation":4.577299114316702e-05},{"id":643926,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643927,"event":"return","thread_id":9160,"parent_id":643926,"elapsed":4.0209852159023285e-06,"elapsed_instrumentation":4.608405288308859e-05},{"id":643928,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643929,"event":"return","thread_id":9160,"parent_id":643928,"elapsed":4.040019121021032e-06,"elapsed_instrumentation":4.7561945393681526e-05},{"id":643930,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643931,"event":"return","thread_id":9160,"parent_id":643930,"elapsed":4.0879822336137295e-06,"elapsed_instrumentation":5.061895353719592e-05},{"id":643932,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643933,"event":"return","thread_id":9160,"parent_id":643932,"elapsed":3.7229619920253754e-06,"elapsed_instrumentation":4.680099664255977e-05},{"id":643934,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643935,"event":"return","thread_id":9160,"parent_id":643934,"elapsed":3.7259887903928757e-06,"elapsed_instrumentation":4.700798308476806e-05},{"id":643936,"event":"return","thread_id":9160,"parent_id":643905,"elapsed":0.006399680976755917,"elapsed_instrumentation":0.00030054105445742607,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939c310e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c31f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c320d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32468 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c325f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32a08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c337f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":323620,"size":71}},{"id":643937,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":643938,"event":"return","thread_id":9160,"parent_id":643937,"elapsed":3.93204391002655e-06,"elapsed_instrumentation":0.000264924019575119,"return_value":{"class":"Array","value":"[]","object_id":323640,"size":0}},{"id":643939,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":643940,"event":"return","thread_id":9160,"parent_id":643939,"elapsed":1.2057018466293812e-05,"elapsed_instrumentation":8.960801642388105e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28b08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323660,"size":1}},{"id":643941,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":643942,"event":"return","thread_id":9160,"parent_id":643941,"elapsed":2.6959984097629786e-05,"elapsed_instrumentation":9.464100003242493e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93912dae0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323720,"size":1}},{"id":643943,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":643944,"event":"return","thread_id":9160,"parent_id":643943,"elapsed":2.9189977794885635e-06,"elapsed_instrumentation":0.0003267729771323502,"return_value":{"class":"Array","value":"[]","object_id":323760,"size":0}},{"id":643945,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":643946,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643947,"event":"return","thread_id":9160,"parent_id":643946,"elapsed":7.225025910884142e-06,"elapsed_instrumentation":5.641300231218338e-05},{"id":643948,"event":"return","thread_id":9160,"parent_id":643945,"elapsed":9.263999527320266e-05,"elapsed_instrumentation":0.00011390598956495523,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939190c58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323820,"size":1}},{"id":643949,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":643950,"event":"return","thread_id":9160,"parent_id":643949,"elapsed":0.001352149,"elapsed_instrumentation":8.167995838448405e-05},{"id":643951,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":643952,"event":"return","thread_id":9160,"parent_id":643951,"elapsed":0.00050002196803689,"elapsed_instrumentation":0.0002542540314607322,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93920f3f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920eea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e540 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920dff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920d140 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920c448 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920adf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":325440,"size":53}},{"id":643953,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":643954,"event":"return","thread_id":9160,"parent_id":643953,"elapsed":3.141991328448057e-06,"elapsed_instrumentation":9.370199404656887e-05,"return_value":{"class":"Array","value":"[]","object_id":325460,"size":0}},{"id":643955,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":643956,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":4200600,"value":"/avatars/original/missing.png"}},{"id":643957,"event":"return","thread_id":9160,"parent_id":643956,"elapsed":3.301398828625679e-05,"elapsed_instrumentation":0.00019658502424135804,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":643958,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":4200620,"value":"/headers/original/missing.png"}},{"id":643959,"event":"return","thread_id":9160,"parent_id":643958,"elapsed":0.00014465500134974718,"elapsed_instrumentation":0.00023995403898879886,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":643960,"event":"return","thread_id":9160,"parent_id":643955,"elapsed":0.0009204800007864833,"elapsed_instrumentation":0.00016554206376895308,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939129148 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939125ef8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939121470 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939120b88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":325520,"size":4}},{"id":643961,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":643962,"event":"return","thread_id":9160,"parent_id":643961,"elapsed":0.000631651,"elapsed_instrumentation":9.76849696598947e-05},{"id":643963,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":643964,"event":"return","thread_id":9160,"parent_id":643963,"elapsed":4.004978109151125e-06,"elapsed_instrumentation":0.0001221619895659387,"return_value":{"class":"Array","value":"[]","object_id":328300,"size":0}},{"id":643965,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":643966,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643967,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":643968,"event":"return","thread_id":9160,"parent_id":643967,"elapsed":0.001269728,"elapsed_instrumentation":9.890901856124401e-05},{"id":643969,"event":"call","thread_id":9160,"defined_class":"Instance","method_id":"refresh","path":"app/models/instance.rb","lineno":28,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":52400,"value":"Instance"}},{"id":643970,"event":"call","thread_id":9160,"sql_query":{"sql":"REFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";","database_type":"postgres"}},{"id":643971,"event":"return","thread_id":9160,"parent_id":643970,"elapsed":0.017315429,"elapsed_instrumentation":0.0001309479703195393},{"id":643972,"event":"return","thread_id":9160,"parent_id":643969,"elapsed":0.017777461966034025,"elapsed_instrumentation":0.00017606402980163693,"return_value":{"class":"PG::Result","value":"#<PG::Result:0x00007fc932f93910>","object_id":4200660}},{"id":643973,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"count_unique_subdomains!","path":"app/models/concerns/domain_materializable.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643974,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":4200480,"value":"#<Account:0x00007fc919ac30c0>"}},{"id":643975,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":4200680,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":4200700,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":643976,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":643977,"event":"return","thread_id":9160,"parent_id":643976,"elapsed":2.735003363341093e-06,"elapsed_instrumentation":6.632303120568395e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":643978,"event":"return","thread_id":9160,"parent_id":643975,"elapsed":0.0010622320114634931,"elapsed_instrumentation":0.00013847200898453593,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":643979,"event":"return","thread_id":9160,"parent_id":643974,"elapsed":0.0012281069648452103,"elapsed_instrumentation":0.00010098901111632586,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":643980,"event":"return","thread_id":9160,"parent_id":643973,"elapsed":0.0019255700171925128,"elapsed_instrumentation":0.00013390398817136884,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":643981,"event":"return","thread_id":9160,"parent_id":643966,"elapsed":0.022734794998541474,"elapsed_instrumentation":6.262300303205848e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":643982,"event":"return","thread_id":9160,"parent_id":643965,"elapsed":0.022861888981424272,"elapsed_instrumentation":0.00016535696340724826,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc938945850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc938942a10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855fba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855f0b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855ebb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855de40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":328320,"size":6}},{"id":643983,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":643984,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":643985,"event":"return","thread_id":9160,"parent_id":643984,"elapsed":4.353496478870511e-05,"elapsed_instrumentation":6.963207852095366e-05},{"id":643986,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":4200760,"value":"a","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":643987,"event":"return","thread_id":9160,"parent_id":643986,"elapsed":0.00017293699784204364,"elapsed_instrumentation":0.0002234100247733295,"return_value":{"class":"String","value":"a","object_id":4200780}},{"id":643988,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":643989,"event":"return","thread_id":9160,"parent_id":643988,"elapsed":9.097042493522167e-06,"elapsed_instrumentation":6.50499714538455e-05},{"id":643990,"event":"return","thread_id":9160,"parent_id":643983,"elapsed":0.0007276000105775893,"elapsed_instrumentation":0.0001694389502517879,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28e78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b2b5d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323140,"size":4}},{"id":643991,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":643992,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":323320,"value":"#<UniqueUsernameValidator:0x00007fc9402767b0>"}},{"id":643993,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":643994,"event":"return","thread_id":9160,"parent_id":643993,"elapsed":0.000386236,"elapsed_instrumentation":0.00021726900013163686},{"id":643995,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'b' AND LOWER(\"accounts\".\"domain\") = 'a' LIMIT $1","database_type":"postgres"}},{"id":643996,"event":"return","thread_id":9160,"parent_id":643995,"elapsed":0.001509617,"elapsed_instrumentation":0.00023581000277772546},{"id":643997,"event":"return","thread_id":9160,"parent_id":643992,"elapsed":0.002639257989358157,"elapsed_instrumentation":0.00011176802217960358},{"id":643998,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":643999,"event":"return","thread_id":9160,"parent_id":643998,"elapsed":8.999020792543888e-06,"elapsed_instrumentation":8.549302583560348e-05},{"id":644000,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":644001,"event":"return","thread_id":9160,"parent_id":644000,"elapsed":4.607019945979118e-06,"elapsed_instrumentation":5.974696250632405e-05},{"id":644002,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":644003,"event":"return","thread_id":9160,"parent_id":644002,"elapsed":4.187051672488451e-06,"elapsed_instrumentation":5.3777999710291624e-05},{"id":644004,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":644005,"event":"return","thread_id":9160,"parent_id":644004,"elapsed":3.7450226955115795e-06,"elapsed_instrumentation":4.728802014142275e-05},{"id":644006,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":644007,"event":"return","thread_id":9160,"parent_id":644006,"elapsed":3.839959390461445e-06,"elapsed_instrumentation":4.5546970795840025e-05},{"id":644008,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":644009,"event":"return","thread_id":9160,"parent_id":644008,"elapsed":3.750959876924753e-06,"elapsed_instrumentation":4.5038003008812666e-05},{"id":644010,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":644011,"event":"return","thread_id":9160,"parent_id":644010,"elapsed":3.847002517431974e-06,"elapsed_instrumentation":4.545797128230333e-05},{"id":644012,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":644013,"event":"return","thread_id":9160,"parent_id":644012,"elapsed":3.7740101106464863e-06,"elapsed_instrumentation":4.581903340294957e-05},{"id":644014,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":644015,"event":"return","thread_id":9160,"parent_id":644014,"elapsed":4.011963028460741e-06,"elapsed_instrumentation":4.58200229331851e-05},{"id":644016,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":644017,"event":"return","thread_id":9160,"parent_id":644016,"elapsed":5.601032171398401e-06,"elapsed_instrumentation":0.0001584339770488441},{"id":644018,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":644019,"event":"return","thread_id":9160,"parent_id":644018,"elapsed":4.18501440435648e-06,"elapsed_instrumentation":5.18420129083097e-05},{"id":644020,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":644021,"event":"return","thread_id":9160,"parent_id":644020,"elapsed":4.075001925230026e-06,"elapsed_instrumentation":4.7424924559891224e-05},{"id":644022,"event":"return","thread_id":9160,"parent_id":643991,"elapsed":0.004815159016288817,"elapsed_instrumentation":0.00021198595641180873,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939c310e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c31f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c320d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32468 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c325f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32a08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c337f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":323620,"size":71}},{"id":644023,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":644024,"event":"return","thread_id":9160,"parent_id":644023,"elapsed":3.536988515406847e-06,"elapsed_instrumentation":8.848495781421661e-05,"return_value":{"class":"Array","value":"[]","object_id":323640,"size":0}},{"id":644025,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":644026,"event":"return","thread_id":9160,"parent_id":644025,"elapsed":1.270597567781806e-05,"elapsed_instrumentation":8.625804912298918e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28b08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323660,"size":1}},{"id":644027,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":644028,"event":"return","thread_id":9160,"parent_id":644027,"elapsed":2.2592023015022278e-05,"elapsed_instrumentation":0.00018519797595217824,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93912dae0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323720,"size":1}},{"id":644029,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":644030,"event":"return","thread_id":9160,"parent_id":644029,"elapsed":3.5520060919225216e-06,"elapsed_instrumentation":0.0004236099775880575,"return_value":{"class":"Array","value":"[]","object_id":323760,"size":0}},{"id":644031,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":644032,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":644033,"event":"return","thread_id":9160,"parent_id":644032,"elapsed":7.39202369004488e-06,"elapsed_instrumentation":5.960703128948808e-05},{"id":644034,"event":"return","thread_id":9160,"parent_id":644031,"elapsed":9.726296411827207e-05,"elapsed_instrumentation":0.00011418596841394901,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939190c58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323820,"size":1}},{"id":644035,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":644036,"event":"return","thread_id":9160,"parent_id":644035,"elapsed":0.001784301,"elapsed_instrumentation":0.0001237270189449191},{"id":644037,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":644038,"event":"return","thread_id":9160,"parent_id":644037,"elapsed":0.00039060902781784534,"elapsed_instrumentation":0.00035108590964227915,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93920f3f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920eea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e540 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920dff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920d140 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920c448 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920adf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":325440,"size":53}},{"id":644039,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":644040,"event":"return","thread_id":9160,"parent_id":644039,"elapsed":2.9910006560385227e-06,"elapsed_instrumentation":8.628104114905e-05,"return_value":{"class":"Array","value":"[]","object_id":325460,"size":0}},{"id":644041,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":644042,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":4200860,"value":"/avatars/original/missing.png"}},{"id":644043,"event":"return","thread_id":9160,"parent_id":644042,"elapsed":3.2701005693525076e-05,"elapsed_instrumentation":0.0003404899616725743,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":644044,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":4200880,"value":"/headers/original/missing.png"}},{"id":644045,"event":"return","thread_id":9160,"parent_id":644044,"elapsed":2.218398731201887e-05,"elapsed_instrumentation":0.00014581397408619523,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":644046,"event":"return","thread_id":9160,"parent_id":644041,"elapsed":0.0007562710088677704,"elapsed_instrumentation":0.00012361095286905766,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939129148 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939125ef8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939121470 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939120b88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":325520,"size":4}},{"id":644047,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":644048,"event":"return","thread_id":9160,"parent_id":644047,"elapsed":0.000435521,"elapsed_instrumentation":9.561504703015089e-05},{"id":644049,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":644050,"event":"return","thread_id":9160,"parent_id":644049,"elapsed":4.130997695028782e-06,"elapsed_instrumentation":0.0001238159602507949,"return_value":{"class":"Array","value":"[]","object_id":328300,"size":0}},{"id":644051,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":644052,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200740,"value":"#<Account:0x00007fc919ac2bc0>"}},{"id":644053,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":644054,"event":"return","thread_id":9160,"parent_id":644053,"elapsed":0.000684416,"elapsed_instrumentation":7.827801164239645e-05},{"id":644055,"event":"return","thread_id":9160,"parent_id":644052,"elapsed":0.0017352980212308466,"elapsed_instrumentation":8.28099437057972e-05},{"id":644056,"event":"return","thread_id":9160,"parent_id":644051,"elapsed":0.001896322995889932,"elapsed_instrumentation":0.0001978270011022687,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc938945850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc938942a10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855fba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855f0b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855ebb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855de40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":328320,"size":6}},{"id":644057,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":644058,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644059,"event":"return","thread_id":9160,"parent_id":644058,"elapsed":1.3648008462041616e-05,"elapsed_instrumentation":6.312690675258636e-05},{"id":644060,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":4200960,"value":"b","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":644061,"event":"return","thread_id":9160,"parent_id":644060,"elapsed":0.0003194379969500005,"elapsed_instrumentation":0.00011485599679872394,"return_value":{"class":"String","value":"b","object_id":4200980}},{"id":644062,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644063,"event":"return","thread_id":9160,"parent_id":644062,"elapsed":9.36200376600027e-06,"elapsed_instrumentation":7.141893729567528e-05},{"id":644064,"event":"return","thread_id":9160,"parent_id":644057,"elapsed":0.0007275050156749785,"elapsed_instrumentation":0.00015736802015453577,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28e78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b2b5d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323140,"size":4}},{"id":644065,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":644066,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":323320,"value":"#<UniqueUsernameValidator:0x00007fc9402767b0>"}},{"id":644067,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":644068,"event":"return","thread_id":9160,"parent_id":644067,"elapsed":0.000365751,"elapsed_instrumentation":0.0001335939741693437},{"id":644069,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'a' AND LOWER(\"accounts\".\"domain\") = 'b' LIMIT $1","database_type":"postgres"}},{"id":644070,"event":"return","thread_id":9160,"parent_id":644069,"elapsed":0.001188377,"elapsed_instrumentation":6.18520425632596e-05},{"id":644071,"event":"return","thread_id":9160,"parent_id":644066,"elapsed":0.0020647950004786253,"elapsed_instrumentation":0.00019512104336172342},{"id":644072,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644073,"event":"return","thread_id":9160,"parent_id":644072,"elapsed":8.628994692116976e-06,"elapsed_instrumentation":9.313598275184631e-05},{"id":644074,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644075,"event":"return","thread_id":9160,"parent_id":644074,"elapsed":4.196015652269125e-06,"elapsed_instrumentation":5.914899520576e-05},{"id":644076,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644077,"event":"return","thread_id":9160,"parent_id":644076,"elapsed":4.056026227772236e-06,"elapsed_instrumentation":5.780201172456145e-05},{"id":644078,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644079,"event":"return","thread_id":9160,"parent_id":644078,"elapsed":3.80899291485548e-06,"elapsed_instrumentation":4.983501276001334e-05},{"id":644080,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644081,"event":"return","thread_id":9160,"parent_id":644080,"elapsed":6.794987712055445e-06,"elapsed_instrumentation":6.396498065441847e-05},{"id":644082,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644083,"event":"return","thread_id":9160,"parent_id":644082,"elapsed":6.788002792745829e-06,"elapsed_instrumentation":8.662603795528412e-05},{"id":644084,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644085,"event":"return","thread_id":9160,"parent_id":644084,"elapsed":3.9199949242174625e-06,"elapsed_instrumentation":5.5313052143901587e-05},{"id":644086,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644087,"event":"return","thread_id":9160,"parent_id":644086,"elapsed":4.3120235204696655e-06,"elapsed_instrumentation":5.030102329328656e-05},{"id":644088,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644089,"event":"return","thread_id":9160,"parent_id":644088,"elapsed":4.2050378397107124e-06,"elapsed_instrumentation":4.7496985644102097e-05},{"id":644090,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644091,"event":"return","thread_id":9160,"parent_id":644090,"elapsed":7.351045496761799e-06,"elapsed_instrumentation":0.0001814920105971396},{"id":644092,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644093,"event":"return","thread_id":9160,"parent_id":644092,"elapsed":4.400964826345444e-06,"elapsed_instrumentation":6.787007441744208e-05},{"id":644094,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644095,"event":"return","thread_id":9160,"parent_id":644094,"elapsed":4.407018423080444e-06,"elapsed_instrumentation":5.1663024351000786e-05},{"id":644096,"event":"return","thread_id":9160,"parent_id":644065,"elapsed":0.004812853003386408,"elapsed_instrumentation":0.00019161996897310019,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939c310e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c31f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c320d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32468 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c325f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32a08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c337f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":323620,"size":71}},{"id":644097,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":644098,"event":"return","thread_id":9160,"parent_id":644097,"elapsed":3.364984877407551e-06,"elapsed_instrumentation":8.659705054014921e-05,"return_value":{"class":"Array","value":"[]","object_id":323640,"size":0}},{"id":644099,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4200920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":644100,"event":"return","thread_id":9160,"parent_id":644099,"elapsed":1.2229022104293108e-05,"elapsed_instrumentation":8.594203973188996e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28b08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323660,"size":1}},{"id":644101,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":644102,"event":"return","thread_id":9160,"parent_id":644101,"elapsed":2.4845008738338947e-05,"elapsed_instrumentation":9.29730013012886e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93912dae0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323720,"size":1}},{"id":644103,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":644104,"event":"return","thread_id":9160,"parent_id":644103,"elapsed":2.48901778832078e-06,"elapsed_instrumentation":7.267104228958488e-05,"return_value":{"class":"Array","value":"[]","object_id":323760,"size":0}},{"id":644105,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":644106,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644107,"event":"return","thread_id":9160,"parent_id":644106,"elapsed":5.918031092733145e-06,"elapsed_instrumentation":5.894596688449383e-05},{"id":644108,"event":"return","thread_id":9160,"parent_id":644105,"elapsed":9.332399349659681e-05,"elapsed_instrumentation":0.00011100299889221787,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939190c58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323820,"size":1}},{"id":644109,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":644110,"event":"return","thread_id":9160,"parent_id":644109,"elapsed":0.00131143,"elapsed_instrumentation":9.747699368745089e-05},{"id":644111,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":644112,"event":"return","thread_id":9160,"parent_id":644111,"elapsed":0.00047934899339452386,"elapsed_instrumentation":0.00025775498943403363,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93920f3f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920eea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e540 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920dff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920d140 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920c448 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920adf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":325440,"size":53}},{"id":644113,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":644114,"event":"return","thread_id":9160,"parent_id":644113,"elapsed":3.27499583363533e-06,"elapsed_instrumentation":8.81810556165874e-05,"return_value":{"class":"Array","value":"[]","object_id":325460,"size":0}},{"id":644115,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":644116,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":4201060,"value":"/avatars/original/missing.png"}},{"id":644117,"event":"return","thread_id":9160,"parent_id":644116,"elapsed":3.115501021966338e-05,"elapsed_instrumentation":0.00019240507390350103,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":644118,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":4201080,"value":"/headers/original/missing.png"}},{"id":644119,"event":"return","thread_id":9160,"parent_id":644118,"elapsed":2.4460023269057274e-05,"elapsed_instrumentation":0.0002378640347160399,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":644120,"event":"return","thread_id":9160,"parent_id":644115,"elapsed":0.0006987600354477763,"elapsed_instrumentation":0.00012004794552922249,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939129148 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939125ef8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939121470 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939120b88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":325520,"size":4}},{"id":644121,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":644122,"event":"return","thread_id":9160,"parent_id":644121,"elapsed":0.000317856,"elapsed_instrumentation":7.533904863521457e-05},{"id":644123,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":644124,"event":"return","thread_id":9160,"parent_id":644123,"elapsed":4.377972800284624e-06,"elapsed_instrumentation":0.00019504904048517346,"return_value":{"class":"Array","value":"[]","object_id":328300,"size":0}},{"id":644125,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":644126,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644127,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":644128,"event":"return","thread_id":9160,"parent_id":644127,"elapsed":0.000555415,"elapsed_instrumentation":9.233900345861912e-05},{"id":644129,"event":"call","thread_id":9160,"defined_class":"Instance","method_id":"refresh","path":"app/models/instance.rb","lineno":28,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":52400,"value":"Instance"}},{"id":644130,"event":"call","thread_id":9160,"sql_query":{"sql":"REFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";","database_type":"postgres"}},{"id":644131,"event":"return","thread_id":9160,"parent_id":644130,"elapsed":0.017324856,"elapsed_instrumentation":0.00014543399447575212},{"id":644132,"event":"return","thread_id":9160,"parent_id":644129,"elapsed":0.017885434965137392,"elapsed_instrumentation":0.00019426801009103656,"return_value":{"class":"PG::Result","value":"#<PG::Result:0x00007fc932e8b040>","object_id":4201120}},{"id":644133,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"count_unique_subdomains!","path":"app/models/concerns/domain_materializable.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644134,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":4200940,"value":"#<Account:0x00007fc919ac2580>"}},{"id":644135,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":4201140,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":4201160,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":644136,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":644137,"event":"return","thread_id":9160,"parent_id":644136,"elapsed":3.0440278351306915e-06,"elapsed_instrumentation":7.140502566471696e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":644138,"event":"return","thread_id":9160,"parent_id":644135,"elapsed":0.0010833119740709662,"elapsed_instrumentation":0.00014328700490295887,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":644139,"event":"return","thread_id":9160,"parent_id":644134,"elapsed":0.0012532739783637226,"elapsed_instrumentation":8.816900663077831e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":644140,"event":"return","thread_id":9160,"parent_id":644133,"elapsed":0.0014852939639240503,"elapsed_instrumentation":0.00011381699005141854,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":644141,"event":"return","thread_id":9160,"parent_id":644126,"elapsed":0.02151272405171767,"elapsed_instrumentation":6.0949940234422684e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":644142,"event":"return","thread_id":9160,"parent_id":644125,"elapsed":0.021788527024909854,"elapsed_instrumentation":0.00018817500676959753,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc938945850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc938942a10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855fba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855f0b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855ebb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855de40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":328320,"size":6}},{"id":644143,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":644144,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644145,"event":"return","thread_id":9160,"parent_id":644144,"elapsed":1.8392980564385653e-05,"elapsed_instrumentation":6.49699941277504e-05},{"id":644146,"event":"call","thread_id":9160,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":4201220,"value":"b","kind":"req"}],"receiver":{"class":"TagManager","object_id":521840,"value":"#<TagManager:0x00007fc93503aec0>"}},{"id":644147,"event":"return","thread_id":9160,"parent_id":644146,"elapsed":0.00018770404858514667,"elapsed_instrumentation":0.00010859296889975667,"return_value":{"class":"String","value":"b","object_id":4201240}},{"id":644148,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644149,"event":"return","thread_id":9160,"parent_id":644148,"elapsed":8.819974027574062e-06,"elapsed_instrumentation":6.340199615806341e-05},{"id":644150,"event":"return","thread_id":9160,"parent_id":644143,"elapsed":0.0005905699799768627,"elapsed_instrumentation":0.00017081497935578227,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28e78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ad0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b29ee0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939b2b5d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323140,"size":4}},{"id":644151,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":644152,"event":"call","thread_id":9160,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":323320,"value":"#<UniqueUsernameValidator:0x00007fc9402767b0>"}},{"id":644153,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":644154,"event":"return","thread_id":9160,"parent_id":644153,"elapsed":0.000648153,"elapsed_instrumentation":0.00020599603885784745},{"id":644155,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'b' AND LOWER(\"accounts\".\"domain\") = 'b' LIMIT $1","database_type":"postgres"}},{"id":644156,"event":"return","thread_id":9160,"parent_id":644155,"elapsed":0.002130754,"elapsed_instrumentation":0.00018339097732678056},{"id":644157,"event":"return","thread_id":9160,"parent_id":644152,"elapsed":0.0036514249513857067,"elapsed_instrumentation":0.00024958502035588026},{"id":644158,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644159,"event":"return","thread_id":9160,"parent_id":644158,"elapsed":1.3213022612035275e-05,"elapsed_instrumentation":0.00011907092994078994},{"id":644160,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644161,"event":"return","thread_id":9160,"parent_id":644160,"elapsed":1.3001030310988426e-05,"elapsed_instrumentation":7.188902236521244e-05},{"id":644162,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644163,"event":"return","thread_id":9160,"parent_id":644162,"elapsed":4.812958650290966e-06,"elapsed_instrumentation":7.169495802372694e-05},{"id":644164,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644165,"event":"return","thread_id":9160,"parent_id":644164,"elapsed":3.965978976339102e-06,"elapsed_instrumentation":4.913698649033904e-05},{"id":644166,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644167,"event":"return","thread_id":9160,"parent_id":644166,"elapsed":3.8000289350748062e-06,"elapsed_instrumentation":4.7438021283596754e-05},{"id":644168,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644169,"event":"return","thread_id":9160,"parent_id":644168,"elapsed":3.664987161755562e-06,"elapsed_instrumentation":4.530296428129077e-05},{"id":644170,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644171,"event":"return","thread_id":9160,"parent_id":644170,"elapsed":3.6390265449881554e-06,"elapsed_instrumentation":4.473200533539057e-05},{"id":644172,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644173,"event":"return","thread_id":9160,"parent_id":644172,"elapsed":3.958994057029486e-06,"elapsed_instrumentation":4.5114022213965654e-05},{"id":644174,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644175,"event":"return","thread_id":9160,"parent_id":644174,"elapsed":3.7650461308658123e-06,"elapsed_instrumentation":4.533497849479318e-05},{"id":644176,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644177,"event":"return","thread_id":9160,"parent_id":644176,"elapsed":3.797991666942835e-06,"elapsed_instrumentation":4.4643995352089405e-05},{"id":644178,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644179,"event":"return","thread_id":9160,"parent_id":644178,"elapsed":3.87697946280241e-06,"elapsed_instrumentation":4.3997017201036215e-05},{"id":644180,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644181,"event":"return","thread_id":9160,"parent_id":644180,"elapsed":4.133034963160753e-06,"elapsed_instrumentation":4.6639994252473116e-05},{"id":644182,"event":"return","thread_id":9160,"parent_id":644151,"elapsed":0.006905058980919421,"elapsed_instrumentation":0.00033953197998926044,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939c310e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c31f90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c320d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32468 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c325f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c32a08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33110 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c337f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939c33980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":323620,"size":71}},{"id":644183,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b330>"}},{"id":644184,"event":"return","thread_id":9160,"parent_id":644183,"elapsed":3.38495010510087e-06,"elapsed_instrumentation":9.586004307493567e-05,"return_value":{"class":"Array","value":"[]","object_id":323640,"size":0}},{"id":644185,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93822b470>"}},{"id":644186,"event":"return","thread_id":9160,"parent_id":644185,"elapsed":1.2869015336036682e-05,"elapsed_instrumentation":8.279795292764902e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939b28b08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323660,"size":1}},{"id":644187,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":644188,"event":"return","thread_id":9160,"parent_id":644187,"elapsed":2.471898915246129e-05,"elapsed_instrumentation":9.848503395915031e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93912dae0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323720,"size":1}},{"id":644189,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":644190,"event":"return","thread_id":9160,"parent_id":644189,"elapsed":2.4889595806598663e-06,"elapsed_instrumentation":6.798503454774618e-05,"return_value":{"class":"Array","value":"[]","object_id":323760,"size":0}},{"id":644191,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":644192,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644193,"event":"return","thread_id":9160,"parent_id":644192,"elapsed":5.867972504347563e-06,"elapsed_instrumentation":5.3336028940975666e-05},{"id":644194,"event":"return","thread_id":9160,"parent_id":644191,"elapsed":8.551799692213535e-05,"elapsed_instrumentation":0.00016347493510693312,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939190c58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":323820,"size":1}},{"id":644195,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":644196,"event":"return","thread_id":9160,"parent_id":644195,"elapsed":0.00139392,"elapsed_instrumentation":9.473302634432912e-05},{"id":644197,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226ec0>"}},{"id":644198,"event":"return","thread_id":9160,"parent_id":644197,"elapsed":0.0005359019851312041,"elapsed_instrumentation":0.00024386297445744276,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93920f3f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920eea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e540 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920e248 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920dff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920d140 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920c448 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920b408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93920adf0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":325440,"size":53}},{"id":644199,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938227050>"}},{"id":644200,"event":"return","thread_id":9160,"parent_id":644199,"elapsed":3.2740063033998013e-06,"elapsed_instrumentation":8.767296094447374e-05,"return_value":{"class":"Array","value":"[]","object_id":325460,"size":0}},{"id":644201,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":323700,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc938226fb0>"}},{"id":644202,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":4201320,"value":"/avatars/original/missing.png"}},{"id":644203,"event":"return","thread_id":9160,"parent_id":644202,"elapsed":0.00018819497199729085,"elapsed_instrumentation":0.00020875193877145648,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":644204,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":4201340,"value":"/headers/original/missing.png"}},{"id":644205,"event":"return","thread_id":9160,"parent_id":644204,"elapsed":2.5085988454520702e-05,"elapsed_instrumentation":0.00018478999845683575,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":644206,"event":"return","thread_id":9160,"parent_id":644201,"elapsed":0.0008374060271307826,"elapsed_instrumentation":0.000127000967040658,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc939129148 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939125ef8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939121470 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc939120b88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":325520,"size":4}},{"id":644207,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":644208,"event":"return","thread_id":9160,"parent_id":644207,"elapsed":0.000476891,"elapsed_instrumentation":7.303903112187982e-05},{"id":644209,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":644210,"event":"return","thread_id":9160,"parent_id":644209,"elapsed":3.801018465310335e-06,"elapsed_instrumentation":0.00010645901784300804,"return_value":{"class":"Array","value":"[]","object_id":328300,"size":0}},{"id":644211,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":4201360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":328280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9378db2d0>"}},{"id":644212,"event":"call","thread_id":9160,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":4201200,"value":"#<Account:0x00007fc919ac2080>"}},{"id":644213,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":644214,"event":"return","thread_id":9160,"parent_id":644213,"elapsed":0.000679294,"elapsed_instrumentation":7.6711003202945e-05},{"id":644215,"event":"return","thread_id":9160,"parent_id":644212,"elapsed":0.0015895229880698025,"elapsed_instrumentation":0.00021619495237246156},{"id":644216,"event":"return","thread_id":9160,"parent_id":644211,"elapsed":0.0018701879889704287,"elapsed_instrumentation":0.00017603801097720861,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc938945850 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc938942a10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855fba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855f0b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855ebb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93855de40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":328320,"size":6}},{"id":644217,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE (id > 0) ORDER BY \"accounts\".\"domain\" ASC, \"accounts\".\"username\" ASC","database_type":"postgres"}},{"id":644218,"event":"return","thread_id":9160,"parent_id":644217,"elapsed":0.001251649,"elapsed_instrumentation":9.069504449144006e-05}]}