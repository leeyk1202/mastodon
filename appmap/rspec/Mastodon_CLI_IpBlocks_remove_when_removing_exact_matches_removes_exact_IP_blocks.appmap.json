{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::IpBlocks #remove when removing exact matches removes exact IP blocks","source_location":"spec/lib/mastodon/cli/ip_blocks_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"IpBlocks","type":"class","children":[{"name":"remove","type":"function","location":"lib/mastodon/cli/ip_blocks.rb:72","static":false}]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":836491,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::IpBlocks","method_id":"remove","path":"lib/mastodon/cli/ip_blocks.rb","lineno":72,"static":false,"parameters":[{"name":"addresses","class":"Array","object_id":5111780,"value":"[192.0.2.1, 172.16.0.1, 192.0.2.0/24, 172.16.0.0/16, 10.0.0.0/8, 2001:0db8:85a3:0000:0000:8a2e:0370:7334, fe80::1, ::1, 2001:0db8::/32, fe80::/10 (...1 more items)]","kind":"rest","size":11}],"receiver":{"class":"Mastodon::CLI::IpBlocks","object_id":5111800,"value":"#<Mastodon::CLI::IpBlocks:0x00007fdc09732138>"}},{"id":836492,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.1') LIMIT $1","database_type":"postgres"}},{"id":836493,"event":"return","thread_id":9160,"parent_id":836492,"elapsed":0.001208283,"elapsed_instrumentation":0.00014795400784350932},{"id":836494,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836495,"event":"return","thread_id":9160,"parent_id":836494,"elapsed":0.001358495,"elapsed_instrumentation":9.868698543868959e-05},{"id":836496,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836497,"event":"return","thread_id":9160,"parent_id":836496,"elapsed":0.000890928,"elapsed_instrumentation":8.011600584723055e-05},{"id":836498,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836499,"event":"return","thread_id":9160,"parent_id":836498,"elapsed":0.000452777,"elapsed_instrumentation":8.058000821620226e-05},{"id":836500,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836501,"event":"return","thread_id":9160,"parent_id":836500,"elapsed":0.001478812,"elapsed_instrumentation":7.090999861247838e-05},{"id":836502,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836503,"event":"return","thread_id":9160,"parent_id":836502,"elapsed":0.000461623,"elapsed_instrumentation":7.271399954333901e-05},{"id":836504,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836505,"event":"return","thread_id":9160,"parent_id":836504,"elapsed":9.889976354315877e-06,"elapsed_instrumentation":0.00016337598208338022,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836506,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836507,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5111860,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836508,"event":"return","thread_id":9160,"parent_id":836507,"elapsed":0.0008977320103440434,"elapsed_instrumentation":0.0001268110063392669,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836509,"event":"return","thread_id":9160,"parent_id":836506,"elapsed":0.00117857099394314,"elapsed_instrumentation":0.00012977299047634006,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836510,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.1') LIMIT $1","database_type":"postgres"}},{"id":836511,"event":"return","thread_id":9160,"parent_id":836510,"elapsed":0.00067711,"elapsed_instrumentation":0.0002747029939200729},{"id":836512,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836513,"event":"return","thread_id":9160,"parent_id":836512,"elapsed":0.00070578,"elapsed_instrumentation":8.173700189217925e-05},{"id":836514,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836515,"event":"return","thread_id":9160,"parent_id":836514,"elapsed":0.00072718,"elapsed_instrumentation":7.448499673046172e-05},{"id":836516,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836517,"event":"return","thread_id":9160,"parent_id":836516,"elapsed":0.000472568,"elapsed_instrumentation":7.029902189970016e-05},{"id":836518,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836519,"event":"return","thread_id":9160,"parent_id":836518,"elapsed":0.001291801,"elapsed_instrumentation":0.0001599340175744146},{"id":836520,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836521,"event":"return","thread_id":9160,"parent_id":836520,"elapsed":0.000584039,"elapsed_instrumentation":8.681599865667522e-05},{"id":836522,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836523,"event":"return","thread_id":9160,"parent_id":836522,"elapsed":3.9869919419288635e-06,"elapsed_instrumentation":0.0001595210051164031,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836524,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836525,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5111920,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836526,"event":"return","thread_id":9160,"parent_id":836525,"elapsed":0.001558546005981043,"elapsed_instrumentation":0.00012323699775151908,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836527,"event":"return","thread_id":9160,"parent_id":836524,"elapsed":0.0018285319965798408,"elapsed_instrumentation":0.00011616203119046986,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836528,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.0/24') LIMIT $1","database_type":"postgres"}},{"id":836529,"event":"return","thread_id":9160,"parent_id":836528,"elapsed":0.000761254,"elapsed_instrumentation":0.0003647110133897513},{"id":836530,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.0/24') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836531,"event":"return","thread_id":9160,"parent_id":836530,"elapsed":0.000621575,"elapsed_instrumentation":7.381400791928172e-05},{"id":836532,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.0/24') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836533,"event":"return","thread_id":9160,"parent_id":836532,"elapsed":0.000599702,"elapsed_instrumentation":7.105199620127678e-05},{"id":836534,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836535,"event":"return","thread_id":9160,"parent_id":836534,"elapsed":0.000353284,"elapsed_instrumentation":7.604400161653757e-05},{"id":836536,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836537,"event":"return","thread_id":9160,"parent_id":836536,"elapsed":0.001308274,"elapsed_instrumentation":7.290398934856057e-05},{"id":836538,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836539,"event":"return","thread_id":9160,"parent_id":836538,"elapsed":0.00061366,"elapsed_instrumentation":7.081899093464017e-05},{"id":836540,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836541,"event":"return","thread_id":9160,"parent_id":836540,"elapsed":8.044997230172157e-06,"elapsed_instrumentation":0.0004966109991073608,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836542,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836543,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5111980,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836544,"event":"return","thread_id":9160,"parent_id":836543,"elapsed":0.0016851910040713847,"elapsed_instrumentation":0.00017620899598114192,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836545,"event":"return","thread_id":9160,"parent_id":836542,"elapsed":0.00206829298986122,"elapsed_instrumentation":0.0001888080150820315,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836546,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.0/16') LIMIT $1","database_type":"postgres"}},{"id":836547,"event":"return","thread_id":9160,"parent_id":836546,"elapsed":0.000886024,"elapsed_instrumentation":0.00011505599832162261},{"id":836548,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.0/16') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836549,"event":"return","thread_id":9160,"parent_id":836548,"elapsed":0.001181361,"elapsed_instrumentation":0.00010803801706060767},{"id":836550,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.0/16') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836551,"event":"return","thread_id":9160,"parent_id":836550,"elapsed":0.000942018,"elapsed_instrumentation":7.673402433283627e-05},{"id":836552,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836553,"event":"return","thread_id":9160,"parent_id":836552,"elapsed":0.000471786,"elapsed_instrumentation":7.389401434920728e-05},{"id":836554,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836555,"event":"return","thread_id":9160,"parent_id":836554,"elapsed":0.001886064,"elapsed_instrumentation":7.110601291060448e-05},{"id":836556,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836557,"event":"return","thread_id":9160,"parent_id":836556,"elapsed":0.000418503,"elapsed_instrumentation":0.00013449302059598267},{"id":836558,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836559,"event":"return","thread_id":9160,"parent_id":836558,"elapsed":4.271016223356128e-06,"elapsed_instrumentation":0.00015774797066114843,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836560,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836561,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5112040,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836562,"event":"return","thread_id":9160,"parent_id":836561,"elapsed":0.0016034269938245416,"elapsed_instrumentation":0.00012522799079306424,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836563,"event":"return","thread_id":9160,"parent_id":836560,"elapsed":0.0018834660004358739,"elapsed_instrumentation":0.0001368229859508574,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836564,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '10.0.0.0/8') LIMIT $1","database_type":"postgres"}},{"id":836565,"event":"return","thread_id":9160,"parent_id":836564,"elapsed":0.000716595,"elapsed_instrumentation":0.00011988199548795819},{"id":836566,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '10.0.0.0/8') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836567,"event":"return","thread_id":9160,"parent_id":836566,"elapsed":0.001221763,"elapsed_instrumentation":0.0002532050129957497},{"id":836568,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '10.0.0.0/8') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836569,"event":"return","thread_id":9160,"parent_id":836568,"elapsed":0.001160009,"elapsed_instrumentation":0.000152640015585348},{"id":836570,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836571,"event":"return","thread_id":9160,"parent_id":836570,"elapsed":0.000495153,"elapsed_instrumentation":0.00037555399467237294},{"id":836572,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836573,"event":"return","thread_id":9160,"parent_id":836572,"elapsed":0.001987881,"elapsed_instrumentation":0.00010982801904901862},{"id":836574,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836575,"event":"return","thread_id":9160,"parent_id":836574,"elapsed":0.000597921,"elapsed_instrumentation":0.00010822500917129219},{"id":836576,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836577,"event":"return","thread_id":9160,"parent_id":836576,"elapsed":5.523004801943898e-06,"elapsed_instrumentation":0.000452195992693305,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836578,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836579,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5112100,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836580,"event":"return","thread_id":9160,"parent_id":836579,"elapsed":0.0009479360014665872,"elapsed_instrumentation":0.00014063899288885295,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836581,"event":"return","thread_id":9160,"parent_id":836578,"elapsed":0.0012520099990069866,"elapsed_instrumentation":0.00015530199743807316,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836582,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8:85a3:0000:0000:8a2e:0370:7334') LIMIT $1","database_type":"postgres"}},{"id":836583,"event":"return","thread_id":9160,"parent_id":836582,"elapsed":0.001102577,"elapsed_instrumentation":0.00016393398982472718},{"id":836584,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8:85a3:0000:0000:8a2e:0370:7334') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836585,"event":"return","thread_id":9160,"parent_id":836584,"elapsed":0.000771602,"elapsed_instrumentation":0.00010429398389533162},{"id":836586,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8:85a3:0000:0000:8a2e:0370:7334') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836587,"event":"return","thread_id":9160,"parent_id":836586,"elapsed":0.000693618,"elapsed_instrumentation":9.488899377174675e-05},{"id":836588,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836589,"event":"return","thread_id":9160,"parent_id":836588,"elapsed":0.000747913,"elapsed_instrumentation":7.539900252595544e-05},{"id":836590,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836591,"event":"return","thread_id":9160,"parent_id":836590,"elapsed":0.001777186,"elapsed_instrumentation":6.935300189070404e-05},{"id":836592,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836593,"event":"return","thread_id":9160,"parent_id":836592,"elapsed":0.0006299,"elapsed_instrumentation":0.00017772099818103015},{"id":836594,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836595,"event":"return","thread_id":9160,"parent_id":836594,"elapsed":4.740984877571464e-06,"elapsed_instrumentation":0.0003325949946884066,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836596,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836597,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5112160,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836598,"event":"return","thread_id":9160,"parent_id":836597,"elapsed":0.0019658910168800503,"elapsed_instrumentation":0.0001587079605087638,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836599,"event":"return","thread_id":9160,"parent_id":836596,"elapsed":0.0023067409929353744,"elapsed_instrumentation":0.00014108602772466838,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836600,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= 'fe80::1') LIMIT $1","database_type":"postgres"}},{"id":836601,"event":"return","thread_id":9160,"parent_id":836600,"elapsed":0.000625472,"elapsed_instrumentation":7.416302105411887e-05},{"id":836602,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= 'fe80::1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836603,"event":"return","thread_id":9160,"parent_id":836602,"elapsed":0.000729125,"elapsed_instrumentation":7.581300451420248e-05},{"id":836604,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= 'fe80::1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836605,"event":"return","thread_id":9160,"parent_id":836604,"elapsed":0.000817792,"elapsed_instrumentation":7.626399747096002e-05},{"id":836606,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836607,"event":"return","thread_id":9160,"parent_id":836606,"elapsed":0.000668229,"elapsed_instrumentation":7.544699474237859e-05},{"id":836608,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836609,"event":"return","thread_id":9160,"parent_id":836608,"elapsed":0.001560869,"elapsed_instrumentation":6.953702541068196e-05},{"id":836610,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836611,"event":"return","thread_id":9160,"parent_id":836610,"elapsed":0.000542981,"elapsed_instrumentation":7.106398697942495e-05},{"id":836612,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836613,"event":"return","thread_id":9160,"parent_id":836612,"elapsed":3.963010385632515e-06,"elapsed_instrumentation":0.00013576800120063126,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836614,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836615,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5112220,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836616,"event":"return","thread_id":9160,"parent_id":836615,"elapsed":0.0009482369932811707,"elapsed_instrumentation":0.00011861301027238369,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836617,"event":"return","thread_id":9160,"parent_id":836614,"elapsed":0.0012059239961672574,"elapsed_instrumentation":0.00011464097769930959,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836618,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '::1') LIMIT $1","database_type":"postgres"}},{"id":836619,"event":"return","thread_id":9160,"parent_id":836618,"elapsed":0.000685257,"elapsed_instrumentation":7.52480118535459e-05},{"id":836620,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '::1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836621,"event":"return","thread_id":9160,"parent_id":836620,"elapsed":0.000604474,"elapsed_instrumentation":7.172301411628723e-05},{"id":836622,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '::1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836623,"event":"return","thread_id":9160,"parent_id":836622,"elapsed":0.000803327,"elapsed_instrumentation":7.673900108784437e-05},{"id":836624,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836625,"event":"return","thread_id":9160,"parent_id":836624,"elapsed":0.000355132,"elapsed_instrumentation":6.67950080242008e-05},{"id":836626,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836627,"event":"return","thread_id":9160,"parent_id":836626,"elapsed":0.001209,"elapsed_instrumentation":6.783101707696915e-05},{"id":836628,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836629,"event":"return","thread_id":9160,"parent_id":836628,"elapsed":0.000425053,"elapsed_instrumentation":6.893902900628746e-05},{"id":836630,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836631,"event":"return","thread_id":9160,"parent_id":836630,"elapsed":3.421999281272292e-06,"elapsed_instrumentation":0.00013213197235018015,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836632,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836633,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5112280,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836634,"event":"return","thread_id":9160,"parent_id":836633,"elapsed":0.000695898022968322,"elapsed_instrumentation":0.00011394100147299469,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836635,"event":"return","thread_id":9160,"parent_id":836632,"elapsed":0.0009424059826415032,"elapsed_instrumentation":0.00010946099064312875,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836636,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8::/32') LIMIT $1","database_type":"postgres"}},{"id":836637,"event":"return","thread_id":9160,"parent_id":836636,"elapsed":0.000511057,"elapsed_instrumentation":7.457699393853545e-05},{"id":836638,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8::/32') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836639,"event":"return","thread_id":9160,"parent_id":836638,"elapsed":0.000740614,"elapsed_instrumentation":8.237900328822434e-05},{"id":836640,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8::/32') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836641,"event":"return","thread_id":9160,"parent_id":836640,"elapsed":0.00079977,"elapsed_instrumentation":8.713401621207595e-05},{"id":836642,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836643,"event":"return","thread_id":9160,"parent_id":836642,"elapsed":0.000569131,"elapsed_instrumentation":8.195900591090322e-05},{"id":836644,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836645,"event":"return","thread_id":9160,"parent_id":836644,"elapsed":0.001542957,"elapsed_instrumentation":7.225500303320587e-05},{"id":836646,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836647,"event":"return","thread_id":9160,"parent_id":836646,"elapsed":0.000543891,"elapsed_instrumentation":7.81760027166456e-05},{"id":836648,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836649,"event":"return","thread_id":9160,"parent_id":836648,"elapsed":4.7800131142139435e-06,"elapsed_instrumentation":0.00016596799832768738,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836650,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836651,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5112340,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836652,"event":"return","thread_id":9160,"parent_id":836651,"elapsed":0.0006883720052428544,"elapsed_instrumentation":0.00019172800239175558,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836653,"event":"return","thread_id":9160,"parent_id":836650,"elapsed":0.0010986739944200963,"elapsed_instrumentation":0.00017772699357010424,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836654,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= 'fe80::/10') LIMIT $1","database_type":"postgres"}},{"id":836655,"event":"return","thread_id":9160,"parent_id":836654,"elapsed":0.000755703,"elapsed_instrumentation":0.0001089650031644851},{"id":836656,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= 'fe80::/10') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836657,"event":"return","thread_id":9160,"parent_id":836656,"elapsed":0.000785325,"elapsed_instrumentation":8.397398050874472e-05},{"id":836658,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= 'fe80::/10') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836659,"event":"return","thread_id":9160,"parent_id":836658,"elapsed":0.000747939,"elapsed_instrumentation":8.07599863037467e-05},{"id":836660,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836661,"event":"return","thread_id":9160,"parent_id":836660,"elapsed":0.000414083,"elapsed_instrumentation":7.248399197123945e-05},{"id":836662,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836663,"event":"return","thread_id":9160,"parent_id":836662,"elapsed":0.001487722,"elapsed_instrumentation":0.00018633800209499896},{"id":836664,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836665,"event":"return","thread_id":9160,"parent_id":836664,"elapsed":0.000418818,"elapsed_instrumentation":7.134801126085222e-05},{"id":836666,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836667,"event":"return","thread_id":9160,"parent_id":836666,"elapsed":3.991008270531893e-06,"elapsed_instrumentation":0.00018284900579601526,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836668,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836669,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5112400,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836670,"event":"return","thread_id":9160,"parent_id":836669,"elapsed":0.0011728100071195513,"elapsed_instrumentation":0.0001868419931270182,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836671,"event":"return","thread_id":9160,"parent_id":836668,"elapsed":0.0015719820221420377,"elapsed_instrumentation":0.00022626901045441628,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836672,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '::/128') LIMIT $1","database_type":"postgres"}},{"id":836673,"event":"return","thread_id":9160,"parent_id":836672,"elapsed":0.000723574,"elapsed_instrumentation":9.018200216814876e-05},{"id":836674,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '::/128') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836675,"event":"return","thread_id":9160,"parent_id":836674,"elapsed":0.000681753,"elapsed_instrumentation":7.41019903216511e-05},{"id":836676,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '::/128') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836677,"event":"return","thread_id":9160,"parent_id":836676,"elapsed":0.000636104,"elapsed_instrumentation":0.0002485420263838023},{"id":836678,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836679,"event":"return","thread_id":9160,"parent_id":836678,"elapsed":0.000501302,"elapsed_instrumentation":7.489899871870875e-05},{"id":836680,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836681,"event":"return","thread_id":9160,"parent_id":836680,"elapsed":0.001287499,"elapsed_instrumentation":6.587899406440556e-05},{"id":836682,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836683,"event":"return","thread_id":9160,"parent_id":836682,"elapsed":0.000431706,"elapsed_instrumentation":0.00013555100304074585},{"id":836684,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836685,"event":"return","thread_id":9160,"parent_id":836684,"elapsed":4.292989615350962e-06,"elapsed_instrumentation":0.00014445799752138555,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836686,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5112440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836687,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5112460,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836688,"event":"return","thread_id":9160,"parent_id":836687,"elapsed":0.0006929269875399768,"elapsed_instrumentation":0.0001191140036098659,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836689,"event":"return","thread_id":9160,"parent_id":836686,"elapsed":0.0009550770046189427,"elapsed_instrumentation":0.00011587599874474108,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836690,"event":"return","thread_id":9160,"parent_id":836491,"elapsed":0.12620253200293519,"elapsed_instrumentation":0.0002440169919282198,"return_value":{"class":"IO","value":"#<IO:0x00007fdc21298f60>","object_id":4113040}},{"id":836691,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) LIMIT $12","database_type":"postgres"}},{"id":836692,"event":"return","thread_id":9160,"parent_id":836691,"elapsed":0.000686445,"elapsed_instrumentation":7.603300036862493e-05}]}