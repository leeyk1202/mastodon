{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::IpBlocks #remove when removing exact matches removes exact IP blocks","source_location":"spec/lib/mastodon/cli/ip_blocks_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"IpBlocks","type":"class","children":[{"name":"remove","type":"function","location":"lib/mastodon/cli/ip_blocks.rb:72","static":false}]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":2188703,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::IpBlocks","method_id":"remove","path":"lib/mastodon/cli/ip_blocks.rb","lineno":72,"static":false,"parameters":[{"name":"addresses","class":"Array","object_id":11134240,"value":"[192.0.2.1, 172.16.0.1, 192.0.2.0/24, 172.16.0.0/16, 10.0.0.0/8, 2001:0db8:85a3:0000:0000:8a2e:0370:7334, fe80::1, ::1, 2001:0db8::/32, fe80::/10 (...1 more items)]","kind":"rest","size":11}],"receiver":{"class":"Mastodon::CLI::IpBlocks","object_id":11134260,"value":"#<Mastodon::CLI::IpBlocks:0x00007fc930d7e258>"}},{"id":2188704,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.1') LIMIT $1","database_type":"postgres"}},{"id":2188705,"event":"return","thread_id":9160,"parent_id":2188704,"elapsed":0.001071,"elapsed_instrumentation":0.00010242999996989965},{"id":2188706,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188707,"event":"return","thread_id":9160,"parent_id":2188706,"elapsed":0.000744182,"elapsed_instrumentation":0.00014786201063543558},{"id":2188708,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188709,"event":"return","thread_id":9160,"parent_id":2188708,"elapsed":0.000754578,"elapsed_instrumentation":9.560002945363522e-05},{"id":2188710,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188711,"event":"return","thread_id":9160,"parent_id":2188710,"elapsed":0.000456407,"elapsed_instrumentation":9.062897879630327e-05},{"id":2188712,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188713,"event":"return","thread_id":9160,"parent_id":2188712,"elapsed":0.001224898,"elapsed_instrumentation":7.75240478105843e-05},{"id":2188714,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188715,"event":"return","thread_id":9160,"parent_id":2188714,"elapsed":0.000361759,"elapsed_instrumentation":7.27580045349896e-05},{"id":2188716,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188717,"event":"return","thread_id":9160,"parent_id":2188716,"elapsed":5.59596810489893e-06,"elapsed_instrumentation":0.0003485459601506591,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188718,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188719,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11134320,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188720,"event":"return","thread_id":9160,"parent_id":2188719,"elapsed":0.0007033799774944782,"elapsed_instrumentation":0.00013805500930175185,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188721,"event":"return","thread_id":9160,"parent_id":2188718,"elapsed":0.0010216290247626603,"elapsed_instrumentation":0.0001607839367352426,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188722,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.1') LIMIT $1","database_type":"postgres"}},{"id":2188723,"event":"return","thread_id":9160,"parent_id":2188722,"elapsed":0.000547096,"elapsed_instrumentation":8.96220444701612e-05},{"id":2188724,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188725,"event":"return","thread_id":9160,"parent_id":2188724,"elapsed":0.000675859,"elapsed_instrumentation":7.870403351262212e-05},{"id":2188726,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188727,"event":"return","thread_id":9160,"parent_id":2188726,"elapsed":0.000649613,"elapsed_instrumentation":7.611099863424897e-05},{"id":2188728,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188729,"event":"return","thread_id":9160,"parent_id":2188728,"elapsed":0.000502203,"elapsed_instrumentation":0.0002977330004796386},{"id":2188730,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188731,"event":"return","thread_id":9160,"parent_id":2188730,"elapsed":0.001468435,"elapsed_instrumentation":7.372297113761306e-05},{"id":2188732,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188733,"event":"return","thread_id":9160,"parent_id":2188732,"elapsed":0.000470373,"elapsed_instrumentation":7.90099729783833e-05},{"id":2188734,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188735,"event":"return","thread_id":9160,"parent_id":2188734,"elapsed":5.843001417815685e-06,"elapsed_instrumentation":0.00017142598517239094,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188736,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188737,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11134380,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188738,"event":"return","thread_id":9160,"parent_id":2188737,"elapsed":0.0007851420086808503,"elapsed_instrumentation":0.00012365903239697218,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188739,"event":"return","thread_id":9160,"parent_id":2188736,"elapsed":0.0010693100048229098,"elapsed_instrumentation":0.00012246397091075778,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188740,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.0/24') LIMIT $1","database_type":"postgres"}},{"id":2188741,"event":"return","thread_id":9160,"parent_id":2188740,"elapsed":0.000710875,"elapsed_instrumentation":7.512798765674233e-05},{"id":2188742,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.0/24') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188743,"event":"return","thread_id":9160,"parent_id":2188742,"elapsed":0.000585824,"elapsed_instrumentation":0.00022258702665567398},{"id":2188744,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.0/24') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188745,"event":"return","thread_id":9160,"parent_id":2188744,"elapsed":0.000542936,"elapsed_instrumentation":7.092597661539912e-05},{"id":2188746,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188747,"event":"return","thread_id":9160,"parent_id":2188746,"elapsed":0.000371956,"elapsed_instrumentation":7.179297972470522e-05},{"id":2188748,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188749,"event":"return","thread_id":9160,"parent_id":2188748,"elapsed":0.001295404,"elapsed_instrumentation":6.90440065227449e-05},{"id":2188750,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188751,"event":"return","thread_id":9160,"parent_id":2188750,"elapsed":0.000406776,"elapsed_instrumentation":6.876297993585467e-05},{"id":2188752,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188753,"event":"return","thread_id":9160,"parent_id":2188752,"elapsed":4.684028681367636e-06,"elapsed_instrumentation":0.00012074102414771914,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188754,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188755,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11134440,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188756,"event":"return","thread_id":9160,"parent_id":2188755,"elapsed":0.0006433410453610122,"elapsed_instrumentation":0.00010525202378630638,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188757,"event":"return","thread_id":9160,"parent_id":2188754,"elapsed":0.0008814320317469537,"elapsed_instrumentation":0.00010702299186959863,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188758,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.0/16') LIMIT $1","database_type":"postgres"}},{"id":2188759,"event":"return","thread_id":9160,"parent_id":2188758,"elapsed":0.000597093,"elapsed_instrumentation":7.367099169641733e-05},{"id":2188760,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.0/16') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188761,"event":"return","thread_id":9160,"parent_id":2188760,"elapsed":0.000479806,"elapsed_instrumentation":7.011397974565625e-05},{"id":2188762,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.0/16') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188763,"event":"return","thread_id":9160,"parent_id":2188762,"elapsed":0.000751168,"elapsed_instrumentation":7.474800804629922e-05},{"id":2188764,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188765,"event":"return","thread_id":9160,"parent_id":2188764,"elapsed":0.000540513,"elapsed_instrumentation":0.00010312895756214857},{"id":2188766,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188767,"event":"return","thread_id":9160,"parent_id":2188766,"elapsed":0.001438375,"elapsed_instrumentation":7.518898928537965e-05},{"id":2188768,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188769,"event":"return","thread_id":9160,"parent_id":2188768,"elapsed":0.00041333,"elapsed_instrumentation":7.268402259796858e-05},{"id":2188770,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188771,"event":"return","thread_id":9160,"parent_id":2188770,"elapsed":4.35003312304616e-06,"elapsed_instrumentation":0.00015487999189645052,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188772,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188773,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11134500,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188774,"event":"return","thread_id":9160,"parent_id":2188773,"elapsed":0.0007481029606424272,"elapsed_instrumentation":0.00012112001422792673,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188775,"event":"return","thread_id":9160,"parent_id":2188772,"elapsed":0.0010234859655611217,"elapsed_instrumentation":0.00011148100020363927,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188776,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '10.0.0.0/8') LIMIT $1","database_type":"postgres"}},{"id":2188777,"event":"return","thread_id":9160,"parent_id":2188776,"elapsed":0.000561993,"elapsed_instrumentation":7.449998520314693e-05},{"id":2188778,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '10.0.0.0/8') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188779,"event":"return","thread_id":9160,"parent_id":2188778,"elapsed":0.000666635,"elapsed_instrumentation":7.183803245425224e-05},{"id":2188780,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '10.0.0.0/8') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188781,"event":"return","thread_id":9160,"parent_id":2188780,"elapsed":0.000531594,"elapsed_instrumentation":6.855203537270427e-05},{"id":2188782,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188783,"event":"return","thread_id":9160,"parent_id":2188782,"elapsed":0.000537912,"elapsed_instrumentation":6.842199945822358e-05},{"id":2188784,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188785,"event":"return","thread_id":9160,"parent_id":2188784,"elapsed":0.001258809,"elapsed_instrumentation":0.00017305900109931827},{"id":2188786,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188787,"event":"return","thread_id":9160,"parent_id":2188786,"elapsed":0.000404151,"elapsed_instrumentation":0.00017630698857828975},{"id":2188788,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188789,"event":"return","thread_id":9160,"parent_id":2188788,"elapsed":3.768014721572399e-06,"elapsed_instrumentation":0.0001367209479212761,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188790,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134540,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188791,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11134560,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188792,"event":"return","thread_id":9160,"parent_id":2188791,"elapsed":0.0006591450073756278,"elapsed_instrumentation":0.00013751693768426776,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188793,"event":"return","thread_id":9160,"parent_id":2188790,"elapsed":0.0009837099933065474,"elapsed_instrumentation":0.00011076102964580059,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188794,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8:85a3:0000:0000:8a2e:0370:7334') LIMIT $1","database_type":"postgres"}},{"id":2188795,"event":"return","thread_id":9160,"parent_id":2188794,"elapsed":0.000524997,"elapsed_instrumentation":7.154804188758135e-05},{"id":2188796,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8:85a3:0000:0000:8a2e:0370:7334') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188797,"event":"return","thread_id":9160,"parent_id":2188796,"elapsed":0.000715117,"elapsed_instrumentation":7.170200115069747e-05},{"id":2188798,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8:85a3:0000:0000:8a2e:0370:7334') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188799,"event":"return","thread_id":9160,"parent_id":2188798,"elapsed":0.000603242,"elapsed_instrumentation":0.00024035002570599318},{"id":2188800,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188801,"event":"return","thread_id":9160,"parent_id":2188800,"elapsed":0.000714841,"elapsed_instrumentation":0.00013251102063804865},{"id":2188802,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188803,"event":"return","thread_id":9160,"parent_id":2188802,"elapsed":0.002050535,"elapsed_instrumentation":0.00011274701682850718},{"id":2188804,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188805,"event":"return","thread_id":9160,"parent_id":2188804,"elapsed":0.000518279,"elapsed_instrumentation":8.65969923324883e-05},{"id":2188806,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188807,"event":"return","thread_id":9160,"parent_id":2188806,"elapsed":4.998000804334879e-06,"elapsed_instrumentation":0.0003339619725011289,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188808,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188809,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11134620,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188810,"event":"return","thread_id":9160,"parent_id":2188809,"elapsed":0.0007773999823257327,"elapsed_instrumentation":0.00015230203280225396,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188811,"event":"return","thread_id":9160,"parent_id":2188808,"elapsed":0.0011354440357536077,"elapsed_instrumentation":0.0001712560188025236,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188812,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= 'fe80::1') LIMIT $1","database_type":"postgres"}},{"id":2188813,"event":"return","thread_id":9160,"parent_id":2188812,"elapsed":0.000887496,"elapsed_instrumentation":8.734897710382938e-05},{"id":2188814,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= 'fe80::1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188815,"event":"return","thread_id":9160,"parent_id":2188814,"elapsed":0.000775042,"elapsed_instrumentation":8.072797209024429e-05},{"id":2188816,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= 'fe80::1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188817,"event":"return","thread_id":9160,"parent_id":2188816,"elapsed":0.000721822,"elapsed_instrumentation":7.647299207746983e-05},{"id":2188818,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188819,"event":"return","thread_id":9160,"parent_id":2188818,"elapsed":0.000622449,"elapsed_instrumentation":7.161899702623487e-05},{"id":2188820,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188821,"event":"return","thread_id":9160,"parent_id":2188820,"elapsed":0.00143039,"elapsed_instrumentation":7.28570157662034e-05},{"id":2188822,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188823,"event":"return","thread_id":9160,"parent_id":2188822,"elapsed":0.000594746,"elapsed_instrumentation":0.0001226110034622252},{"id":2188824,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188825,"event":"return","thread_id":9160,"parent_id":2188824,"elapsed":4.5869965106248856e-06,"elapsed_instrumentation":0.0001737260608933866,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188826,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134660,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188827,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11134680,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188828,"event":"return","thread_id":9160,"parent_id":2188827,"elapsed":0.0007036399911157787,"elapsed_instrumentation":0.00020776502788066864,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188829,"event":"return","thread_id":9160,"parent_id":2188826,"elapsed":0.0012153600109741092,"elapsed_instrumentation":0.00013685703743249178,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188830,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '::1') LIMIT $1","database_type":"postgres"}},{"id":2188831,"event":"return","thread_id":9160,"parent_id":2188830,"elapsed":0.00065639,"elapsed_instrumentation":7.818103767931461e-05},{"id":2188832,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '::1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188833,"event":"return","thread_id":9160,"parent_id":2188832,"elapsed":0.000611494,"elapsed_instrumentation":7.518602069467306e-05},{"id":2188834,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '::1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188835,"event":"return","thread_id":9160,"parent_id":2188834,"elapsed":0.000644905,"elapsed_instrumentation":6.925099296495318e-05},{"id":2188836,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188837,"event":"return","thread_id":9160,"parent_id":2188836,"elapsed":0.00042285,"elapsed_instrumentation":0.00015657301992177963},{"id":2188838,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188839,"event":"return","thread_id":9160,"parent_id":2188838,"elapsed":0.001333214,"elapsed_instrumentation":6.86710118316114e-05},{"id":2188840,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188841,"event":"return","thread_id":9160,"parent_id":2188840,"elapsed":0.000354059,"elapsed_instrumentation":6.72719907015562e-05},{"id":2188842,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188843,"event":"return","thread_id":9160,"parent_id":2188842,"elapsed":3.730005118995905e-06,"elapsed_instrumentation":0.0001405369257554412,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188844,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188845,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11134740,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188846,"event":"return","thread_id":9160,"parent_id":2188845,"elapsed":0.0006773979985155165,"elapsed_instrumentation":0.00028609001310542226,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188847,"event":"return","thread_id":9160,"parent_id":2188844,"elapsed":0.0012927920324727893,"elapsed_instrumentation":0.00011626695049926639,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188848,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8::/32') LIMIT $1","database_type":"postgres"}},{"id":2188849,"event":"return","thread_id":9160,"parent_id":2188848,"elapsed":0.00064885,"elapsed_instrumentation":6.833602674305439e-05},{"id":2188850,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8::/32') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188851,"event":"return","thread_id":9160,"parent_id":2188850,"elapsed":0.000600083,"elapsed_instrumentation":0.00017684197518974543},{"id":2188852,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8::/32') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188853,"event":"return","thread_id":9160,"parent_id":2188852,"elapsed":0.000561444,"elapsed_instrumentation":6.581301568076015e-05},{"id":2188854,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188855,"event":"return","thread_id":9160,"parent_id":2188854,"elapsed":0.000441275,"elapsed_instrumentation":6.995804142206907e-05},{"id":2188856,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188857,"event":"return","thread_id":9160,"parent_id":2188856,"elapsed":0.001196015,"elapsed_instrumentation":6.227899575605989e-05},{"id":2188858,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188859,"event":"return","thread_id":9160,"parent_id":2188858,"elapsed":0.000394074,"elapsed_instrumentation":6.705999840050936e-05},{"id":2188860,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188861,"event":"return","thread_id":9160,"parent_id":2188860,"elapsed":3.937981091439724e-06,"elapsed_instrumentation":0.00011775904567912221,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188862,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188863,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11134800,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188864,"event":"return","thread_id":9160,"parent_id":2188863,"elapsed":0.000671344983857125,"elapsed_instrumentation":0.0001081220107153058,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188865,"event":"return","thread_id":9160,"parent_id":2188862,"elapsed":0.0009095960413105786,"elapsed_instrumentation":0.00010489195119589567,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188866,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= 'fe80::/10') LIMIT $1","database_type":"postgres"}},{"id":2188867,"event":"return","thread_id":9160,"parent_id":2188866,"elapsed":0.000534495,"elapsed_instrumentation":7.122603710740805e-05},{"id":2188868,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= 'fe80::/10') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188869,"event":"return","thread_id":9160,"parent_id":2188868,"elapsed":0.000730289,"elapsed_instrumentation":6.69019646011293e-05},{"id":2188870,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= 'fe80::/10') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188871,"event":"return","thread_id":9160,"parent_id":2188870,"elapsed":0.000575669,"elapsed_instrumentation":6.707396823912859e-05},{"id":2188872,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188873,"event":"return","thread_id":9160,"parent_id":2188872,"elapsed":0.000505664,"elapsed_instrumentation":6.430497160181403e-05},{"id":2188874,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188875,"event":"return","thread_id":9160,"parent_id":2188874,"elapsed":0.001262335,"elapsed_instrumentation":6.763497367501259e-05},{"id":2188876,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188877,"event":"return","thread_id":9160,"parent_id":2188876,"elapsed":0.000404915,"elapsed_instrumentation":6.816803943365812e-05},{"id":2188878,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188879,"event":"return","thread_id":9160,"parent_id":2188878,"elapsed":3.794033546000719e-06,"elapsed_instrumentation":0.00011511199409142137,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188880,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188881,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11134860,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188882,"event":"return","thread_id":9160,"parent_id":2188881,"elapsed":0.0006021530134603381,"elapsed_instrumentation":0.000115760019980371,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188883,"event":"return","thread_id":9160,"parent_id":2188880,"elapsed":0.0008462959667667747,"elapsed_instrumentation":0.0002578740241006017,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188884,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '::/128') LIMIT $1","database_type":"postgres"}},{"id":2188885,"event":"return","thread_id":9160,"parent_id":2188884,"elapsed":0.000590449,"elapsed_instrumentation":7.124902913346887e-05},{"id":2188886,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '::/128') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188887,"event":"return","thread_id":9160,"parent_id":2188886,"elapsed":0.000703974,"elapsed_instrumentation":6.82630343362689e-05},{"id":2188888,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '::/128') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188889,"event":"return","thread_id":9160,"parent_id":2188888,"elapsed":0.000550873,"elapsed_instrumentation":6.757699884474277e-05},{"id":2188890,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188891,"event":"return","thread_id":9160,"parent_id":2188890,"elapsed":0.000383339,"elapsed_instrumentation":7.612298941239715e-05},{"id":2188892,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188893,"event":"return","thread_id":9160,"parent_id":2188892,"elapsed":0.001189039,"elapsed_instrumentation":7.25029967725277e-05},{"id":2188894,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188895,"event":"return","thread_id":9160,"parent_id":2188894,"elapsed":0.000445449,"elapsed_instrumentation":7.518002530559897e-05},{"id":2188896,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188897,"event":"return","thread_id":9160,"parent_id":2188896,"elapsed":5.142006557434797e-06,"elapsed_instrumentation":0.000304645043797791,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188898,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11134900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188899,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11134920,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188900,"event":"return","thread_id":9160,"parent_id":2188899,"elapsed":0.0007974070031195879,"elapsed_instrumentation":0.00015473499661311507,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188901,"event":"return","thread_id":9160,"parent_id":2188898,"elapsed":0.0011282009654678404,"elapsed_instrumentation":0.0001367590157315135,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188902,"event":"return","thread_id":9160,"parent_id":2188703,"elapsed":0.10480725695379078,"elapsed_instrumentation":0.0006224929820746183,"return_value":{"class":"IO","value":"#<IO:0x00007fc94b108f80>","object_id":195040}},{"id":2188903,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE \"ip_blocks\".\"ip\" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) LIMIT $12","database_type":"postgres"}},{"id":2188904,"event":"return","thread_id":9160,"parent_id":2188903,"elapsed":0.001434558,"elapsed_instrumentation":9.03939944691956e-05}]}