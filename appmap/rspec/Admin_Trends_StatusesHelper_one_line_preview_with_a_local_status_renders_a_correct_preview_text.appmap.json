{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::Trends::StatusesHelper .one_line_preview with a local status renders a correct preview text","source_location":"spec/helpers/admin/trends/statuses_helper_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"Random","type":"class","children":[{"name":"random_bytes","type":"function","location":"OpenSSL::Random.random_bytes","static":true,"labels":["random.secure"]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]},{"name":"Status","type":"class","children":[{"name":"local?","type":"function","location":"app/models/status.rb:188","static":false},{"name":"emojis","type":"function","location":"app/models/status.rb:262","static":false}]},{"name":"CustomEmoji","type":"class","children":[{"name":"from_text","type":"function","location":"app/models/custom_emoji.rb:78","static":true}]},{"name":"concerns","type":"package","children":[{"name":"HasUserSettings","type":"class","children":[{"name":"setting_auto_play_gif","type":"function","location":"app/models/concerns/has_user_settings.rb:22","static":false}]}]},{"name":"UserSettings","type":"class","children":[{"name":"[]","type":"function","location":"app/models/user_settings.rb:60","static":false}]},{"name":"user_settings","type":"package","children":[{"name":"UserSettings","type":"class","children":[{"name":"DSL","type":"class","children":[{"name":"ClassMethods","type":"class","children":[{"name":"definition_for","type":"function","location":"app/models/user_settings/dsl.rb:29","static":true}]}]},{"name":"Setting","type":"class","children":[{"name":"key","type":"function","location":"app/models/user_settings/setting.rb:63","static":false},{"name":"value_for","type":"function","location":"app/models/user_settings/setting.rb:18","static":false},{"name":"default_value","type":"function","location":"app/models/user_settings/setting.rb:34","static":false}]}]}]}]},{"name":"helpers","type":"package","children":[{"name":"admin/trends","type":"package","children":[{"name":"Admin","type":"class","children":[{"name":"Trends","type":"class","children":[{"name":"StatusesHelper","type":"class","children":[{"name":"one_line_preview","type":"function","location":"app/helpers/admin/trends/statuses_helper.rb:4","static":false}]}]}]}]},{"name":"ApplicationHelper","type":"class","children":[{"name":"prerender_custom_emojis","type":"function","location":"app/helpers/application_helper.rb:231","static":false}]},{"name":"StatusesHelper","type":"class","children":[{"name":"prefers_autoplay?","type":"function","location":"app/helpers/statuses_helper.rb:85","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"UserSettingsSerializer","type":"class","children":[{"name":"load","type":"function","location":"app/lib/user_settings_serializer.rb:4","static":true}]}]}]}],"events":[{"id":2186005,"event":"call","thread_id":9160,"defined_class":"OpenSSL::Random","method_id":"random_bytes","path":"OpenSSL::Random.random_bytes","static":true,"parameters":[{"name":"arg","class":"Integer","object_id":33,"value":"16","kind":"req"}],"receiver":{"class":"Module","object_id":322640,"value":"OpenSSL::Random"}},{"id":2186006,"event":"return","thread_id":9160,"parent_id":2186005,"elapsed":2.0167033653706312e-05,"elapsed_instrumentation":0.00023244600743055344,"return_value":{"class":"String","value":"C_Y;___ ______K","object_id":11108900}},{"id":2186007,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":11108920,"value":"#<Account:0x00007fc932cc7808>"}},{"id":2186008,"event":"return","thread_id":9160,"parent_id":2186007,"elapsed":1.2739968951791525e-05,"elapsed_instrumentation":0.00012691400479525328,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2186009,"event":"call","thread_id":9160,"defined_class":"Admin::Trends::StatusesHelper","method_id":"one_line_preview","path":"app/helpers/admin/trends/statuses_helper.rb","lineno":4,"static":false,"parameters":[{"name":"status","class":"Status","object_id":11108940,"value":"#<Status:0x00007fc9186cf0c8>","kind":"req"}],"receiver":{"class":"ActionView::Base","object_id":11108880,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc932cc8208>"}},{"id":2186010,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":11108940,"value":"#<Status:0x00007fc9186cf0c8>"}},{"id":2186011,"event":"return","thread_id":9160,"parent_id":2186010,"elapsed":0.0002302899956703186,"elapsed_instrumentation":7.466902025043964e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2186012,"event":"call","thread_id":9160,"defined_class":"Status","method_id":"emojis","path":"app/models/status.rb","lineno":262,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":11108940,"value":"#<Status:0x00007fc9186cf0c8>"}},{"id":2186013,"event":"call","thread_id":9160,"defined_class":"CustomEmoji","method_id":"from_text","path":"app/models/custom_emoji.rb","lineno":78,"static":true,"parameters":[{"name":"text","class":"String","object_id":11108960,"value":" Test local status","kind":"req"},{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Class","object_id":58120,"value":"CustomEmoji"}},{"id":2186014,"event":"return","thread_id":9160,"parent_id":2186013,"elapsed":1.287402119487524e-05,"elapsed_instrumentation":0.00033256300957873464,"return_value":{"class":"Array","value":"[]","object_id":11108980,"size":0}},{"id":2186015,"event":"return","thread_id":9160,"parent_id":2186012,"elapsed":0.00046240503434091806,"elapsed_instrumentation":0.00011976796668022871,"return_value":{"class":"Array","value":"[]","object_id":11108980,"size":0}},{"id":2186016,"event":"call","thread_id":9160,"defined_class":"ApplicationHelper","method_id":"prerender_custom_emojis","path":"app/helpers/application_helper.rb","lineno":231,"static":false,"parameters":[{"name":"html","class":"ActiveSupport::SafeBuffer","object_id":11109000,"value":"Test local status","kind":"req"},{"name":"custom_emojis","class":"Array","object_id":11108980,"value":"[]","kind":"req","size":0},{"name":"other_options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActionView::Base","object_id":11108880,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc932cc8208>"}},{"id":2186017,"event":"call","thread_id":9160,"defined_class":"StatusesHelper","method_id":"prefers_autoplay?","path":"app/helpers/statuses_helper.rb","lineno":85,"static":false,"parameters":[],"receiver":{"class":"ActionView::Base","object_id":11108880,"value":"#<#<Class:0x00007fc919b551f0>:0x00007fc932cc8208>"}},{"id":2186018,"event":"call","thread_id":9160,"defined_class":"HasUserSettings","method_id":"setting_auto_play_gif","path":"app/models/concerns/has_user_settings.rb","lineno":22,"static":false,"parameters":[],"receiver":{"class":"User","object_id":11109040,"value":"#<User:0x00007fc932cc7d08>"}},{"id":2186019,"event":"call","thread_id":9160,"defined_class":"UserSettingsSerializer","method_id":"load","path":"app/lib/user_settings_serializer.rb","lineno":4,"static":true,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Class","object_id":317920,"value":"UserSettingsSerializer"}},{"id":2186020,"event":"return","thread_id":9160,"parent_id":2186019,"elapsed":8.955015800893307e-06,"elapsed_instrumentation":0.0001043759984895587,"return_value":{"class":"UserSettings","value":"#<UserSettings:0x00007fc9186c5f78>","object_id":11109060}},{"id":2186021,"event":"call","thread_id":9160,"defined_class":"UserSettingsSerializer","method_id":"load","path":"app/lib/user_settings_serializer.rb","lineno":4,"static":true,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Class","object_id":317920,"value":"UserSettingsSerializer"}},{"id":2186022,"event":"return","thread_id":9160,"parent_id":2186021,"elapsed":4.047004040330648e-06,"elapsed_instrumentation":7.760495645925403e-05,"return_value":{"class":"UserSettings","value":"#<UserSettings:0x00007fc9186c5370>","object_id":11109080}},{"id":2186023,"event":"call","thread_id":9160,"defined_class":"UserSettings","method_id":"[]","path":"app/models/user_settings.rb","lineno":60,"static":false,"parameters":[{"name":"key","class":"String","object_id":891620,"value":"web.auto_play","kind":"req"}],"receiver":{"class":"UserSettings","object_id":11109080,"value":"#<UserSettings:0x00007fc9186c5370>"}},{"id":2186024,"event":"call","thread_id":9160,"defined_class":"UserSettings::DSL::ClassMethods","method_id":"definition_for","path":"app/models/user_settings/dsl.rb","lineno":29,"static":true,"parameters":[{"name":"key","class":"String","object_id":891620,"value":"web.auto_play","kind":"req"}],"receiver":{"class":"Class","object_id":62260,"value":"UserSettings"}},{"id":2186025,"event":"return","thread_id":9160,"parent_id":2186024,"elapsed":7.949944119900465e-06,"elapsed_instrumentation":0.00018129596719518304,"return_value":{"class":"UserSettings::Setting","value":"#<UserSettings::Setting:0x00007fc9390c7358>","object_id":891640}},{"id":2186026,"event":"call","thread_id":9160,"defined_class":"UserSettings::Setting","method_id":"key","path":"app/models/user_settings/setting.rb","lineno":63,"static":false,"parameters":[],"receiver":{"class":"UserSettings::Setting","object_id":891640,"value":"#<UserSettings::Setting:0x00007fc9390c7358>"}},{"id":2186027,"event":"return","thread_id":9160,"parent_id":2186026,"elapsed":7.905007805675268e-06,"elapsed_instrumentation":7.103197276592255e-05,"return_value":{"class":"Symbol","value":":web.auto_play","object_id":891660}},{"id":2186028,"event":"call","thread_id":9160,"defined_class":"UserSettings::Setting","method_id":"value_for","path":"app/models/user_settings/setting.rb","lineno":18,"static":false,"parameters":[{"name":"name","class":"String","object_id":891620,"value":"web.auto_play","kind":"req"},{"name":"original_value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"UserSettings::Setting","object_id":891640,"value":"#<UserSettings::Setting:0x00007fc9390c7358>"}},{"id":2186029,"event":"call","thread_id":9160,"defined_class":"UserSettings::Setting","method_id":"default_value","path":"app/models/user_settings/setting.rb","lineno":34,"static":false,"parameters":[],"receiver":{"class":"UserSettings::Setting","object_id":891640,"value":"#<UserSettings::Setting:0x00007fc9390c7358>"}},{"id":2186030,"event":"return","thread_id":9160,"parent_id":2186029,"elapsed":5.869020242244005e-06,"elapsed_instrumentation":4.935602191835642e-05},{"id":2186031,"event":"return","thread_id":9160,"parent_id":2186028,"elapsed":7.464800728484988e-05,"elapsed_instrumentation":7.188000017777085e-05},{"id":2186032,"event":"return","thread_id":9160,"parent_id":2186023,"elapsed":0.0006620499771088362,"elapsed_instrumentation":6.457103881984949e-05},{"id":2186033,"event":"return","thread_id":9160,"parent_id":2186018,"elapsed":0.0009940100135281682,"elapsed_instrumentation":0.00011982105206698179},{"id":2186034,"event":"return","thread_id":9160,"parent_id":2186017,"elapsed":0.0014588310150429606,"elapsed_instrumentation":6.548198871314526e-05},{"id":2186035,"event":"return","thread_id":9160,"parent_id":2186016,"elapsed":0.0015625989763066173,"elapsed_instrumentation":0.00027186900842934847,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"Test local status","object_id":11109000}},{"id":2186036,"event":"return","thread_id":9160,"parent_id":2186009,"elapsed":0.002870298980269581,"elapsed_instrumentation":0.00014438503421843052,"return_value":{"class":"ActiveSupport::SafeBuffer","value":"Test local status","object_id":11109000}}]}