{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Admin::Metrics::Measure::TagServersMeasure #data runs data query without error","source_location":"spec/lib/admin/metrics/measure/tag_servers_measure_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app/lib/admin/metrics/measure","type":"package","children":[{"name":"Admin","type":"class","children":[{"name":"Metrics","type":"class","children":[{"name":"Measure","type":"class","children":[{"name":"BaseMeasure","type":"class","children":[{"name":"data","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:45","static":false},{"name":"load","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:59","static":false},{"name":"cache_key","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:21","static":false},{"name":"canonicalized_params","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:104","static":false},{"name":"perform_queries","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:68","static":false},{"name":"length_of_period","type":"function","location":"app/lib/admin/metrics/measure/base_measure.rb:96","static":false}]},{"name":"TagServersMeasure","type":"class","children":[{"name":"key","type":"function","location":"app/lib/admin/metrics/measure/tag_servers_measure.rb:10","static":false},{"name":"params","type":"function","location":"app/lib/admin/metrics/measure/tag_servers_measure.rb:57","static":false},{"name":"perform_total_query","type":"function","location":"app/lib/admin/metrics/measure/tag_servers_measure.rb:16","static":false},{"name":"tag","type":"function","location":"app/lib/admin/metrics/measure/tag_servers_measure.rb:53","static":false},{"name":"perform_previous_total_query","type":"function","location":"app/lib/admin/metrics/measure/tag_servers_measure.rb:20","static":false},{"name":"sql_array","type":"function","location":"app/lib/admin/metrics/measure/tag_servers_measure.rb:24","static":false},{"name":"sql_query_string","type":"function","location":"app/lib/admin/metrics/measure/tag_servers_measure.rb:28","static":false},{"name":"earliest_status_id","type":"function","location":"app/lib/admin/metrics/measure/tag_servers_measure.rb:45","static":false},{"name":"latest_status_id","type":"function","location":"app/lib/admin/metrics/measure/tag_servers_measure.rb:49","static":false}]},{"name":"QueryHelper","type":"class","children":[{"name":"perform_data_query","type":"function","location":"app/lib/admin/metrics/measure/query_helper.rb:6","static":false},{"name":"measurement_data_rows","type":"function","location":"app/lib/admin/metrics/measure/query_helper.rb:10","static":false},{"name":"sanitized_sql_string","type":"function","location":"app/lib/admin/metrics/measure/query_helper.rb:14","static":false}]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"lib/mastodon","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"Snowflake","type":"class","children":[{"name":"id_at","type":"function","location":"lib/mastodon/snowflake.rb:99","static":true}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Marshal","type":"class","children":[{"name":"dump","type":"function","location":"Marshal.dump","static":true,"labels":["serialize"]}]}]}],"events":[{"id":1274378,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"data","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274379,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"load","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":59,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274380,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"cache_key","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":21,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274381,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::TagServersMeasure","method_id":"key","path":"app/lib/admin/metrics/measure/tag_servers_measure.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274382,"event":"return","thread_id":9160,"parent_id":1274381,"elapsed":3.4370168577879667e-06,"elapsed_instrumentation":0.0001671559875831008,"return_value":{"class":"String","value":"tag_servers","object_id":7043800}},{"id":1274383,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"canonicalized_params","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":104,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274384,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::TagServersMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/tag_servers_measure.rb","lineno":57,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274385,"event":"return","thread_id":9160,"parent_id":1274384,"elapsed":8.495498332194984e-05,"elapsed_instrumentation":0.00027111300732940435,"return_value":{"class":"ActionController::Parameters","value":"{\"id\"=>95}","object_id":7043820}},{"id":1274386,"event":"return","thread_id":9160,"parent_id":1274383,"elapsed":0.000425592006649822,"elapsed_instrumentation":0.0008433790062554181,"return_value":{"class":"String","value":"id=95","object_id":7043840}},{"id":1274387,"event":"return","thread_id":9160,"parent_id":1274380,"elapsed":0.001510710979346186,"elapsed_instrumentation":0.00012537901056930423,"return_value":{"class":"String","value":"metrics/measure/tag_servers;2023-11-03T23:21:37+00:00;2023-11-05T23:21:37+00:00;id=95","object_id":7043860}},{"id":1274388,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":7043880,"value":"Cache read: metrics/measure/tag_servers;2023-11-03T23:21:37+00:00;2023-11-05T23:21:37+00:00;id=95 ({ (...70 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1274389,"event":"return","thread_id":9160,"parent_id":1274388,"elapsed":0.0019707829924300313,"elapsed_instrumentation":0.00022139601060189307,"return_value":{"class":"Integer","value":"170","object_id":341}},{"id":1274390,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":7043900,"value":"Cache generate: metrics/measure/tag_servers;2023-11-03T23:21:37+00:00;2023-11-05T23:21:37+00:00;id=9 (...74 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1274391,"event":"return","thread_id":9160,"parent_id":1274390,"elapsed":0.001698257983662188,"elapsed_instrumentation":0.00022671700571663678,"return_value":{"class":"Integer","value":"174","object_id":349}},{"id":1274392,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"perform_queries","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":68,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274393,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::TagServersMeasure","method_id":"perform_total_query","path":"app/lib/admin/metrics/measure/tag_servers_measure.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274394,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::TagServersMeasure","method_id":"tag","path":"app/lib/admin/metrics/measure/tag_servers_measure.rb","lineno":53,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274395,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::TagServersMeasure","method_id":"params","path":"app/lib/admin/metrics/measure/tag_servers_measure.rb","lineno":57,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274396,"event":"return","thread_id":9160,"parent_id":1274395,"elapsed":0.00035218000994063914,"elapsed_instrumentation":0.00019516400061547756,"return_value":{"class":"ActionController::Parameters","value":"{\"id\"=>95}","object_id":7043920}},{"id":1274397,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"tags\".* FROM \"tags\" WHERE \"tags\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1274398,"event":"return","thread_id":9160,"parent_id":1274397,"elapsed":0.001195931,"elapsed_instrumentation":0.00015097198775038123},{"id":1274399,"event":"return","thread_id":9160,"parent_id":1274394,"elapsed":0.0033008509781211615,"elapsed_instrumentation":0.00042738500633277,"return_value":{"class":"Tag","value":"#<Tag:0x00007fdc062f4100>","object_id":7043940}},{"id":1274400,"event":"call","thread_id":9160,"defined_class":"Mastodon::Snowflake","method_id":"id_at","path":"lib/mastodon/snowflake.rb","lineno":99,"static":true,"parameters":[{"name":"timestamp","class":"DateTime","object_id":7043960,"value":"2023-11-03T23:21:37+00:00","kind":"req"},{"name":"with_random","class":"FalseClass","object_id":0,"value":"false","kind":"key"}],"receiver":{"class":"Module","object_id":784920,"value":"Mastodon::Snowflake"}},{"id":1274401,"event":"return","thread_id":9160,"parent_id":1274400,"elapsed":3.641098737716675e-05,"elapsed_instrumentation":0.00023331301053985953,"return_value":{"class":"Integer","value":"111349183086592000","object_id":222698366173184001}},{"id":1274402,"event":"call","thread_id":9160,"defined_class":"Mastodon::Snowflake","method_id":"id_at","path":"lib/mastodon/snowflake.rb","lineno":99,"static":true,"parameters":[{"name":"timestamp","class":"DateTime","object_id":7043980,"value":"2023-11-05T23:21:37+00:00","kind":"req"},{"name":"with_random","class":"FalseClass","object_id":0,"value":"false","kind":"key"}],"receiver":{"class":"Module","object_id":784920,"value":"Mastodon::Snowflake"}},{"id":1274403,"event":"return","thread_id":9160,"parent_id":1274402,"elapsed":1.7551996279507875e-05,"elapsed_instrumentation":0.00045728599070571363,"return_value":{"class":"Integer","value":"111360507707392000","object_id":222721015414784001}},{"id":1274404,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(distinct accounts.domain) FROM \"statuses\" INNER JOIN \"statuses_tags\" ON \"statuses\".\"id\" = \"statuses_tags\".\"status_id\" INNER JOIN \"accounts\" ON \"accounts\".\"id\" = \"statuses\".\"account_id\" WHERE \"statuses\".\"deleted_at\" IS NULL AND \"statuses_tags\".\"tag_id\" = $1 AND (statuses.id BETWEEN 111349183086592000 AND 111360507707392000)","database_type":"postgres"}},{"id":1274405,"event":"return","thread_id":9160,"parent_id":1274404,"elapsed":0.002402981,"elapsed_instrumentation":0.00012174301082268357},{"id":1274406,"event":"return","thread_id":9160,"parent_id":1274393,"elapsed":0.011547934002010152,"elapsed_instrumentation":0.0002129219938069582,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1274407,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::TagServersMeasure","method_id":"perform_previous_total_query","path":"app/lib/admin/metrics/measure/tag_servers_measure.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274408,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::TagServersMeasure","method_id":"tag","path":"app/lib/admin/metrics/measure/tag_servers_measure.rb","lineno":53,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274409,"event":"return","thread_id":9160,"parent_id":1274408,"elapsed":5.1270180847495794e-06,"elapsed_instrumentation":0.00012300399248488247,"return_value":{"class":"Tag","value":"#<Tag:0x00007fdc062f4100>","object_id":7043940}},{"id":1274410,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"length_of_period","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":96,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274411,"event":"return","thread_id":9160,"parent_id":1274410,"elapsed":2.9479997465386987e-05,"elapsed_instrumentation":0.0003692829923238605,"return_value":{"class":"Rational","value":"28800000034253/14400000000000","object_id":7044000}},{"id":1274412,"event":"call","thread_id":9160,"defined_class":"Mastodon::Snowflake","method_id":"id_at","path":"lib/mastodon/snowflake.rb","lineno":99,"static":true,"parameters":[{"name":"timestamp","class":"DateTime","object_id":7044020,"value":"2023-11-01T23:21:37+00:00","kind":"req"},{"name":"with_random","class":"FalseClass","object_id":0,"value":"false","kind":"key"}],"receiver":{"class":"Module","object_id":784920,"value":"Mastodon::Snowflake"}},{"id":1274413,"event":"return","thread_id":9160,"parent_id":1274412,"elapsed":2.580098225735128e-05,"elapsed_instrumentation":0.0005440080130938441,"return_value":{"class":"Integer","value":"111337858465792000","object_id":222675716931584001}},{"id":1274414,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::BaseMeasure","method_id":"length_of_period","path":"app/lib/admin/metrics/measure/base_measure.rb","lineno":96,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274415,"event":"return","thread_id":9160,"parent_id":1274414,"elapsed":5.83200016990304e-06,"elapsed_instrumentation":0.00019474999862723053,"return_value":{"class":"Rational","value":"28800000034253/14400000000000","object_id":7044000}},{"id":1274416,"event":"call","thread_id":9160,"defined_class":"Mastodon::Snowflake","method_id":"id_at","path":"lib/mastodon/snowflake.rb","lineno":99,"static":true,"parameters":[{"name":"timestamp","class":"DateTime","object_id":7044040,"value":"2023-11-03T23:21:37+00:00","kind":"req"},{"name":"with_random","class":"FalseClass","object_id":0,"value":"false","kind":"key"}],"receiver":{"class":"Module","object_id":784920,"value":"Mastodon::Snowflake"}},{"id":1274417,"event":"return","thread_id":9160,"parent_id":1274416,"elapsed":1.1811003787443042e-05,"elapsed_instrumentation":0.0001763050095178187,"return_value":{"class":"Integer","value":"111349183086592000","object_id":222698366173184001}},{"id":1274418,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(distinct accounts.domain) FROM \"statuses\" INNER JOIN \"statuses_tags\" ON \"statuses\".\"id\" = \"statuses_tags\".\"status_id\" INNER JOIN \"accounts\" ON \"accounts\".\"id\" = \"statuses\".\"account_id\" WHERE \"statuses\".\"deleted_at\" IS NULL AND \"statuses_tags\".\"tag_id\" = $1 AND (statuses.id BETWEEN 111337858465792000 AND 111349183086592000)","database_type":"postgres"}},{"id":1274419,"event":"return","thread_id":9160,"parent_id":1274418,"elapsed":0.00221051,"elapsed_instrumentation":0.0001397840096615255},{"id":1274420,"event":"return","thread_id":9160,"parent_id":1274407,"elapsed":0.01128902699565515,"elapsed_instrumentation":0.00018914102111011744,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1274421,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::QueryHelper","method_id":"perform_data_query","path":"app/lib/admin/metrics/measure/query_helper.rb","lineno":6,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274422,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::QueryHelper","method_id":"measurement_data_rows","path":"app/lib/admin/metrics/measure/query_helper.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274423,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::QueryHelper","method_id":"sanitized_sql_string","path":"app/lib/admin/metrics/measure/query_helper.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274424,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::TagServersMeasure","method_id":"sql_array","path":"app/lib/admin/metrics/measure/tag_servers_measure.rb","lineno":24,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274425,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::TagServersMeasure","method_id":"sql_query_string","path":"app/lib/admin/metrics/measure/tag_servers_measure.rb","lineno":28,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274426,"event":"return","thread_id":9160,"parent_id":1274425,"elapsed":0.0001295609981752932,"elapsed_instrumentation":0.00029553097556345165,"return_value":{"class":"String","value":"SELECT axis.*, ( SELECT count(distinct accounts.domain) AS value FROM statuses INNER JOIN statuses_t (...426 more characters)","object_id":7044060}},{"id":1274427,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::TagServersMeasure","method_id":"tag","path":"app/lib/admin/metrics/measure/tag_servers_measure.rb","lineno":53,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274428,"event":"return","thread_id":9160,"parent_id":1274427,"elapsed":3.410998033359647e-06,"elapsed_instrumentation":0.0001234860101249069,"return_value":{"class":"Tag","value":"#<Tag:0x00007fdc062f4100>","object_id":7043940}},{"id":1274429,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::TagServersMeasure","method_id":"earliest_status_id","path":"app/lib/admin/metrics/measure/tag_servers_measure.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274430,"event":"call","thread_id":9160,"defined_class":"Mastodon::Snowflake","method_id":"id_at","path":"lib/mastodon/snowflake.rb","lineno":99,"static":true,"parameters":[{"name":"timestamp","class":"DateTime","object_id":7043960,"value":"2023-11-03T23:21:37+00:00","kind":"req"},{"name":"with_random","class":"FalseClass","object_id":0,"value":"false","kind":"key"}],"receiver":{"class":"Module","object_id":784920,"value":"Mastodon::Snowflake"}},{"id":1274431,"event":"return","thread_id":9160,"parent_id":1274430,"elapsed":1.936600892804563e-05,"elapsed_instrumentation":0.00016948298434726894,"return_value":{"class":"Integer","value":"111349183086592000","object_id":222698366173184001}},{"id":1274432,"event":"return","thread_id":9160,"parent_id":1274429,"elapsed":0.00022000801982358098,"elapsed_instrumentation":9.092997061088681e-05,"return_value":{"class":"Integer","value":"111349183086592000","object_id":222698366173184001}},{"id":1274433,"event":"call","thread_id":9160,"defined_class":"Admin::Metrics::Measure::TagServersMeasure","method_id":"latest_status_id","path":"app/lib/admin/metrics/measure/tag_servers_measure.rb","lineno":49,"static":false,"parameters":[],"receiver":{"class":"Admin::Metrics::Measure::TagServersMeasure","object_id":7043780,"value":"#<Admin::Metrics::Measure::TagServersMeasure:0x00007fdc07725160>"}},{"id":1274434,"event":"call","thread_id":9160,"defined_class":"Mastodon::Snowflake","method_id":"id_at","path":"lib/mastodon/snowflake.rb","lineno":99,"static":true,"parameters":[{"name":"timestamp","class":"DateTime","object_id":7043980,"value":"2023-11-05T23:21:37+00:00","kind":"req"},{"name":"with_random","class":"FalseClass","object_id":0,"value":"false","kind":"key"}],"receiver":{"class":"Module","object_id":784920,"value":"Mastodon::Snowflake"}},{"id":1274435,"event":"return","thread_id":9160,"parent_id":1274434,"elapsed":1.7058016965165734e-05,"elapsed_instrumentation":0.00017394698807038367,"return_value":{"class":"Integer","value":"111360507707392000","object_id":222721015414784001}},{"id":1274436,"event":"return","thread_id":9160,"parent_id":1274433,"elapsed":0.00022842400358058512,"elapsed_instrumentation":0.00032938201911747456,"return_value":{"class":"Integer","value":"111360507707392000","object_id":222721015414784001}},{"id":1274437,"event":"return","thread_id":9160,"parent_id":1274424,"elapsed":0.0015354840143118054,"elapsed_instrumentation":0.00028206498245708644,"return_value":{"class":"Array","value":"[SELECT axis.*, ( SELECT count(distinct accounts.domain) AS value FROM statuses INNER JOIN statuses_t (...426 more characters), {:start_at=>2023-11-03T23:21:37+00:00, :end_at=>2023-11-05T23:21:37+00:00, :tag_id=>95, :earliest_status_id=>111349183086592000, :latest_status_id=>111360507707392000}]","object_id":7044080,"size":2}},{"id":1274438,"event":"return","thread_id":9160,"parent_id":1274423,"elapsed":0.002056412980891764,"elapsed_instrumentation":9.980800678022206e-05,"return_value":{"class":"String","value":"SELECT axis.*, ( SELECT count(distinct accounts.domain) AS value FROM statuses INNER JOIN statuses_t (...461 more characters)","object_id":7044100}},{"id":1274439,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT axis.*, ( SELECT count(distinct accounts.domain) AS value FROM statuses INNER JOIN statuses_tags ON statuses.id = statuses_tags.status_id INNER JOIN accounts ON statuses.account_id = accounts.id WHERE statuses_tags.tag_id = 95 AND statuses.id BETWEEN 111349183086592000 AND 111360507707392000 AND date_trunc('day', statuses.created_at)::date = axis.day ) FROM ( SELECT generate_series(date_trunc('day', '2023-11-03 23:21:37.867201'::timestamp)::date, date_trunc('day', '2023-11-05 23:21:37.867406'::timestamp)::date, ('1 day')::interval) AS day ) as axis","database_type":"postgres"}},{"id":1274440,"event":"return","thread_id":9160,"parent_id":1274439,"elapsed":0.002357446,"elapsed_instrumentation":0.00017404500977136195},{"id":1274441,"event":"return","thread_id":9160,"parent_id":1274422,"elapsed":0.005652315012412146,"elapsed_instrumentation":0.00015968599473126233,"return_value":{"class":"ActiveRecord::Result","value":"#<ActiveRecord::Result:0x00007fdc07721600>","object_id":7044120}},{"id":1274442,"event":"return","thread_id":9160,"parent_id":1274421,"elapsed":0.005883930018171668,"elapsed_instrumentation":0.0005343850061763078,"return_value":{"class":"Array","value":"[{:date=>, :value=>0}, {:date=>, :value=>0}, {:date=>, :value=>0}]","object_id":7044140,"size":3}},{"id":1274443,"event":"return","thread_id":9160,"parent_id":1274392,"elapsed":0.029994258016813546,"elapsed_instrumentation":0.00027391398907639086,"return_value":{"class":"Hash","value":"{:total=>0, :previous_total=>0, :data=>[{:date=>, :value=>0}, {:date=>, :value=>0}, {:date=>, :value=>0}]}","object_id":7044160,"size":3}},{"id":1274444,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":7044180,"value":"Cache write: metrics/measure/tag_servers;2023-11-03T23:21:37+00:00;2023-11-05T23:21:37+00:00;id=95 ( (...71 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1274445,"event":"return","thread_id":9160,"parent_id":1274444,"elapsed":0.0011580239806789905,"elapsed_instrumentation":0.0005983210285194218,"return_value":{"class":"Integer","value":"171","object_id":343}},{"id":1274446,"event":"call","thread_id":9160,"defined_class":"Marshal","method_id":"dump","path":"Marshal.dump","static":true,"parameters":[{"name":"arg","class":"Array","object_id":7044200,"value":"[{:total=>0, :previous_total=>0, :data=>[{:date=>, :value=>0}, {:date=>, :value=>0}, {:date=>, :value=>0}]}]","kind":"rest","size":1}],"receiver":{"class":"Module","object_id":209120,"value":"Marshal"}},{"id":1274447,"event":"return","thread_id":9160,"parent_id":1274446,"elapsed":2.411298919469118e-05,"elapsed_instrumentation":0.0005409900040831417,"return_value":{"class":"String","value":"\u0004\b{\b:\ntotali\u0000:\u0013previous_totali\u0000:\tdata[\b{\u0007:\tdate0:\nvalueI\"\u00060\u0006:\u0006EF{\u0007;\b0;\tI\"\u00060\u0006;\nF{\u0007;\b0;\tI\"\u00060\u0006;\nF","object_id":7044220}},{"id":1274448,"event":"return","thread_id":9160,"parent_id":1274379,"elapsed":0.039347938989521936,"elapsed_instrumentation":0.0004459609917830676,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{total=>0, previous_total=>0, data=>[{date=>, value=>0}, {date=>, value=>0}, {date=>, value=>0}]}","object_id":7044240,"size":3}},{"id":1274449,"event":"return","thread_id":9160,"parent_id":1274378,"elapsed":0.03983229098957963,"elapsed_instrumentation":0.0002755239838734269,"return_value":{"class":"Array","value":"[{date=>, value=>0}, {date=>, value=>0}, {date=>, value=>0}]","object_id":7044260,"size":3}}]}