{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"The site_upload factory is valid","source_location":"spec/fabrication/fabricators_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib","type":"package","children":[{"name":"paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"assign_attributes","type":"function","location":"lib/paperclip/attachment_extensions.rb:54","static":false},{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false},{"name":"storage_schema_version","type":"function","location":"lib/paperclip/attachment_extensions.rb:50","static":false}]},{"name":"MediaTypeSpoofDetectorExtensions","type":"class","children":[{"name":"calculated_content_type","type":"function","location":"lib/paperclip/media_type_spoof_detector_extensions.rb:7","static":false}]}]}]},{"name":"terrapin","type":"package","children":[{"name":"Terrapin","type":"class","children":[{"name":"MultiPipeExtensions","type":"class","children":[{"name":"pipe_options","type":"function","location":"lib/terrapin/multi_pipe_extensions.rb:14","static":false},{"name":"read","type":"function","location":"lib/terrapin/multi_pipe_extensions.rb:19","static":false}]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]},{"name":"app/models","type":"package","children":[{"name":"SiteUpload","type":"class","children":[{"name":"cache_key","type":"function","location":"app/models/site_upload.rb:53","static":false}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":1394605,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"assign_attributes","path":"lib/paperclip/attachment_extensions.rb","lineno":54,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":7970260,"value":"/files/original/missing.png"}},{"id":1394606,"event":"return","thread_id":9160,"parent_id":1394605,"elapsed":0.0001378940069116652,"elapsed_instrumentation":0.00031897902954369783},{"id":1394607,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7970300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":1394608,"event":"return","thread_id":9160,"parent_id":1394607,"elapsed":1.952995080500841e-05,"elapsed_instrumentation":0.00012948800576850772,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":1394609,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7970320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":7631820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930cfdb80>"}},{"id":1394610,"event":"call","thread_id":9160,"defined_class":"Paperclip::MediaTypeSpoofDetectorExtensions","method_id":"calculated_content_type","path":"lib/paperclip/media_type_spoof_detector_extensions.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"Paperclip::MediaTypeSpoofDetector","object_id":7970340,"value":"#<Paperclip::MediaTypeSpoofDetector:0x00007fc931dfeb00>"}},{"id":1394611,"event":"call","thread_id":9160,"defined_class":"Terrapin::MultiPipeExtensions","method_id":"pipe_options","path":"lib/terrapin/multi_pipe_extensions.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Terrapin::CommandLine::MultiPipe","object_id":7970360,"value":"#<Terrapin::CommandLine::MultiPipe:0x00007fc931dfe920>"}},{"id":1394612,"event":"return","thread_id":9160,"parent_id":1394611,"elapsed":6.1889877542853355e-06,"elapsed_instrumentation":0.00014107301831245422,"return_value":{"class":"Hash","value":"{:out=>#<IO:0x00007fc9185cfce0>, :err=>#<IO:0x00007fc9185cfc68>, #<IO:0x00007fc9185cfd08>=>:close, #<IO:0x00007fc9185cfc90>=>:close}","object_id":7970420,"size":4}},{"id":1394613,"event":"call","thread_id":9160,"defined_class":"Terrapin::MultiPipeExtensions","method_id":"read","path":"lib/terrapin/multi_pipe_extensions.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Terrapin::CommandLine::MultiPipe","object_id":7970360,"value":"#<Terrapin::CommandLine::MultiPipe:0x00007fc931dfe920>"}},{"id":1394614,"event":"return","thread_id":9160,"parent_id":1394613,"elapsed":0.004563505994156003,"elapsed_instrumentation":0.00017067696899175644},{"id":1394615,"event":"return","thread_id":9160,"parent_id":1394610,"elapsed":0.0059587639989331365,"elapsed_instrumentation":0.00012885197065770626,"return_value":{"class":"String","value":"image/png","object_id":7970440}},{"id":1394616,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1394617,"event":"return","thread_id":9160,"parent_id":1394616,"elapsed":0.000397338,"elapsed_instrumentation":0.0001018639886751771},{"id":1394618,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"site_uploads\" WHERE \"site_uploads\".\"var\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1394619,"event":"return","thread_id":9160,"parent_id":1394618,"elapsed":0.001497752,"elapsed_instrumentation":8.006300777196884e-05},{"id":1394620,"event":"return","thread_id":9160,"parent_id":1394609,"elapsed":0.009613165981136262,"elapsed_instrumentation":0.00018260203069075942,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931fc2ba8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931fc2f18 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931fc3328 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931fc3620 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931fc3968 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931fc3b48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931fc3d50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":7631960,"size":7}},{"id":1394621,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7970320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":7631820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930cfdb80>"}},{"id":1394622,"event":"return","thread_id":9160,"parent_id":1394621,"elapsed":4.2199972085654736e-06,"elapsed_instrumentation":0.00010992801981046796,"return_value":{"class":"Array","value":"[]","object_id":7631980,"size":0}},{"id":1394623,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7970300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":1394624,"event":"return","thread_id":9160,"parent_id":1394623,"elapsed":2.749962732195854e-06,"elapsed_instrumentation":7.159204687923193e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}},{"id":1394625,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7970460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":7632020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930cfc7d0>"}},{"id":1394626,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":6832860,"value":"NN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":7970480,"value":"\u0000\u0000\u0004\u0000\u0000\u0000\u0002_\b"}},{"id":1394627,"event":"return","thread_id":9160,"parent_id":1394626,"elapsed":5.114998202770948e-06,"elapsed_instrumentation":0.00012333702761679888,"return_value":{"class":"Array","value":"[1024, 678]","object_id":7970500,"size":2}},{"id":1394628,"event":"return","thread_id":9160,"parent_id":1394625,"elapsed":0.00045409996528178453,"elapsed_instrumentation":0.00010464404476806521,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931f433a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":7632080,"size":1}},{"id":1394629,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":7970520,"value":"{:width=>1024, :height=>678}","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":7970540,"value":"#<JSON::Ext::Generator::State:0x00007fc9185c5fd8>"}},{"id":1394630,"event":"return","thread_id":9160,"parent_id":1394629,"elapsed":1.0256015229970217e-05,"elapsed_instrumentation":0.00014855200424790382,"return_value":{"class":"String","value":"{\"width\":1024,\"height\":678}","object_id":7970560}},{"id":1394631,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":7970580,"value":"#<JSON::Ext::Parser:0x00007fc9185c50d8>"}},{"id":1394632,"event":"return","thread_id":9160,"parent_id":1394631,"elapsed":1.035898458212614e-05,"elapsed_instrumentation":0.00011475302744656801,"return_value":{"class":"Hash","value":"{width=>1024, height=>678}","object_id":7970600,"size":2}},{"id":1394633,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":7970620,"value":"{width=>1024, height=>678}","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":7970640,"value":"#<JSON::Ext::Generator::State:0x00007fc9185c3e90>"}},{"id":1394634,"event":"return","thread_id":9160,"parent_id":1394633,"elapsed":5.140027496963739e-06,"elapsed_instrumentation":9.451893856748939e-05,"return_value":{"class":"String","value":"{\"width\":1024,\"height\":678}","object_id":7970660}},{"id":1394635,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"site_uploads\" (\"var\", \"file_file_name\", \"file_content_type\", \"file_file_size\", \"file_updated_at\", \"meta\", \"created_at\", \"updated_at\", \"blurhash\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING \"id\"","database_type":"postgres"}},{"id":1394636,"event":"return","thread_id":9160,"parent_id":1394635,"elapsed":0.000798452,"elapsed_instrumentation":8.657498983666301e-05},{"id":1394637,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":7970680,"value":"#<JSON::Ext::Parser:0x00007fc9185c17d0>"}},{"id":1394638,"event":"return","thread_id":9160,"parent_id":1394637,"elapsed":8.788018021732569e-06,"elapsed_instrumentation":0.0002063839929178357,"return_value":{"class":"Hash","value":"{width=>1024, height=>678}","object_id":7970700,"size":2}},{"id":1394639,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7970460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":7632020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930cfc7d0>"}},{"id":1394640,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":7970260,"value":"/system/site_uploads/files/000/000/017/original/utah_teapot.png"}},{"id":1394641,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":7970260,"value":"/system/site_uploads/files/000/000/017/original/utah_teapot.png"}},{"id":1394642,"event":"return","thread_id":9160,"parent_id":1394641,"elapsed":1.1480995453894138e-05,"elapsed_instrumentation":0.0001969600562006235,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1394643,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":7970260,"value":"/system/site_uploads/files/000/000/017/original/utah_teapot.png"}},{"id":1394644,"event":"return","thread_id":9160,"parent_id":1394643,"elapsed":1.2270989827811718e-05,"elapsed_instrumentation":0.0002098740078508854,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1394645,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":7970260,"value":"/system/site_uploads/files/000/000/017/original/utah_teapot.png"}},{"id":1394646,"event":"return","thread_id":9160,"parent_id":1394645,"elapsed":1.5261000953614712e-05,"elapsed_instrumentation":0.0003697240026667714,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":1394647,"event":"return","thread_id":9160,"parent_id":1394640,"elapsed":0.01500166900223121,"elapsed_instrumentation":0.00035024306271225214,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1394648,"event":"return","thread_id":9160,"parent_id":1394639,"elapsed":0.015884368971455842,"elapsed_instrumentation":0.0002089370391331613,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931f43150 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":7632300,"size":1}},{"id":1394649,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1394650,"event":"return","thread_id":9160,"parent_id":1394649,"elapsed":0.000992162,"elapsed_instrumentation":0.0002981679863296449},{"id":1394651,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7970740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":7632360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930cf84f0>"}},{"id":1394652,"event":"return","thread_id":9160,"parent_id":1394651,"elapsed":6.250978913158178e-06,"elapsed_instrumentation":0.0002097630058415234,"return_value":{"class":"Array","value":"[]","object_id":7632380,"size":0}},{"id":1394653,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7970740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":7632360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930cf84f0>"}},{"id":1394654,"event":"call","thread_id":9160,"defined_class":"SiteUpload","method_id":"cache_key","path":"app/models/site_upload.rb","lineno":53,"static":false,"parameters":[],"receiver":{"class":"SiteUpload","object_id":7970720,"value":"#<SiteUpload:0x00007fc93b9e6cc0>"}},{"id":1394655,"event":"return","thread_id":9160,"parent_id":1394654,"elapsed":2.496002707630396e-05,"elapsed_instrumentation":0.00030577194411307573,"return_value":{"class":"String","value":"site_uploads/thumbnail","object_id":7970760}},{"id":1394656,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":7970780,"value":"Cache delete: site_uploads/thumbnail\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1394657,"event":"return","thread_id":9160,"parent_id":1394656,"elapsed":0.0010235499939881265,"elapsed_instrumentation":0.00016071397112682462,"return_value":{"class":"Integer","value":"37","object_id":75}},{"id":1394658,"event":"return","thread_id":9160,"parent_id":1394653,"elapsed":0.001775865035597235,"elapsed_instrumentation":0.00017097993986681104,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931f74f48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931f74d90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":7632440,"size":2}},{"id":1394659,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7970800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":1394660,"event":"return","thread_id":9160,"parent_id":1394659,"elapsed":2.2185035049915314e-05,"elapsed_instrumentation":0.00042390497401356697,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93408b8a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318900,"size":1}},{"id":1394661,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7970820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":7631820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930cfdb80>"}},{"id":1394662,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,\n                pg_catalog.obj_description(i.oid, 'pg_class') AS comment, d.indisvalid\nFROM pg_class t\nINNER JOIN pg_index d ON t.oid = d.indrelid\nINNER JOIN pg_class i ON d.indexrelid = i.oid\nLEFT JOIN pg_namespace n ON n.oid = t.relnamespace\nWHERE i.relkind IN ('i', 'I')\n  AND d.indisprimary = 'f'\n  AND t.relname = 'site_uploads'\n  AND n.nspname = ANY (current_schemas(false))\nORDER BY i.relname\n","database_type":"postgres"}},{"id":1394663,"event":"return","thread_id":9160,"parent_id":1394662,"elapsed":0.003003621,"elapsed_instrumentation":0.00014698097947984934},{"id":1394664,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 279566\nAND a.attnum IN (2)\n","database_type":"postgres"}},{"id":1394665,"event":"return","thread_id":9160,"parent_id":1394664,"elapsed":0.000574095,"elapsed_instrumentation":0.0002213799743913114},{"id":1394666,"event":"return","thread_id":9160,"parent_id":1394661,"elapsed":0.0049086809740401804,"elapsed_instrumentation":0.00022403098409995437,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931fc2ba8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931fc2f18 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931fc3328 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931fc3620 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931fc3968 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931fc3b48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931fc3d50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":7631960,"size":7}},{"id":1394667,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7970820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":7631820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc930cfdb80>"}},{"id":1394668,"event":"return","thread_id":9160,"parent_id":1394667,"elapsed":4.2209867388010025e-06,"elapsed_instrumentation":0.0001100539811886847,"return_value":{"class":"Array","value":"[]","object_id":7631980,"size":0}},{"id":1394669,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7970800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93543e670>"}},{"id":1394670,"event":"return","thread_id":9160,"parent_id":1394669,"elapsed":2.373999450355768e-06,"elapsed_instrumentation":7.092900341376662e-05,"return_value":{"class":"Array","value":"[]","object_id":319000,"size":0}}]}