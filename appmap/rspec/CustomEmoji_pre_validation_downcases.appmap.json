{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"CustomEmoji pre_validation downcases","source_location":"spec/models/custom_emoji_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"app","type":"package","children":[{"name":"lib","type":"package","children":[{"name":"RequestPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/request_pool.rb:114","static":false}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:13","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:51","static":false}]}]}]},{"name":"EntityCache","type":"class","children":[{"name":"to_key","type":"function","location":"app/lib/entity_cache.rb:37","static":false}]}]},{"name":"models","type":"package","children":[{"name":"CustomEmoji","type":"class","children":[{"name":"local?","type":"function","location":"app/models/custom_emoji.rb:59","static":false}]}]}]},{"name":"lib/paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"assign_attributes","type":"function","location":"lib/paperclip/attachment_extensions.rb:54","static":false},{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false},{"name":"storage_schema_version","type":"function","location":"lib/paperclip/attachment_extensions.rb:50","static":false}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":3233715,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":15817300,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":15817320,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":3233716,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":15817340,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":15817360,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":3233717,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":3233718,"event":"return","thread_id":13276700,"parent_id":3233717,"elapsed":6.999005563557148e-06,"elapsed_instrumentation":8.016603533178568e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":3233719,"event":"return","thread_id":13276700,"parent_id":3233716,"elapsed":0.00010891800047829747,"elapsed_instrumentation":0.00017936993390321732,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":3233720,"event":"return","thread_id":13276700,"parent_id":3233715,"elapsed":0.00032565498258918524,"elapsed_instrumentation":0.0005070510087534785,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":3233721,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"assign_attributes","path":"lib/paperclip/attachment_extensions.rb","lineno":54,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":15817380,"value":"/images/original/missing.png"}},{"id":3233722,"event":"return","thread_id":9160,"parent_id":3233721,"elapsed":0.00026575400261208415,"elapsed_instrumentation":0.0009318100055679679,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":3233723,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2911680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315becb0>"}},{"id":3233724,"event":"return","thread_id":9160,"parent_id":3233723,"elapsed":7.381098112091422e-05,"elapsed_instrumentation":0.0006083020125515759,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93189a1f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93189a330 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2911700,"size":2}},{"id":3233725,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2911740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315bebc0>"}},{"id":3233726,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":3233727,"event":"return","thread_id":9160,"parent_id":3233726,"elapsed":0.000974269,"elapsed_instrumentation":0.00013441999908536673},{"id":3233728,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"custom_emojis\" WHERE \"custom_emojis\".\"shortcode\" = $1 AND \"custom_emojis\".\"domain\" = $2 LIMIT $3","database_type":"postgres"}},{"id":3233729,"event":"return","thread_id":9160,"parent_id":3233728,"elapsed":0.002937083,"elapsed_instrumentation":0.00024958100402727723},{"id":3233730,"event":"return","thread_id":9160,"parent_id":3233725,"elapsed":0.006220495968591422,"elapsed_instrumentation":0.0003906040801666677,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931897ea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931898058 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931898238 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931898558 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9318987d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9318989b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931898bc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931898da0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2911760,"size":8}},{"id":3233731,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2911740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315bebc0>"}},{"id":3233732,"event":"return","thread_id":9160,"parent_id":3233731,"elapsed":4.676985554397106e-06,"elapsed_instrumentation":0.0001309890067204833,"return_value":{"class":"Array","value":"[]","object_id":2911780,"size":0}},{"id":3233733,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2911680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315becb0>"}},{"id":3233734,"event":"return","thread_id":9160,"parent_id":3233733,"elapsed":2.6480411179363728e-06,"elapsed_instrumentation":8.4811937995255e-05,"return_value":{"class":"Array","value":"[]","object_id":2911800,"size":0}},{"id":3233735,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2911840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315bdef0>"}},{"id":3233736,"event":"return","thread_id":9160,"parent_id":3233735,"elapsed":2.751400461420417e-05,"elapsed_instrumentation":0.00010736193507909775,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93182f008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2911860,"size":1}},{"id":3233737,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2911900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315bdd60>"}},{"id":3233738,"event":"return","thread_id":9160,"parent_id":3233737,"elapsed":5.305977538228035e-06,"elapsed_instrumentation":0.0003273409674875438,"return_value":{"class":"Array","value":"[]","object_id":2911920,"size":0}},{"id":3233739,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"custom_emojis\" (\"shortcode\", \"domain\", \"image_file_name\", \"image_content_type\", \"image_file_size\", \"image_updated_at\", \"created_at\", \"updated_at\", \"disabled\", \"uri\", \"image_remote_url\", \"visible_in_picker\", \"category_id\", \"image_storage_schema_version\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING \"id\"","database_type":"postgres"}},{"id":3233740,"event":"return","thread_id":9160,"parent_id":3233739,"elapsed":0.001333418,"elapsed_instrumentation":0.00028180802473798394},{"id":3233741,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2911900,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315bdd60>"}},{"id":3233742,"event":"return","thread_id":9160,"parent_id":3233741,"elapsed":5.011900793761015e-05,"elapsed_instrumentation":0.00031601201044395566,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93182d780 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2911940,"size":1}},{"id":3233743,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2911840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315bdef0>"}},{"id":3233744,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":15817380,"value":"/system/cache/custom_emojis/images/000/000/269/original/emojo.png"}},{"id":3233745,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":15817380,"value":"/system/cache/custom_emojis/images/000/000/269/original/emojo.png"}},{"id":3233746,"event":"return","thread_id":9160,"parent_id":3233745,"elapsed":3.4397991839796305e-05,"elapsed_instrumentation":0.0009767489973455667,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":3233747,"event":"call","thread_id":9160,"defined_class":"CustomEmoji","method_id":"local?","path":"app/models/custom_emoji.rb","lineno":59,"static":false,"parameters":[],"receiver":{"class":"CustomEmoji","object_id":15817500,"value":"#<CustomEmoji:0x00007fc8e0d43220>"}},{"id":3233748,"event":"return","thread_id":9160,"parent_id":3233747,"elapsed":1.2109987437725067e-05,"elapsed_instrumentation":0.0002773369778878987},{"id":3233749,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":15817380,"value":"/system/cache/custom_emojis/images/000/000/269/original/emojo.png"}},{"id":3233750,"event":"return","thread_id":9160,"parent_id":3233749,"elapsed":1.191999763250351e-05,"elapsed_instrumentation":0.0003012759843841195,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":3233751,"event":"call","thread_id":9160,"defined_class":"CustomEmoji","method_id":"local?","path":"app/models/custom_emoji.rb","lineno":59,"static":false,"parameters":[],"receiver":{"class":"CustomEmoji","object_id":15817500,"value":"#<CustomEmoji:0x00007fc8e0d43220>"}},{"id":3233752,"event":"return","thread_id":9160,"parent_id":3233751,"elapsed":7.743015885353088e-06,"elapsed_instrumentation":0.00017198699060827494},{"id":3233753,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":15817380,"value":"/system/cache/custom_emojis/images/000/000/269/original/emojo.png"}},{"id":3233754,"event":"return","thread_id":9160,"parent_id":3233753,"elapsed":2.069899346679449e-05,"elapsed_instrumentation":0.000711620959918946,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":3233755,"event":"call","thread_id":9160,"defined_class":"CustomEmoji","method_id":"local?","path":"app/models/custom_emoji.rb","lineno":59,"static":false,"parameters":[],"receiver":{"class":"CustomEmoji","object_id":15817500,"value":"#<CustomEmoji:0x00007fc8e0d43220>"}},{"id":3233756,"event":"return","thread_id":9160,"parent_id":3233755,"elapsed":1.1222029570490122e-05,"elapsed_instrumentation":0.00012480700388550758},{"id":3233757,"event":"return","thread_id":9160,"parent_id":3233744,"elapsed":0.01869698998052627,"elapsed_instrumentation":0.0005402580136433244,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":3233758,"event":"return","thread_id":9160,"parent_id":3233743,"elapsed":0.019306608999613672,"elapsed_instrumentation":0.0002995759714394808,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93182ee00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2911980,"size":1}},{"id":3233759,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":3233760,"event":"return","thread_id":9160,"parent_id":3233759,"elapsed":0.000666972,"elapsed_instrumentation":0.00014887098222970963},{"id":3233761,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2912020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315b8f90>"}},{"id":3233762,"event":"return","thread_id":9160,"parent_id":3233761,"elapsed":8.462986443191767e-06,"elapsed_instrumentation":0.0004643990541808307,"return_value":{"class":"Array","value":"[]","object_id":2912040,"size":0}},{"id":3233763,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2912020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315b8f90>"}},{"id":3233764,"event":"call","thread_id":9160,"defined_class":"EntityCache","method_id":"to_key","path":"app/lib/entity_cache.rb","lineno":37,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":15425948,"value":":emoji","kind":"req"},{"name":"ids","class":"Array","object_id":15817540,"value":"[coolcat, www.mastodon.com]","kind":"rest","size":2}],"receiver":{"class":"EntityCache","object_id":2397840,"value":"#<EntityCache:0x00007fc932c7c8d0>"}},{"id":3233765,"event":"return","thread_id":9160,"parent_id":3233764,"elapsed":1.6175967175513506e-05,"elapsed_instrumentation":0.0002528769546188414,"return_value":{"class":"String","value":"emoji:coolcat:www.mastodon.com","object_id":15817560}},{"id":3233766,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":15817580,"value":"Cache delete: emoji:coolcat:www.mastodon.com\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":3233767,"event":"return","thread_id":9160,"parent_id":3233766,"elapsed":0.0012518090079538524,"elapsed_instrumentation":0.00016986700939014554,"return_value":{"class":"Integer","value":"45","object_id":91}},{"id":3233768,"event":"return","thread_id":9160,"parent_id":3233763,"elapsed":0.0022637019865214825,"elapsed_instrumentation":0.00021027098409831524,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93184f380 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93184f1a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2912120,"size":2}},{"id":3233769,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2911680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315becb0>"}},{"id":3233770,"event":"return","thread_id":9160,"parent_id":3233769,"elapsed":6.981199840083718e-05,"elapsed_instrumentation":0.000312445976305753,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93189a1f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc93189a330 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2911700,"size":2}},{"id":3233771,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2911740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315bebc0>"}},{"id":3233772,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,\n                pg_catalog.obj_description(i.oid, 'pg_class') AS comment, d.indisvalid\nFROM pg_class t\nINNER JOIN pg_index d ON t.oid = d.indrelid\nINNER JOIN pg_class i ON d.indexrelid = i.oid\nLEFT JOIN pg_namespace n ON n.oid = t.relnamespace\nWHERE i.relkind IN ('i', 'I')\n  AND d.indisprimary = 'f'\n  AND t.relname = 'custom_emojis'\n  AND n.nspname = ANY (current_schemas(false))\nORDER BY i.relname\n","database_type":"postgres"}},{"id":3233773,"event":"return","thread_id":9160,"parent_id":3233772,"elapsed":0.005286706,"elapsed_instrumentation":0.00019955902826040983},{"id":3233774,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 279028\nAND a.attnum IN (2, 3)\n","database_type":"postgres"}},{"id":3233775,"event":"return","thread_id":9160,"parent_id":3233774,"elapsed":0.001203517,"elapsed_instrumentation":0.00011409702710807323},{"id":3233776,"event":"return","thread_id":9160,"parent_id":3233771,"elapsed":0.008745557046495378,"elapsed_instrumentation":0.00026496098143979907,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc931897ea0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931898058 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931898238 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931898558 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9318987d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9318989b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931898bc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc931898da0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":2911760,"size":8}},{"id":3233777,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2911740,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315bebc0>"}},{"id":3233778,"event":"return","thread_id":9160,"parent_id":3233777,"elapsed":4.6120258048176765e-06,"elapsed_instrumentation":0.00017073797062039375,"return_value":{"class":"Array","value":"[]","object_id":2911780,"size":0}},{"id":3233779,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":15817600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":2911680,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9315becb0>"}},{"id":3233780,"event":"return","thread_id":9160,"parent_id":3233779,"elapsed":4.391011316329241e-06,"elapsed_instrumentation":0.0001214889925904572,"return_value":{"class":"Array","value":"[]","object_id":2911800,"size":0}}]}