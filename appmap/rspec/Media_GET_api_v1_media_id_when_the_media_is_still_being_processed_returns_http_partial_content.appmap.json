{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Media GET /api/v1/media/:id when the media is still being processed returns http partial content","source_location":"spec/requests/api/v1/media_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]},{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]}]}]},{"name":"app","type":"package","children":[{"name":"lib","type":"package","children":[{"name":"AccessTokenExtension","type":"class","children":[{"name":"push_to_streaming_api","type":"function","location":"app/lib/access_token_extension.rb:20","static":false},{"name":"update_last_used","type":"function","location":"app/lib/access_token_extension.rb:16","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true},{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true}]}]},{"name":"controllers","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"Localized","type":"class","children":[{"name":"set_locale","type":"function","location":"app/controllers/concerns/localized.rb:10","static":false}]},{"name":"CacheConcern","type":"class","children":[{"name":"enforce_cache_control!","type":"function","location":"app/controllers/concerns/cache_concern.rb:165","static":false}]}]},{"name":"api","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"BaseController","type":"class","children":[{"name":"current_user","type":"function","location":"app/controllers/api/base_controller.rb:116","static":false},{"name":"current_resource_owner","type":"function","location":"app/controllers/api/base_controller.rb:112","static":false},{"name":"disallow_unauthenticated_api_access?","type":"function","location":"app/controllers/api/base_controller.rb:152","static":false},{"name":"require_not_suspended!","type":"function","location":"app/controllers/api/base_controller.rb:126","static":false},{"name":"require_user!","type":"function","location":"app/controllers/api/base_controller.rb:130","static":false}]}]},{"name":"v1","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"V1","type":"class","children":[{"name":"MediaController","type":"class","children":[{"name":"show","type":"function","location":"app/controllers/api/v1/media_controller.rb:9","static":false}]}]}]}]}]},{"name":"ApplicationController","type":"class","children":[{"name":"current_session","type":"function","location":"app/controllers/application_controller.rb:153","static":false},{"name":"check_self_destruct!","type":"function","location":"app/controllers/application_controller.rb:176","static":false},{"name":"set_cache_control_defaults","type":"function","location":"app/controllers/application_controller.rb:185","static":false},{"name":"current_account","type":"function","location":"app/controllers/application_controller.rb:147","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"SelfDestructHelper","type":"class","children":[{"name":"self_destruct?","type":"function","location":"app/helpers/self_destruct_helper.rb:11","static":false}]},{"name":"DomainControlHelper","type":"class","children":[{"name":"limited_federation_mode?","type":"function","location":"app/helpers/domain_control_helper.rb:20","static":false}]},{"name":"RoutingHelper","type":"class","children":[{"name":"full_asset_url","type":"function","location":"app/helpers/routing_helper.rb:17","static":false},{"name":"use_storage?","type":"function","location":"app/helpers/routing_helper.rb:31","static":false},{"name":"asset_host","type":"function","location":"app/helpers/routing_helper.rb:23","static":false}]},{"name":"REST","type":"class","children":[{"name":"MediaAttachmentSerializer","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]}]},{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false}]},{"name":"User","type":"class","children":[{"name":"confirmed?","type":"function","location":"app/models/user.rb:161","static":false},{"name":"functional?","type":"function","location":"app/models/user.rb:248","static":false},{"name":"functional_or_moved?","type":"function","location":"app/models/user.rb:252","static":false}]},{"name":"MediaAttachment","type":"class","children":[{"name":"not_processed?","type":"function","location":"app/models/media_attachment.rb:221","static":false},{"name":"needs_redownload?","type":"function","location":"app/models/media_attachment.rb:225","static":false},{"name":"local?","type":"function","location":"app/models/media_attachment.rb:217","static":false}]}]},{"name":"serializers/rest","type":"package","children":[{"name":"REST","type":"class","children":[{"name":"MediaAttachmentSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:10","static":false},{"name":"url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:14","static":false},{"name":"preview_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:28","static":false},{"name":"remote_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:24","static":false},{"name":"preview_remote_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:38","static":false},{"name":"text_url","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:42","static":false},{"name":"meta","type":"function","location":"app/serializers/rest/media_attachment_serializer.rb:46","static":false}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"actionpack","type":"package","children":[{"name":"ActionDispatch","type":"class","children":[{"name":"Cookies","type":"class","children":[{"name":"CookieJar","type":"class","children":[{"name":"update","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:344","static":false,"labels":["http.session.write"]},{"name":"[]","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb:328","static":false,"labels":["http.session.read"]}]}]}]},{"name":"ActionController","type":"class","children":[{"name":"Renderers","type":"class","children":[{"name":"render_to_body","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb:140","static":false,"labels":["mvc.render"]}]}]}]},{"name":"lib","type":"package","children":[{"name":"paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"storage_schema_version","type":"function","location":"lib/paperclip/attachment_extensions.rb:50","static":false},{"name":"meta","type":"function","location":"lib/paperclip/attachment_extensions.rb:5","static":false}]}]}]},{"name":"chewy/strategy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"Strategy","type":"class","children":[{"name":"Mastodon","type":"class","children":[{"name":"leave","type":"function","location":"lib/chewy/strategy/mastodon.rb:16","static":false}]}]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]}]}]}]}],"events":[{"id":1238885,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7157900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba1910>"}},{"id":1238886,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":343760,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":7157920,"value":"[__O_\u001c-_?\u0003\u0011z\u0015:^'eY\t\n\u0019__\u001ca\u001dFU\u0003____]"}},{"id":1238887,"event":"return","thread_id":9160,"parent_id":1238886,"elapsed":7.680035196244717e-06,"elapsed_instrumentation":0.00036635895958170295,"return_value":{"class":"String","value":"4fVPuhwtpT8DEXoVOl4nZVkJChnS9BxhHUZVA7+Sg4g=","object_id":7157940}},{"id":1238888,"event":"return","thread_id":9160,"parent_id":1238885,"elapsed":0.0009262310341000557,"elapsed_instrumentation":0.0002681759651750326,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b5dd28 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b5de68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b5e020 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343820,"size":3}},{"id":1238889,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7157960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba0ba0>"}},{"id":1238890,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1238891,"event":"return","thread_id":9160,"parent_id":1238890,"elapsed":0.000555033,"elapsed_instrumentation":0.00010240596020594239},{"id":1238892,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1238893,"event":"return","thread_id":9160,"parent_id":1238892,"elapsed":0.001681948,"elapsed_instrumentation":8.472200715914369e-05},{"id":1238894,"event":"return","thread_id":9160,"parent_id":1238889,"elapsed":0.003190579009242356,"elapsed_instrumentation":0.00017654302064329386,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b59408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b595c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b597a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b59980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343880,"size":4}},{"id":1238895,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7157960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba0ba0>"}},{"id":1238896,"event":"return","thread_id":9160,"parent_id":1238895,"elapsed":3.99397686123848e-06,"elapsed_instrumentation":0.0001060339855030179,"return_value":{"class":"Array","value":"[]","object_id":343900,"size":0}},{"id":1238897,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7157900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba1910>"}},{"id":1238898,"event":"return","thread_id":9160,"parent_id":1238897,"elapsed":4.351022653281689e-06,"elapsed_instrumentation":0.0003132939455099404,"return_value":{"class":"Array","value":"[]","object_id":343920,"size":0}},{"id":1238899,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7157980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba01f0>"}},{"id":1238900,"event":"return","thread_id":9160,"parent_id":1238899,"elapsed":4.066101973876357e-05,"elapsed_instrumentation":0.00011128501500934362,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b535d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343980,"size":1}},{"id":1238901,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO \"oauth_access_tokens\" (\"token\", \"refresh_token\", \"expires_in\", \"revoked_at\", \"created_at\", \"scopes\", \"application_id\", \"resource_owner_id\", \"last_used_at\", \"last_used_ip\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING \"id\"","database_type":"postgres"}},{"id":1238902,"event":"return","thread_id":9160,"parent_id":1238901,"elapsed":0.000626971,"elapsed_instrumentation":0.00011645798804238439},{"id":1238903,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7157980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba01f0>"}},{"id":1238904,"event":"return","thread_id":9160,"parent_id":1238903,"elapsed":3.4829718060791492e-06,"elapsed_instrumentation":0.00011889304732903838,"return_value":{"class":"Array","value":"[]","object_id":344000,"size":0}},{"id":1238905,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1238906,"event":"return","thread_id":9160,"parent_id":1238905,"elapsed":0.000514287,"elapsed_instrumentation":0.00010918901534751058},{"id":1238907,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932b3f738>"}},{"id":1238908,"event":"return","thread_id":9160,"parent_id":1238907,"elapsed":4.2879837565124035e-06,"elapsed_instrumentation":0.0001319869770668447,"return_value":{"class":"Array","value":"[]","object_id":344100,"size":0}},{"id":1238909,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932b3f738>"}},{"id":1238910,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":7158000,"value":"#<Doorkeeper::AccessToken:0x00007fc91a42eb00>"}},{"id":1238911,"event":"return","thread_id":9160,"parent_id":1238910,"elapsed":0.00019921601051464677,"elapsed_instrumentation":7.362494943663478e-05},{"id":1238912,"event":"return","thread_id":9160,"parent_id":1238909,"elapsed":0.0003021929878741503,"elapsed_instrumentation":0.0001237209653481841,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b2e7f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":344120,"size":1}},{"id":1238913,"event":"call","thread_id":9160,"http_server_request":{"request_method":"GET","path_info":"/api/v1/media/111361378356836578","normalized_path_info":"/api/v1/media/{id}","headers":{"Version":"HTTP/1.0","Host":"www.example.com","Accept":"text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5","Authorization":"Bearer 4fVPuhwtpT8DEXoVOl4nZVkJChnS9BxhHUZVA7-Sg4g","Content-Length":"0"}}},{"id":1238914,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":222040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93803c8a8>"}},{"id":1238915,"event":"return","thread_id":9160,"parent_id":1238914,"elapsed":0.00011936004739254713,"elapsed_instrumentation":0.0002103179576806724,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc934226eb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934226ff0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934227158 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc934227310 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":222060,"size":4}},{"id":1238916,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":222040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc93803c8a8>"}},{"id":1238917,"event":"return","thread_id":9160,"parent_id":1238916,"elapsed":3.6479905247688293e-06,"elapsed_instrumentation":8.578004781156778e-05,"return_value":{"class":"Array","value":"[]","object_id":222080,"size":0}},{"id":1238918,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":7158060,"value":"_\u001eJ_&_WRk__\u0007\u0004___"}},{"id":1238919,"event":"return","thread_id":9160,"parent_id":1238918,"elapsed":0.00011568103218451142,"elapsed_instrumentation":0.00017201295122504234,"return_value":{"class":"Array","value":"[3961408184, 9947, 22354, 27568, 44551, 82762148]","object_id":7158080,"size":6}},{"id":1238920,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":7158120,"value":"Processing by Api::V1::MediaController#show as HTML\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1238921,"event":"return","thread_id":9160,"parent_id":1238920,"elapsed":0.0005179530126042664,"elapsed_instrumentation":0.0001551150344312191,"return_value":{"class":"Integer","value":"52","object_id":105}},{"id":1238922,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":7158140,"value":"  Parameters: {\"id\"=>\"111361378356836578\"}\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1238923,"event":"return","thread_id":9160,"parent_id":1238922,"elapsed":0.0005852520116604865,"elapsed_instrumentation":0.00014309497782960534,"return_value":{"class":"Integer","value":"43","object_id":87}},{"id":1238924,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":7128300,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9330b2c60>"}},{"id":1238925,"event":"return","thread_id":9160,"parent_id":1238924,"elapsed":5.1539973355829716e-06,"elapsed_instrumentation":0.00021622399799525738,"return_value":{"class":"Array","value":"[]","object_id":7128320,"size":0}},{"id":1238926,"event":"call","thread_id":9160,"defined_class":"Localized","method_id":"set_locale","path":"app/controllers/concerns/localized.rb","lineno":10,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238927,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238928,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238929,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"oauth_access_tokens\".* FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1238930,"event":"return","thread_id":9160,"parent_id":1238929,"elapsed":0.000603232,"elapsed_instrumentation":0.0001143129775300622},{"id":1238931,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1238932,"event":"return","thread_id":9160,"parent_id":1238931,"elapsed":0.000444522,"elapsed_instrumentation":6.968399975448847e-05},{"id":1238933,"event":"return","thread_id":9160,"parent_id":1238928,"elapsed":0.0031589579884894192,"elapsed_instrumentation":0.0003045619814656675,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1238934,"event":"return","thread_id":9160,"parent_id":1238927,"elapsed":0.0034900770406238735,"elapsed_instrumentation":0.0001420129556208849,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1238935,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238936,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238937,"event":"return","thread_id":9160,"parent_id":1238936,"elapsed":6.450980436056852e-06,"elapsed_instrumentation":0.00018572399858385324,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1238938,"event":"return","thread_id":9160,"parent_id":1238935,"elapsed":0.00021757197100669146,"elapsed_instrumentation":0.00011168804485350847,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1238939,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":7128380,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9330b2d00>"}},{"id":1238940,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238941,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238942,"event":"return","thread_id":9160,"parent_id":1238941,"elapsed":4.2530009523034096e-06,"elapsed_instrumentation":7.641297997906804e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1238943,"event":"return","thread_id":9160,"parent_id":1238940,"elapsed":9.904999751597643e-05,"elapsed_instrumentation":7.695204112678766e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1238944,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238945,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238946,"event":"return","thread_id":9160,"parent_id":1238945,"elapsed":2.8520007617771626e-06,"elapsed_instrumentation":6.772496271878481e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1238947,"event":"return","thread_id":9160,"parent_id":1238944,"elapsed":8.626794442534447e-05,"elapsed_instrumentation":6.466003833338618e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1238948,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238949,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238950,"event":"return","thread_id":9160,"parent_id":1238949,"elapsed":2.6149791665375233e-06,"elapsed_instrumentation":6.708805449306965e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1238951,"event":"return","thread_id":9160,"parent_id":1238948,"elapsed":8.489697938784957e-05,"elapsed_instrumentation":7.027899846434593e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1238952,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_session","path":"app/controllers/application_controller.rb","lineno":153,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238953,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"update","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":344,"static":false,"parameters":[{"name":"other_hash","class":"Hash","object_id":7158220,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7158240,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc931cc8cb8>"}},{"id":1238954,"event":"return","thread_id":9160,"parent_id":1238953,"elapsed":6.095040589570999e-06,"elapsed_instrumentation":0.00010307697812095284,"return_value":{"class":"ActionDispatch::Cookies::CookieJar","value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc931cc8cb8>","object_id":7158240}},{"id":1238955,"event":"call","thread_id":9160,"defined_class":"ActionDispatch::Cookies::CookieJar","method_id":"[]","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_dispatch/middleware/cookies.rb","lineno":328,"static":false,"parameters":[{"name":"name","class":"String","object_id":317160,"value":"_session_id","kind":"req"}],"receiver":{"class":"ActionDispatch::Cookies::CookieJar","object_id":7158240,"value":"#<ActionDispatch::Cookies::CookieJar:0x00007fc931cc8cb8>"}},{"id":1238956,"event":"return","thread_id":9160,"parent_id":1238955,"elapsed":3.4850090742111206e-06,"elapsed_instrumentation":0.00010328594362363219},{"id":1238957,"event":"return","thread_id":9160,"parent_id":1238952,"elapsed":0.0009775430080480874,"elapsed_instrumentation":7.704104064032435e-05},{"id":1238958,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"check_self_destruct!","path":"app/controllers/application_controller.rb","lineno":176,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238959,"event":"call","thread_id":9160,"defined_class":"SelfDestructHelper","method_id":"self_destruct?","path":"app/helpers/self_destruct_helper.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238960,"event":"return","thread_id":9160,"parent_id":1238959,"elapsed":9.144947398453951e-06,"elapsed_instrumentation":4.886405076831579e-05},{"id":1238961,"event":"return","thread_id":9160,"parent_id":1238958,"elapsed":7.543101673945785e-05,"elapsed_instrumentation":5.62510103918612e-05},{"id":1238962,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238963,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238964,"event":"return","thread_id":9160,"parent_id":1238963,"elapsed":3.5120174288749695e-06,"elapsed_instrumentation":7.209304021671414e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1238965,"event":"return","thread_id":9160,"parent_id":1238962,"elapsed":9.202398359775543e-05,"elapsed_instrumentation":6.671197479590774e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1238966,"event":"call","thread_id":9160,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238967,"event":"return","thread_id":9160,"parent_id":1238966,"elapsed":1.845305087044835e-05,"elapsed_instrumentation":5.101598799228668e-05},{"id":1238968,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"set_cache_control_defaults","path":"app/controllers/application_controller.rb","lineno":185,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238969,"event":"return","thread_id":9160,"parent_id":1238968,"elapsed":3.9450242184102535e-06,"elapsed_instrumentation":9.393604705110192e-05,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":7158260,"size":2}},{"id":1238970,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"update_last_used","path":"app/lib/access_token_extension.rb","lineno":16,"static":false,"parameters":[{"name":"request","class":"ActionDispatch::Request","object_id":7158280,"value":"#<ActionDispatch::Request:0x00007fc919f86558>","kind":"req"},{"name":"clock","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Doorkeeper::AccessToken","object_id":7158300,"value":"#<Doorkeeper::AccessToken:0x00007fc91a42dd40>"}},{"id":1238971,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba1910>"}},{"id":1238972,"event":"return","thread_id":9160,"parent_id":1238971,"elapsed":2.926104934886098e-05,"elapsed_instrumentation":0.00015060696750879288,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b5dd28 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b5de68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b5e020 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343820,"size":3}},{"id":1238973,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba0ba0>"}},{"id":1238974,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1238975,"event":"return","thread_id":9160,"parent_id":1238974,"elapsed":0.000465862,"elapsed_instrumentation":8.531298954039812e-05},{"id":1238976,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 AND \"oauth_access_tokens\".\"id\" != $2 LIMIT $3","database_type":"postgres"}},{"id":1238977,"event":"return","thread_id":9160,"parent_id":1238976,"elapsed":0.001794146,"elapsed_instrumentation":8.166796760633588e-05},{"id":1238978,"event":"return","thread_id":9160,"parent_id":1238973,"elapsed":0.0033050799975171685,"elapsed_instrumentation":0.00017566297901794314,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b59408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b595c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b597a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc932b59980 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343880,"size":4}},{"id":1238979,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba0ba0>"}},{"id":1238980,"event":"return","thread_id":9160,"parent_id":1238979,"elapsed":4.428031388670206e-06,"elapsed_instrumentation":0.00023002095986157656,"return_value":{"class":"Array","value":"[]","object_id":343900,"size":0}},{"id":1238981,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba1910>"}},{"id":1238982,"event":"return","thread_id":9160,"parent_id":1238981,"elapsed":2.763001248240471e-06,"elapsed_instrumentation":8.605094626545906e-05,"return_value":{"class":"Array","value":"[]","object_id":343920,"size":0}},{"id":1238983,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba01f0>"}},{"id":1238984,"event":"return","thread_id":9160,"parent_id":1238983,"elapsed":2.485699951648712e-05,"elapsed_instrumentation":0.00012915302067995071,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b535d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":343980,"size":1}},{"id":1238985,"event":"call","thread_id":9160,"sql_query":{"sql":"UPDATE \"oauth_access_tokens\" SET \"last_used_at\" = $1, \"last_used_ip\" = $2 WHERE \"oauth_access_tokens\".\"id\" = $3","database_type":"postgres"}},{"id":1238986,"event":"return","thread_id":9160,"parent_id":1238985,"elapsed":0.000932456,"elapsed_instrumentation":0.00011081399861723185},{"id":1238987,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":343960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932ba01f0>"}},{"id":1238988,"event":"return","thread_id":9160,"parent_id":1238987,"elapsed":1.5196972526609898e-05,"elapsed_instrumentation":0.0003015779657289386,"return_value":{"class":"Array","value":"[]","object_id":344000,"size":0}},{"id":1238989,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1238990,"event":"return","thread_id":9160,"parent_id":1238989,"elapsed":0.000507683,"elapsed_instrumentation":0.00013812200631946325},{"id":1238991,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932b3f738>"}},{"id":1238992,"event":"return","thread_id":9160,"parent_id":1238991,"elapsed":4.694971721619368e-06,"elapsed_instrumentation":0.00020282005425542593,"return_value":{"class":"Array","value":"[]","object_id":344100,"size":0}},{"id":1238993,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":344080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932b3f738>"}},{"id":1238994,"event":"call","thread_id":9160,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":7158300,"value":"#<Doorkeeper::AccessToken:0x00007fc91a42dd40>"}},{"id":1238995,"event":"return","thread_id":9160,"parent_id":1238994,"elapsed":6.0296966694295406e-05,"elapsed_instrumentation":7.983704563230276e-05},{"id":1238996,"event":"return","thread_id":9160,"parent_id":1238993,"elapsed":0.00017354299779981375,"elapsed_instrumentation":0.00013299501733854413,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc932b2e7f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":344120,"size":1}},{"id":1238997,"event":"return","thread_id":9160,"parent_id":1238970,"elapsed":0.010782013006974012,"elapsed_instrumentation":0.00010864395881071687,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1238998,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"disallow_unauthenticated_api_access?","path":"app/controllers/api/base_controller.rb","lineno":152,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1238999,"event":"return","thread_id":9160,"parent_id":1238998,"elapsed":2.9223039746284485e-05,"elapsed_instrumentation":0.0002022079424932599},{"id":1239000,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"require_not_suspended!","path":"app/controllers/api/base_controller.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239001,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239002,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239003,"event":"return","thread_id":9160,"parent_id":1239002,"elapsed":8.314964361488819e-06,"elapsed_instrumentation":0.00018447201000526547,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239004,"event":"return","thread_id":9160,"parent_id":1239001,"elapsed":0.00023494899505749345,"elapsed_instrumentation":0.00029904802795499563,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239005,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1239006,"event":"return","thread_id":9160,"parent_id":1239005,"elapsed":0.000893345,"elapsed_instrumentation":0.00011161202564835548},{"id":1239007,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":7158400,"value":"#<Account:0x00007fc91a42cf80>"}},{"id":1239008,"event":"return","thread_id":9160,"parent_id":1239007,"elapsed":2.7773028705269098e-05,"elapsed_instrumentation":0.0001192860072478652},{"id":1239009,"event":"return","thread_id":9160,"parent_id":1239000,"elapsed":0.004757653980050236,"elapsed_instrumentation":0.00010013504652306437},{"id":1239010,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"require_user!","path":"app/controllers/api/base_controller.rb","lineno":130,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239011,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239012,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239013,"event":"return","thread_id":9160,"parent_id":1239012,"elapsed":3.5829725675284863e-06,"elapsed_instrumentation":7.754104444757104e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239014,"event":"return","thread_id":9160,"parent_id":1239011,"elapsed":0.00010040297638624907,"elapsed_instrumentation":6.966100772842765e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239015,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239016,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239017,"event":"return","thread_id":9160,"parent_id":1239016,"elapsed":2.46602576225996e-06,"elapsed_instrumentation":6.389495683833957e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239018,"event":"return","thread_id":9160,"parent_id":1239015,"elapsed":8.22519650682807e-05,"elapsed_instrumentation":6.318301893770695e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239019,"event":"call","thread_id":9160,"defined_class":"User","method_id":"confirmed?","path":"app/models/user.rb","lineno":161,"static":false,"parameters":[],"receiver":{"class":"User","object_id":7158200,"value":"#<User:0x00007fc91a42d5c0>"}},{"id":1239020,"event":"return","thread_id":9160,"parent_id":1239019,"elapsed":5.673500709235668e-05,"elapsed_instrumentation":6.319500971585512e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1239021,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239022,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239023,"event":"return","thread_id":9160,"parent_id":1239022,"elapsed":2.976972609758377e-06,"elapsed_instrumentation":6.598903564736247e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239024,"event":"return","thread_id":9160,"parent_id":1239021,"elapsed":8.397497003898025e-05,"elapsed_instrumentation":0.00013278203550726175,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239025,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239026,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239027,"event":"return","thread_id":9160,"parent_id":1239026,"elapsed":2.9859947971999645e-06,"elapsed_instrumentation":6.687897257506847e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239028,"event":"return","thread_id":9160,"parent_id":1239025,"elapsed":8.627999341115355e-05,"elapsed_instrumentation":7.962295785546303e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239029,"event":"call","thread_id":9160,"defined_class":"User","method_id":"functional?","path":"app/models/user.rb","lineno":248,"static":false,"parameters":[],"receiver":{"class":"User","object_id":7158200,"value":"#<User:0x00007fc91a42d5c0>"}},{"id":1239030,"event":"call","thread_id":9160,"defined_class":"User","method_id":"functional_or_moved?","path":"app/models/user.rb","lineno":252,"static":false,"parameters":[],"receiver":{"class":"User","object_id":7158200,"value":"#<User:0x00007fc91a42d5c0>"}},{"id":1239031,"event":"call","thread_id":9160,"defined_class":"User","method_id":"confirmed?","path":"app/models/user.rb","lineno":161,"static":false,"parameters":[],"receiver":{"class":"User","object_id":7158200,"value":"#<User:0x00007fc91a42d5c0>"}},{"id":1239032,"event":"return","thread_id":9160,"parent_id":1239031,"elapsed":6.41803489997983e-06,"elapsed_instrumentation":5.656195571646094e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1239033,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":7158400,"value":"#<Account:0x00007fc91a42cf80>"}},{"id":1239034,"event":"return","thread_id":9160,"parent_id":1239033,"elapsed":6.820017006248236e-06,"elapsed_instrumentation":5.756894825026393e-05},{"id":1239035,"event":"return","thread_id":9160,"parent_id":1239030,"elapsed":0.0002083790022879839,"elapsed_instrumentation":5.414494080469012e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1239036,"event":"return","thread_id":9160,"parent_id":1239029,"elapsed":0.00028946902602910995,"elapsed_instrumentation":5.3953961469233036e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1239037,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239038,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239039,"event":"return","thread_id":9160,"parent_id":1239038,"elapsed":3.0149822123348713e-06,"elapsed_instrumentation":6.70679728500545e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239040,"event":"return","thread_id":9160,"parent_id":1239037,"elapsed":8.504203287884593e-05,"elapsed_instrumentation":6.555503932759166e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239041,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239042,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239043,"event":"return","thread_id":9160,"parent_id":1239042,"elapsed":2.5149784050881863e-06,"elapsed_instrumentation":6.189098348841071e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239044,"event":"return","thread_id":9160,"parent_id":1239041,"elapsed":7.887399988248944e-05,"elapsed_instrumentation":0.0001104840193875134,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239045,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239046,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239047,"event":"return","thread_id":9160,"parent_id":1239046,"elapsed":2.796004991978407e-06,"elapsed_instrumentation":6.741698598489165e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239048,"event":"return","thread_id":9160,"parent_id":1239045,"elapsed":8.586299372836947e-05,"elapsed_instrumentation":8.155405521392822e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239049,"event":"return","thread_id":9160,"parent_id":1239010,"elapsed":0.001947519020177424,"elapsed_instrumentation":8.714292198419571e-05},{"id":1239050,"event":"call","thread_id":9160,"defined_class":"ApplicationController","method_id":"current_account","path":"app/controllers/application_controller.rb","lineno":147,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239051,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239052,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239053,"event":"return","thread_id":9160,"parent_id":1239052,"elapsed":3.210967406630516e-06,"elapsed_instrumentation":6.595102604478598e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239054,"event":"return","thread_id":9160,"parent_id":1239051,"elapsed":8.527201134711504e-05,"elapsed_instrumentation":6.179796764627099e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239055,"event":"return","thread_id":9160,"parent_id":1239050,"elapsed":0.00017427298007532954,"elapsed_instrumentation":7.839302998036146e-05,"return_value":{"class":"Account","value":"#<Account:0x00007fc91a42cf80>","object_id":7158400}},{"id":1239056,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"media_attachments\".* FROM \"media_attachments\" WHERE \"media_attachments\".\"account_id\" = $1 AND \"media_attachments\".\"status_id\" IS NULL AND \"media_attachments\".\"id\" = $2 ORDER BY \"media_attachments\".\"id\" ASC LIMIT $3","database_type":"postgres"}},{"id":1239057,"event":"return","thread_id":9160,"parent_id":1239056,"elapsed":0.000838848,"elapsed_instrumentation":9.16689750738442e-05},{"id":1239058,"event":"return","thread_id":9160,"parent_id":1238939,"elapsed":0.025186228973325342,"elapsed_instrumentation":0.00026014004833996296,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9310f3960 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9310f3af0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9310f3d98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9310f3ed8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9310f41f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9310f4428 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9310f4590 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9310f4798 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9310f49a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9310f54e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...7 more items)]","object_id":7128600,"size":17}},{"id":1239059,"event":"call","thread_id":9160,"defined_class":"Api::V1::MediaController","method_id":"show","path":"app/controllers/api/v1/media_controller.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239060,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"not_processed?","path":"app/models/media_attachment.rb","lineno":221,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":7158420,"value":"#<MediaAttachment:0x00007fc91a42c580>"}},{"id":1239061,"event":"return","thread_id":9160,"parent_id":1239060,"elapsed":2.01159855350852e-05,"elapsed_instrumentation":7.539003854617476e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1239062,"event":"call","thread_id":9160,"defined_class":"ActionController::Renderers","method_id":"render_to_body","path":"vendor/bundle/ruby/3.2.0/gems/actionpack-7.1.1/lib/action_controller/metal/renderers.rb","lineno":140,"static":false,"parameters":[{"name":"options","class":"Hash","object_id":7158440,"value":"{:json=>#<MediaAttachment:0x00007fc91a42c580>, :serializer=>REST::MediaAttachmentSerializer, :status=>206, :prefixes=>[api/v1/media, api/base, application], :template=>show, :layout=>#<Proc:0x00007fc930ec9298 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/actionview-7.1.1/lib/ac}","kind":"req","size":6}],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239063,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239064,"event":"call","thread_id":9160,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239065,"event":"return","thread_id":9160,"parent_id":1239064,"elapsed":5.048990715295076e-06,"elapsed_instrumentation":7.788499351590872e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239066,"event":"return","thread_id":9160,"parent_id":1239063,"elapsed":0.00010257598478347063,"elapsed_instrumentation":8.026498835533857e-05,"return_value":{"class":"User","value":"#<User:0x00007fc91a42d5c0>","object_id":7158200}},{"id":1239067,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":1239068,"event":"return","thread_id":9160,"parent_id":1239067,"elapsed":3.702996764332056e-06,"elapsed_instrumentation":9.613606380298734e-05,"return_value":{"class":"Array","value":"[]","object_id":326200,"size":0}},{"id":1239069,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":1239070,"event":"return","thread_id":9160,"parent_id":1239069,"elapsed":3.475986886769533e-06,"elapsed_instrumentation":0.00014840002404525876,"return_value":{"class":"Array","value":"[]","object_id":326240,"size":0}},{"id":1239071,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"id","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":7158480,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931cc0838>"}},{"id":1239072,"event":"return","thread_id":9160,"parent_id":1239071,"elapsed":1.7385988030582666e-05,"elapsed_instrumentation":9.437103290110826e-05,"return_value":{"class":"String","value":"111361378356836578","object_id":7158500}},{"id":1239073,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":7158480,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931cc0838>"}},{"id":1239074,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"not_processed?","path":"app/models/media_attachment.rb","lineno":221,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":7158420,"value":"#<MediaAttachment:0x00007fc91a42c580>"}},{"id":1239075,"event":"return","thread_id":9160,"parent_id":1239074,"elapsed":1.7785991076380014e-05,"elapsed_instrumentation":6.814103107899427e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1239076,"event":"return","thread_id":9160,"parent_id":1239073,"elapsed":0.00010506098624318838,"elapsed_instrumentation":5.5270036682486534e-05},{"id":1239077,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"preview_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":28,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":7158480,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931cc0838>"}},{"id":1239078,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"needs_redownload?","path":"app/models/media_attachment.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":7158420,"value":"#<MediaAttachment:0x00007fc91a42c580>"}},{"id":1239079,"event":"return","thread_id":9160,"parent_id":1239078,"elapsed":0.00012490700464695692,"elapsed_instrumentation":0.00011299294419586658},{"id":1239080,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":7158520,"value":"/system/media_attachments/files/111/361/378/356/836/578/original/attachment.jpg"}},{"id":1239081,"event":"return","thread_id":9160,"parent_id":1239080,"elapsed":1.1374999303370714e-05,"elapsed_instrumentation":0.00027229299303144217,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":1239082,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":7158420,"value":"#<MediaAttachment:0x00007fc91a42c580>"}},{"id":1239083,"event":"return","thread_id":9160,"parent_id":1239082,"elapsed":4.526984412223101e-06,"elapsed_instrumentation":7.086596451699734e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1239084,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"full_asset_url","path":"app/helpers/routing_helper.rb","lineno":17,"static":false,"parameters":[{"name":"source","class":"String","object_id":7158540,"value":"/system/media_attachments/files/111/361/378/356/836/578/small/attachment.jpg","kind":"req"},{"name":"options","class":"Hash","object_id":7158560,"value":"{}","kind":"keyrest","size":0}],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":7158480,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931cc0838>"}},{"id":1239085,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"use_storage?","path":"app/helpers/routing_helper.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":7158480,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931cc0838>"}},{"id":1239086,"event":"return","thread_id":9160,"parent_id":1239085,"elapsed":1.8435996025800705e-05,"elapsed_instrumentation":5.3262978326529264e-05},{"id":1239087,"event":"call","thread_id":9160,"defined_class":"RoutingHelper","method_id":"asset_host","path":"app/helpers/routing_helper.rb","lineno":23,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":7158480,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931cc0838>"}},{"id":1239088,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":7158480,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931cc0838>"}},{"id":1239089,"event":"return","thread_id":9160,"parent_id":1239088,"elapsed":5.031004548072815e-06,"elapsed_instrumentation":0.00014607800403609872,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":1239090,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":7158480,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931cc0838>"}},{"id":1239091,"event":"return","thread_id":9160,"parent_id":1239090,"elapsed":1.9235012587159872e-05,"elapsed_instrumentation":0.00012954900739714503,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":325720,"size":3}},{"id":1239092,"event":"return","thread_id":9160,"parent_id":1239087,"elapsed":0.0005118969711475074,"elapsed_instrumentation":0.0001132609904743731,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/","object_id":7158580}},{"id":1239093,"event":"return","thread_id":9160,"parent_id":1239084,"elapsed":0.0011303380015306175,"elapsed_instrumentation":0.00017938000382855535,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/378/356/836/578/small/attachment.jp (...1 more characters)","object_id":7158600}},{"id":1239094,"event":"return","thread_id":9160,"parent_id":1239077,"elapsed":0.0023093430208973587,"elapsed_instrumentation":7.81840062700212e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/378/356/836/578/small/attachment.jp (...1 more characters)","object_id":7158600}},{"id":1239095,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"remote_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":24,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":7158480,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931cc0838>"}},{"id":1239096,"event":"return","thread_id":9160,"parent_id":1239095,"elapsed":1.5465018805116415e-05,"elapsed_instrumentation":0.0001450060517527163},{"id":1239097,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"preview_remote_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":38,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":7158480,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931cc0838>"}},{"id":1239098,"event":"return","thread_id":9160,"parent_id":1239097,"elapsed":1.488998532295227e-05,"elapsed_instrumentation":7.692701183259487e-05},{"id":1239099,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"text_url","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":42,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":7158480,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931cc0838>"}},{"id":1239100,"event":"call","thread_id":9160,"defined_class":"MediaAttachment","method_id":"local?","path":"app/models/media_attachment.rb","lineno":217,"static":false,"parameters":[],"receiver":{"class":"MediaAttachment","object_id":7158420,"value":"#<MediaAttachment:0x00007fc91a42c580>"}},{"id":1239101,"event":"return","thread_id":9160,"parent_id":1239100,"elapsed":5.496025551110506e-06,"elapsed_instrumentation":7.540901424363256e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1239102,"event":"return","thread_id":9160,"parent_id":1239099,"elapsed":0.0001079050125554204,"elapsed_instrumentation":5.1982991863042116e-05},{"id":1239103,"event":"call","thread_id":9160,"defined_class":"REST::MediaAttachmentSerializer","method_id":"meta","path":"app/serializers/rest/media_attachment_serializer.rb","lineno":46,"static":false,"parameters":[],"receiver":{"class":"REST::MediaAttachmentSerializer","object_id":7158480,"value":"#<REST::MediaAttachmentSerializer:0x00007fc931cc0838>"}},{"id":1239104,"event":"call","thread_id":9160,"defined_class":"Paperclip::AttachmentExtensions","method_id":"meta","path":"lib/paperclip/attachment_extensions.rb","lineno":5,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":7158520,"value":"/system/media_attachments/files/111/361/378/356/836/578/original/attachment.jpg"}},{"id":1239105,"event":"return","thread_id":9160,"parent_id":1239104,"elapsed":2.5268003810197115e-05,"elapsed_instrumentation":0.00022524903761222959},{"id":1239106,"event":"return","thread_id":9160,"parent_id":1239103,"elapsed":0.00027921394212171435,"elapsed_instrumentation":5.5267009884119034e-05},{"id":1239107,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":7158620,"value":"{:id=>111361378356836578, :type=>image, :url=>, :preview_url=>https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/378/356/836/578/small/attachment.jp (...1 more characters), :remote_url=>, :preview_remote_url=>, :text_url=>, :meta=>, :description=>, :blurhash=>}","kind":"req","size":10}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":7158640,"value":"#<JSON::Ext::Generator::State:0x00007fc930f40118>"}},{"id":1239108,"event":"return","thread_id":9160,"parent_id":1239107,"elapsed":1.182500272989273e-05,"elapsed_instrumentation":0.00023763300850987434,"return_value":{"class":"String","value":"{\"id\":\"111361378356836578\",\"type\":\"image\",\"url\":null,\"preview_url\":\"https://cb6e6126.ngrok.io/system (...178 more characters)","object_id":7158660}},{"id":1239109,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326220,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"}},{"id":1239110,"event":"return","thread_id":9160,"parent_id":1239109,"elapsed":3.973022103309631e-06,"elapsed_instrumentation":9.550299728289247e-05,"return_value":{"class":"Array","value":"[]","object_id":328060,"size":0}},{"id":1239111,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":326180,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"}},{"id":1239112,"event":"return","thread_id":9160,"parent_id":1239111,"elapsed":2.6400084607303143e-06,"elapsed_instrumentation":7.73299834690988e-05,"return_value":{"class":"Array","value":"[]","object_id":328080,"size":0}},{"id":1239113,"event":"return","thread_id":9160,"parent_id":1239062,"elapsed":0.005492658005096018,"elapsed_instrumentation":0.0003036920097656548,"return_value":{"class":"String","value":"{\"id\":\"111361378356836578\",\"type\":\"image\",\"url\":null,\"preview_url\":\"https://cb6e6126.ngrok.io/system (...178 more characters)","object_id":7158660}},{"id":1239114,"event":"return","thread_id":9160,"parent_id":1239059,"elapsed":0.006135815987363458,"elapsed_instrumentation":9.970995597541332e-05,"return_value":{"class":"String","value":"{\"id\":\"111361378356836578\",\"type\":\"image\",\"url\":null,\"preview_url\":\"https://cb6e6126.ngrok.io/system (...178 more characters)","object_id":7158660}},{"id":1239115,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":7128380,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9330b2d00>"}},{"id":1239116,"event":"call","thread_id":9160,"defined_class":"CacheConcern","method_id":"enforce_cache_control!","path":"app/controllers/concerns/cache_concern.rb","lineno":165,"static":false,"parameters":[],"receiver":{"class":"Api::V1::MediaController","object_id":7158180,"value":"#<Api::V1::MediaController:0x00007fc91a42dfc0>"}},{"id":1239117,"event":"return","thread_id":9160,"parent_id":1239116,"elapsed":3.849901258945465e-05,"elapsed_instrumentation":0.00011116499081254005,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":7158260,"size":2}},{"id":1239118,"event":"return","thread_id":9160,"parent_id":1239115,"elapsed":0.00020846299594268203,"elapsed_instrumentation":0.0003214390017092228,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc9310f7380 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9310f3c30 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":7128960,"size":2}},{"id":1239119,"event":"return","thread_id":9160,"parent_id":1238926,"elapsed":0.036708905012346804,"elapsed_instrumentation":0.00010336795821785927,"return_value":{"class":"String","value":"{\"id\":\"111361378356836578\",\"type\":\"image\",\"url\":null,\"preview_url\":\"https://cb6e6126.ngrok.io/system (...178 more characters)","object_id":7158660}},{"id":1239120,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":7128300,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9330b2c60>"}},{"id":1239121,"event":"return","thread_id":9160,"parent_id":1239120,"elapsed":2.6549678295850754e-06,"elapsed_instrumentation":8.363602682948112e-05,"return_value":{"class":"Array","value":"[]","object_id":7128980,"size":0}},{"id":1239122,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":7158680,"value":"Completed 206 Partial Content in 39ms (Views: 6.0ms | ActiveRecord: 6.4ms | Allocations: 10084)\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":1239123,"event":"return","thread_id":9160,"parent_id":1239122,"elapsed":0.0007442479836754501,"elapsed_instrumentation":0.0002047060406766832,"return_value":{"class":"Integer","value":"96","object_id":193}},{"id":1239124,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1239125,"event":"return","thread_id":9160,"parent_id":1239124,"elapsed":3.5879784263670444e-06,"elapsed_instrumentation":0.00011959602124989033,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":1239126,"event":"call","thread_id":9160,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":343760,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":7158700,"value":"[_\u0003\u0001x?Wi%X_\u000e\u0003^___]"}},{"id":1239127,"event":"return","thread_id":9160,"parent_id":1239126,"elapsed":6.404006853699684e-06,"elapsed_instrumentation":0.0001534479670226574,"return_value":{"class":"String","value":"3wMBeD9XaSVY+g4DXqC2iQ==","object_id":7158720}},{"id":1239128,"event":"call","thread_id":9160,"defined_class":"Chewy::Strategy::Mastodon","method_id":"leave","path":"lib/chewy/strategy/mastodon.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Chewy::Strategy::Mastodon","object_id":7158740,"value":"#<Chewy::Strategy::Mastodon:0x00007fc930df2c48>"}},{"id":1239129,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":7158760,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":7158780,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1239130,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1239131,"event":"return","thread_id":9160,"parent_id":1239130,"elapsed":2.3480388335883617e-06,"elapsed_instrumentation":6.798096001148224e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":1239132,"event":"return","thread_id":9160,"parent_id":1239129,"elapsed":0.00016953697195276618,"elapsed_instrumentation":0.00011148402700200677,"return_value":{"class":"Array","value":"[]","object_id":7158800,"size":0}},{"id":1239133,"event":"return","thread_id":9160,"parent_id":1239128,"elapsed":0.0003010819782502949,"elapsed_instrumentation":7.782503962516785e-05,"return_value":{"class":"Array","value":"[]","object_id":7158800,"size":0}},{"id":1239134,"event":"return","thread_id":9160,"parent_id":1238913,"elapsed":0.04915109695866704,"elapsed_instrumentation":0.001389443059451878,"return_value":{"class":"Hash","value":"{id=>111361378356836578, type=>image, url=>, preview_url=>https://cb6e6126.ngrok.io/system/media_attachments/files/111/361/378/356/836/578/small/attachment.jp (...1 more characters), remote_url=>, preview_remote_url=>, text_url=>, meta=>, description=>, blurhash=>}","object_id":7158840,"size":10,"properties":[{"name":"id","class":"String"},{"name":"type","class":"String"},{"name":"url","class":"NilClass"},{"name":"preview_url","class":"String"},{"name":"remote_url","class":"NilClass"},{"name":"preview_remote_url","class":"NilClass"},{"name":"text_url","class":"NilClass"},{"name":"meta","class":"NilClass"},{"name":"description","class":"NilClass"},{"name":"blurhash","class":"NilClass"}]},"http_server_response":{"status_code":206,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Vary":"Authorization","Content-Type":"application/json; charset=utf-8","Cache-Control":"private, no-store","Content-Security-Policy":"default-src 'none'; frame-ancestors 'none'; form-action 'none'","X-Request-Id":"ec1e4ab8-26db-4752-abb0-ae0704eed9a4","X-Runtime":"0.048611"}}},{"id":1239135,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934c37c10>"}},{"id":1239136,"event":"return","thread_id":9160,"parent_id":1239135,"elapsed":0.00012384203728288412,"elapsed_instrumentation":0.00024041603319346905,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933f1f4d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f758 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933f1f910 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":318440,"size":4}},{"id":1239137,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":7158860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":318420,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934c37c10>"}},{"id":1239138,"event":"return","thread_id":9160,"parent_id":1239137,"elapsed":3.6539859138429165e-06,"elapsed_instrumentation":8.85800109244883e-05,"return_value":{"class":"Array","value":"[]","object_id":318460,"size":0}}]}