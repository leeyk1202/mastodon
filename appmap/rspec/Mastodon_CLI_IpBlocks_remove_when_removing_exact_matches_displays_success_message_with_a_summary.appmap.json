{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::IpBlocks #remove when removing exact matches displays success message with a summary","source_location":"spec/lib/mastodon/cli/ip_blocks_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"IpBlocks","type":"class","children":[{"name":"remove","type":"function","location":"lib/mastodon/cli/ip_blocks.rb:72","static":false}]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":2188905,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::IpBlocks","method_id":"remove","path":"lib/mastodon/cli/ip_blocks.rb","lineno":72,"static":false,"parameters":[{"name":"addresses","class":"Array","object_id":11135200,"value":"[192.0.2.1, 172.16.0.1, 192.0.2.0/24, 172.16.0.0/16, 10.0.0.0/8, 2001:0db8:85a3:0000:0000:8a2e:0370:7334, fe80::1, ::1, 2001:0db8::/32, fe80::/10 (...1 more items)]","kind":"rest","size":11}],"receiver":{"class":"Mastodon::CLI::IpBlocks","object_id":11135220,"value":"#<Mastodon::CLI::IpBlocks:0x00007fc930f8b3c0>"}},{"id":2188906,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.1') LIMIT $1","database_type":"postgres"}},{"id":2188907,"event":"return","thread_id":9160,"parent_id":2188906,"elapsed":0.000759272,"elapsed_instrumentation":0.00011702603660523891},{"id":2188908,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188909,"event":"return","thread_id":9160,"parent_id":2188908,"elapsed":0.000645974,"elapsed_instrumentation":8.795899339020252e-05},{"id":2188910,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188911,"event":"return","thread_id":9160,"parent_id":2188910,"elapsed":0.000814567,"elapsed_instrumentation":9.023502934724092e-05},{"id":2188912,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188913,"event":"return","thread_id":9160,"parent_id":2188912,"elapsed":0.000626753,"elapsed_instrumentation":8.648500079289079e-05},{"id":2188914,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188915,"event":"return","thread_id":9160,"parent_id":2188914,"elapsed":0.001553252,"elapsed_instrumentation":7.397495210170746e-05},{"id":2188916,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188917,"event":"return","thread_id":9160,"parent_id":2188916,"elapsed":0.000501324,"elapsed_instrumentation":7.529696449637413e-05},{"id":2188918,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188919,"event":"return","thread_id":9160,"parent_id":2188918,"elapsed":4.249974153935909e-06,"elapsed_instrumentation":0.00014545797603204846,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188920,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188921,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11135280,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188922,"event":"return","thread_id":9160,"parent_id":2188921,"elapsed":0.0008166009793058038,"elapsed_instrumentation":0.00012134003918617964,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188923,"event":"return","thread_id":9160,"parent_id":2188920,"elapsed":0.0010923100053332746,"elapsed_instrumentation":0.00011300097685307264,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188924,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.1') LIMIT $1","database_type":"postgres"}},{"id":2188925,"event":"return","thread_id":9160,"parent_id":2188924,"elapsed":0.000650309,"elapsed_instrumentation":9.482097811996937e-05},{"id":2188926,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188927,"event":"return","thread_id":9160,"parent_id":2188926,"elapsed":0.000754427,"elapsed_instrumentation":6.953300908207893e-05},{"id":2188928,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188929,"event":"return","thread_id":9160,"parent_id":2188928,"elapsed":0.000574391,"elapsed_instrumentation":7.16710346750915e-05},{"id":2188930,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188931,"event":"return","thread_id":9160,"parent_id":2188930,"elapsed":0.000479343,"elapsed_instrumentation":7.211498450487852e-05},{"id":2188932,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188933,"event":"return","thread_id":9160,"parent_id":2188932,"elapsed":0.001159627,"elapsed_instrumentation":6.371602648869157e-05},{"id":2188934,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188935,"event":"return","thread_id":9160,"parent_id":2188934,"elapsed":0.00037523,"elapsed_instrumentation":8.381798397749662e-05},{"id":2188936,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188937,"event":"return","thread_id":9160,"parent_id":2188936,"elapsed":4.419009201228619e-06,"elapsed_instrumentation":0.00012475100811570883,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188938,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188939,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11135340,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188940,"event":"return","thread_id":9160,"parent_id":2188939,"elapsed":0.0007219170220196247,"elapsed_instrumentation":0.00012575305299833417,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188941,"event":"return","thread_id":9160,"parent_id":2188938,"elapsed":0.0010996179771609604,"elapsed_instrumentation":0.00022413802798837423,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188942,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.0/24') LIMIT $1","database_type":"postgres"}},{"id":2188943,"event":"return","thread_id":9160,"parent_id":2188942,"elapsed":0.000660891,"elapsed_instrumentation":7.242104038596153e-05},{"id":2188944,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.0/24') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188945,"event":"return","thread_id":9160,"parent_id":2188944,"elapsed":0.000853092,"elapsed_instrumentation":7.497199112549424e-05},{"id":2188946,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.0/24') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188947,"event":"return","thread_id":9160,"parent_id":2188946,"elapsed":0.000591561,"elapsed_instrumentation":7.035303860902786e-05},{"id":2188948,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188949,"event":"return","thread_id":9160,"parent_id":2188948,"elapsed":0.000534259,"elapsed_instrumentation":7.293297676369548e-05},{"id":2188950,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188951,"event":"return","thread_id":9160,"parent_id":2188950,"elapsed":0.001290748,"elapsed_instrumentation":7.453100988641381e-05},{"id":2188952,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188953,"event":"return","thread_id":9160,"parent_id":2188952,"elapsed":0.000402468,"elapsed_instrumentation":7.348303915932775e-05},{"id":2188954,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188955,"event":"return","thread_id":9160,"parent_id":2188954,"elapsed":4.039029590785503e-06,"elapsed_instrumentation":0.00014933903003111482,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188956,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188957,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11135400,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188958,"event":"return","thread_id":9160,"parent_id":2188957,"elapsed":0.000843970978166908,"elapsed_instrumentation":0.00011944700963795185,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188959,"event":"return","thread_id":9160,"parent_id":2188956,"elapsed":0.0011410699808038771,"elapsed_instrumentation":0.00012161699123680592,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188960,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.0/16') LIMIT $1","database_type":"postgres"}},{"id":2188961,"event":"return","thread_id":9160,"parent_id":2188960,"elapsed":0.000721829,"elapsed_instrumentation":7.165299030020833e-05},{"id":2188962,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.0/16') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188963,"event":"return","thread_id":9160,"parent_id":2188962,"elapsed":0.000550269,"elapsed_instrumentation":6.822898285463452e-05},{"id":2188964,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.0/16') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188965,"event":"return","thread_id":9160,"parent_id":2188964,"elapsed":0.000673893,"elapsed_instrumentation":6.751395994797349e-05},{"id":2188966,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188967,"event":"return","thread_id":9160,"parent_id":2188966,"elapsed":0.000390259,"elapsed_instrumentation":6.653700256720185e-05},{"id":2188968,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188969,"event":"return","thread_id":9160,"parent_id":2188968,"elapsed":0.001128459,"elapsed_instrumentation":0.000199497037101537},{"id":2188970,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188971,"event":"return","thread_id":9160,"parent_id":2188970,"elapsed":0.000467056,"elapsed_instrumentation":6.628094706684351e-05},{"id":2188972,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188973,"event":"return","thread_id":9160,"parent_id":2188972,"elapsed":3.5679549910128117e-06,"elapsed_instrumentation":0.0001268440391868353,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188974,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188975,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11135460,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188976,"event":"return","thread_id":9160,"parent_id":2188975,"elapsed":0.0007112330058589578,"elapsed_instrumentation":0.00011297501623630524,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188977,"event":"return","thread_id":9160,"parent_id":2188974,"elapsed":0.0009585969964973629,"elapsed_instrumentation":0.00011044798884540796,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188978,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '10.0.0.0/8') LIMIT $1","database_type":"postgres"}},{"id":2188979,"event":"return","thread_id":9160,"parent_id":2188978,"elapsed":0.000657914,"elapsed_instrumentation":0.00020070699974894524},{"id":2188980,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '10.0.0.0/8') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188981,"event":"return","thread_id":9160,"parent_id":2188980,"elapsed":0.000689873,"elapsed_instrumentation":0.0001424499787390232},{"id":2188982,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '10.0.0.0/8') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188983,"event":"return","thread_id":9160,"parent_id":2188982,"elapsed":0.000914985,"elapsed_instrumentation":7.999804802238941e-05},{"id":2188984,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188985,"event":"return","thread_id":9160,"parent_id":2188984,"elapsed":0.000454806,"elapsed_instrumentation":0.0001811539987102151},{"id":2188986,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2188987,"event":"return","thread_id":9160,"parent_id":2188986,"elapsed":0.001565641,"elapsed_instrumentation":8.261599577963352e-05},{"id":2188988,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2188989,"event":"return","thread_id":9160,"parent_id":2188988,"elapsed":0.000442532,"elapsed_instrumentation":8.385803084820509e-05},{"id":2188990,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188991,"event":"return","thread_id":9160,"parent_id":2188990,"elapsed":5.843001417815685e-06,"elapsed_instrumentation":0.00018124806229025126,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2188992,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2188993,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11135520,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2188994,"event":"return","thread_id":9160,"parent_id":2188993,"elapsed":0.0006814480293542147,"elapsed_instrumentation":0.0003172479919157922,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2188995,"event":"return","thread_id":9160,"parent_id":2188992,"elapsed":0.0011802410008385777,"elapsed_instrumentation":0.0002999170101247728,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2188996,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8:85a3:0000:0000:8a2e:0370:7334') LIMIT $1","database_type":"postgres"}},{"id":2188997,"event":"return","thread_id":9160,"parent_id":2188996,"elapsed":0.000602754,"elapsed_instrumentation":7.166096474975348e-05},{"id":2188998,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8:85a3:0000:0000:8a2e:0370:7334') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2188999,"event":"return","thread_id":9160,"parent_id":2188998,"elapsed":0.000664175,"elapsed_instrumentation":7.991900201886892e-05},{"id":2189000,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8:85a3:0000:0000:8a2e:0370:7334') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2189001,"event":"return","thread_id":9160,"parent_id":2189000,"elapsed":0.000619493,"elapsed_instrumentation":7.26690050214529e-05},{"id":2189002,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2189003,"event":"return","thread_id":9160,"parent_id":2189002,"elapsed":0.000446953,"elapsed_instrumentation":7.257098332047462e-05},{"id":2189004,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2189005,"event":"return","thread_id":9160,"parent_id":2189004,"elapsed":0.001303536,"elapsed_instrumentation":6.644101813435555e-05},{"id":2189006,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2189007,"event":"return","thread_id":9160,"parent_id":2189006,"elapsed":0.000538524,"elapsed_instrumentation":0.00020389899145811796},{"id":2189008,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2189009,"event":"return","thread_id":9160,"parent_id":2189008,"elapsed":4.8140063881874084e-06,"elapsed_instrumentation":0.00014802702935412526,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2189010,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2189011,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11135580,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2189012,"event":"return","thread_id":9160,"parent_id":2189011,"elapsed":0.0006421050056815147,"elapsed_instrumentation":0.00013860902981832623,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2189013,"event":"return","thread_id":9160,"parent_id":2189010,"elapsed":0.0009343039710074663,"elapsed_instrumentation":0.00011541799176484346,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2189014,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= 'fe80::1') LIMIT $1","database_type":"postgres"}},{"id":2189015,"event":"return","thread_id":9160,"parent_id":2189014,"elapsed":0.000859268,"elapsed_instrumentation":7.922400254756212e-05},{"id":2189016,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= 'fe80::1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2189017,"event":"return","thread_id":9160,"parent_id":2189016,"elapsed":0.000684127,"elapsed_instrumentation":7.260398706421256e-05},{"id":2189018,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= 'fe80::1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2189019,"event":"return","thread_id":9160,"parent_id":2189018,"elapsed":0.000750194,"elapsed_instrumentation":7.21140531823039e-05},{"id":2189020,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2189021,"event":"return","thread_id":9160,"parent_id":2189020,"elapsed":0.000415195,"elapsed_instrumentation":6.675603799521923e-05},{"id":2189022,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2189023,"event":"return","thread_id":9160,"parent_id":2189022,"elapsed":0.001163605,"elapsed_instrumentation":6.85820123180747e-05},{"id":2189024,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2189025,"event":"return","thread_id":9160,"parent_id":2189024,"elapsed":0.000527403,"elapsed_instrumentation":6.726902211084962e-05},{"id":2189026,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2189027,"event":"return","thread_id":9160,"parent_id":2189026,"elapsed":3.5589910112321377e-06,"elapsed_instrumentation":0.00012311903992667794,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2189028,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2189029,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11135640,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2189030,"event":"return","thread_id":9160,"parent_id":2189029,"elapsed":0.0007484289817512035,"elapsed_instrumentation":0.00011478603119030595,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2189031,"event":"return","thread_id":9160,"parent_id":2189028,"elapsed":0.0010018899920396507,"elapsed_instrumentation":0.00011134200030937791,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2189032,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '::1') LIMIT $1","database_type":"postgres"}},{"id":2189033,"event":"return","thread_id":9160,"parent_id":2189032,"elapsed":0.000555369,"elapsed_instrumentation":7.274601375684142e-05},{"id":2189034,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '::1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2189035,"event":"return","thread_id":9160,"parent_id":2189034,"elapsed":0.00059895,"elapsed_instrumentation":7.298000855371356e-05},{"id":2189036,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '::1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2189037,"event":"return","thread_id":9160,"parent_id":2189036,"elapsed":0.000603937,"elapsed_instrumentation":7.134501356631517e-05},{"id":2189038,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2189039,"event":"return","thread_id":9160,"parent_id":2189038,"elapsed":0.000479517,"elapsed_instrumentation":7.22130062058568e-05},{"id":2189040,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2189041,"event":"return","thread_id":9160,"parent_id":2189040,"elapsed":0.001211457,"elapsed_instrumentation":0.000123532023280859},{"id":2189042,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2189043,"event":"return","thread_id":9160,"parent_id":2189042,"elapsed":0.000367198,"elapsed_instrumentation":7.259700214490294e-05},{"id":2189044,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2189045,"event":"return","thread_id":9160,"parent_id":2189044,"elapsed":3.735010977834463e-06,"elapsed_instrumentation":0.00019789393991231918,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2189046,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2189047,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11135700,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2189048,"event":"return","thread_id":9160,"parent_id":2189047,"elapsed":0.000684088037814945,"elapsed_instrumentation":0.0001548089785501361,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2189049,"event":"return","thread_id":9160,"parent_id":2189046,"elapsed":0.0009768710006028414,"elapsed_instrumentation":0.00011827301932498813,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2189050,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8::/32') LIMIT $1","database_type":"postgres"}},{"id":2189051,"event":"return","thread_id":9160,"parent_id":2189050,"elapsed":0.000600617,"elapsed_instrumentation":6.493995897471905e-05},{"id":2189052,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8::/32') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2189053,"event":"return","thread_id":9160,"parent_id":2189052,"elapsed":0.000543335,"elapsed_instrumentation":6.859702989459038e-05},{"id":2189054,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8::/32') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2189055,"event":"return","thread_id":9160,"parent_id":2189054,"elapsed":0.000741119,"elapsed_instrumentation":7.597601506859064e-05},{"id":2189056,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2189057,"event":"return","thread_id":9160,"parent_id":2189056,"elapsed":0.000452973,"elapsed_instrumentation":0.0001535149640403688},{"id":2189058,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2189059,"event":"return","thread_id":9160,"parent_id":2189058,"elapsed":0.001273792,"elapsed_instrumentation":6.355502409860492e-05},{"id":2189060,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2189061,"event":"return","thread_id":9160,"parent_id":2189060,"elapsed":0.000375175,"elapsed_instrumentation":6.392301293089986e-05},{"id":2189062,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2189063,"event":"return","thread_id":9160,"parent_id":2189062,"elapsed":4.055036697536707e-06,"elapsed_instrumentation":0.000145347963552922,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2189064,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2189065,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11135760,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2189066,"event":"return","thread_id":9160,"parent_id":2189065,"elapsed":0.0007165379938669503,"elapsed_instrumentation":0.0001236309763044119,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2189067,"event":"return","thread_id":9160,"parent_id":2189064,"elapsed":0.0010706930188462138,"elapsed_instrumentation":0.00016621098620817065,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2189068,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= 'fe80::/10') LIMIT $1","database_type":"postgres"}},{"id":2189069,"event":"return","thread_id":9160,"parent_id":2189068,"elapsed":0.00062121,"elapsed_instrumentation":7.181696128100157e-05},{"id":2189070,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= 'fe80::/10') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2189071,"event":"return","thread_id":9160,"parent_id":2189070,"elapsed":0.000628127,"elapsed_instrumentation":7.218500832095742e-05},{"id":2189072,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= 'fe80::/10') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2189073,"event":"return","thread_id":9160,"parent_id":2189072,"elapsed":0.0006817,"elapsed_instrumentation":7.106096018105745e-05},{"id":2189074,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2189075,"event":"return","thread_id":9160,"parent_id":2189074,"elapsed":0.000509102,"elapsed_instrumentation":8.008495206013322e-05},{"id":2189076,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2189077,"event":"return","thread_id":9160,"parent_id":2189076,"elapsed":0.001625775,"elapsed_instrumentation":0.00011224404443055391},{"id":2189078,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2189079,"event":"return","thread_id":9160,"parent_id":2189078,"elapsed":0.000653559,"elapsed_instrumentation":7.780198939144611e-05},{"id":2189080,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2189081,"event":"return","thread_id":9160,"parent_id":2189080,"elapsed":4.330999217927456e-06,"elapsed_instrumentation":0.00015657901531085372,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2189082,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2189083,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11135820,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2189084,"event":"return","thread_id":9160,"parent_id":2189083,"elapsed":0.0007303300080820918,"elapsed_instrumentation":0.0001229390036314726,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2189085,"event":"return","thread_id":9160,"parent_id":2189082,"elapsed":0.0010110969888046384,"elapsed_instrumentation":0.0001176669611595571,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2189086,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '::/128') LIMIT $1","database_type":"postgres"}},{"id":2189087,"event":"return","thread_id":9160,"parent_id":2189086,"elapsed":0.000655602,"elapsed_instrumentation":0.00010154099436476827},{"id":2189088,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '::/128') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2189089,"event":"return","thread_id":9160,"parent_id":2189088,"elapsed":0.000725978,"elapsed_instrumentation":0.00012581399641931057},{"id":2189090,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '::/128') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2189091,"event":"return","thread_id":9160,"parent_id":2189090,"elapsed":0.000727505,"elapsed_instrumentation":7.372797699645162e-05},{"id":2189092,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2189093,"event":"return","thread_id":9160,"parent_id":2189092,"elapsed":0.000501839,"elapsed_instrumentation":7.100403308868408e-05},{"id":2189094,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":2189095,"event":"return","thread_id":9160,"parent_id":2189094,"elapsed":0.001428992,"elapsed_instrumentation":8.804997196421027e-05},{"id":2189096,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2189097,"event":"return","thread_id":9160,"parent_id":2189096,"elapsed":0.000416639,"elapsed_instrumentation":9.754498023539782e-05},{"id":2189098,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2189099,"event":"return","thread_id":9160,"parent_id":2189098,"elapsed":4.932982847094536e-06,"elapsed_instrumentation":0.0004778269794769585,"return_value":{"class":"Array","value":"[]","object_id":1529260,"size":0}},{"id":2189100,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":11135860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1529240,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc9313fb9f0>"}},{"id":2189101,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":11135880,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2189102,"event":"return","thread_id":9160,"parent_id":2189101,"elapsed":0.000778135028667748,"elapsed_instrumentation":0.00012208090629428625,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":2189103,"event":"return","thread_id":9160,"parent_id":2189100,"elapsed":0.0010569809819571674,"elapsed_instrumentation":0.00012812897330150008,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93169ad50 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1529300,"size":1}},{"id":2189104,"event":"return","thread_id":9160,"parent_id":2188905,"elapsed":0.10393127199495211,"elapsed_instrumentation":0.00025267695309594274,"return_value":{"class":"StringIO","value":"#<StringIO:0x00007fc9325eacb0>","object_id":11135900}}]}