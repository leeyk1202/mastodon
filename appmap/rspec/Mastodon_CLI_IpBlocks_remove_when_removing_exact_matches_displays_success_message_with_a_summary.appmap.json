{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::IpBlocks #remove when removing exact matches displays success message with a summary","source_location":"spec/lib/mastodon/cli/ip_blocks_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"IpBlocks","type":"class","children":[{"name":"remove","type":"function","location":"lib/mastodon/cli/ip_blocks.rb:72","static":false}]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]}],"events":[{"id":836291,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::IpBlocks","method_id":"remove","path":"lib/mastodon/cli/ip_blocks.rb","lineno":72,"static":false,"parameters":[{"name":"addresses","class":"Array","object_id":5110840,"value":"[192.0.2.1, 172.16.0.1, 192.0.2.0/24, 172.16.0.0/16, 10.0.0.0/8, 2001:0db8:85a3:0000:0000:8a2e:0370:7334, fe80::1, ::1, 2001:0db8::/32, fe80::/10 (...1 more items)]","kind":"rest","size":11}],"receiver":{"class":"Mastodon::CLI::IpBlocks","object_id":5110860,"value":"#<Mastodon::CLI::IpBlocks:0x00007fdc09697f48>"}},{"id":836292,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.1') LIMIT $1","database_type":"postgres"}},{"id":836293,"event":"return","thread_id":9160,"parent_id":836292,"elapsed":0.000889111,"elapsed_instrumentation":0.0001025829988066107},{"id":836294,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836295,"event":"return","thread_id":9160,"parent_id":836294,"elapsed":0.001096763,"elapsed_instrumentation":8.140600402839482e-05},{"id":836296,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836297,"event":"return","thread_id":9160,"parent_id":836296,"elapsed":0.000856523,"elapsed_instrumentation":7.528901915065944e-05},{"id":836298,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836299,"event":"return","thread_id":9160,"parent_id":836298,"elapsed":0.000767144,"elapsed_instrumentation":7.263402221724391e-05},{"id":836300,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836301,"event":"return","thread_id":9160,"parent_id":836300,"elapsed":0.001682323,"elapsed_instrumentation":7.335498230531812e-05},{"id":836302,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836303,"event":"return","thread_id":9160,"parent_id":836302,"elapsed":0.000687629,"elapsed_instrumentation":7.032800931483507e-05},{"id":836304,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5110900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836305,"event":"return","thread_id":9160,"parent_id":836304,"elapsed":3.811001079156995e-06,"elapsed_instrumentation":0.00014394702157005668,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836306,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5110900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836307,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5110920,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836308,"event":"return","thread_id":9160,"parent_id":836307,"elapsed":0.0011372690205462277,"elapsed_instrumentation":0.0001453249715268612,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836309,"event":"return","thread_id":9160,"parent_id":836306,"elapsed":0.0014333059953060001,"elapsed_instrumentation":0.00011802400695160031,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836310,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.1') LIMIT $1","database_type":"postgres"}},{"id":836311,"event":"return","thread_id":9160,"parent_id":836310,"elapsed":0.001040614,"elapsed_instrumentation":0.00034431900712661445},{"id":836312,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836313,"event":"return","thread_id":9160,"parent_id":836312,"elapsed":0.00105224,"elapsed_instrumentation":0.0001194709911942482},{"id":836314,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836315,"event":"return","thread_id":9160,"parent_id":836314,"elapsed":0.000794692,"elapsed_instrumentation":8.272702689282596e-05},{"id":836316,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836317,"event":"return","thread_id":9160,"parent_id":836316,"elapsed":0.000675035,"elapsed_instrumentation":7.464998634532094e-05},{"id":836318,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836319,"event":"return","thread_id":9160,"parent_id":836318,"elapsed":0.001763609,"elapsed_instrumentation":7.317500421777368e-05},{"id":836320,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836321,"event":"return","thread_id":9160,"parent_id":836320,"elapsed":0.000648675,"elapsed_instrumentation":9.901999146677554e-05},{"id":836322,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5110960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836323,"event":"return","thread_id":9160,"parent_id":836322,"elapsed":4.377012373879552e-06,"elapsed_instrumentation":0.0001770119706634432,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836324,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5110960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836325,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5110980,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836326,"event":"return","thread_id":9160,"parent_id":836325,"elapsed":0.0013563459797296673,"elapsed_instrumentation":0.00014982803259044886,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836327,"event":"return","thread_id":9160,"parent_id":836324,"elapsed":0.0016696620150469244,"elapsed_instrumentation":0.00011977998656220734,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836328,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.0/24') LIMIT $1","database_type":"postgres"}},{"id":836329,"event":"return","thread_id":9160,"parent_id":836328,"elapsed":0.000936606,"elapsed_instrumentation":7.818901212885976e-05},{"id":836330,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.0/24') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836331,"event":"return","thread_id":9160,"parent_id":836330,"elapsed":0.000815451,"elapsed_instrumentation":7.781601743772626e-05},{"id":836332,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '192.0.2.0/24') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836333,"event":"return","thread_id":9160,"parent_id":836332,"elapsed":0.000767413,"elapsed_instrumentation":8.369397255592048e-05},{"id":836334,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836335,"event":"return","thread_id":9160,"parent_id":836334,"elapsed":0.000604556,"elapsed_instrumentation":0.00011685799108818173},{"id":836336,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836337,"event":"return","thread_id":9160,"parent_id":836336,"elapsed":0.002276713,"elapsed_instrumentation":0.00012613198487088084},{"id":836338,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836339,"event":"return","thread_id":9160,"parent_id":836338,"elapsed":0.0004943,"elapsed_instrumentation":8.985502063296735e-05},{"id":836340,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836341,"event":"return","thread_id":9160,"parent_id":836340,"elapsed":4.228000761941075e-06,"elapsed_instrumentation":0.00016937401960603893,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836342,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836343,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5111040,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836344,"event":"return","thread_id":9160,"parent_id":836343,"elapsed":0.000765685981605202,"elapsed_instrumentation":0.00017707800725474954,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836345,"event":"return","thread_id":9160,"parent_id":836342,"elapsed":0.0012578439782373607,"elapsed_instrumentation":0.00013699900591745973,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836346,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.0/16') LIMIT $1","database_type":"postgres"}},{"id":836347,"event":"return","thread_id":9160,"parent_id":836346,"elapsed":0.000745946,"elapsed_instrumentation":8.491898188367486e-05},{"id":836348,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.0/16') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836349,"event":"return","thread_id":9160,"parent_id":836348,"elapsed":0.00125972,"elapsed_instrumentation":0.000135525013320148},{"id":836350,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '172.16.0.0/16') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836351,"event":"return","thread_id":9160,"parent_id":836350,"elapsed":0.000890966,"elapsed_instrumentation":0.0001792210096027702},{"id":836352,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836353,"event":"return","thread_id":9160,"parent_id":836352,"elapsed":0.00102137,"elapsed_instrumentation":0.0003558460157364607},{"id":836354,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836355,"event":"return","thread_id":9160,"parent_id":836354,"elapsed":0.002606115,"elapsed_instrumentation":8.719897596165538e-05},{"id":836356,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836357,"event":"return","thread_id":9160,"parent_id":836356,"elapsed":0.000709741,"elapsed_instrumentation":9.089999366551638e-05},{"id":836358,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836359,"event":"return","thread_id":9160,"parent_id":836358,"elapsed":5.1679962780326605e-06,"elapsed_instrumentation":0.00047172201448120177,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836360,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836361,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5111100,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836362,"event":"return","thread_id":9160,"parent_id":836361,"elapsed":0.000997457973426208,"elapsed_instrumentation":0.00024354399647563696,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836363,"event":"return","thread_id":9160,"parent_id":836360,"elapsed":0.0014455960190389305,"elapsed_instrumentation":0.0003948449739255011,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836364,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '10.0.0.0/8') LIMIT $1","database_type":"postgres"}},{"id":836365,"event":"return","thread_id":9160,"parent_id":836364,"elapsed":0.001211118,"elapsed_instrumentation":9.790301555767655e-05},{"id":836366,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '10.0.0.0/8') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836367,"event":"return","thread_id":9160,"parent_id":836366,"elapsed":0.001160345,"elapsed_instrumentation":0.00011424897820688784},{"id":836368,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '10.0.0.0/8') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836369,"event":"return","thread_id":9160,"parent_id":836368,"elapsed":0.000732756,"elapsed_instrumentation":7.75769876781851e-05},{"id":836370,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836371,"event":"return","thread_id":9160,"parent_id":836370,"elapsed":0.000708358,"elapsed_instrumentation":9.580899495631456e-05},{"id":836372,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836373,"event":"return","thread_id":9160,"parent_id":836372,"elapsed":0.001890475,"elapsed_instrumentation":7.234199438244104e-05},{"id":836374,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836375,"event":"return","thread_id":9160,"parent_id":836374,"elapsed":0.00058018,"elapsed_instrumentation":0.0001634339860174805},{"id":836376,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836377,"event":"return","thread_id":9160,"parent_id":836376,"elapsed":3.861990990117192e-06,"elapsed_instrumentation":0.00016369501827284694,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836378,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836379,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5111160,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836380,"event":"return","thread_id":9160,"parent_id":836379,"elapsed":0.0014644059992861003,"elapsed_instrumentation":0.00020250200759619474,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836381,"event":"return","thread_id":9160,"parent_id":836378,"elapsed":0.0018299020011909306,"elapsed_instrumentation":0.00012309002340771258,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836382,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8:85a3:0000:0000:8a2e:0370:7334') LIMIT $1","database_type":"postgres"}},{"id":836383,"event":"return","thread_id":9160,"parent_id":836382,"elapsed":0.001001554,"elapsed_instrumentation":8.415401680395007e-05},{"id":836384,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8:85a3:0000:0000:8a2e:0370:7334') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836385,"event":"return","thread_id":9160,"parent_id":836384,"elapsed":0.000778072,"elapsed_instrumentation":7.774299592711031e-05},{"id":836386,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8:85a3:0000:0000:8a2e:0370:7334') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836387,"event":"return","thread_id":9160,"parent_id":836386,"elapsed":0.000758888,"elapsed_instrumentation":7.452600402757525e-05},{"id":836388,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836389,"event":"return","thread_id":9160,"parent_id":836388,"elapsed":0.000598122,"elapsed_instrumentation":7.357198046520352e-05},{"id":836390,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836391,"event":"return","thread_id":9160,"parent_id":836390,"elapsed":0.001989274,"elapsed_instrumentation":6.877799751237035e-05},{"id":836392,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836393,"event":"return","thread_id":9160,"parent_id":836392,"elapsed":0.000441245,"elapsed_instrumentation":7.266001193784177e-05},{"id":836394,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836395,"event":"return","thread_id":9160,"parent_id":836394,"elapsed":6.152986316010356e-06,"elapsed_instrumentation":0.00019056900055147707,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836396,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836397,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5111220,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836398,"event":"return","thread_id":9160,"parent_id":836397,"elapsed":0.0013069470005575567,"elapsed_instrumentation":0.00014601601287722588,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836399,"event":"return","thread_id":9160,"parent_id":836396,"elapsed":0.0016229769971687347,"elapsed_instrumentation":0.00012416901881806552,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836400,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= 'fe80::1') LIMIT $1","database_type":"postgres"}},{"id":836401,"event":"return","thread_id":9160,"parent_id":836400,"elapsed":0.00077765,"elapsed_instrumentation":7.661298150196671e-05},{"id":836402,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= 'fe80::1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836403,"event":"return","thread_id":9160,"parent_id":836402,"elapsed":0.000843621,"elapsed_instrumentation":0.00010131800081580877},{"id":836404,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= 'fe80::1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836405,"event":"return","thread_id":9160,"parent_id":836404,"elapsed":0.000708771,"elapsed_instrumentation":7.410001126118004e-05},{"id":836406,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836407,"event":"return","thread_id":9160,"parent_id":836406,"elapsed":0.000468176,"elapsed_instrumentation":0.0003684879920911044},{"id":836408,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836409,"event":"return","thread_id":9160,"parent_id":836408,"elapsed":0.002011302,"elapsed_instrumentation":9.748901356942952e-05},{"id":836410,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836411,"event":"return","thread_id":9160,"parent_id":836410,"elapsed":0.000556214,"elapsed_instrumentation":9.433599188923836e-05},{"id":836412,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836413,"event":"return","thread_id":9160,"parent_id":836412,"elapsed":3.9739825297147036e-06,"elapsed_instrumentation":0.00015719601651653647,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836414,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836415,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5111280,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836416,"event":"return","thread_id":9160,"parent_id":836415,"elapsed":0.0013780270237475634,"elapsed_instrumentation":0.00014769798144698143,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836417,"event":"return","thread_id":9160,"parent_id":836414,"elapsed":0.0017081920232158154,"elapsed_instrumentation":0.00014365199604071677,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836418,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '::1') LIMIT $1","database_type":"postgres"}},{"id":836419,"event":"return","thread_id":9160,"parent_id":836418,"elapsed":0.000929684,"elapsed_instrumentation":8.052500197663903e-05},{"id":836420,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '::1') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836421,"event":"return","thread_id":9160,"parent_id":836420,"elapsed":0.001023065,"elapsed_instrumentation":9.740499081090093e-05},{"id":836422,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '::1') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836423,"event":"return","thread_id":9160,"parent_id":836422,"elapsed":0.000836221,"elapsed_instrumentation":8.105899905785918e-05},{"id":836424,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836425,"event":"return","thread_id":9160,"parent_id":836424,"elapsed":0.000664931,"elapsed_instrumentation":8.751399582251906e-05},{"id":836426,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836427,"event":"return","thread_id":9160,"parent_id":836426,"elapsed":0.001763329,"elapsed_instrumentation":7.266600732691586e-05},{"id":836428,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836429,"event":"return","thread_id":9160,"parent_id":836428,"elapsed":0.00061422,"elapsed_instrumentation":9.943798067979515e-05},{"id":836430,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836431,"event":"return","thread_id":9160,"parent_id":836430,"elapsed":4.29799547418952e-06,"elapsed_instrumentation":0.00017073401249945164,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836432,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836433,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5111340,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836434,"event":"return","thread_id":9160,"parent_id":836433,"elapsed":0.0014016579953022301,"elapsed_instrumentation":0.00014723400818184018,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836435,"event":"return","thread_id":9160,"parent_id":836432,"elapsed":0.0017198539862874895,"elapsed_instrumentation":0.00012711301678791642,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836436,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8::/32') LIMIT $1","database_type":"postgres"}},{"id":836437,"event":"return","thread_id":9160,"parent_id":836436,"elapsed":0.00119969,"elapsed_instrumentation":9.178800974041224e-05},{"id":836438,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8::/32') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836439,"event":"return","thread_id":9160,"parent_id":836438,"elapsed":0.001137802,"elapsed_instrumentation":9.031000081449747e-05},{"id":836440,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '2001:0db8::/32') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836441,"event":"return","thread_id":9160,"parent_id":836440,"elapsed":0.001227115,"elapsed_instrumentation":0.00010435201693326235},{"id":836442,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836443,"event":"return","thread_id":9160,"parent_id":836442,"elapsed":0.001483135,"elapsed_instrumentation":0.00010542100062593818},{"id":836444,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836445,"event":"return","thread_id":9160,"parent_id":836444,"elapsed":0.00261106,"elapsed_instrumentation":7.862999336794019e-05},{"id":836446,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836447,"event":"return","thread_id":9160,"parent_id":836446,"elapsed":0.000618739,"elapsed_instrumentation":0.00012634601444005966},{"id":836448,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836449,"event":"return","thread_id":9160,"parent_id":836448,"elapsed":4.208995960652828e-06,"elapsed_instrumentation":0.0001630990009289235,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836450,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836451,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5111400,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836452,"event":"return","thread_id":9160,"parent_id":836451,"elapsed":0.0009779139945749193,"elapsed_instrumentation":0.00012525302008725703,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836453,"event":"return","thread_id":9160,"parent_id":836450,"elapsed":0.0012562779884319752,"elapsed_instrumentation":0.0001402930065523833,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836454,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= 'fe80::/10') LIMIT $1","database_type":"postgres"}},{"id":836455,"event":"return","thread_id":9160,"parent_id":836454,"elapsed":0.000744907,"elapsed_instrumentation":8.618299034424126e-05},{"id":836456,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= 'fe80::/10') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836457,"event":"return","thread_id":9160,"parent_id":836456,"elapsed":0.001028726,"elapsed_instrumentation":7.951000588946044e-05},{"id":836458,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= 'fe80::/10') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836459,"event":"return","thread_id":9160,"parent_id":836458,"elapsed":0.00073534,"elapsed_instrumentation":0.00029438501223921776},{"id":836460,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836461,"event":"return","thread_id":9160,"parent_id":836460,"elapsed":0.000452269,"elapsed_instrumentation":0.000205210002604872},{"id":836462,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836463,"event":"return","thread_id":9160,"parent_id":836462,"elapsed":0.001518479,"elapsed_instrumentation":7.205098518170416e-05},{"id":836464,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836465,"event":"return","thread_id":9160,"parent_id":836464,"elapsed":0.000828595,"elapsed_instrumentation":7.275797543115914e-05},{"id":836466,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836467,"event":"return","thread_id":9160,"parent_id":836466,"elapsed":4.771980457007885e-06,"elapsed_instrumentation":0.00017238102736882865,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836468,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836469,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5111460,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836470,"event":"return","thread_id":9160,"parent_id":836469,"elapsed":0.0011053099879063666,"elapsed_instrumentation":0.0003152039716951549,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836471,"event":"return","thread_id":9160,"parent_id":836468,"elapsed":0.0015923689934425056,"elapsed_instrumentation":0.00012738004443235695,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836472,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT 1 AS one FROM \"ip_blocks\" WHERE (ip <<= '::/128') LIMIT $1","database_type":"postgres"}},{"id":836473,"event":"return","thread_id":9160,"parent_id":836472,"elapsed":0.001028516,"elapsed_instrumentation":7.726097828708589e-05},{"id":836474,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".\"id\" FROM \"ip_blocks\" WHERE (ip <<= '::/128') ORDER BY \"ip_blocks\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":836475,"event":"return","thread_id":9160,"parent_id":836474,"elapsed":0.001047255,"elapsed_instrumentation":9.614400914870203e-05},{"id":836476,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"ip_blocks\".* FROM \"ip_blocks\" WHERE (ip <<= '::/128') AND \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836477,"event":"return","thread_id":9160,"parent_id":836476,"elapsed":0.000752853,"elapsed_instrumentation":0.00012373898061923683},{"id":836478,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836479,"event":"return","thread_id":9160,"parent_id":836478,"elapsed":0.000910536,"elapsed_instrumentation":0.00012106299982406199},{"id":836480,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"ip_blocks\" WHERE \"ip_blocks\".\"id\" = $1","database_type":"postgres"}},{"id":836481,"event":"return","thread_id":9160,"parent_id":836480,"elapsed":0.002240075,"elapsed_instrumentation":8.468399755656719e-05},{"id":836482,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":836483,"event":"return","thread_id":9160,"parent_id":836482,"elapsed":0.000470616,"elapsed_instrumentation":0.00029332900885492563},{"id":836484,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836485,"event":"return","thread_id":9160,"parent_id":836484,"elapsed":7.510010618716478e-06,"elapsed_instrumentation":0.0002446610014885664,"return_value":{"class":"Array","value":"[]","object_id":5084960,"size":0}},{"id":836486,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":5111500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":5084940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09afeb18>"}},{"id":836487,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":5111520,"value":"Cache delete: blocked_ips\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":836488,"event":"return","thread_id":9160,"parent_id":836487,"elapsed":0.0013526069815270603,"elapsed_instrumentation":0.00027951301308348775,"return_value":{"class":"Integer","value":"26","object_id":53}},{"id":836489,"event":"return","thread_id":9160,"parent_id":836486,"elapsed":0.0020868650171905756,"elapsed_instrumentation":0.0003396639949642122,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc0dd15ce0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":5085000,"size":1}},{"id":836490,"event":"return","thread_id":9160,"parent_id":836291,"elapsed":0.1418489539937582,"elapsed_instrumentation":0.0005657610017806292,"return_value":{"class":"StringIO","value":"#<StringIO:0x00007fdc06015fd8>","object_id":5111540}}]}