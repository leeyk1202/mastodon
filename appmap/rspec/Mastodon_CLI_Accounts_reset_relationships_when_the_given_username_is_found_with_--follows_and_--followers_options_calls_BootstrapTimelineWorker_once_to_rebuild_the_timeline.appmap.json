{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"743782bd299fd54e12a4a5829872efc505132ab3","status":["M .husky/pre-commit","?? sql_warning.txt"],"git_last_annotated_tag":"0.1.2-14597-g743782bd299fd54e12a4a5829872efc505132ab3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --follows and --followers options calls BootstrapTimelineWorker once to rebuild the timeline","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":1491653,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":8119980,"value":"bev3199","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8120000,"value":"#<Mastodon::CLI::Accounts:0x00007fdc073ff1e8>"}},{"id":1491654,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":8120020,"value":"#<AccountFinderConcern::AccountFinder:0x00007fdc0876d270>"}},{"id":1491655,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'bev3199' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":1491656,"event":"return","thread_id":9160,"parent_id":1491655,"elapsed":0.001226634,"elapsed_instrumentation":0.00011968100443482399},{"id":1491657,"event":"return","thread_id":9160,"parent_id":1491654,"elapsed":0.0057583430025260895,"elapsed_instrumentation":0.0001521649828646332,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0620ba40>","object_id":8120040}},{"id":1491658,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1)","database_type":"postgres"}},{"id":1491659,"event":"return","thread_id":9160,"parent_id":1491658,"elapsed":0.001378136,"elapsed_instrumentation":0.00017640198348090053},{"id":1491660,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1)","database_type":"postgres"}},{"id":1491661,"event":"return","thread_id":9160,"parent_id":1491660,"elapsed":0.001285068,"elapsed_instrumentation":0.00010002998169511557},{"id":1491662,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":8120000,"value":"#<Mastodon::CLI::Accounts:0x00007fdc073ff1e8>"}},{"id":1491663,"event":"return","thread_id":9160,"parent_id":1491662,"elapsed":0.00012172499555163085,"elapsed_instrumentation":0.0002819590154103935,"return_value":{"class":"ProgressBar::Base","value":"","object_id":8120060}},{"id":1491664,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1491665,"event":"return","thread_id":9160,"parent_id":1491664,"elapsed":0.00245654,"elapsed_instrumentation":0.00014239700976759195},{"id":1491666,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8120080,"value":"relationship:111360522098712211:111360522098712215","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8120100,"value":"#<UnfollowService:0x00007fdc073fc3f8>"}},{"id":1491667,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8120100,"value":"#<UnfollowService:0x00007fdc073fc3f8>"}},{"id":1491668,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8120120,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8120140,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491669,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491670,"event":"return","thread_id":9160,"parent_id":1491669,"elapsed":3.217981429770589e-06,"elapsed_instrumentation":9.346200386062264e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1491671,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8120160,"value":"7_p_0_o]__w___*_"}},{"id":1491672,"event":"return","thread_id":9160,"parent_id":1491671,"elapsed":7.205992005765438e-06,"elapsed_instrumentation":0.00018569602980278432,"return_value":{"class":"Array","value":"[934637709, 12420, 28509, 51652, 30676, 3703188144]","object_id":8120180,"size":6}},{"id":1491673,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491674,"event":"return","thread_id":9160,"parent_id":1491673,"elapsed":0.000795631,"elapsed_instrumentation":0.00012847600737586617},{"id":1491675,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8120200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491676,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491677,"event":"return","thread_id":9160,"parent_id":1491676,"elapsed":0.000569,"elapsed_instrumentation":0.00010775000555440784},{"id":1491678,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491679,"event":"return","thread_id":9160,"parent_id":1491678,"elapsed":0.000644317,"elapsed_instrumentation":7.643000571988523e-05},{"id":1491680,"event":"return","thread_id":9160,"parent_id":1491675,"elapsed":0.0036604909982997924,"elapsed_instrumentation":0.00030643300851807,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1491681,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1491682,"event":"return","thread_id":9160,"parent_id":1491681,"elapsed":0.001057844,"elapsed_instrumentation":0.00010527297854423523},{"id":1491683,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8120200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491684,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1491685,"event":"return","thread_id":9160,"parent_id":1491684,"elapsed":0.001086727,"elapsed_instrumentation":9.391200728714466e-05},{"id":1491686,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491687,"event":"return","thread_id":9160,"parent_id":1491686,"elapsed":0.000685005,"elapsed_instrumentation":0.00040070200338959694},{"id":1491688,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8120220,"value":"#<Account:0x00007fdc06208fc0>"}},{"id":1491689,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8120220,"value":"#<Account:0x00007fdc06208fc0>"}},{"id":1491690,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522098712215, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491691,"event":"return","thread_id":9160,"parent_id":1491690,"elapsed":0.001053118,"elapsed_instrumentation":8.337598410435021e-05},{"id":1491692,"event":"return","thread_id":9160,"parent_id":1491689,"elapsed":0.0018627110111992806,"elapsed_instrumentation":0.00013112198212184012},{"id":1491693,"event":"return","thread_id":9160,"parent_id":1491688,"elapsed":0.0020293430134188384,"elapsed_instrumentation":0.00018223602091893554},{"id":1491694,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491695,"event":"return","thread_id":9160,"parent_id":1491694,"elapsed":0.000770303,"elapsed_instrumentation":7.845298387110233e-05},{"id":1491696,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8120240,"value":"#<Account:0x00007fdc062080c0>"}},{"id":1491697,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8120240,"value":"#<Account:0x00007fdc062080c0>"}},{"id":1491698,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522098712211, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491699,"event":"return","thread_id":9160,"parent_id":1491698,"elapsed":0.001122981,"elapsed_instrumentation":8.009298471733928e-05},{"id":1491700,"event":"return","thread_id":9160,"parent_id":1491697,"elapsed":0.002163522003684193,"elapsed_instrumentation":9.208699339069426e-05},{"id":1491701,"event":"return","thread_id":9160,"parent_id":1491696,"elapsed":0.0022786860063206404,"elapsed_instrumentation":0.0001255420211236924},{"id":1491702,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120220,"value":"#<Account:0x00007fdc06208fc0>"}},{"id":1491703,"event":"return","thread_id":9160,"parent_id":1491702,"elapsed":1.4888006262481213e-05,"elapsed_instrumentation":0.0001178660022560507,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491704,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120240,"value":"#<Account:0x00007fdc062080c0>"}},{"id":1491705,"event":"return","thread_id":9160,"parent_id":1491704,"elapsed":7.1020040195435286e-06,"elapsed_instrumentation":7.21589894965291e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491706,"event":"return","thread_id":9160,"parent_id":1491683,"elapsed":0.014372742996783927,"elapsed_instrumentation":0.0004108330176677555,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1491707,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491708,"event":"return","thread_id":9160,"parent_id":1491707,"elapsed":0.00048034,"elapsed_instrumentation":9.60809993557632e-05},{"id":1491709,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8120280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491710,"event":"return","thread_id":9160,"parent_id":1491709,"elapsed":3.3050018828362226e-06,"elapsed_instrumentation":0.00013998299255035818,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1491711,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8120280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491712,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8120300,"value":"Cache delete: relationship:111360522098712215:111360522098712211\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491713,"event":"return","thread_id":9160,"parent_id":1491712,"elapsed":0.0014122809807304293,"elapsed_instrumentation":0.00013521703658625484,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491714,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8120320,"value":"Cache delete: relationship:111360522098712211:111360522098712215\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491715,"event":"return","thread_id":9160,"parent_id":1491714,"elapsed":0.0012718120124191046,"elapsed_instrumentation":0.00016618496738374233,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491716,"event":"return","thread_id":9160,"parent_id":1491711,"elapsed":0.00335587200243026,"elapsed_instrumentation":0.00022529400303028524,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1491717,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120340,"value":"#<Account:0x00007fdc0620a140>"}},{"id":1491718,"event":"return","thread_id":9160,"parent_id":1491717,"elapsed":1.6372010577470064e-05,"elapsed_instrumentation":0.00010300596477463841,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491719,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120340,"value":"#<Account:0x00007fdc0620a140>"}},{"id":1491720,"event":"return","thread_id":9160,"parent_id":1491719,"elapsed":4.082015948370099e-06,"elapsed_instrumentation":6.681500235572457e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491721,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1491722,"event":"return","thread_id":9160,"parent_id":1491721,"elapsed":8.250994142144918e-06,"elapsed_instrumentation":6.238196510821581e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491723,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8120360,"value":"{args=>[111360522098712211, 111360522098712215], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8120380,"value":"#<Sidekiq::Client:0x00007fdc086f4398>"}},{"id":1491724,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8120400,"value":"__\u0003rvl_____ "}},{"id":1491725,"event":"return","thread_id":9160,"parent_id":1491724,"elapsed":4.964007530361414e-06,"elapsed_instrumentation":0.00013549299910664558,"return_value":{"class":"String","value":"d6cd0372766cbda4fb8eec20","object_id":8120420}},{"id":1491726,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8120440,"value":"[111360522098712211, 111360522098712215]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8120460,"value":"#<JSON::Ext::Generator::State:0x00007fdc086f05e0>"}},{"id":1491727,"event":"return","thread_id":9160,"parent_id":1491726,"elapsed":6.866990588605404e-06,"elapsed_instrumentation":0.00013360302546061575,"return_value":{"class":"String","value":"[111360522098712211,111360522098712215]","object_id":8120480}},{"id":1491728,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8120500,"value":"#<JSON::Ext::Parser:0x00007fdc0871f7a0>"}},{"id":1491729,"event":"return","thread_id":9160,"parent_id":1491728,"elapsed":5.850015440955758e-06,"elapsed_instrumentation":9.620797936804593e-05,"return_value":{"class":"Array","value":"[111360522098712211, 111360522098712215]","object_id":8120520,"size":2}},{"id":1491730,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8120540,"value":"_O__Z\t___\u0012!_"}},{"id":1491731,"event":"return","thread_id":9160,"parent_id":1491730,"elapsed":3.6129786167293787e-06,"elapsed_instrumentation":0.00011486303992569447,"return_value":{"class":"String","value":"a84fc6c65a0982d39f1221ec","object_id":8120560}},{"id":1491732,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8120580,"value":"{retry=>true, queue=>pull, args=>[111360522098712211, 111360522098712215], class=>UnmergeWorker, jid=>d6cd0372766cbda4fb8eec20, created_at=>1699226717.8444762, id=>a84fc6c65a0982d39f1221ec}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8120600,"value":"#<JSON::Ext::Generator::State:0x00007fdc0871d8b0>"}},{"id":1491733,"event":"return","thread_id":9160,"parent_id":1491732,"elapsed":1.683100708760321e-05,"elapsed_instrumentation":0.0003484369954094291,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522098712211,111360522098712215],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8120620}},{"id":1491734,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8120640,"value":"#<JSON::Ext::Parser:0x00007fdc0871b740>"}},{"id":1491735,"event":"return","thread_id":9160,"parent_id":1491734,"elapsed":2.2530992282554507e-05,"elapsed_instrumentation":0.0002000620006583631,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522098712211, 111360522098712215], class=>UnmergeWorker, jid=>d6cd0372766cbda4fb8eec20, created_at=>1699226717.8444762, id=>a84fc6c65a0982d39f1221ec}","object_id":8120660,"size":7}},{"id":1491736,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044197424423,"value":"111360522098712211","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8120680,"value":"#<UnmergeWorker:0x00007fdc08719648>"}},{"id":1491737,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8120680,"value":"#<UnmergeWorker:0x00007fdc08719648>"}},{"id":1491738,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491739,"event":"return","thread_id":9160,"parent_id":1491738,"elapsed":0.000949112,"elapsed_instrumentation":0.00011269599781371653},{"id":1491740,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491741,"event":"return","thread_id":9160,"parent_id":1491740,"elapsed":0.000857841,"elapsed_instrumentation":8.005701238289475e-05},{"id":1491742,"event":"return","thread_id":9160,"parent_id":1491737,"elapsed":0.005269155983114615,"elapsed_instrumentation":0.0005378920177463442,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06206180>","object_id":8120700}},{"id":1491743,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8120680,"value":"#<UnmergeWorker:0x00007fdc08719648>"}},{"id":1491744,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8120720,"value":"#<Account:0x00007fdc06206400>","kind":"req"},{"name":"into_account","class":"Account","object_id":8120700,"value":"#<Account:0x00007fdc06206180>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491745,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491746,"event":"return","thread_id":9160,"parent_id":1491745,"elapsed":5.8680016081780195e-06,"elapsed_instrumentation":0.00015465999604202807,"return_value":{"class":"String","value":"feed:home:111360522098712215","object_id":8120740}},{"id":1491747,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491748,"event":"return","thread_id":9160,"parent_id":1491747,"elapsed":6.083020707592368e-06,"elapsed_instrumentation":7.906198152340949e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1491749,"event":"return","thread_id":9160,"parent_id":1491744,"elapsed":0.00407921097939834,"elapsed_instrumentation":0.0006682300008833408},{"id":1491750,"event":"return","thread_id":9160,"parent_id":1491743,"elapsed":0.004794698994373903,"elapsed_instrumentation":9.363898425363004e-05},{"id":1491751,"event":"return","thread_id":9160,"parent_id":1491736,"elapsed":0.01075466797919944,"elapsed_instrumentation":0.0002544060116633773},{"id":1491752,"event":"return","thread_id":9160,"parent_id":1491723,"elapsed":0.012466815998777747,"elapsed_instrumentation":0.0005638989969156682,"return_value":{"class":"String","value":"d6cd0372766cbda4fb8eec20","object_id":8120420}},{"id":1491753,"event":"return","thread_id":9160,"parent_id":1491668,"elapsed":0.043553514988161623,"elapsed_instrumentation":0.00028214300982654095,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06209b00>","object_id":8120260}},{"id":1491754,"event":"return","thread_id":9160,"parent_id":1491667,"elapsed":0.04386628099018708,"elapsed_instrumentation":8.857197826728225e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06209b00>","object_id":8120260}},{"id":1491755,"event":"return","thread_id":9160,"parent_id":1491666,"elapsed":0.04399145900970325,"elapsed_instrumentation":0.0003543179773259908,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06209b00>","object_id":8120260}},{"id":1491756,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8120760,"value":"relationship:111360522098712212:111360522098712215","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8120780,"value":"#<UnfollowService:0x00007fdc073f3f28>"}},{"id":1491757,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8120780,"value":"#<UnfollowService:0x00007fdc073f3f28>"}},{"id":1491758,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8120800,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8120820,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491759,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491760,"event":"return","thread_id":9160,"parent_id":1491759,"elapsed":3.6260171327739954e-06,"elapsed_instrumentation":7.323597674258053e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1491761,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8120840,"value":"_\f___M__\f__f]__\u0017"}},{"id":1491762,"event":"return","thread_id":9160,"parent_id":1491761,"elapsed":7.433001883327961e-06,"elapsed_instrumentation":0.0002158530114684254,"return_value":{"class":"Array","value":"[2869752805, 45389, 64416, 3243, 37222, 1571611927]","object_id":8120860,"size":6}},{"id":1491763,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491764,"event":"return","thread_id":9160,"parent_id":1491763,"elapsed":0.000966862,"elapsed_instrumentation":9.483098983764648e-05},{"id":1491765,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8120880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491766,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491767,"event":"return","thread_id":9160,"parent_id":1491766,"elapsed":0.000653787,"elapsed_instrumentation":0.00019178501679562032},{"id":1491768,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491769,"event":"return","thread_id":9160,"parent_id":1491768,"elapsed":0.000530353,"elapsed_instrumentation":0.00023017899366095662},{"id":1491770,"event":"return","thread_id":9160,"parent_id":1491765,"elapsed":0.003791524999542162,"elapsed_instrumentation":0.00020846797269769013,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1491771,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1491772,"event":"return","thread_id":9160,"parent_id":1491771,"elapsed":0.001028203,"elapsed_instrumentation":0.00021656599710695446},{"id":1491773,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8120880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491774,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1491775,"event":"return","thread_id":9160,"parent_id":1491774,"elapsed":0.001184519,"elapsed_instrumentation":0.00010265200398862362},{"id":1491776,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491777,"event":"return","thread_id":9160,"parent_id":1491776,"elapsed":0.000889061,"elapsed_instrumentation":7.68149911891669e-05},{"id":1491778,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8120900,"value":"#<Account:0x00007fdc06204ec0>"}},{"id":1491779,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8120900,"value":"#<Account:0x00007fdc06204ec0>"}},{"id":1491780,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522098712215, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491781,"event":"return","thread_id":9160,"parent_id":1491780,"elapsed":0.001461444,"elapsed_instrumentation":0.00026303401682525873},{"id":1491782,"event":"return","thread_id":9160,"parent_id":1491779,"elapsed":0.0023723260092083365,"elapsed_instrumentation":0.00034584003151394427},{"id":1491783,"event":"return","thread_id":9160,"parent_id":1491778,"elapsed":0.0027534569962881505,"elapsed_instrumentation":0.0001403550268150866},{"id":1491784,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491785,"event":"return","thread_id":9160,"parent_id":1491784,"elapsed":0.000924039,"elapsed_instrumentation":8.806400001049042e-05},{"id":1491786,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8120920,"value":"#<Account:0x00007fdc06203fc0>"}},{"id":1491787,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8120920,"value":"#<Account:0x00007fdc06203fc0>"}},{"id":1491788,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522098712212, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491789,"event":"return","thread_id":9160,"parent_id":1491788,"elapsed":0.001256546,"elapsed_instrumentation":8.530300692655146e-05},{"id":1491790,"event":"return","thread_id":9160,"parent_id":1491787,"elapsed":0.0024148149823304266,"elapsed_instrumentation":0.00010729499626904726},{"id":1491791,"event":"return","thread_id":9160,"parent_id":1491786,"elapsed":0.002553922007791698,"elapsed_instrumentation":0.00014579601702280343},{"id":1491792,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120900,"value":"#<Account:0x00007fdc06204ec0>"}},{"id":1491793,"event":"return","thread_id":9160,"parent_id":1491792,"elapsed":2.1988991647958755e-05,"elapsed_instrumentation":0.00017453404143452644,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491794,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120920,"value":"#<Account:0x00007fdc06203fc0>"}},{"id":1491795,"event":"return","thread_id":9160,"parent_id":1491794,"elapsed":1.643202267587185e-05,"elapsed_instrumentation":0.000299445993732661,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491796,"event":"return","thread_id":9160,"parent_id":1491773,"elapsed":0.015351606998592615,"elapsed_instrumentation":0.00021114698029123247,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1491797,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491798,"event":"return","thread_id":9160,"parent_id":1491797,"elapsed":0.000475946,"elapsed_instrumentation":0.00016195798525586724},{"id":1491799,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8120960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491800,"event":"return","thread_id":9160,"parent_id":1491799,"elapsed":3.3530232030898333e-06,"elapsed_instrumentation":0.00014646098134107888,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1491801,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8120960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491802,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8120980,"value":"Cache delete: relationship:111360522098712215:111360522098712212\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491803,"event":"return","thread_id":9160,"parent_id":1491802,"elapsed":0.0017812990117818117,"elapsed_instrumentation":0.00015190098201856017,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491804,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8121000,"value":"Cache delete: relationship:111360522098712212:111360522098712215\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491805,"event":"return","thread_id":9160,"parent_id":1491804,"elapsed":0.0015308390138670802,"elapsed_instrumentation":0.00015030399663373828,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491806,"event":"return","thread_id":9160,"parent_id":1491801,"elapsed":0.003914467990398407,"elapsed_instrumentation":0.00012041002628393471,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1491807,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8121020,"value":"#<Account:0x00007fdc0620a000>"}},{"id":1491808,"event":"return","thread_id":9160,"parent_id":1491807,"elapsed":1.4511984772980213e-05,"elapsed_instrumentation":9.595300070941448e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491809,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8121020,"value":"#<Account:0x00007fdc0620a000>"}},{"id":1491810,"event":"return","thread_id":9160,"parent_id":1491809,"elapsed":4.2000028770416975e-06,"elapsed_instrumentation":6.743799895048141e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491811,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1491812,"event":"return","thread_id":9160,"parent_id":1491811,"elapsed":4.421017365530133e-06,"elapsed_instrumentation":6.121897604316473e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491813,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8121040,"value":"{args=>[111360522098712212, 111360522098712215], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8121060,"value":"#<Sidekiq::Client:0x00007fdc08526ef8>"}},{"id":1491814,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8121080,"value":"=_>=,(y_-__Y"}},{"id":1491815,"event":"return","thread_id":9160,"parent_id":1491814,"elapsed":6.58599310554564e-06,"elapsed_instrumentation":0.0003767689922824502,"return_value":{"class":"String","value":"3dcd3e3d2c28799b2db5a059","object_id":8121100}},{"id":1491816,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8121120,"value":"[111360522098712212, 111360522098712215]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8121140,"value":"#<JSON::Ext::Generator::State:0x00007fdc085232d0>"}},{"id":1491817,"event":"return","thread_id":9160,"parent_id":1491816,"elapsed":7.87799945101142e-06,"elapsed_instrumentation":0.0001384149945806712,"return_value":{"class":"String","value":"[111360522098712212,111360522098712215]","object_id":8121160}},{"id":1491818,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8121180,"value":"#<JSON::Ext::Parser:0x00007fdc08520f08>"}},{"id":1491819,"event":"return","thread_id":9160,"parent_id":1491818,"elapsed":6.613990990445018e-06,"elapsed_instrumentation":0.00013864299398846924,"return_value":{"class":"Array","value":"[111360522098712212, 111360522098712215]","object_id":8121200,"size":2}},{"id":1491820,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8121220,"value":"\t_-_g_`_nj\"_"}},{"id":1491821,"event":"return","thread_id":9160,"parent_id":1491820,"elapsed":5.50498953089118e-06,"elapsed_instrumentation":0.0003984860086347908,"return_value":{"class":"String","value":"09c02dbe67e360aa6e6a22e0","object_id":8121240}},{"id":1491822,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8121260,"value":"{retry=>true, queue=>pull, args=>[111360522098712212, 111360522098712215], class=>UnmergeWorker, jid=>3dcd3e3d2c28799b2db5a059, created_at=>1699226717.889457, id=>09c02dbe67e360aa6e6a22e0}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8121280,"value":"#<JSON::Ext::Generator::State:0x00007fdc0857c650>"}},{"id":1491823,"event":"return","thread_id":9160,"parent_id":1491822,"elapsed":1.537098432891071e-05,"elapsed_instrumentation":0.0003036480338778347,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522098712212,111360522098712215],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8121300}},{"id":1491824,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8121320,"value":"#<JSON::Ext::Parser:0x00007fdc08578208>"}},{"id":1491825,"event":"return","thread_id":9160,"parent_id":1491824,"elapsed":2.1359999664127827e-05,"elapsed_instrumentation":0.0006469190120697021,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522098712212, 111360522098712215], class=>UnmergeWorker, jid=>3dcd3e3d2c28799b2db5a059, created_at=>1699226717.889457, id=>09c02dbe67e360aa6e6a22e0}","object_id":8121340,"size":7}},{"id":1491826,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044197424425,"value":"111360522098712212","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8121360,"value":"#<UnmergeWorker:0x00007fdc085738e8>"}},{"id":1491827,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8121360,"value":"#<UnmergeWorker:0x00007fdc085738e8>"}},{"id":1491828,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491829,"event":"return","thread_id":9160,"parent_id":1491828,"elapsed":0.000853808,"elapsed_instrumentation":9.999400936067104e-05},{"id":1491830,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491831,"event":"return","thread_id":9160,"parent_id":1491830,"elapsed":0.001144175,"elapsed_instrumentation":8.779799100011587e-05},{"id":1491832,"event":"return","thread_id":9160,"parent_id":1491827,"elapsed":0.005671487015206367,"elapsed_instrumentation":0.0001826960069593042,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06201680>","object_id":8121380}},{"id":1491833,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8121360,"value":"#<UnmergeWorker:0x00007fdc085738e8>"}},{"id":1491834,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8121400,"value":"#<Account:0x00007fdc06201f40>","kind":"req"},{"name":"into_account","class":"Account","object_id":8121380,"value":"#<Account:0x00007fdc06201680>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491835,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491836,"event":"return","thread_id":9160,"parent_id":1491835,"elapsed":6.1889877542853355e-06,"elapsed_instrumentation":0.00017707599909044802,"return_value":{"class":"String","value":"feed:home:111360522098712215","object_id":8121420}},{"id":1491837,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491838,"event":"return","thread_id":9160,"parent_id":1491837,"elapsed":5.337002221494913e-06,"elapsed_instrumentation":0.00010313300299458206,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1491839,"event":"return","thread_id":9160,"parent_id":1491834,"elapsed":0.004414246010128409,"elapsed_instrumentation":0.00040782999712973833},{"id":1491840,"event":"return","thread_id":9160,"parent_id":1491833,"elapsed":0.004862514993874356,"elapsed_instrumentation":0.00010794601985253394},{"id":1491841,"event":"return","thread_id":9160,"parent_id":1491826,"elapsed":0.011114713997812942,"elapsed_instrumentation":0.00015824000001884997},{"id":1491842,"event":"return","thread_id":9160,"parent_id":1491813,"elapsed":0.013786541996523738,"elapsed_instrumentation":0.00017176999244838953,"return_value":{"class":"String","value":"3dcd3e3d2c28799b2db5a059","object_id":8121100}},{"id":1491843,"event":"return","thread_id":9160,"parent_id":1491758,"elapsed":0.045062610995955765,"elapsed_instrumentation":0.00016581104137003422,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06205f00>","object_id":8120940}},{"id":1491844,"event":"return","thread_id":9160,"parent_id":1491757,"elapsed":0.04525402100989595,"elapsed_instrumentation":8.698800229467452e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06205f00>","object_id":8120940}},{"id":1491845,"event":"return","thread_id":9160,"parent_id":1491756,"elapsed":0.04537619001348503,"elapsed_instrumentation":0.0003029629879165441,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06205f00>","object_id":8120940}},{"id":1491846,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8121440,"value":"relationship:111360522098712213:111360522098712215","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8121460,"value":"#<UnfollowService:0x00007fdc07409a30>"}},{"id":1491847,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8121460,"value":"#<UnfollowService:0x00007fdc07409a30>"}},{"id":1491848,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8121480,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8121500,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491849,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491850,"event":"return","thread_id":9160,"parent_id":1491849,"elapsed":5.065987352281809e-06,"elapsed_instrumentation":0.00011469799210317433,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1491851,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8121520,"value":"\u001dW}!__6__3TE__\u0000B"}},{"id":1491852,"event":"return","thread_id":9160,"parent_id":1491851,"elapsed":6.784015567973256e-06,"elapsed_instrumentation":0.00014595797983929515,"return_value":{"class":"Array","value":"[492272929, 39891, 13995, 50995, 21573, 3200712770]","object_id":8121540,"size":6}},{"id":1491853,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491854,"event":"return","thread_id":9160,"parent_id":1491853,"elapsed":0.000748382,"elapsed_instrumentation":9.977398440241814e-05},{"id":1491855,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8121560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491856,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491857,"event":"return","thread_id":9160,"parent_id":1491856,"elapsed":0.000459318,"elapsed_instrumentation":8.791399886831641e-05},{"id":1491858,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491859,"event":"return","thread_id":9160,"parent_id":1491858,"elapsed":0.00037325,"elapsed_instrumentation":0.0002249180106446147},{"id":1491860,"event":"return","thread_id":9160,"parent_id":1491855,"elapsed":0.0036003190034534782,"elapsed_instrumentation":0.00019237701781094074,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1491861,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1491862,"event":"return","thread_id":9160,"parent_id":1491861,"elapsed":0.001119595,"elapsed_instrumentation":8.930900366976857e-05},{"id":1491863,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8121560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491864,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1491865,"event":"return","thread_id":9160,"parent_id":1491864,"elapsed":0.000619892,"elapsed_instrumentation":9.938600123859942e-05},{"id":1491866,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491867,"event":"return","thread_id":9160,"parent_id":1491866,"elapsed":0.000592815,"elapsed_instrumentation":7.45579891372472e-05},{"id":1491868,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8121580,"value":"#<Account:0x00007fdc06200640>"}},{"id":1491869,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8121580,"value":"#<Account:0x00007fdc06200640>"}},{"id":1491870,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522098712215, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491871,"event":"return","thread_id":9160,"parent_id":1491870,"elapsed":0.001117219,"elapsed_instrumentation":8.186197374016047e-05},{"id":1491872,"event":"return","thread_id":9160,"parent_id":1491869,"elapsed":0.0018904659955296665,"elapsed_instrumentation":0.00010248000035062432},{"id":1491873,"event":"return","thread_id":9160,"parent_id":1491868,"elapsed":0.002023324981564656,"elapsed_instrumentation":0.0001389030076097697},{"id":1491874,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491875,"event":"return","thread_id":9160,"parent_id":1491874,"elapsed":0.000818664,"elapsed_instrumentation":8.431600872427225e-05},{"id":1491876,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8121600,"value":"#<Account:0x00007fdc062feec0>"}},{"id":1491877,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8121600,"value":"#<Account:0x00007fdc062feec0>"}},{"id":1491878,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522098712213, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491879,"event":"return","thread_id":9160,"parent_id":1491878,"elapsed":0.00138885,"elapsed_instrumentation":0.00010677700629457831},{"id":1491880,"event":"return","thread_id":9160,"parent_id":1491877,"elapsed":0.0024539679870940745,"elapsed_instrumentation":0.00017124900477938354},{"id":1491881,"event":"return","thread_id":9160,"parent_id":1491876,"elapsed":0.002666999993380159,"elapsed_instrumentation":0.00021496298722922802},{"id":1491882,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8121580,"value":"#<Account:0x00007fdc06200640>"}},{"id":1491883,"event":"return","thread_id":9160,"parent_id":1491882,"elapsed":1.6030011465772986e-05,"elapsed_instrumentation":0.00011916598305106163,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491884,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8121600,"value":"#<Account:0x00007fdc062feec0>"}},{"id":1491885,"event":"return","thread_id":9160,"parent_id":1491884,"elapsed":7.636001100763679e-06,"elapsed_instrumentation":6.932599353604019e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491886,"event":"return","thread_id":9160,"parent_id":1491863,"elapsed":0.013204082002630457,"elapsed_instrumentation":0.00017591897631064057,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1491887,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491888,"event":"return","thread_id":9160,"parent_id":1491887,"elapsed":0.000691209,"elapsed_instrumentation":8.192998939193785e-05},{"id":1491889,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8121640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491890,"event":"return","thread_id":9160,"parent_id":1491889,"elapsed":3.2009847927838564e-06,"elapsed_instrumentation":0.0002563110028859228,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1491891,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8121640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491892,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8121660,"value":"Cache delete: relationship:111360522098712215:111360522098712213\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491893,"event":"return","thread_id":9160,"parent_id":1491892,"elapsed":0.0009233210003003478,"elapsed_instrumentation":0.00013860399485565722,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491894,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8121680,"value":"Cache delete: relationship:111360522098712213:111360522098712215\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491895,"event":"return","thread_id":9160,"parent_id":1491894,"elapsed":0.001550883986055851,"elapsed_instrumentation":0.00021322898101061583,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491896,"event":"return","thread_id":9160,"parent_id":1491891,"elapsed":0.0031726789893582463,"elapsed_instrumentation":0.00017202598974108696,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1491897,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8121700,"value":"#<Account:0x00007fdc06209ec0>"}},{"id":1491898,"event":"return","thread_id":9160,"parent_id":1491897,"elapsed":1.3760000001639128e-05,"elapsed_instrumentation":9.307698928751051e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491899,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8121700,"value":"#<Account:0x00007fdc06209ec0>"}},{"id":1491900,"event":"return","thread_id":9160,"parent_id":1491899,"elapsed":5.309993866831064e-06,"elapsed_instrumentation":6.78089854773134e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491901,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1491902,"event":"return","thread_id":9160,"parent_id":1491901,"elapsed":7.99400731921196e-06,"elapsed_instrumentation":9.498000144958496e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491903,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8121720,"value":"{args=>[111360522098712213, 111360522098712215], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8121740,"value":"#<Sidekiq::Client:0x00007fdc083e1200>"}},{"id":1491904,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8121760,"value":"\u0002\u001d\u0011__c\u0000__s_G"}},{"id":1491905,"event":"return","thread_id":9160,"parent_id":1491904,"elapsed":8.15198291093111e-06,"elapsed_instrumentation":0.0004588669980876148,"return_value":{"class":"String","value":"021d11bed96300f7b873fe47","object_id":8121780}},{"id":1491906,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8121800,"value":"[111360522098712213, 111360522098712215]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8121820,"value":"#<JSON::Ext::Generator::State:0x00007fdc0839e4c8>"}},{"id":1491907,"event":"return","thread_id":9160,"parent_id":1491906,"elapsed":7.750990334898233e-06,"elapsed_instrumentation":0.0002520049747545272,"return_value":{"class":"String","value":"[111360522098712213,111360522098712215]","object_id":8121840}},{"id":1491908,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8121860,"value":"#<JSON::Ext::Parser:0x00007fdc0839d348>"}},{"id":1491909,"event":"return","thread_id":9160,"parent_id":1491908,"elapsed":5.7340075727552176e-06,"elapsed_instrumentation":9.737099753692746e-05,"return_value":{"class":"Array","value":"[111360522098712213, 111360522098712215]","object_id":8121880,"size":2}},{"id":1491910,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8121900,"value":"\n______o___V"}},{"id":1491911,"event":"return","thread_id":9160,"parent_id":1491910,"elapsed":3.6729907151311636e-06,"elapsed_instrumentation":0.00010733999079093337,"return_value":{"class":"String","value":"0af78efa8fd58a6fb1f48956","object_id":8121920}},{"id":1491912,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8121940,"value":"{retry=>true, queue=>pull, args=>[111360522098712213, 111360522098712215], class=>UnmergeWorker, jid=>021d11bed96300f7b873fe47, created_at=>1699226717.9331996, id=>0af78efa8fd58a6fb1f48956}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8121960,"value":"#<JSON::Ext::Generator::State:0x00007fdc0839a6c0>"}},{"id":1491913,"event":"return","thread_id":9160,"parent_id":1491912,"elapsed":1.5392986824736e-05,"elapsed_instrumentation":0.00036365402047522366,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522098712213,111360522098712215],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8121980}},{"id":1491914,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8122000,"value":"#<JSON::Ext::Parser:0x00007fdc08397a10>"}},{"id":1491915,"event":"return","thread_id":9160,"parent_id":1491914,"elapsed":2.211699029430747e-05,"elapsed_instrumentation":0.00019421501201577485,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522098712213, 111360522098712215], class=>UnmergeWorker, jid=>021d11bed96300f7b873fe47, created_at=>1699226717.9331996, id=>0af78efa8fd58a6fb1f48956}","object_id":8122020,"size":7}},{"id":1491916,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044197424427,"value":"111360522098712213","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8122040,"value":"#<UnmergeWorker:0x00007fdc083956e8>"}},{"id":1491917,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8122040,"value":"#<UnmergeWorker:0x00007fdc083956e8>"}},{"id":1491918,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491919,"event":"return","thread_id":9160,"parent_id":1491918,"elapsed":0.001004281,"elapsed_instrumentation":0.00010283599840477109},{"id":1491920,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491921,"event":"return","thread_id":9160,"parent_id":1491920,"elapsed":0.000853497,"elapsed_instrumentation":8.027101284824312e-05},{"id":1491922,"event":"return","thread_id":9160,"parent_id":1491917,"elapsed":0.0049050640081986785,"elapsed_instrumentation":0.00014513797941617668,"return_value":{"class":"Account","value":"#<Account:0x00007fdc062fce40>","object_id":8122060}},{"id":1491923,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8122040,"value":"#<UnmergeWorker:0x00007fdc083956e8>"}},{"id":1491924,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8122080,"value":"#<Account:0x00007fdc062fcf80>","kind":"req"},{"name":"into_account","class":"Account","object_id":8122060,"value":"#<Account:0x00007fdc062fce40>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491925,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491926,"event":"return","thread_id":9160,"parent_id":1491925,"elapsed":5.462003173306584e-06,"elapsed_instrumentation":0.00013741300790570676,"return_value":{"class":"String","value":"feed:home:111360522098712215","object_id":8122100}},{"id":1491927,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1491928,"event":"return","thread_id":9160,"parent_id":1491927,"elapsed":6.553018465638161e-06,"elapsed_instrumentation":8.636398706585169e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1491929,"event":"return","thread_id":9160,"parent_id":1491924,"elapsed":0.0047048980195540935,"elapsed_instrumentation":0.0004519950016401708},{"id":1491930,"event":"return","thread_id":9160,"parent_id":1491923,"elapsed":0.005210698989685625,"elapsed_instrumentation":0.00011334099690429866},{"id":1491931,"event":"return","thread_id":9160,"parent_id":1491916,"elapsed":0.010435895004775375,"elapsed_instrumentation":9.791096090339124e-05},{"id":1491932,"event":"return","thread_id":9160,"parent_id":1491903,"elapsed":0.012533754023024812,"elapsed_instrumentation":0.000711291009793058,"return_value":{"class":"String","value":"021d11bed96300f7b873fe47","object_id":8121780}},{"id":1491933,"event":"return","thread_id":9160,"parent_id":1491848,"elapsed":0.041309610998723656,"elapsed_instrumentation":0.0001805050123948604,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06201040>","object_id":8121620}},{"id":1491934,"event":"return","thread_id":9160,"parent_id":1491847,"elapsed":0.041520080994814634,"elapsed_instrumentation":0.00041471398435533047,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06201040>","object_id":8121620}},{"id":1491935,"event":"return","thread_id":9160,"parent_id":1491846,"elapsed":0.0419808050210122,"elapsed_instrumentation":0.0002201790048275143,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06201040>","object_id":8121620}},{"id":1491936,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8122120,"value":"relationship:111360522098712214:111360522098712215","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8122140,"value":"#<UnfollowService:0x00007fdc07402820>"}},{"id":1491937,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8122140,"value":"#<UnfollowService:0x00007fdc07402820>"}},{"id":1491938,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8122160,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8122180,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491939,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1491940,"event":"return","thread_id":9160,"parent_id":1491939,"elapsed":3.3919932320713997e-06,"elapsed_instrumentation":7.408400415442884e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1491941,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8122200,"value":"X____+_0_+a__t__"}},{"id":1491942,"event":"return","thread_id":9160,"parent_id":1491941,"elapsed":0.00013600901002064347,"elapsed_instrumentation":0.0001811239926610142,"return_value":{"class":"Array","value":"[1488093403, 63531, 33072, 48427, 24984, 4000612801]","object_id":8122220,"size":6}},{"id":1491943,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491944,"event":"return","thread_id":9160,"parent_id":1491943,"elapsed":0.000847998,"elapsed_instrumentation":9.944301564246416e-05},{"id":1491945,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8122240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491946,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491947,"event":"return","thread_id":9160,"parent_id":1491946,"elapsed":0.000407798,"elapsed_instrumentation":8.105899905785918e-05},{"id":1491948,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1491949,"event":"return","thread_id":9160,"parent_id":1491948,"elapsed":0.000410533,"elapsed_instrumentation":7.597601506859064e-05},{"id":1491950,"event":"return","thread_id":9160,"parent_id":1491945,"elapsed":0.002725944999838248,"elapsed_instrumentation":0.0004359490121714771,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1491951,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1491952,"event":"return","thread_id":9160,"parent_id":1491951,"elapsed":0.000769267,"elapsed_instrumentation":7.365099736489356e-05},{"id":1491953,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8122240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1491954,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1491955,"event":"return","thread_id":9160,"parent_id":1491954,"elapsed":0.000631804,"elapsed_instrumentation":8.222600445151329e-05},{"id":1491956,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491957,"event":"return","thread_id":9160,"parent_id":1491956,"elapsed":0.000882021,"elapsed_instrumentation":0.00012688699644058943},{"id":1491958,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8122260,"value":"#<Account:0x00007fdc062fbe00>"}},{"id":1491959,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8122260,"value":"#<Account:0x00007fdc062fbe00>"}},{"id":1491960,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522098712215, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491961,"event":"return","thread_id":9160,"parent_id":1491960,"elapsed":0.001269362,"elapsed_instrumentation":0.00010706798639148474},{"id":1491962,"event":"return","thread_id":9160,"parent_id":1491959,"elapsed":0.0025333919911645353,"elapsed_instrumentation":0.00016347202472388744},{"id":1491963,"event":"return","thread_id":9160,"parent_id":1491958,"elapsed":0.002735934016527608,"elapsed_instrumentation":0.00027705301181413233},{"id":1491964,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1491965,"event":"return","thread_id":9160,"parent_id":1491964,"elapsed":0.000623547,"elapsed_instrumentation":0.00017967601888813078},{"id":1491966,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8122280,"value":"#<Account:0x00007fdc062faa00>"}},{"id":1491967,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8122280,"value":"#<Account:0x00007fdc062faa00>"}},{"id":1491968,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522098712214, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1491969,"event":"return","thread_id":9160,"parent_id":1491968,"elapsed":0.001275535,"elapsed_instrumentation":0.00034097200841642916},{"id":1491970,"event":"return","thread_id":9160,"parent_id":1491967,"elapsed":0.002164564997656271,"elapsed_instrumentation":0.00015577400336042047},{"id":1491971,"event":"return","thread_id":9160,"parent_id":1491966,"elapsed":0.00235720700584352,"elapsed_instrumentation":0.00026680799783207476},{"id":1491972,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8122260,"value":"#<Account:0x00007fdc062fbe00>"}},{"id":1491973,"event":"return","thread_id":9160,"parent_id":1491972,"elapsed":1.5689991414546967e-05,"elapsed_instrumentation":0.00010993203613907099,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491974,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8122280,"value":"#<Account:0x00007fdc062faa00>"}},{"id":1491975,"event":"return","thread_id":9160,"parent_id":1491974,"elapsed":7.755006663501263e-06,"elapsed_instrumentation":6.903099711053073e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491976,"event":"return","thread_id":9160,"parent_id":1491953,"elapsed":0.01396752501023002,"elapsed_instrumentation":0.00017227302305400372,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1491977,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1491978,"event":"return","thread_id":9160,"parent_id":1491977,"elapsed":0.00041166,"elapsed_instrumentation":7.849797839298844e-05},{"id":1491979,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8122320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491980,"event":"return","thread_id":9160,"parent_id":1491979,"elapsed":3.049004590138793e-06,"elapsed_instrumentation":0.0001322430034633726,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1491981,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8122320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1491982,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8122340,"value":"Cache delete: relationship:111360522098712215:111360522098712214\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491983,"event":"return","thread_id":9160,"parent_id":1491982,"elapsed":0.0009613730071578175,"elapsed_instrumentation":0.00017545500304549932,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491984,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8122360,"value":"Cache delete: relationship:111360522098712214:111360522098712215\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1491985,"event":"return","thread_id":9160,"parent_id":1491984,"elapsed":0.0008783979865256697,"elapsed_instrumentation":0.00047345703933387995,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1491986,"event":"return","thread_id":9160,"parent_id":1491981,"elapsed":0.0028693960048258305,"elapsed_instrumentation":0.0005116479878779501,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1491987,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8122380,"value":"#<Account:0x00007fdc06209d80>"}},{"id":1491988,"event":"return","thread_id":9160,"parent_id":1491987,"elapsed":1.3701006537303329e-05,"elapsed_instrumentation":9.332000627182424e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491989,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8122380,"value":"#<Account:0x00007fdc06209d80>"}},{"id":1491990,"event":"return","thread_id":9160,"parent_id":1491989,"elapsed":4.225003067404032e-06,"elapsed_instrumentation":6.640097126364708e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491991,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1491992,"event":"return","thread_id":9160,"parent_id":1491991,"elapsed":4.764995537698269e-06,"elapsed_instrumentation":6.108501111157238e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1491993,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8122400,"value":"{args=>[111360522098712214, 111360522098712215], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8122420,"value":"#<Sidekiq::Client:0x00007fdc08303c20>"}},{"id":1491994,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8122440,"value":"__W__\u001d[1___8"}},{"id":1491995,"event":"return","thread_id":9160,"parent_id":1491994,"elapsed":5.558977136388421e-06,"elapsed_instrumentation":0.00043725702562369406,"return_value":{"class":"String","value":"93bc57cbdd1d5b31e48ef438","object_id":8122460}},{"id":1491996,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8122480,"value":"[111360522098712214, 111360522098712215]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8122500,"value":"#<JSON::Ext::Generator::State:0x00007fdc08300340>"}},{"id":1491997,"event":"return","thread_id":9160,"parent_id":1491996,"elapsed":6.383983418345451e-06,"elapsed_instrumentation":0.00011864001862704754,"return_value":{"class":"String","value":"[111360522098712214,111360522098712215]","object_id":8122520}},{"id":1491998,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8122540,"value":"#<JSON::Ext::Parser:0x00007fdc0832d930>"}},{"id":1491999,"event":"return","thread_id":9160,"parent_id":1491998,"elapsed":5.90301351621747e-06,"elapsed_instrumentation":8.322700159624219e-05,"return_value":{"class":"Array","value":"[111360522098712214, 111360522098712215]","object_id":8122560,"size":2}},{"id":1492000,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8122580,"value":"\u001e___+Ka\u001bt_p/"}},{"id":1492001,"event":"return","thread_id":9160,"parent_id":1492000,"elapsed":3.6789861042052507e-06,"elapsed_instrumentation":9.879999561235309e-05,"return_value":{"class":"String","value":"1ec8e2812b4b611b74cf702f","object_id":8122600}},{"id":1492002,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8122620,"value":"{retry=>true, queue=>pull, args=>[111360522098712214, 111360522098712215], class=>UnmergeWorker, jid=>93bc57cbdd1d5b31e48ef438, created_at=>1699226717.9743726, id=>1ec8e2812b4b611b74cf702f}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8122640,"value":"#<JSON::Ext::Generator::State:0x00007fdc08325ca8>"}},{"id":1492003,"event":"return","thread_id":9160,"parent_id":1492002,"elapsed":1.4249002560973167e-05,"elapsed_instrumentation":0.0003811370115727186,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522098712214,111360522098712215],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8122660}},{"id":1492004,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8122680,"value":"#<JSON::Ext::Parser:0x00007fdc0833f770>"}},{"id":1492005,"event":"return","thread_id":9160,"parent_id":1492004,"elapsed":2.0285981008782983e-05,"elapsed_instrumentation":0.00017379800556227565,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522098712214, 111360522098712215], class=>UnmergeWorker, jid=>93bc57cbdd1d5b31e48ef438, created_at=>1699226717.9743726, id=>1ec8e2812b4b611b74cf702f}","object_id":8122700,"size":7}},{"id":1492006,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044197424429,"value":"111360522098712214","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8122720,"value":"#<UnmergeWorker:0x00007fdc0833ba80>"}},{"id":1492007,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8122720,"value":"#<UnmergeWorker:0x00007fdc0833ba80>"}},{"id":1492008,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492009,"event":"return","thread_id":9160,"parent_id":1492008,"elapsed":0.000646314,"elapsed_instrumentation":9.015802061185241e-05},{"id":1492010,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492011,"event":"return","thread_id":9160,"parent_id":1492010,"elapsed":0.000542944,"elapsed_instrumentation":7.875298615545034e-05},{"id":1492012,"event":"return","thread_id":9160,"parent_id":1492007,"elapsed":0.004061871994053945,"elapsed_instrumentation":0.00011420698137953877,"return_value":{"class":"Account","value":"#<Account:0x00007fdc062f8c00>","object_id":8122740}},{"id":1492013,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8122720,"value":"#<UnmergeWorker:0x00007fdc0833ba80>"}},{"id":1492014,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8122760,"value":"#<Account:0x00007fdc062f8d40>","kind":"req"},{"name":"into_account","class":"Account","object_id":8122740,"value":"#<Account:0x00007fdc062f8c00>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492015,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492016,"event":"return","thread_id":9160,"parent_id":1492015,"elapsed":5.245994543656707e-06,"elapsed_instrumentation":0.0001413990103174001,"return_value":{"class":"String","value":"feed:home:111360522098712215","object_id":8122780}},{"id":1492017,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492018,"event":"return","thread_id":9160,"parent_id":1492017,"elapsed":4.6339991968125105e-06,"elapsed_instrumentation":7.792297401465476e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1492019,"event":"return","thread_id":9160,"parent_id":1492014,"elapsed":0.003922144009266049,"elapsed_instrumentation":0.00023347599199041724},{"id":1492020,"event":"return","thread_id":9160,"parent_id":1492013,"elapsed":0.0041911620064638555,"elapsed_instrumentation":9.013002272695303e-05},{"id":1492021,"event":"return","thread_id":9160,"parent_id":1492006,"elapsed":0.008504199009621516,"elapsed_instrumentation":8.58719868119806e-05},{"id":1492022,"event":"return","thread_id":9160,"parent_id":1491993,"elapsed":0.01027287301258184,"elapsed_instrumentation":0.00019487799727357924,"return_value":{"class":"String","value":"93bc57cbdd1d5b31e48ef438","object_id":8122460}},{"id":1492023,"event":"return","thread_id":9160,"parent_id":1491938,"elapsed":0.0382493780052755,"elapsed_instrumentation":0.0001595159701537341,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc062fca80>","object_id":8122300}},{"id":1492024,"event":"return","thread_id":9160,"parent_id":1491937,"elapsed":0.03843353400588967,"elapsed_instrumentation":8.63879977259785e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc062fca80>","object_id":8122300}},{"id":1492025,"event":"return","thread_id":9160,"parent_id":1491936,"elapsed":0.03855428798124194,"elapsed_instrumentation":0.00017872100579552352,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc062fca80>","object_id":8122300}},{"id":1492026,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":1492027,"event":"return","thread_id":9160,"parent_id":1492026,"elapsed":0.002271538,"elapsed_instrumentation":0.00028584201936610043},{"id":1492028,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8122800,"value":"relationship:111360522098712205:111360522098712215","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8122820,"value":"#<UnfollowService:0x00007fdc0741a1f0>"}},{"id":1492029,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8122820,"value":"#<UnfollowService:0x00007fdc0741a1f0>"}},{"id":1492030,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8122840,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8122860,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492031,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492032,"event":"return","thread_id":9160,"parent_id":1492031,"elapsed":3.1449890229851007e-06,"elapsed_instrumentation":8.028699085116386e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1492033,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8122880,"value":"\u001c\u001evmjt____E0dv__"}},{"id":1492034,"event":"return","thread_id":9160,"parent_id":1492033,"elapsed":6.717018550261855e-06,"elapsed_instrumentation":0.00014027900760993361,"return_value":{"class":"Array","value":"[471758445, 27252, 53922, 35018, 17712, 1685495173]","object_id":8122900,"size":6}},{"id":1492035,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492036,"event":"return","thread_id":9160,"parent_id":1492035,"elapsed":0.000693833,"elapsed_instrumentation":0.0001227080065291375},{"id":1492037,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8122920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492038,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492039,"event":"return","thread_id":9160,"parent_id":1492038,"elapsed":0.000497437,"elapsed_instrumentation":0.0001455449964851141},{"id":1492040,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492041,"event":"return","thread_id":9160,"parent_id":1492040,"elapsed":0.000411833,"elapsed_instrumentation":6.813698564656079e-05},{"id":1492042,"event":"return","thread_id":9160,"parent_id":1492037,"elapsed":0.003060490998905152,"elapsed_instrumentation":0.0003556849842425436,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1492043,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1492044,"event":"return","thread_id":9160,"parent_id":1492043,"elapsed":0.001167632,"elapsed_instrumentation":8.55750113260001e-05},{"id":1492045,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8122920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492046,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1492047,"event":"return","thread_id":9160,"parent_id":1492046,"elapsed":0.000732364,"elapsed_instrumentation":8.442200487479568e-05},{"id":1492048,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492049,"event":"return","thread_id":9160,"parent_id":1492048,"elapsed":0.000778864,"elapsed_instrumentation":0.00010836301953531802},{"id":1492050,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8122940,"value":"#<Account:0x00007fdc062f62c0>"}},{"id":1492051,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8122940,"value":"#<Account:0x00007fdc062f62c0>"}},{"id":1492052,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522098712205, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492053,"event":"return","thread_id":9160,"parent_id":1492052,"elapsed":0.001163658,"elapsed_instrumentation":0.0001144210109487176},{"id":1492054,"event":"return","thread_id":9160,"parent_id":1492051,"elapsed":0.0022761290019843727,"elapsed_instrumentation":0.00012382600107230246},{"id":1492055,"event":"return","thread_id":9160,"parent_id":1492050,"elapsed":0.002435984992189333,"elapsed_instrumentation":0.0002016330254264176},{"id":1492056,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492057,"event":"return","thread_id":9160,"parent_id":1492056,"elapsed":0.000624034,"elapsed_instrumentation":8.709801477380097e-05},{"id":1492058,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8122960,"value":"#<Account:0x00007fdc062f5280>"}},{"id":1492059,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8122960,"value":"#<Account:0x00007fdc062f5280>"}},{"id":1492060,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522098712215, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492061,"event":"return","thread_id":9160,"parent_id":1492060,"elapsed":0.001021891,"elapsed_instrumentation":8.071400225162506e-05},{"id":1492062,"event":"return","thread_id":9160,"parent_id":1492059,"elapsed":0.0015813089848961681,"elapsed_instrumentation":0.00010968302376568317},{"id":1492063,"event":"return","thread_id":9160,"parent_id":1492058,"elapsed":0.0017181510047521442,"elapsed_instrumentation":0.00024463696172460914},{"id":1492064,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8122940,"value":"#<Account:0x00007fdc062f62c0>"}},{"id":1492065,"event":"return","thread_id":9160,"parent_id":1492064,"elapsed":1.8026999896392226e-05,"elapsed_instrumentation":0.00026958901435136795,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492066,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8122960,"value":"#<Account:0x00007fdc062f5280>"}},{"id":1492067,"event":"return","thread_id":9160,"parent_id":1492066,"elapsed":8.31700162962079e-06,"elapsed_instrumentation":9.221897926181555e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492068,"event":"return","thread_id":9160,"parent_id":1492045,"elapsed":0.013999984017573297,"elapsed_instrumentation":0.00020224798936396837,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1492069,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492070,"event":"return","thread_id":9160,"parent_id":1492069,"elapsed":0.00044353,"elapsed_instrumentation":0.00024962902534753084},{"id":1492071,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8123000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492072,"event":"return","thread_id":9160,"parent_id":1492071,"elapsed":3.6539859138429165e-06,"elapsed_instrumentation":0.00014935003127902746,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1492073,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8123000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492074,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8123020,"value":"Cache delete: relationship:111360522098712205:111360522098712215\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492075,"event":"return","thread_id":9160,"parent_id":1492074,"elapsed":0.0008551130013074726,"elapsed_instrumentation":0.00012122298358008265,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492076,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8123040,"value":"Cache delete: relationship:111360522098712215:111360522098712205\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492077,"event":"return","thread_id":9160,"parent_id":1492076,"elapsed":0.000956289004534483,"elapsed_instrumentation":0.0002355039760004729,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492078,"event":"return","thread_id":9160,"parent_id":1492073,"elapsed":0.0024704480019863695,"elapsed_instrumentation":0.00011554101365618408,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1492079,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1492080,"event":"return","thread_id":9160,"parent_id":1492079,"elapsed":8.114002412185073e-06,"elapsed_instrumentation":9.052400127984583e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492081,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1492082,"event":"return","thread_id":9160,"parent_id":1492081,"elapsed":4.388013621792197e-06,"elapsed_instrumentation":6.53380120638758e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492083,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8123060,"value":"#<Account:0x00007fdc062f80c0>"}},{"id":1492084,"event":"return","thread_id":9160,"parent_id":1492083,"elapsed":5.673198029398918e-05,"elapsed_instrumentation":0.00018348701996728778,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492085,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8123080,"value":"{args=>[111360522098712215, 111360522098712205], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8123100,"value":"#<Sidekiq::Client:0x00007fdc08261858>"}},{"id":1492086,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8123120,"value":"2_\u0015Y'_ar_1__"}},{"id":1492087,"event":"return","thread_id":9160,"parent_id":1492086,"elapsed":6.718997610732913e-06,"elapsed_instrumentation":0.00015025900211185217,"return_value":{"class":"String","value":"32be155927dc61728d31d88e","object_id":8123140}},{"id":1492088,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8123160,"value":"[111360522098712215, 111360522098712205]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8123180,"value":"#<JSON::Ext::Generator::State:0x00007fdc0827b7f8>"}},{"id":1492089,"event":"return","thread_id":9160,"parent_id":1492088,"elapsed":1.0596995707601309e-05,"elapsed_instrumentation":0.00014765799278393388,"return_value":{"class":"String","value":"[111360522098712215,111360522098712205]","object_id":8123200}},{"id":1492090,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8123220,"value":"#<JSON::Ext::Parser:0x00007fdc082795e8>"}},{"id":1492091,"event":"return","thread_id":9160,"parent_id":1492090,"elapsed":5.784997483715415e-06,"elapsed_instrumentation":8.830797742120922e-05,"return_value":{"class":"Array","value":"[111360522098712215, 111360522098712205]","object_id":8123240,"size":2}},{"id":1492092,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8123260,"value":"_\f_\u0005Q\u0014c____\u0017"}},{"id":1492093,"event":"return","thread_id":9160,"parent_id":1492092,"elapsed":4.024012014269829e-06,"elapsed_instrumentation":0.00010954198660328984,"return_value":{"class":"String","value":"ed0cd2055114639ad5aa9417","object_id":8123280}},{"id":1492094,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8123300,"value":"{retry=>true, queue=>pull, args=>[111360522098712215, 111360522098712205], class=>UnmergeWorker, jid=>32be155927dc61728d31d88e, created_at=>1699226718.0223022, id=>ed0cd2055114639ad5aa9417}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8123320,"value":"#<JSON::Ext::Generator::State:0x00007fdc08276168>"}},{"id":1492095,"event":"return","thread_id":9160,"parent_id":1492094,"elapsed":2.6320019969716668e-05,"elapsed_instrumentation":0.0007144109986256808,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522098712215,111360522098712205],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8123340}},{"id":1492096,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8123360,"value":"#<JSON::Ext::Parser:0x00007fdc081cfe08>"}},{"id":1492097,"event":"return","thread_id":9160,"parent_id":1492096,"elapsed":2.9939983505755663e-05,"elapsed_instrumentation":0.0003056210116483271,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522098712215, 111360522098712205], class=>UnmergeWorker, jid=>32be155927dc61728d31d88e, created_at=>1699226718.0223022, id=>ed0cd2055114639ad5aa9417}","object_id":8123380,"size":7}},{"id":1492098,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044197424411,"value":"111360522098712205","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8123400,"value":"#<UnmergeWorker:0x00007fdc081cc1b8>"}},{"id":1492099,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8123400,"value":"#<UnmergeWorker:0x00007fdc081cc1b8>"}},{"id":1492100,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492101,"event":"return","thread_id":9160,"parent_id":1492100,"elapsed":0.0006521,"elapsed_instrumentation":9.197302279062569e-05},{"id":1492102,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492103,"event":"return","thread_id":9160,"parent_id":1492102,"elapsed":0.000541803,"elapsed_instrumentation":8.11950012575835e-05},{"id":1492104,"event":"return","thread_id":9160,"parent_id":1492099,"elapsed":0.004364209977211431,"elapsed_instrumentation":0.00014636898413300514,"return_value":{"class":"Account","value":"#<Account:0x00007fdc062f3700>","object_id":8123420}},{"id":1492105,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8123400,"value":"#<UnmergeWorker:0x00007fdc081cc1b8>"}},{"id":1492106,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8123440,"value":"#<Account:0x00007fdc062f3840>","kind":"req"},{"name":"into_account","class":"Account","object_id":8123420,"value":"#<Account:0x00007fdc062f3700>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492107,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044197424411,"value":"111360522098712205","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492108,"event":"return","thread_id":9160,"parent_id":1492107,"elapsed":5.9470185078680515e-06,"elapsed_instrumentation":0.00014467700384557247,"return_value":{"class":"String","value":"feed:home:111360522098712205","object_id":8123460}},{"id":1492109,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492110,"event":"return","thread_id":9160,"parent_id":1492109,"elapsed":5.7010038290172815e-06,"elapsed_instrumentation":8.46699986141175e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1492111,"event":"return","thread_id":9160,"parent_id":1492106,"elapsed":0.003316275018732995,"elapsed_instrumentation":0.0001286459737457335},{"id":1492112,"event":"return","thread_id":9160,"parent_id":1492105,"elapsed":0.003482818021439016,"elapsed_instrumentation":0.0001675850071478635},{"id":1492113,"event":"return","thread_id":9160,"parent_id":1492098,"elapsed":0.008226674020988867,"elapsed_instrumentation":0.00013690299238078296},{"id":1492114,"event":"return","thread_id":9160,"parent_id":1492085,"elapsed":0.010533243010286242,"elapsed_instrumentation":0.00027365097776055336,"return_value":{"class":"String","value":"32be155927dc61728d31d88e","object_id":8123140}},{"id":1492115,"event":"return","thread_id":9160,"parent_id":1492030,"elapsed":0.03853107601753436,"elapsed_instrumentation":0.00016906496603041887,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc062f6e00>","object_id":8122980}},{"id":1492116,"event":"return","thread_id":9160,"parent_id":1492029,"elapsed":0.03872615599539131,"elapsed_instrumentation":0.0001548380241729319,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc062f6e00>","object_id":8122980}},{"id":1492117,"event":"return","thread_id":9160,"parent_id":1492028,"elapsed":0.038934342010179535,"elapsed_instrumentation":0.0004207239835523069,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc062f6e00>","object_id":8122980}},{"id":1492118,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8123480,"value":"relationship:111360522098712206:111360522098712215","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8123500,"value":"#<UnfollowService:0x00007fdc07411c80>"}},{"id":1492119,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8123500,"value":"#<UnfollowService:0x00007fdc07411c80>"}},{"id":1492120,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8123520,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8123540,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492121,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492122,"event":"return","thread_id":9160,"parent_id":1492121,"elapsed":3.584980731830001e-06,"elapsed_instrumentation":7.310599903576076e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1492123,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8123560,"value":"_xh@_J_p}_L_\u000b___"}},{"id":1492124,"event":"return","thread_id":9160,"parent_id":1492123,"elapsed":6.5350031945854425e-06,"elapsed_instrumentation":0.00013430998660624027,"return_value":{"class":"Array","value":"[2742577216, 56138, 35184, 32132, 19711, 201188243]","object_id":8123580,"size":6}},{"id":1492125,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492126,"event":"return","thread_id":9160,"parent_id":1492125,"elapsed":0.000468389,"elapsed_instrumentation":8.416399941779673e-05},{"id":1492127,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8123600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492128,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492129,"event":"return","thread_id":9160,"parent_id":1492128,"elapsed":0.000577758,"elapsed_instrumentation":0.00011311299749650061},{"id":1492130,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492131,"event":"return","thread_id":9160,"parent_id":1492130,"elapsed":0.000468132,"elapsed_instrumentation":0.00035098797525279224},{"id":1492132,"event":"return","thread_id":9160,"parent_id":1492127,"elapsed":0.0032850640127435327,"elapsed_instrumentation":0.0002192470128647983,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1492133,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1492134,"event":"return","thread_id":9160,"parent_id":1492133,"elapsed":0.001015515,"elapsed_instrumentation":0.00013969899737276137},{"id":1492135,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8123600,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492136,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1492137,"event":"return","thread_id":9160,"parent_id":1492136,"elapsed":0.000729179,"elapsed_instrumentation":0.00011990597704425454},{"id":1492138,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492139,"event":"return","thread_id":9160,"parent_id":1492138,"elapsed":0.00054968,"elapsed_instrumentation":8.572600199840963e-05},{"id":1492140,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8123620,"value":"#<Account:0x00007fdc062f2300>"}},{"id":1492141,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8123620,"value":"#<Account:0x00007fdc062f2300>"}},{"id":1492142,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522098712206, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492143,"event":"return","thread_id":9160,"parent_id":1492142,"elapsed":0.000925307,"elapsed_instrumentation":7.848799577914178e-05},{"id":1492144,"event":"return","thread_id":9160,"parent_id":1492141,"elapsed":0.0014677350118290633,"elapsed_instrumentation":0.0001286350016016513},{"id":1492145,"event":"return","thread_id":9160,"parent_id":1492140,"elapsed":0.0016285500023514032,"elapsed_instrumentation":0.0003111479745712131},{"id":1492146,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492147,"event":"return","thread_id":9160,"parent_id":1492146,"elapsed":0.000767881,"elapsed_instrumentation":7.838799501769245e-05},{"id":1492148,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8123640,"value":"#<Account:0x00007fdc062f1180>"}},{"id":1492149,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8123640,"value":"#<Account:0x00007fdc062f1180>"}},{"id":1492150,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522098712215, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492151,"event":"return","thread_id":9160,"parent_id":1492150,"elapsed":0.000875981,"elapsed_instrumentation":7.510700379498303e-05},{"id":1492152,"event":"return","thread_id":9160,"parent_id":1492149,"elapsed":0.0016675799852237105,"elapsed_instrumentation":9.382699499838054e-05},{"id":1492153,"event":"return","thread_id":9160,"parent_id":1492148,"elapsed":0.0017852080054581165,"elapsed_instrumentation":0.00011755499872379005},{"id":1492154,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8123620,"value":"#<Account:0x00007fdc062f2300>"}},{"id":1492155,"event":"return","thread_id":9160,"parent_id":1492154,"elapsed":1.4546996681019664e-05,"elapsed_instrumentation":0.00010882900096476078,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492156,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8123640,"value":"#<Account:0x00007fdc062f1180>"}},{"id":1492157,"event":"return","thread_id":9160,"parent_id":1492156,"elapsed":7.670983904972672e-06,"elapsed_instrumentation":6.869202479720116e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492158,"event":"return","thread_id":9160,"parent_id":1492135,"elapsed":0.01151220200699754,"elapsed_instrumentation":0.00045543001033365726,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1492159,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492160,"event":"return","thread_id":9160,"parent_id":1492159,"elapsed":0.000483261,"elapsed_instrumentation":7.111401646398008e-05},{"id":1492161,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8123680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492162,"event":"return","thread_id":9160,"parent_id":1492161,"elapsed":3.6949932109564543e-06,"elapsed_instrumentation":0.00013679702533409,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1492163,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8123680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492164,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8123700,"value":"Cache delete: relationship:111360522098712206:111360522098712215\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492165,"event":"return","thread_id":9160,"parent_id":1492164,"elapsed":0.0009284040133934468,"elapsed_instrumentation":0.00015369700849987566,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492166,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8123720,"value":"Cache delete: relationship:111360522098712215:111360522098712206\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492167,"event":"return","thread_id":9160,"parent_id":1492166,"elapsed":0.0007536780030932277,"elapsed_instrumentation":0.00014322600327432156,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492168,"event":"return","thread_id":9160,"parent_id":1492163,"elapsed":0.002578186016762629,"elapsed_instrumentation":0.0004188900056760758,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1492169,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1492170,"event":"return","thread_id":9160,"parent_id":1492169,"elapsed":8.205999620258808e-06,"elapsed_instrumentation":0.0001888919505290687,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492171,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1492172,"event":"return","thread_id":9160,"parent_id":1492171,"elapsed":4.025991074740887e-06,"elapsed_instrumentation":7.23850098438561e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492173,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8123740,"value":"#<Account:0x00007fdc062f7e40>"}},{"id":1492174,"event":"return","thread_id":9160,"parent_id":1492173,"elapsed":1.0488001862540841e-05,"elapsed_instrumentation":6.29969872534275e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492175,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8123760,"value":"{args=>[111360522098712215, 111360522098712206], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8123780,"value":"#<Sidekiq::Client:0x00007fdc08003840>"}},{"id":1492176,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8123800,"value":"L\u0011\nB-^_3__yN"}},{"id":1492177,"event":"return","thread_id":9160,"parent_id":1492176,"elapsed":4.3539912439882755e-06,"elapsed_instrumentation":0.00019994101603515446,"return_value":{"class":"String","value":"4c110a422d5eda339cbc794e","object_id":8123820}},{"id":1492178,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8123840,"value":"[111360522098712215, 111360522098712206]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8123860,"value":"#<JSON::Ext::Generator::State:0x00007fdc0803f1d8>"}},{"id":1492179,"event":"return","thread_id":9160,"parent_id":1492178,"elapsed":8.414004696533084e-06,"elapsed_instrumentation":0.0002692880225367844,"return_value":{"class":"String","value":"[111360522098712215,111360522098712206]","object_id":8123880}},{"id":1492180,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8123900,"value":"#<JSON::Ext::Parser:0x00007fdc0803db30>"}},{"id":1492181,"event":"return","thread_id":9160,"parent_id":1492180,"elapsed":5.9600279200822115e-06,"elapsed_instrumentation":0.000104957987787202,"return_value":{"class":"Array","value":"[111360522098712215, 111360522098712206]","object_id":8123920,"size":2}},{"id":1492182,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8123940,"value":"__8QsS_^\t__g"}},{"id":1492183,"event":"return","thread_id":9160,"parent_id":1492182,"elapsed":4.162982804700732e-06,"elapsed_instrumentation":0.00010231800843030214,"return_value":{"class":"String","value":"dad938517353b75e09dba867","object_id":8123960}},{"id":1492184,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8123980,"value":"{retry=>true, queue=>pull, args=>[111360522098712215, 111360522098712206], class=>UnmergeWorker, jid=>4c110a422d5eda339cbc794e, created_at=>1699226718.0587842, id=>dad938517353b75e09dba867}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8124000,"value":"#<JSON::Ext::Generator::State:0x00007fdc0803a930>"}},{"id":1492185,"event":"return","thread_id":9160,"parent_id":1492184,"elapsed":1.413599238730967e-05,"elapsed_instrumentation":0.00019478495232760906,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522098712215,111360522098712206],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8124020}},{"id":1492186,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8124040,"value":"#<JSON::Ext::Parser:0x00007fdc08036f60>"}},{"id":1492187,"event":"return","thread_id":9160,"parent_id":1492186,"elapsed":2.1678017219528556e-05,"elapsed_instrumentation":0.00016057799803093076,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522098712215, 111360522098712206], class=>UnmergeWorker, jid=>4c110a422d5eda339cbc794e, created_at=>1699226718.0587842, id=>dad938517353b75e09dba867}","object_id":8124060,"size":7}},{"id":1492188,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044197424413,"value":"111360522098712206","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8124080,"value":"#<UnmergeWorker:0x00007fdc08032c58>"}},{"id":1492189,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8124080,"value":"#<UnmergeWorker:0x00007fdc08032c58>"}},{"id":1492190,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492191,"event":"return","thread_id":9160,"parent_id":1492190,"elapsed":0.000565883,"elapsed_instrumentation":8.628499926999211e-05},{"id":1492192,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492193,"event":"return","thread_id":9160,"parent_id":1492192,"elapsed":0.000511264,"elapsed_instrumentation":7.917400216683745e-05},{"id":1492194,"event":"return","thread_id":9160,"parent_id":1492189,"elapsed":0.003406486997846514,"elapsed_instrumentation":0.00012295600026845932,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0661f500>","object_id":8124100}},{"id":1492195,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8124080,"value":"#<UnmergeWorker:0x00007fdc08032c58>"}},{"id":1492196,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8124120,"value":"#<Account:0x00007fdc0661f8c0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8124100,"value":"#<Account:0x00007fdc0661f500>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492197,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044197424413,"value":"111360522098712206","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492198,"event":"return","thread_id":9160,"parent_id":1492197,"elapsed":5.308014806360006e-06,"elapsed_instrumentation":0.00013332298840396106,"return_value":{"class":"String","value":"feed:home:111360522098712206","object_id":8124140}},{"id":1492199,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492200,"event":"return","thread_id":9160,"parent_id":1492199,"elapsed":5.748996045440435e-06,"elapsed_instrumentation":8.37610277812928e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1492201,"event":"return","thread_id":9160,"parent_id":1492196,"elapsed":0.0037677669897675514,"elapsed_instrumentation":0.0002645990171004087},{"id":1492202,"event":"return","thread_id":9160,"parent_id":1492195,"elapsed":0.004066115012392402,"elapsed_instrumentation":8.523499127477407e-05},{"id":1492203,"event":"return","thread_id":9160,"parent_id":1492188,"elapsed":0.0077300749835558236,"elapsed_instrumentation":0.0002569860080257058},{"id":1492204,"event":"return","thread_id":9160,"parent_id":1492175,"elapsed":0.009401488990988582,"elapsed_instrumentation":0.00016253598732873797,"return_value":{"class":"String","value":"4c110a422d5eda339cbc794e","object_id":8123820}},{"id":1492205,"event":"return","thread_id":9160,"parent_id":1492120,"elapsed":0.03496314800577238,"elapsed_instrumentation":0.0001485399843659252,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc062f3340>","object_id":8123660}},{"id":1492206,"event":"return","thread_id":9160,"parent_id":1492119,"elapsed":0.035134887002641335,"elapsed_instrumentation":7.973099127411842e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc062f3340>","object_id":8123660}},{"id":1492207,"event":"return","thread_id":9160,"parent_id":1492118,"elapsed":0.035247672989498824,"elapsed_instrumentation":0.0001392620033584535,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc062f3340>","object_id":8123660}},{"id":1492208,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8124160,"value":"relationship:111360522098712207:111360522098712215","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8124180,"value":"#<UnfollowService:0x00007fdc07438d58>"}},{"id":1492209,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8124180,"value":"#<UnfollowService:0x00007fdc07438d58>"}},{"id":1492210,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8124200,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8124220,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492211,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492212,"event":"return","thread_id":9160,"parent_id":1492211,"elapsed":3.2319803722202778e-06,"elapsed_instrumentation":8.922597044147551e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1492213,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8124240,"value":"_\b\b_\u0001\u0001___NZ_0B^_"}},{"id":1492214,"event":"return","thread_id":9160,"parent_id":1492213,"elapsed":6.824993761256337e-06,"elapsed_instrumentation":0.00021756801288574934,"return_value":{"class":"Array","value":"[3355969775, 257, 59645, 46158, 23273, 809656038]","object_id":8124260,"size":6}},{"id":1492215,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492216,"event":"return","thread_id":9160,"parent_id":1492215,"elapsed":0.000385367,"elapsed_instrumentation":8.112500654533505e-05},{"id":1492217,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8124280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492218,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492219,"event":"return","thread_id":9160,"parent_id":1492218,"elapsed":0.000430073,"elapsed_instrumentation":0.00013732901425100863},{"id":1492220,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492221,"event":"return","thread_id":9160,"parent_id":1492220,"elapsed":0.00049218,"elapsed_instrumentation":8.320400957018137e-05},{"id":1492222,"event":"return","thread_id":9160,"parent_id":1492217,"elapsed":0.002850659016985446,"elapsed_instrumentation":0.00018034997629001737,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1492223,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1492224,"event":"return","thread_id":9160,"parent_id":1492223,"elapsed":0.000693622,"elapsed_instrumentation":8.024601265788078e-05},{"id":1492225,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8124280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492226,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1492227,"event":"return","thread_id":9160,"parent_id":1492226,"elapsed":0.000557696,"elapsed_instrumentation":0.0002106349857058376},{"id":1492228,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492229,"event":"return","thread_id":9160,"parent_id":1492228,"elapsed":0.001031514,"elapsed_instrumentation":9.819999104365706e-05},{"id":1492230,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8124300,"value":"#<Account:0x00007fdc0661e380>"}},{"id":1492231,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8124300,"value":"#<Account:0x00007fdc0661e380>"}},{"id":1492232,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522098712207, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492233,"event":"return","thread_id":9160,"parent_id":1492232,"elapsed":0.001341425,"elapsed_instrumentation":0.0001235910167451948},{"id":1492234,"event":"return","thread_id":9160,"parent_id":1492231,"elapsed":0.0020516559889074415,"elapsed_instrumentation":0.0001443189976271242},{"id":1492235,"event":"return","thread_id":9160,"parent_id":1492230,"elapsed":0.0022315930109471083,"elapsed_instrumentation":0.0003959090099669993},{"id":1492236,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492237,"event":"return","thread_id":9160,"parent_id":1492236,"elapsed":0.000936471,"elapsed_instrumentation":0.0005759549967478961},{"id":1492238,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8124320,"value":"#<Account:0x00007fdc0661c580>"}},{"id":1492239,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8124320,"value":"#<Account:0x00007fdc0661c580>"}},{"id":1492240,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522098712215, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492241,"event":"return","thread_id":9160,"parent_id":1492240,"elapsed":0.001461369,"elapsed_instrumentation":0.0002536680258344859},{"id":1492242,"event":"return","thread_id":9160,"parent_id":1492239,"elapsed":0.002492210012860596,"elapsed_instrumentation":0.00015164300566539168},{"id":1492243,"event":"return","thread_id":9160,"parent_id":1492238,"elapsed":0.0026941790129058063,"elapsed_instrumentation":0.0002008090086746961},{"id":1492244,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8124300,"value":"#<Account:0x00007fdc0661e380>"}},{"id":1492245,"event":"return","thread_id":9160,"parent_id":1492244,"elapsed":5.8411998907104135e-05,"elapsed_instrumentation":0.00016611203318461776,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492246,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8124320,"value":"#<Account:0x00007fdc0661c580>"}},{"id":1492247,"event":"return","thread_id":9160,"parent_id":1492246,"elapsed":1.6583013348281384e-05,"elapsed_instrumentation":0.00015007698675617576,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492248,"event":"return","thread_id":9160,"parent_id":1492225,"elapsed":0.015553438977804035,"elapsed_instrumentation":0.0004255270177964121,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1492249,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492250,"event":"return","thread_id":9160,"parent_id":1492249,"elapsed":0.000509354,"elapsed_instrumentation":9.047900675795972e-05},{"id":1492251,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8124360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492252,"event":"return","thread_id":9160,"parent_id":1492251,"elapsed":6.2019971664994955e-06,"elapsed_instrumentation":0.00038780400063842535,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1492253,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8124360,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492254,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8124380,"value":"Cache delete: relationship:111360522098712207:111360522098712215\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492255,"event":"return","thread_id":9160,"parent_id":1492254,"elapsed":0.0014617810084018856,"elapsed_instrumentation":0.00017520503024570644,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492256,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8124400,"value":"Cache delete: relationship:111360522098712215:111360522098712207\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492257,"event":"return","thread_id":9160,"parent_id":1492256,"elapsed":0.0013488669937942177,"elapsed_instrumentation":0.00015116200665943325,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492258,"event":"return","thread_id":9160,"parent_id":1492253,"elapsed":0.003530052024871111,"elapsed_instrumentation":0.00043711598846130073,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1492259,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1492260,"event":"return","thread_id":9160,"parent_id":1492259,"elapsed":1.2856995454058051e-05,"elapsed_instrumentation":0.00016010800027288496,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492261,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1492262,"event":"return","thread_id":9160,"parent_id":1492261,"elapsed":4.4339976739138365e-06,"elapsed_instrumentation":7.54200154915452e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492263,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8124420,"value":"#<Account:0x00007fdc062f7bc0>"}},{"id":1492264,"event":"return","thread_id":9160,"parent_id":1492263,"elapsed":1.6621022950857878e-05,"elapsed_instrumentation":8.874599006958306e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492265,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8124440,"value":"{args=>[111360522098712215, 111360522098712207], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8124460,"value":"#<Sidekiq::Client:0x00007fdc0724f1b8>"}},{"id":1492266,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8124480,"value":"__\bw_l___K_\u0010"}},{"id":1492267,"event":"return","thread_id":9160,"parent_id":1492266,"elapsed":7.430004188790917e-06,"elapsed_instrumentation":0.0002471559855621308,"return_value":{"class":"String","value":"e9f908778c6cf8abc14ba010","object_id":8124500}},{"id":1492268,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8124520,"value":"[111360522098712215, 111360522098712207]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8124540,"value":"#<JSON::Ext::Generator::State:0x00007fdc07247418>"}},{"id":1492269,"event":"return","thread_id":9160,"parent_id":1492268,"elapsed":9.718001820147038e-06,"elapsed_instrumentation":0.0001781129976734519,"return_value":{"class":"String","value":"[111360522098712215,111360522098712207]","object_id":8124560}},{"id":1492270,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8124580,"value":"#<JSON::Ext::Parser:0x00007fdc07244470>"}},{"id":1492271,"event":"return","thread_id":9160,"parent_id":1492270,"elapsed":5.664012860506773e-06,"elapsed_instrumentation":9.712495375424623e-05,"return_value":{"class":"Array","value":"[111360522098712215, 111360522098712207]","object_id":8124600,"size":2}},{"id":1492272,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8124620,"value":"_\u0004\u0000___P___u0"}},{"id":1492273,"event":"return","thread_id":9160,"parent_id":1492272,"elapsed":1.1130992788821459e-05,"elapsed_instrumentation":0.00020253899856470525,"return_value":{"class":"String","value":"cc0400cfb3cb50d9cbd67530","object_id":8124640}},{"id":1492274,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8124660,"value":"{retry=>true, queue=>pull, args=>[111360522098712215, 111360522098712207], class=>UnmergeWorker, jid=>e9f908778c6cf8abc14ba010, created_at=>1699226718.0995548, id=>cc0400cfb3cb50d9cbd67530}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8124680,"value":"#<JSON::Ext::Generator::State:0x00007fdc0725f720>"}},{"id":1492275,"event":"return","thread_id":9160,"parent_id":1492274,"elapsed":2.008900628425181e-05,"elapsed_instrumentation":0.00031210097949951887,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522098712215,111360522098712207],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8124700}},{"id":1492276,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8124720,"value":"#<JSON::Ext::Parser:0x00007fdc0725aba8>"}},{"id":1492277,"event":"return","thread_id":9160,"parent_id":1492276,"elapsed":3.050599480047822e-05,"elapsed_instrumentation":0.0005736720049753785,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522098712215, 111360522098712207], class=>UnmergeWorker, jid=>e9f908778c6cf8abc14ba010, created_at=>1699226718.0995548, id=>cc0400cfb3cb50d9cbd67530}","object_id":8124740,"size":7}},{"id":1492278,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044197424415,"value":"111360522098712207","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8124760,"value":"#<UnmergeWorker:0x00007fdc07256760>"}},{"id":1492279,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8124760,"value":"#<UnmergeWorker:0x00007fdc07256760>"}},{"id":1492280,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492281,"event":"return","thread_id":9160,"parent_id":1492280,"elapsed":0.000745644,"elapsed_instrumentation":0.00013503400259651244},{"id":1492282,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492283,"event":"return","thread_id":9160,"parent_id":1492282,"elapsed":0.000961702,"elapsed_instrumentation":8.932399214245379e-05},{"id":1492284,"event":"return","thread_id":9160,"parent_id":1492279,"elapsed":0.005619588016998023,"elapsed_instrumentation":0.0001846149971242994,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0661a000>","object_id":8124780}},{"id":1492285,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8124760,"value":"#<UnmergeWorker:0x00007fdc07256760>"}},{"id":1492286,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8124800,"value":"#<Account:0x00007fdc0661a280>","kind":"req"},{"name":"into_account","class":"Account","object_id":8124780,"value":"#<Account:0x00007fdc0661a000>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492287,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044197424415,"value":"111360522098712207","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492288,"event":"return","thread_id":9160,"parent_id":1492287,"elapsed":7.233989890664816e-06,"elapsed_instrumentation":0.0004102200036868453,"return_value":{"class":"String","value":"feed:home:111360522098712207","object_id":8124820}},{"id":1492289,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492290,"event":"return","thread_id":9160,"parent_id":1492289,"elapsed":7.607974112033844e-06,"elapsed_instrumentation":0.00013932600268162787,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1492291,"event":"return","thread_id":9160,"parent_id":1492286,"elapsed":0.006217574002221227,"elapsed_instrumentation":0.00018738803919404745},{"id":1492292,"event":"return","thread_id":9160,"parent_id":1492285,"elapsed":0.006459322990849614,"elapsed_instrumentation":0.00017713799024932086},{"id":1492293,"event":"return","thread_id":9160,"parent_id":1492278,"elapsed":0.012516201997641474,"elapsed_instrumentation":0.0001509549911133945},{"id":1492294,"event":"return","thread_id":9160,"parent_id":1492265,"elapsed":0.015038442972581834,"elapsed_instrumentation":0.00038774701533839107,"return_value":{"class":"String","value":"e9f908778c6cf8abc14ba010","object_id":8124500}},{"id":1492295,"event":"return","thread_id":9160,"parent_id":1492210,"elapsed":0.045702727016760036,"elapsed_instrumentation":0.00034101097844541073,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0661f280>","object_id":8124340}},{"id":1492296,"event":"return","thread_id":9160,"parent_id":1492209,"elapsed":0.046252656989963725,"elapsed_instrumentation":0.00011929901666007936,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0661f280>","object_id":8124340}},{"id":1492297,"event":"return","thread_id":9160,"parent_id":1492208,"elapsed":0.046409149013925344,"elapsed_instrumentation":0.0001332920219283551,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc0661f280>","object_id":8124340}},{"id":1492298,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8124840,"value":"relationship:111360522098712208:111360522098712215","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8124860,"value":"#<UnfollowService:0x00007fdc07430d88>"}},{"id":1492299,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8124860,"value":"#<UnfollowService:0x00007fdc07430d88>"}},{"id":1492300,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8124880,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8124900,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492301,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492302,"event":"return","thread_id":9160,"parent_id":1492301,"elapsed":3.8199941627681255e-06,"elapsed_instrumentation":8.320601773448288e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1492303,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8124920,"value":"q\n_____^$_____)S"}},{"id":1492304,"event":"return","thread_id":9160,"parent_id":1492303,"elapsed":7.86499003879726e-06,"elapsed_instrumentation":0.0002795220061670989,"return_value":{"class":"Array","value":"[1896526532, 60064, 36446, 9469, 49285, 3836422483]","object_id":8124940,"size":6}},{"id":1492305,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492306,"event":"return","thread_id":9160,"parent_id":1492305,"elapsed":0.000787599,"elapsed_instrumentation":0.00010700098937377334},{"id":1492307,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8124960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492308,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492309,"event":"return","thread_id":9160,"parent_id":1492308,"elapsed":0.000665987,"elapsed_instrumentation":0.00011219800217077136},{"id":1492310,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492311,"event":"return","thread_id":9160,"parent_id":1492310,"elapsed":0.000719013,"elapsed_instrumentation":9.185497765429318e-05},{"id":1492312,"event":"return","thread_id":9160,"parent_id":1492307,"elapsed":0.0038768800150137395,"elapsed_instrumentation":0.000242199981585145,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1492313,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1492314,"event":"return","thread_id":9160,"parent_id":1492313,"elapsed":0.001303677,"elapsed_instrumentation":0.00011754798470064998},{"id":1492315,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8124960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492316,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1492317,"event":"return","thread_id":9160,"parent_id":1492316,"elapsed":0.001339071,"elapsed_instrumentation":0.00010097702033817768},{"id":1492318,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492319,"event":"return","thread_id":9160,"parent_id":1492318,"elapsed":0.000865365,"elapsed_instrumentation":9.376101661473513e-05},{"id":1492320,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8124980,"value":"#<Account:0x00007fdc06618e80>"}},{"id":1492321,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8124980,"value":"#<Account:0x00007fdc06618e80>"}},{"id":1492322,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522098712208, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492323,"event":"return","thread_id":9160,"parent_id":1492322,"elapsed":0.001403869,"elapsed_instrumentation":0.00011853099567815661},{"id":1492324,"event":"return","thread_id":9160,"parent_id":1492321,"elapsed":0.0025815379922278225,"elapsed_instrumentation":0.00011367700062692165},{"id":1492325,"event":"return","thread_id":9160,"parent_id":1492320,"elapsed":0.0027298049826640636,"elapsed_instrumentation":0.00018010599887929857},{"id":1492326,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492327,"event":"return","thread_id":9160,"parent_id":1492326,"elapsed":0.000941727,"elapsed_instrumentation":0.00012163000064902008},{"id":1492328,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8125000,"value":"#<Account:0x00007fdc06617bc0>"}},{"id":1492329,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8125000,"value":"#<Account:0x00007fdc06617bc0>"}},{"id":1492330,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522098712215, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492331,"event":"return","thread_id":9160,"parent_id":1492330,"elapsed":0.001593481,"elapsed_instrumentation":0.0001182100095320493},{"id":1492332,"event":"return","thread_id":9160,"parent_id":1492329,"elapsed":0.0027884259761776775,"elapsed_instrumentation":0.00015128400991670787},{"id":1492333,"event":"return","thread_id":9160,"parent_id":1492328,"elapsed":0.002978060976602137,"elapsed_instrumentation":0.0002068379835691303},{"id":1492334,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8124980,"value":"#<Account:0x00007fdc06618e80>"}},{"id":1492335,"event":"return","thread_id":9160,"parent_id":1492334,"elapsed":1.8813996575772762e-05,"elapsed_instrumentation":0.00038898398634046316,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492336,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8125000,"value":"#<Account:0x00007fdc06617bc0>"}},{"id":1492337,"event":"return","thread_id":9160,"parent_id":1492336,"elapsed":1.1076015653088689e-05,"elapsed_instrumentation":0.0002375149924773723,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492338,"event":"return","thread_id":9160,"parent_id":1492315,"elapsed":0.017493471008492634,"elapsed_instrumentation":0.00022506699315272272,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1492339,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492340,"event":"return","thread_id":9160,"parent_id":1492339,"elapsed":0.000690768,"elapsed_instrumentation":0.00010333702084608376},{"id":1492341,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8125040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492342,"event":"return","thread_id":9160,"parent_id":1492341,"elapsed":3.0850060284137726e-06,"elapsed_instrumentation":0.00012345999130047858,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1492343,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8125040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492344,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8125060,"value":"Cache delete: relationship:111360522098712208:111360522098712215\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492345,"event":"return","thread_id":9160,"parent_id":1492344,"elapsed":0.0010470970009919256,"elapsed_instrumentation":0.0003432309895288199,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492346,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8125080,"value":"Cache delete: relationship:111360522098712215:111360522098712208\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492347,"event":"return","thread_id":9160,"parent_id":1492346,"elapsed":0.0008883400005288422,"elapsed_instrumentation":0.00017251999815925956,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492348,"event":"return","thread_id":9160,"parent_id":1492343,"elapsed":0.0028102879878133535,"elapsed_instrumentation":0.00013463900540955365,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1492349,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1492350,"event":"return","thread_id":9160,"parent_id":1492349,"elapsed":9.19698504731059e-06,"elapsed_instrumentation":9.809600305743515e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492351,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1492352,"event":"return","thread_id":9160,"parent_id":1492351,"elapsed":4.897010512650013e-06,"elapsed_instrumentation":9.664500248618424e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492353,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8125100,"value":"#<Account:0x00007fdc062f7800>"}},{"id":1492354,"event":"return","thread_id":9160,"parent_id":1492353,"elapsed":1.19420001283288e-05,"elapsed_instrumentation":0.0001004659861791879,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492355,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8125120,"value":"{args=>[111360522098712215, 111360522098712208], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8125140,"value":"#<Sidekiq::Client:0x00007fdc07172060>"}},{"id":1492356,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8125160,"value":"yN___\u0011_\u001b{\u00063_"}},{"id":1492357,"event":"return","thread_id":9160,"parent_id":1492356,"elapsed":8.124974556267262e-06,"elapsed_instrumentation":0.0002461560070514679,"return_value":{"class":"String","value":"794ee4ffa611911b7b0633dd","object_id":8125180}},{"id":1492358,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8125200,"value":"[111360522098712215, 111360522098712208]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8125220,"value":"#<JSON::Ext::Generator::State:0x00007fdc0718e468>"}},{"id":1492359,"event":"return","thread_id":9160,"parent_id":1492358,"elapsed":1.0648014722391963e-05,"elapsed_instrumentation":0.00041077600326389074,"return_value":{"class":"String","value":"[111360522098712215,111360522098712208]","object_id":8125240}},{"id":1492360,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8125260,"value":"#<JSON::Ext::Parser:0x00007fdc0718d1f8>"}},{"id":1492361,"event":"return","thread_id":9160,"parent_id":1492360,"elapsed":6.1010068748146296e-06,"elapsed_instrumentation":0.00013374502304941416,"return_value":{"class":"Array","value":"[111360522098712215, 111360522098712208]","object_id":8125280,"size":2}},{"id":1492362,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8125300,"value":"_\u0018_Z3__\\M__p"}},{"id":1492363,"event":"return","thread_id":9160,"parent_id":1492362,"elapsed":4.9810041673481464e-06,"elapsed_instrumentation":0.00016780599253252149,"return_value":{"class":"String","value":"c318dd5a33ca965c4df8fa70","object_id":8125320}},{"id":1492364,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8125340,"value":"{retry=>true, queue=>pull, args=>[111360522098712215, 111360522098712208], class=>UnmergeWorker, jid=>794ee4ffa611911b7b0633dd, created_at=>1699226718.148819, id=>c318dd5a33ca965c4df8fa70}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8125360,"value":"#<JSON::Ext::Generator::State:0x00007fdc0718aca0>"}},{"id":1492365,"event":"return","thread_id":9160,"parent_id":1492364,"elapsed":1.8942984752357006e-05,"elapsed_instrumentation":0.0005043520068284124,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522098712215,111360522098712208],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8125380}},{"id":1492366,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8125400,"value":"#<JSON::Ext::Parser:0x00007fdc07188400>"}},{"id":1492367,"event":"return","thread_id":9160,"parent_id":1492366,"elapsed":2.242100890725851e-05,"elapsed_instrumentation":0.00019238601089455187,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522098712215, 111360522098712208], class=>UnmergeWorker, jid=>794ee4ffa611911b7b0633dd, created_at=>1699226718.148819, id=>c318dd5a33ca965c4df8fa70}","object_id":8125420,"size":7}},{"id":1492368,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044197424417,"value":"111360522098712208","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8125440,"value":"#<UnmergeWorker:0x00007fdc07185e58>"}},{"id":1492369,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8125440,"value":"#<UnmergeWorker:0x00007fdc07185e58>"}},{"id":1492370,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492371,"event":"return","thread_id":9160,"parent_id":1492370,"elapsed":0.000767286,"elapsed_instrumentation":0.00010290200589224696},{"id":1492372,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492373,"event":"return","thread_id":9160,"parent_id":1492372,"elapsed":0.000949094,"elapsed_instrumentation":8.544398588128388e-05},{"id":1492374,"event":"return","thread_id":9160,"parent_id":1492369,"elapsed":0.005088637990411371,"elapsed_instrumentation":0.00020841500372625887,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06616680>","object_id":8125460}},{"id":1492375,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8125440,"value":"#<UnmergeWorker:0x00007fdc07185e58>"}},{"id":1492376,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8125480,"value":"#<Account:0x00007fdc066167c0>","kind":"req"},{"name":"into_account","class":"Account","object_id":8125460,"value":"#<Account:0x00007fdc06616680>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492377,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044197424417,"value":"111360522098712208","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492378,"event":"return","thread_id":9160,"parent_id":1492377,"elapsed":9.162002243101597e-06,"elapsed_instrumentation":0.0001900609931908548,"return_value":{"class":"String","value":"feed:home:111360522098712208","object_id":8125500}},{"id":1492379,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492380,"event":"return","thread_id":9160,"parent_id":1492379,"elapsed":7.486989488825202e-06,"elapsed_instrumentation":0.00020870499429292977,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1492381,"event":"return","thread_id":9160,"parent_id":1492376,"elapsed":0.007980664988281205,"elapsed_instrumentation":0.00020231897360645235},{"id":1492382,"event":"return","thread_id":9160,"parent_id":1492375,"elapsed":0.008237638015998527,"elapsed_instrumentation":0.00034032398252747953},{"id":1492383,"event":"return","thread_id":9160,"parent_id":1492368,"elapsed":0.013955925998743623,"elapsed_instrumentation":9.658999624662101e-05},{"id":1492384,"event":"return","thread_id":9160,"parent_id":1492355,"elapsed":0.016204682004172355,"elapsed_instrumentation":0.0005546999746002257,"return_value":{"class":"String","value":"794ee4ffa611911b7b0633dd","object_id":8125180}},{"id":1492385,"event":"return","thread_id":9160,"parent_id":1492300,"elapsed":0.04998326700297184,"elapsed_instrumentation":0.00019719501142390072,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06619880>","object_id":8125020}},{"id":1492386,"event":"return","thread_id":9160,"parent_id":1492299,"elapsed":0.050211663998197764,"elapsed_instrumentation":9.794297511689365e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06619880>","object_id":8125020}},{"id":1492387,"event":"return","thread_id":9160,"parent_id":1492298,"elapsed":0.05034823701134883,"elapsed_instrumentation":0.00017098200623877347,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06619880>","object_id":8125020}},{"id":1492388,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8125520,"value":"relationship:111360522098712209:111360522098712215","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8125540,"value":"#<UnfollowService:0x00007fdc07447da8>"}},{"id":1492389,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8125540,"value":"#<UnfollowService:0x00007fdc07447da8>"}},{"id":1492390,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8125560,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8125580,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492391,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492392,"event":"return","thread_id":9160,"parent_id":1492391,"elapsed":3.0600058380514383e-06,"elapsed_instrumentation":8.421402890235186e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1492393,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8125600,"value":"___o__c____\n_R_\u0007"}},{"id":1492394,"event":"return","thread_id":9160,"parent_id":1492393,"elapsed":1.0562012903392315e-05,"elapsed_instrumentation":0.0006076779973227531,"return_value":{"class":"Array","value":"[3199589999, 49117, 25549, 37551, 59146, 3243411207]","object_id":8125620,"size":6}},{"id":1492395,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492396,"event":"return","thread_id":9160,"parent_id":1492395,"elapsed":0.000652533,"elapsed_instrumentation":0.00012686799163930118},{"id":1492397,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8125640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492398,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492399,"event":"return","thread_id":9160,"parent_id":1492398,"elapsed":0.000493079,"elapsed_instrumentation":0.00012470601359382272},{"id":1492400,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492401,"event":"return","thread_id":9160,"parent_id":1492400,"elapsed":0.0005614,"elapsed_instrumentation":9.88770043477416e-05},{"id":1492402,"event":"return","thread_id":9160,"parent_id":1492397,"elapsed":0.004007940995506942,"elapsed_instrumentation":0.00034423498436808586,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1492403,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1492404,"event":"return","thread_id":9160,"parent_id":1492403,"elapsed":0.001040584,"elapsed_instrumentation":0.00011296899174340069},{"id":1492405,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8125640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492406,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1492407,"event":"return","thread_id":9160,"parent_id":1492406,"elapsed":0.000763508,"elapsed_instrumentation":8.462599362246692e-05},{"id":1492408,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492409,"event":"return","thread_id":9160,"parent_id":1492408,"elapsed":0.000903892,"elapsed_instrumentation":8.222699398174882e-05},{"id":1492410,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8125660,"value":"#<Account:0x00007fdc06615a00>"}},{"id":1492411,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8125660,"value":"#<Account:0x00007fdc06615a00>"}},{"id":1492412,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522098712209, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492413,"event":"return","thread_id":9160,"parent_id":1492412,"elapsed":0.00109401,"elapsed_instrumentation":0.00010531899170018733},{"id":1492414,"event":"return","thread_id":9160,"parent_id":1492411,"elapsed":0.0021310599986463785,"elapsed_instrumentation":0.0001107489806599915},{"id":1492415,"event":"return","thread_id":9160,"parent_id":1492410,"elapsed":0.002275585982715711,"elapsed_instrumentation":0.00015515799168497324},{"id":1492416,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492417,"event":"return","thread_id":9160,"parent_id":1492416,"elapsed":0.000924457,"elapsed_instrumentation":8.410000009462237e-05},{"id":1492418,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8125680,"value":"#<Account:0x00007fdc06614880>"}},{"id":1492419,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8125680,"value":"#<Account:0x00007fdc06614880>"}},{"id":1492420,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522098712215, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492421,"event":"return","thread_id":9160,"parent_id":1492420,"elapsed":0.001340912,"elapsed_instrumentation":0.00013314498937688768},{"id":1492422,"event":"return","thread_id":9160,"parent_id":1492419,"elapsed":0.0027400760154705495,"elapsed_instrumentation":0.00016595498891547322},{"id":1492423,"event":"return","thread_id":9160,"parent_id":1492418,"elapsed":0.0029468360007740557,"elapsed_instrumentation":0.00019052799325436354},{"id":1492424,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8125660,"value":"#<Account:0x00007fdc06615a00>"}},{"id":1492425,"event":"return","thread_id":9160,"parent_id":1492424,"elapsed":1.877997419796884e-05,"elapsed_instrumentation":0.0001615270448382944,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492426,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8125680,"value":"#<Account:0x00007fdc06614880>"}},{"id":1492427,"event":"return","thread_id":9160,"parent_id":1492426,"elapsed":1.0796997230499983e-05,"elapsed_instrumentation":0.00014128000475466251,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492428,"event":"return","thread_id":9160,"parent_id":1492405,"elapsed":0.015173880005022511,"elapsed_instrumentation":0.00022787900525145233,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1492429,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492430,"event":"return","thread_id":9160,"parent_id":1492429,"elapsed":0.000858935,"elapsed_instrumentation":0.00010947301052510738},{"id":1492431,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8125720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492432,"event":"return","thread_id":9160,"parent_id":1492431,"elapsed":5.279987817630172e-06,"elapsed_instrumentation":0.0001669409975875169,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1492433,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8125720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492434,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8125740,"value":"Cache delete: relationship:111360522098712209:111360522098712215\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492435,"event":"return","thread_id":9160,"parent_id":1492434,"elapsed":0.0009502169850748032,"elapsed_instrumentation":0.00019527602125890553,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492436,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8125760,"value":"Cache delete: relationship:111360522098712215:111360522098712209\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492437,"event":"return","thread_id":9160,"parent_id":1492436,"elapsed":0.0010460170160513371,"elapsed_instrumentation":0.00020069797756150365,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492438,"event":"return","thread_id":9160,"parent_id":1492433,"elapsed":0.0035840309865307063,"elapsed_instrumentation":0.0001951550366356969,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1492439,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1492440,"event":"return","thread_id":9160,"parent_id":1492439,"elapsed":8.848001016303897e-06,"elapsed_instrumentation":9.800100815482438e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492441,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1492442,"event":"return","thread_id":9160,"parent_id":1492441,"elapsed":4.241999704390764e-06,"elapsed_instrumentation":6.451600347645581e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492443,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8125780,"value":"#<Account:0x00007fdc062f7580>"}},{"id":1492444,"event":"return","thread_id":9160,"parent_id":1492443,"elapsed":1.1999974958598614e-05,"elapsed_instrumentation":6.239002686925232e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492445,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8125800,"value":"{args=>[111360522098712215, 111360522098712209], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8125820,"value":"#<Sidekiq::Client:0x00007fdc070ed6a8>"}},{"id":1492446,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8125840,"value":"_\u0006i_4_9L_5\u0005h"}},{"id":1492447,"event":"return","thread_id":9160,"parent_id":1492446,"elapsed":4.9810041673481464e-06,"elapsed_instrumentation":0.00021159200696274638,"return_value":{"class":"String","value":"b9066997348f394cc9350568","object_id":8125860}},{"id":1492448,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8125880,"value":"[111360522098712215, 111360522098712209]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8125900,"value":"#<JSON::Ext::Generator::State:0x00007fdc070eaef8>"}},{"id":1492449,"event":"return","thread_id":9160,"parent_id":1492448,"elapsed":6.216985639184713e-06,"elapsed_instrumentation":0.00011660903692245483,"return_value":{"class":"String","value":"[111360522098712215,111360522098712209]","object_id":8125920}},{"id":1492450,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8125940,"value":"#<JSON::Ext::Parser:0x00007fdc070e9e90>"}},{"id":1492451,"event":"return","thread_id":9160,"parent_id":1492450,"elapsed":5.6349963415414095e-06,"elapsed_instrumentation":8.375101606361568e-05,"return_value":{"class":"Array","value":"[111360522098712215, 111360522098712209]","object_id":8125960,"size":2}},{"id":1492452,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8125980,"value":"OM_2____aV9_"}},{"id":1492453,"event":"return","thread_id":9160,"parent_id":1492452,"elapsed":4.270987119525671e-06,"elapsed_instrumentation":0.00016966101247817278,"return_value":{"class":"String","value":"4f4ddb32ca84e3b76156398c","object_id":8126000}},{"id":1492454,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8126020,"value":"{retry=>true, queue=>pull, args=>[111360522098712215, 111360522098712209], class=>UnmergeWorker, jid=>b9066997348f394cc9350568, created_at=>1699226718.199733, id=>4f4ddb32ca84e3b76156398c}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8126040,"value":"#<JSON::Ext::Generator::State:0x00007fdc070e7ac8>"}},{"id":1492455,"event":"return","thread_id":9160,"parent_id":1492454,"elapsed":1.7440994270145893e-05,"elapsed_instrumentation":0.00021329702576622367,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522098712215,111360522098712209],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":8126060}},{"id":1492456,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8126080,"value":"#<JSON::Ext::Parser:0x00007fdc070e5980>"}},{"id":1492457,"event":"return","thread_id":9160,"parent_id":1492456,"elapsed":2.1148996893316507e-05,"elapsed_instrumentation":0.0001659250119701028,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522098712215, 111360522098712209], class=>UnmergeWorker, jid=>b9066997348f394cc9350568, created_at=>1699226718.199733, id=>4f4ddb32ca84e3b76156398c}","object_id":8126100,"size":7}},{"id":1492458,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044197424419,"value":"111360522098712209","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8126120,"value":"#<UnmergeWorker:0x00007fdc070e3950>"}},{"id":1492459,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8126120,"value":"#<UnmergeWorker:0x00007fdc070e3950>"}},{"id":1492460,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492461,"event":"return","thread_id":9160,"parent_id":1492460,"elapsed":0.000725607,"elapsed_instrumentation":0.00022136198822408915},{"id":1492462,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492463,"event":"return","thread_id":9160,"parent_id":1492462,"elapsed":0.000908511,"elapsed_instrumentation":9.089801460504532e-05},{"id":1492464,"event":"return","thread_id":9160,"parent_id":1492459,"elapsed":0.0053666709864046425,"elapsed_instrumentation":0.00017975602531805634,"return_value":{"class":"Account","value":"#<Account:0x00007fdc06613200>","object_id":8126140}},{"id":1492465,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8126120,"value":"#<UnmergeWorker:0x00007fdc070e3950>"}},{"id":1492466,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8126160,"value":"#<Account:0x00007fdc06613340>","kind":"req"},{"name":"into_account","class":"Account","object_id":8126140,"value":"#<Account:0x00007fdc06613200>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492467,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044197424419,"value":"111360522098712209","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492468,"event":"return","thread_id":9160,"parent_id":1492467,"elapsed":5.140987923368812e-06,"elapsed_instrumentation":0.00014161001308821142,"return_value":{"class":"String","value":"feed:home:111360522098712209","object_id":8126180}},{"id":1492469,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492470,"event":"return","thread_id":9160,"parent_id":1492469,"elapsed":7.633003406226635e-06,"elapsed_instrumentation":0.00013833801494911313,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1492471,"event":"return","thread_id":9160,"parent_id":1492466,"elapsed":0.004036629979964346,"elapsed_instrumentation":0.0002119910204783082},{"id":1492472,"event":"return","thread_id":9160,"parent_id":1492465,"elapsed":0.004293741018045694,"elapsed_instrumentation":0.0002833989856299013},{"id":1492473,"event":"return","thread_id":9160,"parent_id":1492458,"elapsed":0.010207572020590305,"elapsed_instrumentation":0.00032493300386704504},{"id":1492474,"event":"return","thread_id":9160,"parent_id":1492445,"elapsed":0.012129773997003213,"elapsed_instrumentation":0.000525577983353287,"return_value":{"class":"String","value":"b9066997348f394cc9350568","object_id":8125860}},{"id":1492475,"event":"return","thread_id":9160,"parent_id":1492390,"elapsed":0.04596792202210054,"elapsed_instrumentation":0.00023911200696602464,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06616400>","object_id":8125700}},{"id":1492476,"event":"return","thread_id":9160,"parent_id":1492389,"elapsed":0.046243260003393516,"elapsed_instrumentation":0.00012639598571695387,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06616400>","object_id":8125700}},{"id":1492477,"event":"return","thread_id":9160,"parent_id":1492388,"elapsed":0.046425565000390634,"elapsed_instrumentation":0.0004470180138014257,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06616400>","object_id":8125700}},{"id":1492478,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":8126200,"value":"relationship:111360522098712210:111360522098712215","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":8126220,"value":"#<UnfollowService:0x00007fdc0745fe30>"}},{"id":1492479,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":8126220,"value":"#<UnfollowService:0x00007fdc0745fe30>"}},{"id":1492480,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":8126240,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":8126260,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492481,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":1492482,"event":"return","thread_id":9160,"parent_id":1492481,"elapsed":5.876005161553621e-06,"elapsed_instrumentation":0.0004781580064445734,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fdc0a6c8020>","object_id":404600}},{"id":1492483,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":403680,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8126280,"value":"M-__\u0010\rVb_Q*s_Yj}"}},{"id":1492484,"event":"return","thread_id":9160,"parent_id":1492483,"elapsed":7.453985745087266e-06,"elapsed_instrumentation":0.00019524700473994017,"return_value":{"class":"Array","value":"[1294844599, 4109, 22114, 54609, 10867, 3260639869]","object_id":8126300,"size":6}},{"id":1492485,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492486,"event":"return","thread_id":9160,"parent_id":1492485,"elapsed":0.000791683,"elapsed_instrumentation":0.0001233300135936588},{"id":1492487,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8126320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492488,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492489,"event":"return","thread_id":9160,"parent_id":1492488,"elapsed":0.000658987,"elapsed_instrumentation":8.874700870364904e-05},{"id":1492490,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":1492491,"event":"return","thread_id":9160,"parent_id":1492490,"elapsed":0.000525954,"elapsed_instrumentation":0.0003431770019233227},{"id":1492492,"event":"return","thread_id":9160,"parent_id":1492487,"elapsed":0.0037802500010002404,"elapsed_instrumentation":0.000214026978937909,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ed128 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1035940,"size":1}},{"id":1492493,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":1492494,"event":"return","thread_id":9160,"parent_id":1492493,"elapsed":0.000827958,"elapsed_instrumentation":0.00014658801956102252},{"id":1492495,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8126320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1035920,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc09657f88>"}},{"id":1492496,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":1492497,"event":"return","thread_id":9160,"parent_id":1492496,"elapsed":0.000931206,"elapsed_instrumentation":0.00031172099988907576},{"id":1492498,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492499,"event":"return","thread_id":9160,"parent_id":1492498,"elapsed":0.000797753,"elapsed_instrumentation":0.00011056099901907146},{"id":1492500,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":8126340,"value":"#<Account:0x00007fdc06612440>"}},{"id":1492501,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8126340,"value":"#<Account:0x00007fdc06612440>"}},{"id":1492502,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111360522098712210, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492503,"event":"return","thread_id":9160,"parent_id":1492502,"elapsed":0.001096571,"elapsed_instrumentation":8.166898624040186e-05},{"id":1492504,"event":"return","thread_id":9160,"parent_id":1492501,"elapsed":0.0019029919931199402,"elapsed_instrumentation":0.00011291902046650648},{"id":1492505,"event":"return","thread_id":9160,"parent_id":1492500,"elapsed":0.0020466689893510193,"elapsed_instrumentation":0.0001733869721647352},{"id":1492506,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492507,"event":"return","thread_id":9160,"parent_id":1492506,"elapsed":0.000690361,"elapsed_instrumentation":0.00011285199434496462},{"id":1492508,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":8126360,"value":"#<Account:0x00007fdc06611540>"}},{"id":1492509,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":8126360,"value":"#<Account:0x00007fdc06611540>"}},{"id":1492510,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111360522098712215, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1492511,"event":"return","thread_id":9160,"parent_id":1492510,"elapsed":0.001058275,"elapsed_instrumentation":7.974199252203107e-05},{"id":1492512,"event":"return","thread_id":9160,"parent_id":1492509,"elapsed":0.0015994500136002898,"elapsed_instrumentation":0.00011612399248406291},{"id":1492513,"event":"return","thread_id":9160,"parent_id":1492508,"elapsed":0.0017436819907743484,"elapsed_instrumentation":0.0003506600041873753},{"id":1492514,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8126340,"value":"#<Account:0x00007fdc06612440>"}},{"id":1492515,"event":"return","thread_id":9160,"parent_id":1492514,"elapsed":0.0001955920015461743,"elapsed_instrumentation":0.00013139800284989178,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492516,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8126360,"value":"#<Account:0x00007fdc06611540>"}},{"id":1492517,"event":"return","thread_id":9160,"parent_id":1492516,"elapsed":1.4295976143330336e-05,"elapsed_instrumentation":0.00011772100697271526,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492518,"event":"return","thread_id":9160,"parent_id":1492495,"elapsed":0.013791245990432799,"elapsed_instrumentation":0.00022375903790816665,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc069ecf70 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecdb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fdc069ecb60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1036040,"size":3}},{"id":1492519,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1492520,"event":"return","thread_id":9160,"parent_id":1492519,"elapsed":0.000587742,"elapsed_instrumentation":7.741298759356141e-05},{"id":1492521,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8126400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492522,"event":"return","thread_id":9160,"parent_id":1492521,"elapsed":3.2109965104609728e-06,"elapsed_instrumentation":0.0001368050288874656,"return_value":{"class":"Array","value":"[]","object_id":824800,"size":0}},{"id":1492523,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":8126400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":824780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fdc08e83a78>"}},{"id":1492524,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8126420,"value":"Cache delete: relationship:111360522098712210:111360522098712215\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492525,"event":"return","thread_id":9160,"parent_id":1492524,"elapsed":0.0009255479963030666,"elapsed_instrumentation":0.00035106399445794523,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492526,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":8126440,"value":"Cache delete: relationship:111360522098712215:111360522098712210\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fdc1b4b7180>"}},{"id":1492527,"event":"return","thread_id":9160,"parent_id":1492526,"elapsed":0.0008958740218076855,"elapsed_instrumentation":0.0001588940212968737,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":1492528,"event":"return","thread_id":9160,"parent_id":1492523,"elapsed":0.0026964190183207393,"elapsed_instrumentation":0.0001212499919347465,"return_value":{"class":"Array","value":"[#<Proc:0x00007fdc09940f60 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":824860,"size":1}},{"id":1492529,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1492530,"event":"return","thread_id":9160,"parent_id":1492529,"elapsed":1.3155979104340076e-05,"elapsed_instrumentation":0.00013226602459326386,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492531,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8120040,"value":"#<Account:0x00007fdc0620ba40>"}},{"id":1492532,"event":"return","thread_id":9160,"parent_id":1492531,"elapsed":4.223024006932974e-06,"elapsed_instrumentation":7.287596235983074e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492533,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":8126460,"value":"#<Account:0x00007fdc062f7300>"}},{"id":1492534,"event":"return","thread_id":9160,"parent_id":1492533,"elapsed":1.669299672357738e-05,"elapsed_instrumentation":7.533599273301661e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1492535,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":8126480,"value":"{args=>[111360522098712215, 111360522098712210], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":8126500,"value":"#<Sidekiq::Client:0x00007fdc070c2390>"}},{"id":1492536,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8126520,"value":"__i___]!1__r"}},{"id":1492537,"event":"return","thread_id":9160,"parent_id":1492536,"elapsed":2.138101262971759e-05,"elapsed_instrumentation":0.00022721901768818498,"return_value":{"class":"String","value":"d5d169bddec55d2131ec5f72","object_id":8126540}},{"id":1492538,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":8126560,"value":"[111360522098712215, 111360522098712210]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8126580,"value":"#<JSON::Ext::Generator::State:0x00007fdc0708f4e0>"}},{"id":1492539,"event":"return","thread_id":9160,"parent_id":1492538,"elapsed":1.0283984011039138e-05,"elapsed_instrumentation":0.00021194800501689315,"return_value":{"class":"String","value":"[111360522098712215,111360522098712210]","object_id":8126600}},{"id":1492540,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8126620,"value":"#<JSON::Ext::Parser:0x00007fdc0708e360>"}},{"id":1492541,"event":"return","thread_id":9160,"parent_id":1492540,"elapsed":1.0099000064656138e-05,"elapsed_instrumentation":0.0002312700089532882,"return_value":{"class":"Array","value":"[111360522098712215, 111360522098712210]","object_id":8126640,"size":2}},{"id":1492542,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":210800,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":8126660,"value":"b\u0003<_\u0002___y\u00071%"}},{"id":1492543,"event":"return","thread_id":9160,"parent_id":1492542,"elapsed":4.781992174685001e-06,"elapsed_instrumentation":0.00047606902080588043,"return_value":{"class":"String","value":"62033c9502c1ceaa79073125","object_id":8126680}},{"id":1492544,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":8126700,"value":"{retry=>true, queue=>pull, args=>[111360522098712215, 111360522098712210], class=>UnmergeWorker, jid=>d5d169bddec55d2131ec5f72, created_at=>1699226718.2441168, id=>62033c9502c1ceaa79073125}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":8126720,"value":"#<JSON::Ext::Generator::State:0x00007fdc0708c2e0>"}},{"id":1492545,"event":"return","thread_id":9160,"parent_id":1492544,"elapsed":1.374501152895391e-05,"elapsed_instrumentation":0.00021386099979281425,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111360522098712215,111360522098712210],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":8126740}},{"id":1492546,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":8126760,"value":"#<JSON::Ext::Parser:0x00007fdc07089fe0>"}},{"id":1492547,"event":"return","thread_id":9160,"parent_id":1492546,"elapsed":3.157000173814595e-05,"elapsed_instrumentation":0.0002225560019724071,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111360522098712215, 111360522098712210], class=>UnmergeWorker, jid=>d5d169bddec55d2131ec5f72, created_at=>1699226718.2441168, id=>62033c9502c1ceaa79073125}","object_id":8126780,"size":7}},{"id":1492548,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222721044197424431,"value":"111360522098712215","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222721044197424421,"value":"111360522098712210","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":8126800,"value":"#<UnmergeWorker:0x00007fdc070878f8>"}},{"id":1492549,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8126800,"value":"#<UnmergeWorker:0x00007fdc070878f8>"}},{"id":1492550,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492551,"event":"return","thread_id":9160,"parent_id":1492550,"elapsed":0.001041833,"elapsed_instrumentation":0.00011683901539072394},{"id":1492552,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1492553,"event":"return","thread_id":9160,"parent_id":1492552,"elapsed":0.000684575,"elapsed_instrumentation":0.0001464420056436211},{"id":1492554,"event":"return","thread_id":9160,"parent_id":1492549,"elapsed":0.005658442009007558,"elapsed_instrumentation":0.00017982700956054032,"return_value":{"class":"Account","value":"#<Account:0x00007fdc0675eec0>","object_id":8126820}},{"id":1492555,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":8126800,"value":"#<UnmergeWorker:0x00007fdc070878f8>"}},{"id":1492556,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":8126840,"value":"#<Account:0x00007fdc0675f000>","kind":"req"},{"name":"into_account","class":"Account","object_id":8126820,"value":"#<Account:0x00007fdc0675eec0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492557,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222721044197424421,"value":"111360522098712210","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492558,"event":"return","thread_id":9160,"parent_id":1492557,"elapsed":5.292997229844332e-06,"elapsed_instrumentation":0.00015487399650737643,"return_value":{"class":"String","value":"feed:home:111360522098712210","object_id":8126860}},{"id":1492559,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":365860,"value":"#<FeedManager:0x00007fdc090f8718>"}},{"id":1492560,"event":"return","thread_id":9160,"parent_id":1492559,"elapsed":7.968017598614097e-06,"elapsed_instrumentation":9.447496267966926e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fdc0a6c7d00>","object_id":365840}},{"id":1492561,"event":"return","thread_id":9160,"parent_id":1492556,"elapsed":0.006543568015331402,"elapsed_instrumentation":0.00021777197252959013},{"id":1492562,"event":"return","thread_id":9160,"parent_id":1492555,"elapsed":0.006822608993388712,"elapsed_instrumentation":0.00013605400454252958},{"id":1492563,"event":"return","thread_id":9160,"parent_id":1492548,"elapsed":0.01287590799620375,"elapsed_instrumentation":0.0005007440049666911},{"id":1492564,"event":"return","thread_id":9160,"parent_id":1492535,"elapsed":0.015848969982471317,"elapsed_instrumentation":0.0002418460207991302,"return_value":{"class":"String","value":"d5d169bddec55d2131ec5f72","object_id":8126540}},{"id":1492565,"event":"return","thread_id":9160,"parent_id":1492480,"elapsed":0.045446297008311376,"elapsed_instrumentation":0.0003347120073158294,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06612f80>","object_id":8126380}},{"id":1492566,"event":"return","thread_id":9160,"parent_id":1492479,"elapsed":0.045842220017220825,"elapsed_instrumentation":0.0001584129931870848,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06612f80>","object_id":8126380}},{"id":1492567,"event":"return","thread_id":9160,"parent_id":1492478,"elapsed":0.04605533101130277,"elapsed_instrumentation":0.0013378630101215094,"return_value":{"class":"Follow","value":"#<Follow:0x00007fdc06612f80>","object_id":8126380}},{"id":1492568,"event":"return","thread_id":9160,"parent_id":1491653,"elapsed":0.467287222010782,"elapsed_instrumentation":0.00020681298337876797,"return_value":{"class":"IO","value":"#<IO:0x00007fdc21298f60>","object_id":4113040}}]}