{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","status":["M .husky/pre-commit"],"git_last_annotated_tag":"0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Mastodon::CLI::Accounts #reset_relationships when the given username is found with --follows and --followers options calls BootstrapTimelineWorker once to rebuild the timeline","source_location":"spec/lib/mastodon/cli/accounts_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"succeeded"},"classMap":[{"name":"lib/mastodon/cli","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"CLI","type":"class","children":[{"name":"Accounts","type":"class","children":[{"name":"reset_relationships","type":"function","location":"lib/mastodon/cli/accounts.rb:461","static":false}]},{"name":"ProgressHelper","type":"class","children":[{"name":"create_progress_bar","type":"function","location":"lib/mastodon/cli/progress_helper.rb:18","static":false}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false},{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"decrement_count!","type":"function","location":"app/models/concerns/account_counters.rb:28","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"FeedManager","type":"class","children":[{"name":"unmerge_from_home","type":"function","location":"app/lib/feed_manager.rb:161","static":false},{"name":"key","type":"function","location":"app/lib/feed_manager.rb:29","static":false}]},{"name":"RequestPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/request_pool.rb:114","static":false}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:13","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"flush","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:51","static":false}]}]}]}]},{"name":"workers","type":"package","children":[{"name":"UnmergeWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/unmerge_worker.rb:9","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"DatabaseHelper","type":"class","children":[{"name":"with_primary","type":"function","location":"app/helpers/database_helper.rb:17","static":false},{"name":"with_read_replica","type":"function","location":"app/helpers/database_helper.rb:9","static":false}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"sidekiq","type":"package","children":[{"name":"Sidekiq","type":"class","children":[{"name":"Client","type":"class","children":[{"name":"push","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72","static":false,"labels":["job.create"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":2899540,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::Accounts","method_id":"reset_relationships","path":"lib/mastodon/cli/accounts.rb","lineno":461,"static":false,"parameters":[{"name":"username","class":"String","object_id":14334660,"value":"vita6779","kind":"req"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14334680,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e10fd708>"}},{"id":2899541,"event":"call","thread_id":9160,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":14334700,"value":"#<AccountFinderConcern::AccountFinder:0x00007fc8e2568d50>"}},{"id":2899542,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'vita6779' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":2899543,"event":"return","thread_id":9160,"parent_id":2899542,"elapsed":0.000773443,"elapsed_instrumentation":9.658699855208397e-05},{"id":2899544,"event":"return","thread_id":9160,"parent_id":2899541,"elapsed":0.003598481009248644,"elapsed_instrumentation":0.00010986998677253723,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21ee9e0>","object_id":14334720}},{"id":2899545,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1)","database_type":"postgres"}},{"id":2899546,"event":"return","thread_id":9160,"parent_id":2899545,"elapsed":0.000819306,"elapsed_instrumentation":9.117898298427463e-05},{"id":2899547,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1)","database_type":"postgres"}},{"id":2899548,"event":"return","thread_id":9160,"parent_id":2899547,"elapsed":0.000659125,"elapsed_instrumentation":6.823398871347308e-05},{"id":2899549,"event":"call","thread_id":9160,"defined_class":"Mastodon::CLI::ProgressHelper","method_id":"create_progress_bar","path":"lib/mastodon/cli/progress_helper.rb","lineno":18,"static":false,"parameters":[{"name":"total","class":"Integer","object_id":21,"value":"10","kind":"opt"}],"receiver":{"class":"Mastodon::CLI::Accounts","object_id":14334680,"value":"#<Mastodon::CLI::Accounts:0x00007fc8e10fd708>"}},{"id":2899550,"event":"return","thread_id":9160,"parent_id":2899549,"elapsed":0.00015906902262941003,"elapsed_instrumentation":0.0002789509599097073,"return_value":{"class":"ProgressBar::Base","value":"","object_id":14334740}},{"id":2899551,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2899552,"event":"return","thread_id":9160,"parent_id":2899551,"elapsed":0.001299168,"elapsed_instrumentation":7.108697900548577e-05},{"id":2899553,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14334760,"value":"relationship:111361440228309451:111361440228309455","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14334780,"value":"#<UnfollowService:0x00007fc8e10fb3b8>"}},{"id":2899554,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14334780,"value":"#<UnfollowService:0x00007fc8e10fb3b8>"}},{"id":2899555,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14334800,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14334820,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899556,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899557,"event":"return","thread_id":9160,"parent_id":2899556,"elapsed":2.7060159482061863e-06,"elapsed_instrumentation":6.682798266410828e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2899558,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14334840,"value":"_%___t\u0000l\"_c_g___"}},{"id":2899559,"event":"return","thread_id":9160,"parent_id":2899558,"elapsed":6.079033482819796e-06,"elapsed_instrumentation":0.00014317099703475833,"return_value":{"class":"Array","value":"[4079332527, 52596, 108, 8932, 25571, 1744108217]","object_id":14334860,"size":6}},{"id":2899560,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899561,"event":"return","thread_id":9160,"parent_id":2899560,"elapsed":0.000362503,"elapsed_instrumentation":6.32070004940033e-05},{"id":2899562,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14334880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899563,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899564,"event":"return","thread_id":9160,"parent_id":2899563,"elapsed":0.000327408,"elapsed_instrumentation":7.390399696305394e-05},{"id":2899565,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899566,"event":"return","thread_id":9160,"parent_id":2899565,"elapsed":0.000542807,"elapsed_instrumentation":5.972897633910179e-05},{"id":2899567,"event":"return","thread_id":9160,"parent_id":2899562,"elapsed":0.002453933993820101,"elapsed_instrumentation":0.0005795029574073851,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2899568,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2899569,"event":"return","thread_id":9160,"parent_id":2899568,"elapsed":0.000476078,"elapsed_instrumentation":6.0725025832653046e-05},{"id":2899570,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14334880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899571,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2899572,"event":"return","thread_id":9160,"parent_id":2899571,"elapsed":0.000586002,"elapsed_instrumentation":8.161395089700818e-05},{"id":2899573,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899574,"event":"return","thread_id":9160,"parent_id":2899573,"elapsed":0.000492449,"elapsed_instrumentation":6.633001612499356e-05},{"id":2899575,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14334900,"value":"#<Account:0x00007fc8e21ec5a0>"}},{"id":2899576,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14334900,"value":"#<Account:0x00007fc8e21ec5a0>"}},{"id":2899577,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440228309455, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899578,"event":"return","thread_id":9160,"parent_id":2899577,"elapsed":0.000743746,"elapsed_instrumentation":7.195596117526293e-05},{"id":2899579,"event":"return","thread_id":9160,"parent_id":2899576,"elapsed":0.0012962530017830431,"elapsed_instrumentation":8.22230358608067e-05},{"id":2899580,"event":"return","thread_id":9160,"parent_id":2899575,"elapsed":0.0014024899573996663,"elapsed_instrumentation":0.00010397593723610044},{"id":2899581,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899582,"event":"return","thread_id":9160,"parent_id":2899581,"elapsed":0.000497549,"elapsed_instrumentation":6.549694808200002e-05},{"id":2899583,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14334920,"value":"#<Account:0x00007fc8e21eb6a0>"}},{"id":2899584,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14334920,"value":"#<Account:0x00007fc8e21eb6a0>"}},{"id":2899585,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440228309451, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899586,"event":"return","thread_id":9160,"parent_id":2899585,"elapsed":0.000700221,"elapsed_instrumentation":6.947800284251571e-05},{"id":2899587,"event":"return","thread_id":9160,"parent_id":2899584,"elapsed":0.0011594140087254345,"elapsed_instrumentation":0.0002032750053331256},{"id":2899588,"event":"return","thread_id":9160,"parent_id":2899583,"elapsed":0.0013888769899494946,"elapsed_instrumentation":9.902397869154811e-05},{"id":2899589,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334900,"value":"#<Account:0x00007fc8e21ec5a0>"}},{"id":2899590,"event":"return","thread_id":9160,"parent_id":2899589,"elapsed":1.4353019651025534e-05,"elapsed_instrumentation":0.00011932896450161934,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899591,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334920,"value":"#<Account:0x00007fc8e21eb6a0>"}},{"id":2899592,"event":"return","thread_id":9160,"parent_id":2899591,"elapsed":6.828049663454294e-06,"elapsed_instrumentation":6.800395203754306e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899593,"event":"return","thread_id":9160,"parent_id":2899570,"elapsed":0.0085117420530878,"elapsed_instrumentation":0.00013755098916590214,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2899594,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899595,"event":"return","thread_id":9160,"parent_id":2899594,"elapsed":0.000464342,"elapsed_instrumentation":8.245499338954687e-05},{"id":2899596,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14334960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899597,"event":"return","thread_id":9160,"parent_id":2899596,"elapsed":3.3899559639394283e-06,"elapsed_instrumentation":0.00010885705705732107,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2899598,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14334960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899599,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14334980,"value":"Cache delete: relationship:111361440228309455:111361440228309451\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899600,"event":"return","thread_id":9160,"parent_id":2899599,"elapsed":0.0005874609923921525,"elapsed_instrumentation":0.00010635895887389779,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899601,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14335000,"value":"Cache delete: relationship:111361440228309451:111361440228309455\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899602,"event":"return","thread_id":9160,"parent_id":2899601,"elapsed":0.00060875597409904,"elapsed_instrumentation":0.00012930197408422828,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899603,"event":"return","thread_id":9160,"parent_id":2899598,"elapsed":0.0016957329935394228,"elapsed_instrumentation":0.00010595598723739386,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2899604,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14335020,"value":"#<Account:0x00007fc8e21ed720>"}},{"id":2899605,"event":"return","thread_id":9160,"parent_id":2899604,"elapsed":1.1635012924671173e-05,"elapsed_instrumentation":8.756399620324373e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899606,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14335020,"value":"#<Account:0x00007fc8e21ed720>"}},{"id":2899607,"event":"return","thread_id":9160,"parent_id":2899606,"elapsed":3.570981789380312e-06,"elapsed_instrumentation":6.0958031099289656e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899608,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2899609,"event":"return","thread_id":9160,"parent_id":2899608,"elapsed":7.5239804573357105e-06,"elapsed_instrumentation":5.653500556945801e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899610,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14335040,"value":"{args=>[111361440228309451, 111361440228309455], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14335060,"value":"#<Sidekiq::Client:0x00007fc8e2543708>"}},{"id":2899611,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14335080,"value":"__aF_n__,___"}},{"id":2899612,"event":"return","thread_id":9160,"parent_id":2899611,"elapsed":4.322035238146782e-06,"elapsed_instrumentation":0.00010962097439914942,"return_value":{"class":"String","value":"e2bd6146c06e999f2ce9fecf","object_id":14335100}},{"id":2899613,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14335120,"value":"[111361440228309451, 111361440228309455]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14335140,"value":"#<JSON::Ext::Generator::State:0x00007fc8e2541598>"}},{"id":2899614,"event":"return","thread_id":9160,"parent_id":2899613,"elapsed":6.643007509410381e-06,"elapsed_instrumentation":0.00010234001092612743,"return_value":{"class":"String","value":"[111361440228309451,111361440228309455]","object_id":14335160}},{"id":2899615,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14335180,"value":"#<JSON::Ext::Parser:0x00007fc8e2540418>"}},{"id":2899616,"event":"return","thread_id":9160,"parent_id":2899615,"elapsed":5.6649441830813885e-06,"elapsed_instrumentation":0.0003422880545258522,"return_value":{"class":"Array","value":"[111361440228309451, 111361440228309455]","object_id":14335200,"size":2}},{"id":2899617,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14335220,"value":"j_P__&a1__\u0014m"}},{"id":2899618,"event":"return","thread_id":9160,"parent_id":2899617,"elapsed":4.681991413235664e-06,"elapsed_instrumentation":0.0004011690034531057,"return_value":{"class":"String","value":"6ae250c2b0266131b0f2146d","object_id":14335240}},{"id":2899619,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14335260,"value":"{retry=>true, queue=>pull, args=>[111361440228309451, 111361440228309455], class=>UnmergeWorker, jid=>e2bd6146c06e999f2ce9fecf, created_at=>1699240727.0379713, id=>6ae250c2b0266131b0f2146d}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14335280,"value":"#<JSON::Ext::Generator::State:0x00007fc8e250ead0>"}},{"id":2899620,"event":"return","thread_id":9160,"parent_id":2899619,"elapsed":1.3283977750688791e-05,"elapsed_instrumentation":0.00019449501996859908,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440228309451,111361440228309455],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14335300}},{"id":2899621,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14335320,"value":"#<JSON::Ext::Parser:0x00007fc8e250c708>"}},{"id":2899622,"event":"return","thread_id":9160,"parent_id":2899621,"elapsed":1.9764003809541464e-05,"elapsed_instrumentation":0.00015373394126072526,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440228309451, 111361440228309455], class=>UnmergeWorker, jid=>e2bd6146c06e999f2ce9fecf, created_at=>1699240727.0379713, id=>6ae250c2b0266131b0f2146d}","object_id":14335340,"size":7}},{"id":2899623,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880456618903,"value":"111361440228309451","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14335360,"value":"#<UnmergeWorker:0x00007fc8e250a7f0>"}},{"id":2899624,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14335360,"value":"#<UnmergeWorker:0x00007fc8e250a7f0>"}},{"id":2899625,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899626,"event":"return","thread_id":9160,"parent_id":2899625,"elapsed":0.000488596,"elapsed_instrumentation":7.277302211150527e-05},{"id":2899627,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899628,"event":"return","thread_id":9160,"parent_id":2899627,"elapsed":0.000602685,"elapsed_instrumentation":6.656994810327888e-05},{"id":2899629,"event":"return","thread_id":9160,"parent_id":2899624,"elapsed":0.0032684890320524573,"elapsed_instrumentation":0.00010190095053985715,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21ea020>","object_id":14335380}},{"id":2899630,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14335360,"value":"#<UnmergeWorker:0x00007fc8e250a7f0>"}},{"id":2899631,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14335400,"value":"#<Account:0x00007fc8e21ea160>","kind":"req"},{"name":"into_account","class":"Account","object_id":14335380,"value":"#<Account:0x00007fc8e21ea020>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899632,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899633,"event":"return","thread_id":9160,"parent_id":2899632,"elapsed":5.542999133467674e-06,"elapsed_instrumentation":9.469105862081051e-05,"return_value":{"class":"String","value":"feed:home:111361440228309455","object_id":14335420}},{"id":2899634,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899635,"event":"return","thread_id":9160,"parent_id":2899634,"elapsed":3.9949663914740086e-06,"elapsed_instrumentation":6.878504063934088e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2899636,"event":"return","thread_id":9160,"parent_id":2899631,"elapsed":0.002948499983176589,"elapsed_instrumentation":9.762600529938936e-05},{"id":2899637,"event":"return","thread_id":9160,"parent_id":2899630,"elapsed":0.0030769690056331456,"elapsed_instrumentation":7.58949900045991e-05},{"id":2899638,"event":"return","thread_id":9160,"parent_id":2899623,"elapsed":0.006565373041667044,"elapsed_instrumentation":7.440597983077168e-05},{"id":2899639,"event":"return","thread_id":9160,"parent_id":2899610,"elapsed":0.008314341015648097,"elapsed_instrumentation":0.00029854197055101395,"return_value":{"class":"String","value":"e2bd6146c06e999f2ce9fecf","object_id":14335100}},{"id":2899640,"event":"return","thread_id":9160,"parent_id":2899555,"elapsed":0.027086447982583195,"elapsed_instrumentation":0.00014880800154060125,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21ecfa0>","object_id":14334940}},{"id":2899641,"event":"return","thread_id":9160,"parent_id":2899554,"elapsed":0.02725907100830227,"elapsed_instrumentation":7.79450056143105e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21ecfa0>","object_id":14334940}},{"id":2899642,"event":"return","thread_id":9160,"parent_id":2899553,"elapsed":0.027368203969672322,"elapsed_instrumentation":0.00015115103451535106,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21ecfa0>","object_id":14334940}},{"id":2899643,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14335440,"value":"relationship:111361440228309452:111361440228309455","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14335460,"value":"#<UnfollowService:0x00007fc8e10f4108>"}},{"id":2899644,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14335460,"value":"#<UnfollowService:0x00007fc8e10f4108>"}},{"id":2899645,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14335480,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14335500,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899646,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899647,"event":"return","thread_id":9160,"parent_id":2899646,"elapsed":2.9659713618457317e-06,"elapsed_instrumentation":6.595900049433112e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2899648,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14335520,"value":"____'_\u0004__/__n__\u0001"}},{"id":2899649,"event":"return","thread_id":9160,"parent_id":2899648,"elapsed":6.730027962476015e-06,"elapsed_instrumentation":0.0001265449682250619,"return_value":{"class":"Array","value":"[3033440754, 10144, 1202, 58415, 39852, 1854402817]","object_id":14335540,"size":6}},{"id":2899650,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899651,"event":"return","thread_id":9160,"parent_id":2899650,"elapsed":0.000456403,"elapsed_instrumentation":8.723000064492226e-05},{"id":2899652,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14335560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899653,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899654,"event":"return","thread_id":9160,"parent_id":2899653,"elapsed":0.000324658,"elapsed_instrumentation":7.32970074750483e-05},{"id":2899655,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899656,"event":"return","thread_id":9160,"parent_id":2899655,"elapsed":0.000275747,"elapsed_instrumentation":5.64359943382442e-05},{"id":2899657,"event":"return","thread_id":9160,"parent_id":2899652,"elapsed":0.0020043820259161294,"elapsed_instrumentation":0.0001610189792700112,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2899658,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2899659,"event":"return","thread_id":9160,"parent_id":2899658,"elapsed":0.000488792,"elapsed_instrumentation":6.10839924775064e-05},{"id":2899660,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14335560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899661,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2899662,"event":"return","thread_id":9160,"parent_id":2899661,"elapsed":0.000602698,"elapsed_instrumentation":7.530901348218322e-05},{"id":2899663,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899664,"event":"return","thread_id":9160,"parent_id":2899663,"elapsed":0.000504702,"elapsed_instrumentation":7.15019996277988e-05},{"id":2899665,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14335580,"value":"#<Account:0x00007fc8e21e8c20>"}},{"id":2899666,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14335580,"value":"#<Account:0x00007fc8e21e8c20>"}},{"id":2899667,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440228309455, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899668,"event":"return","thread_id":9160,"parent_id":2899667,"elapsed":0.000715506,"elapsed_instrumentation":6.951799150556326e-05},{"id":2899669,"event":"return","thread_id":9160,"parent_id":2899666,"elapsed":0.0012130080140195787,"elapsed_instrumentation":9.071402018889785e-05},{"id":2899670,"event":"return","thread_id":9160,"parent_id":2899665,"elapsed":0.0013287640176713467,"elapsed_instrumentation":0.0002056379453279078},{"id":2899671,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899672,"event":"return","thread_id":9160,"parent_id":2899671,"elapsed":0.000464596,"elapsed_instrumentation":6.874999962747097e-05},{"id":2899673,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14335600,"value":"#<Account:0x00007fc8e21e7e60>"}},{"id":2899674,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14335600,"value":"#<Account:0x00007fc8e21e7e60>"}},{"id":2899675,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14335620,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14335640,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2899676,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14335660,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14335680,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2899677,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2899678,"event":"return","thread_id":13276700,"parent_id":2899677,"elapsed":5.533976946026087e-06,"elapsed_instrumentation":6.738805677741766e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2899679,"event":"return","thread_id":13276700,"parent_id":2899676,"elapsed":9.085802594199777e-05,"elapsed_instrumentation":9.231205331161618e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2899680,"event":"return","thread_id":13276700,"parent_id":2899675,"elapsed":0.00020125997252762318,"elapsed_instrumentation":0.0001487869885750115,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2899681,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440228309452, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899682,"event":"return","thread_id":9160,"parent_id":2899681,"elapsed":0.000666188,"elapsed_instrumentation":6.66279811412096e-05},{"id":2899683,"event":"return","thread_id":9160,"parent_id":2899674,"elapsed":0.001272698980756104,"elapsed_instrumentation":8.108007023110986e-05},{"id":2899684,"event":"return","thread_id":9160,"parent_id":2899673,"elapsed":0.0013767139753326774,"elapsed_instrumentation":0.0001156450598500669},{"id":2899685,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14335580,"value":"#<Account:0x00007fc8e21e8c20>"}},{"id":2899686,"event":"return","thread_id":9160,"parent_id":2899685,"elapsed":1.333298860117793e-05,"elapsed_instrumentation":9.410001803189516e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899687,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14335600,"value":"#<Account:0x00007fc8e21e7e60>"}},{"id":2899688,"event":"return","thread_id":9160,"parent_id":2899687,"elapsed":6.723043043166399e-06,"elapsed_instrumentation":6.288598524406552e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899689,"event":"return","thread_id":9160,"parent_id":2899660,"elapsed":0.009040420001838356,"elapsed_instrumentation":0.00013342604506760836,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2899690,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899691,"event":"return","thread_id":9160,"parent_id":2899690,"elapsed":0.000290909,"elapsed_instrumentation":6.118201417848468e-05},{"id":2899692,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14335720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899693,"event":"return","thread_id":9160,"parent_id":2899692,"elapsed":3.9120204746723175e-06,"elapsed_instrumentation":0.00019999302458018064,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2899694,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14335720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899695,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14335740,"value":"Cache delete: relationship:111361440228309455:111361440228309452\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899696,"event":"return","thread_id":9160,"parent_id":2899695,"elapsed":0.000566799018997699,"elapsed_instrumentation":0.0001099199871532619,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899697,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14335760,"value":"Cache delete: relationship:111361440228309452:111361440228309455\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899698,"event":"return","thread_id":9160,"parent_id":2899697,"elapsed":0.0004963749670423567,"elapsed_instrumentation":0.00013150006998330355,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899699,"event":"return","thread_id":9160,"parent_id":2899694,"elapsed":0.001593859982676804,"elapsed_instrumentation":0.0001056510373018682,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2899700,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14335780,"value":"#<Account:0x00007fc8e21ed5e0>"}},{"id":2899701,"event":"return","thread_id":9160,"parent_id":2899700,"elapsed":1.2742995750159025e-05,"elapsed_instrumentation":0.00017097603995352983,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899702,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14335780,"value":"#<Account:0x00007fc8e21ed5e0>"}},{"id":2899703,"event":"return","thread_id":9160,"parent_id":2899702,"elapsed":4.070985596626997e-06,"elapsed_instrumentation":9.022100130096078e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899704,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2899705,"event":"return","thread_id":9160,"parent_id":2899704,"elapsed":4.464003723114729e-06,"elapsed_instrumentation":7.047498365864158e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899706,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14335800,"value":"{args=>[111361440228309452, 111361440228309455], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14335820,"value":"#<Sidekiq::Client:0x00007fc8e24e4e10>"}},{"id":2899707,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14335840,"value":"K__#___\\h_\u001d_"}},{"id":2899708,"event":"return","thread_id":9160,"parent_id":2899707,"elapsed":4.2209867388010025e-06,"elapsed_instrumentation":0.00010779098374769092,"return_value":{"class":"String","value":"4bd7c323d182a65c68db1d8a","object_id":14335860}},{"id":2899709,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14335880,"value":"[111361440228309452, 111361440228309455]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14335900,"value":"#<JSON::Ext::Generator::State:0x00007fc8e24e2d18>"}},{"id":2899710,"event":"return","thread_id":9160,"parent_id":2899709,"elapsed":6.449990905821323e-06,"elapsed_instrumentation":0.00010189000749960542,"return_value":{"class":"String","value":"[111361440228309452,111361440228309455]","object_id":14335920}},{"id":2899711,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14335940,"value":"#<JSON::Ext::Parser:0x00007fc8e24e1fd0>"}},{"id":2899712,"event":"return","thread_id":9160,"parent_id":2899711,"elapsed":5.7819997891783714e-06,"elapsed_instrumentation":0.0002302930224686861,"return_value":{"class":"Array","value":"[111361440228309452, 111361440228309455]","object_id":14335960,"size":2}},{"id":2899713,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14335980,"value":"_(__Lw__\f\u0012__"}},{"id":2899714,"event":"return","thread_id":9160,"parent_id":2899713,"elapsed":3.2820389606058598e-06,"elapsed_instrumentation":0.0001023809309117496,"return_value":{"class":"String","value":"c528beac4c77d4b50c129ea3","object_id":14336000}},{"id":2899715,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14336020,"value":"{retry=>true, queue=>pull, args=>[111361440228309452, 111361440228309455], class=>UnmergeWorker, jid=>4bd7c323d182a65c68db1d8a, created_at=>1699240727.0653377, id=>c528beac4c77d4b50c129ea3}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14336040,"value":"#<JSON::Ext::Generator::State:0x00007fc8e24e0360>"}},{"id":2899716,"event":"return","thread_id":9160,"parent_id":2899715,"elapsed":1.0913005098700523e-05,"elapsed_instrumentation":0.0003722640103660524,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440228309452,111361440228309455],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14336060}},{"id":2899717,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14336080,"value":"#<JSON::Ext::Parser:0x00007fc8e24ae3b0>"}},{"id":2899718,"event":"return","thread_id":9160,"parent_id":2899717,"elapsed":1.9088969565927982e-05,"elapsed_instrumentation":0.00014473404735326767,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440228309452, 111361440228309455], class=>UnmergeWorker, jid=>4bd7c323d182a65c68db1d8a, created_at=>1699240727.0653377, id=>c528beac4c77d4b50c129ea3}","object_id":14336100,"size":7}},{"id":2899719,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880456618905,"value":"111361440228309452","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14336120,"value":"#<UnmergeWorker:0x00007fc8e24ac718>"}},{"id":2899720,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14336120,"value":"#<UnmergeWorker:0x00007fc8e24ac718>"}},{"id":2899721,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899722,"event":"return","thread_id":9160,"parent_id":2899721,"elapsed":0.000583139,"elapsed_instrumentation":6.996502634137869e-05},{"id":2899723,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899724,"event":"return","thread_id":9160,"parent_id":2899723,"elapsed":0.000519834,"elapsed_instrumentation":6.869505159556866e-05},{"id":2899725,"event":"return","thread_id":9160,"parent_id":2899720,"elapsed":0.003260339959524572,"elapsed_instrumentation":9.711901657283306e-05,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21e6920>","object_id":14336140}},{"id":2899726,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14336120,"value":"#<UnmergeWorker:0x00007fc8e24ac718>"}},{"id":2899727,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14336160,"value":"#<Account:0x00007fc8e21e6a60>","kind":"req"},{"name":"into_account","class":"Account","object_id":14336140,"value":"#<Account:0x00007fc8e21e6920>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899728,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899729,"event":"return","thread_id":9160,"parent_id":2899728,"elapsed":5.175010301172733e-06,"elapsed_instrumentation":9.574292926117778e-05,"return_value":{"class":"String","value":"feed:home:111361440228309455","object_id":14336180}},{"id":2899730,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899731,"event":"return","thread_id":9160,"parent_id":2899730,"elapsed":4.5199994929134846e-06,"elapsed_instrumentation":6.998097524046898e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2899732,"event":"return","thread_id":9160,"parent_id":2899727,"elapsed":0.0029021810041740537,"elapsed_instrumentation":9.850197238847613e-05},{"id":2899733,"event":"return","thread_id":9160,"parent_id":2899726,"elapsed":0.0030309660360217094,"elapsed_instrumentation":7.909495616331697e-05},{"id":2899734,"event":"return","thread_id":9160,"parent_id":2899719,"elapsed":0.006513622996862978,"elapsed_instrumentation":7.463601650670171e-05},{"id":2899735,"event":"return","thread_id":9160,"parent_id":2899706,"elapsed":0.007995426014531404,"elapsed_instrumentation":0.00015595601871609688,"return_value":{"class":"String","value":"4bd7c323d182a65c68db1d8a","object_id":14335860}},{"id":2899736,"event":"return","thread_id":9160,"parent_id":2899645,"elapsed":0.026714333973359317,"elapsed_instrumentation":0.0001484809909015894,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21e94e0>","object_id":14335700}},{"id":2899737,"event":"return","thread_id":9160,"parent_id":2899644,"elapsed":0.02688743098406121,"elapsed_instrumentation":7.888599066063762e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21e94e0>","object_id":14335700}},{"id":2899738,"event":"return","thread_id":9160,"parent_id":2899643,"elapsed":0.026999212976079434,"elapsed_instrumentation":0.00013730302453041077,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21e94e0>","object_id":14335700}},{"id":2899739,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14336200,"value":"relationship:111361440228309453:111361440228309455","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14336220,"value":"#<UnfollowService:0x00007fc8e1103d60>"}},{"id":2899740,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14336220,"value":"#<UnfollowService:0x00007fc8e1103d60>"}},{"id":2899741,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14336240,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14336260,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899742,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899743,"event":"return","thread_id":9160,"parent_id":2899742,"elapsed":2.7130008675158024e-06,"elapsed_instrumentation":8.721597259864211e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2899744,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14336280,"value":"_\u0001_1L_Jm_>_A_q_\\"}},{"id":2899745,"event":"return","thread_id":9160,"parent_id":2899744,"elapsed":6.62199454382062e-06,"elapsed_instrumentation":0.000297197955660522,"return_value":{"class":"Array","value":"[2197932849, 19673, 19053, 45886, 56385, 2171718748]","object_id":14336300,"size":6}},{"id":2899746,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899747,"event":"return","thread_id":9160,"parent_id":2899746,"elapsed":0.000420151,"elapsed_instrumentation":8.026196155697107e-05},{"id":2899748,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14336320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899749,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899750,"event":"return","thread_id":9160,"parent_id":2899749,"elapsed":0.000304812,"elapsed_instrumentation":6.62229722365737e-05},{"id":2899751,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899752,"event":"return","thread_id":9160,"parent_id":2899751,"elapsed":0.000345653,"elapsed_instrumentation":6.989401299506426e-05},{"id":2899753,"event":"return","thread_id":9160,"parent_id":2899748,"elapsed":0.002155269030481577,"elapsed_instrumentation":0.00018330698367208242,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2899754,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2899755,"event":"return","thread_id":9160,"parent_id":2899754,"elapsed":0.00053713,"elapsed_instrumentation":6.299896631389856e-05},{"id":2899756,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14336320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899757,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2899758,"event":"return","thread_id":9160,"parent_id":2899757,"elapsed":0.000632025,"elapsed_instrumentation":6.96819624863565e-05},{"id":2899759,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899760,"event":"return","thread_id":9160,"parent_id":2899759,"elapsed":0.000471955,"elapsed_instrumentation":6.751198088750243e-05},{"id":2899761,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14336340,"value":"#<Account:0x00007fc8e21e5160>"}},{"id":2899762,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14336340,"value":"#<Account:0x00007fc8e21e5160>"}},{"id":2899763,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440228309455, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899764,"event":"return","thread_id":9160,"parent_id":2899763,"elapsed":0.000750315,"elapsed_instrumentation":6.10710121691227e-05},{"id":2899765,"event":"return","thread_id":9160,"parent_id":2899762,"elapsed":0.0012048579519614577,"elapsed_instrumentation":8.471804903820157e-05},{"id":2899766,"event":"return","thread_id":9160,"parent_id":2899761,"elapsed":0.0013138300273567438,"elapsed_instrumentation":0.00019289797637611628},{"id":2899767,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899768,"event":"return","thread_id":9160,"parent_id":2899767,"elapsed":0.000554941,"elapsed_instrumentation":6.788800237700343e-05},{"id":2899769,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14336360,"value":"#<Account:0x00007fc8e21e3fe0>"}},{"id":2899770,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14336360,"value":"#<Account:0x00007fc8e21e3fe0>"}},{"id":2899771,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440228309453, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899772,"event":"return","thread_id":9160,"parent_id":2899771,"elapsed":0.000647946,"elapsed_instrumentation":6.154796574264765e-05},{"id":2899773,"event":"return","thread_id":9160,"parent_id":2899770,"elapsed":0.0010928820120170712,"elapsed_instrumentation":7.97969987615943e-05},{"id":2899774,"event":"return","thread_id":9160,"parent_id":2899769,"elapsed":0.0011937750387005508,"elapsed_instrumentation":0.00010632799239829183},{"id":2899775,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14336340,"value":"#<Account:0x00007fc8e21e5160>"}},{"id":2899776,"event":"return","thread_id":9160,"parent_id":2899775,"elapsed":1.5031022485345602e-05,"elapsed_instrumentation":9.498500730842352e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899777,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14336360,"value":"#<Account:0x00007fc8e21e3fe0>"}},{"id":2899778,"event":"return","thread_id":9160,"parent_id":2899777,"elapsed":7.154012564569712e-06,"elapsed_instrumentation":6.37269695289433e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899779,"event":"return","thread_id":9160,"parent_id":2899756,"elapsed":0.009187879972159863,"elapsed_instrumentation":0.00015093799447640777,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2899780,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899781,"event":"return","thread_id":9160,"parent_id":2899780,"elapsed":0.00032744,"elapsed_instrumentation":6.99689844623208e-05},{"id":2899782,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14336400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899783,"event":"return","thread_id":9160,"parent_id":2899782,"elapsed":3.72203066945076e-06,"elapsed_instrumentation":0.00011941097909584641,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2899784,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14336400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899785,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14336420,"value":"Cache delete: relationship:111361440228309455:111361440228309453\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899786,"event":"return","thread_id":9160,"parent_id":2899785,"elapsed":0.0005860209930688143,"elapsed_instrumentation":0.00011362601071596146,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899787,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14336440,"value":"Cache delete: relationship:111361440228309453:111361440228309455\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899788,"event":"return","thread_id":9160,"parent_id":2899787,"elapsed":0.0005468169692903757,"elapsed_instrumentation":0.00014879298396408558,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899789,"event":"return","thread_id":9160,"parent_id":2899784,"elapsed":0.0017637310083955526,"elapsed_instrumentation":0.00011145300231873989,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2899790,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14336460,"value":"#<Account:0x00007fc8e21ed360>"}},{"id":2899791,"event":"return","thread_id":9160,"parent_id":2899790,"elapsed":1.322402385994792e-05,"elapsed_instrumentation":8.614797843620181e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899792,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14336460,"value":"#<Account:0x00007fc8e21ed360>"}},{"id":2899793,"event":"return","thread_id":9160,"parent_id":2899792,"elapsed":4.069996066391468e-06,"elapsed_instrumentation":6.185099482536316e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899794,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2899795,"event":"return","thread_id":9160,"parent_id":2899794,"elapsed":4.2539904825389385e-06,"elapsed_instrumentation":5.6014047004282475e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899796,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14336480,"value":"{args=>[111361440228309453, 111361440228309455], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14336500,"value":"#<Sidekiq::Client:0x00007fc8e2489998>"}},{"id":2899797,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14336520,"value":"_9_7_$_<__s."}},{"id":2899798,"event":"return","thread_id":9160,"parent_id":2899797,"elapsed":4.587054718285799e-06,"elapsed_instrumentation":0.00010800297604873776,"return_value":{"class":"String","value":"f7398437b424ba3cecd5732e","object_id":14336540}},{"id":2899799,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14336560,"value":"[111361440228309453, 111361440228309455]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14336580,"value":"#<JSON::Ext::Generator::State:0x00007fc8e2486bd0>"}},{"id":2899800,"event":"return","thread_id":9160,"parent_id":2899799,"elapsed":7.287017069756985e-06,"elapsed_instrumentation":0.00020530499750748277,"return_value":{"class":"String","value":"[111361440228309453,111361440228309455]","object_id":14336600}},{"id":2899801,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14336620,"value":"#<JSON::Ext::Parser:0x00007fc8e2485d98>"}},{"id":2899802,"event":"return","thread_id":9160,"parent_id":2899801,"elapsed":5.381996743381023e-06,"elapsed_instrumentation":7.80729460529983e-05,"return_value":{"class":"Array","value":"[111361440228309453, 111361440228309455]","object_id":14336640,"size":2}},{"id":2899803,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14336660,"value":"\u0011_\u0003j___+__\u0002_"}},{"id":2899804,"event":"return","thread_id":9160,"parent_id":2899803,"elapsed":3.356020897626877e-06,"elapsed_instrumentation":0.00012095796409994364,"return_value":{"class":"String","value":"11b1036ae35fc52bf8ce02b5","object_id":14336680}},{"id":2899805,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14336700,"value":"{retry=>true, queue=>pull, args=>[111361440228309453, 111361440228309455], class=>UnmergeWorker, jid=>f7398437b424ba3cecd5732e, created_at=>1699240727.0934465, id=>11b1036ae35fc52bf8ce02b5}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14336720,"value":"#<JSON::Ext::Generator::State:0x00007fc8e2484308>"}},{"id":2899806,"event":"return","thread_id":9160,"parent_id":2899805,"elapsed":1.2285017874091864e-05,"elapsed_instrumentation":0.00018785899737849832,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440228309453,111361440228309455],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14336740}},{"id":2899807,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14336760,"value":"#<JSON::Ext::Parser:0x00007fc8e24819c8>"}},{"id":2899808,"event":"return","thread_id":9160,"parent_id":2899807,"elapsed":1.8466031178832054e-05,"elapsed_instrumentation":0.0005115729873068631,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440228309453, 111361440228309455], class=>UnmergeWorker, jid=>f7398437b424ba3cecd5732e, created_at=>1699240727.0934465, id=>11b1036ae35fc52bf8ce02b5}","object_id":14336780,"size":7}},{"id":2899809,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880456618907,"value":"111361440228309453","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14336800,"value":"#<UnmergeWorker:0x00007fc8e244f810>"}},{"id":2899810,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14336800,"value":"#<UnmergeWorker:0x00007fc8e244f810>"}},{"id":2899811,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899812,"event":"return","thread_id":9160,"parent_id":2899811,"elapsed":0.000643532,"elapsed_instrumentation":6.931897951290011e-05},{"id":2899813,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899814,"event":"return","thread_id":9160,"parent_id":2899813,"elapsed":0.000422244,"elapsed_instrumentation":6.568001117557287e-05},{"id":2899815,"event":"return","thread_id":9160,"parent_id":2899810,"elapsed":0.0031618440407328308,"elapsed_instrumentation":9.824393782764673e-05,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21e26e0>","object_id":14336820}},{"id":2899816,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14336800,"value":"#<UnmergeWorker:0x00007fc8e244f810>"}},{"id":2899817,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14336840,"value":"#<Account:0x00007fc8e21e2820>","kind":"req"},{"name":"into_account","class":"Account","object_id":14336820,"value":"#<Account:0x00007fc8e21e26e0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899818,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899819,"event":"return","thread_id":9160,"parent_id":2899818,"elapsed":5.370995495468378e-06,"elapsed_instrumentation":9.628006955608726e-05,"return_value":{"class":"String","value":"feed:home:111361440228309455","object_id":14336860}},{"id":2899820,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899821,"event":"return","thread_id":9160,"parent_id":2899820,"elapsed":4.327972419559956e-06,"elapsed_instrumentation":7.058802293613553e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2899822,"event":"return","thread_id":9160,"parent_id":2899817,"elapsed":0.0028935529990121722,"elapsed_instrumentation":9.735795902088284e-05},{"id":2899823,"event":"return","thread_id":9160,"parent_id":2899816,"elapsed":0.0030197270098142326,"elapsed_instrumentation":7.69280013628304e-05},{"id":2899824,"event":"return","thread_id":9160,"parent_id":2899809,"elapsed":0.006398016994353384,"elapsed_instrumentation":8.705194341018796e-05},{"id":2899825,"event":"return","thread_id":9160,"parent_id":2899796,"elapsed":0.008128402987495065,"elapsed_instrumentation":0.00015130802057683468,"return_value":{"class":"String","value":"f7398437b424ba3cecd5732e","object_id":14336540}},{"id":2899826,"event":"return","thread_id":9160,"parent_id":2899741,"elapsed":0.027435070020146668,"elapsed_instrumentation":0.00014276901492848992,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21e5b60>","object_id":14336380}},{"id":2899827,"event":"return","thread_id":9160,"parent_id":2899740,"elapsed":0.027600169007200748,"elapsed_instrumentation":7.715396350249648e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21e5b60>","object_id":14336380}},{"id":2899828,"event":"return","thread_id":9160,"parent_id":2899739,"elapsed":0.02771006297552958,"elapsed_instrumentation":0.00013687601312994957,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21e5b60>","object_id":14336380}},{"id":2899829,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14336880,"value":"relationship:111361440228309454:111361440228309455","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14336900,"value":"#<UnfollowService:0x00007fc8e113afb8>"}},{"id":2899830,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14336900,"value":"#<UnfollowService:0x00007fc8e113afb8>"}},{"id":2899831,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14336920,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14336940,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899832,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899833,"event":"return","thread_id":9160,"parent_id":2899832,"elapsed":2.741988282650709e-06,"elapsed_instrumentation":6.488902727141976e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2899834,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14336960,"value":"ig____cb_Hi_&__S"}},{"id":2899835,"event":"return","thread_id":9160,"parent_id":2899834,"elapsed":5.69602707400918e-06,"elapsed_instrumentation":0.00011961197014898062,"return_value":{"class":"Array","value":"[1768422539, 54704, 25442, 36424, 27103, 646115155]","object_id":14336980,"size":6}},{"id":2899836,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899837,"event":"return","thread_id":9160,"parent_id":2899836,"elapsed":0.000341318,"elapsed_instrumentation":0.0001397560117766261},{"id":2899838,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14337000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899839,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899840,"event":"return","thread_id":9160,"parent_id":2899839,"elapsed":0.000295541,"elapsed_instrumentation":6.591901183128357e-05},{"id":2899841,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899842,"event":"return","thread_id":9160,"parent_id":2899841,"elapsed":0.000377758,"elapsed_instrumentation":6.648397538810968e-05},{"id":2899843,"event":"return","thread_id":9160,"parent_id":2899838,"elapsed":0.0020292879780754447,"elapsed_instrumentation":0.00014432601165026426,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2899844,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2899845,"event":"return","thread_id":9160,"parent_id":2899844,"elapsed":0.000523376,"elapsed_instrumentation":7.000402547419071e-05},{"id":2899846,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14337000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899847,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2899848,"event":"return","thread_id":9160,"parent_id":2899847,"elapsed":0.00049609,"elapsed_instrumentation":6.763398414477706e-05},{"id":2899849,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899850,"event":"return","thread_id":9160,"parent_id":2899849,"elapsed":0.000603179,"elapsed_instrumentation":6.866903277114034e-05},{"id":2899851,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14337020,"value":"#<Account:0x00007fc8e21e0a20>"}},{"id":2899852,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14337020,"value":"#<Account:0x00007fc8e21e0a20>"}},{"id":2899853,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440228309455, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899854,"event":"return","thread_id":9160,"parent_id":2899853,"elapsed":0.000664104,"elapsed_instrumentation":6.926001515239477e-05},{"id":2899855,"event":"return","thread_id":9160,"parent_id":2899852,"elapsed":0.0011432260507717729,"elapsed_instrumentation":9.367696475237608e-05},{"id":2899856,"event":"return","thread_id":9160,"parent_id":2899851,"elapsed":0.0012619530316442251,"elapsed_instrumentation":0.00017587997717782855},{"id":2899857,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899858,"event":"return","thread_id":9160,"parent_id":2899857,"elapsed":0.000508042,"elapsed_instrumentation":7.014698348939419e-05},{"id":2899859,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14337040,"value":"#<Account:0x00007fc8e21ffa10>"}},{"id":2899860,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14337040,"value":"#<Account:0x00007fc8e21ffa10>"}},{"id":2899861,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440228309454, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899862,"event":"return","thread_id":9160,"parent_id":2899861,"elapsed":0.000725469,"elapsed_instrumentation":6.184499943628907e-05},{"id":2899863,"event":"return","thread_id":9160,"parent_id":2899860,"elapsed":0.0011813080054707825,"elapsed_instrumentation":8.027197327464819e-05},{"id":2899864,"event":"return","thread_id":9160,"parent_id":2899859,"elapsed":0.00128291203873232,"elapsed_instrumentation":0.00010765600018203259},{"id":2899865,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14337020,"value":"#<Account:0x00007fc8e21e0a20>"}},{"id":2899866,"event":"return","thread_id":9160,"parent_id":2899865,"elapsed":1.3256038073450327e-05,"elapsed_instrumentation":8.660595631226897e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899867,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14337040,"value":"#<Account:0x00007fc8e21ffa10>"}},{"id":2899868,"event":"return","thread_id":9160,"parent_id":2899867,"elapsed":6.5899803303182125e-06,"elapsed_instrumentation":6.30920403636992e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899869,"event":"return","thread_id":9160,"parent_id":2899846,"elapsed":0.009112822008319199,"elapsed_instrumentation":0.00014372006990015507,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2899870,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899871,"event":"return","thread_id":9160,"parent_id":2899870,"elapsed":0.000309473,"elapsed_instrumentation":6.572197889909148e-05},{"id":2899872,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14337080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899873,"event":"return","thread_id":9160,"parent_id":2899872,"elapsed":3.635999746620655e-06,"elapsed_instrumentation":0.00010871601989492774,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2899874,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14337080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899875,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14337100,"value":"Cache delete: relationship:111361440228309455:111361440228309454\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899876,"event":"return","thread_id":9160,"parent_id":2899875,"elapsed":0.0004976980271749198,"elapsed_instrumentation":0.00010145001579076052,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899877,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14337120,"value":"Cache delete: relationship:111361440228309454:111361440228309455\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899878,"event":"return","thread_id":9160,"parent_id":2899877,"elapsed":0.0004294559475965798,"elapsed_instrumentation":0.00010899902554228902,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899879,"event":"return","thread_id":9160,"parent_id":2899874,"elapsed":0.0013858400052413344,"elapsed_instrumentation":9.721197420731187e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2899880,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14337140,"value":"#<Account:0x00007fc8e21ed220>"}},{"id":2899881,"event":"return","thread_id":9160,"parent_id":2899880,"elapsed":1.2842006981372833e-05,"elapsed_instrumentation":8.032395271584392e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899882,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14337140,"value":"#<Account:0x00007fc8e21ed220>"}},{"id":2899883,"event":"return","thread_id":9160,"parent_id":2899882,"elapsed":3.7770369090139866e-06,"elapsed_instrumentation":5.817500641569495e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899884,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2899885,"event":"return","thread_id":9160,"parent_id":2899884,"elapsed":3.972032573074102e-06,"elapsed_instrumentation":5.3935975302010775e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899886,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14337160,"value":"{args=>[111361440228309454, 111361440228309455], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14337180,"value":"#<Sidekiq::Client:0x00007fc8e242ad58>"}},{"id":2899887,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14337200,"value":"\r___?\u0007_Gf.8_"}},{"id":2899888,"event":"return","thread_id":9160,"parent_id":2899887,"elapsed":3.908993676304817e-06,"elapsed_instrumentation":0.00010420201579108834,"return_value":{"class":"String","value":"0df5c7ca3f079e47662e38f7","object_id":14337220}},{"id":2899889,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14337240,"value":"[111361440228309454, 111361440228309455]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14337260,"value":"#<JSON::Ext::Generator::State:0x00007fc8e24276a8>"}},{"id":2899890,"event":"return","thread_id":9160,"parent_id":2899889,"elapsed":8.83202301338315e-06,"elapsed_instrumentation":0.00019918795442208648,"return_value":{"class":"String","value":"[111361440228309454,111361440228309455]","object_id":14337280}},{"id":2899891,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14337300,"value":"#<JSON::Ext::Parser:0x00007fc8e24260a0>"}},{"id":2899892,"event":"return","thread_id":9160,"parent_id":2899891,"elapsed":5.077978130429983e-06,"elapsed_instrumentation":7.672200445085764e-05,"return_value":{"class":"Array","value":"[111361440228309454, 111361440228309455]","object_id":14337320,"size":2}},{"id":2899893,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14337340,"value":"__Mb__a_\u0001\u0017\u0007u"}},{"id":2899894,"event":"return","thread_id":9160,"parent_id":2899893,"elapsed":3.0490336939692497e-06,"elapsed_instrumentation":9.095395216718316e-05,"return_value":{"class":"String","value":"eb924d629bd861f801170775","object_id":14337360}},{"id":2899895,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14337380,"value":"{retry=>true, queue=>pull, args=>[111361440228309454, 111361440228309455], class=>UnmergeWorker, jid=>0df5c7ca3f079e47662e38f7, created_at=>1699240727.1195574, id=>eb924d629bd861f801170775}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14337400,"value":"#<JSON::Ext::Generator::State:0x00007fc8e2424318>"}},{"id":2899896,"event":"return","thread_id":9160,"parent_id":2899895,"elapsed":1.2169010005891323e-05,"elapsed_instrumentation":0.00017066794680431485,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440228309454,111361440228309455],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14337420}},{"id":2899897,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14337440,"value":"#<JSON::Ext::Parser:0x00007fc8e2422248>"}},{"id":2899898,"event":"return","thread_id":9160,"parent_id":2899897,"elapsed":1.7246988136321306e-05,"elapsed_instrumentation":0.0001503109815530479,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440228309454, 111361440228309455], class=>UnmergeWorker, jid=>0df5c7ca3f079e47662e38f7, created_at=>1699240727.1195574, id=>eb924d629bd861f801170775}","object_id":14337460,"size":7}},{"id":2899899,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880456618909,"value":"111361440228309454","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14337480,"value":"#<UnmergeWorker:0x00007fc8e24205b0>"}},{"id":2899900,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14337480,"value":"#<UnmergeWorker:0x00007fc8e24205b0>"}},{"id":2899901,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899902,"event":"return","thread_id":9160,"parent_id":2899901,"elapsed":0.000488319,"elapsed_instrumentation":6.284302799031138e-05},{"id":2899903,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899904,"event":"return","thread_id":9160,"parent_id":2899903,"elapsed":0.000524562,"elapsed_instrumentation":6.896100239828229e-05},{"id":2899905,"event":"return","thread_id":9160,"parent_id":2899900,"elapsed":0.0031649390002712607,"elapsed_instrumentation":0.00010913796722888947,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21fe4d0>","object_id":14337500}},{"id":2899906,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14337480,"value":"#<UnmergeWorker:0x00007fc8e24205b0>"}},{"id":2899907,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14337520,"value":"#<Account:0x00007fc8e21fe610>","kind":"req"},{"name":"into_account","class":"Account","object_id":14337500,"value":"#<Account:0x00007fc8e21fe4d0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899908,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899909,"event":"return","thread_id":9160,"parent_id":2899908,"elapsed":5.191017407923937e-06,"elapsed_instrumentation":9.762000991031528e-05,"return_value":{"class":"String","value":"feed:home:111361440228309455","object_id":14337540}},{"id":2899910,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2899911,"event":"return","thread_id":9160,"parent_id":2899910,"elapsed":4.1470048017799854e-06,"elapsed_instrumentation":6.872497033327818e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2899912,"event":"return","thread_id":9160,"parent_id":2899907,"elapsed":0.002874443947803229,"elapsed_instrumentation":9.976600995287299e-05},{"id":2899913,"event":"return","thread_id":9160,"parent_id":2899906,"elapsed":0.003006165032275021,"elapsed_instrumentation":8.317397441715002e-05},{"id":2899914,"event":"return","thread_id":9160,"parent_id":2899899,"elapsed":0.006407638022210449,"elapsed_instrumentation":0.000401080003939569},{"id":2899915,"event":"return","thread_id":9160,"parent_id":2899886,"elapsed":0.007937767019029707,"elapsed_instrumentation":0.00014708703383803368,"return_value":{"class":"String","value":"0df5c7ca3f079e47662e38f7","object_id":14337220}},{"id":2899916,"event":"return","thread_id":9160,"parent_id":2899831,"elapsed":0.025484565005172044,"elapsed_instrumentation":0.0001404799404554069,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21e1420>","object_id":14337060}},{"id":2899917,"event":"return","thread_id":9160,"parent_id":2899830,"elapsed":0.025647875969298184,"elapsed_instrumentation":8.438003715127707e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21e1420>","object_id":14337060}},{"id":2899918,"event":"return","thread_id":9160,"parent_id":2899829,"elapsed":0.025763697980437428,"elapsed_instrumentation":0.00012044701725244522,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21e1420>","object_id":14337060}},{"id":2899919,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" IN (SELECT \"follows\".\"account_id\" FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1) ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":2899920,"event":"return","thread_id":9160,"parent_id":2899919,"elapsed":0.001715825,"elapsed_instrumentation":8.65139882080257e-05},{"id":2899921,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14337560,"value":"relationship:111361440228309445:111361440228309455","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14337580,"value":"#<UnfollowService:0x00007fc8e1130ec8>"}},{"id":2899922,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14337580,"value":"#<UnfollowService:0x00007fc8e1130ec8>"}},{"id":2899923,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14337600,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14337620,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899924,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2899925,"event":"return","thread_id":9160,"parent_id":2899924,"elapsed":2.908986061811447e-06,"elapsed_instrumentation":0.00013037200551480055,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2899926,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14337640,"value":"_\u0017_/___\u0018u_Y_/Ded"}},{"id":2899927,"event":"return","thread_id":9160,"parent_id":2899926,"elapsed":6.076006684452295e-06,"elapsed_instrumentation":0.000123490986879915,"return_value":{"class":"Array","value":"[3793205295, 40847, 44568, 30181, 22944, 793011556]","object_id":14337660,"size":6}},{"id":2899928,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899929,"event":"return","thread_id":9160,"parent_id":2899928,"elapsed":0.000513109,"elapsed_instrumentation":8.322997018694878e-05},{"id":2899930,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14337680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899931,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899932,"event":"return","thread_id":9160,"parent_id":2899931,"elapsed":0.000462972,"elapsed_instrumentation":7.805100176483393e-05},{"id":2899933,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2899934,"event":"return","thread_id":9160,"parent_id":2899933,"elapsed":0.000335388,"elapsed_instrumentation":6.026501068845391e-05},{"id":2899935,"event":"return","thread_id":9160,"parent_id":2899930,"elapsed":0.002470388018991798,"elapsed_instrumentation":0.00014974497025832534,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2899936,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2899937,"event":"return","thread_id":9160,"parent_id":2899936,"elapsed":0.000485183,"elapsed_instrumentation":6.401597056537867e-05},{"id":2899938,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14337680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2899939,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2899940,"event":"return","thread_id":9160,"parent_id":2899939,"elapsed":0.000532422,"elapsed_instrumentation":6.584497168660164e-05},{"id":2899941,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899942,"event":"return","thread_id":9160,"parent_id":2899941,"elapsed":0.000503351,"elapsed_instrumentation":0.0001578180235810578},{"id":2899943,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14337700,"value":"#<Account:0x00007fc8e21fc090>"}},{"id":2899944,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14337700,"value":"#<Account:0x00007fc8e21fc090>"}},{"id":2899945,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440228309445, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899946,"event":"return","thread_id":9160,"parent_id":2899945,"elapsed":0.000636825,"elapsed_instrumentation":7.222197018563747e-05},{"id":2899947,"event":"return","thread_id":9160,"parent_id":2899944,"elapsed":0.001281709992326796,"elapsed_instrumentation":8.632201934233308e-05},{"id":2899948,"event":"return","thread_id":9160,"parent_id":2899943,"elapsed":0.0013940120115876198,"elapsed_instrumentation":0.0001048700069077313},{"id":2899949,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899950,"event":"return","thread_id":9160,"parent_id":2899949,"elapsed":0.000558632,"elapsed_instrumentation":6.911298260092735e-05},{"id":2899951,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14337720,"value":"#<Account:0x00007fc8e21fb190>"}},{"id":2899952,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14337720,"value":"#<Account:0x00007fc8e21fb190>"}},{"id":2899953,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440228309455, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2899954,"event":"return","thread_id":9160,"parent_id":2899953,"elapsed":0.000754274,"elapsed_instrumentation":6.834499072283506e-05},{"id":2899955,"event":"return","thread_id":9160,"parent_id":2899952,"elapsed":0.0012272539897821844,"elapsed_instrumentation":8.338398765772581e-05},{"id":2899956,"event":"return","thread_id":9160,"parent_id":2899951,"elapsed":0.001332971965894103,"elapsed_instrumentation":0.00011016603093594313},{"id":2899957,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14337700,"value":"#<Account:0x00007fc8e21fc090>"}},{"id":2899958,"event":"return","thread_id":9160,"parent_id":2899957,"elapsed":1.3933982700109482e-05,"elapsed_instrumentation":9.269703878089786e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899959,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14337720,"value":"#<Account:0x00007fc8e21fb190>"}},{"id":2899960,"event":"return","thread_id":9160,"parent_id":2899959,"elapsed":6.552028935402632e-06,"elapsed_instrumentation":6.417091935873032e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899961,"event":"return","thread_id":9160,"parent_id":2899938,"elapsed":0.008664445020258427,"elapsed_instrumentation":0.00014234997797757387,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2899962,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2899963,"event":"return","thread_id":9160,"parent_id":2899962,"elapsed":0.000335642,"elapsed_instrumentation":6.561202462762594e-05},{"id":2899964,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14337760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899965,"event":"return","thread_id":9160,"parent_id":2899964,"elapsed":3.481050953269005e-06,"elapsed_instrumentation":0.00010556401684880257,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2899966,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14337760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2899967,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14337780,"value":"Cache delete: relationship:111361440228309445:111361440228309455\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899968,"event":"return","thread_id":9160,"parent_id":2899967,"elapsed":0.0005527299945242703,"elapsed_instrumentation":0.00020651897648349404,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899969,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14337800,"value":"Cache delete: relationship:111361440228309455:111361440228309445\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2899970,"event":"return","thread_id":9160,"parent_id":2899969,"elapsed":0.0005020319949835539,"elapsed_instrumentation":0.00021475995890796185,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2899971,"event":"return","thread_id":9160,"parent_id":2899966,"elapsed":0.0017673989641480148,"elapsed_instrumentation":0.0001029670238494873,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2899972,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2899973,"event":"return","thread_id":9160,"parent_id":2899972,"elapsed":7.999013178050518e-06,"elapsed_instrumentation":8.634396363049746e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899974,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2899975,"event":"return","thread_id":9160,"parent_id":2899974,"elapsed":3.6169658415019512e-06,"elapsed_instrumentation":6.0860009398311377e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899976,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14337820,"value":"#<Account:0x00007fc8e21fd210>"}},{"id":2899977,"event":"return","thread_id":9160,"parent_id":2899976,"elapsed":1.0631978511810303e-05,"elapsed_instrumentation":0.0002056500525213778,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2899978,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14337840,"value":"{args=>[111361440228309455, 111361440228309445], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14337860,"value":"#<Sidekiq::Client:0x00007fc8e23c3a40>"}},{"id":2899979,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14337880,"value":"__)d_Mu__.__"}},{"id":2899980,"event":"return","thread_id":9160,"parent_id":2899979,"elapsed":4.376983270049095e-06,"elapsed_instrumentation":0.00010676000965759158,"return_value":{"class":"String","value":"c6ee2964c74d75f0b72eaf97","object_id":14337900}},{"id":2899981,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14337920,"value":"[111361440228309455, 111361440228309445]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14337940,"value":"#<JSON::Ext::Generator::State:0x00007fc8e23c1790>"}},{"id":2899982,"event":"return","thread_id":9160,"parent_id":2899981,"elapsed":6.83503458276391e-06,"elapsed_instrumentation":0.00010026298696175218,"return_value":{"class":"String","value":"[111361440228309455,111361440228309445]","object_id":14337960}},{"id":2899983,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14337980,"value":"#<JSON::Ext::Parser:0x00007fc8e23c0a70>"}},{"id":2899984,"event":"return","thread_id":9160,"parent_id":2899983,"elapsed":5.50498953089118e-06,"elapsed_instrumentation":0.0006887330091558397,"return_value":{"class":"Array","value":"[111361440228309455, 111361440228309445]","object_id":14338000,"size":2}},{"id":2899985,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14338020,"value":"__\u0013______1H*"}},{"id":2899986,"event":"return","thread_id":9160,"parent_id":2899985,"elapsed":4.524947144091129e-06,"elapsed_instrumentation":0.0002703110221773386,"return_value":{"class":"String","value":"8f8c13a6c05f93e7c031482a","object_id":14338040}},{"id":2899987,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14338060,"value":"{retry=>true, queue=>pull, args=>[111361440228309455, 111361440228309445], class=>UnmergeWorker, jid=>c6ee2964c74d75f0b72eaf97, created_at=>1699240727.1521888, id=>8f8c13a6c05f93e7c031482a}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14338080,"value":"#<JSON::Ext::Generator::State:0x00007fc8e238f100>"}},{"id":2899988,"event":"return","thread_id":9160,"parent_id":2899987,"elapsed":1.5193014405667782e-05,"elapsed_instrumentation":0.00023562897695228457,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440228309455,111361440228309445],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14338100}},{"id":2899989,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14338120,"value":"#<JSON::Ext::Parser:0x00007fc8e238d1e8>"}},{"id":2899990,"event":"return","thread_id":9160,"parent_id":2899989,"elapsed":1.909496495500207e-05,"elapsed_instrumentation":0.00016379199223592877,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440228309455, 111361440228309445], class=>UnmergeWorker, jid=>c6ee2964c74d75f0b72eaf97, created_at=>1699240727.1521888, id=>8f8c13a6c05f93e7c031482a}","object_id":14338140,"size":7}},{"id":2899991,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880456618891,"value":"111361440228309445","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14338160,"value":"#<UnmergeWorker:0x00007fc8e238b280>"}},{"id":2899992,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14338160,"value":"#<UnmergeWorker:0x00007fc8e238b280>"}},{"id":2899993,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899994,"event":"return","thread_id":9160,"parent_id":2899993,"elapsed":0.00054367,"elapsed_instrumentation":6.934598786756396e-05},{"id":2899995,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2899996,"event":"return","thread_id":9160,"parent_id":2899995,"elapsed":0.000494053,"elapsed_instrumentation":7.426703814417124e-05},{"id":2899997,"event":"return","thread_id":9160,"parent_id":2899992,"elapsed":0.0031717460369691253,"elapsed_instrumentation":0.00010283594019711018,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21f9890>","object_id":14338180}},{"id":2899998,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14338160,"value":"#<UnmergeWorker:0x00007fc8e238b280>"}},{"id":2899999,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14338200,"value":"#<Account:0x00007fc8e21f99d0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14338180,"value":"#<Account:0x00007fc8e21f9890>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900000,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880456618891,"value":"111361440228309445","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900001,"event":"return","thread_id":9160,"parent_id":2900000,"elapsed":5.3810072131454945e-06,"elapsed_instrumentation":9.473698446527123e-05,"return_value":{"class":"String","value":"feed:home:111361440228309445","object_id":14338220}},{"id":2900002,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900003,"event":"return","thread_id":9160,"parent_id":2900002,"elapsed":4.6869972720742226e-06,"elapsed_instrumentation":0.00010320701403543353,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2900004,"event":"return","thread_id":9160,"parent_id":2899999,"elapsed":0.002964187995530665,"elapsed_instrumentation":0.00010004901560023427},{"id":2900005,"event":"return","thread_id":9160,"parent_id":2899998,"elapsed":0.0030942349694669247,"elapsed_instrumentation":7.92390201240778e-05},{"id":2900006,"event":"return","thread_id":9160,"parent_id":2899991,"elapsed":0.006491098029073328,"elapsed_instrumentation":7.749802898615599e-05},{"id":2900007,"event":"return","thread_id":9160,"parent_id":2899978,"elapsed":0.008509125967975706,"elapsed_instrumentation":0.0001595270005054772,"return_value":{"class":"String","value":"c6ee2964c74d75f0b72eaf97","object_id":14337900}},{"id":2900008,"event":"return","thread_id":9160,"parent_id":2899923,"elapsed":0.027380626008380204,"elapsed_instrumentation":0.0001373870181851089,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21fc950>","object_id":14337740}},{"id":2900009,"event":"return","thread_id":9160,"parent_id":2899922,"elapsed":0.027539037982933223,"elapsed_instrumentation":7.598096271976829e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21fc950>","object_id":14337740}},{"id":2900010,"event":"return","thread_id":9160,"parent_id":2899921,"elapsed":0.02764560899231583,"elapsed_instrumentation":0.00015138904564082623,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21fc950>","object_id":14337740}},{"id":2900011,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14338240,"value":"relationship:111361440228309446:111361440228309455","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14338260,"value":"#<UnfollowService:0x00007fc8e1148a78>"}},{"id":2900012,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14338260,"value":"#<UnfollowService:0x00007fc8e1148a78>"}},{"id":2900013,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14338280,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14338300,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900014,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900015,"event":"return","thread_id":9160,"parent_id":2900014,"elapsed":2.9349466785788536e-06,"elapsed_instrumentation":6.304302951321006e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2900016,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14338320,"value":"[,___0BY_eZWc\u0013\u0013|"}},{"id":2900017,"event":"return","thread_id":9160,"parent_id":2900016,"elapsed":7.472001016139984e-06,"elapsed_instrumentation":0.00020912394393235445,"return_value":{"class":"Array","value":"[1529654672, 62000, 16985, 55141, 23127, 1662194556]","object_id":14338340,"size":6}},{"id":2900018,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14338360,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14338380,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2900019,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14338400,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14338420,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2900020,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2900021,"event":"return","thread_id":13276700,"parent_id":2900020,"elapsed":5.718960892409086e-06,"elapsed_instrumentation":6.25379616394639e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2900022,"event":"return","thread_id":13276700,"parent_id":2900019,"elapsed":8.54589743539691e-05,"elapsed_instrumentation":9.322603000327945e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2900023,"event":"return","thread_id":13276700,"parent_id":2900018,"elapsed":0.0001966120325960219,"elapsed_instrumentation":0.00014506798470392823,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2900024,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900025,"event":"return","thread_id":9160,"parent_id":2900024,"elapsed":0.000396181,"elapsed_instrumentation":7.958401693031192e-05},{"id":2900026,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14338440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900027,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900028,"event":"return","thread_id":9160,"parent_id":2900027,"elapsed":0.000334257,"elapsed_instrumentation":6.979203317314386e-05},{"id":2900029,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900030,"event":"return","thread_id":9160,"parent_id":2900029,"elapsed":0.000279008,"elapsed_instrumentation":6.05770037509501e-05},{"id":2900031,"event":"return","thread_id":9160,"parent_id":2900026,"elapsed":0.002646468987222761,"elapsed_instrumentation":0.00015455600805580616,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2900032,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2900033,"event":"return","thread_id":9160,"parent_id":2900032,"elapsed":0.000593635,"elapsed_instrumentation":6.516597932204604e-05},{"id":2900034,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14338440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900035,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2900036,"event":"return","thread_id":9160,"parent_id":2900035,"elapsed":0.000557322,"elapsed_instrumentation":6.375898374244571e-05},{"id":2900037,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900038,"event":"return","thread_id":9160,"parent_id":2900037,"elapsed":0.000476119,"elapsed_instrumentation":7.2783965151757e-05},{"id":2900039,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14338460,"value":"#<Account:0x00007fc8e21f8350>"}},{"id":2900040,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14338460,"value":"#<Account:0x00007fc8e21f8350>"}},{"id":2900041,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440228309446, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900042,"event":"return","thread_id":9160,"parent_id":2900041,"elapsed":0.000633204,"elapsed_instrumentation":6.737402873113751e-05},{"id":2900043,"event":"return","thread_id":9160,"parent_id":2900040,"elapsed":0.0011142869479954243,"elapsed_instrumentation":0.00010482902871444821},{"id":2900044,"event":"return","thread_id":9160,"parent_id":2900039,"elapsed":0.00132370600476861,"elapsed_instrumentation":0.00011148105841130018},{"id":2900045,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900046,"event":"return","thread_id":9160,"parent_id":2900045,"elapsed":0.000492601,"elapsed_instrumentation":6.135395960882306e-05},{"id":2900047,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14338480,"value":"#<Account:0x00007fc8e21f7590>"}},{"id":2900048,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14338480,"value":"#<Account:0x00007fc8e21f7590>"}},{"id":2900049,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440228309455, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900050,"event":"return","thread_id":9160,"parent_id":2900049,"elapsed":0.00069043,"elapsed_instrumentation":6.306701106950641e-05},{"id":2900051,"event":"return","thread_id":9160,"parent_id":2900048,"elapsed":0.0011067799641750753,"elapsed_instrumentation":7.786299102008343e-05},{"id":2900052,"event":"return","thread_id":9160,"parent_id":2900047,"elapsed":0.0012055119732394814,"elapsed_instrumentation":9.743997361510992e-05},{"id":2900053,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14338460,"value":"#<Account:0x00007fc8e21f8350>"}},{"id":2900054,"event":"return","thread_id":9160,"parent_id":2900053,"elapsed":1.2719014193862677e-05,"elapsed_instrumentation":8.532602805644274e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900055,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14338480,"value":"#<Account:0x00007fc8e21f7590>"}},{"id":2900056,"event":"return","thread_id":9160,"parent_id":2900055,"elapsed":6.830028723925352e-06,"elapsed_instrumentation":6.237003253772855e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900057,"event":"return","thread_id":9160,"parent_id":2900034,"elapsed":0.00841652398230508,"elapsed_instrumentation":0.0001372089609503746,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2900058,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900059,"event":"return","thread_id":9160,"parent_id":2900058,"elapsed":0.000463312,"elapsed_instrumentation":8.779601193964481e-05},{"id":2900060,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14338520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900061,"event":"return","thread_id":9160,"parent_id":2900060,"elapsed":3.736990038305521e-06,"elapsed_instrumentation":0.0001509329886175692,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2900062,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14338520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900063,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14338540,"value":"Cache delete: relationship:111361440228309446:111361440228309455\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900064,"event":"return","thread_id":9160,"parent_id":2900063,"elapsed":0.0005816030316054821,"elapsed_instrumentation":0.00011385499965399504,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900065,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14338560,"value":"Cache delete: relationship:111361440228309455:111361440228309446\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900066,"event":"return","thread_id":9160,"parent_id":2900065,"elapsed":0.0005513000069186091,"elapsed_instrumentation":0.0001288559869863093,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900067,"event":"return","thread_id":9160,"parent_id":2900062,"elapsed":0.0016561170341446996,"elapsed_instrumentation":0.00011024699779227376,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2900068,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2900069,"event":"return","thread_id":9160,"parent_id":2900068,"elapsed":8.191971573978662e-06,"elapsed_instrumentation":8.712505223229527e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900070,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2900071,"event":"return","thread_id":9160,"parent_id":2900070,"elapsed":3.642984665930271e-06,"elapsed_instrumentation":6.13359734416008e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900072,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14338580,"value":"#<Account:0x00007fc8e21fd0d0>"}},{"id":2900073,"event":"return","thread_id":9160,"parent_id":2900072,"elapsed":1.0258052498102188e-05,"elapsed_instrumentation":5.666195647791028e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900074,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14338600,"value":"{args=>[111361440228309455, 111361440228309446], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14338620,"value":"#<Sidekiq::Client:0x00007fc8e2365cb0>"}},{"id":2900075,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14338640,"value":"_C_______l)8"}},{"id":2900076,"event":"return","thread_id":9160,"parent_id":2900075,"elapsed":4.298985004425049e-06,"elapsed_instrumentation":0.00012402900028973818,"return_value":{"class":"String","value":"f343b7f0aecd9d8f966c2938","object_id":14338660}},{"id":2900077,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14338680,"value":"[111361440228309455, 111361440228309446]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14338700,"value":"#<JSON::Ext::Generator::State:0x00007fc8e23639b0>"}},{"id":2900078,"event":"return","thread_id":9160,"parent_id":2900077,"elapsed":5.877984222024679e-06,"elapsed_instrumentation":0.0001047330442816019,"return_value":{"class":"String","value":"[111361440228309455,111361440228309446]","object_id":14338720}},{"id":2900079,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14338740,"value":"#<JSON::Ext::Parser:0x00007fc8e2362ba0>"}},{"id":2900080,"event":"return","thread_id":9160,"parent_id":2900079,"elapsed":5.29497629031539e-06,"elapsed_instrumentation":7.246993482112885e-05,"return_value":{"class":"Array","value":"[111361440228309455, 111361440228309446]","object_id":14338760,"size":2}},{"id":2900081,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14338780,"value":"_]\u001dO_sm____^"}},{"id":2900082,"event":"return","thread_id":9160,"parent_id":2900081,"elapsed":2.8999638743698597e-06,"elapsed_instrumentation":8.977501420304179e-05,"return_value":{"class":"String","value":"925d1d4fa8736db9b59d5f5e","object_id":14338800}},{"id":2900083,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14338820,"value":"{retry=>true, queue=>pull, args=>[111361440228309455, 111361440228309446], class=>UnmergeWorker, jid=>f343b7f0aecd9d8f966c2938, created_at=>1699240727.179978, id=>925d1d4fa8736db9b59d5f5e}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14338840,"value":"#<JSON::Ext::Generator::State:0x00007fc8e2360620>"}},{"id":2900084,"event":"return","thread_id":9160,"parent_id":2900083,"elapsed":1.1700030881911516e-05,"elapsed_instrumentation":0.0005302549689076841,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440228309455,111361440228309446],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14338860}},{"id":2900085,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14338880,"value":"#<JSON::Ext::Parser:0x00007fc8e231e4f0>"}},{"id":2900086,"event":"return","thread_id":9160,"parent_id":2900085,"elapsed":1.907901605591178e-05,"elapsed_instrumentation":0.0001515669864602387,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440228309455, 111361440228309446], class=>UnmergeWorker, jid=>f343b7f0aecd9d8f966c2938, created_at=>1699240727.179978, id=>925d1d4fa8736db9b59d5f5e}","object_id":14338900,"size":7}},{"id":2900087,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880456618893,"value":"111361440228309446","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14338920,"value":"#<UnmergeWorker:0x00007fc8e231c178>"}},{"id":2900088,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14338920,"value":"#<UnmergeWorker:0x00007fc8e231c178>"}},{"id":2900089,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900090,"event":"return","thread_id":9160,"parent_id":2900089,"elapsed":0.000600197,"elapsed_instrumentation":7.46900332160294e-05},{"id":2900091,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900092,"event":"return","thread_id":9160,"parent_id":2900091,"elapsed":0.000583686,"elapsed_instrumentation":6.917701102793217e-05},{"id":2900093,"event":"return","thread_id":9160,"parent_id":2900088,"elapsed":0.0032888479763641953,"elapsed_instrumentation":0.0002317500184290111,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21f5f10>","object_id":14338940}},{"id":2900094,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14338920,"value":"#<UnmergeWorker:0x00007fc8e231c178>"}},{"id":2900095,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14338960,"value":"#<Account:0x00007fc8e21f6050>","kind":"req"},{"name":"into_account","class":"Account","object_id":14338940,"value":"#<Account:0x00007fc8e21f5f10>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900096,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880456618893,"value":"111361440228309446","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900097,"event":"return","thread_id":9160,"parent_id":2900096,"elapsed":5.200039595365524e-06,"elapsed_instrumentation":9.708391735330224e-05,"return_value":{"class":"String","value":"feed:home:111361440228309446","object_id":14338980}},{"id":2900098,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900099,"event":"return","thread_id":9160,"parent_id":2900098,"elapsed":4.411966074258089e-06,"elapsed_instrumentation":7.245904998853803e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2900100,"event":"return","thread_id":9160,"parent_id":2900095,"elapsed":0.0029181650024838746,"elapsed_instrumentation":0.00010065402602776885},{"id":2900101,"event":"return","thread_id":9160,"parent_id":2900094,"elapsed":0.0030488440534099936,"elapsed_instrumentation":7.732701487839222e-05},{"id":2900102,"event":"return","thread_id":9160,"parent_id":2900087,"elapsed":0.006691297981888056,"elapsed_instrumentation":7.68990139476955e-05},{"id":2900103,"event":"return","thread_id":9160,"parent_id":2900074,"elapsed":0.00819409202085808,"elapsed_instrumentation":0.00022315600654110312,"return_value":{"class":"String","value":"f343b7f0aecd9d8f966c2938","object_id":14338660}},{"id":2900104,"event":"return","thread_id":9160,"parent_id":2900013,"elapsed":0.02707121503772214,"elapsed_instrumentation":0.00014359294436872005,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21f8d50>","object_id":14338500}},{"id":2900105,"event":"return","thread_id":9160,"parent_id":2900012,"elapsed":0.027237422007601708,"elapsed_instrumentation":7.779797306284308e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21f8d50>","object_id":14338500}},{"id":2900106,"event":"return","thread_id":9160,"parent_id":2900011,"elapsed":0.0273448689840734,"elapsed_instrumentation":0.0002621019957587123,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21f8d50>","object_id":14338500}},{"id":2900107,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14339000,"value":"relationship:111361440228309447:111361440228309455","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14339020,"value":"#<UnfollowService:0x00007fc8e1141048>"}},{"id":2900108,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14339020,"value":"#<UnfollowService:0x00007fc8e1141048>"}},{"id":2900109,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14339040,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14339060,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900110,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900111,"event":"return","thread_id":9160,"parent_id":2900110,"elapsed":2.700020559132099e-06,"elapsed_instrumentation":6.588298128917813e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2900112,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14339080,"value":"%__Ne__r_g__(f__"}},{"id":2900113,"event":"return","thread_id":9160,"parent_id":2900112,"elapsed":5.609996151179075e-06,"elapsed_instrumentation":0.0001233890070579946,"return_value":{"class":"Array","value":"[630835534, 26084, 43634, 41831, 61618, 677826812]","object_id":14339100,"size":6}},{"id":2900114,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900115,"event":"return","thread_id":9160,"parent_id":2900114,"elapsed":0.000359026,"elapsed_instrumentation":7.111200829967856e-05},{"id":2900116,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14339120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900117,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900118,"event":"return","thread_id":9160,"parent_id":2900117,"elapsed":0.000300347,"elapsed_instrumentation":6.258400389924645e-05},{"id":2900119,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900120,"event":"return","thread_id":9160,"parent_id":2900119,"elapsed":0.000338514,"elapsed_instrumentation":5.622999742627144e-05},{"id":2900121,"event":"return","thread_id":9160,"parent_id":2900116,"elapsed":0.0021999889868311584,"elapsed_instrumentation":0.00014477892545983195,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2900122,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2900123,"event":"return","thread_id":9160,"parent_id":2900122,"elapsed":0.000531253,"elapsed_instrumentation":7.700198329985142e-05},{"id":2900124,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14339120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900125,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2900126,"event":"return","thread_id":9160,"parent_id":2900125,"elapsed":0.000653889,"elapsed_instrumentation":8.290901314467192e-05},{"id":2900127,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900128,"event":"return","thread_id":9160,"parent_id":2900127,"elapsed":0.000550051,"elapsed_instrumentation":7.093604654073715e-05},{"id":2900129,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14339140,"value":"#<Account:0x00007fc8e21f49d0>"}},{"id":2900130,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14339140,"value":"#<Account:0x00007fc8e21f49d0>"}},{"id":2900131,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440228309447, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900132,"event":"return","thread_id":9160,"parent_id":2900131,"elapsed":0.000816297,"elapsed_instrumentation":7.072300650179386e-05},{"id":2900133,"event":"return","thread_id":9160,"parent_id":2900130,"elapsed":0.001322100986726582,"elapsed_instrumentation":9.039795259013772e-05},{"id":2900134,"event":"return","thread_id":9160,"parent_id":2900129,"elapsed":0.001437174971215427,"elapsed_instrumentation":0.00012891797814518213},{"id":2900135,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900136,"event":"return","thread_id":9160,"parent_id":2900135,"elapsed":0.000566798,"elapsed_instrumentation":7.138604996725917e-05},{"id":2900137,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14339160,"value":"#<Account:0x00007fc8e21f3990>"}},{"id":2900138,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14339160,"value":"#<Account:0x00007fc8e21f3990>"}},{"id":2900139,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440228309455, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900140,"event":"return","thread_id":9160,"parent_id":2900139,"elapsed":0.000746196,"elapsed_instrumentation":7.248501060530543e-05},{"id":2900141,"event":"return","thread_id":9160,"parent_id":2900138,"elapsed":0.0012314869672991335,"elapsed_instrumentation":8.426100248470902e-05},{"id":2900142,"event":"return","thread_id":9160,"parent_id":2900137,"elapsed":0.0013381890021264553,"elapsed_instrumentation":0.00012145802611485124},{"id":2900143,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14339140,"value":"#<Account:0x00007fc8e21f49d0>"}},{"id":2900144,"event":"return","thread_id":9160,"parent_id":2900143,"elapsed":1.4397024642676115e-05,"elapsed_instrumentation":9.647500701248646e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900145,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14339160,"value":"#<Account:0x00007fc8e21f3990>"}},{"id":2900146,"event":"return","thread_id":9160,"parent_id":2900145,"elapsed":6.834045052528381e-06,"elapsed_instrumentation":6.354099605232477e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900147,"event":"return","thread_id":9160,"parent_id":2900124,"elapsed":0.009809956012759358,"elapsed_instrumentation":0.00023424200480803847,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2900148,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900149,"event":"return","thread_id":9160,"parent_id":2900148,"elapsed":0.000317366,"elapsed_instrumentation":7.025402737781405e-05},{"id":2900150,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14339200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900151,"event":"return","thread_id":9160,"parent_id":2900150,"elapsed":3.7209829315543175e-06,"elapsed_instrumentation":0.00011766800889745355,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2900152,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14339200,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900153,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14339220,"value":"Cache delete: relationship:111361440228309447:111361440228309455\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900154,"event":"return","thread_id":9160,"parent_id":2900153,"elapsed":0.0009653119486756623,"elapsed_instrumentation":0.00022004300262778997,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900155,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14339240,"value":"Cache delete: relationship:111361440228309455:111361440228309447\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900156,"event":"return","thread_id":9160,"parent_id":2900155,"elapsed":0.0005505949957296252,"elapsed_instrumentation":0.0001608790480531752,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900157,"event":"return","thread_id":9160,"parent_id":2900152,"elapsed":0.002413783047813922,"elapsed_instrumentation":0.00012167799286544323,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2900158,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2900159,"event":"return","thread_id":9160,"parent_id":2900158,"elapsed":1.0434945579618216e-05,"elapsed_instrumentation":0.00010306003969162703,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900160,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2900161,"event":"return","thread_id":9160,"parent_id":2900160,"elapsed":3.5139964893460274e-06,"elapsed_instrumentation":6.141600897535682e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900162,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14339260,"value":"#<Account:0x00007fc8e21fcf90>"}},{"id":2900163,"event":"return","thread_id":9160,"parent_id":2900162,"elapsed":1.1652999091893435e-05,"elapsed_instrumentation":5.677394801750779e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900164,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14339280,"value":"{args=>[111361440228309455, 111361440228309447], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14339300,"value":"#<Sidekiq::Client:0x00007fc8e22f3890>"}},{"id":2900165,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14339320,"value":"_\u001b_Mg_(\f_}_\u0006"}},{"id":2900166,"event":"return","thread_id":9160,"parent_id":2900165,"elapsed":4.089961294084787e-06,"elapsed_instrumentation":0.00010682700667530298,"return_value":{"class":"String","value":"8b1be44d67e9280cbd7d9906","object_id":14339340}},{"id":2900167,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14339360,"value":"[111361440228309455, 111361440228309447]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14339380,"value":"#<JSON::Ext::Generator::State:0x00007fc8e22f0870>"}},{"id":2900168,"event":"return","thread_id":9160,"parent_id":2900167,"elapsed":7.01297540217638e-06,"elapsed_instrumentation":0.00040776695823296905,"return_value":{"class":"String","value":"[111361440228309455,111361440228309447]","object_id":14339400}},{"id":2900169,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14339420,"value":"#<JSON::Ext::Parser:0x00007fc8e22bf888>"}},{"id":2900170,"event":"return","thread_id":9160,"parent_id":2900169,"elapsed":5.619949661195278e-06,"elapsed_instrumentation":7.657904643565416e-05,"return_value":{"class":"Array","value":"[111361440228309455, 111361440228309447]","object_id":14339440,"size":2}},{"id":2900171,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14339460,"value":"___3__\u000f_K_(_"}},{"id":2900172,"event":"return","thread_id":9160,"parent_id":2900171,"elapsed":3.90299828723073e-06,"elapsed_instrumentation":0.0001746959751471877,"return_value":{"class":"String","value":"e0c2cf33eaff0fc44ba528cf","object_id":14339480}},{"id":2900173,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14339500,"value":"{retry=>true, queue=>pull, args=>[111361440228309455, 111361440228309447], class=>UnmergeWorker, jid=>8b1be44d67e9280cbd7d9906, created_at=>1699240727.2086625, id=>e0c2cf33eaff0fc44ba528cf}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14339520,"value":"#<JSON::Ext::Generator::State:0x00007fc8e22bd8d0>"}},{"id":2900174,"event":"return","thread_id":9160,"parent_id":2900173,"elapsed":1.4528981409966946e-05,"elapsed_instrumentation":0.00025826803175732493,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440228309455,111361440228309447],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14339540}},{"id":2900175,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14339560,"value":"#<JSON::Ext::Parser:0x00007fc8e22bb558>"}},{"id":2900176,"event":"return","thread_id":9160,"parent_id":2900175,"elapsed":2.0475010387599468e-05,"elapsed_instrumentation":0.00015556701691821218,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440228309455, 111361440228309447], class=>UnmergeWorker, jid=>8b1be44d67e9280cbd7d9906, created_at=>1699240727.2086625, id=>e0c2cf33eaff0fc44ba528cf}","object_id":14339580,"size":7}},{"id":2900177,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880456618895,"value":"111361440228309447","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14339600,"value":"#<UnmergeWorker:0x00007fc8e22b9690>"}},{"id":2900178,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14339600,"value":"#<UnmergeWorker:0x00007fc8e22b9690>"}},{"id":2900179,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900180,"event":"return","thread_id":9160,"parent_id":2900179,"elapsed":0.000596112,"elapsed_instrumentation":9.633996523916721e-05},{"id":2900181,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900182,"event":"return","thread_id":9160,"parent_id":2900181,"elapsed":0.000641977,"elapsed_instrumentation":7.7087024692446e-05},{"id":2900183,"event":"return","thread_id":9160,"parent_id":2900178,"elapsed":0.0036684609949588776,"elapsed_instrumentation":0.0001155080390162766,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e21f1f50>","object_id":14339620}},{"id":2900184,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14339600,"value":"#<UnmergeWorker:0x00007fc8e22b9690>"}},{"id":2900185,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14339640,"value":"#<Account:0x00007fc8e21f2450>","kind":"req"},{"name":"into_account","class":"Account","object_id":14339620,"value":"#<Account:0x00007fc8e21f1f50>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900186,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880456618895,"value":"111361440228309447","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900187,"event":"return","thread_id":9160,"parent_id":2900186,"elapsed":5.4150004871189594e-06,"elapsed_instrumentation":0.00012531201355159283,"return_value":{"class":"String","value":"feed:home:111361440228309447","object_id":14339660}},{"id":2900188,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900189,"event":"return","thread_id":9160,"parent_id":2900188,"elapsed":4.490953870117664e-06,"elapsed_instrumentation":8.254102431237698e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2900190,"event":"return","thread_id":9160,"parent_id":2900185,"elapsed":0.003211077011656016,"elapsed_instrumentation":0.00010624004062265158},{"id":2900191,"event":"return","thread_id":9160,"parent_id":2900184,"elapsed":0.0033504339517094195,"elapsed_instrumentation":9.405397577211261e-05},{"id":2900192,"event":"return","thread_id":9160,"parent_id":2900177,"elapsed":0.00727635802468285,"elapsed_instrumentation":7.513200398534536e-05},{"id":2900193,"event":"return","thread_id":9160,"parent_id":2900164,"elapsed":0.0089676080388017,"elapsed_instrumentation":0.00016618595691397786,"return_value":{"class":"String","value":"8b1be44d67e9280cbd7d9906","object_id":14339340}},{"id":2900194,"event":"return","thread_id":9160,"parent_id":2900109,"elapsed":0.028966590005438775,"elapsed_instrumentation":0.0001375050051137805,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21f5290>","object_id":14339180}},{"id":2900195,"event":"return","thread_id":9160,"parent_id":2900108,"elapsed":0.029125216999091208,"elapsed_instrumentation":7.37179652787745e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21f5290>","object_id":14339180}},{"id":2900196,"event":"return","thread_id":9160,"parent_id":2900107,"elapsed":0.029235533031169325,"elapsed_instrumentation":0.0001238159602507949,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21f5290>","object_id":14339180}},{"id":2900197,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14339680,"value":"relationship:111361440228309448:111361440228309455","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14339700,"value":"#<UnfollowService:0x00007fc8e1168da0>"}},{"id":2900198,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14339700,"value":"#<UnfollowService:0x00007fc8e1168da0>"}},{"id":2900199,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14339720,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14339740,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900200,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900201,"event":"return","thread_id":9160,"parent_id":2900200,"elapsed":2.949964255094528e-06,"elapsed_instrumentation":0.0001496030017733574,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2900202,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14339760,"value":"Q\u000b_q__b_\u0013\u001ah__}\u0001r"}},{"id":2900203,"event":"return","thread_id":9160,"parent_id":2900202,"elapsed":6.999005563557148e-06,"elapsed_instrumentation":0.00014138396363705397,"return_value":{"class":"Array","value":"[1359733873, 58322, 25250, 4890, 26847, 2625438066]","object_id":14339780,"size":6}},{"id":2900204,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900205,"event":"return","thread_id":9160,"parent_id":2900204,"elapsed":0.000479097,"elapsed_instrumentation":9.01450403034687e-05},{"id":2900206,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14339800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900207,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900208,"event":"return","thread_id":9160,"parent_id":2900207,"elapsed":0.000362106,"elapsed_instrumentation":8.70240037329495e-05},{"id":2900209,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900210,"event":"return","thread_id":9160,"parent_id":2900209,"elapsed":0.000586092,"elapsed_instrumentation":9.084399789571762e-05},{"id":2900211,"event":"return","thread_id":9160,"parent_id":2900206,"elapsed":0.00294674898032099,"elapsed_instrumentation":0.00016337796114385128,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2900212,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2900213,"event":"return","thread_id":9160,"parent_id":2900212,"elapsed":0.000543711,"elapsed_instrumentation":6.291299359872937e-05},{"id":2900214,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14339800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900215,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2900216,"event":"return","thread_id":9160,"parent_id":2900215,"elapsed":0.00045856,"elapsed_instrumentation":7.714901585131884e-05},{"id":2900217,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900218,"event":"return","thread_id":9160,"parent_id":2900217,"elapsed":0.000540107,"elapsed_instrumentation":7.787405047565699e-05},{"id":2900219,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14339820,"value":"#<Account:0x00007fc8e21f0790>"}},{"id":2900220,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14339820,"value":"#<Account:0x00007fc8e21f0790>"}},{"id":2900221,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440228309448, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900222,"event":"return","thread_id":9160,"parent_id":2900221,"elapsed":0.000687091,"elapsed_instrumentation":7.541000377386808e-05},{"id":2900223,"event":"return","thread_id":9160,"parent_id":2900220,"elapsed":0.001382967981044203,"elapsed_instrumentation":9.227404370903969e-05},{"id":2900224,"event":"return","thread_id":9160,"parent_id":2900219,"elapsed":0.0015005929744802415,"elapsed_instrumentation":0.00012715300545096397},{"id":2900225,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900226,"event":"return","thread_id":9160,"parent_id":2900225,"elapsed":0.000633766,"elapsed_instrumentation":7.777003338560462e-05},{"id":2900227,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14339840,"value":"#<Account:0x00007fc8e220f640>"}},{"id":2900228,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14339840,"value":"#<Account:0x00007fc8e220f640>"}},{"id":2900229,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440228309455, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900230,"event":"return","thread_id":9160,"parent_id":2900229,"elapsed":0.000680631,"elapsed_instrumentation":7.42690172046423e-05},{"id":2900231,"event":"return","thread_id":9160,"parent_id":2900228,"elapsed":0.0013597329962067306,"elapsed_instrumentation":9.073101682588458e-05},{"id":2900232,"event":"return","thread_id":9160,"parent_id":2900227,"elapsed":0.0014754590229131281,"elapsed_instrumentation":0.00012708501890301704},{"id":2900233,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14339820,"value":"#<Account:0x00007fc8e21f0790>"}},{"id":2900234,"event":"return","thread_id":9160,"parent_id":2900233,"elapsed":1.5400000847876072e-05,"elapsed_instrumentation":0.00010394101263955235,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900235,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14339840,"value":"#<Account:0x00007fc8e220f640>"}},{"id":2900236,"event":"return","thread_id":9160,"parent_id":2900235,"elapsed":7.687020115554333e-06,"elapsed_instrumentation":6.821501301601529e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900237,"event":"return","thread_id":9160,"parent_id":2900214,"elapsed":0.009711616963613778,"elapsed_instrumentation":0.00017032906180247664,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2900238,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900239,"event":"return","thread_id":9160,"parent_id":2900238,"elapsed":0.000336156,"elapsed_instrumentation":0.00015738903312012553},{"id":2900240,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14339880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900241,"event":"return","thread_id":9160,"parent_id":2900240,"elapsed":3.2889656722545624e-06,"elapsed_instrumentation":0.00012092001270502806,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2900242,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14339880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900243,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14339900,"value":"Cache delete: relationship:111361440228309448:111361440228309455\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900244,"event":"return","thread_id":9160,"parent_id":2900243,"elapsed":0.0005433819605968893,"elapsed_instrumentation":0.00011245300993323326,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900245,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14339920,"value":"Cache delete: relationship:111361440228309455:111361440228309448\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900246,"event":"return","thread_id":9160,"parent_id":2900245,"elapsed":0.0004337020218372345,"elapsed_instrumentation":0.00012493395479395986,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900247,"event":"return","thread_id":9160,"parent_id":2900242,"elapsed":0.001489005982875824,"elapsed_instrumentation":0.0002690900000743568,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2900248,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2900249,"event":"return","thread_id":9160,"parent_id":2900248,"elapsed":8.679984603077173e-06,"elapsed_instrumentation":0.00010072399163618684,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900250,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2900251,"event":"return","thread_id":9160,"parent_id":2900250,"elapsed":4.522036761045456e-06,"elapsed_instrumentation":6.300897803157568e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900252,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14339940,"value":"#<Account:0x00007fc8e21fce50>"}},{"id":2900253,"event":"return","thread_id":9160,"parent_id":2900252,"elapsed":1.0000949259847403e-05,"elapsed_instrumentation":5.967204924672842e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900254,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14339960,"value":"{args=>[111361440228309455, 111361440228309448], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14339980,"value":"#<Sidekiq::Client:0x00007fc8e2294278>"}},{"id":2900255,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14340000,"value":"?1I_3_X)o_\u0003J"}},{"id":2900256,"event":"return","thread_id":9160,"parent_id":2900255,"elapsed":4.305969923734665e-06,"elapsed_instrumentation":0.00011034996714442968,"return_value":{"class":"String","value":"3f3149c333d158296fe6034a","object_id":14340020}},{"id":2900257,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14340040,"value":"[111361440228309455, 111361440228309448]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14340060,"value":"#<JSON::Ext::Generator::State:0x00007fc8e2291d70>"}},{"id":2900258,"event":"return","thread_id":9160,"parent_id":2900257,"elapsed":6.471003871411085e-06,"elapsed_instrumentation":0.00022650201572105289,"return_value":{"class":"String","value":"[111361440228309455,111361440228309448]","object_id":14340080}},{"id":2900259,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14340100,"value":"#<JSON::Ext::Parser:0x00007fc8e2290808>"}},{"id":2900260,"event":"return","thread_id":9160,"parent_id":2900259,"elapsed":6.002024747431278e-06,"elapsed_instrumentation":0.00040116196032613516,"return_value":{"class":"Array","value":"[111361440228309455, 111361440228309448]","object_id":14340120,"size":2}},{"id":2900261,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14340140,"value":"__G_\b______8"}},{"id":2900262,"event":"return","thread_id":9160,"parent_id":2900261,"elapsed":3.731984179466963e-06,"elapsed_instrumentation":0.0002505930024199188,"return_value":{"class":"String","value":"f2b347d708bd9597e1a4bd38","object_id":14340160}},{"id":2900263,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14340180,"value":"{retry=>true, queue=>pull, args=>[111361440228309455, 111361440228309448], class=>UnmergeWorker, jid=>3f3149c333d158296fe6034a, created_at=>1699240727.2384484, id=>f2b347d708bd9597e1a4bd38}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14340200,"value":"#<JSON::Ext::Generator::State:0x00007fc8e225e768>"}},{"id":2900264,"event":"return","thread_id":9160,"parent_id":2900263,"elapsed":1.667597098276019e-05,"elapsed_instrumentation":0.0002717099850997329,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440228309455,111361440228309448],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14340220}},{"id":2900265,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14340240,"value":"#<JSON::Ext::Parser:0x00007fc8e225c1c0>"}},{"id":2900266,"event":"return","thread_id":9160,"parent_id":2900265,"elapsed":2.0644045434892178e-05,"elapsed_instrumentation":0.00015837798127904534,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440228309455, 111361440228309448], class=>UnmergeWorker, jid=>3f3149c333d158296fe6034a, created_at=>1699240727.2384484, id=>f2b347d708bd9597e1a4bd38}","object_id":14340260,"size":7}},{"id":2900267,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880456618897,"value":"111361440228309448","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14340280,"value":"#<UnmergeWorker:0x00007fc8e225a280>"}},{"id":2900268,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14340280,"value":"#<UnmergeWorker:0x00007fc8e225a280>"}},{"id":2900269,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900270,"event":"return","thread_id":9160,"parent_id":2900269,"elapsed":0.000575088,"elapsed_instrumentation":8.210103260353208e-05},{"id":2900271,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900272,"event":"return","thread_id":9160,"parent_id":2900271,"elapsed":0.000507435,"elapsed_instrumentation":9.960599709302187e-05},{"id":2900273,"event":"return","thread_id":9160,"parent_id":2900268,"elapsed":0.0034102940117008984,"elapsed_instrumentation":0.00010784598998725414,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e220de80>","object_id":14340300}},{"id":2900274,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14340280,"value":"#<UnmergeWorker:0x00007fc8e225a280>"}},{"id":2900275,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14340320,"value":"#<Account:0x00007fc8e220dfc0>","kind":"req"},{"name":"into_account","class":"Account","object_id":14340300,"value":"#<Account:0x00007fc8e220de80>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900276,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880456618897,"value":"111361440228309448","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900277,"event":"return","thread_id":9160,"parent_id":2900276,"elapsed":5.3800176829099655e-06,"elapsed_instrumentation":0.00010719901183620095,"return_value":{"class":"String","value":"feed:home:111361440228309448","object_id":14340340}},{"id":2900278,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900279,"event":"return","thread_id":9160,"parent_id":2900278,"elapsed":4.393979907035828e-06,"elapsed_instrumentation":7.485505193471909e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2900280,"event":"return","thread_id":9160,"parent_id":2900275,"elapsed":0.0028881719917990267,"elapsed_instrumentation":0.00011999800335615873},{"id":2900281,"event":"return","thread_id":9160,"parent_id":2900274,"elapsed":0.00304320000577718,"elapsed_instrumentation":0.00017919996753335},{"id":2900282,"event":"return","thread_id":9160,"parent_id":2900267,"elapsed":0.006788838014472276,"elapsed_instrumentation":7.897999603301287e-05},{"id":2900283,"event":"return","thread_id":9160,"parent_id":2900254,"elapsed":0.008676033990923315,"elapsed_instrumentation":0.00015780696412548423,"return_value":{"class":"String","value":"3f3149c333d158296fe6034a","object_id":14340020}},{"id":2900284,"event":"return","thread_id":9160,"parent_id":2900199,"elapsed":0.028900113014969975,"elapsed_instrumentation":0.00014365895185619593,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21f12d0>","object_id":14339860}},{"id":2900285,"event":"return","thread_id":9160,"parent_id":2900198,"elapsed":0.029065695009194314,"elapsed_instrumentation":8.273997809737921e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21f12d0>","object_id":14339860}},{"id":2900286,"event":"return","thread_id":9160,"parent_id":2900197,"elapsed":0.02917962201172486,"elapsed_instrumentation":0.00014355097664520144,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e21f12d0>","object_id":14339860}},{"id":2900287,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14340360,"value":"relationship:111361440228309449:111361440228309455","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14340380,"value":"#<UnfollowService:0x00007fc8e1161d20>"}},{"id":2900288,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14340380,"value":"#<UnfollowService:0x00007fc8e1161d20>"}},{"id":2900289,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14340400,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14340420,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900290,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900291,"event":"return","thread_id":9160,"parent_id":2900290,"elapsed":2.6130001060664654e-06,"elapsed_instrumentation":6.532995030283928e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2900292,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14340440,"value":":_bv\u0013_j_\f__51_8\\"}},{"id":2900293,"event":"return","thread_id":9160,"parent_id":2900292,"elapsed":6.154004950076342e-06,"elapsed_instrumentation":0.00013203901471570134,"return_value":{"class":"Array","value":"[985293430, 4999, 27376, 3276, 47925, 835008604]","object_id":14340460,"size":6}},{"id":2900294,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900295,"event":"return","thread_id":9160,"parent_id":2900294,"elapsed":0.000361029,"elapsed_instrumentation":7.162202382460237e-05},{"id":2900296,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14340480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900297,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900298,"event":"return","thread_id":9160,"parent_id":2900297,"elapsed":0.000272837,"elapsed_instrumentation":6.475800182670355e-05},{"id":2900299,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900300,"event":"return","thread_id":9160,"parent_id":2900299,"elapsed":0.000333749,"elapsed_instrumentation":5.907303420826793e-05},{"id":2900301,"event":"return","thread_id":9160,"parent_id":2900296,"elapsed":0.0019298010156489909,"elapsed_instrumentation":0.0001407949603162706,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2900302,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2900303,"event":"return","thread_id":9160,"parent_id":2900302,"elapsed":0.000512841,"elapsed_instrumentation":6.116298027336597e-05},{"id":2900304,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14340480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900305,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2900306,"event":"return","thread_id":9160,"parent_id":2900305,"elapsed":0.000433826,"elapsed_instrumentation":6.543396739289165e-05},{"id":2900307,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900308,"event":"return","thread_id":9160,"parent_id":2900307,"elapsed":0.000541759,"elapsed_instrumentation":6.828201003372669e-05},{"id":2900309,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14340500,"value":"#<Account:0x00007fc8e220c940>"}},{"id":2900310,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14340500,"value":"#<Account:0x00007fc8e220c940>"}},{"id":2900311,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440228309449, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900312,"event":"return","thread_id":9160,"parent_id":2900311,"elapsed":0.000710262,"elapsed_instrumentation":0.00015866599278524518},{"id":2900313,"event":"return","thread_id":9160,"parent_id":2900310,"elapsed":0.0014311260310932994,"elapsed_instrumentation":8.677702862769365e-05},{"id":2900314,"event":"return","thread_id":9160,"parent_id":2900309,"elapsed":0.0015430200146511197,"elapsed_instrumentation":0.00011642399476841092},{"id":2900315,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900316,"event":"return","thread_id":9160,"parent_id":2900315,"elapsed":0.000585615,"elapsed_instrumentation":6.927503272891045e-05},{"id":2900317,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14340520,"value":"#<Account:0x00007fc8e220ba40>"}},{"id":2900318,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14340520,"value":"#<Account:0x00007fc8e220ba40>"}},{"id":2900319,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440228309455, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900320,"event":"return","thread_id":9160,"parent_id":2900319,"elapsed":0.000774157,"elapsed_instrumentation":6.953097181394696e-05},{"id":2900321,"event":"return","thread_id":9160,"parent_id":2900318,"elapsed":0.0012689870200119913,"elapsed_instrumentation":8.573103696107864e-05},{"id":2900322,"event":"return","thread_id":9160,"parent_id":2900317,"elapsed":0.0013779749860987067,"elapsed_instrumentation":0.00011786096729338169},{"id":2900323,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14340500,"value":"#<Account:0x00007fc8e220c940>"}},{"id":2900324,"event":"return","thread_id":9160,"parent_id":2900323,"elapsed":1.8637976609170437e-05,"elapsed_instrumentation":0.0002842330140992999,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900325,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14340520,"value":"#<Account:0x00007fc8e220ba40>"}},{"id":2900326,"event":"return","thread_id":9160,"parent_id":2900325,"elapsed":8.15599923953414e-06,"elapsed_instrumentation":9.250792209059e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900327,"event":"return","thread_id":9160,"parent_id":2900304,"elapsed":0.009787446993868798,"elapsed_instrumentation":0.00014221901074051857,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2900328,"event":"call","thread_id":13276700,"defined_class":"RequestPool","method_id":"flush","path":"app/lib/request_pool.rb","lineno":114,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14340540,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14340560,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":13276720,"value":"#<RequestPool:0x00007fc937dbdb90>"}},{"id":2900329,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"flush","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":14340580,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14340600,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":13276740,"value":"#<ConnectionPool::SharedConnectionPool:0x00007fc93772a698>"}},{"id":2900330,"event":"call","thread_id":13276700,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"flush","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":51,"static":false,"parameters":[],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":13276780,"value":"#<ConnectionPool::SharedTimedStack:0x00007fc93772a5a8>"}},{"id":2900331,"event":"return","thread_id":13276700,"parent_id":2900330,"elapsed":6.082991603761911e-06,"elapsed_instrumentation":7.164600538089871e-05,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2900332,"event":"return","thread_id":13276700,"parent_id":2900329,"elapsed":9.689998114481568e-05,"elapsed_instrumentation":0.00014802999794483185,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2900333,"event":"return","thread_id":13276700,"parent_id":2900328,"elapsed":0.0002685380168259144,"elapsed_instrumentation":0.0004057280020788312,"return_value":{"class":"Array","value":"[]","object_id":13277080,"size":0}},{"id":2900334,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900335,"event":"return","thread_id":9160,"parent_id":2900334,"elapsed":0.001000977,"elapsed_instrumentation":7.431302219629288e-05},{"id":2900336,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14340640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900337,"event":"return","thread_id":9160,"parent_id":2900336,"elapsed":3.4139957278966904e-06,"elapsed_instrumentation":0.00012004398740828037,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2900338,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14340640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900339,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14340660,"value":"Cache delete: relationship:111361440228309449:111361440228309455\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900340,"event":"return","thread_id":9160,"parent_id":2900339,"elapsed":0.0005814930191263556,"elapsed_instrumentation":0.00011463899863883853,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900341,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14340680,"value":"Cache delete: relationship:111361440228309455:111361440228309449\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900342,"event":"return","thread_id":9160,"parent_id":2900341,"elapsed":0.0005184999899938703,"elapsed_instrumentation":0.00012185308150947094,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900343,"event":"return","thread_id":9160,"parent_id":2900338,"elapsed":0.00173621199792251,"elapsed_instrumentation":0.00010707596084102988,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2900344,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2900345,"event":"return","thread_id":9160,"parent_id":2900344,"elapsed":8.668983355164528e-06,"elapsed_instrumentation":8.282600902020931e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900346,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2900347,"event":"return","thread_id":9160,"parent_id":2900346,"elapsed":3.5460107028484344e-06,"elapsed_instrumentation":5.740596679970622e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900348,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14340700,"value":"#<Account:0x00007fc8e21fcd10>"}},{"id":2900349,"event":"return","thread_id":9160,"parent_id":2900348,"elapsed":1.0211020708084106e-05,"elapsed_instrumentation":5.455000791698694e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900350,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14340720,"value":"{args=>[111361440228309455, 111361440228309449], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14340740,"value":"#<Sidekiq::Client:0x00007fc8e2233d38>"}},{"id":2900351,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14340760,"value":"_M___,_8_S__"}},{"id":2900352,"event":"return","thread_id":9160,"parent_id":2900351,"elapsed":4.6219793148338795e-06,"elapsed_instrumentation":0.00010444404324516654,"return_value":{"class":"String","value":"e14db9afad2cf5388a53e4ad","object_id":14340780}},{"id":2900353,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14340800,"value":"[111361440228309455, 111361440228309449]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14340820,"value":"#<JSON::Ext::Generator::State:0x00007fc8e2231ad8>"}},{"id":2900354,"event":"return","thread_id":9160,"parent_id":2900353,"elapsed":1.1751020792871714e-05,"elapsed_instrumentation":0.0002830570447258651,"return_value":{"class":"String","value":"[111361440228309455,111361440228309449]","object_id":14340840}},{"id":2900355,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14340860,"value":"#<JSON::Ext::Parser:0x00007fc8e2230cc8>"}},{"id":2900356,"event":"return","thread_id":9160,"parent_id":2900355,"elapsed":5.567038897424936e-06,"elapsed_instrumentation":9.638501796871424e-05,"return_value":{"class":"Array","value":"[111361440228309455, 111361440228309449]","object_id":14340880,"size":2}},{"id":2900357,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14340900,"value":"\t<_C_____ss_"}},{"id":2900358,"event":"return","thread_id":9160,"parent_id":2900357,"elapsed":4.3209875002503395e-06,"elapsed_instrumentation":0.0002597370184957981,"return_value":{"class":"String","value":"093c9f4397e987c7f773738a","object_id":14340920}},{"id":2900359,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14340940,"value":"{retry=>true, queue=>pull, args=>[111361440228309455, 111361440228309449], class=>UnmergeWorker, jid=>e14db9afad2cf5388a53e4ad, created_at=>1699240727.267428, id=>093c9f4397e987c7f773738a}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14340960,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1f0f198>"}},{"id":2900360,"event":"return","thread_id":9160,"parent_id":2900359,"elapsed":1.4553021173924208e-05,"elapsed_instrumentation":0.00021271698642522097,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440228309455,111361440228309449],\"class\":\"UnmergeWorker\", (...96 more characters)","object_id":14340980}},{"id":2900361,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14341000,"value":"#<JSON::Ext::Parser:0x00007fc8e1f0d028>"}},{"id":2900362,"event":"return","thread_id":9160,"parent_id":2900361,"elapsed":1.953699393197894e-05,"elapsed_instrumentation":0.00016306701581925154,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440228309455, 111361440228309449], class=>UnmergeWorker, jid=>e14db9afad2cf5388a53e4ad, created_at=>1699240727.267428, id=>093c9f4397e987c7f773738a}","object_id":14341020,"size":7}},{"id":2900363,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880456618899,"value":"111361440228309449","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14341040,"value":"#<UnmergeWorker:0x00007fc8e1f0afd0>"}},{"id":2900364,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14341040,"value":"#<UnmergeWorker:0x00007fc8e1f0afd0>"}},{"id":2900365,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900366,"event":"return","thread_id":9160,"parent_id":2900365,"elapsed":0.000593473,"elapsed_instrumentation":8.109601913020015e-05},{"id":2900367,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900368,"event":"return","thread_id":9160,"parent_id":2900367,"elapsed":0.000825968,"elapsed_instrumentation":0.00011718703899532557},{"id":2900369,"event":"return","thread_id":9160,"parent_id":2900364,"elapsed":0.004137880983762443,"elapsed_instrumentation":0.00012238591443747282,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e22094c0>","object_id":14341060}},{"id":2900370,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14341040,"value":"#<UnmergeWorker:0x00007fc8e1f0afd0>"}},{"id":2900371,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14341080,"value":"#<Account:0x00007fc8e2209600>","kind":"req"},{"name":"into_account","class":"Account","object_id":14341060,"value":"#<Account:0x00007fc8e22094c0>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900372,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880456618899,"value":"111361440228309449","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900373,"event":"return","thread_id":9160,"parent_id":2900372,"elapsed":6.271002348512411e-06,"elapsed_instrumentation":0.00016274803783744574,"return_value":{"class":"String","value":"feed:home:111361440228309449","object_id":14341100}},{"id":2900374,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900375,"event":"return","thread_id":9160,"parent_id":2900374,"elapsed":4.702014848589897e-06,"elapsed_instrumentation":8.172099478542805e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2900376,"event":"return","thread_id":9160,"parent_id":2900371,"elapsed":0.003771068004425615,"elapsed_instrumentation":0.0003215120523236692},{"id":2900377,"event":"return","thread_id":9160,"parent_id":2900370,"elapsed":0.00427820801269263,"elapsed_instrumentation":9.371200576424599e-05},{"id":2900378,"event":"return","thread_id":9160,"parent_id":2900363,"elapsed":0.00868162396363914,"elapsed_instrumentation":7.785804336890578e-05},{"id":2900379,"event":"return","thread_id":9160,"parent_id":2900350,"elapsed":0.010664829984307289,"elapsed_instrumentation":0.00015476997941732407,"return_value":{"class":"String","value":"e14db9afad2cf5388a53e4ad","object_id":14340780}},{"id":2900380,"event":"return","thread_id":9160,"parent_id":2900289,"elapsed":0.030381382966879755,"elapsed_instrumentation":0.0001502570230513811,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e220d200>","object_id":14340620}},{"id":2900381,"event":"return","thread_id":9160,"parent_id":2900288,"elapsed":0.030555350007489324,"elapsed_instrumentation":7.79549591243267e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e220d200>","object_id":14340620}},{"id":2900382,"event":"return","thread_id":9160,"parent_id":2900287,"elapsed":0.03066393203334883,"elapsed_instrumentation":0.00014671898679807782,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e220d200>","object_id":14340620}},{"id":2900383,"event":"call","thread_id":9160,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":14341120,"value":"relationship:111361440228309450:111361440228309455","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"UnfollowService","object_id":14341140,"value":"#<UnfollowService:0x00007fc8e117a9b0>"}},{"id":2900384,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnfollowService","object_id":14341140,"value":"#<UnfollowService:0x00007fc8e117a9b0>"}},{"id":2900385,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":14341160,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":14341180,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900386,"event":"call","thread_id":9160,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":32420,"value":"RedisConfiguration"}},{"id":2900387,"event":"return","thread_id":9160,"parent_id":2900386,"elapsed":2.734013833105564e-06,"elapsed_instrumentation":9.51820402406156e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007fc934c381b0>","object_id":345020}},{"id":2900388,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":344180,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14341200,"value":"o___~_____W__\u0019no"}},{"id":2900389,"event":"return","thread_id":9160,"parent_id":2900388,"elapsed":6.595044396817684e-06,"elapsed_instrumentation":0.00014538195682689548,"return_value":{"class":"Array","value":"[1872815096, 32412, 38539, 56818, 22498, 3675876975]","object_id":14341220,"size":6}},{"id":2900390,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900391,"event":"return","thread_id":9160,"parent_id":2900390,"elapsed":0.000484623,"elapsed_instrumentation":8.847098797559738e-05},{"id":2900392,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14341240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900393,"event":"call","thread_id":9160,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900394,"event":"return","thread_id":9160,"parent_id":2900393,"elapsed":0.000295836,"elapsed_instrumentation":7.412000559270382e-05},{"id":2900395,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3","database_type":"postgres"}},{"id":2900396,"event":"return","thread_id":9160,"parent_id":2900395,"elapsed":0.000377973,"elapsed_instrumentation":6.404600571841002e-05},{"id":2900397,"event":"return","thread_id":9160,"parent_id":2900392,"elapsed":0.002317584992852062,"elapsed_instrumentation":0.00016741198487579823,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462440,"size":1}},{"id":2900398,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1","database_type":"postgres"}},{"id":2900399,"event":"return","thread_id":9160,"parent_id":2900398,"elapsed":0.000600223,"elapsed_instrumentation":7.60039547458291e-05},{"id":2900400,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14341240,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1462400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"}},{"id":2900401,"event":"call","thread_id":9160,"sql_query":{"sql":"DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2","database_type":"postgres"}},{"id":2900402,"event":"return","thread_id":9160,"parent_id":2900401,"elapsed":0.000479779,"elapsed_instrumentation":6.890797521919012e-05},{"id":2900403,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900404,"event":"return","thread_id":9160,"parent_id":2900403,"elapsed":0.000454489,"elapsed_instrumentation":6.915896665304899e-05},{"id":2900405,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":14341260,"value":"#<Account:0x00007fc8e2207bc0>"}},{"id":2900406,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19193628,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14341260,"value":"#<Account:0x00007fc8e2207bc0>"}},{"id":2900407,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361440228309450, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900408,"event":"return","thread_id":9160,"parent_id":2900407,"elapsed":0.000613437,"elapsed_instrumentation":6.701599340885878e-05},{"id":2900409,"event":"return","thread_id":9160,"parent_id":2900406,"elapsed":0.0013417699956335127,"elapsed_instrumentation":9.101605974137783e-05},{"id":2900410,"event":"return","thread_id":9160,"parent_id":2900405,"elapsed":0.0014602049486711621,"elapsed_instrumentation":0.00012146797962486744},{"id":2900411,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900412,"event":"return","thread_id":9160,"parent_id":2900411,"elapsed":0.000524932,"elapsed_instrumentation":7.080601062625647e-05},{"id":2900413,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"decrement_count!","path":"app/models/concerns/account_counters.rb","lineno":28,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":14341280,"value":"#<Account:0x00007fc8e2206cc0>"}},{"id":2900414,"event":"call","thread_id":9160,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17344988,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":-1,"value":"-1","kind":"req"}],"receiver":{"class":"Account","object_id":14341280,"value":"#<Account:0x00007fc8e2206cc0>"}},{"id":2900415,"event":"call","thread_id":9160,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361440228309455, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":2900416,"event":"return","thread_id":9160,"parent_id":2900415,"elapsed":0.000771683,"elapsed_instrumentation":7.064099190756679e-05},{"id":2900417,"event":"return","thread_id":9160,"parent_id":2900414,"elapsed":0.001255997980479151,"elapsed_instrumentation":8.437095675617456e-05},{"id":2900418,"event":"return","thread_id":9160,"parent_id":2900413,"elapsed":0.0013629710301756859,"elapsed_instrumentation":0.00011029595043510199},{"id":2900419,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14341260,"value":"#<Account:0x00007fc8e2207bc0>"}},{"id":2900420,"event":"return","thread_id":9160,"parent_id":2900419,"elapsed":7.42279808036983e-05,"elapsed_instrumentation":0.00010594999184831977,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900421,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14341280,"value":"#<Account:0x00007fc8e2206cc0>"}},{"id":2900422,"event":"return","thread_id":9160,"parent_id":2900421,"elapsed":6.277899956330657e-05,"elapsed_instrumentation":0.00014239799929782748,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900423,"event":"return","thread_id":9160,"parent_id":2900400,"elapsed":0.009672814980149269,"elapsed_instrumentation":0.00019581301603466272,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1462520,"size":3}},{"id":2900424,"event":"call","thread_id":9160,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":2900425,"event":"return","thread_id":9160,"parent_id":2900424,"elapsed":0.00032861,"elapsed_instrumentation":7.66890007071197e-05},{"id":2900426,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14341320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900427,"event":"return","thread_id":9160,"parent_id":2900426,"elapsed":3.637978807091713e-06,"elapsed_instrumentation":0.00011733203427866101,"return_value":{"class":"Array","value":"[]","object_id":1342560,"size":0}},{"id":2900428,"event":"call","thread_id":9160,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":14341320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":1342540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"}},{"id":2900429,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14341340,"value":"Cache delete: relationship:111361440228309450:111361440228309455\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900430,"event":"return","thread_id":9160,"parent_id":2900429,"elapsed":0.0005917229573242366,"elapsed_instrumentation":0.00011301803169772029,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900431,"event":"call","thread_id":9160,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":14341360,"value":"Cache delete: relationship:111361440228309455:111361440228309450\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":19780,"value":"#<Logger::LogDevice:0x00007fc942103e80>"}},{"id":2900432,"event":"return","thread_id":9160,"parent_id":2900431,"elapsed":0.00044202798744663596,"elapsed_instrumentation":0.00012814399087801576,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":2900433,"event":"return","thread_id":9160,"parent_id":2900428,"elapsed":0.0015549479867331684,"elapsed_instrumentation":0.00021636905148625374,"return_value":{"class":"Array","value":"[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":1342620,"size":1}},{"id":2900434,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2900435,"event":"return","thread_id":9160,"parent_id":2900434,"elapsed":8.63795867189765e-06,"elapsed_instrumentation":8.602102752774954e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900436,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14334720,"value":"#<Account:0x00007fc8e21ee9e0>"}},{"id":2900437,"event":"return","thread_id":9160,"parent_id":2900436,"elapsed":3.885012120008469e-06,"elapsed_instrumentation":5.773297743871808e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900438,"event":"call","thread_id":9160,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":14341380,"value":"#<Account:0x00007fc8e21fcbd0>"}},{"id":2900439,"event":"return","thread_id":9160,"parent_id":2900438,"elapsed":9.968993254005909e-06,"elapsed_instrumentation":5.554594099521637e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":2900440,"event":"call","thread_id":9160,"defined_class":"Sidekiq::Client","method_id":"push","path":"vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb","lineno":72,"static":false,"parameters":[{"name":"item","class":"Hash","object_id":14341400,"value":"{args=>[111361440228309455, 111361440228309450], class=>UnmergeWorker}","kind":"req","size":2}],"receiver":{"class":"Sidekiq::Client","object_id":14341420,"value":"#<Sidekiq::Client:0x00007fc8e1ee8de0>"}},{"id":2900441,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14341440,"value":"_\u000e_\t_g_EEc__"}},{"id":2900442,"event":"return","thread_id":9160,"parent_id":2900441,"elapsed":4.537985660135746e-06,"elapsed_instrumentation":0.00010892696445807815,"return_value":{"class":"String","value":"a00e8109dd67a2454563915f","object_id":14341460}},{"id":2900443,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":14341480,"value":"[111361440228309455, 111361440228309450]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14341500,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1ee60b8>"}},{"id":2900444,"event":"return","thread_id":9160,"parent_id":2900443,"elapsed":6.644986569881439e-06,"elapsed_instrumentation":0.00010020495392382145,"return_value":{"class":"String","value":"[111361440228309455,111361440228309450]","object_id":14341520}},{"id":2900445,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14341540,"value":"#<JSON::Ext::Parser:0x00007fc8e1ee5000>"}},{"id":2900446,"event":"return","thread_id":9160,"parent_id":2900445,"elapsed":5.5549899116158485e-06,"elapsed_instrumentation":9.047304047271609e-05,"return_value":{"class":"Array","value":"[111361440228309455, 111361440228309450]","object_id":14341560,"size":2}},{"id":2900447,"event":"call","thread_id":9160,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":319240,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":14341580,"value":"\u001d_____4_\u000e\u0004g\\"}},{"id":2900448,"event":"return","thread_id":9160,"parent_id":2900447,"elapsed":3.284949343651533e-06,"elapsed_instrumentation":9.585003135725856e-05,"return_value":{"class":"String","value":"1deb85de86a6348f0e04675c","object_id":14341600}},{"id":2900449,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":14341620,"value":"{retry=>true, queue=>pull, args=>[111361440228309455, 111361440228309450], class=>UnmergeWorker, jid=>a00e8109dd67a2454563915f, created_at=>1699240727.2993875, id=>1deb85de86a6348f0e04675c}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":14341640,"value":"#<JSON::Ext::Generator::State:0x00007fc8e1ee2ff8>"}},{"id":2900450,"event":"return","thread_id":9160,"parent_id":2900449,"elapsed":1.4071993064135313e-05,"elapsed_instrumentation":0.00017724302597343922,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"args\":[111361440228309455,111361440228309450],\"class\":\"UnmergeWorker\", (...97 more characters)","object_id":14341660}},{"id":2900451,"event":"call","thread_id":9160,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":14341680,"value":"#<JSON::Ext::Parser:0x00007fc8e1ee10e0>"}},{"id":2900452,"event":"return","thread_id":9160,"parent_id":2900451,"elapsed":2.006994327530265e-05,"elapsed_instrumentation":0.0004141030367463827,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, args=>[111361440228309455, 111361440228309450], class=>UnmergeWorker, jid=>a00e8109dd67a2454563915f, created_at=>1699240727.2993875, id=>1deb85de86a6348f0e04675c}","object_id":14341700,"size":7}},{"id":2900453,"event":"call","thread_id":9160,"defined_class":"UnmergeWorker","method_id":"perform","path":"app/workers/unmerge_worker.rb","lineno":9,"static":false,"parameters":[{"name":"from_account_id","class":"Integer","object_id":222722880456618911,"value":"111361440228309455","kind":"req"},{"name":"into_account_id","class":"Integer","object_id":222722880456618901,"value":"111361440228309450","kind":"req"}],"receiver":{"class":"UnmergeWorker","object_id":14341720,"value":"#<UnmergeWorker:0x00007fc8e1e9f258>"}},{"id":2900454,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_primary","path":"app/helpers/database_helper.rb","lineno":17,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14341720,"value":"#<UnmergeWorker:0x00007fc8e1e9f258>"}},{"id":2900455,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900456,"event":"return","thread_id":9160,"parent_id":2900455,"elapsed":0.000605869,"elapsed_instrumentation":7.479300256818533e-05},{"id":2900457,"event":"call","thread_id":9160,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":2900458,"event":"return","thread_id":9160,"parent_id":2900457,"elapsed":0.00052715,"elapsed_instrumentation":7.154996274039149e-05},{"id":2900459,"event":"return","thread_id":9160,"parent_id":2900454,"elapsed":0.003195741039235145,"elapsed_instrumentation":0.00019816600251942873,"return_value":{"class":"Account","value":"#<Account:0x00007fc8e2205640>","object_id":14341740}},{"id":2900460,"event":"call","thread_id":9160,"defined_class":"DatabaseHelper","method_id":"with_read_replica","path":"app/helpers/database_helper.rb","lineno":9,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"UnmergeWorker","object_id":14341720,"value":"#<UnmergeWorker:0x00007fc8e1e9f258>"}},{"id":2900461,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"unmerge_from_home","path":"app/lib/feed_manager.rb","lineno":161,"static":false,"parameters":[{"name":"from_account","class":"Account","object_id":14341760,"value":"#<Account:0x00007fc8e2205780>","kind":"req"},{"name":"into_account","class":"Account","object_id":14341740,"value":"#<Account:0x00007fc8e2205640>","kind":"req"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900462,"event":"call","thread_id":9160,"defined_class":"FeedManager","method_id":"key","path":"app/lib/feed_manager.rb","lineno":29,"static":false,"parameters":[{"name":"type","class":"Symbol","object_id":426588,"value":":home","kind":"req"},{"name":"id","class":"Integer","object_id":222722880456618901,"value":"111361440228309450","kind":"req"},{"name":"subtype","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900463,"event":"return","thread_id":9160,"parent_id":2900462,"elapsed":5.558016709983349e-06,"elapsed_instrumentation":0.00010115996701642871,"return_value":{"class":"String","value":"feed:home:111361440228309450","object_id":14341780}},{"id":2900464,"event":"call","thread_id":9160,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"FeedManager","object_id":496900,"value":"#<FeedManager:0x00007fc932f2fde8>"}},{"id":2900465,"event":"return","thread_id":9160,"parent_id":2900464,"elapsed":4.509987775236368e-06,"elapsed_instrumentation":7.191201439127326e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007fc934c37e90>","object_id":319760}},{"id":2900466,"event":"return","thread_id":9160,"parent_id":2900461,"elapsed":0.0031608989811502397,"elapsed_instrumentation":0.00010154204210266471},{"id":2900467,"event":"return","thread_id":9160,"parent_id":2900460,"elapsed":0.0032939239754341543,"elapsed_instrumentation":7.712299702689052e-05},{"id":2900468,"event":"return","thread_id":9160,"parent_id":2900453,"elapsed":0.00680810195626691,"elapsed_instrumentation":7.99530535005033e-05},{"id":2900469,"event":"return","thread_id":9160,"parent_id":2900440,"elapsed":0.008299419016111642,"elapsed_instrumentation":0.00015090801753103733,"return_value":{"class":"String","value":"a00e8109dd67a2454563915f","object_id":14341460}},{"id":2900470,"event":"return","thread_id":9160,"parent_id":2900385,"elapsed":0.02891332603758201,"elapsed_instrumentation":0.0001475889584980905,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e22085c0>","object_id":14341300}},{"id":2900471,"event":"return","thread_id":9160,"parent_id":2900384,"elapsed":0.0290843200054951,"elapsed_instrumentation":8.209806401282549e-05,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e22085c0>","object_id":14341300}},{"id":2900472,"event":"return","thread_id":9160,"parent_id":2900383,"elapsed":0.029201440047472715,"elapsed_instrumentation":0.00032889796420931816,"return_value":{"class":"Follow","value":"#<Follow:0x00007fc8e22085c0>","object_id":14341300}},{"id":2900473,"event":"return","thread_id":9160,"parent_id":2899540,"elapsed":0.302084825001657,"elapsed_instrumentation":0.0001636300003156066,"return_value":{"class":"IO","value":"#<IO:0x00007fc94b108f80>","object_id":195040}}]}