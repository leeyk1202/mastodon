= content_for :heading do
  = render 'application/mailer/heading', title: t("user_mailer.warning.title.#{@warning.action}"), image_url: full_pack_url('media/images/mailer-new/heading/warning.png')
%table.email-w-full{ cellspacing: 0, cellpadding: 0, border: 0, role: 'presentation' }
  %tr
    %td.email-body-padding-td
      %table.email-inner-card-table{ cellspacing: 0, cellpadding: 0, border: 0, role: 'presentation' }
        %tr
          %td.email-inner-card-td.email-prose
            - unless @warning.none_action?
              %p= t "user_mailer.warning.explanation.#{@warning.action}", instance: @instance

            - if @warning.text.present?
              = linkify(@warning.text)

            - if @warning.report && !@warning.report.other?
              %p
                %strong= t('user_mailer.warning.reason')
                = t("user_mailer.warning.categories.#{@warning.report.category}")

              - if @warning.report.violation? && @warning.report.rule_ids.present?
                %ul.rules-list
                  - @warning.report.rules.each do |rule|
                    %li= rule.text

            - unless @statuses.empty?
              %p
                %strong= t('user_mailer.warning.statuses')


            - unless @statuses.empty?
              - @statuses.each_with_index do |status, i|
                = render 'notification_mailer/status', status: status, i: i + 1, highlighted: true, time_zone: @resource.time_zone.presence

            %p= t 'user_mailer.warning.appeal_description', instance: @instance
            = render 'application/mailer/button', text: t('user_mailer.warning.appeal'), url: disputes_strike_url(@warning)
